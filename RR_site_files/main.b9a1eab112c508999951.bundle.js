(()=>{var mK=Object.defineProperty,_K=Object.defineProperties;var gK=Object.getOwnPropertyDescriptors;var Pd=Object.getOwnPropertySymbols;var mE=Object.prototype.hasOwnProperty,_E=Object.prototype.propertyIsEnumerable;var hE=(jo,Ko,Et)=>Ko in jo?mK(jo,Ko,{enumerable:!0,configurable:!0,writable:!0,value:Et}):jo[Ko]=Et,ur=(jo,Ko)=>{for(var Et in Ko||(Ko={}))mE.call(Ko,Et)&&hE(jo,Et,Ko[Et]);if(Pd)for(var Et of Pd(Ko))_E.call(Ko,Et)&&hE(jo,Et,Ko[Et]);return jo},Vo=(jo,Ko)=>_K(jo,gK(Ko));var hi=(jo,Ko)=>{var Et={};for(var sa in jo)mE.call(jo,sa)&&Ko.indexOf(sa)<0&&(Et[sa]=jo[sa]);if(jo!=null&&Pd)for(var sa of Pd(jo))Ko.indexOf(sa)<0&&_E.call(jo,sa)&&(Et[sa]=jo[sa]);return Et};var vK=(jo,Ko)=>()=>(Ko||jo((Ko={exports:{}}).exports,Ko),Ko.exports);var Mu=(jo,Ko,Et)=>new Promise((sa,z)=>{var u=f=>{try{o(Et.next(f))}catch(l){z(l)}},e=f=>{try{o(Et.throw(f))}catch(l){z(l)}},o=f=>f.done?sa(f.value):Promise.resolve(f.value).then(u,e);o((Et=Et.apply(jo,Ko)).next())});var bK=vK(ah=>{(function(){try{var jo=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Ko=new Error().stack;Ko&&(jo._sentryDebugIds=jo._sentryDebugIds||{},jo._sentryDebugIds[Ko]="d25570aa-4f4e-4a98-9636-f6798644ecba",jo._sentryDebugIdIdentifier="sentry-dbid-d25570aa-4f4e-4a98-9636-f6798644ecba")}catch(Et){}})();var yK=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};yK.SENTRY_RELEASE={id:"substack@4dc13af"};(()=>{var jo={28599:z=>{"use strict";const{AbortController:u,AbortSignal:e}=typeof self!="undefined"?self:typeof window!="undefined"?window:void 0;z.exports=u,z.exports.AbortSignal=e,z.exports.default=u},21924:(z,u,e)=>{"use strict";var o=e(40210),f=e(55559),l=f(o("String.prototype.indexOf"));z.exports=function(g,v){var E=o(g,!!v);return typeof E=="function"&&l(g,".prototype.")>-1?f(E):E}},55559:(z,u,e)=>{"use strict";var o=e(58612),f=e(40210),l=f("%Function.prototype.apply%"),c=f("%Function.prototype.call%"),g=f("%Reflect.apply%",!0)||o.call(c,l),v=f("%Object.getOwnPropertyDescriptor%",!0),E=f("%Object.defineProperty%",!0),y=f("%Math.max%");if(E)try{E({},"a",{value:1})}catch(O){E=null}z.exports=function(S){var x=g(o,c,arguments);if(v&&E){var T=v(x,"length");T.configurable&&E(x,"length",{value:1+y(0,S.length-(arguments.length-1))})}return x};var p=function(){return g(o,l,arguments)};E?E(z.exports,"apply",{value:p}):z.exports.apply=p},94184:(z,u)=>{var e,o;/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){"use strict";var f={}.hasOwnProperty;function l(){for(var c=[],g=0;g<arguments.length;g++){var v=arguments[g];if(v){var E=typeof v;if(E==="string"||E==="number")c.push(v);else if(Array.isArray(v)){if(v.length){var y=l.apply(null,v);y&&c.push(y)}}else if(E==="object")if(v.toString===Object.prototype.toString)for(var p in v)f.call(v,p)&&v[p]&&c.push(p);else c.push(v.toString())}}return c.join(" ")}z.exports?(l.default=l,z.exports=l):(e=[],o=function(){return l}.apply(u,e),o!==void 0&&(z.exports=o))})()},98767:z=>{z.exports=u;function u(o){if(o)return e(o)}function e(o){for(var f in u.prototype)o[f]=u.prototype[f];return o}u.prototype.on=u.prototype.addEventListener=function(o,f){return this._callbacks=this._callbacks||{},(this._callbacks["$"+o]=this._callbacks["$"+o]||[]).push(f),this},u.prototype.once=function(o,f){function l(){this.off(o,l),f.apply(this,arguments)}return l.fn=f,this.on(o,l),this},u.prototype.off=u.prototype.removeListener=u.prototype.removeAllListeners=u.prototype.removeEventListener=function(o,f){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var l=this._callbacks["$"+o];if(!l)return this;if(arguments.length==1)return delete this._callbacks["$"+o],this;for(var c,g=0;g<l.length;g++)if(c=l[g],c===f||c.fn===f){l.splice(g,1);break}return l.length===0&&delete this._callbacks["$"+o],this},u.prototype.emit=function(o){this._callbacks=this._callbacks||{};for(var f=new Array(arguments.length-1),l=this._callbacks["$"+o],c=1;c<arguments.length;c++)f[c-1]=arguments[c];if(l){l=l.slice(0);for(var c=0,g=l.length;c<g;++c)l[c].apply(this,f)}return this},u.prototype.listeners=function(o){return this._callbacks=this._callbacks||{},this._callbacks["$"+o]||[]},u.prototype.hasListeners=function(o){return!!this.listeners(o).length}},27484:function(z){(function(u,e){z.exports=e()})(this,function(){"use strict";var u="millisecond",e="second",o="minute",f="hour",l="day",c="week",g="month",v="quarter",E="year",y="date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,O=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,S={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},x=function(C,A,L){var U=String(C);return!U||U.length>=A?C:""+Array(A+1-U.length).join(L)+C},T={s:x,z:function(C){var A=-C.utcOffset(),L=Math.abs(A),U=Math.floor(L/60),W=L%60;return(A<=0?"+":"-")+x(U,2,"0")+":"+x(W,2,"0")},m:function C(A,L){if(A.date()<L.date())return-C(L,A);var U=12*(L.year()-A.year())+(L.month()-A.month()),W=A.clone().add(U,g),G=L-W<0,$=A.clone().add(U+(G?-1:1),g);return+(-(U+(L-W)/(G?W-$:$-W))||0)},a:function(C){return C<0?Math.ceil(C)||0:Math.floor(C)},p:function(C){return{M:g,y:E,w:c,d:l,D:y,h:f,m:o,s:e,ms:u,Q:v}[C]||String(C||"").toLowerCase().replace(/s$/,"")},u:function(C){return C===void 0}},_="en",d={};d[_]=S;var s=function(C){return C instanceof D},w=function(C,A,L){var U;if(!C)return _;if(typeof C=="string")d[C]&&(U=C),A&&(d[C]=A,U=C);else{var W=C.name;d[W]=C,U=W}return!L&&U&&(_=U),U||!L&&_},P=function(C,A){if(s(C))return C.clone();var L=typeof A=="object"?A:{};return L.date=C,L.args=arguments,new D(L)},I=T;I.l=w,I.i=s,I.w=function(C,A){return P(C,{locale:A.$L,utc:A.$u,x:A.$x,$offset:A.$offset})};var D=function(){function C(L){this.$L=w(L.locale,null,!0),this.parse(L)}var A=C.prototype;return A.parse=function(L){this.$d=function(U){var W=U.date,G=U.utc;if(W===null)return new Date(NaN);if(I.u(W))return new Date;if(W instanceof Date)return new Date(W);if(typeof W=="string"&&!/Z$/i.test(W)){var $=W.match(p);if($){var q=$[2]-1||0,J=($[7]||"0").substring(0,3);return G?new Date(Date.UTC($[1],q,$[3]||1,$[4]||0,$[5]||0,$[6]||0,J)):new Date($[1],q,$[3]||1,$[4]||0,$[5]||0,$[6]||0,J)}}return new Date(W)}(L),this.$x=L.x||{},this.init()},A.init=function(){var L=this.$d;this.$y=L.getFullYear(),this.$M=L.getMonth(),this.$D=L.getDate(),this.$W=L.getDay(),this.$H=L.getHours(),this.$m=L.getMinutes(),this.$s=L.getSeconds(),this.$ms=L.getMilliseconds()},A.$utils=function(){return I},A.isValid=function(){return this.$d.toString()!=="Invalid Date"},A.isSame=function(L,U){var W=P(L);return this.startOf(U)<=W&&W<=this.endOf(U)},A.isAfter=function(L,U){return P(L)<this.startOf(U)},A.isBefore=function(L,U){return this.endOf(U)<P(L)},A.$g=function(L,U,W){return I.u(L)?this[U]:this.set(W,L)},A.unix=function(){return Math.floor(this.valueOf()/1e3)},A.valueOf=function(){return this.$d.getTime()},A.startOf=function(L,U){var W=this,G=!!I.u(U)||U,$=I.p(L),q=function(oe,te){var Z=I.w(W.$u?Date.UTC(W.$y,te,oe):new Date(W.$y,te,oe),W);return G?Z:Z.endOf(l)},J=function(oe,te){return I.w(W.toDate()[oe].apply(W.toDate("s"),(G?[0,0,0,0]:[23,59,59,999]).slice(te)),W)},R=this.$W,j=this.$M,ie=this.$D,le="set"+(this.$u?"UTC":"");switch($){case E:return G?q(1,0):q(31,11);case g:return G?q(1,j):q(0,j+1);case c:var ye=this.$locale().weekStart||0,ue=(R<ye?R+7:R)-ye;return q(G?ie-ue:ie+(6-ue),j);case l:case y:return J(le+"Hours",0);case f:return J(le+"Minutes",1);case o:return J(le+"Seconds",2);case e:return J(le+"Milliseconds",3);default:return this.clone()}},A.endOf=function(L){return this.startOf(L,!1)},A.$set=function(L,U){var W,G=I.p(L),$="set"+(this.$u?"UTC":""),q=(W={},W[l]=$+"Date",W[y]=$+"Date",W[g]=$+"Month",W[E]=$+"FullYear",W[f]=$+"Hours",W[o]=$+"Minutes",W[e]=$+"Seconds",W[u]=$+"Milliseconds",W)[G],J=G===l?this.$D+(U-this.$W):U;if(G===g||G===E){var R=this.clone().set(y,1);R.$d[q](J),R.init(),this.$d=R.set(y,Math.min(this.$D,R.daysInMonth())).$d}else q&&this.$d[q](J);return this.init(),this},A.set=function(L,U){return this.clone().$set(L,U)},A.get=function(L){return this[I.p(L)]()},A.add=function(L,U){var W,G=this;L=Number(L);var $=I.p(U),q=function(j){var ie=P(G);return I.w(ie.date(ie.date()+Math.round(j*L)),G)};if($===g)return this.set(g,this.$M+L);if($===E)return this.set(E,this.$y+L);if($===l)return q(1);if($===c)return q(7);var J=(W={},W[o]=6e4,W[f]=36e5,W[e]=1e3,W)[$]||1,R=this.$d.getTime()+L*J;return I.w(R,this)},A.subtract=function(L,U){return this.add(-1*L,U)},A.format=function(L){var U=this;if(!this.isValid())return"Invalid Date";var W=L||"YYYY-MM-DDTHH:mm:ssZ",G=I.z(this),$=this.$locale(),q=this.$H,J=this.$m,R=this.$M,j=$.weekdays,ie=$.months,le=function(te,Z,re,ae){return te&&(te[Z]||te(U,W))||re[Z].substr(0,ae)},ye=function(te){return I.s(q%12||12,te,"0")},ue=$.meridiem||function(te,Z,re){var ae=te<12?"AM":"PM";return re?ae.toLowerCase():ae},oe={YY:String(this.$y).slice(-2),YYYY:this.$y,M:R+1,MM:I.s(R+1,2,"0"),MMM:le($.monthsShort,R,ie,3),MMMM:le(ie,R),D:this.$D,DD:I.s(this.$D,2,"0"),d:String(this.$W),dd:le($.weekdaysMin,this.$W,j,2),ddd:le($.weekdaysShort,this.$W,j,3),dddd:j[this.$W],H:String(q),HH:I.s(q,2,"0"),h:ye(1),hh:ye(2),a:ue(q,J,!0),A:ue(q,J,!1),m:String(J),mm:I.s(J,2,"0"),s:String(this.$s),ss:I.s(this.$s,2,"0"),SSS:I.s(this.$ms,3,"0"),Z:G};return W.replace(O,function(te,Z){return Z||oe[te]||G.replace(":","")})},A.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},A.diff=function(L,U,W){var G,$=I.p(U),q=P(L),J=6e4*(q.utcOffset()-this.utcOffset()),R=this-q,j=I.m(this,q);return j=(G={},G[E]=j/12,G[g]=j,G[v]=j/3,G[c]=(R-J)/6048e5,G[l]=(R-J)/864e5,G[f]=R/36e5,G[o]=R/6e4,G[e]=R/1e3,G)[$]||R,W?j:I.a(j)},A.daysInMonth=function(){return this.endOf(g).$D},A.$locale=function(){return d[this.$L]},A.locale=function(L,U){if(!L)return this.$L;var W=this.clone(),G=w(L,U,!0);return G&&(W.$L=G),W},A.clone=function(){return I.w(this.$d,this)},A.toDate=function(){return new Date(this.valueOf())},A.toJSON=function(){return this.isValid()?this.toISOString():null},A.toISOString=function(){return this.$d.toISOString()},A.toString=function(){return this.$d.toUTCString()},C}(),N=D.prototype;return P.prototype=N,[["$ms",u],["$s",e],["$m",o],["$H",f],["$W",l],["$M",g],["$y",E],["$D",y]].forEach(function(C){N[C[1]]=function(A){return this.$g(A,C[0],C[1])}}),P.extend=function(C,A){return C.$i||(C(A,D,P),C.$i=!0),P},P.locale=w,P.isDayjs=s,P.unix=function(C){return P(1e3*C)},P.en=d[_],P.Ls=d,P.p={},P})},80790:function(z,u,e){(function(o,f){z.exports=f(e(27484))})(this,function(o){"use strict";o=o&&o.hasOwnProperty("default")?o.default:o;var f={s:"ein paar Sekunden",m:["eine Minute","einer Minute"],mm:"%d Minuten",h:["eine Stunde","einer Stunde"],hh:"%d Stunden",d:["ein Tag","einem Tag"],dd:["%d Tage","%d Tagen"],M:["ein Monat","einem Monat"],MM:["%d Monate","%d Monaten"],y:["ein Jahr","einem Jahr"],yy:["%d Jahre","%d Jahren"]};function l(g,v,E){var y=f[E];return Array.isArray(y)&&(y=y[v?0:1]),y.replace("%d",g)}var c={name:"de",weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),months:"Januar_Februar_M\xE4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan_Feb_M\xE4rz_Apr_Mai_Juni_Juli_Aug_Sept_Okt_Nov_Dez".split("_"),ordinal:function(g){return g+"."},weekStart:1,yearStart:4,formats:{LTS:"HH:mm:ss",LT:"HH:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},relativeTime:{future:"in %s",past:"vor %s",s:l,m:l,mm:l,h:l,hh:l,d:l,dd:l,M:l,MM:l,y:l,yy:l}};return o.locale(c,null,!0),c})},28734:function(z){(function(u,e){z.exports=e()})(this,function(){"use strict";return function(u,e,o){var f=e.prototype,l=f.format;o.en.ordinal=function(c){var g=["th","st","nd","rd"],v=c%100;return"["+c+(g[(v-20)%10]||g[v]||g[0])+"]"},f.format=function(c){var g=this,v=this.$locale(),E=this.$utils(),y=(c||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(p){switch(p){case"Q":return Math.ceil((g.$M+1)/3);case"Do":return v.ordinal(g.$D);case"gggg":return g.weekYear();case"GGGG":return g.isoWeekYear();case"wo":return v.ordinal(g.week(),"W");case"w":case"ww":return E.s(g.week(),p==="w"?1:2,"0");case"W":case"WW":return E.s(g.isoWeek(),p==="W"?1:2,"0");case"k":case"kk":return E.s(String(g.$H===0?24:g.$H),p==="k"?1:2,"0");case"X":return Math.floor(g.$d.getTime()/1e3);case"x":return g.$d.getTime();case"z":return"["+g.offsetName()+"]";case"zzz":return"["+g.offsetName("long")+"]";default:return p}});return l.bind(this)(y)}}})},90850:function(z){(function(u,e){z.exports=e()})(this,function(){"use strict";return function(u,e,o){var f=e.prototype,l=f.parse;f.parse=function(c){c.date=function(g){var v=g.date,E=g.utc;return Array.isArray(v)?E?v.length?new Date(Date.UTC.apply(null,v)):new Date:v.length===1?o(String(v[0])).toDate():new(Function.prototype.bind.apply(Date,[null].concat(v))):v}.bind(this)(c),l.bind(this)(c)}}})},94712:function(z){(function(u,e){z.exports=e()})(this,function(){"use strict";return function(u,e,o){var f="h:mm A",l={lastDay:"[Yesterday at] "+f,sameDay:"[Today at] "+f,nextDay:"[Tomorrow at] "+f,nextWeek:"dddd [at] "+f,lastWeek:"[Last] dddd [at] "+f,sameElse:"MM/DD/YYYY"};e.prototype.calendar=function(c,g){var v=g||this.$locale().calendar||l,E=o(c||void 0).startOf("d"),y=this.diff(E,"d",!0),p=y<-6?"sameElse":y<-1?"lastWeek":y<0?"lastDay":y<1?"sameDay":y<2?"nextDay":y<7?"nextWeek":"sameElse",O=v[p]||l[p];return typeof O=="function"?O.call(this,o()):this.format(O)}}})},10285:function(z){(function(u,e){z.exports=e()})(this,function(){"use strict";var u={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},e=function(x,T){return x.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(_,d,s){var w=s&&s.toUpperCase();return d||T[s]||u[s]||T[w].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(P,I,D){return I||D.slice(1)})})},o=/(\[[^[]*\])|([-:/.()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,f=/\d\d/,l=/\d\d?/,c=/\d*[^\s\d-_:/()]+/,g={},v=function(x){return function(T){this[x]=+T}},E=[/[+-]\d\d:?(\d\d)?/,function(x){(this.zone||(this.zone={})).offset=function(T){if(!T)return 0;var _=T.match(/([+-]|\d\d)/g),d=60*_[1]+(+_[2]||0);return d===0?0:_[0]==="+"?-d:d}(x)}],y=function(x){var T=g[x];return T&&(T.indexOf?T:T.s.concat(T.f))},p=function(x,T){var _,d=g.meridiem;if(d){for(var s=1;s<=24;s+=1)if(x.indexOf(d(s,0,T))>-1){_=s>12;break}}else _=x===(T?"pm":"PM");return _},O={A:[c,function(x){this.afternoon=p(x,!1)}],a:[c,function(x){this.afternoon=p(x,!0)}],S:[/\d/,function(x){this.milliseconds=100*+x}],SS:[f,function(x){this.milliseconds=10*+x}],SSS:[/\d{3}/,function(x){this.milliseconds=+x}],s:[l,v("seconds")],ss:[l,v("seconds")],m:[l,v("minutes")],mm:[l,v("minutes")],H:[l,v("hours")],h:[l,v("hours")],HH:[l,v("hours")],hh:[l,v("hours")],D:[l,v("day")],DD:[f,v("day")],Do:[c,function(x){var T=g.ordinal,_=x.match(/\d+/);if(this.day=_[0],T)for(var d=1;d<=31;d+=1)T(d).replace(/\[|\]/g,"")===x&&(this.day=d)}],M:[l,v("month")],MM:[f,v("month")],MMM:[c,function(x){var T=y("months"),_=(y("monthsShort")||T.map(function(d){return d.substr(0,3)})).indexOf(x)+1;if(_<1)throw new Error;this.month=_%12||_}],MMMM:[c,function(x){var T=y("months").indexOf(x)+1;if(T<1)throw new Error;this.month=T%12||T}],Y:[/[+-]?\d+/,v("year")],YY:[f,function(x){x=+x,this.year=x+(x>68?1900:2e3)}],YYYY:[/\d{4}/,v("year")],Z:E,ZZ:E},S=function(x,T,_){try{var d=function(j){for(var ie=(j=e(j,g&&g.formats)).match(o),le=ie.length,ye=0;ye<le;ye+=1){var ue=ie[ye],oe=O[ue],te=oe&&oe[0],Z=oe&&oe[1];ie[ye]=Z?{regex:te,parser:Z}:ue.replace(/^\[|\]$/g,"")}return function(re){for(var ae={},se=0,be=0;se<le;se+=1){var _e=ie[se];if(typeof _e=="string")be+=_e.length;else{var pe=_e.regex,me=_e.parser,Te=re.substr(be),ve=pe.exec(Te)[0];me.call(ae,ve),re=re.replace(ve,"")}}return function(ce){var Le=ce.afternoon;if(Le!==void 0){var Ne=ce.hours;Le?Ne<12&&(ce.hours+=12):Ne===12&&(ce.hours=0),delete ce.afternoon}}(ae),ae}}(T)(x),s=d.year,w=d.month,P=d.day,I=d.hours,D=d.minutes,N=d.seconds,C=d.milliseconds,A=d.zone,L=new Date,U=P||(s||w?1:L.getDate()),W=s||L.getFullYear(),G=0;s&&!w||(G=w>0?w-1:L.getMonth());var $=I||0,q=D||0,J=N||0,R=C||0;return A?new Date(Date.UTC(W,G,U,$,q,J,R+60*A.offset*1e3)):_?new Date(Date.UTC(W,G,U,$,q,J,R)):new Date(W,G,U,$,q,J,R)}catch(j){return new Date("")}};return function(x,T,_){_.p.customParseFormat=!0;var d=T.prototype,s=d.parse;d.parse=function(w){var P=w.date,I=w.utc,D=w.args;this.$u=I;var N=D[1];if(typeof N=="string"){var C=D[2]===!0,A=D[3]===!0,L=C||A,U=D[2];A&&(U=D[2]),g=this.$locale(),!C&&U&&(g=_.Ls[U]),this.$d=S(P,N,I),this.init(),U&&U!==!0&&(this.$L=this.locale(U).$L),L&&P!==this.format(N)&&(this.$d=new Date("")),g={}}else if(N instanceof Array)for(var W=N.length,G=1;G<=W;G+=1){D[1]=N[G-1];var $=_.apply(this,D);if($.isValid()){this.$d=$.$d,this.$L=$.$L,this.init();break}G===W&&(this.$d=new Date(""))}else s.call(this,w)}}})},92997:function(z){(function(u,e){z.exports=e()})(this,function(){"use strict";return function(u,e){e.prototype.dayOfYear=function(o){var f=Math.round((this.startOf("day")-this.startOf("year"))/864e5)+1;return o==null?f:this.add(o-f,"day")}}})},1646:function(z){(function(u,e){z.exports=e()})(this,function(){"use strict";var u,e,o=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,l={years:31536e6,months:2592e6,days:864e5,hours:36e5,minutes:6e4,seconds:1e3,milliseconds:1,weeks:6048e5},c=function(S){return S instanceof O},g=function(S,x,T){return new O(S,T,x.$l)},v=function(S){return e.p(S)+"s"},E=function(S){return S<0},y=function(S){return E(S)?Math.ceil(S):Math.floor(S)},p=function(S,x){return S?E(S)?{negative:!0,format:""+function(T){return Math.abs(T)}(S)+x}:{negative:!1,format:""+S+x}:{negative:!1,format:""}},O=function(){function S(T,_,d){var s=this;if(this.$d={},this.$l=d,_)return g(T*l[v(_)],this);if(typeof T=="number")return this.$ms=T,this.parseFromMilliseconds(),this;if(typeof T=="object")return Object.keys(T).forEach(function(P){s.$d[v(P)]=T[P]}),this.calMilliseconds(),this;if(typeof T=="string"){var w=T.match(f);if(w)return this.$d.years=w[2],this.$d.months=w[3],this.$d.weeks=w[4],this.$d.days=w[5],this.$d.hours=w[6],this.$d.minutes=w[7],this.$d.seconds=w[8],this.calMilliseconds(),this}return this}var x=S.prototype;return x.calMilliseconds=function(){var T=this;this.$ms=Object.keys(this.$d).reduce(function(_,d){return _+(T.$d[d]||0)*l[d]},0)},x.parseFromMilliseconds=function(){var T=this.$ms;this.$d.years=y(T/31536e6),T%=31536e6,this.$d.months=y(T/2592e6),T%=2592e6,this.$d.days=y(T/864e5),T%=864e5,this.$d.hours=y(T/36e5),T%=36e5,this.$d.minutes=y(T/6e4),T%=6e4,this.$d.seconds=y(T/1e3),T%=1e3,this.$d.milliseconds=T},x.toISOString=function(){var T=p(this.$d.years,"Y"),_=p(this.$d.months,"M"),d=+this.$d.days||0;this.$d.weeks&&(d+=7*this.$d.weeks);var s=p(d,"D"),w=p(this.$d.hours,"H"),P=p(this.$d.minutes,"M"),I=this.$d.seconds||0;this.$d.milliseconds&&(I+=this.$d.milliseconds/1e3);var D=p(I,"S"),N=T.negative||_.negative||s.negative||w.negative||P.negative||D.negative,C=w.format||P.format||D.format?"T":"",A=(N?"-":"")+"P"+T.format+_.format+s.format+C+w.format+P.format+D.format;return A==="P"||A==="-P"?"P0D":A},x.toJSON=function(){return this.toISOString()},x.format=function(T){var _=T||"YYYY-MM-DDTHH:mm:ss",d={Y:this.$d.years,YY:e.s(this.$d.years,2,"0"),YYYY:e.s(this.$d.years,4,"0"),M:this.$d.months,MM:e.s(this.$d.months,2,"0"),D:this.$d.days,DD:e.s(this.$d.days,2,"0"),H:this.$d.hours,HH:e.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:e.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:e.s(this.$d.seconds,2,"0"),SSS:e.s(this.$d.milliseconds,3,"0")};return _.replace(o,function(s,w){return w||String(d[s])})},x.as=function(T){return this.$ms/l[v(T)]},x.get=function(T){var _=this.$ms,d=v(T);return d==="milliseconds"?_%=1e3:_=d==="weeks"?y(_/l[d]):this.$d[d],_===0?0:_},x.add=function(T,_,d){var s;return s=_?T*l[v(_)]:c(T)?T.$ms:g(T,this).$ms,g(this.$ms+s*(d?-1:1),this)},x.subtract=function(T,_){return this.add(T,_,!0)},x.locale=function(T){var _=this.clone();return _.$l=T,_},x.clone=function(){return g(this.$ms,this)},x.humanize=function(T){return u().add(this.$ms,"ms").locale(this.$l).fromNow(!T)},x.milliseconds=function(){return this.get("milliseconds")},x.asMilliseconds=function(){return this.as("milliseconds")},x.seconds=function(){return this.get("seconds")},x.asSeconds=function(){return this.as("seconds")},x.minutes=function(){return this.get("minutes")},x.asMinutes=function(){return this.as("minutes")},x.hours=function(){return this.get("hours")},x.asHours=function(){return this.as("hours")},x.days=function(){return this.get("days")},x.asDays=function(){return this.as("days")},x.weeks=function(){return this.get("weeks")},x.asWeeks=function(){return this.as("weeks")},x.months=function(){return this.get("months")},x.asMonths=function(){return this.as("months")},x.years=function(){return this.get("years")},x.asYears=function(){return this.as("years")},S}();return function(S,x,T){u=T,e=T().$utils(),T.duration=function(s,w){var P=T.locale();return g(s,{$l:P},w)},T.isDuration=c;var _=x.prototype.add,d=x.prototype.subtract;x.prototype.add=function(s,w){return c(s)&&(s=s.asMilliseconds()),_.bind(this)(s,w)},x.prototype.subtract=function(s,w){return c(s)&&(s=s.asMilliseconds()),d.bind(this)(s,w)}}})},66607:function(z){(function(u,e){z.exports=e()})(this,function(){"use strict";return function(u,e,o){e.prototype.isBetween=function(f,l,c,g){var v=o(f),E=o(l),y=(g=g||"()")[0]==="(",p=g[1]===")";return(y?this.isAfter(v,c):!this.isBefore(v,c))&&(p?this.isBefore(E,c):!this.isAfter(E,c))||(y?this.isBefore(v,c):!this.isAfter(v,c))&&(p?this.isAfter(E,c):!this.isBefore(E,c))}}})},10423:function(z){(function(u,e){z.exports=e()})(this,function(){"use strict";return function(u,e){e.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}})},79212:function(z){(function(u,e){z.exports=e()})(this,function(){"use strict";return function(u,e){e.prototype.isSameOrAfter=function(o,f){return this.isSame(o,f)||this.isAfter(o,f)}}})},37412:function(z){(function(u,e){z.exports=e()})(this,function(){"use strict";return function(u,e){e.prototype.isSameOrBefore=function(o,f){return this.isSame(o,f)||this.isBefore(o,f)}}})},96671:function(z){(function(u,e){z.exports=e()})(this,function(){"use strict";var u="month",e="quarter";return function(o,f){var l=f.prototype;l.quarter=function(v){return this.$utils().u(v)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(v-1))};var c=l.add;l.add=function(v,E){return v=Number(v),this.$utils().p(E)===e?this.add(3*v,u):c.bind(this)(v,E)};var g=l.startOf;l.startOf=function(v,E){var y=this.$utils(),p=!!y.u(E)||E;if(y.p(v)===e){var O=this.quarter()-1;return p?this.month(3*O).startOf(u).startOf("day"):this.month(3*O+2).endOf(u).endOf("day")}return g.bind(this)(v,E)}}})},84110:function(z){(function(u,e){z.exports=e()})(this,function(){"use strict";return function(u,e,o){u=u||{};var f=e.prototype,l={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function c(v,E,y,p){return f.fromToBase(v,E,y,p)}o.en.relativeTime=l,f.fromToBase=function(v,E,y,p,O){for(var S,x,T,_=y.$locale().relativeTime||l,d=u.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],s=d.length,w=0;w<s;w+=1){var P=d[w];P.d&&(S=p?o(v).diff(y,P.d,!0):y.diff(v,P.d,!0));var I=(u.rounding||Math.round)(Math.abs(S));if(T=S>0,I<=P.r||!P.r){I<=1&&w>0&&(P=d[w-1]);var D=_[P.l];O&&(I=O(""+I)),x=typeof D=="string"?D.replace("%d",I):D(I,E,P.l,T);break}}if(E)return x;var N=T?_.future:_.past;return typeof N=="function"?N(x):N.replace("%s",x)},f.to=function(v,E){return c(v,E,this,!0)},f.from=function(v,E){return c(v,E,this)};var g=function(v){return v.$u?o.utc():o()};f.toNow=function(v){return this.to(g(this),v)},f.fromNow=function(v){return this.from(g(this),v)}}})},29387:function(z){(function(u,e){z.exports=e()})(this,function(){"use strict";var u={year:0,month:1,day:2,hour:3,minute:4,second:5},e={};return function(o,f,l){var c,g=l().utcOffset(),v=function(O,S,x){x===void 0&&(x={});var T=new Date(O);return function(_,d){d===void 0&&(d={});var s=d.timeZoneName||"short",w=_+"|"+s,P=e[w];return P||(P=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:_,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:s}),e[w]=P),P}(S,x).formatToParts(T)},E=function(O,S){for(var x=v(O,S),T=[],_=0;_<x.length;_+=1){var d=x[_],s=d.type,w=d.value,P=u[s];P>=0&&(T[P]=parseInt(w,10))}var I=T[3],D=I===24?0:I,N=T[0]+"-"+T[1]+"-"+T[2]+" "+D+":"+T[4]+":"+T[5]+":000",C=+O;return(l.utc(N).valueOf()-(C-=C%1e3))/6e4},y=f.prototype;y.tz=function(O,S){O===void 0&&(O=c);var x=this.utcOffset(),T=this.toDate().toLocaleString("en-US",{timeZone:O}),_=Math.round((this.toDate()-new Date(T))/1e3/60),d=l(T).$set("millisecond",this.$ms).utcOffset(g-_,!0);if(S){var s=d.utcOffset();d=d.add(x-s,"minute")}return d.$x.$timezone=O,d},y.offsetName=function(O){var S=this.$x.$timezone||l.tz.guess(),x=v(this.valueOf(),S,{timeZoneName:O}).find(function(T){return T.type.toLowerCase()==="timezonename"});return x&&x.value};var p=y.startOf;y.startOf=function(O,S){if(!this.$x||!this.$x.$timezone)return p.call(this,O,S);var x=l(this.format("YYYY-MM-DD HH:mm:ss:SSS"));return p.call(x,O,S).tz(this.$x.$timezone,!0)},l.tz=function(O,S,x){var T=x&&S,_=x||S||c,d=E(+l(),_);if(typeof O!="string")return l(O).tz(_);var s=function(D,N,C){var A=D-60*N*1e3,L=E(A,C);if(N===L)return[A,N];var U=E(A-=60*(L-N)*1e3,C);return L===U?[A,L]:[D-60*Math.min(L,U)*1e3,Math.max(L,U)]}(l.utc(O,T).valueOf(),d,_),w=s[0],P=s[1],I=l(w).utcOffset(P);return I.$x.$timezone=_,I},l.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},l.tz.setDefault=function(O){c=O}}})},70178:function(z){(function(u,e){z.exports=e()})(this,function(){"use strict";return function(u,e,o){var f=e.prototype;o.utc=function(p){return new e({date:p,utc:!0,args:arguments})},f.utc=function(p){var O=o(this.toDate(),{locale:this.$L,utc:!0});return p?O.add(this.utcOffset(),"minute"):O},f.local=function(){return o(this.toDate(),{locale:this.$L,utc:!1})};var l=f.parse;f.parse=function(p){p.utc&&(this.$u=!0),this.$utils().u(p.$offset)||(this.$offset=p.$offset),l.call(this,p)};var c=f.init;f.init=function(){if(this.$u){var p=this.$d;this.$y=p.getUTCFullYear(),this.$M=p.getUTCMonth(),this.$D=p.getUTCDate(),this.$W=p.getUTCDay(),this.$H=p.getUTCHours(),this.$m=p.getUTCMinutes(),this.$s=p.getUTCSeconds(),this.$ms=p.getUTCMilliseconds()}else c.call(this)};var g=f.utcOffset;f.utcOffset=function(p,O){var S=this.$utils().u;if(S(p))return this.$u?0:S(this.$offset)?g.call(this):this.$offset;var x=Math.abs(p)<=16?60*p:p,T=this;if(O)return T.$offset=x,T.$u=p===0,T;if(p!==0){var _=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(T=this.local().add(x+_,"minute")).$offset=x,T.$x.$localOffset=_}else T=this.utc();return T};var v=f.format;f.format=function(p){var O=p||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return v.call(this,O)},f.valueOf=function(){var p=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||new Date().getTimezoneOffset());return this.$d.valueOf()-6e4*p},f.isUTC=function(){return!!this.$u},f.toISOString=function(){return this.toDate().toISOString()},f.toString=function(){return this.toDate().toUTCString()};var E=f.toDate;f.toDate=function(p){return p==="s"&&this.$offset?o(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():E.call(this)};var y=f.diff;f.diff=function(p,O,S){if(p&&this.$u===p.$u)return y.call(this,p,O,S);var x=this.local(),T=o(p).local();return y.call(x,T,O,S)}}})},55183:function(z){(function(u,e){z.exports=e()})(this,function(){"use strict";var u="week",e="year";return function(o,f,l){var c=f.prototype;c.week=function(g){if(g===void 0&&(g=null),g!==null)return this.add(7*(g-this.week()),"day");var v=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var E=l(this).startOf(e).add(1,e).date(v),y=l(this).endOf(u);if(E.isBefore(y))return 1}var p=l(this).startOf(e).date(v).startOf(u).subtract(1,"millisecond"),O=this.diff(p,u,!0);return O<0?l(this).startOf("week").week():Math.ceil(O)},c.weeks=function(g){return g===void 0&&(g=null),this.week(g)}}})},6833:function(z){(function(u,e){z.exports=e()})(this,function(){"use strict";return function(u,e){e.prototype.weekday=function(o){var f=this.$locale().weekStart||0,l=this.$W,c=(l<f?l+7:l)-f;return this.$utils().u(o)?c:this.subtract(c,"day").add(o,"day")}}})},10251:(z,u,e)=>{var o=Array.prototype.slice,f=e(41705),l=e(45539),c=z.exports=function(y,p,O){return O||(O={}),y===p?!0:y instanceof Date&&p instanceof Date?y.getTime()===p.getTime():!y||!p||typeof y!="object"&&typeof p!="object"?O.strict?y===p:y==p:E(y,p,O)};function g(y){return y==null}function v(y){return!(!y||typeof y!="object"||typeof y.length!="number"||typeof y.copy!="function"||typeof y.slice!="function"||y.length>0&&typeof y[0]!="number")}function E(y,p,O){var S,x;if(g(y)||g(p)||y.prototype!==p.prototype)return!1;if(l(y))return l(p)?(y=o.call(y),p=o.call(p),c(y,p,O)):!1;if(v(y)){if(!v(p)||y.length!==p.length)return!1;for(S=0;S<y.length;S++)if(y[S]!==p[S])return!1;return!0}try{var T=f(y),_=f(p)}catch(d){return!1}if(T.length!=_.length)return!1;for(T.sort(),_.sort(),S=T.length-1;S>=0;S--)if(T[S]!=_[S])return!1;for(S=T.length-1;S>=0;S--)if(x=T[S],!c(y[x],p[x],O))return!1;return typeof y==typeof p}},45539:(z,u)=>{var e=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";u=z.exports=e?o:f,u.supported=o;function o(l){return Object.prototype.toString.call(l)=="[object Arguments]"}u.unsupported=f;function f(l){return l&&typeof l=="object"&&typeof l.length=="number"&&Object.prototype.hasOwnProperty.call(l,"callee")&&!Object.prototype.propertyIsEnumerable.call(l,"callee")||!1}},41705:(z,u)=>{u=z.exports=typeof Object.keys=="function"?Object.keys:e,u.shim=e;function e(o){var f=[];for(var l in o)f.push(l);return f}},9996:z=>{"use strict";var u=function(w){return e(w)&&!o(w)};function e(s){return!!s&&typeof s=="object"}function o(s){var w=Object.prototype.toString.call(s);return w==="[object RegExp]"||w==="[object Date]"||c(s)}var f=typeof Symbol=="function"&&Symbol.for,l=f?Symbol.for("react.element"):60103;function c(s){return s.$$typeof===l}function g(s){return Array.isArray(s)?[]:{}}function v(s,w){return w.clone!==!1&&w.isMergeableObject(s)?_(g(s),s,w):s}function E(s,w,P){return s.concat(w).map(function(I){return v(I,P)})}function y(s,w){if(!w.customMerge)return _;var P=w.customMerge(s);return typeof P=="function"?P:_}function p(s){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(s).filter(function(w){return s.propertyIsEnumerable(w)}):[]}function O(s){return Object.keys(s).concat(p(s))}function S(s,w){try{return w in s}catch(P){return!1}}function x(s,w){return S(s,w)&&!(Object.hasOwnProperty.call(s,w)&&Object.propertyIsEnumerable.call(s,w))}function T(s,w,P){var I={};return P.isMergeableObject(s)&&O(s).forEach(function(D){I[D]=v(s[D],P)}),O(w).forEach(function(D){x(s,D)||(S(s,D)&&P.isMergeableObject(w[D])?I[D]=y(D,P)(s[D],w[D],P):I[D]=v(w[D],P))}),I}function _(s,w,P){P=P||{},P.arrayMerge=P.arrayMerge||E,P.isMergeableObject=P.isMergeableObject||u,P.cloneUnlessOtherwiseSpecified=v;var I=Array.isArray(w),D=Array.isArray(s),N=I===D;return N?I?P.arrayMerge(s,w,P):T(s,w,P):v(w,P)}_.all=function(w,P){if(!Array.isArray(w))throw new Error("first argument should be an array");return w.reduce(function(I,D){return _(I,D,P)},{})};var d=_;z.exports=d},65987:z=>{"use strict";var u={single_source_shortest_paths:function(e,o,f){var l={},c={};c[o]=0;var g=u.PriorityQueue.make();g.push(o,0);for(var v,E,y,p,O,S,x,T,_;!g.empty();){v=g.pop(),E=v.value,p=v.cost,O=e[E]||{};for(y in O)O.hasOwnProperty(y)&&(S=O[y],x=p+S,T=c[y],_=typeof c[y]=="undefined",(_||T>x)&&(c[y]=x,g.push(y,x),l[y]=E))}if(typeof f!="undefined"&&typeof c[f]=="undefined"){var d=["Could not find a path from ",o," to ",f,"."].join("");throw new Error(d)}return l},extract_shortest_path_from_predecessor_list:function(e,o){for(var f=[],l=o,c;l;)f.push(l),c=e[l],l=e[l];return f.reverse(),f},find_path:function(e,o,f){var l=u.single_source_shortest_paths(e,o,f);return u.extract_shortest_path_from_predecessor_list(l,f)},PriorityQueue:{make:function(e){var o=u.PriorityQueue,f={},l;e=e||{};for(l in o)o.hasOwnProperty(l)&&(f[l]=o[l]);return f.queue=[],f.sorter=e.sorter||o.default_sorter,f},default_sorter:function(e,o){return e.cost-o.cost},push:function(e,o){var f={value:e,cost:o};this.queue.push(f),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};z.exports=u},17837:(z,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.attributeNames=u.elementNames=void 0,u.elementNames=new Map([["altglyph","altGlyph"],["altglyphdef","altGlyphDef"],["altglyphitem","altGlyphItem"],["animatecolor","animateColor"],["animatemotion","animateMotion"],["animatetransform","animateTransform"],["clippath","clipPath"],["feblend","feBlend"],["fecolormatrix","feColorMatrix"],["fecomponenttransfer","feComponentTransfer"],["fecomposite","feComposite"],["feconvolvematrix","feConvolveMatrix"],["fediffuselighting","feDiffuseLighting"],["fedisplacementmap","feDisplacementMap"],["fedistantlight","feDistantLight"],["fedropshadow","feDropShadow"],["feflood","feFlood"],["fefunca","feFuncA"],["fefuncb","feFuncB"],["fefuncg","feFuncG"],["fefuncr","feFuncR"],["fegaussianblur","feGaussianBlur"],["feimage","feImage"],["femerge","feMerge"],["femergenode","feMergeNode"],["femorphology","feMorphology"],["feoffset","feOffset"],["fepointlight","fePointLight"],["fespecularlighting","feSpecularLighting"],["fespotlight","feSpotLight"],["fetile","feTile"],["feturbulence","feTurbulence"],["foreignobject","foreignObject"],["glyphref","glyphRef"],["lineargradient","linearGradient"],["radialgradient","radialGradient"],["textpath","textPath"]]),u.attributeNames=new Map([["definitionurl","definitionURL"],["attributename","attributeName"],["attributetype","attributeType"],["basefrequency","baseFrequency"],["baseprofile","baseProfile"],["calcmode","calcMode"],["clippathunits","clipPathUnits"],["diffuseconstant","diffuseConstant"],["edgemode","edgeMode"],["filterunits","filterUnits"],["glyphref","glyphRef"],["gradienttransform","gradientTransform"],["gradientunits","gradientUnits"],["kernelmatrix","kernelMatrix"],["kernelunitlength","kernelUnitLength"],["keypoints","keyPoints"],["keysplines","keySplines"],["keytimes","keyTimes"],["lengthadjust","lengthAdjust"],["limitingconeangle","limitingConeAngle"],["markerheight","markerHeight"],["markerunits","markerUnits"],["markerwidth","markerWidth"],["maskcontentunits","maskContentUnits"],["maskunits","maskUnits"],["numoctaves","numOctaves"],["pathlength","pathLength"],["patterncontentunits","patternContentUnits"],["patterntransform","patternTransform"],["patternunits","patternUnits"],["pointsatx","pointsAtX"],["pointsaty","pointsAtY"],["pointsatz","pointsAtZ"],["preservealpha","preserveAlpha"],["preserveaspectratio","preserveAspectRatio"],["primitiveunits","primitiveUnits"],["refx","refX"],["refy","refY"],["repeatcount","repeatCount"],["repeatdur","repeatDur"],["requiredextensions","requiredExtensions"],["requiredfeatures","requiredFeatures"],["specularconstant","specularConstant"],["specularexponent","specularExponent"],["spreadmethod","spreadMethod"],["startoffset","startOffset"],["stddeviation","stdDeviation"],["stitchtiles","stitchTiles"],["surfacescale","surfaceScale"],["systemlanguage","systemLanguage"],["tablevalues","tableValues"],["targetx","targetX"],["targety","targetY"],["textlength","textLength"],["viewbox","viewBox"],["viewtarget","viewTarget"],["xchannelselector","xChannelSelector"],["ychannelselector","yChannelSelector"],["zoomandpan","zoomAndPan"]])},97220:function(z,u,e){"use strict";var o=this&&this.__assign||function(){return o=Object.assign||function(D){for(var N,C=1,A=arguments.length;C<A;C++){N=arguments[C];for(var L in N)Object.prototype.hasOwnProperty.call(N,L)&&(D[L]=N[L])}return D},o.apply(this,arguments)},f=this&&this.__createBinding||(Object.create?function(D,N,C,A){A===void 0&&(A=C),Object.defineProperty(D,A,{enumerable:!0,get:function(){return N[C]}})}:function(D,N,C,A){A===void 0&&(A=C),D[A]=N[C]}),l=this&&this.__setModuleDefault||(Object.create?function(D,N){Object.defineProperty(D,"default",{enumerable:!0,value:N})}:function(D,N){D.default=N}),c=this&&this.__importStar||function(D){if(D&&D.__esModule)return D;var N={};if(D!=null)for(var C in D)C!=="default"&&Object.prototype.hasOwnProperty.call(D,C)&&f(N,D,C);return l(N,D),N};Object.defineProperty(u,"__esModule",{value:!0});var g=c(e(99960)),v=e(45863),E=e(17837),y=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function p(D,N){if(D)return Object.keys(D).map(function(C){var A,L,U=(A=D[C])!==null&&A!==void 0?A:"";return N.xmlMode==="foreign"&&(C=(L=E.attributeNames.get(C))!==null&&L!==void 0?L:C),!N.emptyAttrs&&!N.xmlMode&&U===""?C:C+'="'+(N.decodeEntities!==!1?v.encodeXML(U):U.replace(/"/g,"&quot;"))+'"'}).join(" ")}var O=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function S(D,N){N===void 0&&(N={});for(var C=("length"in D)?D:[D],A="",L=0;L<C.length;L++)A+=x(C[L],N);return A}u.default=S;function x(D,N){switch(D.type){case g.Root:return S(D.children,N);case g.Directive:case g.Doctype:return s(D);case g.Comment:return I(D);case g.CDATA:return P(D);case g.Script:case g.Style:case g.Tag:return d(D,N);case g.Text:return w(D,N)}}var T=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),_=new Set(["svg","math"]);function d(D,N){var C;N.xmlMode==="foreign"&&(D.name=(C=E.elementNames.get(D.name))!==null&&C!==void 0?C:D.name,D.parent&&T.has(D.parent.name)&&(N=o(o({},N),{xmlMode:!1}))),!N.xmlMode&&_.has(D.name)&&(N=o(o({},N),{xmlMode:"foreign"}));var A="<"+D.name,L=p(D.attribs,N);return L&&(A+=" "+L),D.children.length===0&&(N.xmlMode?N.selfClosingTags!==!1:N.selfClosingTags&&O.has(D.name))?(N.xmlMode||(A+=" "),A+="/>"):(A+=">",D.children.length>0&&(A+=S(D.children,N)),(N.xmlMode||!O.has(D.name))&&(A+="</"+D.name+">")),A}function s(D){return"<"+D.data+">"}function w(D,N){var C=D.data||"";return N.decodeEntities!==!1&&!(!N.xmlMode&&D.parent&&y.has(D.parent.name))&&(C=v.encodeXML(C)),C}function P(D){return"<![CDATA["+D.children[0].data+"]]>"}function I(D){return"<!--"+D.data+"-->"}},99960:(z,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.Doctype=u.CDATA=u.Tag=u.Style=u.Script=u.Comment=u.Directive=u.Text=u.Root=u.isTag=u.ElementType=void 0;var e;(function(f){f.Root="root",f.Text="text",f.Directive="directive",f.Comment="comment",f.Script="script",f.Style="style",f.Tag="tag",f.CDATA="cdata",f.Doctype="doctype"})(e=u.ElementType||(u.ElementType={}));function o(f){return f.type===e.Tag||f.type===e.Script||f.type===e.Style}u.isTag=o,u.Root=e.Root,u.Text=e.Text,u.Directive=e.Directive,u.Comment=e.Comment,u.Script=e.Script,u.Style=e.Style,u.Tag=e.Tag,u.CDATA=e.CDATA,u.Doctype=e.Doctype},47915:function(z,u,e){"use strict";var o=this&&this.__createBinding||(Object.create?function(E,y,p,O){O===void 0&&(O=p),Object.defineProperty(E,O,{enumerable:!0,get:function(){return y[p]}})}:function(E,y,p,O){O===void 0&&(O=p),E[O]=y[p]}),f=this&&this.__exportStar||function(E,y){for(var p in E)p!=="default"&&!Object.prototype.hasOwnProperty.call(y,p)&&o(y,E,p)};Object.defineProperty(u,"__esModule",{value:!0}),u.DomHandler=void 0;var l=e(97790);f(e(97790),u);var c=/\s+/g,g={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1},v=function(){function E(y,p,O){this.dom=[],this._done=!1,this._tagStack=[],this._lastNode=null,this._parser=null,typeof p=="function"&&(O=p,p=g),typeof y=="object"&&(p=y,y=void 0),this._callback=y!=null?y:null,this._options=p!=null?p:g,this._elementCB=O!=null?O:null}return E.prototype.onparserinit=function(y){this._parser=y},E.prototype.onreset=function(){var y;this.dom=[],this._done=!1,this._tagStack=[],this._lastNode=null,this._parser=(y=this._parser)!==null&&y!==void 0?y:null},E.prototype.onend=function(){this._done||(this._done=!0,this._parser=null,this.handleCallback(null))},E.prototype.onerror=function(y){this.handleCallback(y)},E.prototype.onclosetag=function(){this._lastNode=null;var y=this._tagStack.pop();!y||!this._parser||(this._options.withEndIndices&&(y.endIndex=this._parser.endIndex),this._elementCB&&this._elementCB(y))},E.prototype.onopentag=function(y,p){var O=new l.Element(y,p);this.addNode(O),this._tagStack.push(O)},E.prototype.ontext=function(y){var p=this._options.normalizeWhitespace,O=this._lastNode;if(O&&O.type==="text")p?O.data=(O.data+y).replace(c," "):O.data+=y;else{p&&(y=y.replace(c," "));var S=new l.Text(y);this.addNode(S),this._lastNode=S}},E.prototype.oncomment=function(y){if(this._lastNode&&this._lastNode.type==="comment"){this._lastNode.data+=y;return}var p=new l.Comment(y);this.addNode(p),this._lastNode=p},E.prototype.oncommentend=function(){this._lastNode=null},E.prototype.oncdatastart=function(){var y=new l.Text(""),p=new l.NodeWithChildren("cdata",[y]);this.addNode(p),y.parent=p,this._lastNode=y},E.prototype.oncdataend=function(){this._lastNode=null},E.prototype.onprocessinginstruction=function(y,p){var O=new l.ProcessingInstruction(y,p);this.addNode(O)},E.prototype.handleCallback=function(y){if(typeof this._callback=="function")this._callback(y,this.dom);else if(y)throw y},E.prototype.addNode=function(y){var p=this._tagStack[this._tagStack.length-1],O=p?p.children:this.dom,S=O[O.length-1];this._parser&&(this._options.withStartIndices&&(y.startIndex=this._parser.startIndex),this._options.withEndIndices&&(y.endIndex=this._parser.endIndex)),O.push(y),S&&(y.prev=S,S.next=y),p&&(y.parent=p),this._lastNode=null},E.prototype.addDataNode=function(y){this.addNode(y),this._lastNode=y},E}();u.DomHandler=v,u.default=v},97790:function(z,u){"use strict";var e=this&&this.__extends||function(){var x=function(T,_){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,s){d.__proto__=s}||function(d,s){for(var w in s)Object.prototype.hasOwnProperty.call(s,w)&&(d[w]=s[w])},x(T,_)};return function(T,_){x(T,_);function d(){this.constructor=T}T.prototype=_===null?Object.create(_):(d.prototype=_.prototype,new d)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(x){for(var T,_=1,d=arguments.length;_<d;_++){T=arguments[_];for(var s in T)Object.prototype.hasOwnProperty.call(T,s)&&(x[s]=T[s])}return x},o.apply(this,arguments)};Object.defineProperty(u,"__esModule",{value:!0}),u.cloneNode=u.Element=u.NodeWithChildren=u.ProcessingInstruction=u.Comment=u.Text=u.DataNode=u.Node=void 0;var f=new Map([["tag",1],["script",1],["style",1],["directive",1],["text",3],["cdata",4],["comment",8]]),l=function(){function x(T){this.type=T,this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(x.prototype,"nodeType",{get:function(){var T;return(T=f.get(this.type))!==null&&T!==void 0?T:1},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"parentNode",{get:function(){return this.parent},set:function(T){this.parent=T},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"previousSibling",{get:function(){return this.prev},set:function(T){this.prev=T},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"nextSibling",{get:function(){return this.next},set:function(T){this.next=T},enumerable:!1,configurable:!0}),x.prototype.cloneNode=function(T){return T===void 0&&(T=!1),O(this,T)},x}();u.Node=l;var c=function(x){e(T,x);function T(_,d){var s=x.call(this,_)||this;return s.data=d,s}return Object.defineProperty(T.prototype,"nodeValue",{get:function(){return this.data},set:function(_){this.data=_},enumerable:!1,configurable:!0}),T}(l);u.DataNode=c;var g=function(x){e(T,x);function T(_){return x.call(this,"text",_)||this}return T}(c);u.Text=g;var v=function(x){e(T,x);function T(_){return x.call(this,"comment",_)||this}return T}(c);u.Comment=v;var E=function(x){e(T,x);function T(_,d){var s=x.call(this,"directive",d)||this;return s.name=_,s}return T}(c);u.ProcessingInstruction=E;var y=function(x){e(T,x);function T(_,d){var s=x.call(this,_)||this;return s.children=d,s}return Object.defineProperty(T.prototype,"firstChild",{get:function(){var _;return(_=this.children[0])!==null&&_!==void 0?_:null},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"childNodes",{get:function(){return this.children},set:function(_){this.children=_},enumerable:!1,configurable:!0}),T}(l);u.NodeWithChildren=y;var p=function(x){e(T,x);function T(_,d,s){s===void 0&&(s=[]);var w=x.call(this,_==="script"?"script":_==="style"?"style":"tag",s)||this;return w.name=_,w.attribs=d,w.attribs=d,w}return Object.defineProperty(T.prototype,"tagName",{get:function(){return this.name},set:function(_){this.name=_},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"attributes",{get:function(){var _=this;return Object.keys(this.attribs).map(function(d){return{name:d,value:_.attribs[d]}})},enumerable:!1,configurable:!0}),T}(y);u.Element=p;function O(x,T){switch(T===void 0&&(T=!1),x.type){case"text":return new g(x.data);case"directive":{var _=x;return new E(_.name,_.data)}case"comment":return new v(x.data);case"tag":case"script":case"style":{var d=x,s=T?S(d.children):[],w=new p(d.name,o({},d.attribs),s);return s.forEach(function(D){return D.parent=w}),w}case"cdata":{var P=x,s=T?S(P.children):[],I=new y("cdata",s);return s.forEach(function(N){return N.parent=I}),I}case"doctype":throw new Error("Not implemented yet: ElementType.Doctype case")}}u.cloneNode=O;function S(x){for(var T=x.map(function(d){return O(d,!0)}),_=1;_<T.length;_++)T[_].prev=T[_-1],T[_-1].next=T[_];return T}},16996:(z,u,e)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.getFeed=void 0;var o=e(43346),f=e(23905);function l(T){var _=p(x,T);return _?_.name==="feed"?c(_):g(_):null}u.getFeed=l;function c(T){var _,d=T.children,s={type:"atom",items:(0,f.getElementsByTagName)("entry",d).map(function(I){var D,N=I.children,C={media:y(N)};S(C,"id","id",N),S(C,"title","title",N);var A=(D=p("link",N))===null||D===void 0?void 0:D.attribs.href;A&&(C.link=A);var L=O("summary",N)||O("content",N);L&&(C.description=L);var U=O("updated",N);return U&&(C.pubDate=new Date(U)),C})};S(s,"id","id",d),S(s,"title","title",d);var w=(_=p("link",d))===null||_===void 0?void 0:_.attribs.href;w&&(s.link=w),S(s,"description","subtitle",d);var P=O("updated",d);return P&&(s.updated=new Date(P)),S(s,"author","email",d,!0),s}function g(T){var _,d,s=(d=(_=p("channel",T.children))===null||_===void 0?void 0:_.children)!==null&&d!==void 0?d:[],w={type:T.name.substr(0,3),id:"",items:(0,f.getElementsByTagName)("item",T.children).map(function(I){var D=I.children,N={media:y(D)};S(N,"id","guid",D),S(N,"title","title",D),S(N,"link","link",D),S(N,"description","description",D);var C=O("pubDate",D);return C&&(N.pubDate=new Date(C)),N})};S(w,"title","title",s),S(w,"link","link",s),S(w,"description","description",s);var P=O("lastBuildDate",s);return P&&(w.updated=new Date(P)),S(w,"author","managingEditor",s,!0),w}var v=["url","type","lang"],E=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function y(T){return(0,f.getElementsByTagName)("media:content",T).map(function(_){for(var d=_.attribs,s={medium:d.medium,isDefault:!!d.isDefault},w=0,P=v;w<P.length;w++){var I=P[w];d[I]&&(s[I]=d[I])}for(var D=0,N=E;D<N.length;D++){var I=N[D];d[I]&&(s[I]=parseInt(d[I],10))}return d.expression&&(s.expression=d.expression),s})}function p(T,_){return(0,f.getElementsByTagName)(T,_,!0,1)[0]}function O(T,_,d){return d===void 0&&(d=!1),(0,o.textContent)((0,f.getElementsByTagName)(T,_,d,1)).trim()}function S(T,_,d,s,w){w===void 0&&(w=!1);var P=O(d,s,w);P&&(T[_]=P)}function x(T){return T==="rss"||T==="feed"||T==="rdf:RDF"}},74975:(z,u,e)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.uniqueSort=u.compareDocumentPosition=u.removeSubsets=void 0;var o=e(63317);function f(g){for(var v=g.length;--v>=0;){var E=g[v];if(v>0&&g.lastIndexOf(E,v-1)>=0){g.splice(v,1);continue}for(var y=E.parent;y;y=y.parent)if(g.includes(y)){g.splice(v,1);break}}return g}u.removeSubsets=f;function l(g,v){var E=[],y=[];if(g===v)return 0;for(var p=(0,o.hasChildren)(g)?g:g.parent;p;)E.unshift(p),p=p.parent;for(p=(0,o.hasChildren)(v)?v:v.parent;p;)y.unshift(p),p=p.parent;for(var O=Math.min(E.length,y.length),S=0;S<O&&E[S]===y[S];)S++;if(S===0)return 1;var x=E[S-1],T=x.children,_=E[S],d=y[S];return T.indexOf(_)>T.indexOf(d)?x===v?20:4:x===g?10:2}u.compareDocumentPosition=l;function c(g){return g=g.filter(function(v,E,y){return!y.includes(v,E+1)}),g.sort(function(v,E){var y=l(v,E);return y&2?-1:y&4?1:0}),g}u.uniqueSort=c},89432:function(z,u,e){"use strict";var o=this&&this.__createBinding||(Object.create?function(c,g,v,E){E===void 0&&(E=v),Object.defineProperty(c,E,{enumerable:!0,get:function(){return g[v]}})}:function(c,g,v,E){E===void 0&&(E=v),c[E]=g[v]}),f=this&&this.__exportStar||function(c,g){for(var v in c)v!=="default"&&!Object.prototype.hasOwnProperty.call(g,v)&&o(g,c,v)};Object.defineProperty(u,"__esModule",{value:!0}),u.hasChildren=u.isDocument=u.isComment=u.isText=u.isCDATA=u.isTag=void 0,f(e(43346),u),f(e(85010),u),f(e(26765),u),f(e(98043),u),f(e(23905),u),f(e(74975),u),f(e(16996),u);var l=e(63317);Object.defineProperty(u,"isTag",{enumerable:!0,get:function(){return l.isTag}}),Object.defineProperty(u,"isCDATA",{enumerable:!0,get:function(){return l.isCDATA}}),Object.defineProperty(u,"isText",{enumerable:!0,get:function(){return l.isText}}),Object.defineProperty(u,"isComment",{enumerable:!0,get:function(){return l.isComment}}),Object.defineProperty(u,"isDocument",{enumerable:!0,get:function(){return l.isDocument}}),Object.defineProperty(u,"hasChildren",{enumerable:!0,get:function(){return l.hasChildren}})},23905:(z,u,e)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.getElementsByTagType=u.getElementsByTagName=u.getElementById=u.getElements=u.testElement=void 0;var o=e(63317),f=e(98043),l={tag_name:function(x){return typeof x=="function"?function(T){return(0,o.isTag)(T)&&x(T.name)}:x==="*"?o.isTag:function(T){return(0,o.isTag)(T)&&T.name===x}},tag_type:function(x){return typeof x=="function"?function(T){return x(T.type)}:function(T){return T.type===x}},tag_contains:function(x){return typeof x=="function"?function(T){return(0,o.isText)(T)&&x(T.data)}:function(T){return(0,o.isText)(T)&&T.data===x}}};function c(x,T){return typeof T=="function"?function(_){return(0,o.isTag)(_)&&T(_.attribs[x])}:function(_){return(0,o.isTag)(_)&&_.attribs[x]===T}}function g(x,T){return function(_){return x(_)||T(_)}}function v(x){var T=Object.keys(x).map(function(_){var d=x[_];return Object.prototype.hasOwnProperty.call(l,_)?l[_](d):c(_,d)});return T.length===0?null:T.reduce(g)}function E(x,T){var _=v(x);return _?_(T):!0}u.testElement=E;function y(x,T,_,d){d===void 0&&(d=1/0);var s=v(x);return s?(0,f.filter)(s,T,_,d):[]}u.getElements=y;function p(x,T,_){return _===void 0&&(_=!0),Array.isArray(T)||(T=[T]),(0,f.findOne)(c("id",x),T,_)}u.getElementById=p;function O(x,T,_,d){return _===void 0&&(_=!0),d===void 0&&(d=1/0),(0,f.filter)(l.tag_name(x),T,_,d)}u.getElementsByTagName=O;function S(x,T,_,d){return _===void 0&&(_=!0),d===void 0&&(d=1/0),(0,f.filter)(l.tag_type(x),T,_,d)}u.getElementsByTagType=S},26765:(z,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.prepend=u.prependChild=u.append=u.appendChild=u.replaceElement=u.removeElement=void 0;function e(v){if(v.prev&&(v.prev.next=v.next),v.next&&(v.next.prev=v.prev),v.parent){var E=v.parent.children;E.splice(E.lastIndexOf(v),1)}}u.removeElement=e;function o(v,E){var y=E.prev=v.prev;y&&(y.next=E);var p=E.next=v.next;p&&(p.prev=E);var O=E.parent=v.parent;if(O){var S=O.children;S[S.lastIndexOf(v)]=E}}u.replaceElement=o;function f(v,E){if(e(E),E.next=null,E.parent=v,v.children.push(E)>1){var y=v.children[v.children.length-2];y.next=E,E.prev=y}else E.prev=null}u.appendChild=f;function l(v,E){e(E);var y=v.parent,p=v.next;if(E.next=p,E.prev=v,v.next=E,E.parent=y,p){if(p.prev=E,y){var O=y.children;O.splice(O.lastIndexOf(p),0,E)}}else y&&y.children.push(E)}u.append=l;function c(v,E){if(e(E),E.parent=v,E.prev=null,v.children.unshift(E)!==1){var y=v.children[1];y.prev=E,E.next=y}else E.next=null}u.prependChild=c;function g(v,E){e(E);var y=v.parent;if(y){var p=y.children;p.splice(p.indexOf(v),0,E)}v.prev&&(v.prev.next=E),E.parent=y,E.prev=v.prev,E.next=v,v.prev=E}u.prepend=g},98043:(z,u,e)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.findAll=u.existsOne=u.findOne=u.findOneChild=u.find=u.filter=void 0;var o=e(63317);function f(y,p,O,S){return O===void 0&&(O=!0),S===void 0&&(S=1/0),Array.isArray(p)||(p=[p]),l(y,p,O,S)}u.filter=f;function l(y,p,O,S){for(var x=[],T=0,_=p;T<_.length;T++){var d=_[T];if(y(d)&&(x.push(d),--S<=0))break;if(O&&(0,o.hasChildren)(d)&&d.children.length>0){var s=l(y,d.children,O,S);if(x.push.apply(x,s),S-=s.length,S<=0)break}}return x}u.find=l;function c(y,p){return p.find(y)}u.findOneChild=c;function g(y,p,O){O===void 0&&(O=!0);for(var S=null,x=0;x<p.length&&!S;x++){var T=p[x];if((0,o.isTag)(T))y(T)?S=T:O&&T.children.length>0&&(S=g(y,T.children));else continue}return S}u.findOne=g;function v(y,p){return p.some(function(O){return(0,o.isTag)(O)&&(y(O)||O.children.length>0&&v(y,O.children))})}u.existsOne=v;function E(y,p){for(var O,S=[],x=p.filter(o.isTag),T;T=x.shift();){var _=(O=T.children)===null||O===void 0?void 0:O.filter(o.isTag);_&&_.length>0&&x.unshift.apply(x,_),y(T)&&S.push(T)}return S}u.findAll=E},43346:function(z,u,e){"use strict";var o=this&&this.__importDefault||function(O){return O&&O.__esModule?O:{default:O}};Object.defineProperty(u,"__esModule",{value:!0}),u.innerText=u.textContent=u.getText=u.getInnerHTML=u.getOuterHTML=void 0;var f=e(63317),l=o(e(97220)),c=e(99960);function g(O,S){return(0,l.default)(O,S)}u.getOuterHTML=g;function v(O,S){return(0,f.hasChildren)(O)?O.children.map(function(x){return g(x,S)}).join(""):""}u.getInnerHTML=v;function E(O){return Array.isArray(O)?O.map(E).join(""):(0,f.isTag)(O)?O.name==="br"?`
`:E(O.children):(0,f.isCDATA)(O)?E(O.children):(0,f.isText)(O)?O.data:""}u.getText=E;function y(O){return Array.isArray(O)?O.map(y).join(""):(0,f.hasChildren)(O)&&!(0,f.isComment)(O)?y(O.children):(0,f.isText)(O)?O.data:""}u.textContent=y;function p(O){return Array.isArray(O)?O.map(p).join(""):(0,f.hasChildren)(O)&&(O.type===c.ElementType.Tag||(0,f.isCDATA)(O))?p(O.children):(0,f.isText)(O)?O.data:""}u.innerText=p},85010:(z,u,e)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.prevElementSibling=u.nextElementSibling=u.getName=u.hasAttrib=u.getAttributeValue=u.getSiblings=u.getParent=u.getChildren=void 0;var o=e(63317),f=[];function l(S){var x;return(x=S.children)!==null&&x!==void 0?x:f}u.getChildren=l;function c(S){return S.parent||null}u.getParent=c;function g(S){var x,T,_=c(S);if(_!=null)return l(_);for(var d=[S],s=S.prev,w=S.next;s!=null;)d.unshift(s),x=s,s=x.prev;for(;w!=null;)d.push(w),T=w,w=T.next;return d}u.getSiblings=g;function v(S,x){var T;return(T=S.attribs)===null||T===void 0?void 0:T[x]}u.getAttributeValue=v;function E(S,x){return S.attribs!=null&&Object.prototype.hasOwnProperty.call(S.attribs,x)&&S.attribs[x]!=null}u.hasAttrib=E;function y(S){return S.name}u.getName=y;function p(S){for(var x,T=S.next;T!==null&&!(0,o.isTag)(T);)x=T,T=x.next;return T}u.nextElementSibling=p;function O(S){for(var x,T=S.prev;T!==null&&!(0,o.isTag)(T);)x=T,T=x.prev;return T}u.prevElementSibling=O},63317:function(z,u,e){"use strict";var o=this&&this.__createBinding||(Object.create?function(y,p,O,S){S===void 0&&(S=O);var x=Object.getOwnPropertyDescriptor(p,O);(!x||("get"in x?!p.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return p[O]}}),Object.defineProperty(y,S,x)}:function(y,p,O,S){S===void 0&&(S=O),y[S]=p[O]}),f=this&&this.__exportStar||function(y,p){for(var O in y)O!=="default"&&!Object.prototype.hasOwnProperty.call(p,O)&&o(p,y,O)};Object.defineProperty(u,"__esModule",{value:!0}),u.DomHandler=void 0;var l=e(99960),c=e(50943);f(e(50943),u);var g=/\s+/g,v={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1,xmlMode:!1},E=function(){function y(p,O,S){this.dom=[],this.root=new c.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof O=="function"&&(S=O,O=v),typeof p=="object"&&(O=p,p=void 0),this.callback=p!=null?p:null,this.options=O!=null?O:v,this.elementCB=S!=null?S:null}return y.prototype.onparserinit=function(p){this.parser=p},y.prototype.onreset=function(){this.dom=[],this.root=new c.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},y.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},y.prototype.onerror=function(p){this.handleCallback(p)},y.prototype.onclosetag=function(){this.lastNode=null;var p=this.tagStack.pop();this.options.withEndIndices&&(p.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(p)},y.prototype.onopentag=function(p,O){var S=this.options.xmlMode?l.ElementType.Tag:void 0,x=new c.Element(p,O,void 0,S);this.addNode(x),this.tagStack.push(x)},y.prototype.ontext=function(p){var O=this.options.normalizeWhitespace,S=this.lastNode;if(S&&S.type===l.ElementType.Text)O?S.data=(S.data+p).replace(g," "):S.data+=p,this.options.withEndIndices&&(S.endIndex=this.parser.endIndex);else{O&&(p=p.replace(g," "));var x=new c.Text(p);this.addNode(x),this.lastNode=x}},y.prototype.oncomment=function(p){if(this.lastNode&&this.lastNode.type===l.ElementType.Comment){this.lastNode.data+=p;return}var O=new c.Comment(p);this.addNode(O),this.lastNode=O},y.prototype.oncommentend=function(){this.lastNode=null},y.prototype.oncdatastart=function(){var p=new c.Text(""),O=new c.NodeWithChildren(l.ElementType.CDATA,[p]);this.addNode(O),p.parent=O,this.lastNode=p},y.prototype.oncdataend=function(){this.lastNode=null},y.prototype.onprocessinginstruction=function(p,O){var S=new c.ProcessingInstruction(p,O);this.addNode(S)},y.prototype.handleCallback=function(p){if(typeof this.callback=="function")this.callback(p,this.dom);else if(p)throw p},y.prototype.addNode=function(p){var O=this.tagStack[this.tagStack.length-1],S=O.children[O.children.length-1];this.options.withStartIndices&&(p.startIndex=this.parser.startIndex),this.options.withEndIndices&&(p.endIndex=this.parser.endIndex),O.children.push(p),S&&(p.prev=S,S.next=p),p.parent=O,this.lastNode=null},y}();u.DomHandler=E,u.default=E},50943:function(z,u,e){"use strict";var o=this&&this.__extends||function(){var C=function(A,L){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,W){U.__proto__=W}||function(U,W){for(var G in W)Object.prototype.hasOwnProperty.call(W,G)&&(U[G]=W[G])},C(A,L)};return function(A,L){if(typeof L!="function"&&L!==null)throw new TypeError("Class extends value "+String(L)+" is not a constructor or null");C(A,L);function U(){this.constructor=A}A.prototype=L===null?Object.create(L):(U.prototype=L.prototype,new U)}}(),f=this&&this.__assign||function(){return f=Object.assign||function(C){for(var A,L=1,U=arguments.length;L<U;L++){A=arguments[L];for(var W in A)Object.prototype.hasOwnProperty.call(A,W)&&(C[W]=A[W])}return C},f.apply(this,arguments)};Object.defineProperty(u,"__esModule",{value:!0}),u.cloneNode=u.hasChildren=u.isDocument=u.isDirective=u.isComment=u.isText=u.isCDATA=u.isTag=u.Element=u.Document=u.NodeWithChildren=u.ProcessingInstruction=u.Comment=u.Text=u.DataNode=u.Node=void 0;var l=e(99960),c=new Map([[l.ElementType.Tag,1],[l.ElementType.Script,1],[l.ElementType.Style,1],[l.ElementType.Directive,1],[l.ElementType.Text,3],[l.ElementType.CDATA,4],[l.ElementType.Comment,8],[l.ElementType.Root,9]]),g=function(){function C(A){this.type=A,this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(C.prototype,"nodeType",{get:function(){var A;return(A=c.get(this.type))!==null&&A!==void 0?A:1},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"parentNode",{get:function(){return this.parent},set:function(A){this.parent=A},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"previousSibling",{get:function(){return this.prev},set:function(A){this.prev=A},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"nextSibling",{get:function(){return this.next},set:function(A){this.next=A},enumerable:!1,configurable:!0}),C.prototype.cloneNode=function(A){return A===void 0&&(A=!1),D(this,A)},C}();u.Node=g;var v=function(C){o(A,C);function A(L,U){var W=C.call(this,L)||this;return W.data=U,W}return Object.defineProperty(A.prototype,"nodeValue",{get:function(){return this.data},set:function(L){this.data=L},enumerable:!1,configurable:!0}),A}(g);u.DataNode=v;var E=function(C){o(A,C);function A(L){return C.call(this,l.ElementType.Text,L)||this}return A}(v);u.Text=E;var y=function(C){o(A,C);function A(L){return C.call(this,l.ElementType.Comment,L)||this}return A}(v);u.Comment=y;var p=function(C){o(A,C);function A(L,U){var W=C.call(this,l.ElementType.Directive,U)||this;return W.name=L,W}return A}(v);u.ProcessingInstruction=p;var O=function(C){o(A,C);function A(L,U){var W=C.call(this,L)||this;return W.children=U,W}return Object.defineProperty(A.prototype,"firstChild",{get:function(){var L;return(L=this.children[0])!==null&&L!==void 0?L:null},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"childNodes",{get:function(){return this.children},set:function(L){this.children=L},enumerable:!1,configurable:!0}),A}(g);u.NodeWithChildren=O;var S=function(C){o(A,C);function A(L){return C.call(this,l.ElementType.Root,L)||this}return A}(O);u.Document=S;var x=function(C){o(A,C);function A(L,U,W,G){W===void 0&&(W=[]),G===void 0&&(G=L==="script"?l.ElementType.Script:L==="style"?l.ElementType.Style:l.ElementType.Tag);var $=C.call(this,G,W)||this;return $.name=L,$.attribs=U,$}return Object.defineProperty(A.prototype,"tagName",{get:function(){return this.name},set:function(L){this.name=L},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"attributes",{get:function(){var L=this;return Object.keys(this.attribs).map(function(U){var W,G;return{name:U,value:L.attribs[U],namespace:(W=L["x-attribsNamespace"])===null||W===void 0?void 0:W[U],prefix:(G=L["x-attribsPrefix"])===null||G===void 0?void 0:G[U]}})},enumerable:!1,configurable:!0}),A}(O);u.Element=x;function T(C){return(0,l.isTag)(C)}u.isTag=T;function _(C){return C.type===l.ElementType.CDATA}u.isCDATA=_;function d(C){return C.type===l.ElementType.Text}u.isText=d;function s(C){return C.type===l.ElementType.Comment}u.isComment=s;function w(C){return C.type===l.ElementType.Directive}u.isDirective=w;function P(C){return C.type===l.ElementType.Root}u.isDocument=P;function I(C){return Object.prototype.hasOwnProperty.call(C,"children")}u.hasChildren=I;function D(C,A){A===void 0&&(A=!1);var L;if(d(C))L=new E(C.data);else if(s(C))L=new y(C.data);else if(T(C)){var U=A?N(C.children):[],W=new x(C.name,f({},C.attribs),U);U.forEach(function(J){return J.parent=W}),C.namespace!=null&&(W.namespace=C.namespace),C["x-attribsNamespace"]&&(W["x-attribsNamespace"]=f({},C["x-attribsNamespace"])),C["x-attribsPrefix"]&&(W["x-attribsPrefix"]=f({},C["x-attribsPrefix"])),L=W}else if(_(C)){var U=A?N(C.children):[],G=new O(l.ElementType.CDATA,U);U.forEach(function(R){return R.parent=G}),L=G}else if(P(C)){var U=A?N(C.children):[],$=new S(U);U.forEach(function(R){return R.parent=$}),C["x-mode"]&&($["x-mode"]=C["x-mode"]),L=$}else if(w(C)){var q=new p(C.name,C.data);C["x-name"]!=null&&(q["x-name"]=C["x-name"],q["x-publicId"]=C["x-publicId"],q["x-systemId"]=C["x-systemId"]),L=q}else throw new Error("Not implemented yet: ".concat(C.type));return L.startIndex=C.startIndex,L.endIndex=C.endIndex,C.sourceCodeLocation!=null&&(L.sourceCodeLocation=C.sourceCodeLocation),L}u.cloneNode=D;function N(C){for(var A=C.map(function(U){return D(U,!0)}),L=1;L<A.length;L++)A[L].prev=A[L-1],A[L-1].next=A[L];return A}},62378:z=>{"use strict";z.exports=function(e){for(var o=[],f=e.length,l=0;l<f;l++){var c=e.charCodeAt(l);if(c>=55296&&c<=56319&&f>l+1){var g=e.charCodeAt(l+1);g>=56320&&g<=57343&&(c=(c-55296)*1024+g-56320+65536,l+=1)}if(c<128){o.push(c);continue}if(c<2048){o.push(c>>6|192),o.push(c&63|128);continue}if(c<55296||c>=57344&&c<65536){o.push(c>>12|224),o.push(c>>6&63|128),o.push(c&63|128);continue}if(c>=65536&&c<=1114111){o.push(c>>18|240),o.push(c>>12&63|128),o.push(c>>6&63|128),o.push(c&63|128);continue}o.push(239,191,189)}return new Uint8Array(o).buffer}},44076:function(z,u,e){"use strict";var o=this&&this.__importDefault||function(O){return O&&O.__esModule?O:{default:O}};Object.defineProperty(u,"__esModule",{value:!0}),u.decodeHTML=u.decodeHTMLStrict=u.decodeXML=void 0;var f=o(e(59323)),l=o(e(29591)),c=o(e(2586)),g=o(e(26)),v=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;u.decodeXML=E(c.default),u.decodeHTMLStrict=E(f.default);function E(O){var S=p(O);return function(x){return String(x).replace(v,S)}}var y=function(O,S){return O<S?1:-1};u.decodeHTML=function(){for(var O=Object.keys(l.default).sort(y),S=Object.keys(f.default).sort(y),x=0,T=0;x<S.length;x++)O[T]===S[x]?(S[x]+=";?",T++):S[x]+=";";var _=new RegExp("&(?:"+S.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),d=p(f.default);function s(w){return w.substr(-1)!==";"&&(w+=";"),d(w)}return function(w){return String(w).replace(_,s)}}();function p(O){return function(x){if(x.charAt(1)==="#"){var T=x.charAt(2);return T==="X"||T==="x"?g.default(parseInt(x.substr(3),16)):g.default(parseInt(x.substr(2),10))}return O[x.slice(1,-1)]||x}}},26:function(z,u,e){"use strict";var o=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(u,"__esModule",{value:!0});var f=o(e(33600)),l=String.fromCodePoint||function(g){var v="";return g>65535&&(g-=65536,v+=String.fromCharCode(g>>>10&1023|55296),g=56320|g&1023),v+=String.fromCharCode(g),v};function c(g){return g>=55296&&g<=57343||g>1114111?"\uFFFD":(g in f.default&&(g=f.default[g]),l(g))}u.default=c},87322:function(z,u,e){"use strict";var o=this&&this.__importDefault||function(P){return P&&P.__esModule?P:{default:P}};Object.defineProperty(u,"__esModule",{value:!0}),u.escapeUTF8=u.escape=u.encodeNonAsciiHTML=u.encodeHTML=u.encodeXML=void 0;var f=o(e(2586)),l=y(f.default),c=p(l);u.encodeXML=w(l);var g=o(e(59323)),v=y(g.default),E=p(v);u.encodeHTML=T(v,E),u.encodeNonAsciiHTML=w(v);function y(P){return Object.keys(P).sort().reduce(function(I,D){return I[P[D]]="&"+D+";",I},{})}function p(P){for(var I=[],D=[],N=0,C=Object.keys(P);N<C.length;N++){var A=C[N];A.length===1?I.push("\\"+A):D.push(A)}I.sort();for(var L=0;L<I.length-1;L++){for(var U=L;U<I.length-1&&I[U].charCodeAt(1)+1===I[U+1].charCodeAt(1);)U+=1;var W=1+U-L;W<3||I.splice(L,W,I[L]+"-"+I[U])}return D.unshift("["+I.join("")+"]"),new RegExp(D.join("|"),"g")}var O=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,S=String.prototype.codePointAt!=null?function(P){return P.codePointAt(0)}:function(P){return(P.charCodeAt(0)-55296)*1024+P.charCodeAt(1)-56320+65536};function x(P){return"&#x"+(P.length>1?S(P):P.charCodeAt(0)).toString(16).toUpperCase()+";"}function T(P,I){return function(D){return D.replace(I,function(N){return P[N]}).replace(O,x)}}var _=new RegExp(c.source+"|"+O.source,"g");function d(P){return P.replace(_,x)}u.escape=d;function s(P){return P.replace(c,x)}u.escapeUTF8=s;function w(P){return function(I){return I.replace(_,function(D){return P[D]||x(D)})}}},45863:(z,u,e)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.decodeXMLStrict=u.decodeHTML5Strict=u.decodeHTML4Strict=u.decodeHTML5=u.decodeHTML4=u.decodeHTMLStrict=u.decodeHTML=u.decodeXML=u.encodeHTML5=u.encodeHTML4=u.escapeUTF8=u.escape=u.encodeNonAsciiHTML=u.encodeHTML=u.encodeXML=u.encode=u.decodeStrict=u.decode=void 0;var o=e(44076),f=e(87322);function l(y,p){return(!p||p<=0?o.decodeXML:o.decodeHTML)(y)}u.decode=l;function c(y,p){return(!p||p<=0?o.decodeXML:o.decodeHTMLStrict)(y)}u.decodeStrict=c;function g(y,p){return(!p||p<=0?f.encodeXML:f.encodeHTML)(y)}u.encode=g;var v=e(87322);Object.defineProperty(u,"encodeXML",{enumerable:!0,get:function(){return v.encodeXML}}),Object.defineProperty(u,"encodeHTML",{enumerable:!0,get:function(){return v.encodeHTML}}),Object.defineProperty(u,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return v.encodeNonAsciiHTML}}),Object.defineProperty(u,"escape",{enumerable:!0,get:function(){return v.escape}}),Object.defineProperty(u,"escapeUTF8",{enumerable:!0,get:function(){return v.escapeUTF8}}),Object.defineProperty(u,"encodeHTML4",{enumerable:!0,get:function(){return v.encodeHTML}}),Object.defineProperty(u,"encodeHTML5",{enumerable:!0,get:function(){return v.encodeHTML}});var E=e(44076);Object.defineProperty(u,"decodeXML",{enumerable:!0,get:function(){return E.decodeXML}}),Object.defineProperty(u,"decodeHTML",{enumerable:!0,get:function(){return E.decodeHTML}}),Object.defineProperty(u,"decodeHTMLStrict",{enumerable:!0,get:function(){return E.decodeHTMLStrict}}),Object.defineProperty(u,"decodeHTML4",{enumerable:!0,get:function(){return E.decodeHTML}}),Object.defineProperty(u,"decodeHTML5",{enumerable:!0,get:function(){return E.decodeHTML}}),Object.defineProperty(u,"decodeHTML4Strict",{enumerable:!0,get:function(){return E.decodeHTMLStrict}}),Object.defineProperty(u,"decodeHTML5Strict",{enumerable:!0,get:function(){return E.decodeHTMLStrict}}),Object.defineProperty(u,"decodeXMLStrict",{enumerable:!0,get:function(){return E.decodeXML}})},14531:(z,u,e)=>{"use strict";e.d(u,{A:()=>o});const o={postAuthor:"custom-css-email-post-author",avatar:"custom-css-email-avatar",digestPostEmbed:"custom-css-email-digest-post-embed"}},82626:(z,u,e)=>{"use strict";e.d(u,{Substitutions:()=>o});const o={PLAY_ON_SUBSTACK:"%%play_on_substack_url%%",PLAY_ON_SUBSTACK_UFI:"%%play_on_substack_ufi_url%%",POST_URL:"%%post_url%%",POST_TITLE_URL:"%%post_title_url%%",NAME:"%%name%%",FIRST_NAME:"%%first_name%%",FIRST_NAME_NO_SPACE:"%%first_name_no_space%%",UNSUBSCRIBE_URL:"%%unsubscribe_url%%",ONE_CLICK_UNSUBSCRIBE_URL:"%%one_click_unsubscribe_url%%",CHECKOUT_URL:"%%checkout_url%%",FOUNDING_CHECKOUT_URL:"%%founding_checkout_url%%",ACCOUNT_URL:"%%account_url%%",ARCHIVE_URL:"%%archive_url%%",PUBLICATION_NAME:"%%publication_name%%",PUBLICATION_HERO_TEXT:"%%publication_hero_text%%",AUTHOR_NAME:"%%author_name%%",AUTHOR_FIRST_NAME:"%%author_first_name%%",AUTHOR_BIO:"%%author_bio%%",AUTHOR_PHOTO_URL:"%%author_photo_url%%",SHARE_URL:"%%share_url%%",SHARE_PUB_URL:"%%share_pub_url%%",PODCAST_SETUP_URL:"%%podcast_setup_url%%",PERSONAL_PODCAST_SETUP_URL:"%%personal_podcast_setup_url%%",ALL_PODCASTS_SETUP_URL:"%%all_podcasts_setup_url%%",HOME_LINK:"%%home_link%%",THREAD_URL:"%%thread_url%%",CHAT_URL:"%%chat_url%%",MEETINGS_URL:"%%meetings_url%%",DASHBOARD_URL:"%%dashboard_url%%",CONTINUE_URL:"%%continue_url%%",LEADERBOARD_URL:"%%leaderboard_url%%",PAID_SUBSCRIPTION_BENEFITS_1:"%%paid_subscription_benefits_1%%",PAID_SUBSCRIPTION_BENEFITS_2:"%%paid_subscription_benefits_2%%",PAID_SUBSCRIPTION_BENEFITS_3:"%%paid_subscription_benefits_3%%",PAID_OR_FOUNDING_TIER_NAME:"%%paid_or_founding_tier_name%%",PUBLICATION_URL:"%%publication_url%%",MAGIC_UNLINK_URL:"%%magic_unlink_url%%",TWITTER_SCREEN_NAME:"%%twitter_screen_name%%",REFERRAL_URL:"%%referral_url%%",PRINTED_REFERRAL_URL:"%%printed_referral_url%%",COMMENTS_URL:"%%comments_url%%",HALF_MAGIC_COMMENTS_URL:"%%half_magic_comments_url%%",MAGIC_AMP_COMMENTS_URL:"%%magic_amp_comments_url%%",POST_APP_LINK_URL:"%%post_app_link_url%%",POST_APP_LINK_PLAY_URL:"%%post_app_link_play_url%%",SUBSCRIPTION_TYPE:"%%subscription_type%%",SUBSCRIPTION_DAYS_LEFT:"%%subscription_days_left%%",SUBSCRIPTION_DAYS_LEFT_LABEL:"%%subscription_days_left_label%%",SUBSCRIPTION_EXPIRY_DATE:"%%subscription_expiry_date%%",REACTION_URL:"%%reaction_url%%",HALF_POST_URL:"%%half_post_url%%",RELATED_PUB_URL:"%%related_pub_url%%",RELATED_PUB_DOMAIN:"%%related_pub_domain%%",REPLY_TO_AUTHOR:"%%reply_to_author%%",REPLY_TO_AUTHOR_PLUS:"%%reply_to_author_plus%%",REPLY_TO_FORUM:"%%reply_to_forum%%",REPLY_TO_FORUM_PLUS:"%%reply_to_forum_plus%%",SAVE_POST_URL:"%%save_post_url%%",RESTACK_URL:"%%restack_url%%",RESTACK_COMMENT_URL:"%%restack_comment_url%%",POST_UNSUBSCRIBE_URL:"%%post_unsubscribe_url%%",COMMENT_URL:"%%comment_url%%",COMMENTER_FROM_NAME:"%%commenter_from_name%%",COMMENTER_NAME:"%%commenter_name%%",COMMENT_REPLY_URL:"%%comment_reply_url%%",PARENT_COMMENT_URL:"%%parent_comment_url%%",REACTOR_FROM_NAMES:"%%reactor_from_names%%",REACTOR_NAMES:"%%reactor_names%%",RENEWAL_URL:"%%renewal_url%%",NUM_REFERRALS_REQUIRED:"%%num_referrals_required%%",REWARD_DESCRIPTION:"%%reward_description%%",FILE_DOWNLOAD_TOKEN:"%%file_download_token%%",COUPON_URL:"%%coupon_url%%",START_WRITING_URL:"%%start_writing_url%%",PREACT_COMPAT_HTML_COMMENT_OPEN:"<x_preact_compatible_html_comment_x>",PREACT_COMPAT_HTML_COMMENT_CLOSE:"</x_preact_compatible_html_comment_x>",USER_ID:"%%user_id%%",USER_ID_B36:"%%user_id_b36%%",USER_ID_JWT:"%%user_id_jwt%%",FIRST_NOTE_EMBED:"%%first_note_embed%%"}},91004:(z,u,e)=>{"use strict";e.d(u,{B8:()=>$,BZ:()=>W,I:()=>P,O1:()=>q,Po:()=>G,Ui:()=>L,Vn:()=>A,WZ:()=>U,Wn:()=>I,b6:()=>C,lc:()=>D,sn:()=>N});var o=e(4605),f=e(3258),l=e(58884),c=e(39419),g=e.n(c),v=e(15045),E=e(70444),y=e(83322),p=Object.defineProperty,O=Object.defineProperties,S=Object.getOwnPropertyDescriptors,x=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,d=(J,R,j)=>R in J?p(J,R,{enumerable:!0,configurable:!0,writable:!0,value:j}):J[R]=j,s=(J,R)=>{for(var j in R||(R={}))T.call(R,j)&&d(J,j,R[j]);if(x)for(var j of x(R))_.call(R,j)&&d(J,j,R[j]);return J},w=(J,R)=>O(J,S(R));function P(J,R,j){const{shareUrl:ie,post:le,pub:ye,selectionId:ue,utm_campaign:oe}=j;(0,f.j)(f.FP.SHARE_LINK_CLICKED,w(s({name:J,post_id:le?le.id:null},ue?{selection_id:ue}:{}),{source:oe}));const te=R(ie);te&&typeof te=="string"&&(te.startsWith("http")?window.open(te,"_blank"):document.location.href=te),(0,l.ex)(`${ye==null?void 0:ye.subdomain} shared`,!0)}function I(J){const{pub:R,post:j,sharingSelfPub:ie,shareName:le}=J,ye=(R==null?void 0:R.twitter_screen_name)||R&&y.twitterScreenNames[R.subdomain];let ue=le;R&&ie?ue="I just started a Substack! You can subscribe to it here":(R&&!j&&(ue=`Subscribe to ${ue}`),ye&&(!j||R&&(!j.publishedBylines.length||j.publishedBylines.some(oe=>oe.id===R.author_id)))&&(ue+=`, by @${ye}`)),P("twitter",oe=>(0,v.pathWithQuery)("https://twitter.com/share",{url:oe,text:ue}),J)}function D(J){P("linkedin",R=>(0,v.pathWithQuery)("https://www.linkedin.com/sharing/share-offsite/",{url:R}),J)}function N(J){P("reddit",R=>(0,v.pathWithQuery)("https://www.reddit.com/submit/",{url:R,title:J.shareName}),J)}function C(J){P("hackernews",R=>(0,v.pathWithQuery)("https://news.ycombinator.com/submitlink",{url:R,title:J.shareName}),J)}function A(J){P("pinterest",R=>(0,v.pathWithQuery)("https://www.pinterest.com/pin/create/button",{u:R,description:J.shareName}),J)}function L(J){var R;const{iString:j}=I18N.i(((R=J.pub)==null?void 0:R.language)||"en");P("copy",ie=>((0,c.copyToClipboard)(ie),!1),J),(0,o.ZP)(j("Link copied to clipboard"))}function U(J){P("email",R=>(0,v.pathWithQuery)("mailto:",{subject:J.shareName,body:R}),J)}function W(J){P("notes",R=>(0,v.pathWithQuery)((0,E.TK)({message:R})),J)}function G(J){P("facebook",R=>(0,v.pathWithQuery)("https://www.facebook.com/sharer/sharer.php",{u:R}),J)}function $(J={}){const{post:R,pub:j,profile:ie}=J;return R?R.title:j?j.name:ie?`${ie.name} on Substack`:document.title}function q(J,R={}){const{pub:j,post:ie,selectionId:le,profile:ye,user:ue,utm_campaign:oe,medium:te,referral_token:Z,useCustomDomainOverOpen:re}=R,ae={r:ue!=null&&ue.id?ue.id.toString(36):Z,selection:le,utm_campaign:oe||(ie?"post":ye?"profile":j?"pub":"unknown"),utm_medium:te||"web",utm_source:J};return j!=null&&j.subdomain&&(ie!=null&&ie.slug)?(0,v.getPostAppLinkUrl)(j.subdomain,ie.slug,{params:ae,hostOverride:re&&j.custom_domain?(0,v.getBaseUrl)(j):null}):(0,v.pathWithQuery)(`${ie?(0,v.getPostUrl)(j,ie):j?`${j.base_url}/`:typeof window!="undefined"?window.location.href.split("?")[0]:""}`,ae)}},35570:(z,u,e)=>{"use strict";e.d(u,{Z:()=>f});var o=e(30396);const f=({root:l=null,threshold:c=0,rootMargin:g}={})=>{if(typeof window=="undefined"||typeof IntersectionObserver=="undefined")return[null,null];const[v,E]=(0,o.eJ)(null),[y,p]=(0,o.eJ)(null),O=(0,o.sO)(new IntersectionObserver(([S])=>E(S),{root:l,threshold:c,rootMargin:g}));return(0,o.d4)(()=>{var S;const x=(S=y==null?void 0:y.base)!=null&&S.addEventListener?y.base:y!=null&&y.addEventListener?y:null,{current:T}=O;return T.disconnect(),x&&T.observe(x),()=>T.disconnect()},[y]),[p,v]}},36487:(z,u,e)=>{"use strict";e.d(u,{u:()=>f});var o=e(83322);function f(l){let c;try{c=new URL(l)}catch(E){return console.error("Failed to parse URL",l,E),l}c.hostname=c.hostname.replace(/^www\./,""),c.pathname=c.pathname.replace(/\/+$/,""),c.hash="";const g=[];c.hostname.includes("youtube")&&g.push("v"),c.searchParams.forEach((E,y)=>{g.includes(y)||c.searchParams.delete(y)});const v=c.toString().replace(/^\w+:\/\//,"").replace(/\/+$/,"");return v?(0,o.truncateText)(v,40):l}},55687:(z,u,e)=>{"use strict";e.d(u,{u:()=>f});const o=Intl.NumberFormat(void 0,{maximumSignificantDigits:4});function f(l){return o.format(l)}},80076:(z,u,e)=>{"use strict";e.d(u,{d:()=>o});function o(f){return Array.from(f.items).filter(l=>l.kind==="file"&&l.type.startsWith("image/")).length>0}},62952:(z,u,e)=>{"use strict";e.d(u,{h:()=>l});var o=e(30396),f=e(80076);function l({onAddFiles:c}){const g=(0,o.sO)(),v=(0,o.sO)(),[E,y]=(0,o.eJ)(!1),p=T=>{T instanceof DragEvent&&!T.defaultPrevented&&T.dataTransfer&&(0,f.d)(T.dataTransfer)&&(T.preventDefault(),c(Array.from(T.dataTransfer.files)),y(!1))},O=T=>{const{current:_}=g,{target:d}=T;!E&&_&&d&&d instanceof HTMLDivElement&&(_===d||_.contains(d))&&T.dataTransfer&&(0,f.d)(T.dataTransfer)&&(T.preventDefault(),v.current=d,y(!0))},S=T=>{v.current&&T.preventDefault()},x=T=>{const{current:_}=v;_&&T.relatedTarget!==_&&!_.contains(T.relatedTarget)&&(v.current=void 0,y(!1))};return{isDragging:E,props:{onDragEnter:O,onDragOver:S,onDragLeave:x,onDragEnd:x,onDrop:p,ref:g}}}},4070:(z,u,e)=>{"use strict";e.d(u,{Z:()=>W});var o=e(30396);function f(q){var J,R;let j=0;if(q)if(q.content&&q.content.length>0)for(const ie of q.content)j+=f(ie);else j+=(R=(J=q.text)==null?void 0:J.length)!=null?R:0;return j}var l=e(83322),c=Object.defineProperty,g=Object.defineProperties,v=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,O=(q,J,R)=>J in q?c(q,J,{enumerable:!0,configurable:!0,writable:!0,value:R}):q[J]=R,S=(q,J)=>{for(var R in J||(J={}))y.call(J,R)&&O(q,R,J[R]);if(E)for(var R of E(J))p.call(J,R)&&O(q,R,J[R]);return q},x=(q,J)=>g(q,v(J));function T(q,{limit:J=420}={}){var R,j,ie,le;let ye=null,ue=0,oe=!1;if(q)if(J<=0)oe=!0;else if(q.content&&q.content.length>0){ye=x(S({},q),{content:[]});for(const te of q.content){const Z=T(te,{limit:J-ue});if(Z.doc){if((R=ye.content)==null||R.push(Z.doc),ue+=Z.length,Z.isTruncated){oe=!0;break}}else{oe=!0;break}}}else ye=x(S({},q),{text:(j=(0,l.truncateText)(q.text,J))!=null?j:void 0}),ue+=(le=(ie=ye.text)==null?void 0:ie.length)!=null?le:0,q.text!==ye.text&&(oe=!0);return{doc:ye,length:ue,isTruncated:oe}}var _=e(36487),d=Object.defineProperty,s=Object.defineProperties,w=Object.getOwnPropertyDescriptors,P=Object.getOwnPropertySymbols,I=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable,N=(q,J,R)=>J in q?d(q,J,{enumerable:!0,configurable:!0,writable:!0,value:R}):q[J]=R,C=(q,J)=>{for(var R in J||(J={}))I.call(J,R)&&N(q,R,J[R]);if(P)for(var R of P(J))D.call(J,R)&&N(q,R,J[R]);return q},A=(q,J)=>s(q,w(J));const L=420,U=380;function W(q,{limit:J=L,triggerLimit:R=U}={}){return(0,o.Ye)(()=>{var j;const ie=(j=q==null?void 0:q.body_json)!=null?j:q!=null&&q.body?G(q.body):null,le=$(ie);if(f(le)<=R)return{bodyJson:le,truncatedBodyJson:le,isTruncated:!1};const ye=T(le,{limit:J});return{bodyJson:le,truncatedBodyJson:ye.doc,isTruncated:ye.isTruncated}},[q==null?void 0:q.body,q==null?void 0:q.body_json])}function G(q){return{type:"doc",attrs:{schemaVersion:"v1"},content:q.split(`

`).map(J=>({type:"paragraph",content:[{type:"text",text:J}]}))}}function $(q){var J,R;let j=null;if(q)if(j=A(C({},q),{content:void 0,text:void 0}),q!=null&&q.content){j.content=[];for(const ie of q.content){const le=$(ie);le&&j.content.push(le)}}else{const ie=(J=q.marks)==null?void 0:J.find(le=>le.type==="link");(R=ie==null?void 0:ie.attrs)!=null&&R.href?j.text=(0,_.u)(ie.attrs.href):j.text=q.text}return j}},95582:(z,u,e)=>{"use strict";e.d(u,{L:()=>l});var o=e(30396),f=(c,g,v)=>new Promise((E,y)=>{var p=x=>{try{S(v.next(x))}catch(T){y(T)}},O=x=>{try{S(v.throw(x))}catch(T){y(T)}},S=x=>x.done?E(x.value):Promise.resolve(x.value).then(p,O);S((v=v.apply(c,g)).next())});function l(c,g){const[v,E]=(0,o._Y)(c,g),y=(0,o.sO)(v);y.current=v;const p=(0,o.Ye)(()=>O=>f(this,null,function*(){if(typeof O=="function")return yield O(p,()=>y.current);E(O)}),[]);return[v,p]}},92298:(z,u,e)=>{"use strict";e.d(u,{j:()=>y,l:()=>p});var o=Object.defineProperty,f=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,g=(O,S,x)=>S in O?o(O,S,{enumerable:!0,configurable:!0,writable:!0,value:x}):O[S]=x,v=(O,S)=>{for(var x in S||(S={}))l.call(S,x)&&g(O,x,S[x]);if(f)for(var x of f(S))c.call(S,x)&&g(O,x,S[x]);return O};let E={};function y(O){E=v({},O)}function p(){return v({},E)}},8461:(z,u,e)=>{"use strict";e.d(u,{IU:()=>E});var o=e(15045),f=e(83322),l=e(86405),c=e(28876),g=e(32081);function v(S,x,{quantity:T=1,plan:_,isSubscription:d,coupon:s}){var w;const P=(S/100).toFixed(2),I=(S/T/100).toFixed(2);x=x.toUpperCase(),E();const D=getConfig(),N=getPublicationFbPixelId();N&&(new Image().src=`https://www.facebook.com/tr?id=${N}&ev=Purchase&cd[value]=${P}&cd[currency]=${x}`),N&&d&&(new Image().src=`https://www.facebook.com/tr?id=${N}&ev=Subscribe&cd[value]=${P}&cd[currency]=${x}`),recordTwitterEvent("purchase",{price:Number(I),quantity:T});const C=randomString(),A=((w=_.amount)!=null?w:0)*T;let L;s&&s.percent_off?L=Math.round(A*((s.percent_off_precise||s.percent_off)/100)):s&&s.amount_off&&(L=Math.max(0,s.amount_off));const U=_.name;sendPublisherGa4Event("purchase",{transaction_id:C,value:P,currency:x,coupon:(s==null?void 0:s.name)||(s==null?void 0:s.id),items:[{item_id:_&&_.id,item_name:_&&(U||_.nickname||_.id)||"subscription",coupon:(s==null?void 0:s.name)||(s==null?void 0:s.id),discount:L,index:0,price:I,quantity:T}]}),sendPublisherGaEvent("transaction",{ti:C,tr:P,cu:x}),sendPublisherGaEvent("item",{ti:C,in:_&&(U||_.nickname||_.id)||"subscription",ip:I,iq:T,ic:_&&_.id,cu:x});const W="7AeECMLq68wDEKuN5pYB";sendLocalGaEvent("conversion",D!=null&&D.adwordsAccountId&&(D!=null&&D.adwordsEventSendTo)?{send_to:`${D.adwordsAccountId}/${W}`}:{});const G=p();if(G){const{id:$,label:q}=G;new Image().src=`//www.googleadservices.com/pagead/conversion/${$}/?value=${P}&currency_code=${x}&label=${q}&guid=ON&script=0`}if(typeof window!="undefined"&&window.PARSELY&&window.PARSELY.loaded&&window.PARSELY.conversions&&window.PARSELY.conversions.trackSubscription&&window.PARSELY.conversions.trackSubscription(`${_&&(U||_.nickname||_.id)||""} Subscription`),O()==="bankless"){const $=_?`paid_${_.interval}ly`:"paid";window.history.replaceState({},document.title,updateQuery({plan:$})),page()}}function E(){const S=(0,c.iE)();if(S.properties.is_free_subscribed)return;S.properties.is_free_subscribed=!0,(0,c.Hx)("sign_up"),(0,c.XY)("event",{ec:"Signup",ea:"Signup Success"});const x="Yo9oCMOM1MYDEKuN5pYB";(0,c.NA)("conversion",S!=null&&S.adwordsAccountId&&(S!=null&&S.adwordsEventSendTo)?{send_to:`${S.adwordsAccountId}/${x}`}:{});const T=(0,c.xL)();T&&(new Image().src=`https://www.facebook.com/tr?id=${T}&ev=CompleteRegistration`),(0,l.g)("signup"),typeof window!="undefined"&&window.PARSELY&&window.PARSELY.loaded&&window.PARSELY.conversions&&window.PARSELY.conversions.trackNewsletterSignup&&window.PARSELY.conversions.trackNewsletterSignup("Newsletter Sign Up"),O()==="bankless"&&(window.history.replaceState({},document.title,(0,o.updateQuery)({plan:"free"})),(0,g.Md)())}function y(S={}){sendLocalGaEvent("Publication Created",S)}function p(){return typeof window!="undefined"&&window._preloads&&window._preloads.pub&&window._preloads.pub.google_conversion_info}function O(){var S,x;const T=typeof window!="undefined"&&((S=window._preloads)==null?void 0:S.pub);return((x=T==null?void 0:T.parent_publication)==null?void 0:x.subdomain)||(T==null?void 0:T.subdomain)}},3258:(z,u,e)=>{"use strict";e.d(u,{A:()=>l.A,FP:()=>l.FP,IU:()=>o.IU,K8:()=>l.K8,XY:()=>f.XY,j:()=>l.j,jA:()=>l.jA,jJ:()=>l.jJ,uF:()=>c.S,x6:()=>l.x6,xG:()=>l.xG});var o=e(8461),f=e(28876),l=e(32081),c=e(31256)},31256:(z,u,e)=>{"use strict";e.d(u,{S:()=>v});var o=e(39419),f=e.n(o),l=e(28876),c=e(32081);let g=null;function v(){var E;typeof window!="undefined"&&((E=window==null?void 0:window.navigator)!=null&&E.sendBeacon)&&(window.navigator.sendBeacon=window.navigator.sendBeacon.bind(window.navigator)),(0,l.LH)(),(0,l.dl)(),(0,l.jP)(),(0,c.Md)(),(0,o.windowReady)(()=>{const y=g;g=null,y&&y.length>0&&(0,c.At)(y)})}},31032:(z,u,e)=>{"use strict";e.d(u,{W:()=>f});var o=e(83322);const f=(0,o.randomString)()},28876:(z,u,e)=>{"use strict";e.d(u,{Hx:()=>O,LH:()=>T,NA:()=>S,XY:()=>x,dl:()=>y,iE:()=>p,jP:()=>_,xL:()=>s});var o=e(15045),f=e(39776),l=e(39419),c=e.n(l),g=e(31032);function v(w,{toHead:P=!1}={}){(0,l.windowReady)(()=>{const I=document.createElement("script");if(I.async=!0,I.src=w,P)document.head.appendChild(I);else{const D=document.getElementsByTagName("script")[0];D.parentNode&&D.parentNode.insertBefore(I,D)}})}function E(){return typeof window!="undefined"&&window._preloads&&window._preloads.publicationSettings&&window._preloads.publicationSettings.google_analytics_4_token}function y(){var w,P,I;if(typeof window=="undefined")return;const D=(P=(w=window==null?void 0:window._preloads)==null?void 0:w.pub)==null?void 0:P.google_tag_manager_token;if(!D)return;const N=E();if(D===N)return;window.dataLayer=window.dataLayer||[],(0,f.default)("exempt_from_gtm_filter")?window.dataLayer.push({"gtm.allowlist":["customPixels","customScripts","google","html","nonGooglePixels","nonGoogleScripts","nonGoogleIframes","sandboxedScripts"]}):window.dataLayer.push({"gtm.allowlist":["google"],"gtm.blocklist":["customPixels","customScripts","html","nonGooglePixels","nonGoogleScripts","nonGoogleIframes","sandboxedScripts"]}),window.dataLayer.push({"gtm.start":new Date().getTime(),event:"gtm.js"});const C=p();(I=C.user)!=null&&I.id&&window.dataLayer.push({userId:C.user.id.toString()}),v(`https://www.googletagmanager.com/gtm.js?id=${D}`,{toHead:!0})}function p(){let w;return typeof window!="undefined"&&(w=window._analyticsConfig),w||(w={}),w.properties||(w.properties={}),w.properties.browserSessionId=g.W,w}function O(w,P={}){var I;if(typeof window=="undefined"||!(window!=null&&window.publisherGA4gtag))return;const D=p();(I=D.user)!=null&&I.id&&(P.user_id=D.user.id.toString()),D.anonymousId&&(P.client_id=D.anonymousId),window.publisherGA4gtag("event",w,P)}function S(w,P){typeof window=="undefined"||!(window!=null&&window.gtag)||window.gtag("event",w,P)}function x(w,P={}){var I;const D=p(),N=d();if(!N)return;const C=(0,o.parseQuery)(window.location.href);P=Object.assign({v:1,t:w,tid:N,cid:D.anonymousId,dl:document.location.origin+document.location.pathname+document.location.search,dt:document.title||"",dr:document.referrer||"",cn:C.utm_campaign,cs:C.utm_source,cm:C.utm_medium,ck:C.utm_term,cc:C.utm_content,ci:C.utm_id},P),(I=D.user)!=null&&I.id&&(P.uid=D.user.id.toString()),new Image().src=`https://www.google-analytics.com/collect?${(0,o.serializeQuery)(P)}`}function T(){var w;if(typeof window=="undefined")return;const P=E();if(!P)return;window.GA4DataLayer=window.GA4DataLayer||[],window.publisherGA4gtag=function(){var D;(D=window.GA4DataLayer)==null||D.push(arguments)},window.publisherGA4gtag("js",new Date),window.publisherGA4gtag("config",P);const I=p();(w=I.user)!=null&&w.id&&window.publisherGA4gtag("config",P,{user_id:I.user.id.toString()}),I.anonymousId&&window.publisherGA4gtag("set","client_id",I.anonymousId),v(`https://www.googletagmanager.com/gtm.js?id=${P}&l=GA4DataLayer`,{toHead:!0})}function _(){var w;if(typeof window=="undefined")return;const P=p();!P.localGaPixelId&&!P.adwordsAccountId||(window.localGaDataLayer=window.localGaDataLayer||[],window.gtag=function(){var I;(I=window==null?void 0:window.localGaDataLayer)==null||I.push(arguments)},window.gtag("js",new Date),P.localGaPixelId&&window.gtag("config",P.localGaPixelId),P.adwordsAccountId&&window.gtag("config",P.adwordsAccountId),(w=P.user)!=null&&w.id&&window.gtag("userId",P.user.id.toString()),v(`https://www.googletagmanager.com/gtag/js?id=${P.localGaPixelId}&l=localGaDataLayer`))}function d(){return typeof window!="undefined"&&window._preloads&&window._preloads.pub&&window._preloads.pub.ga_pixel_id}function s(){return typeof window!="undefined"&&window._preloads&&window._preloads.pub&&window._preloads.pub.fb_pixel_id}},32081:(z,u,e)=>{"use strict";e.d(u,{A:()=>L,At:()=>le,FP:()=>I,K8:()=>J,Md:()=>j,j:()=>U,jA:()=>R,jJ:()=>G,x6:()=>W,xG:()=>q});var o=e(85928),f=e.n(o),l=e(44043),c=e(15045),g=e(63830),v=e(86405),E=e(39419),y=e.n(E),p=e(92298),O=e(31032),S=e(28876),x=Object.defineProperty,T=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,s=(ue,oe,te)=>oe in ue?x(ue,oe,{enumerable:!0,configurable:!0,writable:!0,value:te}):ue[oe]=te,w=(ue,oe)=>{for(var te in oe||(oe={}))_.call(oe,te)&&s(ue,te,oe[te]);if(T)for(var te of T(oe))d.call(oe,te)&&s(ue,te,oe[te]);return ue},P;const I=l.F,D=10,N=typeof window!="undefined"&&window!=window.top&&(0,g.l)(E.uuidV4);let C="browser";typeof window!="undefined"&&(navigator.standalone||(P=window.matchMedia)!=null&&P.call(window,"(display-mode: standalone)").matches)&&(C="standalone");const A=null;function L(){return N}function U(ue,oe={}){var te;if(["development","test"].includes((te="production")!=null?te:"")&&!ue)throw new Error("`undefined` event passed to FRONTEND track call");ie(ue,Object.assign({},oe))}function W(ue,oe,te={}){U(I.PUBLICATION_VISITED,w({visited_publication_id:ue.id,visited_publication_subdomain:ue.subdomain,source:oe},te))}function G({post:ue,hasPaywall:oe,surface:te,markRead:Z}){U(I.POST_SEEN,{post_id:ue.id,post_audience:ue.audience,post_type:ue.type,has_paywall:oe,post_age_minutes:ue.post_date&&f()().diff(ue.post_date,"minute"),surface:te}),Z&&$(ue.id)}function $(ue){return fetch(`/api/v1/posts/${ue}/seen`,{method:"POST"})}function q({post:ue,hasPaywall:oe,surface:te}){U(I.POST_BOTTOM_SEEN,{post_id:ue.id,post_audience:ue.audience,post_type:ue.type,has_paywall:oe,surface:te})}function J({post:ue}){ue!=null&&ue.id&&(U(I.POST_PAGE_PINGBACK,{seconds:0,post_id:ue.id}),setTimeout(()=>{U(I.POST_PAGE_PINGBACK,{seconds:10,post_id:ue.id})},1e4))}function R({previous:ue,url:oe}){ue&&(oe.includes("_no_an=true")||j())}function j(ue={}){var oe,te;if(document.location.pathname.startsWith("/embed")&&typeof window!="undefined"&&((te=(oe=window==null?void 0:window._preloads)==null?void 0:oe.pub)!=null&&te.embed_tracking_disabled))return;ie(I.PAGES,Object.assign(ye(),ue));const Z=(0,S.xL)();Z&&(new Image().src=`https://www.facebook.com/tr?id=${Z}&ev=PageView`),(0,v.g)("pageview"),(0,S.XY)("pageview"),typeof window!="undefined"&&window.PARSELY&&window.PARSELY.loaded&&window.PARSELY.beacon&&window.PARSELY.beacon.trackPageView&&window.PARSELY.beacon.trackPageView({url:document.location.origin+document.location.pathname+document.location.search,urlref:document.referrer||"",js:1})}function ie(ue,oe={}){var te,Z;if(typeof window=="undefined")return;const re={event:ue,properties:Object.assign({browserSessionId:O.W,iframeVisitId:N},oe),context:{client_type:"web",displayMode:C,page:{referrer:document.referrer,title:document.title,url:document.location.href},campaign:(0,p.l)()}},ae=(0,E.base64encode)(JSON.stringify(re));A&&A.length<D?A.push(ae):new Image().src=(0,c.pathWithQuery)("/api/v1/firehose",{_:new Date().getTime(),d:ae}),(Z=(te=window==null?void 0:window._preloads)==null?void 0:te.user)!=null&&Z.is_global_admin&&console.log(`EVENT: ${ue}`,oe)}function le(ue){typeof window!="undefined"&&(new Image().src=(0,c.pathWithQuery)("/api/v1/firehose/batch",{_:new Date().getTime(),d:ue.join(",")}))}function ye(){const ue={};if(typeof window!="undefined"){const oe=window._preloads&&window._preloads.post,te=window.location&&/^\/p\/([^\/]+)/.exec(window.location.pathname);te&&oe&&te[1]===oe.slug&&(ue.post_id=oe.id,ue.post_audience=oe.audience,ue.post_type=oe.type)}return ue}},66141:(z,u,e)=>{"use strict";e.d(u,{Z:()=>O});var o=e(15103),f=e(48583),l=e(95495),c=e(3258),g=e(85928),v=e.n(g),E=e(58884);const y=()=>{},p=(0,l.xu)(x=>(0,o.cn)({key:x,value:!1}));function O(x,T=null,_=y){const[d,s]=(0,f.KO)(p(x));if(!x)return[!0,y];const w=()=>{_(),(0,c.j)(c.FP.DASHBOARD_ACTION_BOX_DISMISSED,{key:x});const I=new Date;(0,E.ex)(x,I.toString()),s({key:x,value:!0})};return[d.value||S(x,T),w]}function S(x,T){let _;const d=typeof window=="undefined"?new Date().toString():(0,E.mM)(x);return d&&T?_=v()(d).add(T,"second").isAfterNow():_=!!d,_}},63030:(z,u,e)=>{"use strict";e.r(u),e.d(u,{getNewPubPodcastSettings:()=>s,getNewSectionPodcastSettings:()=>_,getPodcastEpisodeImageUrl:()=>w,getPubPodcastSettings:()=>d,getSectionPodcastSettings:()=>T});var o=e(15045),f=e(83322),l=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(P,I,D)=>I in P?l(P,I,{enumerable:!0,configurable:!0,writable:!0,value:D}):P[I]=D,O=(P,I)=>{for(var D in I||(I={}))E.call(I,D)&&p(P,D,I[D]);if(v)for(var D of v(I))y.call(I,D)&&p(P,D,I[D]);return P},S=(P,I)=>c(P,g(I));const x=P=>{if(!P)return[];const I=[];for(const D of P){if(I.length===2)break;const N=D.toLowerCase();for(const[C,A]of Object.entries(f.PODCAST_CATEGORIES)){if(I.length===2)break;if(C.toLowerCase()===N||C.toLowerCase().split(" & ").includes(N)){I.push({category:C});break}for(const L of A){if(I.length===2)break;if(L.toLowerCase()===N||L.toLowerCase().split(" & ").includes(N)){I.push({category:C,subcategory:L});break}}}}return I},T=({pub:P,section:I})=>{var D,N,C,A,L,U,W,G;const $=I==null?void 0:I.podcastSettings,q=(N=(D=$==null?void 0:$.podcast_title)!=null?D:I==null?void 0:I.name)!=null?N:null,J=(A=(C=$==null?void 0:$.podcast_description)!=null?C:I==null?void 0:I.description)!=null?A:null,R=(L=$==null?void 0:$.itunes_podcast_primary_category)!=null?L:null,j=(U=$==null?void 0:$.itunes_podcast_primary_subcategory)!=null?U:null,ie=(W=$==null?void 0:$.itunes_podcast_secondary_category)!=null?W:null,le=(G=$==null?void 0:$.itunes_podcast_secondary_subcategory)!=null?G:null,ye=($==null?void 0:$.itunes_explicit)||!1,ue=($==null?void 0:$.podcast_art_url)||(0,o.getDefaultPodcastArtUrlCDN)(),oe=($==null?void 0:$.paid_podcast_episode_art_url)||null,te=($==null?void 0:$.podcast_byline)||P.podcast_byline||P.author_name||"",Z=($==null?void 0:$.language)||P.podcast_language||"",re=!!$&&!!$.podcast_feed_url,ae=re?$.podcast_feed_url:(0,o.getPodcastRssUrl)({pub:S(O({},P),{section:I})});return{title:q,description:J,primaryCategory:R,primarySubcategory:j,secondaryCategory:ie,secondarySubcategory:le,isExplicit:ye,artUrl:ue,byline:te,language:Z,isRedirected:re,podcastRssUrl:ae,paidEpisodeArtUrl:oe}},_=({pub:P,section:I})=>{var D,N;const C=(D=I==null?void 0:I.name)!=null?D:null,A=(N=I==null?void 0:I.description)!=null?N:null,L=null,U=null,W=null,G=null,$=!1,q=(0,o.getDefaultPodcastArtUrlCDN)(),J=P.podcast_byline||P.author_name||"",R=P.podcast_language||"";return{title:C,description:A,primaryCategory:L,primarySubcategory:U,secondaryCategory:W,secondarySubcategory:G,isExplicit:$,artUrl:q,byline:J,language:R,isRedirected:!1,podcastRssUrl:null,paidEpisodeArtUrl:null}},d=({pub:P})=>{var I,D;const N=P.podcast_title||P.name,C=P.podcast_description||P.hero_text,A=P.itunes_podcast_primary_category,L=P.itunes_podcast_primary_subcategory,U=P.itunes_podcast_secondary_category,W=P.itunes_podcast_secondary_subcategory,G=(I=P.itunes_explicit)!=null?I:!1,$=P.podcast_art_url||(0,o.getDefaultPodcastArtUrlCDN)(),q=P.podcast_byline||P.author_name,J=P.podcast_language||"",R=!!P.show_pub_podcast_tab,j=!!P.podcast_feed_url,ie=O({},P);delete ie.section;const le=j?P.podcast_feed_url:(0,o.getPodcastRssUrl)({pub:ie});return{title:N,description:C,primaryCategory:A,primarySubcategory:L,secondaryCategory:U,secondarySubcategory:W,isExplicit:G,artUrl:$,byline:q,language:J,isRedirected:j,podcastRssUrl:le,showPodcastTab:R,paidEpisodeArtUrl:(D=P.paid_podcast_episode_art_url)!=null?D:null}},s=({pub:P,publication:I})=>{var D,N,C;const[A,L]=x(I.tags.map(({canonical_name:ue})=>ue)),U=`${P.name} Podcast`,W=P.hero_text,G=A==null?void 0:A.category,$=(D=A==null?void 0:A.subcategory)!=null?D:null,q=L==null?void 0:L.category,J=(N=L==null?void 0:L.subcategory)!=null?N:null,R=P.explicit||!1,j=(0,o.getDefaultPodcastArtUrlCDN)(),ie=P.author_name;return{title:U,description:W,primaryCategory:G,primarySubcategory:$,secondaryCategory:q,secondarySubcategory:J,isExplicit:R,artUrl:j,byline:ie,language:"",isRedirected:null,podcastRssUrl:null,showPodcastTab:!0,paidEpisodeArtUrl:(C=P.paid_podcast_episode_art_url)!=null?C:null}};function w(P,I){return(I==null?void 0:I.cover_image)||(I==null?void 0:I.podcast_art_url)||(P==null?void 0:P.podcast_art_url)}},69229:(z,u,e)=>{"use strict";e.d(u,{b:()=>c});var o=e(85928),f=e.n(o);function l(g){var v;return`${[g.is_primary,((v=g.publication)==null?void 0:v.author_id)===g.user_id,g.role==="admin",g.role==="contributor"].map(y=>y?"0":"1").join("")}-${f()(g.created_at).valueOf()}`}function c(g){return g.slice(0).sort((v,E)=>l(v)>l(E)?1:-1)}},16527:(z,u,e)=>{"use strict";e.d(u,{Q:()=>f});var o=e(20042);function f(l,c,{native:g=!1,newTab:v=!1}={}){l.defaultPrevented||(l.preventDefault(),g?v||l.metaKey||l.ctrlKey?Object.assign(document.createElement("a"),{target:"_blank",rel:"noopener",href:c}).click():window.location.assign(c):(0,o.route)(c))}},86405:(z,u,e)=>{"use strict";e.d(u,{g:()=>E});var o=e(20501);const f=()=>typeof window!="undefined"&&window._preloads&&window._preloads.pub&&window._preloads.pub.twitter_pixel_id||null,l=()=>typeof window!="undefined"&&window._preloads&&window._preloads.publicationSettings&&window._preloads.publicationSettings.twitter_pixel_signup_event_id||null,c=()=>typeof window!="undefined"&&window._preloads&&window._preloads.publicationSettings&&window._preloads.publicationSettings.twitter_pixel_subscribe_event_id||null,g=(y,p=null)=>{const O=f();if(!O)return;const S={p_id:"Twitter",p_user_id:0,txn_id:O,events:JSON.stringify([[y,p]]),tw_sale_amount:(p==null?void 0:p.value)||0,tw_order_quantity:(p==null?void 0:p.num_items)||0,tw_iframe_status:0,tw_document_href:document.location.href};v(S)},v=y=>{new Image().src=`https://t.co/i/adsct?${(0,o.serializeQuery)(y)}`,new Image().src=`https://analytics.twitter.com/i/adsct?${(0,o.serializeQuery)(y)}`},E=(y,{quantity:p,price:O}={})=>{if(y==="purchase"){const S=c();S&&typeof window.twq=="function"&&window.twq("event",S),g("purchase",{num_items:p,value:O})}else if(y==="signup"){const S=l();S&&typeof window.twq=="function"&&window.twq("event",S),g("signup")}else g("pageview")}},8479:(z,u,e)=>{"use strict";e.d(u,{NL:()=>$,Q1:()=>U,Wf:()=>C,do:()=>N,ib:()=>G,kp:()=>J,rd:()=>q,x8:()=>A});var o=e(30396),f=e(28599),l=e.n(f),c=e(73955),g=e.n(c),v=e(80569),E=e.n(v),y=e(39419),p=e.n(y),O=Object.defineProperty,S=Object.defineProperties,x=Object.getOwnPropertyDescriptors,T=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,s=(ie,le,ye)=>le in ie?O(ie,le,{enumerable:!0,configurable:!0,writable:!0,value:ye}):ie[le]=ye,w=(ie,le)=>{for(var ye in le||(le={}))_.call(le,ye)&&s(ie,ye,le[ye]);if(T)for(var ye of T(le))d.call(le,ye)&&s(ie,ye,le[ye]);return ie},P=(ie,le)=>S(ie,x(le)),I=(ie,le)=>{var ye={};for(var ue in ie)_.call(ie,ue)&&le.indexOf(ue)<0&&(ye[ue]=ie[ue]);if(ie!=null&&T)for(var ue of T(ie))le.indexOf(ue)<0&&d.call(ie,ue)&&(ye[ue]=ie[ue]);return ye},D=(ie,le,ye)=>new Promise((ue,oe)=>{var te=ae=>{try{re(ye.next(ae))}catch(se){oe(se)}},Z=ae=>{try{re(ye.throw(ae))}catch(se){oe(se)}},re=ae=>ae.done?ue(ae.value):Promise.resolve(ae.value).then(te,Z);re((ye=ye.apply(ie,le)).next())});const N={result:null,isLoading:!1,hasLoadedOnce:!1,error:null,promise:null,refetch:()=>Promise.resolve(null),clearError:()=>{},setResult:()=>{}};function C(ie,le,{auto:ye,initialResult:ue}={}){const[oe,te]=(0,o.eJ)({result:ue||null,isLoading:!!ye,hasLoadedOnce:!1,error:null,promise:null}),Z=()=>{te(P(w({},oe),{error:null}))},re=(se={})=>{var be=se,{abortController:_e=new(l())}=be,pe=I(be,["abortController"]);const me=ie(P(w({},pe),{signal:_e.signal})).then(Te=>{if(!_e.signal.aborted)return te({isLoading:!1,hasLoadedOnce:!0,error:null,result:Te,promise:null}),Te},Te=>{if(!_e.signal.aborted)return console.error("There was an error fetching resource",Te),te(ve=>P(w({},ve),{isLoading:!1,error:Te,result:null,promise:null})),Te});return te(Te=>P(w({},Te),{isLoading:!0,error:null,promise:me})),me},ae=se=>{te(be=>P(w({},be),{error:null,result:se,isLoading:!1,promise:null}))};return(0,o.d4)(()=>{if(ye){const se=new(l());return re({abortController:se}),()=>{se.abort()}}},le||[]),P(w({},oe),{refetch:re,setResult:ae,clearError:Z})}function A(ie,le){switch(le.type){case"page_reset":return[{isLoading:!0,error:null,result:null}];case"page_start":{const ye=ie.slice(),{page:ue,id:oe}=le.payload;return ye[ue]={result:null,id:oe,isLoading:!0,error:null},ye}case"page_load":{const{id:ye,result:ue}=le.payload;return ie.map(oe=>oe.id===ye?P(w({},oe),{isLoading:!1,result:ue,error:null}):oe)}case"page_error":{const{id:ye,error:ue}=le.payload;return ie.map(oe=>oe.id===ye?P(w({},oe),{isLoading:!1,result:null,error:ue}):oe)}}return ie}function L(ie,le,{auto:ye,initialResult:ue,pages:oe,dispatch:te}={}){var Z;const[re,ae]=(0,o._Y)(A,[{result:ue||null,isLoading:!!ye,error:null}]),se=oe!=null?oe:re,be=te!=null?te:ae,_e=(ce={})=>{var Le=ce,{abortController:Ne=new(l()),page:He=se.length}=Le,ze=I(Le,["abortController","page"]);const Xe=se[He-1],_t=g()();return be({type:"page_start",payload:{page:He,id:_t}}),ie({options:ze,signal:Ne.signal,page:He,lastPage:Xe}).then(we=>{if(!Ne.signal.aborted)return be({type:"page_load",payload:{page:He,id:_t,result:we}}),we},we=>{if(!Ne.signal.aborted)return be({type:"page_error",payload:{page:He,id:_t,error:we}}),we})},pe=ce=>(be({type:"page_reset"}),_e(P(w({},ce),{page:0})));(0,o.d4)(()=>{if(ye){const ce=new(l());return pe({abortController:ce}),()=>{ce.abort()}}},le||[]);let me=!1;const Te=()=>D(this,null,function*(){if(!me){const ce=se[se.length-1];if(!ce.isLoading&&!ce.error)return me=!0,yield _e()}}),ve=se[se.length-1];return{pages:se,page:se.length,lastPage:ve,fetchMore:Te,canFetchMore:ve&&!ve.isLoading&&!ve.error,fetchFirstPage:pe,hasLoadedOnce:!!((Z=se[0])!=null&&Z.result)}}function U(ie){var le=ie,{auto:ye,initialResult:ue,deps:oe}=le,te=I(le,["auto","initialResult","deps"]);return C(Z=>D(this,null,function*(){var re=Z,{signal:ae}=re,se=I(re,["signal"]);const{pathname:be="",query:_e,body:pe,method:me="get"}=w(w({},te),se),Te=E()(me.toUpperCase(),be);_e&&Te.query(_e),pe&&Te.send(pe),ae.addEventListener("abort",()=>{Te.abort()});const ve=yield Te;if(ae.aborted)return;const ce=ve.error;if(ce)throw ce;return ve.body}),oe||[],{auto:ye,initialResult:ue})}const W=new Map;function G(ie){var le=ie,{pathname:ye,auto:ue,initialResult:oe,deps:te,cacheTtl:Z}=le,re=I(le,["pathname","auto","initialResult","deps","cacheTtl"]);const ae=C(be=>{var _e=be,{pathname:pe}=_e,me=I(_e,["pathname"]);if(!ye)throw new Error("useFetch requires a pathname");if(Z){const ve=W.get(ye);if(ve){const{ts:ce,ttl:Le,promise:Ne}=ve;if(ce+Le>Date.now())return Ne}}const Te=q(pe!=null?pe:ye,w(w({},re),me));return Z&&W.set(ye,{ts:Date.now(),ttl:Z,promise:Te}),Te},te||[],{auto:ue,initialResult:oe}),se=be=>{ye&&Z&&W.set(ye,{ts:Date.now(),ttl:Z,promise:Promise.resolve(be)}),ae.setResult(be)};return P(w({},ae),{setResult:se})}function $(ie){var le=ie,{pathname:ye,auto:ue,initialResult:oe,deps:te,getPageInit:Z,pages:re,dispatch:ae}=le,se=I(le,["pathname","auto","initialResult","deps","getPageInit","pages","dispatch"]);return L(({page:be,lastPage:_e,options:pe})=>{if(!ye)throw new Error("useFetch requires a pathname");const me=Z({init:w(w({},se),pe),page:be,lastPage:_e});return q(ye,me)},te||[],{auto:ue,initialResult:oe,pages:re,dispatch:ae})}function q(ie){return D(this,arguments,function*(le,ye={}){var ue;const te=w({cache:"no-cache"},ye),{query:Z,json:re}=te,ae=I(te,["query","json"]);let se=le;if(Z){let _e;Z instanceof URLSearchParams?_e=Z:_e=new URLSearchParams(Object.entries(Z).reduce((me,[Te,ve])=>(ve!==void 0&&(Array.isArray(ve)?ve.forEach(ce=>{ce!==void 0&&me.push([Te,ce])}):me.push([Te,ve])),me),[]));const pe=_e.toString();pe&&(le.indexOf("?")!==-1?se+=`&${pe}`:se+=`?${pe}`)}re&&(ae.body=JSON.stringify(re),ae.headers instanceof Headers||(ae.headers=new Headers(ae.headers)),ae.headers.set("Content-Type","application/json"));const be=yield fetch(se,ae);if(!be.ok){let _e;try{_e=yield be.json()}catch(pe){_e={}}throw new J(be,_e)}return["DELETE","HEAD"].includes((ue=ae==null?void 0:ae.method)!=null?ue:"")?{}:be.json()})}class J extends Error{constructor(le,ye){super(),this.response=le,this.body=ye}getMessage(le){return(0,y.getNetworkErrorMessageFromResponse)(this.body,le)}}function R(ie,le="Something went wrong."){return ie instanceof J?ie.getMessage():le}function j(ie,le,ye){const[ue,oe]=useState(null);return useCallback((...te)=>{clearTimeout(ue),oe(null),oe(setTimeout(()=>ie(...te),le))},[ue,...ye])}},11533:(z,u,e)=>{"use strict";e.d(u,{j:()=>l});var o=e(30396),f=e(20042);function l(g,v){(0,o.d4)(()=>{const E=y=>{g(y)};return f.subscribers.push(E),()=>{f.subscribers.splice(f.subscribers.indexOf(E)>>>0,1)}},v)}function c({path:g}={}){const[v,E]=useState({}),y=useRef(null);l(S=>{y.current=S,E({})},[]);const p=y.current||getCurrentUrl(),O=p.replace(/\?.+$/,"");return y.current=null,[{url:p,path:O,matches:g&&exec(O,g,{})||null},route]}},26686:(z,u,e)=>{"use strict";e.d(u,{_:()=>E});var o=e(83757),f=e(8479),l=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,v=(y,p)=>{var O={};for(var S in y)c.call(y,S)&&p.indexOf(S)<0&&(O[S]=y[S]);if(y!=null&&l)for(var S of l(y))p.indexOf(S)<0&&g.call(y,S)&&(O[S]=y[S]);return O};function E(y,p={},O){var S=p,{deps:x,auto:T=!0}=S,_=v(S,["deps","auto"]);return(0,o.ZP)(T?x?[...x,y]:y:null,()=>(0,f.rd)(y,_),O)}},6742:(z,u,e)=>{"use strict";e.d(u,{UM:()=>g,th:()=>v});var o=e(30396),f=e(39419),l=e.n(f);function c(E,y,{root:p,threshold:O=0,rootMargin:S,disabled:x=!1}={}){(0,o.d4)(()=>{if(typeof IntersectionObserver=="undefined"||!E.current||x)return;const T=new IntersectionObserver(d=>{y(d.some(s=>s.isIntersecting))},{root:p,threshold:O,rootMargin:S});T.observe(E.current);function _(){T.disconnect()}return _},[E,y,p,O,S,x])}function g(E,y,{root:p,threshold:O=0,rootMargin:S,disabled:x=!1}={}){const T=(0,o.sO)(!1),_=(0,o.I4)(d=>{d&&!T.current&&(T.current=!0,y())},[y,T]);c(E,_,{root:p,threshold:O,rootMargin:S,disabled:x||T.current})}function v(E){const[y,p]=(0,o.eJ)(!1);return(0,o.d4)(()=>{const O=()=>{const S=(0,f.isWindowVisible)();p(S),E==null||E(S)};return(0,f.onWindowVisibilityChange)(O),()=>{(0,f.offWindowVisibilityChange)(O)}},[E]),y}},36868:(z,u,e)=>{"use strict";e.d(u,{P:()=>o});const o=(f,l)=>l.payments_state==="enabled"?f.is_subscribed:f.is_free_subscribed},62246:(z,u,e)=>{"use strict";e.d(u,{fe:()=>f.f,mz:()=>l.m,r6:()=>o.r,u_:()=>f.u,xB:()=>o.x});var o=e(28079),f=e(53940),l=e(29354)},21958:(z,u,e)=>{"use strict";e.d(u,{L:()=>_});var o=e(6400),f=e(98661),l=e(94184),c=e.n(l),g=Object.defineProperty,v=Object.defineProperties,E=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,S=(d,s,w)=>s in d?g(d,s,{enumerable:!0,configurable:!0,writable:!0,value:w}):d[s]=w,x=(d,s)=>{for(var w in s||(s={}))p.call(s,w)&&S(d,w,s[w]);if(y)for(var w of y(s))O.call(s,w)&&S(d,w,s[w]);return d},T=(d,s)=>v(d,E(s));function _(d,s="div",w){return(0,f.forwardRef)((P,I)=>(0,o.createElement)(s,T(x(x({},w),P),{ref:I,className:c()(d,P==null?void 0:P.className)})))}},13045:(z,u,e)=>{"use strict";e.d(u,{HZ:()=>f.H,xu:()=>g.xu,zx:()=>l.zx,hE:()=>c.h,XZ:()=>P.X,ji:()=>D,iz:()=>E.i,hs:()=>y.hs,tu:()=>y.tu,gq:()=>y.gq,hU:()=>l.hU,Tz:()=>v.Tz,v2:()=>x.v2,sN:()=>x.sN,u_:()=>S.u_,xB:()=>S.xB,gu:()=>U.g,xv:()=>d.xv,oi:()=>q.o,gx:()=>R.g,FN:()=>w.FN,u:()=>s.u,pm:()=>w.pm,dd:()=>w.dd});var o=e(11059),f=e(83787),l=e(84040),c=e(91041),g=e(84606),v=e(15187),E=e(48960),y=e(51126),p=e(94016),O=e(56288),S=e(62246),x=e(76235),T=e(92106),_=e(65414),d=e(43887),s=e(92630),w=e(75425),P=e(53570),I=e(6400);const D=({contentBelow:ie,details:le,disabled:ye,label:ue,name:oe,paddingBottom:te,paddingTop:Z,testid:re,track:ae,value:se,onChange:be})=>(0,I.h)(y.gq,{as:"label",gap:8,paddingBottom:te,paddingTop:Z},(0,I.h)(P.X,{as:"div",checked:se,name:oe!=null?oe:re,"data-track-input":ae,disabled:ye,size:"small",onChange:be}),(0,I.h)(y.tu,{flex:"grow"},(0,I.h)(d.xv.B4,{as:"span",color:ye?"secondary":"primary"},ue),le&&(0,I.h)(d.xv.Detail,null,le),ie));var N=e(72657),C=e(69045);const A={container:"frontend-pencraft-form-FieldGroup-module__container--GuL2k"},L=({children:ie,label:le})=>h(FlexColumn,null,le&&h(Text.Meta,{color:"primary",paddingBottom:4,paddingLeft:4},le),h(FlexColumn,{className:css.container,padding:16,radius:12,gap:16},ie));var U=e(2019),W=e(96427);const G=({details:ie,helpText:le,label:ye,name:ue,options:oe,paddingBottom:te,paddingTop:Z,value:re,onChange:ae})=>h(Field,{label:ye,details:ie,helpText:le,paddingTop:Z,paddingBottom:te,wrapWithLabel:!0},h(Select,{name:ue,value:re,onChange:ae},oe.map(se=>h("option",{value:se.value},se.label))));var $=e(30396),q=e(34394);const J=({details:ie,disabled:le,helpText:ye,label:ue,paddingBottom:oe,paddingTop:te,value:Z,onChange:re})=>{const ae=useCallback(se=>{re(se.target.value)},[re]);return h(Field,{label:ue,details:ie,helpText:ye,paddingTop:te,paddingBottom:oe,wrapWithLabel:!0},h(TextInput,{disabled:le,value:Z,onChange:ae}))};var R=e(27885);const j=({details:ie,disabled:le,helpText:ye,label:ue,paddingBottom:oe,paddingTop:te,value:Z,onChange:re})=>{const ae=useCallback(se=>{re(se.target.value)},[re]);return h(Field,{details:ie,helpText:ye,label:ue,paddingBottom:oe,paddingTop:te,wrapWithLabel:!0},h(Textarea,{disabled:le,value:Z,onChange:ae}))}},50292:(z,u,e)=>{"use strict";e.d(u,{SJ:()=>g});var o=e(6400),f=e(30396);const l=(0,o.createContext)({setChildOptions:()=>{},addRssFeed:()=>{},onboardingModalRef:{current:null},isLoading:!1,subscriptions:[],publicationUsers:[],onPageScroll:()=>{},setPinTitle:()=>{},setDrawer:()=>null,checkFocus:()=>!1,requireLogin:null});function c(v,{shouldShowGetAppPill:E=!0,style:y,alwaysPinTitle:p,backAction:O,onRefresh:S}={}){const x=g();return useLayoutEffect(()=>{x.setChildOptions({title:v,style:y,alwaysPinTitle:p,backAction:O,shouldShowGetAppPill:E,onRefresh:S})},[x,v,y,O,E,S]),useLayoutEffect(()=>{x.setPinTitle(!1)},[]),x}function g(){return(0,f.qp)(l)}},19696:(z,u,e)=>{"use strict";e.d(u,{L:()=>o.L});var o=e(21958)},41474:(z,u,e)=>{"use strict";e.d(u,{CD:()=>s,Kr:()=>N,MJ:()=>d,rw:()=>x,zi:()=>S});var o=e(3258),f=Object.defineProperty,l=Object.defineProperties,c=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,y=(C,A,L)=>A in C?f(C,A,{enumerable:!0,configurable:!0,writable:!0,value:L}):C[A]=L,p=(C,A)=>{for(var L in A||(A={}))v.call(A,L)&&y(C,L,A[L]);if(g)for(var L of g(A))E.call(A,L)&&y(C,L,A[L]);return C},O=(C,A)=>l(C,c(A));function S(C,A,{extraEventProps:L={},tabId:U,primaryItem:W}={}){_("seen",C,A,{extraEventProps:L,tabId:U,primaryItem:W})}function x(C,A,L,{extraEventProps:U={},tabId:W,primaryItem:G}={}){_("clicked",C,A,{extraEventProps:O(p({clicked_element:L},U),{tabId:W,primaryItem:G})})}function T(C,A,{primaryItem:L}={}){var U,W,G,$,q,J;return{item_primary_entity_key:L&&"entity_key"in L?L.entity_key:"entity_key"in C?C.entity_key:"",item_entity_key:"entity_key"in C?C.entity_key:"",item_type:C.type,item_context_type:"context"in C?C.context.type:"",item_context_timestamp:new Date("context"in C?C.context.timestamp:new Date).toISOString(),item_context_user_id:"context"in C?(U=C.context.users[0])==null?void 0:U.id:void 0,item_context_user_ids:"context"in C&&((G=(W=C.context.users)==null?void 0:W.length)!=null?G:0)>0?C.context.users.map(({id:R})=>R):[],item_publication_id:"publication"in C?($=C.publication)==null?void 0:$.id:void 0,item_post_id:(q=C.post)==null?void 0:q.id,item_comment_id:(J=C.comment)==null?void 0:J.id,item_can_reply:"canReply"in C?C.canReply:!0,tab_id:A!=null?A:void 0}}function _(C,A,L,{extraEventProps:U={},tabId:W,primaryItem:G}={}){const $=T(A,W!=null?W:null,{primaryItem:G});(0,o.j)(C==="seen"?o.FP.FEED_ITEM_SEEN:o.FP.FEED_ITEM_CLICKED,p(p({surface:L,tabId:W},$),U))}function d(C,A,{extraEventProps:L={}}={}){w("seen",C,A,{extraEventProps:L})}function s(C,A,L,{extraEventProps:U={}}={}){w("clicked",C,A,{extraEventProps:p({clicked_element:L},U)})}function w(C,A,L,{extraEventProps:U={}}={}){var W,G,$,q;(0,o.j)(C==="seen"?o.FP.FEED_USER_SUGGESTION_SEEN:o.FP.FEED_USER_SUGGESTION_CLICKED,p({suggested_user_id:A.user.id,suggested_publication_id:(G=(W=A.publication)==null?void 0:W.id)!=null?G:null,suggestion_source:($=A.source)!=null?$:null,suggestion_id:(q=A.id)!=null?q:null,surface:L},U))}function P(C,{utm_source:A}={}){track(EVENTS.FEED_SCREEN_VIEWED,{utm_source:A,tab_id:C})}function I(C,{utm_source:A}={}){const L=T(C,null);track(EVENTS.FEED_PERMALINK_SCREEN_VIEWED,p({utm_source:A},L))}function D(C){const A=T(C,null);track(EVENTS.FEED_HIDDEN_REPLIES_VIEWED,p({},A))}function N(C,A,{tabId:L,noteId:U}={}){(0,o.j)(o.FP.FEED_HIDDEN_ATTACHMENT_SHOWN,{attachmentId:C,reason:A,tabId:L,noteId:U})}},91870:(z,u,e)=>{"use strict";e.d(u,{I0:()=>I,RR:()=>P,d6:()=>C,ev:()=>N,kc:()=>A});var o=e(6400),f=e(30396),l=e(70444),c=e(20501),g=e(95582),v=e(8479),E=e(39419),y=e.n(E),p=Object.defineProperty,O=Object.defineProperties,S=Object.getOwnPropertyDescriptors,x=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,d=(R,j,ie)=>j in R?p(R,j,{enumerable:!0,configurable:!0,writable:!0,value:ie}):R[j]=ie,s=(R,j)=>{for(var ie in j||(j={}))T.call(j,ie)&&d(R,ie,j[ie]);if(x)for(var ie of x(j))_.call(j,ie)&&d(R,ie,j[ie]);return R},w=(R,j)=>O(R,S(j));const P=(0,o.createContext)({dispatch:()=>{}});function I(){return(0,f.qp)(P).dispatch}const D={isSigningIn:!1,signInNoExit:!1,pages:[],posts:new Map,publications:new Map,comments:new Map,unhiddenReplyCommentIds:new Set},N=(0,o.createContext)(D);function C({initialItem:R}={}){return(0,g.L)(L,()=>R?W(D,R):D)}function A(){return(0,f.qp)(N)}function L(R,j){var ie,le,ye,ue;switch(j.type){case"sign_in":return w(s({},R),{lastDispatchType:j.type,isSigningIn:j.payload.isSigningIn,signInNoExit:(ie=j.payload.signInNoExit)!=null?ie:!1});case"page_load":{const{result:oe}=j.payload;return w(s({},U(R,oe.items)),{lastDispatchType:j.type,pages:(0,v.x8)(R.pages,j)})}case"post_load":{const{post:oe,publication:te}=j.payload,Z=new Map(R.posts);Z.set(oe.id,s(s({},Z.get(oe.id)),oe));const re=new Map(R.publications);return re.set(te.id,s(s({},re.get(te.id)),te)),w(s({},R),{posts:Z})}case"post_like":{const{postId:oe,isLiked:te}=j.payload,Z=R.posts.get(oe);return G(R,j.type,oe,$(Z,te))}case"post_restack":{const{postId:oe,isRestacked:te}=j.payload,Z=R.posts.get(oe);return Z?G(R,j.type,oe,q(Z,te)):R}case"post_delete":{const{publication:oe,post:te}=j.payload,Z=new Map(R.posts);Z.delete(te.id);const re=new Map([...R.comments].filter(([ae,se])=>se.post_id!==te.id));return[(0,c.getFeedPostUrl)(te.id,{noBase:!0}),(0,c.getFeedShortPostUrl)(oe,te,{noBase:!0})].includes(window.location.pathname)&&(0,E.redirect)(l.Ds,{replace:!0}),w(s({},R),{lastDispatchType:j.type,posts:Z,comments:re,pages:R.pages.map(ae=>w(s({},ae),{result:ae.result?w(s({},ae.result),{items:ae.result.items.filter(se=>{var be;return((be=se.post)==null?void 0:be.id)!==te.id})}):ae.result}))})}case"post_save":{const{postId:oe,isSaved:te}=j.payload;return R.posts.get(oe)?G(R,j.type,oe,{is_saved:te}):R}case"comment_like":{const{commentId:oe,isLiked:te}=j.payload,Z=R.comments.get(oe);return w(s({},R),{lastDispatchType:j.type,comments:J(R.comments,oe,w(s({},Z),{reaction:te?"\u2764":void 0,reactions:w(s({},Z.reactions),{"\u2764":(((le=Z.reactions)==null?void 0:le["\u2764"])||0)+(te?1:-1)}),reaction_count:(Z.reaction_count||0)+(te?1:-1)}))})}case"comment_restack":{const{commentId:oe,isRestacked:te}=j.payload,Z=R.comments.get(oe);return w(s({},R),{lastDispatchType:j.type,comments:Z?J(R.comments,oe,w(s({},Z),{restacked:te,restacks:(Z.restacks||0)+(te?1:-1)})):R.comments})}case"comment_delete":{const{comment:oe}=j.payload,te=new Map(R.posts),Z=new Map([...R.comments].filter(([se,be])=>be.id!==oe.id&&!new RegExp(`(^|.)${oe.id}(.|$)`).test(be.ancestor_path))),re=te.get(oe.post_id),ae=oe.ancestor_path&&Z.get(Number(oe.ancestor_path.split(".").pop()));return ae?Z.set(ae.id,w(s({},ae),{children_count:(ae.children_count||1)-1,children:(ae.children||[]).filter(se=>se.id!==oe.id)})):re&&te.set(re.id,w(s({},re),{child_comment_count:(re.child_comment_count||1)-1})),[(0,c.getFeedCommentUrl)(oe,{noBase:!0})].includes(window.location.pathname)&&(0,E.redirect)(l.Ds,{replace:!0}),w(s({},R),{lastDispatchType:j.type,posts:te,comments:Z,pages:R.pages.map(se=>w(s({},se),{result:se.result?w(s({},se.result),{items:se.result.items.filter(be=>{var _e;return((_e=be.comment)==null?void 0:_e.id)!==oe.id&&!(be.parentComments||[]).filter(Boolean).map(pe=>pe.id).includes(oe.id)})}):se.result}))})}case"new_post":return w(s({},R),{lastDispatchType:j.type,publications:new Map([...R.publications].concat([[j.payload.publication.id,j.payload.publication]])),posts:new Map([...R.posts].concat([[j.payload.post.id,j.payload.post]])),pages:[{error:null,isLoading:!1,result:{items:[{type:"post",entity_key:(0,l.vy)(j.payload.post.id),publication:j.payload.publication,post:j.payload.post,context:j.payload.context||{}}]}},...R.pages]});case"new_comment":{const{comment:oe}=j.payload,te=new Map(R.posts),Z=te.get(oe.post_id);Z&&te.set(Z.id,w(s({},Z),{child_comment_count:(Z.child_comment_count||0)+1}));const re=new Map(R.comments);re.set(oe.id,oe);const ae=(((ye=oe.ancestor_path)==null?void 0:ye.split("."))||[]).map(Number).filter(Boolean).map(pe=>re.get(pe)||null),se=(ue=ae[ae.length-1])!=null?ue:null;se&&re.set(se.id,w(s({},se),{children_count:(se.children_count||0)+1,children:[oe].concat(se.children||[])}));const _e=[{error:null,isLoading:!1,result:{items:[{type:"comment",entity_key:(0,l.It)(oe.id),comment:oe,parentComments:ae,publication:null,post:null,canReply:!0,context:{type:"comment",timestamp:new Date().toISOString(),users:[],fallbackReason:"",fallbackUrl:null}}]}},...R.pages];return w(s({},R),{lastDispatchType:j.type,posts:te,comments:re,pages:_e})}case"edit_comment":{const{comment:oe}=j.payload,te=new Map(R.comments);return te.set(oe.id,oe),w(s({},R),{lastDispatchType:j.type,comments:te})}case"comments_load":{const{comments:oe}=j.payload,te=[],Z=oe.slice();for(;Z.length>0;){const re=Z.pop();te.push(re),Z.push(...re.children||[])}return w(s({},R),{lastDispatchType:j.type,comments:new Map([...R.comments].concat(te.map(re=>[re.id,re])))})}case"item_load":{const{item:oe}=j.payload;return w(s({},W(R,oe)),{lastDispatchType:j.type})}case"items_load":{const{items:oe}=j.payload;return w(s({},U(R,oe)),{lastDispatchType:j.type})}case"new_feed_items":{const oe=[...R.pages];if(j.payload.insertLocation){const te={error:null,isLoading:!1,result:{items:j.payload.feedItems}};j.payload.insertLocation==="prepend"?oe.unshift(te):j.payload.insertLocation==="append"&&oe.push(te)}return w(s({},U(R,j.payload.feedItems)),{lastDispatchType:j.type,pages:oe})}case"reply_unhidden":{const{comment_id:oe}=j.payload,te=R.comments.get(oe),Z=new Map(R.comments);return Z.set(oe,w(s({},te),{hide_reply:!1})),w(s({},R),{lastDispatchType:j.type,comments:Z,unhiddenReplyCommentIds:new Set([...R.unhiddenReplyCommentIds,oe])})}}return w(s({},R),{lastDispatchType:j.type,pages:(0,v.x8)(R.pages,j)})}function U(R,j){const ie=new Map(R.publications),le=new Map(R.posts),ye=new Map(R.comments);for(const ue of j){if("publication"in ue&&ue.publication&&ie.set(ue.publication.id,ue.publication),"post"in ue){const{post:oe}=ue;oe&&le.set(oe.id,oe)}if("comment"in ue){const{comment:oe}=ue;if(oe&&(ye.set(oe.id,oe),oe.attachments))for(const te of oe.attachments)te.type==="post"&&(le.set(te.post.id,te.post),ie.set(te.publication.id,te.publication))}if("parentComments"in ue)for(const oe of ue.parentComments)oe&&ye.set(oe.id,oe)}return w(s({},R),{publications:ie,posts:le,comments:ye})}function W(R,j){var ie;return w(s({},R),{posts:j.post?J(R.posts,j.post.id,j.post):R.posts,publications:j.publication?J(R.publications,j.publication.id,j.publication):R.publications,comments:new Map([...R.comments].concat([j.comment,...(ie=j.parentComments)!=null?ie:[]].filter(Boolean).map(le=>[le.id,le])))})}function G(R,j,ie,le){const ye=new Map(R.posts),ue=ye.get(ie);return ue&&ye.set(ue.id,s(s({},ue),le)),w(s({},R),{lastDispatchType:j,posts:ye})}function $(R,j){var ie;const le=j!=null?j:!R.reaction,ye="\u2764";return{reaction:le,reactions:{[ye]:(((ie=R.reactions)==null?void 0:ie[ye])||0)+(j?1:-1)}}}function q(R,j){return{restacked:j,restacks:(R.restacks||0)+(j?1:-1)}}function J(R,j,ie){const le=new Map(R);return le.set(j,ie),le}},73413:(z,u,e)=>{"use strict";e.d(u,{L:()=>f});var o=e(30123);const f=document.location.origin===o.tE},4948:(z,u,e)=>{"use strict";e.d(u,{M:()=>f});var o=e(30396);function f(l,c,{shouldCheck:g,threshold:v=200,bodyRef:E}){const y=(0,o.sO)(),p=E!=null?E:y,O=()=>{const S=p.current;if(S){const{bottom:x}=S.getBoundingClientRect();x<window.innerHeight+v&&l()}};return(0,o.d4)(()=>{if(g)return window.addEventListener("scroll",O,{capture:!0,passive:!0}),()=>{window.removeEventListener("scroll",O,{capture:!0})}},c),{bodyRef:p,check:O}}},44396:(z,u,e)=>{"use strict";e.d(u,{XA:()=>v});var o=e(30396),f=e(1852),l=e.n(f),c=e(39419),g=e.n(c);function v(){return(0,f.useMediaQuery)({maxWidth:650})}function E(){return useMediaQuery({maxWidth:1400})}function y(){const[p,O]=useState(!1);return useLayoutEffect(()=>{O(isIOs())},[]),p}},72307:(z,u,e)=>{"use strict";e.d(u,{Th:()=>d,Y0:()=>w,_V:()=>I,e:()=>_,lV:()=>T});var o=e(6400),f=e(30396),l=e(8479),c=Object.defineProperty,g=Object.defineProperties,v=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,O=(D,N,C)=>N in D?c(D,N,{enumerable:!0,configurable:!0,writable:!0,value:C}):D[N]=C,S=(D,N)=>{for(var C in N||(N={}))y.call(N,C)&&O(D,C,N[C]);if(E)for(var C of E(N))p.call(N,C)&&O(D,C,N[C]);return D},x=(D,N)=>g(D,v(N));function T(D){const N=(0,l.ib)({pathname:"/api/v1/subscriptions",auto:D,deps:[]});return(0,f.Ye)(()=>x(S({},N),{result:N.result?x(S({},N.result),{publicationMap:new Map(N.result.publications.map(A=>[A.id,A])),subscriptionMap:new Map(N.result.subscriptions.map(A=>[A.publication_id,A])),publicationUserMap:new Map(N.result.publicationUsers.map(A=>[A.publication_id,A]))}):null}),[N])}const _=(0,o.createContext)(l.do);function d(){return(0,f.qp)(_)}function s(D){var N;const{subscriptionMap:C,publicationUserMap:A,publicationsWithPledges:L}=(N=d().result)!=null?N:{subscriptionMap:new Map,publicationUserMap:new Map,publicationsWithPledges:[]},U=C.get(D),W=A.get(D);return{subscription:U,publicationUser:W,is_pledged:!!(L!=null&&L.includes(D))}}function w(D){const{subscription:N,publicationUser:C,is_pledged:A}=s(D),L=(N==null?void 0:N.membership_state)==="free_signup",U=(N==null?void 0:N.membership_state)==="subscribed",W=!!(N!=null&&N.is_founding),G=!!(C&&["contributor","admin"].includes(C.role));return{subscription:N,publicationUser:C,isFreeSubscribed:L,isPaid:U,isAuthor:G,isFounding:W,isPledged:A}}function P(){var D,N,C;const{publicationUsers:A,publicationMap:L}=(D=d().result)!=null?D:{publicationMap:new Map,publicationUsers:[]},U=(C=(N=A.find(W=>W.is_primary))!=null?N:A.find(W=>W.role==="admin"))!=null?C:A.find(W=>W.role==="contributor");return U&&L.get(U.publication_id)}function I(D){var N,C;const{publicationUsers:A}=(N=d().result)!=null?N:{publicationUsers:[]};return(C=A.find(L=>L.publication_id===D))!=null?C:null}},82622:(z,u,e)=>{"use strict";e.d(u,{COMMENT_STATUS:()=>O,Hz:()=>E,Ng:()=>x,Sh:()=>y,Zu:()=>c,_N:()=>T,hO:()=>p,us:()=>v});var o=e(85200),f=e(46131);const l=1e4,c=9999;var g=(s=>(s.everyone="everyone",s.free_subscriber="free_subscriber",s.paid_subscriber="paid_subscriber",s))(g||{}),v=(s=>(s.comments_disabled="comments_disabled",s.free_subscription_required="free_subscription_required",s.paid_subscription_required="paid_subscription_required",s))(v||{});const E=({likesEnabled:s=!0,language:w="en"}={})=>{const{iString:P}=I18N.i(w),I=[];return I.push({key:"most_recent_first",text:P("New First"),description:P("Newest first (good for live events)")}),s&&I.push({key:"best_first",text:P("Top First"),description:P("Top ranked first")}),I.push({key:"oldest_first",text:P("Chronological"),description:P("Chronological order (oldest first)")}),I},y=(s,w)=>E({language:w}).find(P=>P.key===s).text,p=function(s,w){if(Symbol.iterator in Object(s)){for(const P of s)if(w(P)===!1||p(P.children||[],w)===!1)return!1}},O={review_required:"review_required",edit_review_required:"edit_review_required",published:"published",flagged:"flagged",deleted:"deleted",moderator_approved:"moderator_approved",moderator_removed:"moderator_removed",new_commenter_approval_required:"new_commenter_approval_required"},S=new Set([O.review_required,O.edit_review_required,O.published,O.moderator_approved,O.new_commenter_approval_required]),x=s=>s.deleted?!1:S.has(s.status);function T(s,w){const{attachments:P}=s;if(P&&P.length>0){for(const I of P)if(I.type==="post"){for(const D of I.post.publishedBylines)if(D.id===w)return!0;if((0,o.wN)(I.publication,w))return!0}else if(I.type==="comment"){if(I.comment.user_id===w)return!0}else if(I.type==="publication"&&(0,o.wN)(I.publication,w))return!0}return _(s).has(w)}function _(s){var w,P,I;const D=[];if(s.body_json)for(const N of(0,f.Z)(s.body_json))N.type==="substack_mention"&&(((w=N.attrs)==null?void 0:w.mentionType)==="user"||!((P=N.attrs)!=null&&P.mentionType))&&D.push((I=N.attrs)==null?void 0:I.id);return new Set(D)}function d(s){var w,P;const I=[];if(s.body_json)for(const D of traverse(s.body_json))D.type==="substack_mention"&&((w=D.attrs)==null?void 0:w.mentionType)==="pub"&&I.push((P=D.attrs)==null?void 0:P.id);return new Set(I)}},44043:(z,u,e)=>{"use strict";e.d(u,{F:()=>o});const o={ABOUT_PAGE_END_CTA_RENDERED:"About Page End Cta Rendered",ABOUT_PAGE_END_CTA_SEEN:"About Page End Cta Seen",ABOUT_PAGE_VISITED:"About Page Visited",ACCOUNT_CARD_PRESUBSCRIBE_CLICKED:"Account Card Presubscribe Clicked",ACCOUNT_CARD_READS_LINK_CLICKED:"Account Card Reads Link Clicked",ACCOUNT_CARD_SHOWN:"Account Card Shown",ACCOUNT_CARD_SUBSCRIBE_CLICKED:"Account Card Subscribe Clicked",ACCOUNT_CARD_UNPRESUBSCRIBE_CLICKED:"Account Card Unpresubscribe Clicked",ACCOUNT_CARD_VIEW_PROFILE_LINK_CLICKED:"Account Card View Profile Link Clicked",ACCOUNT_CARD_WRITES_LINK_CLICKED:"Account Card Writes Link Clicked",ACTIVITY_ITEM_TAPPED:"Activity Item Tapped",ACTIVITY_ITEM_VIEWED:"Activity Item Viewed",ACTIVITY_SCREEN_VIEWED:"Activity Screen Viewed",ADD_EPISODE_AUDIO_CLICKED:"Add Episode Audio Clicked",ADD_TO_PODCAST_CLICKED:"Add To Podcast Clicked",ADD_TO_PODCAST_SCREEN_SHOWN:"Add To Podcast Screen Shown",ADD_TO_PODCAST_SKIPPED:"Add To Podcast Skipped",ADD_WATERMARK_CLICKED:"Add Watermark Clicked",APPLE_PAY_ATTEMPED:"Apple Pay Attemped",APPLE_PAY_FAILED:"Apple Pay Failed",APPLE_PAY_SETUP_FINISHED:"Apple Pay Setup Finished",APPLE_PAY_SETUP_STARTED:"Apple Pay Setup Started",APPLE_PAY_SUCCEEDED:"Apple Pay Succeeded",APP_BANNER_DISMISSED:"App Banner Dismissed",APP_BANNER_TAPPED:"App Banner Tapped",APP_BANNER_VIEWED:"App Banner Viewed",APP_INSTALL_MODAL_OPENED:"App Install Modal Opened",APP_PROMO_WIZARD_CLICKED:"App Promo Wizard Clicked",APP_PROMO_WIZARD_DISMISSED:"App Promo Wizard Dismissed",APP_PROMO_WIZARD_SEEN:"App Promo Wizard Seen",ARCHIVE_PAGE_POST_CLICKED:"Archive Page Post Clicked",AUDIOGRAM_DOWNLOAD_CLICKED:"Audiogram Download Clicked",AUDIO_BUFFERING_COMPLETED:"Audio Buffering Completed",AUDIO_BUFFERING_STARTED:"Audio Buffering Started",AUDIO_DRAWER_DONE_CLICKED:"Audio Drawer Done Clicked",AUDIO_MODAL_BROWSE_FILES_CLICKED:"Audio Modal Browse Files Clicked",AUDIO_MODAL_CANCEL_CLICKED:"Audio Modal Cancel Clicked",AUDIO_MODAL_DROPPED_FILE:"Audio Modal Dropped File",AUDIO_MODAL_INSERT_CLICKED:"Audio Modal Insert Clicked",AUDIO_MODAL_PLAYPAUSE_CLICKED:"Audio Modal Playpause Clicked",AUDIO_MODAL_START_OVER_CLICKED:"Audio Modal Start Over Clicked",AUDIO_PLAYBACK_COMPLETE:"Audio Playback Complete",AUDIO_PLAYBACK_CONTINUED:"Audio Playback Continued",AUDIO_PLAYBACK_STARTED:"Audio Playback Started",AUDIO_PRESS_RECORD_CLICKED:"Audio Press Record Clicked",AUDIO_UPLOAD_COMPLETED:"Audio Upload Completed",AUTOSAVE_CONFLICT_DISPLAYED:"Autosave Conflict Displayed",BESTSELLER_INFO_SHOWN:"Bestseller Info Shown",BILLING_FORM_ERROR:"Billing Form Error",BILLING_FORM_INPUT_FILLED:"Billing Form Input Filled",BILLING_FORM_MISSING_PAYMENT:"Billing Form Missing Payment",BILLING_FORM_SUBMIT_PRESSED:"Billing Form Submit Pressed",BILLING_UPDATE_PAGE_SEEN:"Billing Update Page Seen",BOOST_LEARN_MORE_CLICKED:"Boost Learn More Clicked",BOOST_MODAL_DONE_CLICKED:"Boost Modal Done Clicked",BOOST_MODAL_SEEN:"Boost Modal Seen",BOOST_MODAL_TURN_ON_CLICKED:"Boost Modal Turn On Clicked",BUNDLE_PUBLICATION_TOGGLED:"Bundle Publication Toggled",BUNDLE_SCREEN_SHOWN:"Bundle Screen Shown",BUNDLE_SUBSCRIBED:"Bundle Subscribed",BUNDLE_SUBSCRIBE_FAILED:"Bundle Subscribe Failed",BUNDLE_SUBSCRIBE_INITIATED:"Bundle Subscribe Initiated",CARD_EXPIRED_WARNING_DISMISSED:"Card Expired Warning Dismissed",CHAT_APP_UPSELL_SUBSCRIBE_SCREEN_SHOWN:"Chat App Upsell Subscribe Screen Shown",CHAT_CHECKLIST_GET_APP_CLICKED:"Chat Checklist Get App Clicked",CHAT_CHECKLIST_SEE_EXAMPLES_CLICKED:"Chat Checklist See Examples Clicked",CHAT_CHECKLIST_USE_TEMPLATE_CLICKED:"Chat Checklist Use Template Clicked",CHAT_ENABLE_DASHBOARD_CTA_CLICKED:"Chat Enable Dashboard Cta Clicked",CHAT_ENABLE_DASHBOARD_CTA_DISMISSED:"Chat Enable Dashboard Cta Dismissed",CHAT_ENABLE_DASHBOARD_CTA_SHOWN:"Chat Enable Dashboard Cta Shown",CHAT_INVITE_DRAFT_POST_CTA_CLICKED:"Chat Invite Draft Post Cta Clicked",CHAT_INVITE_DRAFT_POST_CTA_DISMISSED:"Chat Invite Draft Post Cta Dismissed",CHAT_INVITE_DRAFT_POST_CTA_SHOWN:"Chat Invite Draft Post Cta Shown",CHAT_READER_PARTICIPATION_CHANGED:"Chat Reader Participation Changed",CHAT_START_CHAT_THREAD_CLICKED:"Chat Start Chat Thread Clicked",CLICKED_CATEGORY:"Clicked Category",CLICKED_GO_TO_SUBSCRIPTION_ON_PROFILE_PAGE:"Clicked Go To Subscription On Profile Page",CLICKED_PAUSE_BUTTON:"Clicked Pause Button",CLICKED_PLAY_BUTTON:"Clicked Play Button",CLICKED_SUBSCRIBE_ON_PROFILE_PAGE:"Clicked Subscribe On Profile Page",COHORT_PAGE_CLICKED:"Cohort Page Clicked",COLLAPSED_POSTS_SHOWN:"Collapsed Posts Shown",COMMENTS_SORTED:"Comments Sorted",COMMENTS_VIEWED:"Comments Viewed",COMMENT_EXPAND_TOGGLE_CLICKED:"Comment Expand Toggle Clicked",COMMENT_PAYWALL_SHOWN:"Comment Paywall Shown",CONFLICT_TOAST_DISMISSED:"Conflict Toast Dismissed",CONNECT_FACEBOOK_SCREEN_COMPLETED:"Connect Facebook Screen Completed",CONNECT_FACEBOOK_SCREEN_VIEWED:"Connect Facebook Screen Viewed",COVER_PAGE_AUTHOR_CLICKED:"Cover Page Author Clicked",COVER_PAGE_BECOME_PAYING_CLICKED:"Cover Page Become Paying Clicked",COVER_PAGE_EMAIL_SUBMITTED:"Cover Page Email Submitted",COVER_PAGE_LEARN_MORE_CLICKED:"Cover Page Learn More Clicked",COVER_PAGE_MAYBE_LATER_CLICKED:"Cover Page Maybe Later Clicked",COVER_PAGE_SHOWN:"Cover Page Shown",CROSS_POST_MODAL_CLOSED:"Cross Post Modal Closed",CROSS_POST_MODAL_CONTINUED:"Cross Post Modal Continued",CROSS_POST_MODAL_CONTINUE_CLICKED:"Cross Post Modal Continue Clicked",CROSS_POST_MODAL_CONTINUE_FAILED:"Cross Post Modal Continue Failed",CROSS_POST_MODAL_SUBMITTED:"Cross Post Modal Submitted",CROSS_POST_MODAL_SUBMIT_CLICKED:"Cross Post Modal Submit Clicked",CROSS_POST_MODAL_SUBMIT_FAILED:"Cross Post Modal Submit Failed",CROSS_POST_MODAL_TYPING_STARTED:"Cross Post Modal Typing Started",CUSTOMER_SUPPORT_MODE_FORM_ERROR:"Customer Support Mode Form Error",CUSTOMER_SUPPORT_MODE_FORM_INPUT_FILLED:"Customer Support Mode Form Input Filled",CUSTOMER_SUPPORT_MODE_FORM_MISSING_PAYMENT:"Customer Support Mode Form Missing Payment",CUSTOMER_SUPPORT_MODE_FORM_SUBMIT_PRESSED:"Customer Support Mode Form Submit Pressed",CUSTOM_DOMAIN_CONFIG_ERROR:"Custom Domain Config Error",CUSTOM_DOMAIN_CONFIG_INPUT_FILLED:"Custom Domain Config Input Filled",CUSTOM_DOMAIN_CONFIG_MISSING_PAYMENT:"Custom Domain Config Missing Payment",CUSTOM_DOMAIN_CONFIG_SUBMIT_PRESSED:"Custom Domain Config Submit Pressed",CUSTOM_DOMAIN_INQUIRY:"Custom Domain Inquiry",CUSTOM_DOMAIN_LOGIN_REDIRECT_ATTEMPTED:"Custom Domain Login Redirect Attempted",CUSTOM_DOMAIN_PAYMENT_ERROR:"Custom Domain Payment Error",CUSTOM_DOMAIN_PAYMENT_INPUT_FILLED:"Custom Domain Payment Input Filled",CUSTOM_DOMAIN_PAYMENT_MISSING_PAYMENT:"Custom Domain Payment Missing Payment",CUSTOM_DOMAIN_PAYMENT_SUBMIT_PRESSED:"Custom Domain Payment Submit Pressed",DASHBOARD_ACTION_BOX_DISMISSED:"Dashboard Action Box Dismissed",DASHBOARD_ACTION_BOX_SHOWN:"Dashboard Action Box Shown",DASHBOARD_ACTION_CTA_CLICKED:"Dashboard Action Cta Clicked",DASHBOARD_ACTION_CTA_DISMISSED:"Dashboard Action Cta Dismissed",DEFAULT_PUBLICATION_CREATION_FAILED:"Default Publication Creation Failed",DONATE_SUBSCRIBE_FORM_ERROR:"Donate Subscribe Form Error",DONATE_SUBSCRIBE_FORM_INPUT_FILLED:"Donate Subscribe Form Input Filled",DONATE_SUBSCRIBE_FORM_MISSING_PAYMENT:"Donate Subscribe Form Missing Payment",DONATE_SUBSCRIBE_FORM_SUBMIT_PRESSED:"Donate Subscribe Form Submit Pressed",DONATE_SUBSCRIBE_SCREEN_SHOWN:"Donate Subscribe Screen Shown",EARNING_CALCULATOR_INFO_CLICKED:"Earning Calculator Info Clicked",EARNING_CALCULATOR_UPDATED:"Earning Calculator Updated",EDITOR_MENU_ICON_CLICKED:"Editor Menu Icon Clicked",EDIT_POST_DROPDOWN_MENU_OPENED:"Edit Post Dropdown Menu Opened",EMAIL_LINK_INTERSTITIAL_CLICKED:"Email Link Interstitial Clicked",EMAIL_TYPO_SUGGESTION_ACCEPTED:"Email Typo Suggestion Accepted",EMAIL_TYPO_SUGGESTION_REJECTED:"Email Typo Suggestion Rejected",EMAIL_TYPO_SUGGESTION_SHOWN:"Email Typo Suggestion Shown",EMBED_URL_ATTEMPTED:"Embed Url Attempted",EMBED_URL_FAILED:"Embed Url Failed",EMBED_URL_SUCCEEDED:"Embed Url Succeeded",END_OF_POST_RECOMMEND_CTA_CLICKED:"End Of Post Recommend Cta Clicked",FACEBOOK_FOLLOW_SUGGESTIONS_SCREEN_COMPLETED:"Facebook Follow Suggestions Screen Completed",FACEBOOK_FOLLOW_SUGGESTIONS_SCREEN_VIEWED:"Facebook Follow Suggestions Screen Viewed",FACEBOOK_PROFILE_VISIBLE_TOGGLED:"Facebook Profile Visible Toggled",FACEBOOK_PUB_SUGGESTIONS_SCREEN_COMPLETED:"Facebook Pub Suggestions Screen Completed",FACEBOOK_PUB_SUGGESTIONS_SCREEN_VIEWED:"Facebook Pub Suggestions Screen Viewed",FACEBOOK_SUGGESTIONS_SCREEN_COMPLETED:"Facebook Suggestions Screen Completed",FACEBOOK_SUGGESTIONS_SCREEN_VIEWED:"Facebook Suggestions Screen Viewed",FEATURE_ANNOUNCEMENT_BANNER_CLICKED:"Feature Announcement Banner Clicked",FEATURE_ANNOUNCEMENT_BANNER_SHOWN:"Feature Announcement Banner Shown",FEED_DASHBOARD_CTA_CLICKED:"Feed Dashboard Cta Clicked",FEED_DASHBOARD_CTA_DISMISSED:"Feed Dashboard Cta Dismissed",FEED_FIRST_NOTE_DASHBOARD_CTA_CLICKED:"Feed First Note Dashboard Cta Clicked",FEED_FIRST_NOTE_DASHBOARD_CTA_DISMISSED:"Feed First Note Dashboard Cta Dismissed",FEED_FIRST_NOTE_DASHBOARD_CTA_SHOWN:"Feed First Note Dashboard Cta Shown",FEED_HIDDEN_ATTACHMENT_SHOWN:"Feed Hidden Attachment Shown",FEED_HIDDEN_REPLIES_VIEWED:"Feed Hidden Replies Viewed",FEED_ITEM_CLICKED:"Feed Item Clicked",FEED_ITEM_SEEN:"Feed Item Seen",FEED_ITEM_SHARE_LINK_CLICKED:"Feed Item Share Link Clicked",FEED_ONE_CLICK_SUBSCRIBE:"Feed One Click Subscribe",FEED_PERMALINK_SCREEN_VIEWED:"Feed Permalink Screen Viewed",FEED_PROFILE_SCREEN_VIEWED:"Feed Profile Screen Viewed",FEED_PUBLICATION_SCREEN_VIEWED:"Feed Publication Screen Viewed",FEED_SCREEN_VIEWED:"Feed Screen Viewed",FEED_USER_SUGGESTION_CLICKED:"Feed User Suggestion Clicked",FEED_USER_SUGGESTION_SEEN:"Feed User Suggestion Seen",FILES_REJECTED:"Files Rejected",FINISH_MAGIC_LOGIN_MODAL_SHOWN:"Finish Magic Login Modal Shown",FIRST_MONTH_UPSELL_MODAL_DONE_CLICKED:"First Month Upsell Modal Done Clicked",FIRST_MONTH_UPSELL_MODAL_EDIT_EMAIL_CLICKED:"First Month Upsell Modal Edit Email Clicked",FIRST_MONTH_UPSELL_MODAL_SEEN:"First Month Upsell Modal Seen",FOUNDING_PRICE_CONFIRMATION_DISMISSED:"Founding Price Confirmation Dismissed",FOUNDING_PRICE_CONFIRMATION_REQUIRED:"Founding Price Confirmation Required",FOUNDING_PRICE_CONFIRMATION_SUBMITTED:"Founding Price Confirmation Submitted",FRAME_MESSAGE_HANDLED:"Frame Message Handled",FRAME_MESSAGE_SENT:"Frame Message Sent",FREE_SIGNUP_FAILED:"Free Signup Failed",FULL_EMAIL_FORM_SHOWN:"Full Email Form Shown",GIFT_SUBSCRIBE_FORM_ERROR:"Gift Subscribe Form Error",GIFT_SUBSCRIBE_FORM_INPUT_FILLED:"Gift Subscribe Form Input Filled",GIFT_SUBSCRIBE_FORM_MISSING_PAYMENT:"Gift Subscribe Form Missing Payment",GIFT_SUBSCRIBE_FORM_SUBMIT_PRESSED:"Gift Subscribe Form Submit Pressed",GIFT_SUBSCRIBE_SCREEN_SHOWN:"Gift Subscribe Screen Shown",GO_PAID_CTA_CLICKED:"Go Paid Cta Clicked",GO_PAID_CTA_DISMISSED:"Go Paid Cta Dismissed",GO_PAID_CTA_SHOWN:"Go Paid Cta Shown",GROUP_SUBSCRIBE_FORM_ERROR:"Group Subscribe Form Error",GROUP_SUBSCRIBE_FORM_INPUT_FILLED:"Group Subscribe Form Input Filled",GROUP_SUBSCRIBE_FORM_MISSING_PAYMENT:"Group Subscribe Form Missing Payment",GROUP_SUBSCRIBE_FORM_SUBMIT_PRESSED:"Group Subscribe Form Submit Pressed",GROUP_SUBSCRIBE_MODAL_CANCEL_CLICKED:"Group Subscribe Modal Cancel Clicked",GROUP_SUBSCRIBE_MODAL_CONFIRM_CLICKED:"Group Subscribe Modal Confirm Clicked",GROUP_SUBSCRIBE_SCREEN_SHOWN:"Group Subscribe Screen Shown",HEADER_ANCHOR_WIDGET_CLICKED:"Header Anchor Widget Clicked",HEADER_SEARCHED:"Header Searched",HOLIDAY_GIFT_CTA_CLICKED:"Holiday Gift Cta Clicked",HOLIDAY_GIFT_CTA_DISMISSED:"Holiday Gift Cta Dismissed",HOLIDAY_GIFT_CTA_SHOWN:"Holiday Gift Cta Shown",HOMEPAGE_DASHBOARD_LINK_CLICKED:"Homepage Dashboard Link Clicked",HOMEPAGE_GET_STARTED_CLICKED:"Homepage Get Started Clicked",HOMEPAGE_GOING_PAID_LINK_CLICKED:"Homepage Going Paid Link Clicked",HOMEPAGE_GROW_LINK_CLICKED:"Homepage Grow Link Clicked",HOMEPAGE_LINK_CLICKED:"Homepage Link Clicked",HOMEPAGE_PUBLICATION_LINK_CLICKED:"Homepage Publication Link Clicked",HOMEPAGE_READER_LINK_CLICKED:"Homepage Reader Link Clicked",IMPORT_PUBLICATION_BYPASSED:"Import Publication Bypassed",IMPORT_PUBLICATION_CANCELLED:"Import Publication Cancelled",IMPORT_PUBLICATION_COMPLETE:"Import Publication Complete",IMPORT_PUBLICATION_CONFIRMED:"Import Publication Confirmed",IMPORT_PUBLICATION_ERROR_SKIPPED:"Import Publication Error Skipped",IMPORT_PUBLICATION_LOADED:"Import Publication Loaded",INBOX_POST_CLICKED:"Inbox Post Clicked",INSTAGRAM_SHARE_MODAL_SEEN:"Instagram Share Modal Seen",INTERNATIONALIZATION_BETA_OPTIN_MODAL_SEEN:"Internationalization Beta Optin Modal Seen",INTERNATIONALIZATION_BETA_OPTIN_MODAL_SUBMITTED:"Internationalization Beta Optin Modal Submitted",INTRODUCING_RECOMMENDATION_DIGESTS_MODAL_LEARN_MORE_CLICKED:"Introducing Recommendation Digests Modal Learn More Clicked",INTRODUCING_RECOMMENDATION_DIGESTS_MODAL_SHOWN:"Introducing Recommendation Digests Modal Shown",INVITE_FRIENDS_MODAL_SHOWN:"Invite Friends Modal Shown",LATEST_POST_CLICKED:"Latest Post Clicked",LATEX_BLOCK_ADDED:"Latex Block Added",LAUNCH_CHECKLIST_ITEM_CLICKED:"Launch Checklist Item Clicked",LAUNCH_CHECKLIST_SEEN:"Launch Checklist Seen",LIKE_ACTIVITY_TOGGLED:"Like Activity Toggled",LIKE_NUX_SHOWN:"Like Nux Shown",LIKE_UPSELL_FREE_SUBSCRIBED:"Like Upsell Free Subscribed",LIKE_UPSELL_MODAL_SEEN:"Like Upsell Modal Seen",LIKE_UPSELL_PLAN_SELECTED:"Like Upsell Plan Selected",LIKE_UPSELL_PLEDGE_CLICKED:"Like Upsell Pledge Clicked",LIKE_UPSELL_SHARE_CLICKED:"Like Upsell Share Clicked",LISTEN_TO_THIS_POST_MODAL_DISMISSED:"Listen To This Post Modal Dismissed",LISTEN_TO_THIS_POST_MODAL_GET_THE_APP_CLICKED:"Listen To This Post Modal Get The App Clicked",LISTEN_TO_THIS_POST_MODAL_SHOWN:"Listen To This Post Modal Shown",LOCAL_CURRENCY_MODAL_SEEN:"Local Currency Modal Seen",LOCAL_CURRENCY_MODAL_TURN_OFF_CLICKED:"Local Currency Modal Turn Off Clicked",MANAGE_RECOMMENDATIONS_BUTTON_CLICKED:"Manage Recommendations Button Clicked",MANAGE_RECOMMENDATIONS_LEARN_MORE_CLICKED:"Manage Recommendations Learn More Clicked",MANAGE_RECOMMENDATIONS_MODAL_CLOSED:"Manage Recommendations Modal Closed",MANAGE_RECOMMENDATIONS_MODAL_OPENED:"Manage Recommendations Modal Opened",MANAGE_RECOMMENDATIONS_STEP_CHANGED:"Manage Recommendations Step Changed",MEDIA_UPLOAD_COMPLETED:"Media Upload Completed",MEDIA_UPLOAD_CREATED:"Media Upload Created",MEDIA_UPLOAD_FAILED:"Media Upload Failed",MEDIA_UPLOAD_STARTED:"Media Upload Started",MEETING_MISSING_PAYMENT:"Meeting Missing Payment",MEETING_ORDER_PAGE_VIEWED:"Meeting Order Page Viewed",MEETING_PAGE_VIEWED:"Meeting Page Viewed",MEETING_POST_TEMPLATE_CREATED:"Meeting Post Template Created",MEETING_SUBMIT_PRESSED:"Meeting Submit Pressed",NATIVE_SHARE_FAILED:"Native Share Failed",NATIVE_SHARE_SUCCESS:"Native Share Success",NAV_BAR_CTA_CLICKED:"Nav Bar Cta Clicked",NAV_BAR_HOME_LINK_CLICKED:"Nav Bar Home Link Clicked",NEW_GUEST_POST_CLICKED:"New Guest Post Clicked",NEW_SUBSCRIPTION_ON_PROFILE_DISPLAYED:"New Subscription On Profile Displayed",NEXT_POST_LINK_CLICKED:"Next Post Link Clicked",NOTES_BAN_PAGE_VIEWED:"Notes Ban Page Viewed",NOTES_TAB_ANNOUNCEMENT_CLICKED:"Notes Tab Announcement Clicked",NOTES_TAB_ANNOUNCEMENT_DISMISSED:"Notes Tab Announcement Dismissed",NOTIFICATIONS_ALERT_SHOWN:"Notifications Alert Shown",NOTIFICATIONS_DROPDOWN_VIEWED:"Notifications Dropdown Viewed",NOTIFICATIONS_UNREAD_SHOWN:"Notifications Unread Shown",OPENNODE_ACCOUNT_SIGNUP_CLICKED:"Opennode Account Signup Clicked",OPENNODE_GENERATE_API_KEY_CLICKED:"Opennode Generate Api Key Clicked",OTHER_SUBSCRIPTION_OPTIONS_CLICKED:"Other Subscription Options Clicked",OTHER_SUBSCRIPTION_OPTION_SELECTED:"Other Subscription Option Selected",PAGES:"Pages",PAYMENT_CONFIRMATION_FAILED:"Payment Confirmation Failed",PAYMENT_CONFIRMATION_STARTED:"Payment Confirmation Started",PAYMENT_CONFIRMATION_SUCCEEDED:"Payment Confirmation Succeeded",PAYMENT_PLEDGE_LAUNCH_MODAL_SEEN:"Payment Pledge Launch Modal Seen",PAYMENT_PLEDGE_LAUNCH_MODAL_TURN_OFF_CLICKED:"Payment Pledge Launch Modal Turn Off Clicked",PAYMENT_PLEDGE_MISSING_PAYMENT:"Payment Pledge Missing Payment",PAYMENT_PLEDGE_NOTE_SCREEN_FAILED:"Payment Pledge Note Screen Failed",PAYMENT_PLEDGE_NOTE_SCREEN_SEEN:"Payment Pledge Note Screen Seen",PAYMENT_PLEDGE_NOTE_SCREEN_SUBMITTED:"Payment Pledge Note Screen Submitted",PAYMENT_PLEDGE_PRICE_WARNING_SEEN:"Payment Pledge Price Warning Seen",PAYMENT_PLEDGE_SCREEN_FAILED:"Payment Pledge Screen Failed",PAYMENT_PLEDGE_SCREEN_SEEN:"Payment Pledge Screen Seen",PAYMENT_PLEDGE_SCREEN_SKIPPED:"Payment Pledge Screen Skipped",PAYMENT_PLEDGE_SCREEN_SUBMITTED:"Payment Pledge Screen Submitted",PAYMENT_SETUP_BUTTON_CLICKED:"Payment Setup Button Clicked",PAYMENT_SUGGESTION_MODAL_ERROR:"Payment Suggestion Modal Error",PAYMENT_SUGGESTION_MODAL_SEEN:"Payment Suggestion Modal Seen",PAYMENT_SUGGESTION_MODAL_STRIPE_ERROR:"Payment Suggestion Modal Stripe Error",PAYMENT_SUGGESTION_MODAL_SUBMITTED:"Payment Suggestion Modal Submitted",PAYWALL_FREE_SIGNUP_FAILED:"Paywall Free Signup Failed",PAYWALL_FREE_TRIAL_CTA_CLICKED:"Paywall Free Trial Cta Clicked",PAYWALL_FREE_TRIAL_CTA_DISMISSED:"Paywall Free Trial Cta Dismissed",PAYWALL_FREE_TRIAL_CTA_SHOWN:"Paywall Free Trial Cta Shown",PAYWALL_PROMPT_ACCEPTED:"Paywall Prompt Accepted",PAYWALL_PROMPT_REJECTED:"Paywall Prompt Rejected",PLAN_PURCHASE_BOX_ERROR:"Plan Purchase Box Error",PLAN_PURCHASE_BOX_SEEN:"Plan Purchase Box Seen",PLAN_PURCHASE_BOX_STRIPE_ERROR:"Plan Purchase Box Stripe Error",PLAN_PURCHASE_BOX_SUBMITTED:"Plan Purchase Box Submitted",PODCAST_APP_LINK_CLICK:"Podcast App Link Click",PODCAST_EDITING_COMPLETE:"Podcast Editing Complete",PODCAST_EDITING_ERROR:"Podcast Editing Error",PODCAST_EDITING_INITIATED:"Podcast Editing Initiated",PODCAST_EMAIL_LINK_CLICKED:"Podcast Email Link Clicked",PODCAST_EPISODE_NOTES_SAVE_CLICKED:"Podcast Episode Notes Save Clicked",PODCAST_FEED_URL_COPIED:"Podcast Feed Url Copied",PODCAST_LISTEN_ON_CLICKED:"Podcast Listen On Clicked",PODCAST_PREVIEW_MENU_ADD_PREVIEW_CLICKED:"Podcast Preview Menu Add Preview Clicked",PODCAST_PREVIEW_MENU_CLICKED:"Podcast Preview Menu Clicked",PODCAST_PREVIEW_MENU_REMOVE_CLICKED:"Podcast Preview Menu Remove Clicked",PODCAST_PREVIEW_MENU_REMOVE_PREVIEW_CLICKED:"Podcast Preview Menu Remove Preview Clicked",PODCAST_SETUP_COMPLETE:"Podcast Setup Complete",PODCAST_SETUP_ERROR:"Podcast Setup Error",PODCAST_SETUP_INITIATED:"Podcast Setup Initiated",POLL_SIGNUP_DIALOG_CLOSED:"Poll Signup Dialog Closed",POLL_SIGNUP_DIALOG_PRESENTED:"Poll Signup Dialog Presented",POLL_SIGNUP_DIALOG_SUBMITTED:"Poll Signup Dialog Submitted",POSTS_PAGE_FILTERED:"Posts Page Filtered",POSTS_PAGE_SORTED:"Posts Page Sorted",POST_ARCHIVED:"Post Archived",POST_BOTTOM_SEEN:"Post Bottom Seen",POST_COMMENTS_FOOTER_SEEN:"Post Comments Footer Seen",POST_COMPOSER_CREATION_SHARED:"Post Composer Creation Shared",POST_COMPOSER_CREATION_SHARE_SHEET_VIEWED:"Post Composer Creation Share Sheet Viewed",POST_COMPOSER_DRAFT_LOADED:"Post Composer Draft Loaded",POST_COMPOSER_PUBLISH_CONFIRMATION_VIEWED:"Post Composer Publish Confirmation Viewed",POST_COMPOSER_PUB_PICKER_PUB_SELECTED:"Post Composer Pub Picker Pub Selected",POST_COMPOSER_PUB_PICKER_VIEWED:"Post Composer Pub Picker Viewed",POST_COMPOSER_SETTINGS_VIEWED:"Post Composer Settings Viewed",POST_COMPOSER_VIEWED:"Post Composer Viewed",POST_EDITOR_ADD_GUEST_CLICKED:"Post Editor Add Guest Clicked",POST_END_CTA_CLICKED:"Post End Cta Clicked",POST_END_CTA_RENDERED:"Post End Cta Rendered",POST_END_CTA_SEEN:"Post End Cta Seen",POST_INFO_VIEWED:"Post Info Viewed",POST_LINK_CLICKED:"Post Link Clicked",POST_PAGE_PINGBACK:"Post Page Pingback",POST_PAYWALL_SHOWN:"Post Paywall Shown",POST_PREVIEW_OPTION:"Post Preview Option",POST_PUBLISHED_SETTINGS:"Post Published Settings",POST_REACTIONS_MODAL_VIEWED:"Post Reactions Modal Viewed",POST_RECOMMENDATIONS_SHOWN:"Post Recommendations Shown",POST_SAVED:"Post Saved",POST_SEARCH_RESULT_CLICKED:"Post Search Result Clicked",POST_SEEN:"Post Seen",POST_SHARE_BUTTON_CLICKED:"Post Share Button Clicked",POST_TEXT_SELECTED:"Post Text Selected",POST_VIEWER_CLOSED:"Post Viewer Closed",POST_VIEWER_NAVIGATED:"Post Viewer Navigated",POST_VIEWER_VIEWED:"Post Viewer Viewed",PREFER_APPLE_PAY_CLICKED:"Prefer Apple Pay Clicked",PREFER_CREDIT_CARD_CLICKED:"Prefer Credit Card Clicked",PREPUBLISH_PROMPT_DISPLAYED:"Prepublish Prompt Displayed",PREVIEW_BUTTON_CLICKED:"Preview Button Clicked",PREVIOUS_POST_LINK_CLICKED:"Previous Post Link Clicked",PROCESSING_EPISODE_AUDIO_CLICKED:"Processing Episode Audio Clicked",PROCESSING_VOICEOVER_AUDIO_CLICKED:"Processing Voiceover Audio Clicked",PROFILE_EDITED:"Profile Edited",PROFILE_FILLED_OUT:"Profile Filled Out",PROFILE_MORE_MENU_TAPPED:"Profile More Menu Tapped",PROFILE_PEOPLE_LIST_VIEWED:"Profile People List Viewed",PROFILE_SHARE_LINK_CLICKED:"Profile Share Link Clicked",PROFILE_STARTED:"Profile Started",PROFILE_UPDATER_SHOWN:"Profile Updater Shown",PROFILE_VISIBILITY_SET:"Profile Visibility Set",PROFILE_VISITED:"Profile Visited",PUBLICATION_FOOTER_SEEN:"Publication Footer Seen",PUBLICATION_HOVER_CARD_SHOWN:"Publication Hover Card Shown",PUBLICATION_RECOMMENDATIONS_SHOWN:"Publication Recommendations Shown",PUBLICATION_RECOMMENDATION_LINK_CLICKED:"Publication Recommendation Link Clicked",PUBLICATION_SETTING_TEXT_INPUT_ERRORED:"Publication Setting Text Input Errored",PUBLICATION_THREADS_SCREEN_VIEWED:"Publication Threads Screen Viewed",PUBLICATION_VISITED:"Publication Visited",PUBLIC_LEADERBOARD_VIEWED:"Public Leaderboard Viewed",PUBLISHER_DASHBOARD_POST_BUTTON_CLICKED:"Publisher Dashboard Post Button Clicked",PUBLISHER_DASHBOARD_SEEN:"Publisher Dashboard Seen",PUBLISHER_DASHBOARD_VISIT_SITE_CLICKED:"Publisher Dashboard Visit Site Clicked",PUBLISH_DISABLED_APPEALED:"Publish Disabled Appealed",REACTION_REJECTED:"Reaction Rejected",READER_INBOX_TAB_CHANGED:"Reader Inbox Tab Changed",READER_ONBOARDING_APP_UPSELL_SHOWN:"Reader Onboarding App Upsell Shown",READER_ONBOARDING_BULK_SUBSCRIBED:"Reader Onboarding Bulk Subscribed",READER_ONBOARDING_BULK_SUBSCRIBE_SELECTED_IN_UI:"Reader Onboarding Bulk Subscribe Selected In Ui",READER_ONBOARDING_BULK_SUBSCRIBE_SKIPPED:"Reader Onboarding Bulk Subscribe Skipped",READER_ONBOARDING_CATEGORIES_FINALIZED:"Reader Onboarding Categories Finalized",READER_ONBOARDING_CATEGORY_REQUESTED:"Reader Onboarding Category Requested",READER_ONBOARDING_CREATE_PUBLICATION_STEP_ERROR:"Reader Onboarding Create Publication Step Error",READER_ONBOARDING_CREATE_PUBLICATION_STEP_STARTED:"Reader Onboarding Create Publication Step Started",READER_ONBOARDING_CREATE_PUBLICATION_SUCCESS_STEP_SKIPPED:"Reader Onboarding Create Publication Success Step Skipped",READER_ONBOARDING_CREATE_PUBLICATION_SUCCESS_STEP_STARTED:"Reader Onboarding Create Publication Success Step Started",READER_ONBOARDING_EDIT_SUB_VISIBILITY_SKIPPED:"Reader Onboarding Edit Sub Visibility Skipped",READER_ONBOARDING_ERROR:"Reader Onboarding Error",READER_ONBOARDING_MODAL_CLOSED:"Reader Onboarding Modal Closed",READER_ONBOARDING_MODAL_OPENED:"Reader Onboarding Modal Opened",READER_ONBOARDING_NO_TWITTER_PUBS_RECOMMENDED:"Reader Onboarding No Twitter Pubs Recommended",READER_ONBOARDING_PROFILE_SETUP_SKIPPED:"Reader Onboarding Profile Setup Skipped",READER_ONBOARDING_PROFILE_SETUP_STARTED:"Reader Onboarding Profile Setup Started",READER_ONBOARDING_PUB_LANDING_LET_ME_READ_CLICKED:"Reader Onboarding Pub Landing Let Me Read Clicked",READER_ONBOARDING_PUB_LANDING_SIGNUP_SUCCEEDED:"Reader Onboarding Pub Landing Signup Succeeded",READER_ONBOARDING_PUB_LANDING_SUBSCRIBE_CLICKED:"Reader Onboarding Pub Landing Subscribe Clicked",READER_ONBOARDING_PUB_RECOMMENDED:"Reader Onboarding Pub Recommended",READER_ONBOARDING_PUB_SIGNUP_FAILED:"Reader Onboarding Pub Signup Failed",READER_ONBOARDING_PUB_SIGNUP_SUCCEEDED:"Reader Onboarding Pub Signup Succeeded",READER_ONBOARDING_SIGNUP_FAILED:"Reader Onboarding Signup Failed",READER_ONBOARDING_SIGNUP_SUCCEEDED:"Reader Onboarding Signup Succeeded",READER_ONBOARDING_SKIP_CATEGORIES_CLICKED:"Reader Onboarding Skip Categories Clicked",READER_ONBOARDING_SKIP_SUBSCRIBE_CLICKED:"Reader Onboarding Skip Subscribe Clicked",READER_ONBOARDING_SKIP_TWITTER_CLICKED:"Reader Onboarding Skip Twitter Clicked",READER_ONBOARDING_START_READING_CLICKED:"Reader Onboarding Start Reading Clicked",READER_ONBOARDING_START_WRITING_STEP_SKIPPED:"Reader Onboarding Start Writing Step Skipped",READER_ONBOARDING_START_WRITING_STEP_STARTED:"Reader Onboarding Start Writing Step Started",READER_ONBOARDING_STEP_CHANGED:"Reader Onboarding Step Changed",READER_ONBOARDING_TWITTER_LINK_CLICKED:"Reader Onboarding Twitter Link Clicked",READER_REFERRALS_MODAL_LEARN_MORE_CLICKED:"Reader Referrals Modal Learn More Clicked",READER_REFERRALS_MODAL_LEARN_MORE_SEEN:"Reader Referrals Modal Learn More Seen",READER_REFERRALS_MODAL_OPT_IN_CLICKED:"Reader Referrals Modal Opt In Clicked",READER_REFERRALS_MODAL_OPT_OUT_CLICKED:"Reader Referrals Modal Opt Out Clicked",RECOMMENDATIONS_CTA_CLICKED:"Recommendations Cta Clicked",RECOMMENDATIONS_CTA_DISMISSED:"Recommendations Cta Dismissed",RECOMMENDATIONS_CTA_SHOWN:"Recommendations Cta Shown",RECOMMENDATIONS_INVITE_WRITER_CLICKED:"Recommendations Invite Writer Clicked",RECOMMENDATION_SUBSCRIBE_BUTTON_CLICKED:"Recommendation Subscribe Button Clicked",RECOMMENDATION_UNSUBSCRIBE_BUTTON_CLICKED:"Recommendation Unsubscribe Button Clicked",RECOMMENDED_POST_CLICKED:"Recommended Post Clicked",RECOMMENDED_PUBLICATIONS_MAYBE_LATER_CLICKED:"Recommended Publications Maybe Later Clicked",RECOMMENDED_PUBLICATION_CLICKED:"Recommended Publication Clicked",RECOMMENDED_PUBLICATION_TOGGLED:"Recommended Publication Toggled",RECOMMEND_FROM_WRITER_ONBOARDING_CLICKED:"Recommend From Writer Onboarding Clicked",RECOMMEND_FROM_WRITER_ONBOARDING_SKIPPED:"Recommend From Writer Onboarding Skipped",RECORD_EPISODE_AUDIO_CLICKED:"Record Episode Audio Clicked",REDIRECTED_PAYMENT_SCREEN_SHOWN:"Redirected Payment Screen Shown",REFERRALS_ENABLE_DASHBOARD_CTA_CLICKED:"Referrals Enable Dashboard Cta Clicked",REFERRALS_ENABLE_DASHBOARD_CTA_DISMISSED:"Referrals Enable Dashboard Cta Dismissed",REFERRALS_ENABLE_DASHBOARD_CTA_SHOWN:"Referrals Enable Dashboard Cta Shown",REMOVE_WATERMARK_CLICKED:"Remove Watermark Clicked",REPLY_ACTIVITY_SCREEN_VIEWED:"Reply Activity Screen Viewed",RESTACK_POST_CLICKED:"Restack Post Clicked",RESTACK_POST_SUBMITTED:"Restack Post Submitted",SAVED_CARD_PAYWALL_FAILED:"Saved Card Paywall Failed",SAVED_CARD_PAYWALL_SEEN:"Saved Card Paywall Seen",SAVED_CARD_PAYWALL_SUBMITTED:"Saved Card Paywall Submitted",SAVED_POST_CLICKED:"Saved Post Clicked",SAVE_WATERMARK_CLICKED:"Save Watermark Clicked",SCORE_BASED_UPSELL_MODAL_DONE_CLICKED:"Score Based Upsell Modal Done Clicked",SCORE_BASED_UPSELL_MODAL_EDIT_EMAIL_CLICKED:"Score Based Upsell Modal Edit Email Clicked",SCORE_BASED_UPSELL_MODAL_SEEN:"Score Based Upsell Modal Seen",SECRET_LINK_COPIED:"Secret Link Copied",SECTION_EDITING_ERROR:"Section Editing Error",SECTION_EMAIL_STATE_SCREEN_SHOWN:"Section Email State Screen Shown",SECTION_SETUP_ERROR:"Section Setup Error",SECURITY_QUESTIONS_VIEWED:"Security Questions Viewed",SEEKED_AUDIO:"Seeked Audio",SELECTED_PLAN_CHANGED:"Selected Plan Changed",SEND_AS_EMAIL_PROMPT_ACCEPTED:"Send As Email Prompt Accepted",SEND_AS_EMAIL_PROMPT_REJECTED:"Send As Email Prompt Rejected",SETTINGS_PAGE_CONFIRM_EMAIL_BANNER_SHOWN:"Settings Page Confirm Email Banner Shown",SETTINGS_PAGE_CONFIRM_EMAIL_BUTTON_TAPPED:"Settings Page Confirm Email Button Tapped",SETUP_PLANS_PAGE_FAILED:"Setup Plans Page Failed",SETUP_TWITTER_CTA_CONNECT_CLICKED:"Setup Twitter Cta Connect Clicked",SETUP_TWITTER_CTA_DISMISSED:"Setup Twitter Cta Dismissed",SETUP_TWITTER_CTA_SETDISCOVERABLE_CLICKED:"Setup Twitter Cta Setdiscoverable Clicked",SET_NEW_RATES_CLICKED:"Set New Rates Clicked",SHARE_CENTER_INSTAGRAM_MODAL_OPENED:"Share Center Instagram Modal Opened",SHARE_CENTER_MEDIA_ASSETS_EMAILED:"Share Center Media Assets Emailed",SHARE_CENTER_MEDIA_ASSETS_EMAILED_FAILED:"Share Center Media Assets Emailed Failed",SHARE_CENTER_SEEN:"Share Center Seen",SHARE_DIALOG_MORE_OPTION_CLICKED:"Share Dialog More Option Clicked",SHARE_DIALOG_OPENED:"Share Dialog Opened",SHARE_LINK_CLICKED:"Share Link Clicked",SHARE_SELECTION_IMAGE_DOWNLOADED:"Share Selection Image Downloaded",SHARE_SELECTION_INSTAGRAM_MODAL_OPENED:"Share Selection Instagram Modal Opened",SHARE_SELECTION_MODAL_OPENED:"Share Selection Modal Opened",SIGN_IN_APP_UPSELL_CLICKED:"Sign In App Upsell Clicked",STAGED_RELEASE_SCHEDULED:"Staged Release Scheduled",STATS_PAGE_VIEWED:"Stats Page Viewed",STATS_PLACEHOLDER_SEEN:"Stats Placeholder Seen",STREAKS_MODAL_SEEN:"Streaks Modal Seen",STREAKS_MODAL_TURN_ON_CLICKED:"Streaks Modal Turn On Clicked",SUBDOMAIN_CHANGED:"Subdomain Changed",SUBSCRIBER_BADGE_INFO_SHOWN:"Subscriber Badge Info Shown",SUBSCRIBER_COUNT_ANNOUNCEMENT_DISMISSED:"Subscriber Count Announcement Dismissed",SUBSCRIBER_COUNT_ANNOUNCEMENT_SETTINGS_CLICKED:"Subscriber Count Announcement Settings Clicked",SUBSCRIBER_COUNT_ANNOUNCEMENT_SHOWN:"Subscriber Count Announcement Shown",SUBSCRIBER_REFERRALS_SETUP_ERROR:"Subscriber Referrals Setup Error",SUBSCRIBER_REFERRALS_SETUP_MODAL_NOT_NOW:"Subscriber Referrals Setup Modal Not Now",SUBSCRIBER_REFERRALS_SETUP_MODAL_SHOWN:"Subscriber Referrals Setup Modal Shown",SUBSCRIBER_REFERRALS_SETUP_MODAL_SUBMITTED:"Subscriber Referrals Setup Modal Submitted",SUBSCRIBE_BUTTON_FLOATING_IN_POST_CLICKED:"Subscribe Button Floating In Post Clicked",SUBSCRIBE_BUTTON_IN_READER_ONBOARDING_CLICKED:"Subscribe Button In Reader Onboarding Clicked",SUBSCRIBE_BUTTON_IN_SEARCH_RESULTS_CLICKED:"Subscribe Button In Search Results Clicked",SUBSCRIBE_CONFIRM_PAYMENT_SCREEN_SHOWN:"Subscribe Confirm Payment Screen Shown",SUBSCRIBE_CTA_PROMPT_ACCEPTED:"Subscribe Cta Prompt Accepted",SUBSCRIBE_CTA_PROMPT_REJECTED:"Subscribe Cta Prompt Rejected",SUBSCRIBE_EMAIL_FULL_SCREEN_SHOWN:"Subscribe Email Full Screen Shown",SUBSCRIBE_EMAIL_SCREEN_SHOWN:"Subscribe Email Screen Shown",SUBSCRIBE_FLOW_START_WRITING_SEEN:"Subscribe Flow Start Writing Seen",SUBSCRIBE_FOOTER_SEEN:"Subscribe Footer Seen",SUBSCRIBE_FORM_ERROR:"Subscribe Form Error",SUBSCRIBE_FORM_INPUT_FILLED:"Subscribe Form Input Filled",SUBSCRIBE_FORM_MISSING_PAYMENT:"Subscribe Form Missing Payment",SUBSCRIBE_FORM_SUBMIT_PRESSED:"Subscribe Form Submit Pressed",SUBSCRIBE_INVITE_SCREEN_SHOWN:"Subscribe Invite Screen Shown",SUBSCRIBE_LATER_SCREEN_SHOWN:"Subscribe Later Screen Shown",SUBSCRIBE_MODAL_IN_POST_CLOSED:"Subscribe Modal In Post Closed",SUBSCRIBE_MODAL_IN_POST_OPENED_AUTOMATICALLY:"Subscribe Modal In Post Opened Automatically",SUBSCRIBE_NOTE_SCREEN_FAILED:"Subscribe Note Screen Failed",SUBSCRIBE_NOTE_SCREEN_SEEN:"Subscribe Note Screen Seen",SUBSCRIBE_NOTE_SCREEN_SUBMITTED:"Subscribe Note Screen Submitted",SUBSCRIBE_PAGE_BULK_SUBSCRIBED:"Subscribe Page Bulk Subscribed",SUBSCRIBE_PROMPT_DISMISSED:"Subscribe Prompt Dismissed",SUBSCRIBE_PROMPT_EXPANDED:"Subscribe Prompt Expanded",SUBSCRIBE_PROMPT_SHOWN:"Subscribe Prompt Shown",SUBSCRIBE_PROMPT_SIGN_IN_CLICKED:"Subscribe Prompt Sign In Clicked",SUBSCRIBE_PROMPT_SUBMITTED:"Subscribe Prompt Submitted",SUBSCRIBE_SCREEN_SHOWN:"Subscribe Screen Shown",SUBSCRIBE_SCREEN_SUBMIT_ERROR:"Subscribe Screen Submit Error",SUBSCRIBE_SCREEN_TYPE_SELECTED:"Subscribe Screen Type Selected",SUBSCRIBE_THANK_YOU_SCREEN_SHOWN:"Subscribe Thank You Screen Shown",SUBSCRIBE_TWEET_SCREEN_SHOWN:"Subscribe Tweet Screen Shown",SUGGESTED_PUBS_SCREEN_SHOWN:"Suggested Pubs Screen Shown",SUGGESTED_PUBS_UPSELL_SCREEN_FREE_SUBSCRIPTION_ERROR:"Suggested Pubs Upsell Screen Free Subscription Error",SUGGESTED_PUBS_UPSELL_SCREEN_SHOWN:"Suggested Pubs Upsell Screen Shown",SUGGESTED_RECOMMEND_SUBSCRIBING_PUB_SCREEN_SHOWN:"Suggested Recommend Subscribing Pub Screen Shown",SUGGESTED_SUBDOMAIN_SELECTED:"Suggested Subdomain Selected",TEST_DRAFT_EMAIL_ERROR:"Test Draft Email Error",TEST_DRAFT_EMAIL_INPUT_FILLED:"Test Draft Email Input Filled",TEST_DRAFT_EMAIL_MISSING_PAYMENT:"Test Draft Email Missing Payment",TEST_DRAFT_EMAIL_SUBMIT_PRESSED:"Test Draft Email Submit Pressed",THREADS_COMPOSER_SCREEN_VIEWED:"Threads Composer Screen Viewed",THREADS_INBOX_SCREEN_VIEWED:"Threads Inbox Screen Viewed",THREAD_PAYWALL_SCREEN_VIEWED:"Thread Paywall Screen Viewed",THREAD_PERMALINK_VIEWED:"Thread Permalink Viewed",THREAD_REPLY_PERMALINK_VIEWED:"Thread Reply Permalink Viewed",THREAD_SUBSCRIBE_WALL_VIEWED:"Thread Subscribe Wall Viewed",TICKER_DID_YOU_MEAN_CLICKED:"Ticker Did You Mean Clicked",TOP_POSTS_FOOTER_SEEN:"Top Posts Footer Seen",TWITTER_AUTO_SHARE_OPTION_TOGGLED:"Twitter Auto Share Option Toggled",TWITTER_PROFILE_VISIBLE_TOGGLED:"Twitter Profile Visible Toggled",UNSUBSCRIBE_BUTTON_IN_READER_ONBOARDING_CLICKED:"Unsubscribe Button In Reader Onboarding Clicked",UNSUBSCRIBE_BUTTON_IN_SEARCH_RESULTS_CLICKED:"Unsubscribe Button In Search Results Clicked",UPDATE_EXPIRED_CARD_LINK_CLICKED:"Update Expired Card Link Clicked",UPGRADE_PLAN_MODAL_DISMISSED:"Upgrade Plan Modal Dismissed",UPGRADE_PLAN_MODAL_OPENED:"Upgrade Plan Modal Opened",UPGRADE_PLAN_MODAL_PLAN_CHANGED:"Upgrade Plan Modal Plan Changed",UPGRADE_PLAN_MODAL_SUBMITTED:"Upgrade Plan Modal Submitted",UPLOAD_AUDIO_CLICKED:"Upload Audio Clicked",UPLOAD_EPISODE_AUDIO_CLICKED:"Upload Episode Audio Clicked",UPLOAD_VIDEO_CLICKED:"Upload Video Clicked",USER_HEAD_CLICKED:"User Head Clicked",USER_LINK_CLICKED:"User Link Clicked",USER_MENU_ACCOUNT_SETTINGS_CLICKED:"User Menu Account Settings Clicked",USER_MENU_ACTIVITY_CLICKED:"User Menu Activity Clicked",USER_MENU_DASHBOARD_CLICKED:"User Menu Dashboard Clicked",USER_MENU_DISCOVER_CLICKED:"User Menu Discover Clicked",USER_MENU_DISMISSED:"User Menu Dismissed",USER_MENU_MANAGE_SUBSCRIPTION_CLICKED:"User Menu Manage Subscription Clicked",USER_MENU_OPENED:"User Menu Opened",USER_MENU_PROFILE_CLICKED:"User Menu Profile Clicked",USER_MENU_READER_CLICKED:"User Menu Reader Clicked",USER_MENU_SAVED_CLICKED:"User Menu Saved Clicked",VIDEO_BUFFERING_COMPLETED:"Video Buffering Completed",VIDEO_BUFFERING_STARTED:"Video Buffering Started",VIDEO_MODAL_BROWSE_FILES_CLICKED:"Video Modal Browse Files Clicked",VIDEO_MODAL_CANCEL_CLICKED:"Video Modal Cancel Clicked",VIDEO_MODAL_DROPPED_FILE:"Video Modal Dropped File",VIDEO_MODAL_INSERT_CLICKED:"Video Modal Insert Clicked",VIDEO_PAUSE_BUTTON_CLICKED:"Video Pause Button Clicked",VIDEO_PLAYBACK_COMPLETED:"Video Playback Completed",VIDEO_PLAYBACK_CONTINUED:"Video Playback Continued",VIDEO_RECORDED:"Video Recorded",VIDEO_RECORDER_HIDDEN:"Video Recorder Hidden",VIDEO_RECORDER_SHOWN:"Video Recorder Shown",VIDEO_RECORDER_STARTED:"Video Recorder Started",VIDEO_RECORDER_STARTING:"Video Recorder Starting",VIDEO_RECORDER_STOPPED:"Video Recorder Stopped",VIDEO_RECORDER_STOPPING:"Video Recorder Stopping",VIEWED_MORE_CATEGORY:"Viewed More Category",VIRAL_GIFT_ALL_EMAILS_FILLED:"Viral Gift All Emails Filled",VIRAL_GIFT_FORM_SUBMITTED:"Viral Gift Form Submitted",VIRAL_GIFT_LINK_COPIED:"Viral Gift Link Copied",VIRAL_GIFT_LINK_INPUT_CLICKED:"Viral Gift Link Input Clicked",VIRAL_GIFT_PAGE_VIEWED:"Viral Gift Page Viewed",VIRAL_GIFT_SHARE_ON_TWITTER_CLICKED:"Viral Gift Share On Twitter Clicked",VIRTUAL_FREE_SIGNUP_FAILED:"Virtual Free Signup Failed",WRITER_DASHBOARD_POSTS_SEARCHED:"Writer Dashboard Posts Searched",WRITER_MEDIA_ASSETS_IMAGE_DOWNLOADED:"Writer Media Assets Image Downloaded",WRITER_MEDIA_ASSETS_PAGE_VISITED:"Writer Media Assets Page Visited",WRITER_REFERRAL_ACTION_BOX_DISMISSED:"Writer Referral Action Box Dismissed",WRITER_REFERRAL_ACTION_BOX_SHOWN:"Writer Referral Action Box Shown",WRITER_REFERRAL_CODE_COPIED:"Writer Referral Code Copied",WRITER_REFERRAL_PROFILE_LINK_CLICKED:"Writer Referral Profile Link Clicked",WRITER_SIGNUP_ADD_SUBS_SKIP:"Writer Signup Add Subs Skip",WRITER_SIGNUP_ADD_SUBS_SUCCESS:"Writer Signup Add Subs Success",WRITER_SIGNUP_CONNECT_ACCOUNTS_SKIP:"Writer Signup Connect Accounts Skip",WRITER_SIGNUP_CREATE_PUBLICATION_FORM_ERROR:"Writer Signup Create Publication Form Error",WRITER_SIGNUP_CREATE_PUBLICATION_FORM_INPUT_FILLED:"Writer Signup Create Publication Form Input Filled",WRITER_SIGNUP_CREATE_PUBLICATION_FORM_MISSING_PAYMENT:"Writer Signup Create Publication Form Missing Payment",WRITER_SIGNUP_CREATE_PUBLICATION_FORM_SUBMIT_PRESSED:"Writer Signup Create Publication Form Submit Pressed",WRITER_SIGNUP_EMAIL_INPUTS_FORM_ERROR:"Writer Signup Email Inputs Form Error",WRITER_SIGNUP_EMAIL_INPUTS_FORM_INPUT_FILLED:"Writer Signup Email Inputs Form Input Filled",WRITER_SIGNUP_EMAIL_INPUTS_FORM_MISSING_PAYMENT:"Writer Signup Email Inputs Form Missing Payment",WRITER_SIGNUP_EMAIL_INPUTS_FORM_SUBMIT_PRESSED:"Writer Signup Email Inputs Form Submit Pressed",WRITER_SIGNUP_GOOGLE_CLICKED:"Writer Signup Google Clicked",WRITER_SIGNUP_IMPORT_SKIP:"Writer Signup Import Skip",WRITER_SIGNUP_IMPORT_SUCCESS:"Writer Signup Import Success",WRITER_SIGNUP_LOG_IN_CLICKED:"Writer Signup Log In Clicked",WRITER_SIGNUP_PUBLISHER_AGREEMENT_FORM_ERROR:"Writer Signup Publisher Agreement Form Error",WRITER_SIGNUP_PUBLISHER_AGREEMENT_FORM_INPUT_FILLED:"Writer Signup Publisher Agreement Form Input Filled",WRITER_SIGNUP_PUBLISHER_AGREEMENT_FORM_MISSING_PAYMENT:"Writer Signup Publisher Agreement Form Missing Payment",WRITER_SIGNUP_PUBLISHER_AGREEMENT_FORM_SUBMIT_PRESSED:"Writer Signup Publisher Agreement Form Submit Pressed",WRITER_SIGNUP_SECOND_TWITTER_SKIP:"Writer Signup Second Twitter Skip",WRITER_SIGNUP_SETUP_PROFILE_FORM_ERROR:"Writer Signup Setup Profile Form Error",WRITER_SIGNUP_SETUP_PROFILE_FORM_INPUT_FILLED:"Writer Signup Setup Profile Form Input Filled",WRITER_SIGNUP_SETUP_PROFILE_FORM_MISSING_PAYMENT:"Writer Signup Setup Profile Form Missing Payment",WRITER_SIGNUP_SETUP_PROFILE_FORM_SUBMIT_PRESSED:"Writer Signup Setup Profile Form Submit Pressed",WRITER_SIGNUP_SUBSCRIBE_TO_OTHERS_SKIPPED:"Writer Signup Subscribe To Others Skipped",WRITER_SIGNUP_SWITCH_ACCOUNTS_CLICKED:"Writer Signup Switch Accounts Clicked",WRITER_SIGNUP_TWITTER_CLICKED:"Writer Signup Twitter Clicked",WRITING_BRANDPAGE_VISITED:"Writing Brandpage Visited",WRITING_HOMEPAGE_VISITED:"Writing Homepage Visited",ZENDESK_CLASSIC_WIDGET_INTERACTED:"Zendesk Classic Widget Interacted"},f={APPLICATION_BACKGROUNDED:"Application Backgrounded",APPLICATION_INSTALLED:"Application Installed",APPLICATION_OPENED:"Application Opened",APPLICATION_UPDATED:"Application Updated",APP_ICON_CHANGED:"App Icon Changed",APP_SIGN_IN_COMPLETE:"App Sign In Complete",ARCHIVE_SCREEN_VIEWED:"Archive Screen Viewed",AUDIO_UNAVAILABLE_MODAL_SHOWN:"Audio Unavailable Modal Shown",CHAT_MENTION_INSERTED:"Chat Mention Inserted",CHAT_MENTION_SEARCH_CANCELLED:"Chat Mention Search Cancelled",CHAT_MENTION_SEARCH_STARTED:"Chat Mention Search Started",COMING_SOON_SCREEN_VIEWED:"Coming Soon Screen Viewed",COMMENTS_THREAD_VIEWED:"Comments Thread Viewed",CONNECT_TWITTER_SCREEN_COMPLETED:"Connect Twitter Screen Completed",CONNECT_TWITTER_SCREEN_VIEWED:"Connect Twitter Screen Viewed",CONTACT_SYNC_INITIATED:"Contact Sync Initiated",CONTACT_SYNC_PERMISSIONS_SCREEN_COMPLETED:"Contact Sync Permissions Screen Completed",CONTACT_SYNC_PERMISSIONS_SCREEN_VIEWED:"Contact Sync Permissions Screen Viewed",CONTACT_SYNC_SCREEN_DISMISSED:"Contact Sync Screen Dismissed",CONTACT_SYNC_SCREEN_VIEWED:"Contact Sync Screen Viewed",CONTACT_SYNC_SUGGESTIONS_SCREEN_COMPLETED:"Contact Sync Suggestions Screen Completed",CONTACT_SYNC_SUGGESTIONS_SCREEN_VIEWED:"Contact Sync Suggestions Screen Viewed",DISCOVERY_SCREEN_VIEWED:"Discovery Screen Viewed",DISCOVER_CATEGORY_SCREEN_VIEWED:"Discover Category Screen Viewed",DISPLAY_SETTINGS_UPDATED:"Display Settings Updated",DISPLAY_SETTINGS_VIEWED:"Display Settings Viewed",EMAIL_INSTRUCTIONS_SCREEN_VIEWED:"Email Instructions Screen Viewed",ENTER_PASSWORD_SCREEN_VIEWED:"Enter Password Screen Viewed",ENTRY_FLOW_COMPLETED:"Entry Flow Completed",ENTRY_FLOW_STARTED:"Entry Flow Started",FEED_COMPOSER_SCREEN_VIEWED:"Feed Composer Screen Viewed",FOLLOW_MODAL_VIEWED:"Follow Modal Viewed",INBOX_AUDIO_ENTRY_TAPPED:"Inbox Audio Entry Tapped",INBOX_SCREEN_VIEWED:"Inbox Screen Viewed",IOS_APP_BANNER_VIEWED:"Ios App Banner Viewed",IOS_EXTERNAL_LINK_CLICKED:"Ios External Link Clicked",IOS_EXTERNAL_LINK_OPENED:"Ios External Link Opened",IOS_EXTERNAL_LINK_SEEN:"Ios External Link Seen",LIBRARY_SCREEN_VIEWED:"Library Screen Viewed",MANAGE_SUBSCRIPTION_EXPLANATION_SHOWN:"Manage Subscription Explanation Shown",MENTION_INSERTED:"Mention Inserted",MENTION_SEARCH_CANCELLED:"Mention Search Cancelled",MENTION_SEARCH_STARTED:"Mention Search Started",MFA_CHALLENGE_SCREEN_VIEWED:"Mfa Challenge Screen Viewed",MOBILE_NEW_FEATURE_MODAL_SHOWN:"Mobile New Feature Modal Shown",NOTIFICATIONS_UPSELL_MODAL_SHOWN:"Notifications Upsell Modal Shown",ONBOARDING_CATEGORIES_SCREEN_COMPLETED:"Onboarding Categories Screen Completed",ONBOARDING_CATEGORIES_SCREEN_VIEWED:"Onboarding Categories Screen Viewed",ONBOARDING_NOTIFICATIONS_SCREEN_COMPLETED:"Onboarding Notifications Screen Completed",ONBOARDING_NOTIFICATIONS_SCREEN_VIEWED:"Onboarding Notifications Screen Viewed",ONBOARDING_NOTIFICATIONS_SKIP_REPROMPT_VIEWED:"Onboarding Notifications Skip Reprompt Viewed",ONBOARDING_SUGGESTIONS_SCREEN_COMPLETED:"Onboarding Suggestions Screen Completed",ONBOARDING_SUGGESTIONS_SCREEN_VIEWED:"Onboarding Suggestions Screen Viewed",PHONE_VERIFICATION_CODE_SCREEN_COMPLETED:"Phone Verification Code Screen Completed",PHONE_VERIFICATION_CODE_SCREEN_VIEWED:"Phone Verification Code Screen Viewed",PHONE_VERIFICATION_SCREEN_COMPLETED:"Phone Verification Screen Completed",PHONE_VERIFICATION_SCREEN_VIEWED:"Phone Verification Screen Viewed",PLAYER_ACTIVATED:"Player Activated",PLAYER_DISMISSED:"Player Dismissed",PLAYER_OPENED:"Player Opened",PLAYER_QUEUE_ITEM_REMOVED:"Player Queue Item Removed",PLAYER_QUEUE_ITEM_SELECTED:"Player Queue Item Selected",PLAYER_QUEUE_OPENED:"Player Queue Opened",PLAYER_QUEUE_REORDERED:"Player Queue Reordered",PLAYER_SPEED_CHANGED:"Player Speed Changed",PODCASTS_SCREEN_VIEWED:"Podcasts Screen Viewed",POSTS_BULK_ARCHIVED:"Posts Bulk Archived",POST_AUDIO_ENTRY_TAPPED:"Post Audio Entry Tapped",POST_AUDIO_QUEUED:"Post Audio Queued",PROFILE_CREATION_SCREEN_VIEWED:"Profile Creation Screen Viewed",PROFILE_VISIBILITY_SCREEN_VIEWED:"Profile Visibility Screen Viewed",PUSH_AUTHORIZATION_STATUS_CHANGED:"Push Authorization Status Changed",PUSH_NOTIFICATIONS_ENABLED:"Push Notifications Enabled",PUSH_NOTIFICATION_DELIVERED:"Push Notification Delivered",PUSH_NOTIFICATION_PERMISSION_TRIGGERED:"Push Notification Permission Triggered",PUSH_NOTIFICATION_TAPPED:"Push Notification Tapped",PUSH_SETTINGS_SCREEN_VIEWED:"Push Settings Screen Viewed",SAVED_POSTS_VIEWED:"Saved Posts Viewed",SUBSTACK_PUB_SCREEN_COMPLETED:"Substack Pub Screen Completed",SUBSTACK_PUB_SCREEN_VIEWED:"Substack Pub Screen Viewed",THREADS_INTRO_SCREEN_VIEWED:"Threads Intro Screen Viewed",TWITTER_SUGGESTIONS_SCREEN_COMPLETED:"Twitter Suggestions Screen Completed",TWITTER_SUGGESTIONS_SCREEN_VIEWED:"Twitter Suggestions Screen Viewed",UNSUPPORTED_EMBED_SEEN:"Unsupported Embed Seen",WELCOME_SCREEN_VIEWED:"Welcome Screen Viewed"}},8111:(z,u,e)=>{"use strict";e.d(u,{mb:()=>S,u8:()=>v});var o=e(41595);const f=(0,o.Z)();f.setLocale("de");const l=(0,o.Z)(),c="en",g=x=>(Array.isArray(x)?(x[0]||"")+x.slice(1).map((T,_)=>`%${_+1}${T}`).join(""):x).toString(),v=(x,...T)=>{const _=g(x);return l.gettext(_,...T)},E=({pub:x}={})=>x&&x.language||c,S={i:(x=c)=>{const _=(typeof x=="string"?x:x?E({pub:x.pub}):c)==="de"?f:l;return{iString:_.gettext.bind(_),iPlural:_.ngettext.bind(_),iContext:_.pgettext.bind(_),iTemplate:(s,...w)=>{const P=g(s);return _.gettext(P,...w)},iCombo:_.dcnpgettext.bind(_,null)}},p:x=>[x,null],l:(x,T)=>{const _=x==="de"?f:l,d=JSON.parse(JSON.stringify(T));_.loadJSON(d,"messages")}};if(typeof window=="undefined"){const x=e(Object(function(){var _=new Error("Cannot find module './translations/translations-de.json'");throw _.code="MODULE_NOT_FOUND",_}()));S.l("de",x)}typeof window!="undefined"?window.I18N=S:e.g.I18N=S},61782:(z,u,e)=>{"use strict";e.d(u,{L:()=>o});const o=1653592864},48971:(z,u,e)=>{"use strict";e.r(u),e.d(u,{DEFAULT_MINIMUM_RATES:()=>l,MAX_MONTHLY_RATE:()=>c,MAX_YEARLY_RATE:()=>g,MINIMUM_CURRENCY_SPECIFIC_RATES:()=>f,currencyFormattedPledgePriceString:()=>E,validatePledgePrices:()=>v});var o=e(83322);const f={gbp:{month:3.5,year:20,founding:20},inr:{month:50,year:300,founding:300}},l={month:5,year:50,founding:50},c=100,g=1e3,v=y=>{const{value:p,interval:O,is_founding:S,currency:x}=y,T=(f[x.toLowerCase()]||l)[S?"founding":O],_=O==="month"?c:g;return p<T?`${(0,o.toTitleCase)(O)}ly plan price must be at least ${E(T,x)}`:p>_?`${(0,o.toTitleCase)(O)}ly${y.is_founding?" founding":""} plan price must be less than ${E(_,x)}`:null},E=(y,p)=>(0,o.centsToPriceString)(y*((0,o.isZeroDecimalCurrency)(p)?1:100),p)},6385:(z,u,e)=>{"use strict";e.r(u),e.d(u,{getAllAudiences:()=>x,getAudiencesForPublicListing:()=>T,getCommentAuthor:()=>q,getCoverImageUrl:()=>J,getFoundingAudiences:()=>d,getPaidAudiences:()=>_,getPostAuthor:()=>$,isFoundingAudience:()=>w,isPaidAudience:()=>s,previewSubHasFullAccessToPost:()=>G,pubRoleHasFullAccessToPost:()=>U,pubRolesHaveFullAccessToPost:()=>W,subHasFullAccessToPost:()=>C,subHasFullAccessToPostAudience:()=>A,userHasFullAccessToPost:()=>D});var o=Object.defineProperty,f=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,g=(R,j,ie)=>j in R?o(R,j,{enumerable:!0,configurable:!0,writable:!0,value:ie}):R[j]=ie,v=(R,j)=>{for(var ie in j||(j={}))l.call(j,ie)&&g(R,ie,j[ie]);if(f)for(var ie of f(j))c.call(j,ie)&&g(R,ie,j[ie]);return R},E=(R,j)=>{var ie={};for(var le in R)l.call(R,le)&&j.indexOf(le)<0&&(ie[le]=R[le]);if(R!=null&&f)for(var le of f(R))j.indexOf(le)<0&&c.call(R,le)&&(ie[le]=R[le]);return ie};const y=["founding","only_paid","everyone","only_free"],p=["founding","only_paid","everyone"],O=["founding","only_paid"],S=["founding"];function x(){return[...y]}function T(){return[...p]}function _(){return[...O]}function d(){return[...S]}function s(R){return _().includes(R)}function w(R){return d().includes(R)}function P(R,j,ie){if(!j&&!ie||(R==null?void 0:R.subscription_publication_id)===j||(R==null?void 0:R.subscription_publication_id)===ie){if(R!=null&&R.is_founding||R!=null&&R.is_contributor)return"founding";if(R!=null&&R.is_subscribed)return"paid"}return"free"}function I(R){switch(R){case"founding":return["founding"];case"only_paid":return["paid","founding"];case"only_free":return["free"];case"everyone":return["free","paid","founding"];default:throw new Error(`Unknown audience: ${R}`)}}function D(R,j,ie){if(!j)return!1;if(!j.audience)throw new Error("Post has no audience");const le=P(R,j.publication_id,ie==null?void 0:ie.parent_publication_id);return I(j.audience).includes(le)}function N(R,j){if(!j||(R==null?void 0:R.publication_id)===j){if((R==null?void 0:R.membership_state)==="subscribed"&&(R!=null&&R.is_founding))return"founding";if((R==null?void 0:R.membership_state)==="subscribed")return"paid"}return"free"}function C(R,j){if(!j)return!1;if(!j.audience)throw new Error("Post has no audience");const ie=N(R,j.publication_id);return I(j.audience).includes(ie)}function A(R,j){const ie=N(R);return I(j).includes(ie)}function L(R){return(R==null?void 0:R.role)==="admin"||(R==null?void 0:R.role)==="contributor"||(R==null?void 0:R.membership_state)==="subscribed"&&(R!=null&&R.is_founding)?"founding":(R==null?void 0:R.membership_state)==="subscribed"?"paid":"free"}function U(R,j){if(!j)return!1;if(!j.audience)throw new Error("Post has no audience");const ie=L(R);return I(j.audience).includes(ie)}function W(R,j){return!!(j&&(U(R==null?void 0:R[j.publication_id],j)||j.parent_publication_id&&U(R==null?void 0:R[j.parent_publication_id],j)))}function G(R,j){if(!j)return!1;if(!j.audience)throw new Error("Post has no audience");const ie=R;return I(j.audience).includes(ie)}function $(R,j){var ie;const le=(ie=j==null?void 0:j.publishedBylines)==null?void 0:ie[0];if(le)return le;const ye=R.contributors.find(oe=>oe.owner);if(ye){const oe=ye,{user_id:te}=oe,Z=E(oe,["user_id"]);return v({id:te},Z)}const ue=R.contributors.find(oe=>["admin","contributor"].includes(oe.role));if(ue){const oe=ue,{user_id:te}=oe,Z=E(oe,["user_id"]);return v({id:te},Z)}return{id:R.author_id,name:R.author_name,photo_url:R.author_photo_url,bio:R.author_bio}}function q(R){var j,ie,le,ye,ue,oe,te,Z,re,ae,se,be,_e,pe,me;return{id:(le=(ie=(j=R.user)==null?void 0:j.id)!=null?ie:R.user_id)!=null?le:-1,name:(oe=(ue=(ye=R.user)==null?void 0:ye.name)!=null?ue:R.name)!=null?oe:"",handle:(Z=(te=R.user)==null?void 0:te.handle)!=null?Z:R.handle,photo_url:(ae=(re=R.user)==null?void 0:re.photo_url)!=null?ae:R.photo_url,bestseller_tier:(_e=(be=(se=R.user)==null?void 0:se.bestseller_tier)!=null?be:R.user_bestseller_tier)!=null?_e:null,primary_publication:(me=(pe=R.user)==null?void 0:pe.primary_publication)!=null?me:R.user_primary_publication}}function J(R){return!R.cover_image||/12634ced-0eb6-4238-a94a-70ab242c5ad8/.test(R.cover_image)||/fa15c776-f514-42fe-8ee0-4c94148a0a8a/.test(R.cover_image)||/8826edac-0d50-4ba0-b861-f3ed9336878b/.test(R.cover_image)||/49be2356-6491-4a6f-84a5-15e99d23b6d1/.test(R.cover_image)?null:R.cover_image}},85200:(z,u,e)=>{"use strict";e.d(u,{FV:()=>p,Im:()=>v,ab:()=>E,wN:()=>y});var o=e(39693),f=e.n(o),l=e(15045),c=e(83322);const g=function(O){const S=O.trim();return(0,c.endsWithPunctuation)(S)?S:`${S}.`},v=function(O,S=3){if(!(O!=null&&O.length)||!O[0].owner)return null;const x=O[0].name;if(O.length===1)return{owner:x,others:null};let T=O.slice(1);if(T.length>S&&(T=T.filter(_=>_.role==="admin")),T.length&&T.length<=S){const _=T.map(d=>d.name);return{owner:x,others:(0,c.oxfordComma)(_).toString()}}return{owner:x,others:null}},E=function(O,S,x,T,_,d){const s=O?g(O):"";let w;S&&!S.others?T.toLowerCase().includes(S.owner.toLowerCase())?w="":w=` by ${S.owner},`:w="";let P;return x&&d?P=" a Substack publication.":x?P=` a Substack publication with ${x}.`:_?P=` a Substack publication. ${_}.`:P=" a Substack publication.",g(`${d&&x?`${x}. `:""}${s} Click to read ${T},${w}${P}`)};function y(O,S){if(O){if(O.author_id===S)return!0;for(const x of O.contributors)if(x.user_id===S)return!0}return!1}const p=O=>{const S=O.podcast_enabled?{title:O.podcast_title,subtitle:O.podcast_description,podcast_art_url:O.podcast_art_url,url:(0,l.getPodcastLandingUrl)({pub:O,section:null})}:null,x=O.sections.filter(T=>T.is_podcast).map(T=>{var _,d;return{title:T.name,subtitle:(_=T.podcastSettings)==null?void 0:_.podcast_description,podcast_art_url:(d=T.podcastSettings)==null?void 0:d.podcast_art_url,url:(0,l.getPodcastLandingUrl)({pub:O,section:T})}});return f()([S,...x])}},91613:(z,u,e)=>{"use strict";e.d(u,{x:()=>f});var o=e(6385);const f=(l,c,g,v,E)=>!(!E&&!(l!=null&&l.has_publication)||v.invite_only||(0,o.isPaidAudience)(g.audience)||!c.enable_restacking)},82771:(z,u,e)=>{"use strict";e.d(u,{Rg:()=>s,hd:()=>d});var o=e(85928),f=e.n(o),l=e(6385),c=e(15045),g=e(83322),v=Object.defineProperty,E=Object.defineProperties,y=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,x=(P,I,D)=>I in P?v(P,I,{enumerable:!0,configurable:!0,writable:!0,value:D}):P[I]=D,T=(P,I)=>{for(var D in I||(I={}))O.call(I,D)&&x(P,D,I[D]);if(p)for(var D of p(I))S.call(I,D)&&x(P,D,I[D]);return P},_=(P,I)=>E(P,y(I));function d(P,{name:I,url:D,description:N,potentialAction:C}={}){return C===void 0&&(C={"@type":"SearchAction",name:`Search ${P.name}`,target:`${P.base_url}${(0,c.getBaseArchiveUrl)(P)}?utm_source=google&sort=search&search={search_term_string}`,"query-input":"required name=search_term_string"}),{"@context":"https://schema.org","@type":"WebSite",name:I||P.name,publisher:T(T({"@type":"Organization",name:P.name,url:P.base_url},P.logo_url?{logo:{"@type":"ImageObject",url:P.logo_url}}:{}),P.twitter_screen_name?{sameAs:[`https://twitter.com/${P.twitter_screen_name}`]}:{}),url:D||P.base_url,mainEntityOfPage:{"@type":"WebPage",url:D||P.base_url},description:N||P.hero_text,potentialAction:C}}function s(P,I){var D,N,C,A;const L=(0,g.getBylineUsers)(I),U=T(T(_(T({"@type":"Organization",name:(P.parent_publication||P).name,url:(0,c.getBaseUrl)(P.parent_publication||P),description:(P.parent_publication||P).hero_text},P.rankingDetailFreeIncludedOrderOfMagnitude&&{interactionStatistic:{"@type":"InteractionCounter",name:"Subscribers",interactionType:"https://schema.org/SubscribeAction",userInteractionCount:P.rankingDetailFreeIncludedOrderOfMagnitude}}),{identifier:`pub:${(P.parent_publication||P).id}`}),(P.parent_publication||P).logo_url&&{logo:{"@type":"ImageObject",url:(P.parent_publication||P).logo_url,contentUrl:(0,c.imginary)((D=(P.parent_publication||P).logo_url)!=null?D:""),thumbnailUrl:(0,c.imginary)((N=(P.parent_publication||P).logo_url)!=null?N:"",128,{height:128})},image:{"@type":"ImageObject",url:(P.parent_publication||P).logo_url,contentUrl:(0,c.imginary)((C=(P.parent_publication||P).logo_url)!=null?C:""),thumbnailUrl:(0,c.imginary)((A=(P.parent_publication||P).logo_url)!=null?A:"",128,{height:128})}}),(P.parent_publication||P).twitter_screen_name&&{sameAs:[`https://twitter.com/${(P.parent_publication||P).twitter_screen_name}`]});return _(T({"@context":"https://schema.org","@type":"NewsArticle",url:(0,c.getPostUrl)(P,I),mainEntityOfPage:(0,c.getPostUrl)(P,I),headline:I.search_engine_title||I.social_title||I.title,description:I.search_engine_description||I.description,image:I.cover_image?[{"@type":"ImageObject",url:I.cover_image}]:[],datePublished:f()(I.post_date).format("YYYY-MM-DDTHH:mm:ssZ"),dateModified:f()(I.post_date).format("YYYY-MM-DDTHH:mm:ssZ"),isAccessibleForFree:!(0,l.isPaidAudience)(I.audience)},I.post_paywall_content_for_google&&{hasPart:[{"@type":"WebPageElement",isAccessibleForFree:!0,cssSelector:".available-content"},{"@type":"WebPageElement",isAccessibleForFree:!1,cssSelector:".paywall-content"}]}),{author:L.length>0?L.map(W=>T(T({"@type":"Person",name:W.name,url:(0,c.getReaderProfileUrl)(W),description:W.bio,identifier:`user:${W.id}`},W.twitter_screen_name&&{sameAs:[`https://twitter.com/${W.twitter_screen_name}`]}),W.photo_url&&{image:{"@type":"ImageObject",contentUrl:(0,c.imginary)(W.photo_url),thumbnailUrl:(0,c.imginary)(W.photo_url,128,{height:128})}})):U,publisher:U})}function w(P){return T({"@context":"https://schema.org","@type":"Person",image:(P==null?void 0:P.photo_url)&&imginary(P.photo_url),name:`${P==null?void 0:P.name}`,url:P&&getReaderProfileUrl(P),jobTitle:P==null?void 0:P.bio,description:P==null?void 0:P.bio},P!=null&&P.twitter_screen_name?{sameAs:[`https://twitter.com/${P.twitter_screen_name}`]}:{})}},86418:(z,u,e)=>{"use strict";e.d(u,{P:()=>l});const o=new Set(["subscribed","free_signup"]);function f(c){return o.has(c)}function l(c,g){if(!c)return!1;if(!g)return!0;const v=["unsubscribed","free_signup","subscribed"];return v.indexOf(c)>=v.indexOf(g)}},21125:(z,u,e)=>{"use strict";e.d(u,{gg:()=>l});var o=e(25235);function f(g){return g&&c(g)[0]||null}function l(g){return g&&c(g).pop()||null}function c(g){return(0,o.find)(g).filter(v=>v.type==="url"&&v.href.startsWith("http"))}},46131:(z,u,e)=>{"use strict";e.d(u,{Z:()=>o});function*o(f){if(yield f,f.content)for(const l of f.content)yield*o(l)}},81470:(z,u,e)=>{"use strict";e.d(u,{Uo:()=>o});var o=(c=>(c.Feed="feed",c.FeedSidebar="feed-sidebar",c.Suggestions="suggestions",c.Permalink="permalink",c.Profile="profile",c.Post="post",c.PostEmbed="post-embed",c.Publication="publication",c.RestacksList="restacks-list",c))(o||{}),f=(c=>(c.ForYou="for-you",c.ForYouComments="for-you-comments",c.Subscribed="subscribed",c.Writers="writers-v2",c.Everyone="everyone",c.FirstNote="first-note",c.Substack="substack",c.ForYouBeta="for-you-beta",c.ForYouBoostFollows="for-you-boost-follows",c.ForYouBuckets="for-you-buckets",c))(f||{});const l={["for-you"]:"Home",subscribed:"Following",["writers-v2"]:"[Bestsellers]",everyone:"[Everyone]",["first-note"]:"[First notes]",substack:"Substack",["for-you-beta"]:"[Home/beta]",["for-you-comments"]:"[Home+comments]",["for-you-boost-follows"]:"[Boost follows]",["for-you-buckets"]:"[Buckets]"}},20501:(z,u,e)=>{"use strict";e.r(u),e.d(u,{CDN_URL:()=>f.L4,CHAT_EXAMPLES_URL:()=>Ie,CHAT_FAQ_URL:()=>We,FEED_PATH:()=>l.Ds,FEED_PATH_NAME:()=>l.qB,OLD_FEED_PATH:()=>l.Z3,_getUrl:()=>f.JD,extractDimensionsFromImageUrl:()=>Xe,feedPathRegex:()=>l.Qe,fixOldFeedPath:()=>l.sm,getActivityRepliesDeepLinkUrl:()=>l.AP,getAddPodcastToSectionUrl:()=>Lt,getAppLinkTabUrl:()=>be,getBaseAppLinkUrl:()=>Z,getBaseUrl:()=>f.SV,getBillingDetailsUrl:()=>N,getBillingHistoryUrl:()=>C,getCancelOrUncancelUrl:()=>pn,getChangeEmailUrl:()=>U,getChatAppLinkUrl:()=>se,getCollabPostUrl:()=>nn,getCommentDeepLinkUrl:()=>l.z5,getCommentEntityKey:()=>l.It,getCommentFallbackUrl:()=>l.NZ,getCommunityCommentAppLinkUrl:()=>Te,getCommunityPostAppLinkUrl:()=>me,getCommunityPostEntityKey:()=>l.AO,getConnectFacebookUrl:()=>Me,getConnectTwitterUrl:()=>Ee,getCreateNotesUrl:()=>l.TK,getCustomPublicationThemeDisablePreviewUrl:()=>we,getCustomPublicationThemePreviewUrl:()=>_t,getDashboardHomeUrl:()=>ie,getDonateSubscriptionUrl:()=>I,getEditPostUrlById:()=>c.getEditPostUrlById,getEditProfileUrl:()=>g.getEditProfileUrl,getEditPubPodcastUrl:()=>yt,getEditSectionPodcastUrl:()=>he,getEmailTestUrl:()=>A,getFeedCommentAppLinkUrl:()=>ve,getFeedCommentUrl:()=>l.Sg,getFeedPeopleYouMayKnowUrl:()=>l.kM,getFeedPostRestacksUrl:()=>l.Oi,getFeedPostUrl:()=>l.rc,getFeedShortPostUrl:()=>l.mx,getFeedUrl:()=>l.E2,getGiftsUrl:()=>L,getGroupManagementUrl:()=>R,getHcProfileViolationFormUrl:()=>Mt,getHostname:()=>f.Fo,getImginariedFavicons:()=>Be,getImportPodcastToSectionUrl:()=>$t,getInboxAppLinkUrl:()=>re,getLeaderboardUrl:()=>jn,getLikelyLoggedInParam:()=>c.getLikelyLoggedInParam,getLinkToVideo:()=>c.getLinkToVideo,getLinkableElementIdForVideo:()=>c.getLinkableElementIdForVideo,getManageGroupSubscriptionUrl:()=>G,getManageSubscriptionUrl:()=>W,getMeetingAdminUrl:()=>te,getMeetingOrderUrl:()=>ue,getMeetingsUrl:()=>oe,getMentionsUrl:()=>et,getNavigationBarItemUrl:()=>Ae,getNoteCommentPreviewUrl:()=>l.IY,getNoteEntityKey:()=>l.D2,getNoteRestacksUrl:()=>l.Ed,getNoteUrl:()=>l.gt,getOfferSubscribeUrl:()=>D,getPodcastArchiveUrl:()=>Ne,getPodcastRssUrlFromIds:()=>dr,getPostDashboardUrl:()=>j,getPostDeepLinkUrl:()=>l.sH,getPostDetailsPageUrl:()=>$n,getPostDetailsShareCenterUrl:()=>mr,getPostEntityKey:()=>l.vy,getPostManagementUrl:()=>le,getPostTagUrl:()=>vt,getPostUrl:()=>c.getPostUrl,getPostUrlBySlug:()=>c.getPostUrlBySlug,getPresubscribeUrl:()=>w,getProfileConnectionsUrl:()=>g.getProfileConnectionsUrl,getProfileHandleUrl:()=>g.getProfileHandleUrl,getProfileSetupUrl:()=>g.getProfileSetupUrl,getProfileSubdomain:()=>g.getProfileSubdomain,getProfileUrlById:()=>g.getProfileUrlById,getPubAccountSettingsUrl:()=>c.getPubAccountSettingsUrl,getPubConnectTwitterUrl:()=>de,getPublicationAppLinkUrl:()=>_e,getPublicationChatAppLinkUrl:()=>pe,getPublishBaseUrl:()=>$,getPublishPledgeStats:()=>jr,getPublishSettingsUrl:()=>q,getPublishSubscriberNotesUrl:()=>Dr,getReaderAutoFollowUrl:()=>g.getReaderAutoFollowUrl,getReaderInviteUrl:()=>g.getReaderInviteUrl,getReaderPostUrl:()=>$e,getReaderProfileUrl:()=>g.getReaderProfileUrl,getReferralSettingsUrl:()=>J,getSectionEmailBannerSettingUrl:()=>ee,getSectionUrl:()=>H,getSharePublicationUrl:()=>d,getStreakGraphicUrl:()=>Mn,getStripeInvoiceUrl:()=>De,getStripePlanUrl:()=>st,getSubdomainOrCustomDomain:()=>ct,getSubscribeUrl:()=>s,getSubscriberDashboardUrl:()=>ye,getSubstackUrl:()=>f.ZJ,getSubstackUrlWithDomain:()=>f.y,getThreadCommentsLandingPageUrl:()=>Le,getThreadsLandingPageUrl:()=>ce,getUserAppLinkUrl:()=>ae,getWebChatUrl:()=>P,imginary:()=>He,isFeedPath:()=>l.Z2,isHostedBySubstack:()=>it,isHostedByUnsplash:()=>Ke,isOldFeedPath:()=>l.p8,isOpenSubstackPostUrl:()=>Qe,matchCommentPath:()=>l.Th,matchFeedSubpath:()=>l.Iw,matchNoteId:()=>l.WF,matchNotePath:()=>l.Po,matchOldCommentPath:()=>l.Qd,matchPostPath:()=>l.nY,parsePostUrl:()=>ht,parseUrl:()=>tt,pathWithQuery:()=>f.n1,serializeQuery:()=>f.Y$,shareSamePub:()=>wt,stripeBaseUrl:()=>je,substackBaseUrl:()=>f.tE,substackDomain:()=>f.T9,substackUrl:()=>f.pv,unimginary:()=>ze});var o=e(72985),f=e(30123),l=e(70444),c=e(36250),g=e(2731),v=Object.defineProperty,E=Object.defineProperties,y=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,x=(At,Wt,Zt)=>Wt in At?v(At,Wt,{enumerable:!0,configurable:!0,writable:!0,value:Zt}):At[Wt]=Zt,T=(At,Wt)=>{for(var Zt in Wt||(Wt={}))O.call(Wt,Zt)&&x(At,Zt,Wt[Zt]);if(p)for(var Zt of p(Wt))S.call(Wt,Zt)&&x(At,Zt,Wt[Zt]);return At},_=(At,Wt)=>E(At,y(Wt));const d=(At,Wt={})=>{const Zt=T({utm_source:"substack",utm_medium:"email",utm_content:"share",action:"share"},Wt),_n=(0,f.SV)(At);return(0,f.n1)(_n,T(T({},Zt),Wt))};function s(At,{root:Wt,user:Zt,addBase:_n,params:Kn={}}={}){return Wt?/[&?]$/.test(Wt)||(Wt.includes("?")||Wt.endsWith("%%")?Wt+="&":Wt+="?"):Wt=_n?`${(0,f.SV)(At)}/subscribe?`:"/subscribe?",Zt!=null&&Zt.email&&(Kn.autoSubmit=!0,Kn.email=Zt==null?void 0:Zt.email),Wt+(0,f.Y$)(Kn)}function w(At){return`/api/v1/presubscribe/${At.id}`}function P({pubId:At,postId:Wt,commentId:Zt,params:_n}){return(0,f.n1)(`${(0,f.ZJ)()}/chat${At?`/${At}`:""}${Wt?`/post/${Wt}`:""}${Zt?`/reply/${Zt}`:""}`,_n)}function I(At,{root:Wt,addBase:Zt,params:_n={}}={}){return Wt?/[&?]$/.test(Wt)||(Wt.includes("?")||Wt.endsWith("%%")?Wt+="&":Wt+="?"):Wt=Zt?`${(0,f.SV)(At)}/donate?`:"/donate?",Wt+(0,f.Y$)(_n)}function D(At,{root:Wt,user:Zt,addBase:_n,offerCode:Kn,params:wr={}}){return Wt?/[&?]$/.test(Wt)||(Wt.includes("?")||Wt.endsWith("%%")?Wt+="&":Wt+="?"):Wt=_n?`${(0,f.SV)(At)}/subscribe/offer/${Kn}?`:`/subscribe/offer/${Kn}?`,Zt!=null&&Zt.email&&(wr.autoSubmit=!0,wr.email=Zt==null?void 0:Zt.email),Wt+(0,f.Y$)(wr)}function N(At,{utm_source:Wt}={}){return(0,f.n1)(`${(0,f.SV)(At)}/account/billing?details`,{utm_source:Wt})}function C(At,{utm_source:Wt}={}){return(0,f.n1)(`${(0,f.SV)(At)}/account/receipts`,{utm_source:Wt})}function A(At,{utm_source:Wt}={}){return(0,f.n1)(`${(0,f.SV)(At)}/account/email-test`,{utm_source:Wt})}function L({pub:At}){return`${(0,f.SV)(At)}/account/gifts`}function U({utm_source:At}={}){return(0,f.n1)(`${(0,f.ZJ)()}/account/email`,{utm_source:At})}function W(At){return`${(0,f.SV)(At)}/account`}const G=At=>`${(0,f.SV)(At)}/account/group`;function $(At,{addBase:Wt,baseUrlOptions:Zt}={}){return`${Wt?(0,f.SV)(At,Zt):""}/publish`}function q(At,{addBase:Wt=!1,baseUrlOptions:Zt={},section:_n="",params:Kn}={}){let wr=(0,f.n1)(`${$(At,{addBase:Wt,baseUrlOptions:Zt})}/settings`,Kn);return _n&&(wr+=`#${_n}`),wr}function J(At,{addBase:Wt=!1,baseUrlOptions:Zt={},params:_n}={}){return(0,f.n1)(`${$(At,{addBase:Wt,baseUrlOptions:Zt})}/settings/reader_referrals`,_n)}function R(At,{addBase:Wt=!1,baseUrlOptions:Zt={},params:_n}={}){return(0,f.n1)(`${$(At,{addBase:Wt,baseUrlOptions:Zt})}/groups`,_n)}function j(At,{addBase:Wt,params:Zt}={}){const Kn=`${Wt?(0,f.SV)(At):""}/publish`;return Zt?(0,f.n1)(Kn,Zt):Kn}function ie(At,{addBase:Wt,params:Zt}={}){const Kn=`${Wt?(0,f.SV)(At):""}/publish/home`;return Zt?(0,f.n1)(Kn,Zt):Kn}function le(At,Wt="published",{addBase:Zt,params:_n}={}){const wr=`${Zt?(0,f.SV)(At):""}/publish/posts/${Wt}`;return _n?(0,f.n1)(wr,_n):wr}function ye(At,{addBase:Wt,params:Zt}={}){const Kn=`${Wt?(0,f.SV)(At):""}/publish/subscribers`;return Zt?(0,f.n1)(Kn,Zt):Kn}function ue(At,Wt,{addBase:Zt,params:_n,referrer:Kn}={}){const Nr=`${Zt?(0,f.SV)(At):""}/meetings/book/${Wt}`,no=_(T({},_n),{referrer:Kn});return _n||Kn?(0,f.n1)(Nr,no):Nr}function oe(At,{addBase:Wt,params:Zt,referrer:_n}={}){const wr=`${Wt?(0,f.SV)(At):""}/meetings`,Nr=_(T({},Zt),{referrer:_n});return Zt||_n?(0,f.n1)(wr,Nr):wr}function te(At,{addBase:Wt,params:Zt,filter:_n}={}){const wr=`${Wt?(0,f.SV)(At):""}/publish/meetings/${_n!=null?_n:"upcoming"}`;return Zt?(0,f.n1)(wr,Zt):wr}function Z(){return(0,f.JD)(`open.${f.T9}`)}function re({utm_source:At,utm_campaign:Wt,redirect:Zt}){return(0,f.n1)(`${Z()}/inbox`,{utm_source:At,utm_campaign:Wt,redirect:Zt})}function ae({user_id:At,user_name:Wt,utm_source:Zt,utm_campaign:_n,redirect:Kn}){let wr=`${Z()}/users/${At}`;const Nr=(0,o.cleanSlug)(Wt,{hashIfEmpty:!0});return Nr&&(wr+=`-${Nr}`),(0,f.n1)(wr,{utm_source:Zt,utm_campaign:_n,redirect:Kn})}function se({utm_source:At,utm_campaign:Wt}){return(0,f.n1)(`${Z()}/chat`,{utm_source:At,utm_campaign:Wt})}function be({tab:At,utm_source:Wt,utm_campaign:Zt,redirect:_n}){return(0,f.n1)(`${Z()}/${At}`,{utm_source:Wt,utm_campaign:Zt,redirect:_n})}function _e({subdomain:At,utm_source:Wt,utm_campaign:Zt,redirect:_n}){return(0,f.n1)(`${Z()}/pub/${At}`,{utm_source:Wt,utm_campaign:Zt,redirect:_n})}function pe({pubKey:At,utm_source:Wt,utm_campaign:Zt,redirect:_n,modal:Kn}){return(0,f.n1)(`${Z()}/pub/${At}/chat`,{utm_source:Wt,utm_campaign:Zt,redirect:_n,modal:Kn})}function me({postId:At,utm_source:Wt,utm_campaign:Zt,redirect:_n,modal:Kn}){return(0,f.n1)(`${Z()}/chat/posts/${At}`,{utm_source:Wt,utm_campaign:Zt,redirect:_n,modal:Kn})}function Te({commentId:At,targetReplyId:Wt,utm_source:Zt,utm_campaign:_n,redirect:Kn,modal:wr}){return(0,f.n1)(`${Z()}/chat/replies/${At}`,{target_reply_id:Wt,utm_source:Zt,utm_campaign:_n,redirect:Kn,modal:wr})}function ve(At,{urlParams:Wt}={}){return(0,l.Sg)(At,{baseUrl:Z(),urlParams:Wt})}function ce({pub:At,postId:Wt,modal:Zt,query:_n}){return(0,f.n1)(`${(0,f.SV)(At)}/chat${Wt?`/posts/${Wt}`:""}`,T({modal:Zt},_n))}function Le({pub:At,commentId:Wt,targetReplyId:Zt,modal:_n,query:Kn}){return(0,f.n1)(`${(0,f.SV)(At)}/chat${Wt?`/replies/${Wt}`:""}`,T({modal:_n,target_reply_id:Zt},Kn))}function Ne({pub:At,params:Wt,section:Zt}){return Zt?(0,f.n1)(`${(0,f.SV)(At)}/listen/${Zt.slug}/archive`,Wt):(0,f.n1)(`${(0,f.SV)(At)}/podcast/archive`,Wt)}function He(At,Wt,{quality:Zt="auto:good",format:_n="auto",crop:Kn="limit",lossy:wr=!1,attachment:Nr=!1,filename:no=null,gravity:Jr=null,height:$r=null,aspect:bo=null,version:mo=null,smartCrop:So=!1,portraitCrop:go=!1,skipDomainValidation:Eo=!1,leadingSegments:ro=[],trailingSegments:po=[]}={}){var wo;if(!At)return At;At.startsWith("/")&&!At.startsWith("//")&&(At=(0,f.ZJ)()+At),At=ze(At);try{if(new URL(At).hostname.endsWith(".localhost"))return At}catch(mn){}if(typeof window!="undefined"&&((wo=window==null?void 0:window.location)!=null&&wo.hostname)&&["subwit.com","herokuapp.com"].reduce((mn,Dn)=>mn||window.location.hostname.endsWith(Dn),!1)&&(At=At.replace("//substack.com",`//${window.location.hostname}`)),At.startsWith("https://substackcdn.com")||At.startsWith(f.L4))return At;if(At.startsWith("https://d3b3sm9t19x0yd.cloudfront.net"))return At.replace(/^https:\/\/d3b3sm9t19x0yd\.cloudfront\.net/,f.L4);if(At.startsWith("https://res.cloudinary.com"))return At.replace(/^https:\/\/res\.cloudinary\.com\/[^/]+/,f.L4);if(!Eo&&!At.match(/^https?:\/\/(bucketeer[^/]*\.s3\.amazonaws\.com|(.*\.)?substack\.com|substack-post-media\.s3\.amazonaws\.com|substack-post-media-staging\.s3\.amazonaws\.com|substack-video\.s3\.amazonaws\.com|substack-video-staging\.s3\.amazonaws\.com|substack-staging-pr-\d+\.herokuapp\.com|.*\.ngrok\.io|.*\.subwit\.com|www\.shatnerchatner\.com|cyberrisk\.news|proofofwork\.news|www\.trapital\.co|www\.truehoop\.com|www\.creditwritedowns\.com|sinocism\.com|nb\.sinocism\.com|popular\.info|robertcottrell\.com|pbs\.twimg\.com|www\.theupside\.us|www\.exponentialview\.co|storage\.opensea\.io).*/))return At;if(So&&Wt&&$r){const mn=Xe(At);if(mn){const Dn=Wt/$r,Wn=mn.width/mn.height;(Dn<1&&Wn>=1||Dn>=1&&Wn<1||Dn===1&&Wn>=1||Dn===1&&Wn<=1)&&Math.abs(Dn-Wn)>=.5&&(Kn="fill",Jr=Jr!=null?Jr:"auto")}}if(So&&(Kn="fill",Jr=Jr!=null?Jr:"auto"),bo&&Wt&&$r==null){const[mn,Dn]=bo.split(":").map(Number);$r=Math.round(Wt*Dn/mn)}const ko=[Wt&&`w_${Wt}`,$r&&`h_${$r}`,Kn&&(Wt||$r)&&`c_${Kn}`,_n&&`f_${_n}`,Zt&&`q_${Zt}`,`fl_${wr?"lossy":"progressive:steep"}`,Jr&&`g_${Jr}`,Nr&&`fl_attachment${no?`:${no}`:""}`].filter(Boolean).join(","),ei=[Wt&&`w_${Wt}`,_n&&`f_${_n}`,Zt&&`q_${Zt}`,`fl_${wr?"lossy":"progressive:steep"}`,Nr&&`fl_attachment${no?`:${no}`:""}`].filter(Boolean).join(","),Do=[Kn&&(Wt||$r)&&`c_${Kn}`,Jr&&`g_${Jr}`,bo?`ar_${bo}`:"ar_1"].filter(Boolean).join(","),Uo=go?[ei,"/if_ar_lt_1.0/",Do,"/if_end"].join(""):[ko].filter(Boolean).join(",");return`${f.L4}/image/fetch/${ro.concat([Uo]).concat(po).join("/")}/${encodeURIComponent(At+(mo?`${At.indexOf("?")!==-1?"&":"?"}version=${mo}`:""))}`}function ze(At){if(!At)return At;const Wt=[/^https:\/\/substackcdn\.com\/image\/fetch\/(?:\$[^/]+\/)?[^/]+\/(.+)$/i,/^https:\/\/substackcdn\.net\/image\/fetch\/(?:\$[^/]+\/)?[^/]+\/(.+)$/i,/^https:\/\/cdn\.substack\.com\/image\/fetch\/(?:\$[^/]+\/)?[^/]+\/(.+)$/i,/^https:\/\/cdn\.substack\.info\/image\/fetch\/(?:\$[^/]+\/)?[^/]+\/(.+)$/i,/^https:\/\/d3b3sm9t19x0yd\.cloudfront\.net\/image\/fetch\/(?:\$[^/]+\/)?[^/]+\/(.+)$/i,/^https:\/\/res\.cloudinary\.com\/hhsslviub\/image\/fetch\/(?:\$[^/]+\/)?[^/]+\/(.+)$/i];for(const Zt of Wt){const _n=Zt.exec(At);if(_n)return decodeURIComponent(_n[1])}return At}function Xe(At){const Wt=At.match(/(\d+)x(\d+)\.\w+$/);return Wt?{width:+Wt[1],height:+Wt[2]}:null}function _t(At,Wt){return`${(0,f.SV)(At)}/api/v1/custom-publication-theme/${Wt.id}/preview`}function we(At){return`${(0,f.SV)(At)}/api/v1/custom-publication-theme/disable-preview`}const We="https://substack.link/chat-faq",Ie="https://substack.link/chat-examples";function tt(At){const Wt=At.trim();if(/\s/.test(Wt))return null;try{const Zt=new URL(Wt);return["http:","https:"].includes(Zt.protocol)?Zt:null}catch(Zt){return null}}const et=(At,Wt,Zt,_n)=>{switch(At){case"user":default:return ae({user_id:Wt,user_name:Zt,utm_source:"mentions"});case"pub":return _n?(0,f.n1)(_n,{utm_source:"mentions"}):""}};function ht(At){var Wt;const Zt=tt(At);if(!Zt)return null;const _n=(Wt=Zt.pathname.match(/^\/p\/([^\/]+)$/))==null?void 0:Wt[1];if(!_n)return null;let Kn,wr;return Zt.hostname.endsWith(`.${f.pv.hostname}`)?Kn=Zt.hostname.split(".")[0]:wr=Zt.hostname,{slug:_n,subdomain:Kn,customDomain:wr}}function vt(At,Wt,{addBase:Zt=!1,query:_n={}}={}){return(0,f.n1)(`${Zt?(0,f.SV)(At):""}/t/${Wt.slug}`,_n)}const Lt=({section:At})=>`/publish/settings/new_podcast/${At.id}`,$t=({section:At})=>At?`/publish/import/podcast/${At.id}`:"",yt=({pub:At,addBase:Wt})=>`${Wt?(0,f.SV)(At):""}/publish/settings/podcast/edit`,he=({pub:At,section:Wt,addBase:Zt,referrer:_n})=>Wt?`${Zt?(0,f.SV)(At):""}/publish/settings/podcast/${Wt.id}${_n?`?referrer=${_n}`:""}`:(console.error("section is missing when passed to getEditSectionPodcastUrl"),""),je="https://dashboard.stripe.com",st=(At,Wt)=>`${je}/${At.stripe_user_id}/prices/${Wt}`,De=(At,Wt)=>`${je}/${At.stripe_user_id}/invoices/${Wt}`;function Be(At){const Wt=At.html.map(Zt=>{var _n;const Kn=(_n=Zt.match(/href="([^"]+)"/))==null?void 0:_n[1];return Kn?Zt.replace(Kn,He(Kn)):Zt});return _(T({},At),{html:Wt})}function Ke(At){return At?At.startsWith("https://images.unsplash.com/"):!1}function it(At){if(At){if(At.startsWith(f.L4)||At.startsWith("https://res.cloudinary.com")||At.startsWith("https://bucketeer"))return!0;const{getPostMediaBucketName:Wt}=e(83322),Zt=`https://${Wt()}.s3.amazonaws.com`;if(At.startsWith(Zt))return!0}return!1}function Qe(At){if(!At)return!1;const{hostname:Wt,pathname:Zt}=new URL(At);return Wt.startsWith("open.substack.com")?Zt.startsWith("/pub/")&&Zt.includes("/p/"):!1}function Ae(At,Wt,{addBase:Zt}={}){var _n,Kn;return Wt.section?H(At,{addBase:Zt,section:Wt.section}):Wt.post?(0,c.getPostUrl)(At,Wt.post,{noBase:!Zt}):Wt.postTag?vt(At,Wt.postTag,{addBase:Zt}):Zt&&/^\/[^/]/.test((_n=Wt.link_url)!=null?_n:"")?`${(0,f.SV)(At)}${Wt.link_url}`:(Kn=Wt.link_url)!=null?Kn:""}function H(At,{addBase:Wt,section:Zt}={}){if(Zt=Zt||(At==null?void 0:At.section),!Zt)throw new Error("Section not found");return`${Wt?(0,f.SV)(At):""}/s/${Zt.slug||Zt.id}`}function ee(At,{addBase:Wt,section:Zt}={}){if(Zt=Zt||(At==null?void 0:At.section),!Zt)throw new Error("Section not found");const _n=Wt?(0,f.SV)(At):"";return(0,f.n1)(`${_n}/publish/settings/preamble`,{section:Zt.id})}const de=(At,{addBase:Wt,params:Zt}={})=>{const _n=Wt&&At?ah.getBaseUrl(At):"";return Ee(T({base:_n},Zt))},Ee=At=>{var Wt;const Zt=`${(Wt=At==null?void 0:At.base)!=null?Wt:""}/api/v1/twitter/authorize`;return At?(0,f.n1)(Zt,At):Zt},Me=At=>{var Wt;const Zt=`${(Wt=At==null?void 0:At.base)!=null?Wt:""}/api/v1/fb/auth`;return At?(0,f.n1)(Zt,At):Zt};function $e(At,Wt){return(0,f.n1)(`${(0,f.SV)()}/inbox/post/${At}`,Wt)}function dt(At){const Wt=/^https?:\/\/open\.substack\.com(?:\.localhost:5000)?\/pub\/([^\/]+)/,Zt=/^https?:\/\/([^\.]+)\.substack\.com/;let _n=At.match(Wt);return!_n&&(_n=At.match(Zt),!_n)?null:_n[1]}function ct(At){At=(At||"").toLowerCase();const Wt=At.match(/^\s*(\w+)\s*$/);if(Wt)return Wt[1];const Zt=At.match(/\w+(\.\w+)+/);if(Zt){let _n=Zt[0];return _n.includes("substack")&&(_n=_n.split(".")[0]),_n}}function wt({url:At,currentSubdomain:Wt,currentCustomDomain:Zt}){return Qe(At)?Wt===dt(At):Zt?Zt===ct(At):Wt===dt(At)}function Mt(At){return`${(0,f.ZJ)()}/profile/${At}/hc-violation-form`}const pn=(At,{addBase:Wt,params:Zt}={})=>{const _n=Wt?(0,f.SV)(At):"";return(0,f.n1)(`${_n}/account/cancel`,Zt)},Mn=(At,Wt,Zt)=>`${(0,f.SV)(At)}/api/v1/streak.jpg?n=${Wt}&pct=${Zt}`,$n=(At,Wt,{addBase:Zt,referrer:_n,params:Kn}={})=>{const Nr=`${Zt?(0,f.SV)(At):""}/publish/posts/detail/${Wt}`,no=_(T({},Kn),{referrer:_n});return Kn||_n?(0,f.n1)(Nr,no):Nr},mr=(At,Wt,{addBase:Zt,referrer:_n,params:Kn}={})=>{const Nr=`${Zt?(0,f.SV)(At):""}/publish/posts/detail/${Wt}/share-center`,no=_(T({},Kn),{referrer:_n});return Kn||_n?(0,f.n1)(Nr,no):Nr},jn=(At,Wt,{addBase:Zt,params:_n}={})=>{if(!(At!=null&&At.id))return"";const Kn=Zt?(0,f.SV)(At):"";return(0,f.n1)(`${Kn}/leaderboard?`,T(T({},_n),(Wt==null?void 0:Wt.id)&&{referrer_token:Wt.id.toString(36)}))};function dr({pubId:At,sectionId:Wt,token:Zt}){if(Wt){let Kn=`${(0,f.SV)({subdomain:"api"})}/feed/podcast/${At}/s/`;return Zt?Kn+=`${Wt}/private/${Zt}.rss`:Kn+=`${Wt}.rss`,Kn}let _n=`${(0,f.SV)({subdomain:"api"})}/feed/podcast/${At}`;return Zt?_n+=`/private/${Zt}.rss`:_n+=".rss",_n}const nn=({pub:At,postId:Wt,params:Zt={type:"newsletter"}})=>{const _n=`${(0,f.SV)(At)}/publish/collab`;return(0,f.n1)(Wt?`${_n}/${Wt}`:_n,Zt)},jr=(At,{addBase:Wt,baseUrlOptions:Zt,params:_n}={})=>{const Kn=Wt?(0,f.SV)(At,Zt):"";return(0,f.n1)(`${Kn}/publish/stats/pledges`,_n)},Dr=(At,{addBase:Wt,baseUrlOptions:Zt,params:_n}={})=>{const Kn=Wt?(0,f.SV)(At,Zt):"";return(0,f.n1)(`${Kn}/publish/stats/notes`,_n)}},30123:(z,u,e)=>{"use strict";e.d(u,{Fo:()=>y,JD:()=>g,L4:()=>c,Q2:()=>_,SV:()=>S,T9:()=>f,Y$:()=>p,ZJ:()=>x,n1:()=>O,pv:()=>E,tE:()=>v,y:()=>T});var o=e(8221);const f=o.S?`${o.S}.substack.info`:"substack.com",l=null,c="https://substackcdn.com";function g(d){let s="https://",w="";return s+d+w}const v=g(f),E=new URL(v);function y(d,{forceSubdomain:s=!1}={}){if(d&&d.custom_domain&&!d.custom_domain_optional&&!s)return d.custom_domain;let w=f;return d&&d.subdomain!=="www"&&(w=`${d.subdomain}.${w}`),w}function p(d){return Object.keys(d).filter(s=>typeof d[s]!="undefined"&&d[s]!==null).map(s=>`${encodeURIComponent(s)}=${encodeURIComponent(d[s])}`).join("&")}function O(d,s){if(!d)return"";if(!s)return d;const w=p(s),P=w?d.indexOf("?")===-1?"?":"&":"";return`${d}${P}${w}`}function S(d,{forceSubdomain:s=!1}={}){if(d!=null&&d.rss_website_url)try{return new URL(d.rss_website_url).origin}catch(P){return d.rss_website_url}else if(d!=null&&d.base_url&&!s)return d.base_url;const w=y(d,{forceSubdomain:s});return g(w)}function x(){return S()}function T(d){return g(d)}function _(d,{noBase:s,urlParams:w}={}){const P=s?"":S();return O(`${P}${d}`,w)}},70444:(z,u,e)=>{"use strict";e.d(u,{AO:()=>_e,AP:()=>me,D2:()=>ae,Ds:()=>S,E2:()=>j,Ed:()=>re,IY:()=>ce,It:()=>se,Iw:()=>C,NZ:()=>oe,Oi:()=>Z,Po:()=>J,Qd:()=>q,Qe:()=>N,Sg:()=>ye,TK:()=>ve,Th:()=>G,WF:()=>R,Z2:()=>_,Z3:()=>x,gt:()=>ue,kM:()=>ie,mx:()=>le,nY:()=>W,p8:()=>L,qB:()=>O,rc:()=>te,sH:()=>Te,sm:()=>U,vy:()=>be,z5:()=>pe});var o=e(6385),f=e(30123),l=e(2731),c=Object.defineProperty,g=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,y=(Le,Ne,He)=>Ne in Le?c(Le,Ne,{enumerable:!0,configurable:!0,writable:!0,value:He}):Le[Ne]=He,p=(Le,Ne)=>{for(var He in Ne||(Ne={}))v.call(Ne,He)&&y(Le,He,Ne[He]);if(g)for(var He of g(Ne))E.call(Ne,He)&&y(Le,He,Ne[He]);return Le};const O="notes",S=`/${O}`,x="/feed",T=`${S}/`;function _(Le){return Le===S||Le.startsWith(T)}const d=/^([cp])-(\d+)$/,s=/^\/note\/([cp])-(\d+)$/,w=/^\/profile\/(\d+)-([^\/]+)\/note\/c-(\d+)$/,P=/^\/profile\/(\d+)-([^\/]+)\/note\/p-(\d+)$/,I=/^\/@[^\/]+\/note\/c-(\d+)$/,D=/^\/@[^\/]+\/note\/p-(\d+)$/,N=new RegExp(`${S}/(short|post)/p-(\\d+)`);function C(Le){const Ne=G(Le);if(Ne)return Ne;const He=W(Le);if(He)return He;const ze=J(Le);return ze||null}const A=new RegExp(`^${x}(/?)`);function L(Le){return!!Le.match(A)}function U(Le){return Le.replace(A,`${S}$1`)}function W(Le){const Ne=Le.match(P);if(Ne)return{type:"post",id:Number(Ne[3]),author:{id:Number(Ne[1]),name:Ne[2]}};const He=Le.match(D);if(He)return{type:"post",id:Number(He[1])};const ze=Le.match(N);return ze?{type:ze[1]==="short"?"post":"postViewer",id:Number(ze[2])}:null}function G(Le){const Ne=Le.match(w);if(Ne)return{type:"comment",id:Number(Ne[3]),author:{id:Number(Ne[1]),name:Ne[2]}};const He=Le.match(I);return He?{type:"comment",id:Number(He[1])}:null}const $=new RegExp(`^${x}/comment/(d+)$`);function q(Le){return Le.match($)}function J(Le){const Ne=Le.match(s);return Ne?{type:Ne[1]==="c"?"comment":"post",id:Number(Ne[2])}:null}function R(Le){const Ne=Le.match(d);return Ne?{type:Ne[1]==="c"?"comment":"post",id:Number(Ne[2])}:null}function j({baseUrl:Le,urlParams:Ne}={}){let He=S;const ze=Le!=null?Le:(0,f.ZJ)();return(typeof window=="undefined"||!window.location.href.startsWith(ze))&&(He=ze+He),(0,f.n1)(He,Ne)}function ie({baseUrl:Le,urlParams:Ne}={}){const He=j({baseUrl:Le});return(0,f.n1)(`${He}/suggestions`,Ne)}function le(Le,Ne,{noBase:He,urlParams:ze}={}){var Xe,_t;const we=(Xe=Ne.publishedBylines)!=null&&Xe[0]?(_t=Ne.publishedBylines)==null?void 0:_t[0]:Le?(0,o.getPostAuthor)(Le,Ne):{id:0,name:"someone"};return(0,f.n1)(`${(0,l.getReaderProfileUrl)(we,{noBase:He,extraParams:ze})}/note/${be(Ne.id)}`,ze)}function ye(Le,{noBase:Ne,baseUrl:He,urlParams:ze,noHandle:Xe}={}){return Le.user_id?(0,f.n1)(`${(0,l.getReaderProfileUrl)((0,o.getCommentAuthor)(Le),{baseUrl:He,noBase:Ne,noHandle:Xe})}/note/${se(Le.id)}`,ze):j({baseUrl:He})}function ue(Le,{noBase:Ne,baseUrl:He,urlParams:ze}={}){const Xe=Ne?"":He!=null?He:(0,f.ZJ)();return(0,f.n1)(`${Xe}/note/${Le}`,ze)}function oe(Le,{noBase:Ne,urlParams:He}={}){const ze=Ne?"":(0,f.SV)();return(0,f.n1)(`${ze}/note/${se(Le)}`,He)}function te(Le,{noBase:Ne,urlParams:He}={}){const ze=Ne?"":(0,f.SV)();return(0,f.n1)(`${ze}${S}/post/${be(Le)}`,He)}function Z(Le,Ne){return(0,f.Q2)(`/note/${be(Le)}/restacks`,Ne)}function re(Le,Ne,He){return(0,f.Q2)(`/note/${Le}/restacks${Ne==="notes"?"/notes":""}`,He)}function ae(Le,Ne){return`${Ne==="comment"?"c":"p"}-${Le}`}function se(Le){return`c-${Le}`}function be(Le){return`p-${Le}`}function _e(Le){return`cp-${Le}`}function pe(Le){return`substack://notes/${se(Le)}`}function me(Le){return`substack://activity/notes/${se(Le)}/replies`}function Te(Le){return`substack://notes/${be(Le)}`}function ve(Le){return(0,f.n1)(j(),p({action:"compose"},Le))}function ce(Le,{noBase:Ne}={}){return`${Ne?"":(0,f.SV)()}/note/${se(Le)}/preview.jpg`}},36250:(z,u,e)=>{"use strict";e.r(u),e.d(u,{getCommentUrl:()=>w,getEditPostUrlById:()=>_,getLikelyLoggedInParam:()=>d,getLinkToVideo:()=>T,getLinkableElementIdForVideo:()=>x,getPostCommentsUrl:()=>S,getPostUrl:()=>p,getPostUrlBySlug:()=>O,getPubAccountSettingsUrl:()=>s});var o=e(30123),f=e(70444),l=Object.defineProperty,c=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,E=(P,I,D)=>I in P?l(P,I,{enumerable:!0,configurable:!0,writable:!0,value:D}):P[I]=D,y=(P,I)=>{for(var D in I||(I={}))g.call(I,D)&&E(P,D,I[D]);if(c)for(var D of c(I))v.call(I,D)&&E(P,D,I[D]);return P};function p(P,I,{noBase:D,edit:N,email:C,comments:A,commentId:L,commentInput:U,highlightComment:W,replyToComment:G,commentContextId:$,uuid:q,urlParams:J,signedIn:R=!1,feedViewer:j=!1}={}){if(P&&(P=[P].concat(P.child_publications||[]).find(ye=>ye.id===(I==null?void 0:I.publication_id))||P),(P==null?void 0:P.type)==="rss"&&I)return I.canonical_url||P.rss_website_url;const ie=I?q?I.uuid:I.slug:null;if((N||!ie)&&P&&(I!=null&&I.id)){const ye=D?"":(0,o.SV)(P),ue=!!(I!=null&&I.editor_v2);return`${ye}${_(P,I.id,ue,J)}`}if((I==null?void 0:I.type)==="restack"&&(I!=null&&I.id))return`${D?"":(0,o.SV)(P)}/cp/${I.id}`;if(j||!P||!I||!ie){const ye=D?"":(0,o.SV)();return L?(0,f.NZ)(L,{noBase:D,urlParams:J}):I?(0,f.rc)(I.id,{noBase:D,urlParams:J}):(0,o.n1)(`${ye}${f.Ds}`,J)}const le=d(R,P);return O(P,ie,{noBase:D,email:C,comments:A,commentId:L,commentInput:U,highlightComment:W,replyToComment:G,commentContextId:$,urlParams:y({lli:le},J)})}function O(P,I,{noBase:D,email:N,comments:C,commentId:A,commentInput:L,highlightComment:U,replyToComment:W,commentContextId:G,urlParams:$}={}){let q="";return D||(q+=(0,o.SV)(P)),q+=`/p/${I}`,C&&(!A||U)&&(q+="/comments"),A&&!U&&!G&&(q+=`/comment/${A}`),N&&(q+="/email"),$&&(q=(0,o.n1)(q,$)),A&&(U||W)?q+=`#comment-${A}${W?"-reply":""}`:L&&(q+="#input"),A&&G&&(q+=`/comment/${G}#comment-${A}`),q}function S(P,I,D,N){return p(P,I,y({comments:!0,commentId:D==null?void 0:D.id},N))}function x({mediaUploadId:P}){return`media-${P}`}function T({pub:P,post:I,mediaUploadId:D}){return`${p(P,I)}#${x({mediaUploadId:D})}`}function _(P,I,D,N){const C=D?"/publish/collab":"/publish/post";return(0,o.n1)(`${C}/${I}`,N)}function d(P,I){return I.custom_domain&&P?"1":void 0}function s(P,{addBase:I,params:D,signedIn:N}={}){const C=d(N,P),A=I?(0,o.SV)(P):"";return(0,o.n1)(`${A}/account`,y({lli:C},D))}function w(P,I,D,N){return I.post_id?S(D!=null?D:void 0,P!=null?P:void 0,I,N):(0,f.Sg)(I,N)}},2731:(z,u,e)=>{"use strict";e.r(u),e.d(u,{getEditProfileUrl:()=>x,getProfileConnectionsUrl:()=>s,getProfileHandleUrl:()=>O,getProfileSetupUrl:()=>w,getProfileSubdomain:()=>S,getProfileUrlById:()=>p,getReaderAutoFollowUrl:()=>_,getReaderInviteUrl:()=>d,getReaderProfileUrl:()=>T});var o=e(72985),f=e(30123),l=Object.defineProperty,c=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,E=(P,I,D)=>I in P?l(P,I,{enumerable:!0,configurable:!0,writable:!0,value:D}):P[I]=D,y=(P,I)=>{for(var D in I||(I={}))g.call(I,D)&&E(P,D,I[D]);if(c)for(var D of c(I))v.call(I,D)&&E(P,D,I[D]);return P};function p(P,I,{searchParams:D,noBase:N,baseUrl:C}={}){let L=`${N?"":C!=null?C:(0,f.ZJ)()}/profile/${P}`;const U=(0,o.cleanSlug)(I,{hashIfEmpty:!0});return U&&(L+=`-${U}`),(0,f.n1)(L,D)}const O=(P,{searchParams:I,noBase:D,baseUrl:N}={})=>{const A=`${D?"":N!=null?N:(0,f.ZJ)()}/@${P}`;return(0,f.n1)(A,I)};function S(P,{searchParams:I,noBase:D,baseUrl:N}={}){const A=`${D?"":N!=null?N:(0,f.ZJ)()}/@${P}`;return(0,f.n1)(A,I)}function x(){return`${(0,f.ZJ)()}/profile/edit`}function T(P,{utm_source:I,utm_content:D,noBase:N,baseUrl:C,noHandle:A,extraParams:L}={}){const U=I||D?{utm_source:I,utm_content:D}:void 0,W=y(y({},L),U),G=A?void 0:(P==null?void 0:P.handle)||(P==null?void 0:P.author_handle);return G?O(G,{noBase:N,baseUrl:C,searchParams:W}):p(P.author_id||P.user_id||P.id,P.user_profile_name||P.author_name||P.name,{noBase:N,baseUrl:C,searchParams:W})}function _(P){return`${T(P)}?follow`}function d(P){return`${T(P)}?invite`}function s(P,I,D){return(0,f.Q2)(`${T(P,{noBase:!0})}/${I!=null?I:"subscribers"}`,D)}function w(P={}){return(0,f.n1)(`${(0,f.ZJ)()}/profile/start`,P)}},96702:(z,u,e)=>{"use strict";e.r(u),e.d(u,{DEFAULT_PHOTO_URL:()=>v,getDefaultUserPhotoById:()=>g,getUserPhotoUrl:()=>l,getUserPhotoUrlWithoutDefault:()=>c});var o=e(20501),f=e(30123);function l(E,y){const p=c(E,y);return p||v}function c(E,{preferAuthorPhoto:y}={}){return y&&(E!=null&&E.author_photo_url)&&(0,o.imginary)(E.author_photo_url)?(0,o.imginary)(E.author_photo_url):E!=null&&E.photo_url&&(0,o.imginary)(E.photo_url)?(0,o.imginary)(E.photo_url):(E==null?void 0:E.id)!=null?g(E.id):null}function g(E){const y=["purple","yellow","orange","green","black"];return`${(0,f.ZJ)()}/img/avatars/${y[E%5]}.png`}const v=`${(0,f.ZJ)()}/img/avatars/logged-out.png`},76193:(z,u,e)=>{"use strict";e.r(u),e.d(u,{MOBILE_USER_AGENT_FIRST_4_PATTERN:()=>f,MOBILE_USER_AGENT_PATTERN:()=>o,getIosVersion:()=>g,isAndroid:()=>p,isAndroidUserAgent:()=>y,isIos:()=>v,isMobile:()=>l,isMobileUserAgent:()=>c});const o=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,f=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i;function l(O={}){let S=typeof navigator!="undefined"?navigator.userAgent||navigator.vendor:void 0;return!S&&typeof window!="undefined"&&(S=window.opera),S?c(S,O):!1}function c(O,{checkFirst4:S}={}){return o.lastIndex=0,f.lastIndex=0,!!(o.test(O)||S&&f.test(O.substr(0,4)))}function g(){if(typeof navigator=="undefined")return null;const O=navigator.userAgent;if(!O.match(/iPad/i)&&!O.match(/iPhone/i))return null;const S=O.indexOf("OS ");return S===-1?null:parseInt(O.substr(S+3,3).replace("_","."))||null}function v(){return!!g()}const E=/Android/i;function y(O){return E.lastIndex=0,!!O&&E.test(O)}function p(){return typeof navigator=="undefined"?!1:y(navigator.userAgent)}},63830:(z,u,e)=>{"use strict";e.d(u,{l:()=>o});const o=(f,{utm_source:l}={})=>{const c={id:f(),timestamp:new Date};return l&&(c.utm_source=l),c}},83322:(z,u,e)=>{"use strict";e.r(u),e.d(u,{AUDIENCE_ADJECTIVES:()=>we,AppError:()=>Be,CENTS_PER_EMAIL:()=>De,COMMUNITY_PICKS_CATEGORY_NAME:()=>ht,CONTENT_MODERATION_REASONS:()=>Ne,ChatError:()=>Ke,DEFAULT_PREVIEW_LIMIT:()=>_e,DEFAULT_PREVIEW_LIMIT_EMAIL:()=>pe,DEFAULT_PROFILE_PAGE_SUBSCRIPTIONS_LIMIT:()=>be,DEFAULT_THEME_COLORS:()=>he,EU_COUNTRIES:()=>wr,GIFT_LENGTH_MONTHS:()=>tt,GRACE_PERIOD_COUPON_TRIAL_DAYS:()=>se,GRACE_PERIOD_DAYS:()=>Z,HOMEPAGE_TYPE_CHANGE_CUTOFF:()=>Ie,MANUAL_BILLING_DAYS_UNTIL_DUE:()=>re,MAX_BYLINES:()=>Zr,MAX_FILE_SIZE:()=>U,MAX_MEDIA_FILE_SIZE:()=>A,MAX_MEDIA_UPLOAD_CHUNK_SIZE:()=>L,MAX_PODCAST_FILE_SIZE:()=>C,MIN_MONTH_GAP_BETWEEN_PAUSES:()=>me,MISSING_IMAGE_HEIGHT:()=>ce,MISSING_IMAGE_URL:()=>ve,MISSING_IMAGE_WIDTH:()=>Le,MONTH_NAMES:()=>$t,NO_PLATFORM_CUSTOMER_CLONE_COUNTRIES:()=>je,NO_REPLY_EMAIL:()=>ct,NZD_COUNTRIES:()=>Nr,OLD_PODCAST_CATEGORIES:()=>Lt,PODCAST_CATEGORIES:()=>et,PUBLICATION_TIER_DESCRIPTIONS:()=>zn,SECURITY_QUESTIONS:()=>_t,SPECIAL_SUBDOMAINS:()=>Xe,STRIPE_DAYS_UNTIL_DUE:()=>ae,STRIPE_TAX_ID_TYPES:()=>yt,SUBSCRIPTION_WORDS:()=>ho,SUBSTACK_PUBLICATION_IDS:()=>ye,SUBSTACK_PUBLICATION_ID_BETA:()=>R,SUBSTACK_PUBLICATION_ID_BLOGOLD:()=>J,SUBSTACK_PUBLICATION_ID_COMPANY:()=>G,SUBSTACK_PUBLICATION_ID_LIBRARYOLD:()=>$,SUBSTACK_PUBLICATION_ID_ON:()=>W,SUBSTACK_PUBLICATION_ID_PRODUCTLAB:()=>le,SUBSTACK_PUBLICATION_ID_READ:()=>j,SUBSTACK_PUBLICATION_ID_STORIESOLD:()=>q,SUBSTACK_PUBLICATION_ID_THREADSPILOT:()=>ie,SUBSTACK_USER_ID:()=>ue,SUBSTACK_USER_IDS:()=>te,SUBSTACK_WRITERS_USER_ID:()=>oe,SUPPORTED_CURRENCIES:()=>no,TASTEMAKER_CATEGORY_NAME:()=>vt,TERSE_AUDIENCE_ADJECTIVES:()=>We,TRANSPARENT_IMAGE_URL:()=>Te,TWEET_PLACEHOLDER_DATA_URI:()=>s,WEEK_IN_SECONDS:()=>st,anonymousName:()=>qr,areCommentsLocked:()=>xo,assertIsDefined:()=>w,assertIsError:()=>P,balanceTextWithCharacterWidths:()=>_n,baschezScoreToEmojis:()=>ft,baschezToCategory:()=>Rn,canDeleteComment:()=>rt,canDeletePost:()=>Je,canEditComment:()=>Di,canPostComments:()=>ri,canReplyToPost:()=>dt,canReportComment:()=>mt,canSeeCommenterEmails:()=>gi,canSeeComments:()=>vi,canSeeTranscription:()=>si,centsToDollarString:()=>ro,centsToPriceString:()=>Eo,colorLightness:()=>Vt,colorLuma:()=>en,commentsEnabledForPost:()=>Mi,couldPostCommentsIfSubscribed:()=>Si,coverPageFreeSubscriberCount:()=>Ar,currencySymbol:()=>So,decimalToPercent:()=>ti,deep_equals:()=>ai,defaultAudienceForPub:()=>Bt,defaultCommentLevelForPub:()=>fn,defaultSendEmailForPub:()=>Bn,dollarFormatter:()=>po,dollarStringToCents:()=>wo,endsWithPunctuation:()=>dr,escapeNewlines:()=>Wo,flat:()=>pi,flowTextBasedOnWidth:()=>Re,formatArray:()=>Nn,formatBytes:()=>sr,formatEllipsis:()=>jn,formatPercentForDisplay:()=>vo,formatPodcastDuration:()=>xr,formattedBytesToNumber:()=>Sr,foundingMemberDescription:()=>lt,fromEnv:()=>xe,getByLine:()=>it,getBylineUsers:()=>Xt,getCopyrightedContentBucketName:()=>ze,getCurrencyForCountry:()=>Jr,getGiftValueText:()=>Do,getInitalPayment:()=>ei,getNext5HoursAfterMidnight:()=>kr,getOpennodePaymentUrl:()=>St,getPlanTitle:()=>ne,getPostCtaPresentParticiple:()=>Pt,getPostCtaText:()=>qe,getPostEmbedMeta:()=>H,getPostMediaBucketName:()=>He,getPrintedByline:()=>Yt,getPrintedPostType:()=>Ct,getReadableAttribution:()=>gn,getReaderRecommendationEmailSubject:()=>K,getRestackEmailSubject:()=>Ot,getScheduledAt:()=>ni,getSubscribeText:()=>Ae,getSubscriptionSentenceWithCustomWords:()=>$o,getSubscriptionWord:()=>Io,getSuperscriptNumberString:()=>ot,getTrialEndOverride:()=>Br,getWithIndefiniteArticle:()=>Vr,get_month_name:()=>Fe,group_by:()=>ui,guessFirstName:()=>Or,guessLastName:()=>Lr,handleDocumentLinkClick:()=>Sn,hashString:()=>Yr,hexToHSV:()=>vr,hexToRgb:()=>tr,hidePaidPostsFor:()=>ee,isNotMainEntry:()=>Zn,isNotesAttribution:()=>On,isPaidPub:()=>jt,isPinnable:()=>ir,isProbablyEmail:()=>xn,isSearchEngineCrawlerQuick:()=>yr,isTouchDevice:()=>nt,isUUID:()=>Jt,isValidCommentLevel:()=>Cn,isZeroDecimalCurrency:()=>bo,joinLines:()=>Rt,kFormatter:()=>V,longestSetOfWordsBelowCost:()=>Zt,mode:()=>ke,normalizeHex:()=>Hn,numberToHumanFileSize:()=>an,numberToOrderOfMagnitude:()=>Un,numberToOrderOfMagnitudeShortString:()=>Hr,numberToOrderOfMagnitudeString:()=>Cr,numberToOrdinal:()=>un,numberToRoughRankingString:()=>Ur,numberToString:()=>wn,objectMap:()=>Li,onlyOwnsRootComment:()=>Ge,oxfordComma:()=>Oe,paymentPeriodToPlan:()=>br,planBasePricing:()=>Uo,pluralize:()=>Fo,possessive:()=>yo,postSocialDescription:()=>uo,profilePageFreeSubscriberCount:()=>oo,pubCurrency:()=>$r,pubHasPaymentsEnabled:()=>bt,pubUsesZeroDecimalCurrency:()=>mo,pubsWithCustomSubscriptionWords:()=>Yo,randomString:()=>zt,resolveTwitterShareText:()=>Qe,restacksEnabledForPost:()=>Bi,rgbToHex:()=>pr,roundPriceUp:()=>ko,sanitizeInlineText:()=>Fn,satoshiToBitcoin:()=>go,secondsToHHMMSS:()=>Dn,secondsToLargestUnit:()=>mn,setDateToMidnightPST:()=>Tr,shouldHidePostFromArchive:()=>Dt,shouldUseInlineComments:()=>de,showCommentsOnPost:()=>_i,simpleBalanceText:()=>jr,sortSubscriptions:()=>Me,spellOutNumber:()=>Co,splitArray:()=>Oi,stringCost:()=>Wt,stripInvalidBytes:()=>wt,subscriptionTypeText:()=>$e,textLengthAlphaNumericMinimumValidator:()=>fe,toMap:()=>mi,toMillis:()=>Qt,toSentenceCase:()=>vn,toTitleCase:()=>tn,transformDocumentLink:()=>on,truncAndFormatArray:()=>dn,truncateBytes:()=>Mt,truncateNumber:()=>An,truncateText:()=>Mn,truncateToValidBytes:()=>pn,truncateWords:()=>$n,twitterScreenNames:()=>d,validCommentLevels:()=>sn,validateColor:()=>kt,validateHex:()=>Wn,videoPlayerDimensions:()=>Xr});var o=e(57824),f=e.n(o),l=e(82626),c=e(82622);const g={test1:"SubstackInc",badnews:"ryangrim",dmortberg:"danielortberg",offthechain:"APompliano",on:"SubstackInc",petition:"petition",popularinformation:"JuddLegum",shane:"shanesnow",signalproblems:"A_W_Gordon",sinocism:"niubi",taibbi:"mtaibbi",thefirstand15th:"tressiemcphd",thenewsletter:"jbouie",numlock:"WaltHickey"};var v=Object.defineProperty,E=Object.defineProperties,y=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,x=(Q,Pe,Ze)=>Pe in Q?v(Q,Pe,{enumerable:!0,configurable:!0,writable:!0,value:Ze}):Q[Pe]=Ze,T=(Q,Pe)=>{for(var Ze in Pe||(Pe={}))O.call(Pe,Ze)&&x(Q,Ze,Pe[Ze]);if(p)for(var Ze of p(Pe))S.call(Pe,Ze)&&x(Q,Ze,Pe[Ze]);return Q},_=(Q,Pe)=>E(Q,y(Pe));const d=g,s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAjQAAAC0BAMAAABxiqvBAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAnUExURd/n60dwTN/n7N/n7ODn69/n6N/n69/f6t/n6uHp7eLo7t/f3+Ho7QTAsUwAAAAMdFJOU4AATnVkIUAQN+W/CFiRL14AAALCSURBVHja7dy9TgJBFIbhAwtCYsOosBYWGDT+VGqMFjZQGKOVJBaWGivoiJWl8Q6M0cbKGHouwdLEi7JS92eGNWZcdpn3q7eYPJmdc2ZmQVT/+YPE86qk9jhQJJ6Nghwjo43/KC8o6NOXNxD0uYHGlCVooIEGGmiggQYaaKCBhkADDTQp05yvbMnueheaKE29JSIi4q1CE5Fpy1cOoQnG/5ERWYMmkLuAjHi30HxnTkKZgeY7zTCNLEOjnzQixcjjV5JidrJEcxEbXnjazEmqucwOzWJ8dNXQ0/Pp0mxnh+Y6PjpvEHy6li5NITs0Tc3wOtAopeq64ZUn+EJ1MkOzoBteKfh0w9Vl+FQ7vtAOvJWmzF52indTO0Bnu74gzVYGK2g2aOr6aV2GRtfwxZs+N2kMu4AiNPraHanejtIY+jkPGuMuABpooGGtoUJNsq+Bhm6YPRQ779TPayzdQ5UGOaNJPuWzdg91kDOa5LNha8fm1ZzRJN8o1FylUe2kpcZdmsTbS2svVDlvNIl33tbuofbzRqMp35FbspajxfsX39e42vIpvsoaQ9Ng0pho+ALUTOMHX6kjBU0gfG1upOE3CmYaftkyhoZAAw000EADDTTQQAMNNCBAAw000EADDTTQQAMNMdOciZMpjhJpfHE0nUSahqs0s9CYUoEGmn94oZxdhpcp3qZ/KxvR8tENQwMNNNBAAw000BBooIEGGmigyRvN1B9led0/0jhwAFr+I40Dx+ZFaKCBZvI0DizDFYq37eJNoIEGGmiggQYaaKCBhkADDTTQQAMNNLmnsXgA6l1OFY3VY/PqVNFYvWzxoIEGGnspsQybMkPxdqN4E2iggQYaaKCBBhpooCHQQAMNNNBAAw000EADDTTQQAMNNNBAkzOaJxBMNEMQ9NmU3gAFXfwHqd3DoJPpFUSdfJB43ofqE56LnR5mRT/HAAAAAElFTkSuQmCC";function w(Q){if(Q==null)throw new Be(`Expected value to be defined, but received ${Q}`)}function P(Q){if(!(Q instanceof Error))throw new Be(`Expected value to be an Error, but received ${Q}`)}const I="\u2026",D=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],N=["CA","AU","HK","NZ"],C=350*1024*1024,A=20*1024*1024*1024,L=50*1024*1024,U=700*1024*1024,W=1,G=46438,$=86696,q=81318,J=87805,R=508885,j=737237,ie=1014268,le=1056696,ye=[W,G,$,q,J,R,j,ie,le],ue=81309935,oe=41856304,te=[ue,oe],Z=16,re=45,ae=30,se=0,be=1e3,_e=356,pe=256,me=6,Te="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",ve="/img/missing-image.png",ce=455,Le=728,Ne=["illegal","private_information","general","spam","hate","impersonation","plagiarism","porn"].sort();function He(){const Q="substack-post-media";if(!Q)throw new Be("postMediaBucketName is not defined");return Q}function ze(){return He()==="substack-post-media"?"substack-copyrighted-media":"substack-copyrighted-media-staging"}const Xe=["cdn","cloudinary","delivery","jobs","mailgun","mail","support","www","callback","api","admin","reader","sublink","random","your","dashboard","open"],_t=["In what city or town did your parents meet?","What was your first teacher's last name?","What is your earliest memory?","What was the make and model of your first car?","What was the first concert you attended?","Where did you go on your first date?","What was your first favorite band?","What was your first computer or smartphone?","What is your least favorite color?","What was the first video game you beat?","Who was your favorite artist, musician, or celebrity when you were a teenager?"],we={everyone:"public",only_free:"free-only",only_paid:"subscribers-only",founding:"founding-only"},We={everyone:"public",only_free:"free-only",only_paid:"subscriber's",founding:"subscriber's"},Ie=new Date("2020-01-16"),tt=1,et={Arts:["Books","Design","Fashion & Beauty","Food","Performing Arts","Visual Arts"],Business:["Careers","Entrepreneurship","Investing","Management","Marketing","Non-Profit"],Comedy:["Comedy Interviews","Improv","Stand-Up"],Education:["Courses","How To","Language Learning","Self-Improvement"],Fiction:["Comedy Fiction","Drama","Science Fiction"],Government:[],History:[],"Health & Fitness":["Alternative Health","Fitness","Medicine","Mental Health","Nutrition","Sexuality"],"Kids & Family":["Education for Kids","Parenting","Pets & Animals","Stories for Kids"],Leisure:["Animation & Manga","Automotive","Aviation","Crafts","Games","Hobbies","Home & Garden","Video Games"],Music:["Music Commentary","Music History","Music Interviews"],News:["Business News","Daily News","Entertainment News","News Commentary","Politics","Sports News","Tech News"],"Religion & Spirituality":["Buddhism","Christianity","Hinduism","Islam","Judaism","Religion","Spirituality"],Science:["Astronomy","Chemistry","Earth Sciences","Life Sciences","Mathematics","Natural Sciences","Nature","Physics","Social Sciences"],"Society & Culture":["Documentary","Personal Journals","Philosophy","Places & Travel","Relationships"],Sports:["Baseball","Basketball","Cricket","Fantasy Sports","Football","Golf","Hockey","Rugby","Running","Soccer","Swimming","Tennis","Volleyball","Wilderness","Wrestling"],Technology:[],"True Crime":[],"TV & Film":["After Shows","Film History","Film Interviews","Film Reviews","TV Reviews"]},ht="writer favorites",vt="featured recommenders",Lt={Arts:["Books","Design","Fashion & Beauty","Food","Literature","Performing Arts","Visual Arts"],Business:["Business News","Careers","Investing","Management & Marketing","Shopping"],Comedy:[],Education:["Educational Technology","Higher Education","K-12","Language Courses","Training"],"Games & Hobbies":["Automotive","Aviation","Hobbies","Other Games","Video Games"],"Government & Organizations":["Local","National","Non-Profit","Regional"],Health:["Alternative Health","Fitness & Nutrition","Self-Help","Sexuality"],"Kids & Family":[],Music:[],"News & Politics":[],"Religion & Spirituality":["Buddhism","Christianity","Hinduism","Islam","Judaism","Other","Spirituality"],"Science & Medicine":["Medicine","Natural Sciences","Social Sciences"],"Society & Culture":["History","Personal Journals","Philosophy","Places & Travel"],"Sports & Recreation":["Amateur","College & High School","Outdoor","Professional"],Technology:["Gadgets","Tech News","Podcasting","Software How-To"],"TV & Film":[]},$t=["January","February","March","April","May","June","July","August","September","October","November","December"],yt=[{name:"eu_vat",description:"European VAT number"},{name:"au_abn",description:"Australian Business Number (AU ABN)"},{name:"au_arn",description:"Australian Taxation Office Reference Number"},{name:"br_cnpj",description:"Brazilian CNPJ number"},{name:"br_cpf",description:"Brazilian CPF number"},{name:"bg_uic",description:"Bulgaria Unified Identification Code"},{name:"ca_bn",description:"Canadian BN"},{name:"ca_gst_hst",description:"Canadian GST/HST number"},{name:"ca_pst_bc",description:"Canadian PST number (British Columbia)"},{name:"ca_pst_mb",description:"Canadian PST number (Manitoba)"},{name:"ca_pst_sk",description:"Canadian PST number (Saskatchewan)"},{name:"ca_qst",description:"Canadian QST number (Qu\xE9bec)"},{name:"cl_tin",description:"Chilean TIN"},{name:"eu_oss_vat",description:"European One Stop Shop VAT number for non-Union scheme"},{name:"ge_va",description:"Georgian VAT"},{name:"hk_br",description:"Hong Kong BR number"},{name:"hu_tin",description:"Hungary tax number (ad\xF3sz\xE1m)"},{name:"is_vat",description:"Icelandic VAT"},{name:"in_gst",description:"Indian GST number"},{name:"id_npwp",description:"Indonesian NPWP number"},{name:"il_vat",description:"Israel VAT"},{name:"jp_cn",description:"Japanese Corporate Number (*H\u014Djin Bang\u014D*)"},{name:"jp_rn",description:"Japanese Registered Foreign Businesses' Registration Number (*T\u014Droku Kokugai Jigy\u014Dsha no T\u014Droku Bang\u014D*) "},{name:"li_uid",description:"Liechtensteinian UID number"},{name:"my_frp",description:"Malaysian FRP number"},{name:"my_itn",description:"Malaysian ITN C"},{name:"my_sst",description:"Malaysian SST number"},{name:"mx_rfc",description:"Mexican RFC number"},{name:"nz_gst",description:"New Zealand GST number"},{name:"no_vat",description:"Norwegian VAT number"},{name:"ru_inn",description:"Russian INN"},{name:"ru_kpp",description:"Russian KPP"},{name:"sa_vat",description:"Saudi Arabia VAT"},{name:"sg_gst",description:"Singaporean GST"},{name:"sg_uen",description:"Singaporean UEN"},{name:"si_tin",description:"Slovenia tax number (dav\u010Dna \u0161tevilka)"},{name:"za_vat",description:"South African VAT number"},{name:"kr_brn",description:"Korean BRN"},{name:"es_cif",description:"Spanish CIF number"},{name:"ch_vat",description:"Switzerland VAT number"},{name:"tw_vat",description:"Taiwanese VAT"},{name:"th_vat",description:"Thai VAT"},{name:"ua_vat",description:"Ukrainian VAT"},{name:"ae_trn",description:"United Arab Emirates TRN"},{name:"gb_vat",description:"United Kingdom VAT number"},{name:"us_ein",description:"United States EIN"}],he=["#EA410B","#FF0000","#FD5353","#FF6B00","#FF9900","#00C2FF","#67BDFC","#2096FF","#0068EF","#121BFA","#6B26FF","#786CFF","#9D6FFF","#B599F1","#99A2F1","#FF5CD7","#FF81CD","#EA82FF","#A33ACB","#6C0095","#009B50","#25BD65","#2EE240","#8AE1A2","#45D800","#9A6600","#BAA049","#E8B500","#D10000"],je=["IN"],st=60*60*24*7,De=.0064;class Be extends Error{constructor(Pe,{status:Ze=500,userVisible:ut=!1,messageHtml:It=null,responseBody:Ft=null}={}){super(Pe),this.name=this.constructor.name,this.status=Ze,this.userVisible=!!Ft||ut||!1,this.messageHtml=It,this.response={body:Ft||(this.userVisible?It?{errors:[{msg:Pe,msgHTML:It}]}:{error:Pe}:{error:""})},Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class Ke extends Error{constructor({status:Pe=500,errType:Ze="SERVER_ERROR",errMessage:ut="",pub:It=null}){super(ut),this.name=this.constructor.name,this.status=Pe,this.response={body:{status:Ze,error:ut}},It&&(this.response.body.publication=It),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}function it(Q,{skipMultiContributorCheck:Pe=!1}={}){var Ze,ut,It,Ft;if(Q.subdomain==="popularinformation")return"Judd Legum";if(Q.subdomain==="whyisthisinteresting")return"Noah & Colin";if(Q.subdomain==="informant")return"Nick Martin";if(Q.subdomain==="colinmeloy")return"Colin Meloy";if(Q.subdomain==="petition"||Q.subdomain==="russiandissent")return null;if(Q.subdomain==="mattlabash")return"Matt Labash";if(Q.subdomain==="wmbrown")return"Matt Hranek";if(!Pe&&((Ze=Q.contributors)==null?void 0:Ze.length)>1)return null;const Ht=Q.name||Q.subdomain,hn=[(It=(ut=Q.contributors)==null?void 0:ut[0])==null?void 0:It.name,Q.author_name,Q.email_from_name,(Ft=Q==null?void 0:Q.author)==null?void 0:Ft.name];for(let Kt of hn)if(Kt&&(Kt=Kt.split(/(,|\||\s-|-\s|\bfrom\b|\bat\b)/g)[0].trim(),Kt&&!Kt.startsWith(Ht)&&!Ht.startsWith(Kt)&&!Kt.endsWith(Ht)&&!Ht.endsWith(Kt)))return Kt;return null}function Qe({pub:Q,post:Pe}){var Ze;const ut=(Q==null?void 0:Q.twitter_screen_name)||Q&&d[Q==null?void 0:Q.subdomain];let It=(Ze=Pe==null?void 0:Pe.title)!=null?Ze:Q==null?void 0:Q.name;return Q&&!Pe&&(It=`Subscribe to ${It}`),ut&&(!Pe||Q&&(!Pe.publishedBylines.length||Pe.publishedBylines.some(Ft=>Ft.id===Q.author_id)))&&(It+=`, by @${ut}`),It}function Ae(Q,{now:Pe=!1,isFreeSubscribed:Ze=!1,isMobile:ut=!1,isPledged:It=!1,pledgesEnabled:Ft=!1}={}){if(!Q)return"Subscribe";const{iString:Ht}=I18N.i(Q.language);return $o(Q,()=>Ze&&Q.plans&&ut&&Pe?Ht("Upgrade now"):Ze&&Q.plans&&ut&&!Pe?Ht("Upgrade"):Ze&&Q.plans&&!ut&&Pe?Ht("Upgrade to paid now"):Ze&&Q.plans&&!ut&&!Pe?Ht("Upgrade to paid"):Ht(Ze&&Ft&&!It&&Pe?"Pledge your support now":Ze&&Ft&&!It&&!Pe?"Pledge your support":Pe?"Subscribe now":"Subscribe"),hn=>(Ze&&Q.plans?vn(ut?hn.upgrade:hn.upgradeToPaid):Ze&&Ft&&!It?"Pledge your support":vn(Io(Q,"subscribe")))+(Pe?" now":""))}function H({date:Q,bylines:Pe,like_count:Ze,comment_count:ut,language:It="en"}){const{iPlural:Ft}=I18N.i(It),Ht=e(85928),hn=[];return hn.push(Ht(Q).locale(It).fromNow()),Ze&&hn.push(Ft("1 like","%1 likes",Ze)),ut&&hn.push(Ft("1 comment","%1 comments",ut)),Pe&&Pe.length&&hn.push(Nn(Pe.map(Kt=>Kt.name).filter(Kt=>Kt!==null),It)),hn.join(" \xB7 ")}const ee=["astralcodexten"];function de(Q,Pe){return Q.custom_publication_theme_id?!1:!!(["astralcodexten","company","library","on","blog","stories"].includes(Q==null?void 0:Q.subdomain)||(Pe==null?void 0:Pe.type)==="video")}const Ee=(Q="")=>Q.toUpperCase().replace(/^(THE|A|AN)\s+/,"");function Me(Q){return Q.sort((Pe,Ze)=>{var ut,It;if(!Pe)return 1;if(!Ze||Pe.membership_state==="subscribed"&&Ze.membership_state!=="subscribed")return-1;if(Ze.membership_state==="subscribed"&&Pe.membership_state!=="subscribed")return 1;const Ft=Ee((ut=Pe.publication)==null?void 0:ut.name),Ht=Ee((It=Ze.publication)==null?void 0:It.name);return Ft<Ht?-1:Ft>Ht?1:0})}function $e(Q){if(Q.expiry&&new Date(Q.expiry)>new Date)switch(Q.type){case"gift":return"Gifted Subscription";case"comp":return"Comped Subscription";default:return"Paid Subscriber"}else return!Q.email_disabled||Q.email_settings&&Object.values(Q.email_settings||{}).some(Pe=>Pe==="individual")?"Free Subscriber":Q.digest_enabled||Q.email_settings&&Object.values(Q.email_settings||{}).some(Pe=>Pe==="digest")?"Follows in Digests":"Emails Disabled"}function dt({post:Q,user:Pe}){return!!(Q&&Pe&&Pe.has_publication&&!Pe.is_admin&&!Pe.is_contributor&&Q.slug!=="coming-soon")}const ct="no-reply@substack.com";function wt(Q){if(!Q||typeof Q!="string")return Q;try{return encodeURIComponent(Q),Q}catch(Pe){}return Q.replace(/[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g,Pe=>Pe.length>1?Pe:"")}function Mt(Q,Pe){const Ze=new TextEncoder().encode(Q);return Ze.length>Pe?new TextDecoder().decode(Ze.slice(0,Pe)):Q}function pn(Q){for(;;)try{return encodeURIComponent(Q),Q}catch(Pe){Q=Q.substring(0,Q.length-1)}}function Mn(Q,Pe,{words:Ze=null,ellipsis:ut=I,extension:It=null}={}){if(!Q)return Q;let Ft=!1;if(Ze){const Ht=new RegExp(`^(\\w+\\W+){${Ze-1}}\\w+`).exec(Q);Ht&&(Ft=!0,Q=Ht[0])}return Pe&&Q.length>Pe&&(Ft=!0,Q=Q.substring(0,Pe-ut.length)),Ft&&(Q=pn(Q),Q+=ut,It&&(Q+=It)),Q}function $n(Q,Pe,{ellipsis:Ze=I,quotationMarks:ut=!1}={}){if(!Q)return Q;ut&&(Pe-=2);let It=Q;if(Q&&Q.length>Pe){const Ft=Q.split(/\s+/),Ht=[];let hn=0;for(;hn<=Pe;){const Kt=Ft.shift();if(!Kt||hn+Kt.length>Pe)break;Ht.push(Kt),hn+=Kt.length+1}It=jn(Ht.join(" "),Ze)}return ut&&(It.endsWith(" ")||It.startsWith(" "))&&(It=It.trim()),ut?`"${It}"`:It}const mr=/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,\-./:;<=>?@[\]^_`{|}~]+$/g;function jn(Q,Pe=I){return`${Q.replace(mr,"")}${Pe}`}function dr(Q){return/[!.?](?:\s+)?$/.test(Q)}const nn=new Set([" ","-"]);function jr(Q,{maxCharsPerLine:Pe=55,maxLines:Ze=2,preferWide:ut=!1}={}){if(Q.length<=Pe)return[Q];const It=Pe*Ze;if(Q.length>It){let Pr=It;for(;Pr>=0&&Q.charAt(Pr)!==" ";)Pr--;Q=jn(Q.slice(0,Pr))}const Ft=ut?Pe:Math.floor(Q.length/Ze);let Ht=-1,hn=0;const Kt=[];for(;hn+Ft<Q.length-1;){for(hn=hn+Ft;hn<=Q.length-1&&!nn.has(Q.charAt(hn));)hn++;const Pr=Q.charAt(hn)==="-";Kt.push(Q.slice(Ht+1,Pr?hn+1:hn)),Ht=hn}return hn<Q.length-1&&Kt.push(Q.slice(Ht+1)),Kt}const Dr=Q=>/[A-Z]/.test(Q),At=Q=>/[\s-]/.test(Q);function Wt(Q,Pe){let Ze=0;for(let ut=0;ut<Q.length;ut+=1){const It=Q[ut];Dr(It)?Ze+=Pe:Ze+=1}return Ze}function Zt(Q,Pe,Ze){const ut=[];let It=0,Ft=!1;for(let Kt=0;Kt<Q.length;Kt+=1){const Pr=Q[Kt];if(At(Pr)){Ft=!0;continue}else Ft&&(ut.push(Q.slice(It,Kt)),It=Kt,Ft=!1)}if(It<Q.length&&ut.push(Q.slice(It)),!ut.length)return"";const Ht=[ut[0]];let hn=Wt(ut[0],Pe);for(const Kt of ut.slice(1)){const Pr=Wt(Kt,Pe);if(hn+=Pr,hn<=Ze)Ht.push(Kt);else break}return Ht.join("")}function _n(Q,{maxCostPerLine:Pe=55,maxLines:Ze=2,capitalCost:ut=1.2}={}){const It=Q;if(Wt(Q,ut)<=Pe)return[Q];const Ht=[];for(let hn=0;hn<Ze;hn+=1){const Kt=Zt(Q,ut,Pe);if(Kt)Ht.push(Kt),Q=Q.slice(Kt.length);else break}return Ht.reduce((hn,Kt)=>hn+Kt.length,0)<It.length&&(Ht[Ht.length-1]=jn(Ht[Ht.length-1].slice(0,Ht[Ht.length-1].length-1))),Ht}const Kn=["AT","BE","CY","DE","EE","ES","FI","FR","GR","HR","IE","IT","LT","LU","LV","MT","NL","PT","SI","SK"],wr=[...Kn,"BG","CZ","DK","HU","PL","RO","SE"],Nr=["NZ","CK","NU","PN","TK"],no=["usd","eur","gbp","cad","aud","nzd","brl","mxn","inr","pln"];function Jr(Q){return Q==="AU"?"aud":Q==="BR"?"brl":Q==="CA"?"cad":Q==="LI"||Q==="CH"?"chf":Q==="DK"||Q==="FO"||Q==="GL"?"dkk":Kn.includes(Q)?"eur":Q==="GB"?"gbp":Q==="MX"?"mxn":Q==="BV"||Q==="NO"||Q==="SJ"?"nok":Nr.includes(Q)?"nzd":Q==="PL"?"pln":Q==="SE"?"sek":Q==="US"?"usd":null}const $r=Q=>{var Pe,Ze;return((Ze=(Pe=Q.draft_plans)==null?void 0:Pe[0])==null?void 0:Ze.currency)||"usd"};function bo(Q){return["BIF","CLP","DJF","GNF","JPY","KMF","KRW","MGA","PYG","RWF","UGX","VND","VUV","XAF","XOF","XPF"].includes(Q.toUpperCase())}function mo(Q){const Pe=$r(Q);return bo(Pe)}function So(Q){return new Intl.NumberFormat("en-US",{style:"currency",currency:Q,minimumFractionDigits:0,maximumFractionDigits:0}).format(0).replace(/\d/,"").trim()}const go=Q=>Q/1e8;function Eo(Q,Pe,{forceDecimals:Ze=!1}={}){let It=new Intl.NumberFormat("en-US",{style:"currency",currency:Pe,minimumFractionDigits:Ze||Q%100?2:0,maximumFractionDigits:Pe==="btc"?8:2}).format(Pe==="btc"?go(Q):bo(Pe)?Q:Q/100);return Pe==="usd"&&typeof window!="undefined"&&window._preloads&&window._preloads.country&&N.includes(window._preloads.country)&&(It=`US${It}`),It}function ro(Q){return new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(Q/100)}const po=new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:0});function wo(Q){if(!Q)return null;if(typeof Q!="string")throw new Error("Bad type for dollar string");const Pe=Q.replace(/[^0-9.]/g,"");return Pe?Math.round(Number(Pe)*100):null}function ko(Q){let Pe=Q/100;return Pe=Pe<50?Math.ceil(Pe):Math.ceil(Pe/5)*5,Pe*100}function ei(Q,{quantity:Pe=1,coupon:Ze=null,noTrial:ut=!1,trial_end_override:It=null}={}){if(!ut&&(Q.trial_period_days||Ze&&Ze.trial_period_days||It&&It>Date.now()/1e3+120))return 0;let Ft=Q.amount*Pe;return Ze&&Ze.percent_off?Ft=Math.round(Ft*(1-(Ze.percent_off_precise||Ze.percent_off)/100)):Ze&&Ze.amount_off&&(Ft=Math.max(0,Ft-Ze.amount_off)),Ft}function Do(Q,{interval:Pe="month",interval_count:Ze=tt,multiplier:ut=1,min:It=0}={}){let Ft,Ht,hn;for(const eo of Q){if(!hn)hn=eo.currency;else if(hn!=eo.currency)continue;eo.interval=="month"?(!Ft||eo.amount<Ft)&&(Ft=eo.amount):eo.interval=="year"&&(!Ht||eo.amount<Ht)&&(Ht=eo.amount)}let Kt=Ft;if(!Kt&&Ht&&(Kt=Ht/12),!Kt)return null;let Pr;switch(Pe){case"month":Pr=Kt;break;case"day":Pr=Kt/30;break;case"year":Pr=Ht||Kt*12;break;default:throw new Error(`bad interval: ${Pe}`)}let co=Pr*Ze*ut;return co<It?null:(co=Math.floor(co/100)*100,Eo(co,hn))}function Uo(Q,{amount:Pe,interval:Ze="",language:ut="en"}={}){const It=Eo(Pe!=null?Pe:Q.amount,Q.currency);if(Q.interval!=="forever"){const Ft=Ze||Q.interval,{iPlural:Ht,iString:hn}=I18N.i(ut);if(Q.interval_count===3){if(Ft==="day")return hn("%1/three days",It);if(Ft==="month")return hn("%1/three months",It);if(Ft==="week")return hn("%1/three weeks",It);if(Ft==="year")return hn("%1/three years",It)}if(Ft==="day")return Ht("%2/day","%2/%1 days",Q.interval_count,It);if(Ft==="month")return Ht("%2/month","%2/%1 months",Q.interval_count,It);if(Ft==="week")return Ht("%2/week","%2/%1 weeks",Q.interval_count,It);if(Ft==="year")return Ht("%2/year","%2/%1 years",Q.interval_count,It)}return It}function mn(Q,{secondsCutoff:Pe,minutesCutoff:Ze,hoursCutoff:ut,daysCutoff:It,weeksCutoff:Ft,long:Ht,noNumber:hn,noWord:Kt,lessThanMinute:Pr,language:co="en",appendAgo:eo}={}){const{iCombo:Rr}=I18N.i(co);Q=Math.round(Q);let Ir;return Q<(Pe||60)?(Ir=Math.round(Q),Kt?Ir:hn&&Ht?Rr("secondsToLargestUnit","second","seconds",Ir):hn&&!Ht?Rr("secondsToLargestUnit","sec","secs",Ir):!Ht&&eo?Rr("secondsToLargestUnit","%1 sec ago","%1 secs ago",Ir):Ht?eo?Rr("secondsToLargestUnit","%1 second ago","%1 seconds ago",Ir):Rr("secondsToLargestUnit","%1 second","%1 seconds",Ir):Rr("secondsToLargestUnit","%1 sec","%1 secs",Ir)):Q<(Ze||3600)&&Pr&&!Kt&&!hn?(Ir=Math.round(Q/60),!Ht&&eo?Rr("secondsToLargestUnit","%1 min ago","%1 mins ago",Ir):Ht?eo?Rr("secondsToLargestUnit","less than %1 second ago","less than %1 seconds ago",Ir):Rr("secondsToLargestUnit","less than %1 minute","less than %1 minutes",Ir):Rr("secondsToLargestUnit","less than %1 min","less than %1 mins",Ir)):Q<(Ze||3600)?(Ir=Math.round(Q/60),Kt?Ir:hn&&Ht?Rr("secondsToLargestUnit","minute","minutes",Ir):hn&&!Ht?Rr("secondsToLargestUnit","min","mins",Ir):!Ht&&eo?Rr("secondsToLargestUnit","%1 min ago","%1 mins ago",Ir):Ht?eo?Rr("secondsToLargestUnit","%1 minute ago","%1 minutes ago",Ir):Rr("secondsToLargestUnit","%1 minute","%1 minutes",Ir):Rr("secondsToLargestUnit","%1 min","%1 mins",Ir)):Q<(ut||86400)?(Ir=Math.round(Q/60/60),Kt?Ir:hn&&Ht?Rr("secondsToLargestUnit","hour","hours",Ir):hn&&!Ht?Rr("secondsToLargestUnit","hr","hrs",Ir):!Ht&&eo?Rr("secondsToLargestUnit","%1 hr ago","%1 hrs ago",Ir):Ht?eo?Rr("secondsToLargestUnit","%1 hour ago","%1 hours ago",Ir):Rr("secondsToLargestUnit","%1 hour","%1 hours",Ir):Rr("secondsToLargestUnit","%1 hr","%1 hrs",Ir)):Q<(It||604800)?(Ir=Math.round(Q/60/60),Kt?Ir:hn?Rr("secondsToLargestUnit","day","days",Ir):eo?Rr("secondsToLargestUnit","%1 day ago","%1 days ago",Ir):Rr("secondsToLargestUnit","%1 day","%1 days",Ir)):Q<(Ft||31557600)?(Ir=Math.round(Q/60/60),Kt?Ir:hn&&Ht?Rr("secondsToLargestUnit","week","weeks",Ir):hn&&!Ht?Rr("secondsToLargestUnit","wk","wks",Ir):!Ht&&eo?Rr("secondsToLargestUnit","%1 wk ago","%1 wks ago",Ir):Ht?eo?Rr("secondsToLargestUnit","%1 week ago","%1 weeks ago",Ir):Rr("secondsToLargestUnit","%1 week","%1 weeks",Ir):Rr("secondsToLargestUnit","%1 wk","%1 wks",Ir)):(Ir=Math.round(Q/60/60/24/365.25),Kt?Ir:hn&&Ht?Rr("secondsToLargestUnit","year","years",Ir):hn&&!Ht?Rr("secondsToLargestUnit","yr","yrs",Ir):!Ht&&eo?Rr("secondsToLargestUnit","%1 yr ago","%1 yrs ago",Ir):Ht?eo?Rr("secondsToLargestUnit","%1 year ago","%1 years ago",Ir):Rr("secondsToLargestUnit","%1 year","%1 years",Ir):Rr("secondsToLargestUnit","%1 yr","%1 yrs",Ir))}function Dn(Q){const Pe=Math.floor(Q/60/60),Ze=Math.floor(Q/60)%60,ut=Math.floor(Q%60);return`${(Pe?`${Pe}:`:"")+(Pe?`0${Ze}`.slice(-2):Ze)}:${`0${ut}`.slice(-2)}`}function Wn(Q){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(Q)}function Hn(Q){return Q[0]!=="#"&&(Q=`#${Q}`),Q=Q.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(Pe,Ze,ut,It)=>Ze+Ze+ut+ut+It+It),Q}function vr(Q){Q=Hn(Q);function Pe(Rr,Ir){typeof Rr=="string"&&Rr.indexOf(".")!=-1&&parseFloat(Rr)===1&&(Rr="100%");const zo=typeof Rr=="string"&&Rr.indexOf("%")!=-1;return Rr=Math.min(Ir,Math.max(0,parseFloat(Rr))),zo&&(Rr=parseInt(Rr*Ir,10)/100),Math.abs(Rr-Ir)<1e-6?1:Rr%Ir/parseFloat(Ir)}const Ze=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(Q);let ut=parseInt(Ze[1],16),It=parseInt(Ze[2],16),Ft=parseInt(Ze[3],16);ut=Pe(ut,255),It=Pe(It,255),Ft=Pe(Ft,255);const Ht=Math.max(ut,It,Ft),hn=Math.min(ut,It,Ft);let Kt;const Pr=Ht,co=Ht-hn,eo=Ht===0?0:co/Ht;if(Ht==hn)Kt=0;else{switch(Ht){case ut:Kt=(It-Ft)/co+(It<Ft?6:0);break;case It:Kt=(Ft-ut)/co+2;break;case Ft:Kt=(ut-It)/co+4;break}Kt/=6}return{h:Kt,s:eo,v:Pr}}function tr(Q){const Pe=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(Hn(Q));return Pe?{r:parseInt(Pe[1],16),g:parseInt(Pe[2],16),b:parseInt(Pe[3],16)}:null}function pr({r:Q,g:Pe,b:Ze}){return`#${Q.toString(16).padStart(2,"0")}${Pe.toString(16).padStart(2,"0")}${Ze.toString(16).padStart(2,"0")}`}function kt(Q){const Pe=vr(Q);if(Pe.h>.11&&Pe.h<.56)if(Pe.s>.25&&Pe.v>.5){if(Pe.s<.6&&Pe.v>.8)return!0;if(Pe.s>.6)return!0}else return!1;else if(Pe.s>.25&&Pe.v>.5)return!0;return!1}function Vt(Q,Pe){const Ze=tr(Q);return Ze?(Ze.r=Math.max(0,Math.min(255,Math.round(Ze.r*Pe))),Ze.g=Math.max(0,Math.min(255,Math.round(Ze.g*Pe))),Ze.b=Math.max(0,Math.min(255,Math.round(Ze.b*Pe))),pr(Ze)):Q}function en(Q){let{r:Pe,g:Ze,b:ut}=tr(Q);return Pe=Pe/255,Ze=Ze/255,ut=ut/255,Pe=Pe<=.03928?Pe/12.92:Math.pow((Pe+.055)/1.055,2.4),Ze=Ze<=.03928?Ze/12.92:Math.pow((Ze+.055)/1.055,2.4),ut=ut<=.03928?ut/12.92:Math.pow((ut+.055)/1.055,2.4),.2126*Pe+.7152*Ze+.0722*ut}function dn(Q,Pe,{name:Ze=hn=>hn,restWord:ut="other",noNames:It="people",pluralizeRest:Ft=!0,showRestCount:Ht=!0}={}){const hn=Q.map(Ze).filter(Boolean).slice(0,Pe);if(hn.length===0)hn.push(Fo(Q.length,It));else if(hn.length<Q.length){const Kt=Q.length-hn.length;hn.push(`${Ht?Kt:""} ${ut}${Kt>1&&Ft?"s":""}`)}return Nn(hn)}function Nn(Q,Pe="en"){const{iString:Ze}=I18N.i(Pe);let ut="";return Q.length===1?ut=Q[0]:Q.length===2?ut=Q.join(` ${Ze("and")} `):Q.length>2&&(ut=`${Q.slice(0,-1).join(", ")}, ${Ze("and")} ${Q.slice(-1)}`),ut}function An(Q,{minSignificantDigits:Pe=1}={}){if(Q<1e3)return Q.toString();let Ze;Math.round(Q/1e3)<1e3?(Q/=1e3,Ze="k"):Math.round(Q/1e6)<1e3?(Q/=1e6,Ze="m"):Math.round(Q/1e9)<1e3?(Q/=1e9,Ze="b"):(Q/=1e12,Ze="t");const ut=Math.max(Pe-1-Math.floor(Math.log10(Q)),0);return Q=Math.round(Q*Math.pow(10,ut))/Math.pow(10,ut),`${Q}${Ze}`}const Rn=Q=>Math.max(0,Math.min(5,Math.floor(Math.log(Math.max(Q,1))/Math.LN10+1e-9))-1),ft=Q=>"\u{1F525}".repeat(Rn(Q));function Rt(Q,Pe,Ze){const ut=(Q||"").trim().split(/[\s\r]*\n[\s\r]*/g).map(Ft=>Ft.trim()).filter(Ft=>Ft),It=[];for(;ut.length>0;){const Ft=ut.shift(),Ht=It[It.length-1];Ht&&Ht.length<Ze?It[It.length-1]+=Pe+Ft:It.push(Ft)}return It.join(`
`)}function zt(){return Math.random().toString(36).replace(/^0\./,"")}function tn(Q){return Q.trim().split(/\s+/).filter(Boolean).map(Pe=>Pe[0].toUpperCase()+Pe.substr(1).toLowerCase()).join(" ")}function vn(Q,Pe){const Ze=Pe?Q.substr(1).toLowerCase():Q.substr(1);return Q[0].toUpperCase()+Ze}function un(Q){const Pe=["th","st","nd","rd"],Ze=Q%100;return Q+(Pe[(Ze-20)%10]||Pe[Ze]||Pe[0])}function wn(Q,Pe=0){return typeof Q=="string"&&(Q=Number(Q.replace(/,/g,""))),new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:Pe}).format(Q)}function Un(Q){return Math.pow(10,Math.floor(Math.log10(Q)))||0}function Cr(Q){return Q<100?"tens":Q<1e3?"hundreds":Q<1e4?"thousands":Q<1e5?"tens of thousands":Q<1e6?"hundreds of thousands":Q<1e7?"millions":Q<1e8?"tens of millions":Q<1e9?"hundreds of millions":Q<1e10?"billions":Q<1e11?"tens of billions":Q<1e12?"hundreds of billions":Q<1e13?"trillions":Q<1e14?"tens of trillions":Q<1e15?"hundreds of trillions":"gagillions"}function Hr(Q){const Pe=Q.toLocaleString(void 0,{notation:"compact",maximumFractionDigits:0,roundingMode:"floor"});return Q>=1e3?`${Pe}+`:Q>0?Pe:"0"}function Ur(Q){return Q<=10?`#${Q}`:Q<=25?"Top 25":Q<=50?"Top 50":Q<=100?"Top 100":""}function Ar(Q,Pe="en"){const{iTemplate:Ze}=I18N.i(Pe),ut=1e6,It=1e5;if(Q<1e3)return null;let Ft=Math.floor(Q/1e3)*1e3;Ft>=ut&&(Ft=Math.floor(Q/It)*It);const Ht=wn(Ft);return Ze`Over ${Ht} subscribers`}function oo(Q){if(!Q||Q<100)return"See subscribers";const Pe=Q<1e3?100:1;return`${Hr(Math.floor(Q/Pe)*Pe)} subscribers`}const vo=Q=>Q<1?"< 1%":`${Q}%`;function ti(Q,{rounded:Pe=!1,display:Ze=!1,decimalPlaces:ut=-1}={}){let It=parseFloat(Q)*100;return ut>=0&&(It=It.toFixed(ut)),Pe&&(It=Math.floor(It)),Ze?vo(Number(It)):It}function ni(Q){var Pe;if((Pe=Q==null?void 0:Q.postSchedules)!=null&&Pe.length&&Q.postSchedules[0].trigger_at)return new Date(Q.postSchedules[0].trigger_at);if("scheduled_at"in Q&&!(!Q||!Q.scheduled_at)&&!(Q.email_sent_at&&Q.should_send_email))return new Date(Math.max(new Date(Q.scheduled_at).getTime(),Date.now()))}function Co(Q){return Q===0?"zero":Q===1?"one":Q===2?"two":Q===3?"three":Q===4?"four":Q===5?"five":Q===6?"six":Q===7?"seven":Q===8?"eight":Q===9?"nine":Q===10?"ten":Q===11?"eleven":Q===12?"twelve":wn(Q)}function Fo(Q,Pe,{zero_fallback:Ze="",just_word:ut}={}){let It,Ft;const Ht=Pe.lastIndexOf(" ")+1,hn=Pe.substr(Ht),Kt=Pe.substr(0,Ht);return["person","people"].includes(hn)?(It=`${Kt}person`,Ft=`${Kt}people`):["reply","replies"].includes(hn)?(It=`${Kt}reply`,Ft=`${Kt}replies`):["entry","entries"].includes(hn)?(It=`${Kt}entry`,Ft=`${Kt}entries`):["match","matches"].includes(hn)?(It=`${Kt}match`,Ft=`${Kt}matches`):(It=Pe,Ft=`${Pe}s`),ut||(It=`${wn(Q)} ${It}`,Ft=`${wn(Q)} ${Ft}`),!Q&&Ze?Ze:Q==1?It:Ft}function yo(Q){return`${Q}\u2019${Q[Q.length-1]==="s"?"":"s"}`}function Wo(Q){return Q.replace(/\n/g,"\\n")}const Li=(Q,Pe,Ze)=>{const ut={};for(const It in Q)ut[It]=Pe.call(Ze,Q[It],It,Q);return ut};function ai(Q,Pe){if(isNaN(Q))return isNaN(Pe);if(Q===null)return Pe===null;switch(typeof Q){case"undefined":case"boolean":case"number":case"string":return Q===Pe}const Ze=Object.keys(Q).sort(),ut=Object.keys(Pe).sort();if(Ze.length!==ut.length)return!1;for(let It=0;It<Ze.length;It+=1){const Ft=Ze[It];if(Ft!==ut[It]||!ai(Q[Ft],Pe[Ft]))return!1}return!0}const mi=(Q,Pe="id")=>{const Ze={};for(const ut of Q)typeof Pe=="function"?Ze[Pe(ut)]=ut:Ze[ut[Pe]]=ut;return Ze};function Oi(Q,Pe){const Ze=[],ut=[];for(const It of Q)Pe(It)?Ze.push(It):ut.push(It);return[Ze,ut]}const pi=(Q,Pe=1)=>{const Ze=[];function ut(It,Ft){for(const Ht of It)Array.isArray(Ht)&&Ft>0?ut(Ht,Ft-1):Ze.push(Ht)}return ut(Q,Pe),Ze},ui=(Q,Pe,Ze)=>{if(typeof Pe=="string"){const ut=Pe.split(".");Pe=It=>ut.reduce((Ft,Ht)=>Ft[Ht],It)}return[].reduce.call(Q,(ut,It,Ft)=>{const Ht=Pe.call(Ze,It,Ft,Q),hn=ut.get(Ht);return hn?hn.push(It):ut.set(Ht,[It]),ut},new Map)};function Mi({publication:Q,post:Pe}){return["adhoc_email","page"].includes(Pe==null?void 0:Pe.type)?!1:Q.community_enabled&&Pe&&Pe.write_comment_permissions!=="none"}function Bi({publication:Q,post:Pe}){return!!(Q.community_enabled&&Pe)}function _i({publication:Q,post:Pe}){return(Pe==null?void 0:Pe.type)==="adhoc_email"||(Pe==null?void 0:Pe.slug)==="coming-soon"?!1:Pe&&Pe.comment_count>0||Mi({publication:Q,post:Pe})}const gi=Q=>!!(Q&&Q.is_contributor);function vi(Q,Pe,{bypassContentAccessCheck:Ze=!1}={}){const{userHasFullAccessToPost:ut}=e(6385);return Q&&Pe.publishedBylines&&Pe.publishedBylines.find(It=>It.id===Q.id)?!0:Ze||ut(Q,Pe)}function si(Q,Pe,{bypassContentAccessCheck:Ze=!1}={}){const{userHasFullAccessToPost:ut}=e(6385);return Q&&Pe.publishedBylines&&Pe.publishedBylines.find(It=>It.id===Q.id)?!0:Ze||ut(Q,Pe)}const xo=Q=>Q.type==="thread"&&Q.write_comment_permissions==="none";function ri(Q,Pe,Ze){const ut=Q&&"id"in Q?Q.id:null;if(ut&&Pe.publishedBylines&&Pe.publishedBylines.find(It=>It.id===ut))return{canReply:!0};if(Q&&Q.is_contributor)return{canReply:!0};switch(Pe.write_comment_permissions||Ze.default_write_comment_permissions){case"everyone":return{canReply:!0};case"none":return{canReply:!1,repliesDisabledReason:c.us.comments_disabled};case"only_paid":{const It=!!(Q&&Q.is_subscribed);return{canReply:It,repliesDisabledReason:It?void 0:c.us.paid_subscription_required}}}return{canReply:!1}}function Si(Q,Pe,Ze){return ri(_(T({},Q),{is_subscribed:!0}),Pe,Ze).canReply}const Di=(Q,Pe)=>!!(Pe&&Q&&Q.id===Pe.user_id);function rt(Q,Pe,{pub:Ze,post:ut,parentComments:It}){if(!Q||!Pe)return!1;if(Q.is_contributor||Q.id===Pe.user_id)return!0;if(Pe.publication_id&&Pe.post_id){if(Je(Q,Ze,ut))return!0}else if(Ge({user:Q,comment:Pe,parentComments:It}))return!0;return!1}function Ge({user:Q,comment:Pe,parentComments:Ze}){var ut;if(!Q||!Pe||Pe.publication_id&&Pe.post_id||Q.id===Pe.user_id||Q.is_contributor)return!1;const It=Number((ut=Pe.ancestor_path)==null?void 0:ut.split(".").filter(Boolean)[0]);if(!It)return!1;const Ft=Ze==null?void 0:Ze.find(Ht=>(Ht==null?void 0:Ht.id)===It);return Q.id===(Ft==null?void 0:Ft.user_id)}function Je(Q,Pe,Ze){return Q?!!(Q.is_contributor||Q.id===(Pe==null?void 0:Pe.author_id)||Pe!=null&&Pe.contributors.find(ut=>ut.user_id===Q.id&&["admin","contributor"].includes(ut.role))):!1}function mt(Q,Pe){return!(!Q||!Pe||Q.id===Pe.user_id)}function bt(Q){return!!Q.plans}function jt(Q){return!!(Q.plans||Q.has_subscribers)}function Bt(Q,{type:Pe,coupon:Ze}={}){return!Q.plans||Pe==="page"?"everyone":Ze?"only_free":"only_paid"}function sn(Q,Pe,Ze){if(Pe==="thread")switch(Q){case"only_paid":return["only_paid"];case"founding":return["only_paid"];case"everyone":return["everyone"];default:return["everyone"]}else switch(Q){case"only_paid":return["only_paid","none"];case"founding":return["only_paid","none"];case"everyone":return Ze?["only_paid","everyone","none"]:["everyone","none"];default:return["none"]}}function Cn(Q,Pe,Ze,ut){return Q!=null&&sn(Pe,Ze,ut).includes(Q)}function fn(Q,Pe,Ze,ut){return Cn(Ze.default_write_comment_permissions,Q,Pe,ut)?Ze.default_write_comment_permissions:sn(Q,Pe,ut)[0]}function Bn(Q,Pe,Ze){return Pe==="page"?!1:Ze==="only_free"?!0:!!Q.default_post_publish_send_email}function Br(Q,Pe,Ze){return Pe&&Pe.interval==="forever"?0:Math.max(0,...[Q.trial_end_override>Date.now()/1e3?Q.trial_end_override:0,Pe&&Pe.trial_period_days&&Math.round((Date.now()+Pe.trial_period_days*24*60*60*1e3)/1e3),Ze&&Ze.trial_period_days&&Math.round((Date.now()+Ze.trial_period_days*24*60*60*1e3)/1e3)].filter(ut=>ut))}function Or(Q,{prependSpace:Pe=!1}={}){return Q?(Pe?" ":"")+Q.trim().split(/\s+/g)[0]:""}function Lr(Q){return Q?Q.trim().split(/\s+/g).slice(1).slice(-1)[0]:""}const Fe=Q=>$t[new Date(Q).getMonth()];function Oe(Q,{noBreakSpace:Pe}={}){const Ze=Pe?"\xA0":" ";let ut=[];if(Q.length==1)ut=[Q[0]];else if(Q.length==2)ut=[Q[0],`${Ze}and${Ze}`,Q[1]];else if(Q.length>=3)for(let It=0;It<Q.length;It++)ut.push(Q[It]),It<Q.length-2?ut.push(`,${Ze}`):It===Q.length-2&&ut.push(`,${Ze}and${Ze}`);return ut.toString=()=>ut.join(""),ut}function ke(Q){const Pe=new Map;for(const Ze of Q){let ut=Pe.get(Ze);ut=(ut||0)+1,Pe.set(Ze,ut)}return Array.from(Pe).sort((Ze,ut)=>ut[1]-Ze[1])[0][0]}function qe(Q,Pe="en"){const{iString:Ze}=I18N.i(Pe);return Q.type==="thread"?Ze("View thread"):Q.type==="podcast"?Ze("Listen"):Ze("Read")}function Pt(Q,{isFinalWord:Pe}={}){return Q==="podcast"?`listening${Pe?"":" to"}`:Q==="video"?"watching":"reading"}function Ct(Q){return Q==="newsletter"?"post":Q==="podcast"?"episode":Q==="adhoc_email"?"email":Q}function Ot(Q){return`${Mn(Q.title||"Untitled post",115)}`}function Dt(Q){return Q.publication_id===10475&&Q.section_id===18994}function Xt(Q,{isDraft:Pe=!1}={}){return Q?((Pe?Q.draftBylines:Q.publishedBylines)||[]).filter(ut=>ut.name):[]}function Yt(Q,Pe,{isDraft:Ze=!1}={}){const ut=Xt(Pe,{isDraft:Ze});return ut.length>0?Nn(ut.map(It=>It.name).filter(It=>It!==null)):null}const Jt=Q=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(Q);function Qt(Q){return typeof Q=="string"?f()(Q)||0:typeof Q=="number"?Q:0}function on(Q){const Pe=Ze=>new RegExp(`^.*${Ze}`);if(Q){if(Q.includes(l.Substitutions.CHECKOUT_URL))return Q.replace(Pe(l.Substitutions.CHECKOUT_URL),"/subscribe?");if(Q.includes(l.Substitutions.FOUNDING_CHECKOUT_URL))return Q.replace(Pe(l.Substitutions.FOUNDING_CHECKOUT_URL),"/subscribe?plan=founding&");if(Q.includes(l.Substitutions.REFERRAL_URL))return Q.replace(Pe(l.Substitutions.REFERRAL_URL),"/?showWelcome=true");if(Q.includes(l.Substitutions.UNSUBSCRIBE_URL))return Q.replace(Pe(l.Substitutions.UNSUBSCRIBE_URL),"/account?");if(Q.includes(l.Substitutions.ONE_CLICK_UNSUBSCRIBE_URL))return Q.replace(Pe(l.Substitutions.ONE_CLICK_UNSUBSCRIBE_URL),"/account?");if(/^.*%%.*%%/.test(Q))return null}else return Q;return Q}function Sn(Q){const Pe=on(Q);if(Pe){const Ze=window.open(Pe,"_blank");Ze!=null&&Ze.focus&&Ze.focus()}}function Zn(Q){if(!Q)return!0;const Pe=document.location&&document.location.pathname||"";return["publish","account"].includes(Pe.split("/")[1])}function sr(Q,Pe=2){if(Q===0)return"0 Bytes";const Ze=1024,ut=Pe<0?0:Pe,It=Math.floor(Math.log(Q)/Math.log(Ze));return`${parseFloat((Q/Math.pow(Ze,It)).toFixed(ut))} ${D[It]}`}function Sr(Q=""){if(!Q)return 0;const[Pe,Ze]=Q.split(" "),ut=D.indexOf(Ze);return ut<0?0:Number(Pe)*Math.pow(1024,ut)}function yr(Q){return/Googlebot/i.test(Q||"")?"Google":/bingbot/i.test(Q||"")||/BingPreview/i.test(Q||"")?"Bing":/Slurp/i.test(Q||"")?"Yahoo":/DuckDuckBot/i.test(Q||"")?"DDG":/Baiduspider/i.test(Q||"")?"Baidu":!1}function qr(Q,Pe,Ze,ut){return Q.name?Q.name:(Ze&&Ze.author_id===ut.id||Pe&&Pe.publishedBylines&&Pe.publishedBylines.find(It=>It.id===ut.id))&&Q.email||"Someone"}function uo(Q,Pe){return Q&&Q.description||Pe.hero_text||`Get ${Pe.name} in your inbox`}const ho=[{pubs:["thebulwark"],subscription:"membership",donateItem:"membership",subscriber:"member",subscribe:"join",subscribeTo:"join",upgrade:"join",upgradeTo:"join",upgradeToPaid:"join",upgradeSubscriptionTo:"upgrade your membership to"},{pubs:["georgesaunders"],donateItem:"scholarship"}],Ao={subscription:"subscription",donateItem:"subscription",subscriber:"subscriber",subscribe:"subscribe",subscribeTo:"subscribe to",upgrade:"upgrade",upgradeTo:"upgrade to",upgradeToPaid:"upgrade to paid",upgradeSubscriptionTo:"upgrade your subscription to"},Yo=ho.flatMap(Q=>Q.pubs);function $o(Q,Pe,Ze){const ut=ho.find(Ft=>{var Ht;return Ft.pubs.includes(((Ht=Q==null?void 0:Q.parent_publication)==null?void 0:Ht.subdomain)||(Q==null?void 0:Q.subdomain))})||null,It=ut?T(T({},Ao),ut):null;return It?Ze(It):Pe()}function Io(Q,Pe){const Ze=ho.find(It=>{var Ft;return It.pubs.includes(((Ft=Q==null?void 0:Q.parent_publication)==null?void 0:Ft.subdomain)||(Q==null?void 0:Q.subdomain))});let ut=Ze&&Ze[Pe];if(!ut&&(ut=Ao[Pe],!ut))throw new Error(`${Pe} is not a valid subscription word`);return ut}function ot(Q){const Pe={0:8304,1:185,2:178,3:179,4:8308,5:8309,6:8310,7:8311,8:8312,9:8313};return String.fromCodePoint(...Array.from(`${Q}`).map(Ze=>Pe[Ze]))}const lt=Q=>{var Pe,Ze,ut;return(ut=(Ze=(Pe=Q==null?void 0:Q.plans)==null?void 0:Pe.find(It=>{var Ft;return(Ft=It.metadata)==null?void 0:Ft.founding}))==null?void 0:Ze.metadata)==null?void 0:ut.short_description},St=Q=>`https://checkout.opennode.com/${Q}`;function an(Q=0){const Pe=Q===0?0:Math.floor(Math.log(Q)/Math.log(1024));return`${+(Q/Math.pow(1024,Pe)).toPrecision(3)}${["B","KB","MB","GB","TB"][Pe]}`}function gn(Q){if(!Q)return null;const Pe="Substack Network";if(On(Q))return Pe;const Ze={"blog.substack.com":Pe,"library.substack.com":Pe,"on.substack.com":Pe,"post-end-cta":"Post Footer CTA","stories.substack.com":Pe,"substack-app":Pe,"substack-boost":Pe,"substack-categories-discovery":Pe,"substack-categories-discovery-search":Pe,"substack-comment-links":Pe,"substack-cross-posts":Pe,"substack-facepiles":Pe,"substack-mentions":Pe,"substack-onboarding-discovery":Pe,"substack-post-embeds":Pe,"substack-post-reply-comment":Pe,"substack-presubscribe":Pe,"substack-publication-embeds":Pe,"substack-reader-discovery":Pe,"substack-reader-profile-discovery":Pe,"substack-reader-shared":"Reader sharing","substack-your-weekly-stack":`${Pe} \u2014 Your Weekly Stack`,"substack-recommendation-email":Pe,"substack-referral":Pe,"substack-signup-flow":Pe,"substack-subscriber-referral":Pe,"substack-twitter-link":Pe,"substack-twitter-suggest":Pe,"substack-xp-post-template":Pe,"substack-xp-read-next":Pe,"substack.com":Pe,"t.co":"Twitter","www.substack.com":Pe,external:"external form / api","googleads.g.doubleclick.net":"Google","score-upsell":"Boost upsell to engaged subscribers"}[Q];return Ze||(/(\b|\.)facebook\./.test(Q)?"Facebook":/(\b|\.)instagram\./.test(Q)?"Instagram":/(\b|\.)linkedin\./.test(Q)?"LinkedIn":/(\b|\.)youtube\./.test(Q)?"YouTube":/(\b|\.)duckduckgo\./.test(Q)?"DuckDuckGo":/(\b|\.)medium\./.test(Q)?"Medium":/(\b|\.)reddit\./.test(Q)?"Reddit":/(\b|\.)bing\./.test(Q)?"Bing":/(\b|\.)google\./.test(Q)?"Google":Q!=null&&Q.includes(".")?Q:tn(Q.replace(/-/g," ")))}function On(Q){return["substack-feed-item","notes_inline_suggestions","notes_sidebar_suggestions","feed-nux","feed-twitter-suggestions","notes_all_suggestions","note_permalink_upsell","notes_likes","note_inline_upsell","notes_restacks","notes_quote_attachment","notes_context","substack-notes"].includes(Q)}const xn=Q=>/^\S+@\S+\.\S+$/.test(Q),Fn=Q=>(Q||"").replace(/\s+/g," "),zn={"-2":{short:"Deleted - Flagged as spam",long:"This publication is deleted and every page will show a flagged error"},"-1":{short:"Noindexed - In moderation queue",long:"This publication is temporarily not available to search engines because it is pending moderation, where it will be approved or deleted"},0:{short:"Noindexed - New Pub",long:'This publication is temporarily not available to search engines because the author needs to create a new post other than "coming-soon"'},1:{short:"Available",long:"This publication is available to search engines"},2:{short:"Available w/priority",long:"This publication is available to search engines and is given priority SEO treatment"}};function br(Q){return Q?Q<3456e3?"monthly":Q<8121600?"quarterly":Q<16070400?"semiannual":Q<3456e4?"annual":Q>3888e3?"lifetime":"other":"free"}function ir(Q){return Q&&(Q.homepage_type==="newspaper"||Q.homepage_type==="magaziney")}const Zr=35;function Xr(Q,{isStatic:Pe}={}){let Ze,ut;return Q.width>=Q.height*1.7777777777777777?(Ze=Pe?550:960,ut=Math.round(Ze*(Q.height/Q.width))):Q.width>=Q.height?(Ze=Pe?550:728,ut=Math.round(Ze*(Q.height/Q.width))):Ze=ut=Pe?550:728,{height:ut,width:Ze}}function Tr(Q){const Pe=e(85928),Ze=Pe(Q);return Pe.utc([Ze.year(),Ze.month(),Ze.date(),8,0,0]).toDate()}function kr({now:Q}={}){const Pe=e(85928),Ze=Q?Pe(Q):Pe();let ut=Ze.utc().startOf("day").add(5,"hour");return ut.isBefore(Ze)&&(ut=ut.utc().add(1,"day")),ut}function xr(Q){const Pe=Math.round(Q/60),Ze=Math.floor(Pe/60),ut=Pe%60;return`${Ze?`${Ze}HR `:""}${ut}M`}function Mr(Q){const Pe=Q.toLowerCase()[0];return["a","e","i","o","u"].includes(Pe)}function gr(Q){return Q.toLowerCase().startsWith("uni watch")?"a":Mr(Q)?"an":"a"}function Vr(Q){return`${gr(Q)} ${Q}`}function Yr(Q){return Q.split("").reduce((Pe,Ze)=>(Pe<<5)-Pe+Ze.charCodeAt(0)|0,0)}function V(Q){return Math.abs(Q)>9999?`${Math.sign(Q)*(Math.abs(Q)/1e3).toFixed(1)}K`:(Math.sign(Q)*Math.abs(Q)).toString()}function K({recommendedPubs:Q}){let Pe=null;for(const Ze of Q){for(const ut of Ze.recommendations)if(ut.hasOwnProperty("blurb")&&ut.blurb){Pe=`${ut.name} recommended ${Ze.name}`;break}if(Pe)break}return Pe!=null?Pe:"Recommendations from your Substacks"}function ne(Q,Pe="en"){const{iString:Ze}=I18N.i(Pe);return Q.metadata.short_description?Ze(Q.metadata.short_description):Q.interval==="year"?Ze("Annual"):Q.interval==="forever"?Ze("Founding Membership"):Q.interval==="month"&&Q.interval_count===3?Ze("Quarterly"):Q.interval==="month"&&Q.interval_count===6?Ze("Semiannually"):Q.interval==="day"?Ze("Daily"):Q.interval==="week"?Ze("Weekly"):Ze("Monthly")}const fe=({minLength:Q,maxLength:Pe,minAlphaNumeric:Ze}={})=>ut=>{if(!ut)return"Missing input";if(Q&&ut.length<Q)return`Must be at least ${Q} characters long`;if(Pe&&ut.length>Pe)return`Must be at most ${Pe} characters long`;const It=new RegExp("\\P{P}|`","gu"),Ft=ut.match(It);if(!Ft||(Ft==null?void 0:Ft.length)<(Ze!=null?Ze:Q))return`Must contain at least ${Ze!=null?Ze:Q} non-punctuation characters`;const Ht=["`"];let hn=0;return Ft.forEach(Kt=>{Ht.includes(Kt)&&(hn+=1)}),Ft.length-hn<(Ze!=null?Ze:Q)?`Must contain at least ${Ze!=null?Ze:Q} non-punctuation characters`:null};function xe(Q,Pe){const Ze=process.env[Q],ut=typeof Ze!="undefined",It=typeof Pe!="undefined";if(ut)return Ze;if(It)return Pe;throw new Error(`Missing required env var ${Q}`)}function Re(Q,{maxWidth:Pe=55,maxLines:Ze=2,charWidth:ut=1}={}){const It=[];let Ft="",Ht=0;const hn=Q.split(" ");for(const Kt of hn){const Pr=Kt.length*ut;if(Ht+Pr<=Pe)Ft?(Ft+=` ${Kt}`,Ht+=Pr+ut):(Ft=Kt,Ht=Pr);else if(It.push(Ft),Ft=Kt,Ht=Pr,It.length===Ze)break}if(It.length===Ze&&Ft){const Kt=Pe-Ht;Kt>=3?Ft+="...":Ft=`${Ft.substring(0,Ft.length-(3-Kt))}...`,It[Ze-1]=Ft}else Ft&&It.push(Ft);return It}function nt(){return typeof window!="undefined"&&("ontouchstart"in window||navigator.maxTouchPoints>0)}},32542:z=>{"use strict";const u={is_www:!0,id:0,name:"Substack",subdomain:"www",copyright:"Substack Inc.",mailing_address:`548 Market Street PMB 72296
San Francisco, CA 94104`,email_from:"no-reply@substack.com",email_from_name:"Substack",logo_url:"/img/substack.png?v=3",language:"en"};z.exports=u},25597:(z,u,e)=>{"use strict";e.d(u,{Z:()=>v});var o=e(6400),f=e(13639),l=e(36377),c=e(11851);const v=({audience:E,className:y,size:p=16,isStatic:O,thin:S})=>E==="only_paid"?S?(0,o.h)(c.Z,{className:y,height:p,isStatic:O}):(0,o.h)(f.Z,{className:y,size:p}):E==="founding"?(0,o.h)(l.Z,{className:y,height:p,isStatic:O,strokeWidth:1}):null},45809:(z,u,e)=>{"use strict";e.d(u,{M:()=>l});var o=e(6400),f=e(28488);function l({array:c,limit:g,formatter:v=E=>E}){const E=c.map(v).filter(Boolean).slice(0,g),{iString:y,iPlural:p}=(0,f.M1)(),O=y("and");if(E.length===0)return p("one person","%1 people",c.length);if(E.length===1)return E[0];if(E.length===2)return(0,o.h)(o.Fragment,null,E[0]," ",O," ",E[1]);const S=E.slice(0,-1).map(T=>(0,o.h)(o.Fragment,null,T,", ")),x=c.length-E.length;return x>0?(0,o.h)(o.Fragment,null,S,p("and 1 other","and %1 others",x)):(0,o.h)(o.Fragment,null,S,O," ",E[E.length-1])}},85344:(z,u,e)=>{"use strict";e.d(u,{q:()=>O});var o=e(6400),f=e(30396),l=e(94184),c=e.n(l),g=e(51126),v=e(43887),E=e(11688),y=e(79786);const p={imageGroup:"frontend-components-ImageGroup-module__imageGroup--N55yp","size-1":"frontend-components-ImageGroup-module__size-1--EVxKh",image:"frontend-components-ImageGroup-module__image--cgeFj","size-2":"frontend-components-ImageGroup-module__size-2--kYsLh","size-4":"frontend-components-ImageGroup-module__size-4--sTBe7","size-3":"frontend-components-ImageGroup-module__size-3--LQidT","size-5":"frontend-components-ImageGroup-module__size-5--SiIKW","size-6":"frontend-components-ImageGroup-module__size-6--iu7m1",restack:"frontend-components-ImageGroup-module__restack--sb0nG",preview:"frontend-components-ImageGroup-module__preview--aPqb2",topLeft:"frontend-components-ImageGroup-module__topLeft--I8LpZ",topRight:"frontend-components-ImageGroup-module__topRight--C1nVv",bottomLeft:"frontend-components-ImageGroup-module__bottomLeft--HTMkw",bottomLeftChat:"frontend-components-ImageGroup-module__bottomLeftChat--NyOFh",bottomRight:"frontend-components-ImageGroup-module__bottomRight--ow5mf",clickable:"frontend-components-ImageGroup-module__clickable--Px1BR",imageCount:"frontend-components-ImageGroup-module__imageCount--UiE8S"};function O({className:x,assets:T,readOnly:_,isRestack:d,isPreview:s,onClick:w,aspect:P}){let I=T;T.length>6&&(I=I.slice(0,5));const[D,N]=(0,f.eJ)(null),C=(A,L)=>{A.preventDefault(),N({index:L})};return(0,o.h)(g.hs,{className:c()(p.imageGroup,p[`size-${Math.min(T.length,6)}`],d&&p.restack,s&&p.preview,x),alignSelf:"stretch",gap:4},I.map((A,L)=>(0,o.h)(S,{key:A,asset:A,index:L,total:T.length,readOnly:_,aspect:P,onClick:_?void 0:U=>{U.preventDefault(),w&&w(),C(U,L)}})),T.length>6&&(0,o.h)(S,{asset:T[6],index:5,total:6,count:T.length-I.length,readOnly:_,onClick:w,aspect:P}),!_&&(0,o.h)(E.cr,{module:"./ImageViewerModal",resolve:A=>A.ImageViewerModal,onRequest:()=>e.e(661).then(e.bind(e,55661)),showModal:!!D,modalContent:T.map(A=>({attrs:{src:A}})),onClose:()=>{N(null)},step:D?D.index:void 0,includeDownloadButton:!1}))}function S({asset:x,onClick:T,index:_,total:d,count:s,readOnly:w,aspect:P}){return(0,o.h)(g.hs,{className:c()(p.image,!w&&p.clickable,_===0&&p.topLeft,(_===0&&d===1||_===1&&d===2||_===1&&d===4||_===2&&d!==4)&&p.topRight,(_===0&&d<=3||_===2&&d===4||_===3&&d>4)&&p.bottomLeft,(_+1===d||_==2&&d===5)&&p.bottomRight),flex:"grow",radius:6,onClick:T},(0,o.h)(y.e,{src:x,maxWidth:1e3,imageProps:{aspect:P||"1:1",smartCrop:!0,portraitCrop:d===1}}),s!=null&&(0,o.h)(g.hs,{className:p.imageCount,justifyContent:"center",alignItems:"center"},(0,o.h)(v.xv.H2,{color:"bg-light"},"+",s)))}},55661:(z,u,e)=>{"use strict";e.r(u),e.d(u,{ImageViewerContents:()=>w,ImageViewerModal:()=>s});var o=e(6400),f=e(30396),l=e(94184),c=e.n(l),g=e(2564),v=e(56743),E=e(71375),y=e(71212),p=e(15045),O=e(39419),S=e(92271),x=e(51126),T=e(62246),_=e(15822);const d={chrome:"frontend-components-ImageViewerModal-module__chrome--gsoD8",inactive:"frontend-components-ImageViewerModal-module__inactive--Sgv0p",modalImageButtonContainer:"frontend-components-ImageViewerModal-module__modalImageButtonContainer--ln8Of",modalImageButton:"frontend-components-ImageViewerModal-module__modalImageButton--iFgnX",modalImageSidebar:"frontend-components-ImageViewerModal-module__modalImageSidebar--tfJya",modalBody:"frontend-components-ImageViewerModal-module__modalBody--gyZLM",imgContainer:"frontend-components-ImageViewerModal-module__imgContainer--WVmHg",img:"frontend-components-ImageViewerModal-module__img--gfPkO",isLoading:"frontend-components-ImageViewerModal-module__isLoading--bv0nq",moreOptionsMenu:"frontend-components-ImageViewerModal-module__moreOptionsMenu--lE2ip",moreOptionsMenuItem:"frontend-components-ImageViewerModal-module__moreOptionsMenuItem--T6aTx",zIndexStyling:"frontend-components-ImageViewerModal-module__zIndexStyling--CCZCY"};function s({showModal:D,modalContent:N,onClose:C,step:A,includeDownloadButton:L=!0}){(0,f.d4)(()=>{D?(document.body.style.backgroundColor="black",document.body.style.transform="background-color 0.2s"):document.body.style.removeProperty("background-color")},[D]);const U=W=>{W.stopPropagation(),C()};return(0,o.h)(T.u_,{isOpen:D,onClose:C,position:"full",opacity:"dark",onEscape:U},(0,o.h)(w,{modalContent:N,onClose:C,stepDefault:A,includeDownloadButton:L}))}function w({modalContent:D=[],onClose:N,stepDefault:C,includeDownloadButton:A}){const[L,U]=(0,f.eJ)(C),[W,G]=(0,f.eJ)(!0),$=(0,O.isMobileBrowser)(),q=re=>{re.currentTarget===re.target&&N()},[J,R]=(0,f.eJ)(!1);(0,f.d4)(()=>{if(!$){let re;const ae=be=>{const{key:_e}=be;["ArrowRight","ArrowDown"].includes(_e)?(ie(),be.stopPropagation()):["ArrowLeft","ArrowUp"].includes(_e)&&(j(),be.stopPropagation())},se=be=>{(be==null?void 0:be.type)==="keydown"&&ae(be),clearTimeout(re),R(!1),re=setTimeout(()=>{R(!0)},2e3)};return window.addEventListener("pointermove",se,{capture:!0,passive:!0}),window.addEventListener("pointerdown",se,{capture:!0,passive:!0}),window.addEventListener("keydown",se,{capture:!0,passive:!0}),se(),()=>{clearTimeout(re),window.removeEventListener("pointermove",se,{capture:!0}),window.removeEventListener("pointerdown",se,{capture:!0}),window.removeEventListener("keydown",se,{capture:!0})}}},[$,L]);const j=()=>{L!==0&&(U(L-1),G(!0))},ie=()=>{L!==D.length-1&&(U(L+1),G(!0))},le=D[L],{attrs:{src:ye,alt:ue,title:oe}}=le,te=$?8:16,Z="#FFFFFF";return(0,o.h)(o.Fragment,null,(0,o.h)("div",{className:c()(d.chrome,J&&d.inactive)},L<D.length-1&&(0,o.h)(P,{buttonFunction:ie,style:{right:0,padding:te},isSidebar:!0,icon:(0,o.h)(g.Z,{size:20,strokeWidth:2,stroke:Z})}),L>0&&(0,o.h)(P,{buttonFunction:j,style:{left:0,padding:te},isSidebar:!0,icon:(0,o.h)(v.Z,{size:20,strokeWidth:2,stroke:Z})}),(0,o.h)(P,{buttonFunction:N,style:{position:"absolute",right:te,top:te},isSidebar:!1,icon:(0,o.h)(E.Z,{size:20,strokeWidth:2,stroke:Z})}),A&&(0,o.h)(P,{buttonFunction:re=>{re.stopPropagation(),I(oe,ye)},style:{position:"absolute",left:te,top:te},isSidebar:!1,icon:(0,o.h)(y.Z,{size:20,strokeWidth:2,stroke:Z})})),(0,o.h)("div",{className:d.imgContainer,onClick:q},(0,o.h)("img",{className:c()(d.img,W&&d.isLoading),onLoad:()=>{G(!1)},alt:ue,title:oe,src:(0,p.imginary)(ye,void 0,{quality:"auto:good"}),key:ye,onClick:q})),W&&(0,o.h)("div",{style:{position:"absolute",top:"50%",left:"50%"}},(0,o.h)(_.S,{className:d.imgDrunkSpin})))}function P({buttonFunction:D,style:N,isSidebar:C,icon:A,tetherRef:L}){return(0,o.h)(x.hs,{className:c()(d.modalImageButtonContainer,C?d.modalImageSidebar:null),style:N,alignItems:"center",justifyContent:"center",onClick:D,ref:L},(0,o.h)(S.z,{className:d.modalImageButton,look:"circle"},A))}function I(D,N){const C=document.createElement("a");return document.body.appendChild(C),C.href=N,C.target="_blank",C.click(),document.body.removeChild(C),null}},35442:(z,u,e)=>{"use strict";e.r(u),e.d(u,{Metadata:()=>x});var o=e(6400),f=e(53836),l=e.n(f),c=e(15045),g=e(63030),v=Object.defineProperty,E=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,O=(_,d,s)=>d in _?v(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,S=(_,d)=>{for(var s in d||(d={}))y.call(d,s)&&O(_,s,d[s]);if(E)for(var s of E(d))p.call(d,s)&&O(_,s,d[s]);return _};function x({badge:_,title:d,socialTitle:s,searchDescription:w,description:P,themeColor:I,image:D,seoProps:N,isLargeImage:C=!1,imageWidth:A,imageHeight:L,isPodcast:U=!1,isVideo:W=!1,slug:G,pub:$,post:q,siteName:J,publishedTime:R,meta:j=[],siteConfigs:ie={},appUpsellLink:le}){const ye={meta:[...j,{property:"og:type",content:"article"}]};_&&(ye.titleTemplate=`(${_}) %s`),d&&(ye.title=d,ye.meta.push({property:"og:title",content:s||d},{name:"twitter:title",content:s||d})),(P||w)&&ye.meta.push({name:"description",content:w||P},{property:"og:description",content:P},{name:"twitter:description",content:P}),I&&ye.meta.push({name:"theme-color",content:I});const ue=!!$&&$.invite_only,oe=!!q&&q.audience==="everyone",te=!ue&&oe,Z=te&&ie.twitter_player_card_enabled,re=($==null?void 0:$.subdomain)&&T.includes($.subdomain)&&te;if(U&&$&&q){const ae=(0,g.getPodcastEpisodeImageUrl)($,q);ae&&(D=(0,c.imginary)(ae,1200,{height:600,smartCrop:!0,format:"jpg"}),C=!0)}if(D){let ae="summary";C&&(ae="summary_large_image"),(U&&Z||W&&re)&&(ae="player"),ye.meta.push({property:"og:image",content:D},{name:"twitter:image",content:D},{name:"twitter:card",content:ae}),A&&ye.meta.push({property:"og:image:width",content:A}),L&&ye.meta.push({property:"og:image:height",content:L})}if(N){const ae=Object.entries(N).filter(([se,be])=>be).map(([se])=>se).join(", ");ae&&ye.meta.push({name:"robots",content:ae})}return $!=null&&$.explicit&&ye.meta.push({name:"rating",content:"adult"}),U&&Z&&ye.meta.push({name:"twitter:player",content:`${(0,c.getBaseUrl)($)}/embed/podcast/${G}?autoplay=1`},{name:"twitter:player:width",content:"1"},{name:"twitter:player:height",content:"1"},{name:"twitter:text:player_width",content:"1"},{name:"twitter:text:player_height",content:"1"}),W&&re&&ye.meta.push({name:"twitter:player",content:`${(0,c.getBaseUrl)($)}/embed/video/${G}?autoplay=1`},{name:"twitter:player:width",content:"16"},{name:"twitter:player:height",content:"9"},{name:"twitter:text:player_width",content:"16"},{name:"twitter:text:player_height",content:"9"}),J&&ye.meta.push({property:"og:site_name",content:J}),R&&ye.meta.push({property:"og:published_time",content:R}),le&&ye.meta.push({name:"apple-itunes-app",content:`app-id=1581650857, app-argument=${le}`}),(0,o.h)(l(),S({},ye))}const T=["pinespodcast","test1"]},74285:(z,u,e)=>{"use strict";e.d(u,{X:()=>g,h:()=>v});var o=e(6400),f=e(98661),l=e(30396);const c=(0,o.createContext)(null);function g({root:E,children:y}){const p=(0,l.sO)(E);return(0,o.h)(c.Provider,{value:p},y,!E&&(0,o.h)("div",{ref:p}))}function v({children:E}){const y=(0,l.qp)(c).current;return y?(0,f.createPortal)(E,y):null}},55489:(z,u,e)=>{"use strict";e.d(u,{s:()=>L});var o=e(6400),f=e(30396),l=e(94184),c=e.n(l),g=e(31131),v=e(28596),E=e(99869),y=e(82626),p=e(68227),O=e(36543),S=e(17835),x=e(9e3),T=e(66839),_=e(56838),d=e(91004),s=e(3258),w=e(58884),P=e(39419),I=e(13045),D=e(4190),N=e(28488);const C={newMenuItemContainer:"frontend-components-PostShareDropdown-module__newMenuItemContainer--pi2D2",divider:"frontend-components-PostShareDropdown-module__divider--oId4n",offset:"frontend-components-PostShareDropdown-module__offset--ekxJ6",shareIconContainer:"frontend-components-PostShareDropdown-module__shareIconContainer--PlGwp",dropdownMenu:"frontend-components-PostShareDropdown-module__dropdownMenu--oPk6X"};var A=(G,$,q)=>new Promise((J,R)=>{var j=ye=>{try{le(q.next(ye))}catch(ue){R(ue)}},ie=ye=>{try{le(q.throw(ye))}catch(ue){R(ue)}},le=ye=>ye.done?J(ye.value):Promise.resolve(ye.value).then(j,ie);le((q=q.apply(G,$)).next())});function L({post:G,user:$,pub:q,trigger:J,instagramExperimentActive:R,onChange:j,toggleInstagramModal:ie,position:le}){const{iString:ye}=(0,N.M1)(),{exposeExperiment:ue,getExperimentVariant:oe}=(0,D.jc)(),te=(0,d.O1)(null,{post:G,pub:q,user:$,useCustomDomainOverOpen:!0}),Z=(0,d.B8)({post:G,pub:q}),re={title:Z,url:te},ae=(0,P.isMobileBrowser)()&&navigator.share&&navigator.canShare&&navigator.canShare(re),[se,be]=(0,f.eJ)(ae),_e=()=>A(this,null,function*(){var _t;if((0,s.j)(s.FP.POST_SHARE_BUTTON_CLICKED,{position:le}),R&&ue("instagram_post_sharing"),ae&&se)try{yield navigator.share(re),(0,s.j)(s.FP.NATIVE_SHARE_SUCCESS,{medium:"web",post_id:(_t=G.id)!=null?_t:null,utm_campaign:"default"}),(0,w.ex)(`${q.subdomain} shared`,!0);return}catch(we){if(!(we instanceof Error)||we.name==="AbortError")return;be(!1),(0,s.j)(s.FP.NATIVE_SHARE_FAILED,{errorName:we.name,errorMessage:we.message})}}),pe=()=>{(0,d.Wn)({shareUrl:te,shareName:Z,pub:q,post:G,utm_campaign:le}),j==null||j()},me=()=>{(0,d.Po)({shareUrl:te,pub:q,post:G,utm_campaign:le}),j==null||j()},Te=()=>{(0,d.lc)({shareUrl:te,pub:q,post:G,utm_campaign:le}),j==null||j()},ve=()=>{(0,d.BZ)({shareUrl:te,pub:q,post:G,utm_campaign:le}),j==null||j()},ce=()=>{(0,d.WZ)({shareUrl:te,shareName:Z,pub:q,post:G,utm_campaign:le}),j==null||j()},Le=()=>{(0,d.Ui)({shareUrl:te,pub:q,post:G,utm_campaign:le}),j==null||j()},Ne=()=>{ie==null||ie(),(0,s.j)(s.FP.SHARE_LINK_CLICKED,{name:"instagram",post_id:G.id,source:le}),j==null||j()},He=R&&oe("instagram_post_sharing"),ze=He&&["treatment_new","treatment_default"].includes(He);let Xe;if(U(J))Xe=J;else if(W(J)){let _t;G.share_url_override?_t=G.share_url_override:J.isStatic?G?_t=y.Substitutions.SHARE_URL:_t=y.Substitutions.SHARE_PUB_URL:_t="javascript:void(0)";const we=J.labelStyle==="none";Xe=(0,o.h)(_.Ng,{style:J.style,icon:we?(0,o.h)(g.Z,{className:"icon",height:(0,_.Su)(J.style),strokeWidth:_.PA}):null,href:_t,noLabel:J.labelStyle==="none",className:c()(!we&&"no-icon")},J.labelStyle==="cta"&&ye("Share"))}return(0,o.h)(I.v2,{trigger:Xe,onOpen:_e,useMobileBottomSheet:!0,disableMenu:se,layerOptions:{placement:le==="pub-preview"?"bottom-start":"bottom-end",preferX:le==="pub-preview"?"right":"left"},className:C.dropdownMenu},(0,o.h)(I.sN,{icon:(0,o.h)(x.Z,{height:24}),onClick:ve},(0,o.h)(I.gq,{justifyContent:"space-between",alignItems:"center"},ye("Share to Notes"),(!R||!ze)&&(0,o.h)(I.hs,{className:C.newMenuItemContainer,paddingX:6,height:20,alignItems:"center",justifyContent:"center"},(0,o.h)(I.xv.B4,{translated:!0,size:11,weight:"semibold",color:"bg-light"},"NEW")))),ze&&(0,o.h)(I.sN,{icon:(0,o.h)(O.Z,{height:24}),onClick:Ne},(0,o.h)(I.gq,{justifyContent:"space-between",alignItems:"center"},ye("Share to Instagram"),He==="treatment_new"&&(0,o.h)(I.hs,{className:C.newMenuItemContainer,paddingX:6,height:20,alignItems:"center",justifyContent:"center"},(0,o.h)(I.xv.B4,{translated:!0,size:11,weight:"semibold",color:"bg-light"},"NEW")))),(0,o.h)(I.sN,{icon:(0,o.h)(T.Z,{height:24}),onClick:pe},ye("Share to Twitter")),(0,o.h)(I.sN,{icon:(0,o.h)(p.Z,{height:24}),onClick:me},ye("Share to Facebook")),(0,o.h)(I.sN,{icon:(0,o.h)(S.Z,{height:24}),onClick:Te},ye("Share to Linkedin")),(0,o.h)("div",{className:C.divider}),(0,o.h)(I.sN,{icon:(0,o.h)(I.hs,{className:C.shareIconContainer,alignItems:"center",justifyContent:"center",radius:12},(0,o.h)(v.Z,{className:C.offset,size:14,stroke:"var(--color-dark-primary)",strokeWidth:3})),onClick:ce},ye("Send as email")),(0,o.h)(I.sN,{icon:(0,o.h)(I.hs,{className:C.shareIconContainer,justifyContent:"center",alignItems:"center",radius:12},(0,o.h)(E.Z,{size:14,stroke:"var(--color-dark-primary)",strokeWidth:3})),onClick:Le},ye("Copy link")))}function U(G){return G.type!==void 0}function W(G){const $=G;return $.style!==void 0&&$.labelStyle!==void 0}},80387:(z,u,e)=>{"use strict";e.d(u,{Z:()=>s});var o=e(6400),f=e(30396),l=e(94184),c=e.n(l),g=e(98661),v=e(39419),E=e(15045),y=e(76193),p=e(3258),O=e(33510),S=e(40946);const x={root:"frontend-components-PressKitImage-module__root--ERwr7",sharePage:"frontend-components-PressKitImage-module__sharePage--vXr1v",tableRoot:"frontend-components-PressKitImage-module__tableRoot--UpSpd",link:"frontend-components-PressKitImage-module__link--rLFgG",image:"frontend-components-PressKitImage-module__image--MPbfI",download:"frontend-components-PressKitImage-module__download--qS9sv",inline:"frontend-components-PressKitImage-module__inline--zFs8S",secondaryBorder:"frontend-components-PressKitImage-module__secondaryBorder--gmc0v",imageLoading:"frontend-components-PressKitImage-module__imageLoading--QMvSN",imageEmail:"frontend-components-PressKitImage-module__imageEmail--AKxV9",text:"frontend-components-PressKitImage-module__text--qms7L"};var T=(w,P,I)=>new Promise((D,N)=>{var C=U=>{try{L(I.next(U))}catch(W){N(W)}},A=U=>{try{L(I.throw(U))}catch(W){N(W)}},L=U=>U.done?D(U.value):Promise.resolve(U.value).then(C,A);L((I=I.apply(w,P)).next())});const _=({pub:w,post:P,style:I,text:D,inline:N,sharePage:C})=>{const[A,L]=(0,f.eJ)(""),[U,W]=(0,f.eJ)(""),[G,$]=(0,f.eJ)(!1),[q,J]=(0,f.eJ)({});(0,f.d4)(()=>{(0,y.isMobile)()&&navigator.share&&navigator.canShare(q)&&$(!0)},[q]),(0,f.d4)(()=>{function j(){return T(this,null,function*(){L("");const ie=(0,E.getPressKitUrl)(w,P,I);if((0,v.preloadImage)((0,E.getPressKitUrl)(w,P,I),()=>{L(ie),W((0,E.getPressKitUrl)(w,P,I,`${D}${I.aspectRatio?` - ${I.aspectRatio}`:""}`))}),(0,y.isMobile)()){const le=yield fetch(ie);J({title:"Share this post",text:P.title,files:[new File([yield le.blob()],"image.png",{type:"image/png"})],url:(0,E.getPostUrl)(w,P)})}})}j()},[W,L,w,P,I,D]);const R=(0,g.useCallback)(()=>{if((0,p.j)(p.FP.WRITER_MEDIA_ASSETS_IMAGE_DOWNLOADED,{post_id:P.id,type:D,aspectRatio:I.aspectRatio,share_center:C,inline:!!N}),G&&q)try{navigator.share(q)}catch(j){}},[P,D,I,C,N,G,q]);return(0,o.h)("a",{onClick:R,href:G?void 0:U,alt:"Download Image",download:!0,className:x.link,target:"_blank"},(0,o.h)("div",{className:c()(x.root,{[x.sharePage]:C})},!(0,y.isMobile)()&&(0,o.h)("div",{className:x.download},(0,o.h)(S.Z,{stroke:"#404040",fill:"white"})),!A&&(0,o.h)("div",{className:c()(x.image,x.imageLoading,{[x.secondaryBorder]:C}),alt:"Loading"},(0,o.h)(O.Sv,null)),A&&(0,o.h)("img",{src:A,className:c()(x.image,{[x.inline]:N,[x.sharePage]:C&&!N,[x.secondaryBorder]:C})})))},d=({pub:w,post:P,style:I,text:D,downloadUrl:N})=>h("table",{className:PressKitCss.tableRoot},h("tr",null,h("td",null,h("a",{href:N||getPressKitUrl(w,P,I,"image"),alt:"Download Image",download:!0,target:"_blank",className:PressKitCss.link},h("img",{src:getPressKitUrl(w,P,I),className:PressKitCss.imageEmail}))))),s=_},80332:(z,u,e)=>{"use strict";e.d(u,{Ct:()=>pe,L0:()=>_e,PP:()=>We});var o=e(6400),f=e(30396),l=e(94184),c=e.n(l),g=e(32224),v=e(77883),E=e(15045),y=e(20501),p=e(76193),O=e(83322),S=e(4190),x=e(58718),T=e(28488),_=e(92643),d=e(67963),s=e(69518),w=e(60779),P=e(59386),I=e(3258),D=e(69229),N=e(84040),C=e(48960),A=e(51126),L=e(94016),U=e(43887),W=e(10186),G=e(55886),$=e(68262),q=e(44695),J=e(45809),R=e(27797),j=Object.defineProperty,ie=Object.defineProperties,le=Object.getOwnPropertyDescriptors,ye=Object.getOwnPropertySymbols,ue=Object.prototype.hasOwnProperty,oe=Object.prototype.propertyIsEnumerable,te=(et,ht,vt)=>ht in et?j(et,ht,{enumerable:!0,configurable:!0,writable:!0,value:vt}):et[ht]=vt,Z=(et,ht)=>{for(var vt in ht||(ht={}))ue.call(ht,vt)&&te(et,vt,ht[vt]);if(ye)for(var vt of ye(ht))oe.call(ht,vt)&&te(et,vt,ht[vt]);return et},re=(et,ht)=>ie(et,le(ht)),ae=(et,ht)=>{var vt={};for(var Lt in et)ue.call(et,Lt)&&ht.indexOf(Lt)<0&&(vt[Lt]=et[Lt]);if(et!=null&&ye)for(var Lt of ye(et))ht.indexOf(Lt)<0&&oe.call(et,Lt)&&(vt[Lt]=et[Lt]);return vt};const se=3,be=1;function _e(et){return!!et.id&&!!et.name}function pe(et){var ht=et,{dontStopPropagation:vt,inline:Lt,children:$t}=ht,yt=ae(ht,["dontStopPropagation","inline","children"]);const he=me(yt);return(0,p.isMobile)()?(0,o.h)(o.Fragment,null,$t):(0,o.h)("div",re(Z(Z({className:c()("profile-hover-card-target",R.Z.profileHoverCardTarget,Lt&&R.Z.inline,yt.className&&yt.className)},he.triggerProps),he.hoverProps),{onClick:je=>{vt||je.stopPropagation()}}),$t,he.layer)}function me(et){var ht=et,{subject:vt,utmSource:Lt,placement:$t}=ht,yt=ae(ht,["subject","utmSource","placement"]);const{loading:he,refetch:je,viewerProfile:st,subjectProfile:De}=(0,_.Un)({subjectId:(vt==null?void 0:vt.author_id)||(vt==null?void 0:vt.user_id)||(vt==null?void 0:vt.id),subjectName:(vt==null?void 0:vt.name)||"Substack user",delayLoading:!0}),Be=vt&&st&&(vt==null?void 0:vt.id)===st.id,Ke=vt==null?void 0:vt.id,it=(0,f.I4)(()=>{var Ae;Ke&&!De&&je(Ke);const H=(((Ae=De==null?void 0:De.publicationUsers)==null?void 0:Ae.length)||0)>0;De&&(0,I.j)(I.FP.ACCOUNT_CARD_SHOWN,{profile_user_id:De.id,is_self:!!Be,has_publication:!!H})},[je,Ke,De,Be]),Qe=(0,L.o)(Z({className:R.Z.profileHoverCard,onOpen:it,loading:he&&!De,hideOnScroll:!0,layerOptions:{placement:$t!=null?$t:"right-center"},content:De?(0,o.h)(We,{profile:De,subject:vt,utmSource:Lt,forceRefresh:()=>je(Ke)}):null},yt));return(0,p.isMobile)()?{layer:null,hoverProps:null,triggerProps:null}:Qe}const Te="account-card";function ve(et){let ht=[];et&&et.subscriptions&&(ht=(0,O.sortSubscriptions)(et.subscriptions.filter(Lt=>!!Lt)));let vt=null;return ht.length>se&&(vt=`See all (${(0,O.numberToString)(ht.length)})`),ht=ht.slice(0,se),{subscriptions:ht,moreSubsLabel:vt}}function ce(et){let ht=[];et&&et.publicationUsers&&(ht=et.publicationUsers.filter(Lt=>!!Lt),ht=ht&&(0,D.b)(ht));let vt=null;return ht.length>be&&(vt=`See all (${(0,O.numberToString)(ht.length)})`),ht=ht.slice(0,be),{publications:ht,morePubsLabel:vt}}function Le({pub:et,isWrites:ht,isFounding:vt,isPaid:Lt,utmSource:$t}){const yt=(0,E.getPubUrl)(et,{params:{utm_source:$t||Te,utm_content:ht?"writes":"reads"},signedIn:!!(0,d.aF)()});return et?(0,o.h)("a",{href:yt,target:"_blank",onClick:()=>{(0,I.j)(ht?I.FP.ACCOUNT_CARD_WRITES_LINK_CLICKED:I.FP.ACCOUNT_CARD_READS_LINK_CLICKED),(0,I.x6)(et,"hover_profile")},className:R.Z.hoverCardAvatar,rel:"noopener"},(0,o.h)($.F,{pub:et,size:32,badgeType:vt?"founder":Lt?"subscribed":null}),(0,o.h)(U.xv.B4,{weight:"medium",title:et.name},et.name)):null}function Ne({pub:et,utmSource:ht}){const vt=(0,E.getPubUrl)(et,{params:{utm_source:ht||Te,utm_content:"writes"},signedIn:!!(0,d.aF)()}),Lt=(0,O.getByLine)(et);return(0,o.h)(A.tu,{as:"a",href:vt,target:"_blank",onClick:()=>{(0,I.j)(I.FP.ACCOUNT_CARD_WRITES_LINK_CLICKED),(0,I.x6)(et,"hover_profile")},rel:"noopener",padding:12,gap:12,className:R.Z.writesCard,radius:12},(0,o.h)(A.gq,{gap:12},(0,o.h)($.F,{pub:et,size:40}),(0,o.h)(A.tu,{flex:"grow",minWidth:0,justifyContent:"center"},(0,o.h)(U.xv.B4,{weight:"semibold"},et.name),Lt&&(0,o.h)(U.xv.B4,{translated:!0,color:"secondary"},"By ",I18N.p(Lt)))),et.hero_text&&(0,o.h)(U.xv.B4,{color:"secondary",clamp:3},et.hero_text))}function He({subject:et,subscriptions:ht,moreSubsLabel:vt,utmSource:Lt}){const{iString:$t}=(0,T.M1)();return(0,o.h)(A.tu,null,(0,o.h)(q.GF,{sectionTitle:$t("Reads"),seeAllLabel:vt,link:Ie(et,{utmSource:Lt})}),(0,o.h)(A.tu,null,ht.map(yt=>(0,o.h)(Le,{pub:yt.publication,isPaid:yt.membership_state==="subscribed",isFounding:yt.is_founding,utmSource:Lt}))))}function ze({publication:et,utmSource:ht}){return et?(0,o.h)(Ne,{pub:et,utmSource:ht}):null}function Xe({pub:et,profileId:ht,isSubscribed:vt,user:Lt,utmSource:$t,forceRefreshCard:yt}){const{iString:he}=(0,T.M1)(),{getExperimentVariant:je,exposeExperiment:st}=(0,S.jc)(),{isLoading:De,subscribe:Be}=(0,v.G)({publication:et,profileId:ht,source:$t!=null?$t:"profile-card",onSuccess:()=>{yt()}}),Ke=et?(0,y.getSubscribeUrl)(et,{user:Lt,addBase:!0,params:{utm_source:$t||Te,utm_content:"subscribes",next:document.location.href}}):"";return et&&(vt?(0,o.h)(N.zx,{priority:"secondary",fill:"outline",href:Ke,rounded:!0,onClick:()=>{(0,I.j)(I.FP.ACCOUNT_CARD_SUBSCRIBE_CLICKED),(0,I.x6)(et,"hover_profile")},title:et.name},he("Subscribed")):$t==="feed"&&Lt?(0,o.h)(N.zx,{priority:"primary",rounded:!0,onClick:it=>{it.preventDefault(),Be()},title:et.name,disabled:De},(0,o.h)(A.gq,{alignItems:"center",gap:8},(0,o.h)(g.Z,{size:20}),he("Subscribe"))):(0,o.h)(N.zx,{priority:"primary",href:Ke,localNavigation:!1,rounded:!0,onClick:()=>{(0,I.j)(I.FP.ACCOUNT_CARD_SUBSCRIBE_CLICKED),(0,I.x6)(et,"hover_profile")},title:et.name},(0,o.h)(A.gq,{alignItems:"center",gap:8},(0,o.h)(g.Z,{size:20}),he("Subscribe"))))}function _t({profile:et}){const{isFollowing:ht,buttonProps:vt,css:Lt}=(0,x.yr)(et,"hover-card");return(0,o.h)(N.hU,Z({fill:"outline"},vt),ht?(0,o.h)(o.Fragment,null,(0,o.h)(s.$,{className:Lt.off}),(0,o.h)(P.m,{className:Lt.on})):(0,o.h)(w.w,null))}function we({profile:et}){const{isFollowing:ht,buttonProps:vt}=(0,x.yr)(et,"hover-card"),{iString:Lt}=(0,T.M1)();return(0,o.h)(N.zx,Z({fill:"outline",priority:"primary",rounded:!0},vt),ht?(0,o.h)(o.Fragment,null,(0,o.h)(x.OK,null,Lt("Following")),(0,o.h)(x.Rc,null,Lt("Unfollow"))):Lt("Follow"))}function We({profile:et,subject:ht,themed:vt,className:Lt,utmSource:$t,hideSubscribeButtons:yt,forceRefresh:he}){var je,st;const De=(0,d.aF)(),{iString:Be}=(0,T.M1)();if(!et)return null;const{subscriptions:Ke,moreSubsLabel:it}=ve(et),{publications:Qe}=ce(et),Ae=Ie(ht,{utmSource:$t}),H=(ht==null?void 0:ht.name)||"",ee=et.primaryPublication&&((je=et.publicationUsers.find(ct=>{var wt;return ct.publication_id===((wt=et==null?void 0:et.primaryPublication)==null?void 0:wt.id)}))==null?void 0:je.publication),de=ht&&ht.id===(De==null?void 0:De.id),Ee=de&&et&&!et.profile_set_up_at,Me=Qe.length>0&&!Ee,$e=Ke.length>0&&!Ee&&!Me,dt=(st=et==null?void 0:et.handle)!=null?st:null;return(0,o.h)("div",{className:c()(R.Z.card,Lt)},(0,o.h)(A.tu,{gap:16,padding:8},(0,o.h)(A.gq,{justifyContent:"space-between"},(0,o.h)("a",{href:Ae},(0,o.h)(W.qE,{user:et,size:64})),Ee?(0,o.h)(N.zx,{priority:"secondary",fill:"outline",rounded:!0,href:(0,E.getProfileSetupUrl)({utm_source:$t||Te})},Be("Set up profile")):de?(0,o.h)(N.zx,{priority:"secondary",fill:"outline",rounded:!0,href:(0,E.getEditProfileUrl)()},Be("Edit profile")):yt?null:(0,o.h)(A.hs,{gap:4},ee?(0,o.h)(o.Fragment,null,(0,o.h)(_t,{profile:et}),(0,o.h)(Xe,{pub:ee,isSubscribed:et.isSubscribed,user:De,profileId:et.id,utmSource:$t,forceRefreshCard:he})):(0,o.h)(we,{profile:et}))),(0,o.h)(A.tu,{gap:6},(0,o.h)(q.Sz,{themed:vt,title:H,handle:dt,blurb:et.bio,url:Ae,userId:ht.id,bestsellerTier:et.bestseller_tier})),Me&&(0,o.h)(ze,{publication:ee,utmSource:$t}),$e&&(0,o.h)(o.Fragment,null,(0,o.h)(C.i,null),(0,o.h)(He,{subject:ht,subscriptions:Ke,moreSubsLabel:it,utmSource:$t})),et.mutuals&&(0,o.h)(tt,{mutuals:et.mutuals,utmSource:$t})))}function Ie(et,{utmSource:ht}={}){const vt=typeof window!="undefined"&&window.location.href.startsWith((0,y.getSubstackUrl)());return(0,E.getReaderProfileUrl)(et,{noBase:vt,utm_source:ht||Te})}function tt({mutuals:et,utmSource:ht}){const{iString:$t,iPlural:yt}=(0,T.M1)(),{paidSubscribers:he,freeSubscribers:je,recommenders:st}=et;let De,Be;he.length>0?(De="paid",Be=he):st.length>0?(De="recommended",Be=st):(De="free",Be=je);const Ke=Be.sort(it=>it.photo_url?1:-1);return Ke.length===0?null:(0,o.h)(A.hs,{paddingTop:16,alignItems:"center",gap:12,borderTop:"detail"},(0,o.h)(A.hs,{style:{paddingLeft:6}},Ke.slice(0,3).map(it=>(0,o.h)(A.hs,{as:"a",key:it.id,href:(0,E.getReaderProfileUrl)(it,{utm_source:"profile-card"})},(0,o.h)(G.t,{className:R.Z.facepileFace,src:it.photo_url||(0,E.getDefaultUserPhotoById)(it.id),size:24})))),(0,o.h)(U.xv,{font:"text",color:"secondary",size:12},De==="recommended"&&$t("Recommended by "),(0,o.h)(J.M,{array:Ke,limit:3,formatter:it=>(0,o.h)(U.hh,{href:Ie(it,{utmSource:ht})},it.name)})," ",De==="paid"?yt("is a paid subscriber","are paid subscribers",Be.length):De==="free"?yt("subscribes","subscribe",Be.length):"","."))}},96098:(z,u,e)=>{"use strict";e.d(u,{h:()=>l});var o=e(6400),f=e(61864);function l({children:c}){return(0,o.h)("div",{className:f.Z.pubTheme},c)}},35291:(z,u,e)=>{"use strict";e.d(u,{p:()=>g});var o=e(6400),f=e(94184),l=e.n(f),c=e(1602);const g=({name:v,label:E,info:y,checked:p,disabled:O,onChange:S,isRow:x=!0,className:T})=>{const _=(0,o.h)(o.Fragment,null,(0,o.h)("span",{className:l()("big-checkbox",{checked:p,disabled:O}),onClick:()=>!O&&(S==null?void 0:S(!p)),onKeyDown:d=>{d.key===" "&&(S==null||S(!p))},role:"checkbox","aria-checked":p,"aria-label":E||v,tabIndex:0},(0,o.h)(c.Z,{fill:"#ffffff"})));return(0,o.h)("label",{className:l()("big-checkbox-input",T,{"big-checkbox-input-row":x})},!x&&_,(0,o.h)("div",{onClick:()=>{(E||y)&&!O&&(S==null||S(!p))}},E,y&&(0,o.h)("div",{className:"info"},y)),x&&_,(0,o.h)("input",{type:"hidden",name:v,"data-testid":v,value:String(p)}))}},7922:(z,u,e)=>{"use strict";e.d(u,{Z:()=>P,k:()=>I});var o=e(6400),f=e(98661),l=e(94184),c=e.n(l),g=e(39419),v=e.n(g),E=Object.defineProperty,y=Object.defineProperties,p=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,S=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,T=(D,N,C)=>N in D?E(D,N,{enumerable:!0,configurable:!0,writable:!0,value:C}):D[N]=C,_=(D,N)=>{for(var C in N||(N={}))S.call(N,C)&&T(D,C,N[C]);if(O)for(var C of O(N))x.call(N,C)&&T(D,C,N[C]);return D},d=(D,N)=>y(D,p(N)),s=(D,N)=>{var C={};for(var A in D)S.call(D,A)&&N.indexOf(A)<0&&(C[A]=D[A]);if(D!=null&&O)for(var A of O(D))N.indexOf(A)<0&&x.call(D,A)&&(C[A]=D[A]);return C};const P=D=>{var N=D,{children:C,className:A=void 0,disabled:L=void 0,loading:U=void 0,type:W="button",href:G=void 0,localNavigation:$=!1,onClick:q=void 0,forwardedRef:J=void 0,newTab:R=void 0}=N,j=s(N,["children","className","disabled","loading","type","href","localNavigation","onClick","forwardedRef","newTab"]);const ie=le=>{if(L||U){le&&le.preventDefault();return}q?q(le):G?(0,g.redirect)(G,{event:le,local_navigation:$,newTab:R}):W!=="submit"&&console.log("No onClick set!")};return(0,o.h)("button",d(_({tabIndex:0},j),{type:W,className:c()("button",A,{disabled:L}),disabled:L||U,onClick:ie,ref:J}),U?"Please wait...":C)},I=(0,f.forwardRef)((D,N)=>{var C=D,{onClick:A,href:L,localNavigation:U,newTab:W}=C,G=s(C,["onClick","href","localNavigation","newTab"]);const $=L?q=>{A&&(A.call(q.target,q),q.defaultPrevented)||(0,g.redirect)(L,{event:q,local_navigation:U,newTab:W})}:A;return(0,o.h)("button",d(_({tabIndex:0},G),{ref:N,onClick:$}))})},22939:(z,u,e)=>{"use strict";e.d(u,{E:()=>f});var o=e(30396);function f(){const l=(0,o.sO)(null);return[l,()=>{var g;return(g=l.current)==null?void 0:g.toggle()}]}},43615:(z,u,e)=>{"use strict";e.d(u,{FF:()=>pe,Pn:()=>se,ZP:()=>re});var o=e(6400),f=e(30396),l=e(94184),c=e.n(l),g=e(71375),v=e(49770),E=e(58718),y=e(15045),p=e(83322),O=e(67963),S=e(62017),x=e(39419),T=e(84040),_=e(51126),d=e(62246),s=e(43887),w=e(10186),P=e(33510),I=e(44695);const D=40,N=.5*D,C=.2,A=2;function L(ve){return{width:(ve-1)*D*(1-C)+D+2*A,height:D+2*A}}function U({faces:ve}){const Le=ve.slice(0).reverse().map(({id:ze,photo_url:Xe},_t)=>({id:ze,photo_url:Xe||getDefaultUserPhotoById(ze),x:(ve.length-_t-1)*(1-C)*D+A})),{width:Ne,height:He}=L(ve.length);return h("svg",{version:"1.1",width:Ne,height:He,viewBox:`0 0 ${Ne} ${He}`,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},h("defs",null,Le.map(({id:ze,photo_url:Xe,x:_t})=>h("pattern",{id:`image-${ze}`,x:_t,y:A,patternUnits:"userSpaceOnUse",height:D,width:D},h("image",{height:D,width:D,preserveAspectRatio:"xMidYMid slice","data-clip-path":"url(#circularPhoto)",href:Xe})))),Le.map(({id:ze,x:Xe})=>h("circle",{cx:Xe+N,cy:N+A,r:N,fill:`url(#image-${ze})`,stroke:"#fff","stroke-width":A})))}var W=e(80332),G=e(79786),$=e(30105);const q={pointer:"frontend-components-Facepile-module__pointer--SkgIP",faces:"frontend-components-Facepile-module__faces--FVkdk","size-40":"frontend-components-Facepile-module__size-40--pH6IT","size-32":"frontend-components-Facepile-module__size-32--IajS_",face:"frontend-components-Facepile-module__face--uAQkp",first:"frontend-components-Facepile-module__first--TZamh",last:"frontend-components-Facepile-module__last--DT3p3",elevated:"frontend-components-Facepile-module__elevated--Cn7L9",avatar:"frontend-components-Facepile-module__avatar--VS2Ls",avatarOther:"frontend-components-Facepile-module__avatarOther--DCokj",avatarOtherIcon:"frontend-components-Facepile-module__avatarOtherIcon--zdppg",link:"frontend-components-Facepile-module__link--kCCMS",column:"frontend-components-Facepile-module__column--mfbca",row:"frontend-components-Facepile-module__row--CRJ4b",button:"frontend-components-Facepile-module__button--x3ldc"};var J=Object.defineProperty,R=Object.defineProperties,j=Object.getOwnPropertyDescriptors,ie=Object.getOwnPropertySymbols,le=Object.prototype.hasOwnProperty,ye=Object.prototype.propertyIsEnumerable,ue=(ve,ce,Le)=>ce in ve?J(ve,ce,{enumerable:!0,configurable:!0,writable:!0,value:Le}):ve[ce]=Le,oe=(ve,ce)=>{for(var Le in ce||(ce={}))le.call(ce,Le)&&ue(ve,Le,ce[Le]);if(ie)for(var Le of ie(ce))ye.call(ce,Le)&&ue(ve,Le,ce[Le]);return ve},te=(ve,ce)=>R(ve,j(ce)),Z=(ve,ce)=>{var Le={};for(var Ne in ve)le.call(ve,Ne)&&ce.indexOf(Ne)<0&&(Le[Ne]=ve[Ne]);if(ve!=null&&ie)for(var Ne of ie(ve))ce.indexOf(Ne)<0&&ye.call(ve,Ne)&&(Le[Ne]=ve[Ne]);return Le};function re(ve){var ce=ve,{faces:Le,secondaryFaces:Ne,maximum:He=5,pileLabel:ze,modalLabel:Xe,secondaryLabel:_t,secondaryHref:we,enableModal:We,className:Ie,totalCount:tt,detailUtmSource:et,onDialogOpen:ht,showFaces:vt=!0,showBlanks:Lt=!1,relativeLinks:$t=!1}=ce,yt=Z(ce,["faces","secondaryFaces","maximum","pileLabel","modalLabel","secondaryLabel","secondaryHref","enableModal","className","totalCount","detailUtmSource","onDialogOpen","showFaces","showBlanks","relativeLinks"]);const[he,je]=(0,f.eJ)(!1),[st,De]=(0,f.eJ)(!1),Ke=Le.concat((Ne==null?void 0:Ne.filter(it=>!Le.find(Qe=>Qe.id===it.id)))||[]).filter(({photo_url:it})=>Lt?!0:!!it).slice(0,He);return(0,o.h)(_.hs,{alignItems:"center",gap:8,flex:"grow",className:c()("facepile",Ie)},vt&&(0,o.h)(ae,te(oe({},yt),{className:Ie,faces:Ke,maximum:He,showBlanks:Lt,relativeLinks:$t})),ze&&(0,o.h)(_e,{label:ze,clickable:!!(We&&Le.length),onClick:()=>{!We||!(Le!=null&&Le.length)||(je(!0),ht&&ht())}}),_t&&(0,o.h)(s.xv.B4,{color:"pub-secondary-text",weight:"medium"},"\xB7"),_t&&(0,o.h)(_e,{label:_t,clickable:!!(We&&(Ne!=null&&Ne.length)),href:we,onClick:we?void 0:()=>{!We||!(Ne!=null&&Ne.length)||(De(!0),ht&&ht())}}),he&&(0,o.h)(pe,{isOpen:he,modalLabel:Xe,faces:Le,totalCount:tt,onClose:()=>je(!1),utmSource:et}),st&&Ne&&(0,o.h)(pe,{isOpen:st,modalLabel:_t,faces:Ne,totalCount:Ne.length,onClose:()=>De(!1),utmSource:et}))}function ae({faces:ve,loading:ce,className:Le,clickable:Ne=!0,hoverProfiles:He,faceUtmSource:ze,elevated:Xe,showBlanks:_t=!1,maximum:we=5,size:We=40,relativeLinks:Ie=!1}){const tt=(0,x.isMobileBrowser)(),et=ve.filter(({photo_url:ht})=>_t?!0:!!ht).slice(0,we);return(0,o.h)(_.hs,{alignItems:"center"},!ce&&et.length>0&&(0,o.h)(_.hs,{alignItems:"center",className:c()(q.faces,q[`size-${We}`],Le)},et.map(({id:ht,name:vt,photo_url:Lt,className:$t,tooltipTitle:yt,tooltipContent:he,noLink:je},st)=>{const De=(0,y.getReaderProfileUrl)({id:ht,name:vt},{utm_source:ze,noBase:!!Ie}),Be=(0,o.h)(G.e,{className:c()("facepile-face",q.face,q[`size-${We}`],$t,st===0&&q.first,st===et.length-1&&q.last,Xe&&q.elevated),style:{zIndex:et.length-st},maxWidth:We*2,src:(0,y.imginary)(Lt||(0,y.getDefaultUserPhotoById)(ht),64)});return je||!Ne?Be:(0,o.h)(W.Ct,{disabled:!He||tt,key:ht,subject:{id:ht,name:vt,photo_url:Lt},utmSource:ze},(0,o.h)($.L,{disabled:!yt&&!he,title:yt,content:he,className:"inverse bottom"},(0,o.h)(_.hs,{as:"a",flex:"auto",href:De,target:"_blank",rel:"noopener"},Be)))})),ce&&(0,o.h)(be,{maximum:we,size:We}))}function se({pub:ve,post:ce}){var Le;const Ne=(0,y.imginary)(`${(0,y.getBaseUrl)(ve)}/p/${ce.slug}/authors.svg`,800,{format:"png",crop:"scale"}),{height:He,width:ze}=L((Le=ce==null?void 0:ce.publishedBylines)==null?void 0:Le.length);return(0,o.h)("img",{src:Ne,width:ze,height:He})}function be({maximum:ve,size:ce}){return(0,o.h)(_.hs,{gap:12},new Array(ve).fill(null).map(()=>(0,o.h)(P.Vm,{type:"circle",height:ce,width:ce})))}function _e({label:ve,clickable:ce,href:Le,onClick:Ne}){return(0,o.h)(s.xv.B4,null,(0,o.h)(S.hh,{className:ce?q.pointer:"",weight:"medium",color:"pub-secondary-text",decoration:ce?"hover-underline":"none",onClick:Ne,href:Le},ve))}function pe(ve){var ce=ve,{isOpen:Le,onClose:Ne}=ce,He=Z(ce,["isOpen","onClose"]);return(0,o.h)(d.u_,{isOpen:!!Le,onClose:Ne,width:500},(0,o.h)(me,oe({onClose:Ne},He)))}function me({faces:ve,modalLabel:ce,onClose:Le,openLinksInNewTab:Ne,totalCount:He,utmSource:ze}){const Xe=(He||0)-ve.length;return(0,o.h)(o.Fragment,null,(0,o.h)(_.hs,{alignItems:"center",justifyContent:"space-between",paddingX:16,paddingY:12,borderBottom:"detail",flex:"grow"},(0,o.h)(s.xv.H2,null," ",ce),Le&&(0,o.h)(T.hU,{onClick:Le},(0,o.h)(g.Z,{height:20}))),(0,o.h)(_.tu,{overflowY:"auto",className:q.column},(0,o.h)(_.tu,{gap:4,padding:8,flex:"grow"},ve.map(_t=>(0,o.h)(Te,{face:_t,openLinksInNewTab:Ne,utmSource:ze})),Xe>0&&(0,o.h)(_.hs,{gap:16,alignItems:"center",padding:8},(0,o.h)(_.hs,{className:q.avatarOther,alignItems:"center",justifyContent:"center"},(0,o.h)(v.Z,{className:q.avatarOtherIcon,size:20})),(0,o.h)(s.xv.B4,{color:"secondary"},"+",(0,p.pluralize)(Xe,"other reader"))))))}function Te({face:ve,openLinksInNewTab:ce,utmSource:Le}){const{id:Ne,name:He,photo_url:ze,primary_publication:Xe,writes:_t,className:we,noLink:We}=ve,Ie=Le||"facepile-modal",tt=(0,y.getReaderProfileUrl)({id:Ne,name:He},{utm_source:Ie}),et=(0,O.aF)(),ht=(0,E.Sv)(ve,Ie);return(0,o.h)(_.hs,{key:Ne,flex:"grow"},We?(0,o.h)(_.hs,{gap:16,padding:8,radius:12,className:q.row,alignItems:"center",flex:"grow"},(0,o.h)(w.BG,{user:ve,pub:Xe,size:40,className:we}),(0,o.h)(_.tu,{minWidth:0,flex:"grow"},(0,o.h)(s.xv.B4,{decoration:"hover-underline",weight:"semibold",className:(q.link,c()({"no-name":!(He||"").trim().length}))},He))):(0,o.h)(_.hs,oe({as:"a",flex:"grow",gap:16,padding:8,alignItems:"center",radius:12,className:q.row,href:tt},ce?{target:"_blank"}:{}),(0,o.h)(w.BG,{user:ve,pub:Xe,size:40,className:we}),(0,o.h)(_.tu,{minWidth:0,flex:"grow"},(0,o.h)(W.Ct,{disabled:(0,x.isMobileBrowser)(),subject:{id:Ne,name:He,photo_url:ze},utmSource:Ie,className:q.link},(0,o.h)(s.xv.B4,{decoration:"hover-underline",weight:"semibold",className:(q.link,c()({"no-name":!(He||"").trim().length}))},He)),_t&&Xe&&(0,o.h)(I.Sm,{disabled:(0,x.isMobileBrowser)(),publication_id:Xe==null?void 0:Xe.id,className:q.link},(0,o.h)(s.xv.B4,{color:"secondary",decoration:"hover-underline",className:c()(q.link,{"no-name":!(He||"").trim().length})},_t))),et&&et.id!==Ne&&(0,o.h)(T.zx,{fill:"empty",priority:ht.isFollowing?"secondary":"primary",className:q.button,onClick:vt=>{vt.preventDefault(),ht.toggle()}},ht.isFollowing?"Following":"Follow")))}},45634:(z,u,e)=>{"use strict";e.d(u,{Z:()=>_});var o=e(6400),f=e(34755),l=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(d,s,w)=>s in d?l(d,s,{enumerable:!0,configurable:!0,writable:!0,value:w}):d[s]=w,O=(d,s)=>{for(var w in s||(s={}))E.call(s,w)&&p(d,w,s[w]);if(v)for(var w of v(s))y.call(s,w)&&p(d,w,s[w]);return d},S=(d,s)=>c(d,g(s)),x=(d,s)=>{var w={};for(var P in d)E.call(d,P)&&s.indexOf(P)<0&&(w[P]=d[P]);if(d!=null&&v)for(var P of v(d))s.indexOf(P)<0&&y.call(d,P)&&(w[P]=d[P]);return w};const _=d=>{var s=d,{name:w,children:P}=s,I=x(s,["name","children"]);return(0,o.h)(f.l,S(O({},I),{name:w,svgParams:{viewBox:"0 0 24 24",height:24,width:24,stroke:"#1C110B"}}),P)}},47819:(z,u,e)=>{"use strict";e.d(u,{Z:()=>T});var o=e(6400),f=e(45634),l=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?l(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,O=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},S=(_,d)=>c(_,g(d));const T=_=>(0,o.h)(f.Z,S(O({},_),{name:"ActivationUsersIcon"}),(0,o.h)("path",{d:"M17 21V19C17 16.7909 15.2091 15 13 15H5C2.79086 15 1 16.7909 1 19V21","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9 11C11.2091 11 13 9.20917 13 7.00003C13 4.79089 11.2091 3.00003 9 3.00003C6.79086 3.00003 5 4.79089 5 7.00003C5 9.20917 6.79086 11 9 11Z","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),(0,o.h)("path",{d:"M23 21V19C22.9986 17.1772 21.765 15.5858 20 15.13","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),(0,o.h)("path",{d:"M16 3.13004C17.7699 3.58321 19.0078 5.17803 19.0078 7.00504C19.0078 8.83204 17.7699 10.4269 16 10.88","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}))},32127:(z,u,e)=>{"use strict";e.d(u,{Z:()=>T});var o=e(6400),f=e(34755),l=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?l(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,O=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},S=(_,d)=>c(_,g(d));const T=_=>(0,o.h)(f.l,S(O({},_),{name:"AuthorBadgeIcon",svgParams:{height:15,width:12,viewBox:"0 0 12 15"}}),(0,o.h)("path",{d:"M3.50002 2.58453C3.33335 3.58454 2.50001 5.58455 1 7.08456L6 14.5","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round"}),(0,o.h)("circle",{cx:"6.00019",cy:"8.58503",r:"1.00001","stroke-width":"1"}),(0,o.h)("path",{d:"M3 0.5V2.58469H9.00004V0.5","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round"}),(0,o.h)("path",{d:"M8.49998 2.58453C8.66665 3.58454 9.49999 5.58455 11 7.08456L6 14.5","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round"}),(0,o.h)("path",{d:"M6.00012 9.58484L6.00012 14.5849","stroke-width":"1"}))},1782:(z,u,e)=>{"use strict";e.d(u,{Z:()=>T});var o=e(6400),f=e(34755),l=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?l(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,O=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},S=(_,d)=>c(_,g(d));const T=_=>(0,o.h)(f.l,S(O({},_),{name:"BannedIcon",svgParams:{height:100,width:100},additionalStaticParams:{preserveAspectRatio:"none"}}),(0,o.h)("circle",{cx:"50",cy:"50",stroke:"#000000",r:100/2-4,strokeWidth:"8"}),(0,o.h)("line",{x1:"20",y1:"20",x2:"80",y2:"80",stroke:"#000000",strokeWidth:"8"}))},99758:(z,u,e)=>{"use strict";e.d(u,{Z:()=>_});var o=e(6400),f=e(34755),l=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(d,s,w)=>s in d?l(d,s,{enumerable:!0,configurable:!0,writable:!0,value:w}):d[s]=w,O=(d,s)=>{for(var w in s||(s={}))E.call(s,w)&&p(d,w,s[w]);if(v)for(var w of v(s))y.call(s,w)&&p(d,w,s[w]);return d},S=(d,s)=>c(d,g(s)),x=(d,s)=>{var w={};for(var P in d)E.call(d,P)&&s.indexOf(P)<0&&(w[P]=d[P]);if(d!=null&&v)for(var P of v(d))s.indexOf(P)<0&&y.call(d,P)&&(w[P]=d[P]);return w};const _=d=>{var s=d,{fill:w="#1C110B"}=s,P=x(s,["fill"]);return(0,o.h)(f.l,S(O({},P),{name:"CaretDownIcon",svgParams:{height:6,width:10,fill:w}}),(0,o.h)("path",{d:"M4.61589 5.53907L0.68341 0.820092C0.412024 0.494429 0.643602 0 1.06752 0H8.93248C9.3564 0 9.58798 0.494428 9.31659 0.820091L5.38411 5.53907C5.18421 5.77894 4.81579 5.77894 4.61589 5.53907Z"}),");")}},1602:(z,u,e)=>{"use strict";e.d(u,{Z:()=>_});var o=e(6400),f=e(34755),l=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(d,s,w)=>s in d?l(d,s,{enumerable:!0,configurable:!0,writable:!0,value:w}):d[s]=w,O=(d,s)=>{for(var w in s||(s={}))E.call(s,w)&&p(d,w,s[w]);if(v)for(var w of v(s))y.call(s,w)&&p(d,w,s[w]);return d},S=(d,s)=>c(d,g(s)),x=(d,s)=>{var w={};for(var P in d)E.call(d,P)&&s.indexOf(P)<0&&(w[P]=d[P]);if(d!=null&&v)for(var P of v(d))s.indexOf(P)<0&&y.call(d,P)&&(w[P]=d[P]);return w};const _=d=>{var s=d,{fill:w}=s,P=x(s,["fill"]);return(0,o.h)(f.l,S(O({},P),{name:"CheckboxCheckmarkIcon",svgParams:{viewBox:"0 0 16 13",height:16,width:13,fill:w||"white"}}),(0,o.h)("path",{d:"M5.71444 12.6276L0 6.9132L1.61147 5.30173L5.71444 9.39327L14.389 0.71875L16.0004 2.34165L5.71444 12.6276Z",stroke:w||"white"}))}},26059:(z,u,e)=>{"use strict";e.d(u,{Z:()=>T});var o=e(6400),f=e(34755),l=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?l(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,O=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},S=(_,d)=>c(_,g(d));const T=_=>(0,o.h)(f.l,S(O({},_),{name:"CloseIcon",svgParams:{height:20,width:20,stroke:"#666666"}}),(0,o.h)("path",{d:"M15 5L5 15","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,o.h)("path",{d:"M5 5L15 15","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}))},46595:(z,u,e)=>{"use strict";e.d(u,{Z:()=>T});var o=e(6400),f=e(34755),l=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?l(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,O=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},S=(_,d)=>c(_,g(d));const T=_=>(0,o.h)(f.l,S(O({},_),{name:"DotDotDotIcon",svgParams:{height:100,width:100}}),(0,o.h)("circle",{cx:"23",cy:"50",r:"9"}),(0,o.h)("circle",{cx:"50",cy:"50",r:"9"}),(0,o.h)("circle",{cx:"77",cy:"50",r:"9"}))},22702:(z,u,e)=>{"use strict";e.d(u,{Z:()=>T});var o=e(6400),f=e(34755),l=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?l(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,O=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},S=(_,d)=>c(_,g(d));const T=_=>(0,o.h)(f.l,S(O({},_),{name:"DotDotDotThinIcon",svgParams:{height:18,width:18}}),(0,o.h)("path",{d:"M1.12554 8.52747C1.41102 7.46201 2.48571 6.83933 3.51336 7.11468C4.541 7.39004 5.16037 8.46664 4.87488 9.5321C4.58939 10.5976 3.5147 11.2202 2.48706 10.9449C1.45941 10.6695 0.840049 9.59292 1.12554 8.52747Z"}),(0,o.h)("path",{d:"M7.12803 8.52747C7.41352 7.46201 8.48821 6.83933 9.51585 7.11468C10.5435 7.39004 11.1629 8.46664 10.8774 9.5321C10.5919 10.5976 9.51719 11.2202 8.48955 10.9449C7.46191 10.6695 6.84254 9.59292 7.12803 8.52747Z"}),(0,o.h)("path",{d:"M13.1266 8.52747C13.4121 7.46201 14.4867 6.83933 15.5144 7.11468C16.542 7.39004 17.1614 8.46664 16.8759 9.5321C16.5904 10.5976 15.5157 11.2202 14.4881 10.9449C13.4604 10.6695 12.8411 9.59292 13.1266 8.52747Z"}))},40946:(z,u,e)=>{"use strict";e.d(u,{Z:()=>T});var o=e(6400),f=e(34755),l=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?l(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,O=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},S=(_,d)=>c(_,g(d));const T=_=>(0,o.h)(f.l,S(O({},_),{name:"DownloadIconNoBorder",svgParams:{height:32,width:32}}),(0,o.h)("path",{d:"M23.5 18.5V21.8333C23.5 22.2754 23.3244 22.6993 23.0118 23.0118C22.6993 23.3244 22.2754 23.5 21.8333 23.5H10.1667C9.72464 23.5 9.30072 23.3244 8.98816 23.0118C8.67559 22.6993 8.5 22.2754 8.5 21.8333V18.5",stroke:_.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"rgba(255,255,255,0)"}),(0,o.h)("path",{d:"M11.8333 14.3335L16 18.5002L20.1667 14.3335",stroke:_.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"rgba(255,255,255,0)"}),(0,o.h)("path",{d:"M16 18.5V8.5",stroke:_.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"rgba(255,255,255,0)"}))},78041:(z,u,e)=>{"use strict";e.d(u,{Z:()=>T});var o=e(6400),f=e(34755),l=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?l(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,O=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},S=(_,d)=>c(_,g(d));const T=_=>(0,o.h)(f.l,S(O({},_),{name:"FacebookIcon",svgParams:{height:24,width:24}}),(0,o.h)("path",{d:"M18 2H15C13.6739 2 12.4021 2.52678 11.4645 3.46447C10.5268 4.40215 10 5.67392 10 7V10H7V14H10V22H14V14H17L18 10H14V7C14 6.73478 14.1054 6.48043 14.2929 6.29289C14.4804 6.10536 14.7348 6 15 6H18V2Z"}))},71765:(z,u,e)=>{"use strict";e.d(u,{Z:()=>T});var o=e(6400),f=e(34755),l=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?l(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,O=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},S=(_,d)=>c(_,g(d));const T=_=>(0,o.h)(f.l,S(O({},_),{name:"FacebookIconCircle",svgParams:{height:24,width:24}}),(0,o.h)("circle",{cx:"12",cy:"12",r:"11.75",fill:"white",stroke:"none"}),(0,o.h)("path",{d:"M12 0C5.37098 0 0 5.37089 0 11.9975C0 17.9844 4.38331 22.9414 10.1117 23.8491L10.1164 15.473H7.04998V12.0021H10.1164C10.1164 12.0021 10.1023 10.0269 10.1164 9.14743C10.1305 8.26797 10.3045 7.42142 10.7607 6.65008C11.4615 5.4555 12.5526 4.87237 13.893 4.70775C14.9935 4.57135 16.08 4.72183 17.1664 4.87237C17.2416 4.88176 17.2792 4.89115 17.3545 4.90529C17.3545 4.90529 17.3592 5.03225 17.3545 5.11222C17.3498 5.94933 17.3545 7.86819 17.3545 7.86819C16.8324 7.8588 15.9671 7.80706 15.3933 7.89641C14.4433 8.04221 13.8977 8.64891 13.8789 9.6036C13.8601 10.3467 13.8695 12.0021 13.8695 12.0021H17.2134L16.6726 15.473H13.8742V23.8491C19.612 22.9508 24 17.9844 24 11.9975C23.9953 5.37089 18.6243 0 11.9977 0Z",fill:"#1877f2",stroke:"none"}))},36377:(z,u,e)=>{"use strict";e.d(u,{Z:()=>T});var o=e(6400),f=e(34755),l=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?l(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,O=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},S=(_,d)=>c(_,g(d));const T=_=>(0,o.h)(f.l,S(O({},_),{name:"FoundingBadgeIcon",svgParams:{height:14,width:14,viewBox:"0 0 14 14"}}),(0,o.h)("circle",{cx:"3.93749",cy:"5.97916",r:"3.4375"}),(0,o.h)("path",{d:"M8.39583 9.49273C8.39583 11.3912 6.85681 12.9302 4.95833 12.9302C3.05985 12.9302 1.52083 11.3912 1.52083 9.49273C1.52083 7.59425 3.05985 6.05523 4.95833 6.05523C6.85681 6.05523 8.39583 7.59425 8.39583 9.49273Z"}),(0,o.h)("path",{d:"M12.4792 9.49273C12.4792 11.3912 10.9402 12.9302 9.04172 12.9302C7.14324 12.9302 5.60422 11.3912 5.60422 9.49273C5.60422 7.59425 7.14324 6.05523 9.04172 6.05523C10.9402 6.05523 12.4792 7.59425 12.4792 9.49273Z"}),(0,o.h)("circle",{cx:"6.99999",cy:"3.9375",r:"3.4375"}),(0,o.h)("circle",{cx:"10.0625",cy:"5.97916",r:"3.4375"}))},51889:(z,u,e)=>{"use strict";e.d(u,{Z:()=>T});var o=e(6400),f=e(34755),l=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?l(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,O=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},S=(_,d)=>c(_,g(d));const T=_=>(0,o.h)(f.l,S(O({},_),{name:"HackerNewsIcon",svgParams:{height:24,width:24,stroke:"none",viewBox:"0 0 512 512"}}),(0,o.h)("rect",{width:"512",height:"512",fill:"#f60"}),(0,o.h)("path",{fill:"#fff",d:"M124 91h51l81 162 81-164h51L276 293v136h-40V293z"}))},54813:(z,u,e)=>{"use strict";e.d(u,{Z:()=>T});var o=e(6400),f=e(34755),l=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?l(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,O=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},S=(_,d)=>c(_,g(d));const T=_=>(0,o.h)(f.l,S(O({},_),{name:"ImageIcon",svgParams:{height:52.13,width:63.67}}),(0,o.h)("path",{d:"M58.55,52.13H5.13A5.13,5.13,0,0,1,0,47V5.13A5.13,5.13,0,0,1,5.13,0H58.55a5.13,5.13,0,0,1,5.13,5.13V47A5.13,5.13,0,0,1,58.55,52.13ZM5.13,4A1.13,1.13,0,0,0,4,5.13V47a1.13,1.13,0,0,0,1.13,1.13H58.55A1.13,1.13,0,0,0,59.67,47V5.13A1.13,1.13,0,0,0,58.55,4Z"}),(0,o.h)("path",{d:"M12.08,43.46H51.59A1.69,1.69,0,0,0,53,40.77l-5.45-7.4A1.69,1.69,0,0,0,45,33.15l-5.6,5.33-13-17.65a1.69,1.69,0,0,0-2.78.08l-13,19.94A1.69,1.69,0,0,0,12.08,43.46Z"}),(0,o.h)("circle",{cx:"44.13",cy:"15.12",r:"5.93"}))},24491:(z,u,e)=>{"use strict";var o=e(6400);function f({className:c}){return h("svg",{className:c,width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h("g",null,h("path",{style:{backdropFilter:"blur(5px)"},d:"M24 44C35.0457 44 44 35.0457 44 24C44 12.9543 35.0457 4 24 4C12.9543 4 4 12.9543 4 24C4 35.0457 12.9543 44 24 44Z",fill:"white","fill-opacity":"0.9"}),h("path",{opacity:"0.7",d:"M20 17.8685C20 17.0698 20.8901 16.5934 21.5547 17.0365L30.7519 23.168C31.3457 23.5638 31.3457 24.4362 30.7519 24.8321L21.5547 30.9635C20.8901 31.4066 20 30.9302 20 30.1315V17.8685Z",fill:"black",stroke:"black","stroke-linecap":"round","stroke-linejoin":"round"})))}var l=null},48963:(z,u,e)=>{"use strict";var o=e(6400),f=e(34755),l=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?l(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,O=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},S=(_,d)=>c(_,g(d));const x=_=>h(SvgIcon,S(O({},_),{name:"TwitterIcon",svgParams:{height:24,width:24}}),h("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.99998 3.01998C4.80189 3.01998 3.01998 4.80189 3.01998 6.99998V17C3.01998 19.1981 4.80189 20.98 6.99998 20.98H17C19.1981 20.98 20.98 19.1981 20.98 17V6.99998C20.98 4.80189 19.1981 3.01998 17 3.01998H6.99998ZM0.97998 6.99998C0.97998 3.67523 3.67523 0.97998 6.99998 0.97998H17C20.3247 0.97998 23.02 3.67523 23.02 6.99998V17C23.02 20.3247 20.3247 23.02 17 23.02H6.99998C3.67523 23.02 0.97998 20.3247 0.97998 17V6.99998Z"}),h("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.4982 8.89054C11.8532 8.7949 11.1944 8.90507 10.6157 9.20538C10.0369 9.50569 9.56756 9.98085 9.27441 10.5633C8.98126 11.1457 8.87922 11.8057 8.98281 12.4495C9.0864 13.0933 9.39034 13.688 9.85141 14.149C10.3125 14.6101 10.9072 14.9141 11.5509 15.0176C12.1947 15.1212 12.8547 15.0192 13.4372 14.726C14.0196 14.4329 14.4948 13.9635 14.7951 13.3848C15.0954 12.806 15.2056 12.1473 15.1099 11.5023C15.0123 10.8444 14.7058 10.2353 14.2355 9.76498C13.7652 9.29468 13.1561 8.9881 12.4982 8.89054ZM9.78664 7.60766C10.7015 7.13297 11.7427 6.95883 12.7622 7.11001C13.8021 7.26422 14.7649 7.74881 15.5083 8.49219C16.2516 9.23557 16.7362 10.1983 16.8904 11.2383C17.0416 12.2578 16.8675 13.299 16.3928 14.2138C15.9181 15.1286 15.167 15.8705 14.2464 16.3339C13.3258 16.7972 12.2825 16.9585 11.265 16.7948C10.2474 16.631 9.30739 16.1506 8.57861 15.4218C7.84984 14.6931 7.36941 13.753 7.20567 12.7355C7.04193 11.7179 7.20322 10.6746 7.66659 9.75402C8.12996 8.83341 8.87181 8.08235 9.78664 7.60766Z"}),h("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M16.6 6.5001C16.6 6.00304 17.0029 5.6001 17.5 5.6001H17.51C18.007 5.6001 18.41 6.00304 18.41 6.5001C18.41 6.99715 18.007 7.4001 17.51 7.4001H17.5C17.0029 7.4001 16.6 6.99715 16.6 6.5001Z"}));var T=null},64484:(z,u,e)=>{"use strict";e.d(u,{Z:()=>T});var o=e(6400),f=e(34755),l=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?l(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,O=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},S=(_,d)=>c(_,g(d));const T=_=>(0,o.h)(f.l,S(O({},_),{name:"LinkedInShareIcon",svgParams:{height:24,width:24,stroke:"none",viewBox:"0 0 72 72"}}),(0,o.h)("g",{fill:"none","fill-rule":"evenodd",stroke:"none"},(0,o.h)("path",{d:"M36,72 L36,72 C55.882251,72 72,55.882251 72,36 L72,36 C72,16.117749 55.882251,-3.65231026e-15 36,0 L36,0 C16.117749,3.65231026e-15 -2.4348735e-15,16.117749 0,36 L0,36 C2.4348735e-15,55.882251 16.117749,72 36,72 Z",fill:"#007EBB"}),(0,o.h)("path",{d:"M59,57 L49.959375,57 L49.959375,41.6017895 C49.959375,37.3800228 48.3552083,35.0207581 45.0136719,35.0207581 C41.3785156,35.0207581 39.4792969,37.4759395 39.4792969,41.6017895 L39.4792969,57 L30.7666667,57 L30.7666667,27.6666667 L39.4792969,27.6666667 L39.4792969,31.6178624 C39.4792969,31.6178624 42.0989583,26.7704897 48.3236979,26.7704897 C54.5455729,26.7704897 59,30.5699366 59,38.4279486 L59,57 Z M20.372526,23.8257036 C17.4048177,23.8257036 15,21.4020172 15,18.4128518 C15,15.4236864 17.4048177,13 20.372526,13 C23.3402344,13 25.7436198,15.4236864 25.7436198,18.4128518 C25.7436198,21.4020172 23.3402344,23.8257036 20.372526,23.8257036 Z M15.8736979,57 L24.958724,57 L24.958724,27.6666667 L15.8736979,27.6666667 L15.8736979,57 Z",fill:"#FFF",stroke:"none"})))},53668:(z,u,e)=>{"use strict";var o=e(6400),f=e(34755),l=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?l(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,O=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},S=(_,d)=>c(_,g(d));const x=_=>h(SvgIcon,S(O({},_),{name:"LinkedinIcon",svgParams:{height:24,width:24}}),h("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.35951 21.3538V8.96983H2.24333V21.3538H6.35951V21.3538ZM4.3014 7.27902C5.7368 7.27902 6.63021 6.32807 6.63021 5.13966C6.60346 3.9245 5.7368 2.99994 4.32863 2.99994C2.92061 2.99994 2 3.9245 2 5.13966C2 6.32807 2.89322 7.27902 4.27457 7.27902H4.30132H4.3014Z"}),h("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.63708 21.3538H12.7532V14.4381C12.7532 14.0679 12.78 13.6982 12.8887 13.4336C13.1862 12.6941 13.8635 11.9282 15.0006 11.9282C16.4901 11.9282 17.0859 13.0639 17.0859 14.7286V21.3538H21.2017V14.253C21.2017 10.4492 19.171 8.67924 16.4629 8.67924C14.2423 8.67924 13.2675 9.92041 12.7259 10.7658H12.7533V8.96983H8.6372C8.69121 10.1319 8.6372 21.3538 8.6372 21.3538H8.63708Z"}));var T=null},11851:(z,u,e)=>{"use strict";e.d(u,{Z:()=>_});var o=e(6400),f=e(34755),l=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(d,s,w)=>s in d?l(d,s,{enumerable:!0,configurable:!0,writable:!0,value:w}):d[s]=w,O=(d,s)=>{for(var w in s||(s={}))E.call(s,w)&&p(d,w,s[w]);if(v)for(var w of v(s))y.call(s,w)&&p(d,w,s[w]);return d},S=(d,s)=>c(d,g(s)),x=(d,s)=>{var w={};for(var P in d)E.call(d,P)&&s.indexOf(P)<0&&(w[P]=d[P]);if(d!=null&&v)for(var P of v(d))s.indexOf(P)<0&&y.call(d,P)&&(w[P]=d[P]);return w};const _=d=>{var s=d,{color:w="#262626"}=s,P=x(s,["color"]);return(0,o.h)(f.l,S(O({},P),{name:"LockThinIcon",svgParams:{height:16,width:16}}),(0,o.h)("path",{className:"lock-shackle",d:"M5 6L5 3.9C5 2.57452 6.11929 1.5 7.5 1.5C8.88071 1.5 10 2.57452 10 3.9V6",stroke:w}),(0,o.h)("path",{className:"lock-body",d:"M2 7.5C2 6.94772 2.44772 6.5 3 6.5H12C12.5523 6.5 13 6.94772 13 7.5V12.5C13 13.0523 12.5523 13.5 12 13.5H3C2.44771 13.5 2 13.0523 2 12.5V7.5Z",fill:w,stroke:w}))}},965:(z,u,e)=>{"use strict";e.d(u,{Z:()=>_});var o=e(6400),f=e(66298),l=e(34755),c=Object.defineProperty,g=Object.defineProperties,v=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,O=(d,s,w)=>s in d?c(d,s,{enumerable:!0,configurable:!0,writable:!0,value:w}):d[s]=w,S=(d,s)=>{for(var w in s||(s={}))y.call(s,w)&&O(d,w,s[w]);if(E)for(var w of E(s))p.call(s,w)&&O(d,w,s[w]);return d},x=(d,s)=>g(d,v(s));const _=d=>(0,o.h)(l.l,x(S({},d),{name:"LucideArrowUpRight",svgParams:{height:24,width:24}}),(0,o.h)(f.Z,{height:24,stroke:d.stroke,fill:d.fill,strokeWidth:d.strokeWidth}))},15440:(z,u,e)=>{"use strict";e.d(u,{Z:()=>_});var o=e(6400),f=e(13808),l=e(34755),c=Object.defineProperty,g=Object.defineProperties,v=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,O=(d,s,w)=>s in d?c(d,s,{enumerable:!0,configurable:!0,writable:!0,value:w}):d[s]=w,S=(d,s)=>{for(var w in s||(s={}))y.call(s,w)&&O(d,w,s[w]);if(E)for(var w of E(s))p.call(s,w)&&O(d,w,s[w]);return d},x=(d,s)=>g(d,v(s));function T(d){return(0,o.h)(l.l,x(S({},d),{name:"LucideBookmark",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,o.h)(f.Z,{height:24,stroke:d.stroke,fill:d.fill,strokeWidth:d.strokeWidth}))}const _=T},63295:(z,u,e)=>{"use strict";e.d(u,{Z:()=>_});var o=e(6400),f=e(7617),l=e(34755),c=Object.defineProperty,g=Object.defineProperties,v=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,O=(d,s,w)=>s in d?c(d,s,{enumerable:!0,configurable:!0,writable:!0,value:w}):d[s]=w,S=(d,s)=>{for(var w in s||(s={}))y.call(s,w)&&O(d,w,s[w]);if(E)for(var w of E(s))p.call(s,w)&&O(d,w,s[w]);return d},x=(d,s)=>g(d,v(s));const _=d=>(0,o.h)(l.l,x(S({},d),{name:"LucideComments",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,o.h)(f.Z,{height:24,stroke:d.stroke,fill:d.fill,strokeWidth:d.strokeWidth}))},12650:(z,u,e)=>{"use strict";e.d(u,{Z:()=>_});var o=e(6400),f=e(8618),l=e(34755),c=Object.defineProperty,g=Object.defineProperties,v=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,O=(d,s,w)=>s in d?c(d,s,{enumerable:!0,configurable:!0,writable:!0,value:w}):d[s]=w,S=(d,s)=>{for(var w in s||(s={}))y.call(s,w)&&O(d,w,s[w]);if(E)for(var w of E(s))p.call(s,w)&&O(d,w,s[w]);return d},x=(d,s)=>g(d,v(s));const _=d=>(0,o.h)(l.l,x(S({},d),{name:"LucideHeart",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,o.h)(f.Z,{height:24,stroke:d.stroke,fill:d.fill,strokeWidth:d.strokeWidth}))},19698:(z,u,e)=>{"use strict";e.d(u,{Z:()=>T});var o=e(6400),f=e(34755),l=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?l(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,O=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},S=(_,d)=>c(_,g(d));const T=_=>(0,o.h)(f.l,S(O({},_),{name:"LucideMute",svgParams:{height:24,width:24,stroke:_.stroke,strokeWidth:_.strokeWidth}}),(0,o.h)("path",{d:"M9.71429 7.71429H6C5.44772 7.71429 5 8.162 5 8.71429V15.2857C5 15.838 5.44772 16.2857 6 16.2857H10.43C10.6552 16.2857 10.8739 16.3617 11.0505 16.5015L16.3795 20.7179C17.0351 21.2366 18 20.7696 18 19.9336V16M18 10V4.06636C18 3.23036 17.0351 2.76341 16.3795 3.28214L14.03 5.14107L13.4427 5.6058M3 1L23 21","stroke-linecap":"round","stroke-linejoin":"round"}))},43498:(z,u,e)=>{"use strict";e.d(u,{Z:()=>_});var o=e(6400),f=e(4675),l=e(34755),c=Object.defineProperty,g=Object.defineProperties,v=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,O=(d,s,w)=>s in d?c(d,s,{enumerable:!0,configurable:!0,writable:!0,value:w}):d[s]=w,S=(d,s)=>{for(var w in s||(s={}))y.call(s,w)&&O(d,w,s[w]);if(E)for(var w of E(s))p.call(s,w)&&O(d,w,s[w]);return d},x=(d,s)=>g(d,v(s));const _=d=>(0,o.h)(l.l,x(S({},d),{name:"LucideArrowLeftRight",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,o.h)(f.Z,{height:24,stroke:d.stroke,fill:d.fill,strokeWidth:d.strokeWidth}))},11628:(z,u,e)=>{"use strict";e.d(u,{Z:()=>T});var o=e(6400),f=e(34755),l=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?l(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,O=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},S=(_,d)=>c(_,g(d));const T=_=>(0,o.h)(f.l,S(O({},_),{name:"LucideShare",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,o.h)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{d:"M12.4376 15.6C4.77778 15.6 2 20.3999 2 20.3999C2 12.5999 5.88889 8.4 12.4376 8.4V3L22 11.9812L12.4376 21V15.6Z","stroke-width":_.strokeWidth,fill:_.fill,className:"lucide","stroke-linecap":"round","stroke-linejoin":"round"})))},49542:(z,u,e)=>{"use strict";e.d(u,{Z:()=>_});var o=e(6400),f=e(31131),l=e(34755),c=Object.defineProperty,g=Object.defineProperties,v=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,O=(d,s,w)=>s in d?c(d,s,{enumerable:!0,configurable:!0,writable:!0,value:w}):d[s]=w,S=(d,s)=>{for(var w in s||(s={}))y.call(s,w)&&O(d,w,s[w]);if(E)for(var w of E(s))p.call(s,w)&&O(d,w,s[w]);return d},x=(d,s)=>g(d,v(s));const _=d=>(0,o.h)(l.l,x(S({},d),{name:"LucideShare2",svgParams:{height:24,width:24}}),(0,o.h)(f.Z,{height:24,stroke:d.stroke,fill:d.fill,strokeWidth:d.strokeWidth}))},73416:(z,u,e)=>{"use strict";e.d(u,{Z:()=>T});var o=e(6400),f=e(34755),l=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?l(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,O=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},S=(_,d)=>c(_,g(d));const T=_=>(0,o.h)(f.l,S(O({},_),{name:"LucideTabNotesFilled",svgParams:{height:24,width:24}}),(0,o.h)("path",{d:"M6.785 1.92766C5.45134 1.57031 4.08049 2.36176 3.72314 3.69543L0.444815 15.9303C0.0874636 17.264 0.878901 18.6348 2.21255 18.9922L5.37495 19.8396V7.66664C5.37495 6.40099 6.40096 5.37498 7.66661 5.37498H19.4723C19.3299 5.30548 19.1788 5.24858 19.0201 5.20604L6.785 1.92766Z",fill:_.fill,stroke:"none"}),(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.44161 7.4C7.86632 7.4 7.39995 7.86637 7.39995 8.44167V22.1081C7.39995 22.6834 7.86631 23.1498 8.4416 23.1498L22.1083 23.15C22.6836 23.15 23.1499 22.6836 23.1499 22.1083V8.44167C23.1499 7.86637 22.6836 7.4 22.1083 7.4H8.44161ZM10.3999 9.65C9.84766 9.65 9.39995 10.0977 9.39995 10.65C9.39995 11.2023 9.84766 11.65 10.3999 11.65H18.3999C18.9522 11.65 19.3999 11.2023 19.3999 10.65C19.3999 10.0977 18.9522 9.65 18.3999 9.65H10.3999ZM10.3999 14.15C9.84766 14.15 9.39995 14.5977 9.39995 15.15C9.39995 15.7023 9.84766 16.15 10.3999 16.15H15.3999C15.9522 16.15 16.3999 15.7023 16.3999 15.15C16.3999 14.5977 15.9522 14.15 15.3999 14.15H10.3999Z",fill:_.fill,stroke:"none"}))},31517:(z,u,e)=>{"use strict";e.d(u,{Z:()=>T});var o=e(6400),f=e(34755),l=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?l(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,O=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},S=(_,d)=>c(_,g(d));const T=_=>(0,o.h)(f.l,S(O({},_),{name:"NoteForwardIcon",svgParams:{height:24,width:24,stroke:_.stroke,strokeWidth:_.strokeWidth}}),(0,o.h)("path",{d:"M21 3V8M21 8H16M21 8L18 5.29962C16.7056 4.14183 15.1038 3.38328 13.3879 3.11547C11.6719 2.84766 9.9152 3.08203 8.32951 3.79031C6.74382 4.49858 5.39691 5.65051 4.45125 7.10715C3.5056 8.5638 3.00158 10.2629 3 11.9996M3 21V16M3 16H8M3 16L6 18.7C7.29445 19.8578 8.89623 20.6163 10.6121 20.8841C12.3281 21.152 14.0848 20.9176 15.6705 20.2093C17.2562 19.501 18.6031 18.3491 19.5487 16.8925C20.4944 15.4358 20.9984 13.7367 21 12","stroke-linecap":"round","stroke-linejoin":"round"}))},1706:(z,u,e)=>{"use strict";e.d(u,{Z:()=>T});var o=e(6400),f=e(34755),l=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?l(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,O=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},S=(_,d)=>c(_,g(d));const T=_=>(0,o.h)(f.l,S(O({},_),{name:"NoteForwardQuoteIcon",svgParams:{height:24,width:24,stroke:_.stroke,strokeWidth:_.strokeWidth}}),(0,o.h)("path",{d:"M13.4147 2.09993C10.4072 1.67249 7.2423 2.61548 4.92891 4.92887C1.02366 8.83411 1.02366 15.1658 4.92891 19.071C8.83415 22.9762 15.1658 22.9762 19.071 19.071C21.3844 16.7576 22.3274 13.5927 21.9 10.5852M18.5 2.62126C18.8978 2.22343 19.4374 1.99994 20 1.99994C20.5626 1.99994 21.1021 2.22343 21.5 2.62126C21.8978 3.01908 22.1213 3.55865 22.1213 4.12126C22.1213 4.68387 21.8978 5.22343 21.5 5.62126L13 14.1213L8.99998 15.1213L9.99998 11.1213L18.5 2.62126Z","stroke-linecap":"round","stroke-linejoin":"round"}))},26240:(z,u,e)=>{"use strict";e.d(u,{Z:()=>T});var o=e(6400),f=e(34755),l=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?l(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,O=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},S=(_,d)=>c(_,g(d));const T=_=>(0,o.h)(f.l,S(O({},_),{name:"NoteReplyIcon",svgParams:{height:24,width:24,stroke:_.stroke,strokeWidth:_.strokeWidth}}),(0,o.h)("path",{d:"M22 11.4445C22.0038 12.911 21.6612 14.3577 21 15.6667C20.216 17.2353 19.0108 18.5546 17.5194 19.477C16.0279 20.3993 14.3091 20.8882 12.5555 20.8889C11.089 20.8927 9.64234 20.5501 8.33332 19.8889L2 22L4.11111 15.6667C3.44992 14.3577 3.10729 12.911 3.11111 11.4445C3.11179 9.69086 3.60068 7.97208 4.52302 6.48064C5.44536 4.98919 6.76472 3.78399 8.33332 3.00003C9.64234 2.33884 11.089 1.99621 12.5555 2.00003H13.1111C15.427 2.1278 17.6145 3.10532 19.2546 4.74543C20.8947 6.38553 21.8722 8.57297 22 10.8889V11.4445Z","stroke-linecap":"round","stroke-linejoin":"round"}))},29820:(z,u,e)=>{"use strict";e.d(u,{Z:()=>y});var o=e(6400),f=Object.defineProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,v=(p,O,S)=>O in p?f(p,O,{enumerable:!0,configurable:!0,writable:!0,value:S}):p[O]=S,E=(p,O)=>{for(var S in O||(O={}))c.call(O,S)&&v(p,S,O[S]);if(l)for(var S of l(O))g.call(O,S)&&v(p,S,O[S]);return p};function y(p){return(0,o.h)("svg",E({width:"22",height:"24",viewBox:"0 0 20 20",overflow:"visible",fill:"none",stroke:"var(--color-secondary)"},p),(0,o.h)("g",{transform:"translate(0, -2)"},(0,o.h)("path",{d:"M16.6667 16.0265C16.0821 17.2172 15.1835 18.2187 14.0715 18.9188C12.9594 19.6189 11.6779 19.9901 10.3704 19.9906C9.27691 19.9935 8.19824 19.7334 7.22222 19.2315L2.5 20.834L4.07407 16.0265C3.58108 15.0329 3.32561 13.9347 3.32846 12.8215C3.32897 11.4904 3.69349 10.1857 4.3812 9.05361C5.06891 7.92149 6.05265 7.00665 7.22222 6.41156C7.72153 6.15481 8.2477 5.96134 8.78897 5.83398","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,o.h)("path",{d:"M19.4444 6.11133H13.8893C13.2757 6.11133 12.7782 6.60879 12.7782 7.22244V11.1113C12.7782 11.725 13.2757 12.2224 13.8893 12.2224H19.4444C20.0581 12.2224 20.5555 11.725 20.5555 11.1113V7.22244C20.5555 6.60879 20.0581 6.11133 19.4444 6.11133Z"}),(0,o.h)("path",{d:"M13.8893 6.11133H19.4444M13.8893 6.11133C13.2757 6.11133 12.7782 6.60879 12.7782 7.22244V11.1113C12.7782 11.725 13.2757 12.2224 13.8893 12.2224H19.4444C20.0581 12.2224 20.5555 11.725 20.5555 11.1113V7.22244C20.5555 6.60879 20.0581 6.11133 19.4444 6.11133M13.8893 6.11133L13.8889 3.88911C13.8889 3.15239 14.1815 2.44586 14.7025 1.92492C15.2234 1.40399 15.9299 1.11133 16.6667 1.11133C17.4034 1.11133 18.1099 1.40399 18.6308 1.92492C19.1518 2.44586 19.4444 3.15239 19.4444 3.88911V6.11133","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})))}},11762:(z,u,e)=>{"use strict";e.d(u,{Z:()=>T});var o=e(6400),f=e(34755),l=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?l(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,O=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},S=(_,d)=>c(_,g(d));const T=_=>(0,o.h)(f.l,S(O({},_),{name:"PinIconSmall",svgParams:{height:16,width:14}}),(0,o.h)("path",{d:"M7 1.00006L10 1.00006C10.5523 1.00006 11.0846 1.47946 10.8452 1.97714C10.6681 2.3451 10.2927 2.75194 9.5 3.17301L10 7.51891C10.7819 7.7681 11.949 8.31222 12.9204 9.21856C13.4827 9.74324 13.0402 10.561 12.2711 10.561H7"}),(0,o.h)("path",{d:"M7 1.00006L4 1.00006C3.44772 1.00006 2.91538 1.47946 3.15482 1.97714C3.33185 2.3451 3.70727 2.75194 4.5 3.17301L4 7.51891C3.2181 7.7681 2.05103 8.31222 1.07961 9.21856C0.517263 9.74324 0.959808 10.561 1.72891 10.561H7"}),(0,o.h)("path",{d:"M7 10.561L7 15","stroke-linecap":"round","stroke-linejoin":"round"}))},21302:(z,u,e)=>{"use strict";e.d(u,{Z:()=>T});var o=e(6400),f=e(34755),l=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?l(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,O=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},S=(_,d)=>c(_,g(d));const T=_=>(0,o.h)(f.l,S(O({},_),{name:"PinterestIcon",svgParams:{height:24,width:24,stroke:"none",viewBox:"0 0 144 144"}}),(0,o.h)("g",null,(0,o.h)("g",null,(0,o.h)("path",{"shape-rendering":"geometricPrecision",fill:"#BD081C",style:{stroke:"none"},d:`M71.9,5.4C35.1,5.4,5.3,35.2,5.3,72c0,28.2,17.5,52.3,42.3,62c-0.6-5.3-1.1-13.3,0.2-19.1
			c1.2-5.2,7.8-33.1,7.8-33.1s-2-4-2-9.9c0-9.3,5.4-16.2,12-16.2c5.7,0,8.4,4.3,8.4,9.4c0,5.7-3.6,14.3-5.5,22.2
			c-1.6,6.6,3.3,12,9.9,12c11.8,0,20.9-12.5,20.9-30.5c0-15.9-11.5-27.1-27.8-27.1c-18.9,0-30.1,14.2-30.1,28.9
			c0,5.7,2.2,11.9,5,15.2c0.5,0.7,0.6,1.2,0.5,1.9c-0.5,2.1-1.6,6.6-1.8,7.5c-0.3,1.2-1,1.5-2.2,0.9c-8.3-3.9-13.5-16-13.5-25.8
			c0-21,15.3-40.3,44-40.3c23.1,0,41,16.5,41,38.4c0,22.9-14.5,41.4-34.5,41.4c-6.7,0-13.1-3.5-15.3-7.6c0,0-3.3,12.7-4.1,15.8
			c-1.5,5.8-5.6,13-8.3,17.5c6.2,1.9,12.8,3,19.7,3c36.8,0,66.6-29.8,66.6-66.6C138.5,35.2,108.7,5.4,71.9,5.4z`}))))},40353:(z,u,e)=>{"use strict";e.d(u,{Z:()=>d});var o=e(6400),f=e(83322),l=e(34755),c=Object.defineProperty,g=Object.defineProperties,v=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,O=(s,w,P)=>w in s?c(s,w,{enumerable:!0,configurable:!0,writable:!0,value:P}):s[w]=P,S=(s,w)=>{for(var P in w||(w={}))y.call(w,P)&&O(s,P,w[P]);if(E)for(var P of E(w))p.call(w,P)&&O(s,P,w[P]);return s},x=(s,w)=>g(s,v(w)),T=(s,w)=>{var P={};for(var I in s)y.call(s,I)&&w.indexOf(I)<0&&(P[I]=s[I]);if(s!=null&&E)for(var I of E(s))w.indexOf(I)<0&&p.call(s,I)&&(P[I]=s[I]);return P};function _(s){var w=s,{fill:P="#FF6719"}=w,I=T(w,["fill"]);const D=(0,f.colorLuma)(P)>.6?"black":"white";return(0,o.h)(l.l,x(S({},I),{name:"ChatAuthorBadgeIcon",svgParams:{height:26,width:26,viewBox:"1.5 1.5 23 23",fill:"none"},fill:"none"}),(0,o.h)("rect",{x:"1.5",y:"1.5",width:"23",height:"23",rx:"11.5",fill:P,stroke:"none"}),(0,o.h)("path",{d:"M9.84352 8.31607L9.64777 7.35366C9.59747 7.10633 9.78649 6.875 10.0389 6.875H15.8759C16.1745 6.875 16.3982 7.14873 16.3387 7.44138L16.1727 8.2575C16.1279 8.47753 15.9344 8.63563 15.7099 8.63563H10.2346C10.0449 8.63563 9.88134 8.50202 9.84352 8.31607Z",fill:D,stroke:"none"}),(0,o.h)("path",{d:"M8.72625 13.1254C9.81068 11.9596 10.4671 10.5266 10.6954 9.63411C10.7386 9.46553 10.8862 9.33993 11.0602 9.33993H14.9445C15.1185 9.33993 15.2661 9.46553 15.3092 9.63411C15.5376 10.5266 16.194 11.9596 17.2784 13.1254C17.3975 13.2535 17.4147 13.4481 17.3129 13.5903L13.3526 19.1241V14.2238C13.9461 14.0661 14.3842 13.5156 14.3842 12.8607C14.3842 12.0828 13.7661 11.4522 13.0035 11.4522C12.241 11.4522 11.6228 12.0828 11.6228 12.8607C11.6228 13.5149 12.06 14.0649 12.6526 14.2233L12.6526 19.125L8.6917 13.5903C8.58991 13.4481 8.60713 13.2535 8.72625 13.1254Z",fill:D,stroke:"none"}),(0,o.h)("path",{d:"M12.4845 12.8611C12.4845 12.5694 12.7163 12.3329 13.0022 12.3329C13.2882 12.3329 13.52 12.5694 13.52 12.8611C13.52 13.1528 13.2882 13.3893 13.0022 13.3893C12.7163 13.3893 12.4845 13.1528 12.4845 12.8611Z",fill:D,stroke:"none"}))}const d=_},64234:(z,u,e)=>{"use strict";e.d(u,{A:()=>c});var o=e(6400);const f="#FF6719";var l=e(34755);function c({className:v,type:E,accentColor:y}){return(0,o.h)(l.l,{name:"ReaderBadgeIcon",className:v,svgParams:{width:22,height:22,viewBox:"0 0 22 22"},fill:"none",stroke:"none",strokeWidth:1},(0,o.h)("circle",{cx:"11",cy:"11",r:"11",fill:"var(--color-bg-primary)"}),(0,o.h)("circle",{cx:"11",cy:"11",r:"9",fill:y||f}),E==="subscribed"?(0,o.h)(o.Fragment,null,(0,o.h)("ellipse",{rx:"2.72196",ry:"2.68806",transform:"matrix(0.707101 -0.707113 0.707101 0.707113 12.926 12.9255)",stroke:"white"}),(0,o.h)("ellipse",{rx:"2.72196",ry:"2.68806",transform:"matrix(0.707101 -0.707113 0.707101 0.707113 9.07543 9.07503)",stroke:"white"}),(0,o.h)("ellipse",{rx:"2.68806",ry:"2.72196",transform:"matrix(-0.707101 -0.707113 -0.707101 0.707113 9.05152 12.9494)",stroke:"white"}),(0,o.h)("ellipse",{rx:"2.68806",ry:"2.72196",transform:"matrix(-0.707101 -0.707113 -0.707101 0.707113 12.95 9.05009)",stroke:"white"})):(0,o.h)(o.Fragment,null,(0,o.h)("path",{d:"M11.9018 10.3229C11.9018 12.2029 10.3777 13.7269 8.49775 13.7269C6.61777 13.7269 5.09375 12.2029 5.09375 10.3229C5.09375 8.44296 6.61777 6.91894 8.49775 6.91894C10.3777 6.91894 11.9018 8.44296 11.9018 10.3229Z",stroke:"white"}),(0,o.h)("path",{d:"M12.8178 13.4959C12.8178 15.3759 11.2938 16.8999 9.41377 16.8999C7.5338 16.8999 6.00977 15.3759 6.00977 13.4959C6.00977 11.6159 7.5338 10.0919 9.41377 10.0919C11.2938 10.0919 12.8178 11.6159 12.8178 13.4959Z",stroke:"white"}),(0,o.h)("path",{d:"M15.9564 13.503C15.9564 15.383 14.4324 16.907 12.5524 16.907C10.6725 16.907 9.14844 15.383 9.14844 13.503C9.14844 11.623 10.6725 10.099 12.5524 10.099C14.4324 10.099 15.9564 11.623 15.9564 13.503Z",stroke:"white"}),(0,o.h)("path",{d:"M14.4047 8.49824C14.4047 10.3782 12.8807 11.9022 11.0007 11.9022C9.1207 11.9022 7.59668 10.3782 7.59668 8.49824C7.59668 6.61826 9.1207 5.09424 11.0007 5.09424C12.8807 5.09424 14.4047 6.61826 14.4047 8.49824Z",stroke:"white"}),(0,o.h)("path",{d:"M16.9066 10.3229C16.9066 12.2029 15.3826 13.7269 13.5026 13.7269C11.6227 13.7269 10.0986 12.2029 10.0986 10.3229C10.0986 8.44296 11.6227 6.91894 13.5026 6.91894C15.3826 6.91894 16.9066 8.44296 16.9066 10.3229Z",stroke:"white"})))}const g=null},7370:(z,u,e)=>{"use strict";e.d(u,{Z:()=>S});var o=e(6400),f=e(34755),l=Object.defineProperty,c=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,E=(x,T,_)=>T in x?l(x,T,{enumerable:!0,configurable:!0,writable:!0,value:_}):x[T]=_,y=(x,T)=>{for(var _ in T||(T={}))g.call(T,_)&&E(x,_,T[_]);if(c)for(var _ of c(T))v.call(T,_)&&E(x,_,T[_]);return x},p=(x,T)=>{var _={};for(var d in x)g.call(x,d)&&T.indexOf(d)<0&&(_[d]=x[d]);if(x!=null&&c)for(var d of c(x))T.indexOf(d)<0&&v.call(x,d)&&(_[d]=x[d]);return _};function O(x){var T=p(x,[]);return(0,o.h)(f.l,y({name:"ReaderFoundingSubscriberBadgeIcon",svgParams:{height:26,width:26,viewBox:"1.5 1.5 23 23",fill:"none"},fill:"none"},T),(0,o.h)("rect",{x:"1.5",y:"1.5",width:"23",height:"23",rx:"11.5",fill:"#DDDDDD",stroke:"none"}),(0,o.h)("path",{d:"M14.0019 12.2471C14.0019 14.3359 12.3086 16.0293 10.2197 16.0293C8.13086 16.0293 6.4375 14.3359 6.4375 12.2471C6.4375 10.1582 8.13086 8.46484 10.2197 8.46484C12.3086 8.46484 14.0019 10.1582 14.0019 12.2471Z",stroke:"#333333","stroke-width":"1.25"}),(0,o.h)("path",{d:"M15.0215 15.7744C15.0215 17.8633 13.3281 19.5566 11.2393 19.5566C9.1504 19.5566 7.45704 17.8633 7.45704 15.7744C7.45704 13.6855 9.1504 11.9922 11.2393 11.9922C13.3281 11.9922 15.0215 13.6855 15.0215 15.7744Z",stroke:"#333333","stroke-width":"1.25"}),(0,o.h)("path",{d:"M18.5059 15.7822C18.5059 17.8711 16.8125 19.5644 14.7236 19.5644C12.6348 19.5644 10.9414 17.8711 10.9414 15.7822C10.9414 13.6934 12.6348 12 14.7236 12C16.8125 12 18.5059 13.6934 18.5059 15.7822Z",stroke:"#333333","stroke-width":"1.25"}),(0,o.h)("path",{d:"M16.7832 10.2197C16.7832 12.3086 15.0898 14.0019 13.001 14.0019C10.9121 14.0019 9.21875 12.3086 9.21875 10.2197C9.21875 8.13086 10.9121 6.4375 13.001 6.4375C15.0898 6.4375 16.7832 8.13086 16.7832 10.2197Z",stroke:"#333333","stroke-width":"1.25"}),(0,o.h)("path",{d:"M19.5645 12.2471C19.5645 14.3359 17.8711 16.0293 15.7822 16.0293C13.6934 16.0293 12 14.3359 12 12.2471C12 10.1582 13.6934 8.46484 15.7822 8.46484C17.8711 8.46484 19.5645 10.1582 19.5645 12.2471Z",stroke:"#333333","stroke-width":"1.25"}))}const S=O},85362:(z,u,e)=>{"use strict";e.d(u,{Z:()=>S});var o=e(6400),f=e(34755),l=Object.defineProperty,c=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,E=(x,T,_)=>T in x?l(x,T,{enumerable:!0,configurable:!0,writable:!0,value:_}):x[T]=_,y=(x,T)=>{for(var _ in T||(T={}))g.call(T,_)&&E(x,_,T[_]);if(c)for(var _ of c(T))v.call(T,_)&&E(x,_,T[_]);return x},p=(x,T)=>{var _={};for(var d in x)g.call(x,d)&&T.indexOf(d)<0&&(_[d]=x[d]);if(x!=null&&c)for(var d of c(x))T.indexOf(d)<0&&v.call(x,d)&&(_[d]=x[d]);return _};function O(x){var T=p(x,[]);return(0,o.h)(f.l,y({name:"ReaderPaidSubscriberBadgeIcon",svgParams:{height:26,width:26,viewBox:"1.5 1.5 23 23",fill:"none"},fill:"none"},T),(0,o.h)("rect",{x:"1.5",y:"1.5",width:"23",height:"23",rx:"11.5",fill:"#DDDDDD",stroke:"none"}),(0,o.h)("g",{"clip-path":"url(#clip0_24306_47333)"},(0,o.h)("ellipse",{cx:"3.0244",cy:"2.98674",rx:"3.0244",ry:"2.98674",transform:"matrix(0.707101 -0.707113 0.707101 0.707113 10.8867 15.1641)",stroke:"#333333","stroke-width":"1.25"}),(0,o.h)("ellipse",{cx:"3.0244",cy:"2.98674",rx:"3.0244",ry:"2.98674",transform:"matrix(0.707101 -0.707113 0.707101 0.707113 6.60938 10.8867)",stroke:"#333333","stroke-width":"1.25"}),(0,o.h)("ellipse",{cx:"2.98674",cy:"3.0244",rx:"2.98674",ry:"3.0244",transform:"matrix(-0.707101 -0.707113 -0.707101 0.707113 15.082 15.1367)",stroke:"#333333","stroke-width":"1.25"}),(0,o.h)("ellipse",{cx:"2.98674",cy:"3.0244",rx:"2.98674",ry:"3.0244",transform:"matrix(-0.707101 -0.707113 -0.707101 0.707113 19.4141 10.8047)",stroke:"#333333","stroke-width":"1.25"})),(0,o.h)("defs",null,(0,o.h)("clipPath",{id:"clip0_24306_47333"},(0,o.h)("rect",{width:"14",height:"14",fill:"white",transform:"translate(6 6)",stroke:"none"}))))}const S=O},65665:(z,u,e)=>{"use strict";e.d(u,{Z:()=>T});var o=e(6400),f=e(34755),l=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?l(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,O=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},S=(_,d)=>c(_,g(d));const T=_=>(0,o.h)(f.l,S(O({},_),{name:"RedditIcon",svgParams:{height:24,width:24,stroke:"none",viewBox:"0 0 256 256"}}),(0,o.h)("g",{style:"stroke: none; stroke-width: 0; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: none; fill-rule: nonzero; opacity: 1;",transform:"translate(1.4065934065934016 1.4065934065934016) scale(2.81 2.81)"},(0,o.h)("circle",{cx:"45",cy:"45",r:"45",style:"stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(255,69,0); fill-rule: nonzero; opacity: 1;",transform:"  matrix(1 0 0 1 0 0) "}),(0,o.h)("path",{d:"M 75.011 45 c -0.134 -3.624 -3.177 -6.454 -6.812 -6.331 c -1.611 0.056 -3.143 0.716 -4.306 1.823 c -5.123 -3.49 -11.141 -5.403 -17.327 -5.537 l 2.919 -14.038 l 9.631 2.025 c 0.268 2.472 2.483 4.262 4.955 3.993 c 2.472 -0.268 4.262 -2.483 3.993 -4.955 s -2.483 -4.262 -4.955 -3.993 c -1.421 0.145 -2.696 0.973 -3.4 2.204 L 48.68 17.987 c -0.749 -0.168 -1.499 0.302 -1.667 1.063 c 0 0.011 0 0.011 0 0.022 l -3.322 15.615 c -6.264 0.101 -12.36 2.025 -17.55 5.537 c -2.64 -2.483 -6.801 -2.36 -9.284 0.291 c -2.483 2.64 -2.36 6.801 0.291 9.284 c 0.515 0.481 1.107 0.895 1.767 1.186 c -0.045 0.66 -0.045 1.32 0 1.98 c 0 10.078 11.745 18.277 26.23 18.277 c 14.485 0 26.23 -8.188 26.23 -18.277 c 0.045 -0.66 0.045 -1.32 0 -1.98 C 73.635 49.855 75.056 47.528 75.011 45 z M 30.011 49.508 c 0 -2.483 2.025 -4.508 4.508 -4.508 c 2.483 0 4.508 2.025 4.508 4.508 s -2.025 4.508 -4.508 4.508 C 32.025 53.993 30.011 51.991 30.011 49.508 z M 56.152 62.058 v -0.179 c -3.199 2.405 -7.114 3.635 -11.119 3.468 c -4.005 0.168 -7.919 -1.063 -11.119 -3.468 c -0.425 -0.515 -0.347 -1.286 0.168 -1.711 c 0.447 -0.369 1.085 -0.369 1.544 0 c 2.707 1.98 6.007 2.987 9.362 2.83 c 3.356 0.179 6.667 -0.783 9.407 -2.74 c 0.492 -0.481 1.297 -0.47 1.779 0.022 C 56.655 60.772 56.644 61.577 56.152 62.058 z M 55.537 54.34 c -0.078 0 -0.145 0 -0.224 0 l 0.034 -0.168 c -2.483 0 -4.508 -2.025 -4.508 -4.508 s 2.025 -4.508 4.508 -4.508 s 4.508 2.025 4.508 4.508 C 59.955 52.148 58.02 54.239 55.537 54.34 z",style:"stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(255,255,255); fill-rule: nonzero; opacity: 1;",transform:" matrix(1 0 0 1 0 0) ","stroke-linecap":"round"})))},26523:(z,u,e)=>{"use strict";var o=e(6400),f=e(34755),l=Object.defineProperty,c=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,E=(S,x,T)=>x in S?l(S,x,{enumerable:!0,configurable:!0,writable:!0,value:T}):S[x]=T,y=(S,x)=>{for(var T in x||(x={}))g.call(x,T)&&E(S,T,x[T]);if(c)for(var T of c(x))v.call(x,T)&&E(S,T,x[T]);return S};const p=S=>h(SvgIcon,y({name:"RoundedInformationIcon",svgParams:{viewBox:"0 0 21 21",height:20,width:20,stroke:"white"}},S),h("path",{d:"M10.4998 18.3337C15.1022 18.3337 18.8332 14.6027 18.8332 10.0003C18.8332 5.39795 15.1022 1.66699 10.4998 1.66699C5.89746 1.66699 2.1665 5.39795 2.1665 10.0003C2.1665 14.6027 5.89746 18.3337 10.4998 18.3337Z","stroke-width":"1.66667","stroke-linecap":"round","stroke-linejoin":"round"}),h("path",{d:"M10.5 13.3333V10","stroke-width":"1.66667","stroke-linecap":"round","stroke-linejoin":"round"}),h("path",{d:"M10.5 6.66699H10.5092","stroke-width":"1.66667","stroke-linecap":"round","stroke-linejoin":"round"}));var O=null},7775:(z,u,e)=>{"use strict";e.d(u,{Z:()=>T});var o=e(6400),f=e(34755),l=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?l(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,O=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},S=(_,d)=>c(_,g(d));const T=_=>(0,o.h)(f.l,S(O({},_),{name:"ShareCopyLinkIcon",svgParams:{height:16,width:20}}),(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.1303 0.000379039C10.9833 -0.00959082 9.87819 0.431464 9.05309 1.22855L9.04556 1.23593L7.79145 2.48303C7.50587 2.767 7.50453 3.22877 7.78844 3.51441C8.07235 3.80004 8.53401 3.80139 8.81959 3.51741L10.0698 2.27423C10.6194 1.74503 11.3546 1.45229 12.1177 1.45892C12.8824 1.46556 13.6139 1.77236 14.1546 2.31323C14.6954 2.8541 15.0021 3.58577 15.0087 4.35065C15.0154 5.11353 14.7229 5.84857 14.1943 6.39829L12.0116 8.58145L12.0115 8.58155C11.7159 8.87739 11.36 9.10617 10.9682 9.25237C10.5764 9.39857 10.1577 9.45878 9.74051 9.42889C9.32337 9.39901 8.91752 9.27975 8.55051 9.07918C8.1835 8.87862 7.8639 8.60146 7.6134 8.26649C7.3722 7.94396 6.91526 7.87807 6.5928 8.11933C6.27034 8.36059 6.20447 8.81763 6.44567 9.14016C6.82142 9.64261 7.30082 10.0584 7.85134 10.3592C8.40186 10.66 9.01062 10.8389 9.63634 10.8838C10.2621 10.9286 10.8901 10.8383 11.4779 10.619C12.0656 10.3997 12.5994 10.0565 13.0429 9.61274L15.2302 7.42494L15.2391 7.4159C16.036 6.59062 16.4769 5.48529 16.467 4.33797C16.457 3.19066 15.9969 2.09316 15.1858 1.28185C14.3746 0.470545 13.2774 0.0103489 12.1303 0.000379039ZM7.29806 5.11625C6.67234 5.07142 6.0443 5.16173 5.45654 5.38103C4.86882 5.60031 4.33502 5.94355 3.89153 6.38727L1.70423 8.57506L1.69534 8.5841C0.898438 9.40939 0.457483 10.5147 0.467451 11.662C0.477418 12.8094 0.937512 13.9069 1.74864 14.7182C2.55976 15.5295 3.65701 15.9897 4.80407 15.9996C5.95113 16.0096 7.05622 15.5685 7.88132 14.7715L7.89035 14.7626L9.13717 13.5155C9.42192 13.2307 9.42192 12.7689 9.13717 12.4841C8.85243 12.1993 8.39077 12.1993 8.10602 12.4841L6.86392 13.7265C6.31432 14.2552 5.57945 14.5477 4.81675 14.5411C4.05204 14.5344 3.32054 14.2276 2.77979 13.6868C2.23904 13.1459 1.93231 12.4142 1.92566 11.6494C1.91904 10.8865 2.21146 10.1514 2.74011 9.60172L4.92287 7.41846C5.21854 7.12262 5.57437 6.89384 5.96621 6.74763C6.35805 6.60143 6.77674 6.54123 7.19389 6.57111C7.61104 6.601 8.01688 6.72026 8.38389 6.92082C8.75091 7.12138 9.0705 7.39855 9.32101 7.73352C9.56221 8.05605 10.0191 8.12194 10.3416 7.88068C10.6641 7.63942 10.7299 7.18238 10.4887 6.85985C10.113 6.3574 9.63359 5.94165 9.08307 5.64081C8.53255 5.33997 7.92378 5.16107 7.29806 5.11625Z"}))},74957:(z,u,e)=>{"use strict";e.d(u,{Z:()=>T});var o=e(6400),f=e(34755),l=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?l(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,O=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},S=(_,d)=>c(_,g(d));const T=_=>(0,o.h)(f.l,S(O({},_),{name:"ShareEmailIcon",svgParams:{height:16,width:21}}),(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.22192 2.20503C2.36754 1.77115 2.78269 1.45455 3.26639 1.45455H17.9332C18.4169 1.45455 18.8321 1.77118 18.9777 2.2051L10.5999 8.02107L2.22192 2.20503ZM2.16639 3.94198V13.4545C2.16639 14.0529 2.66307 14.5455 3.26639 14.5455H17.9332C18.5365 14.5455 19.0332 14.0529 19.0332 13.4545V3.94206L11.0204 9.50462C10.7679 9.67991 10.4318 9.67991 10.1793 9.50462L2.16639 3.94198ZM20.4999 2.55809V13.4545C20.4999 14.8562 19.3465 16 17.9332 16H3.26639C1.85304 16 0.699707 14.8562 0.699707 13.4545V2.54545C0.699707 1.14379 1.85304 0 3.26639 0H17.9332C19.3407 0 20.4904 1.13441 20.4998 2.52818C20.5 2.53816 20.5001 2.54813 20.4999 2.55809Z"}))},41874:(z,u,e)=>{"use strict";e.d(u,{Z:()=>T});var o=e(6400),f=e(34755),l=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?l(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,O=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},S=(_,d)=>c(_,g(d));const T=_=>(0,o.h)(f.l,S(O({},_),{name:"ShareFacebookIcon",svgParams:{height:17,width:16}}),(0,o.h)("path",{d:"M10.6543 1.38723C10.3533 0.960814 9.95383 0.61341 9.48976 0.374567C9.02902 0.137956 8.51908 0.0130716 8.00115 0.0100098C7.86087 0.0101844 7.72354 0.0502687 7.60519 0.125581C7.48684 0.200893 7.39237 0.308324 7.3328 0.435326L5.00368 5.67077H3.029C2.72335 5.66964 2.42059 5.73003 2.13876 5.84833C1.85692 5.96663 1.60177 6.14043 1.38849 6.35938C1.16707 6.57502 0.991841 6.83346 0.873459 7.11897C0.755078 7.40447 0.696022 7.71108 0.699885 8.02014V13.691C0.699885 14.3087 0.945273 14.9012 1.38207 15.338C1.81886 15.7747 2.41128 16.0201 3.029 16.0201H13.348C13.8951 16.021 14.425 15.8283 14.8438 15.4762C15.2626 15.1241 15.5434 14.6352 15.6366 14.0961L16.6493 8.4252C16.7252 8.09192 16.7252 7.74582 16.6493 7.41254C16.566 7.08205 16.4104 6.7742 16.1936 6.51128C15.9746 6.25 15.7017 6.03926 15.3936 5.89355C15.0762 5.7467 14.7306 5.67068 14.3809 5.67077H10.5328L11.0391 4.37457C11.2397 3.88784 11.3162 3.35894 11.2619 2.83533C11.1853 2.30894 10.9763 1.81065 10.6543 1.38723ZM4.75052 14.5518H3.029C2.91049 14.5525 2.79303 14.5296 2.68349 14.4844C2.57394 14.4392 2.47452 14.3726 2.39102 14.2885C2.23609 14.1199 2.14945 13.8997 2.14799 13.6708V8.02014C2.14913 7.901 2.17389 7.78328 2.22082 7.67377C2.26775 7.56427 2.33592 7.46515 2.4214 7.38216C2.50369 7.29576 2.60267 7.22698 2.71233 7.17998C2.822 7.13298 2.94007 7.10874 3.05938 7.10874H4.7809L4.75052 14.5518ZM10.6746 7.05811H14.3809C14.5145 7.05821 14.6462 7.08942 14.7657 7.14925C14.8875 7.20532 14.9948 7.28845 15.0796 7.39229C15.1675 7.49052 15.2301 7.60871 15.2619 7.73659C15.2922 7.8665 15.2922 8.00162 15.2619 8.13153L14.2493 13.8024C14.2087 14.017 14.094 14.2106 13.9252 14.3492C13.7619 14.4812 13.558 14.5528 13.348 14.5518H6.19862V6.45052L8.43659 1.38723H8.52773C8.9042 1.50037 9.23304 1.73413 9.4636 2.05252C9.69416 2.37092 9.81365 2.75627 9.80368 3.14925C9.8181 3.39741 9.78015 3.64583 9.69229 3.87836L9.23659 5.04292C9.15397 5.273 9.12623 5.51921 9.15558 5.76191C9.1877 6.00427 9.27425 6.23623 9.40875 6.44039C9.5535 6.6376 9.74028 6.80017 9.95558 6.91634C10.1774 7.03206 10.4244 7.0912 10.6746 7.08849V7.05811Z"}))},68227:(z,u,e)=>{"use strict";e.d(u,{Z:()=>T});var o=e(6400),f=e(34755),l=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?l(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,O=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},S=(_,d)=>c(_,g(d));const T=_=>(0,o.h)(f.l,S(O({},_),{name:"ShareFbIcon",svgParams:{height:24,width:24,stroke:"none"}}),(0,o.h)("g",{"clip-path":"url(#clip0_14802_325807)"},(0,o.h)("path",{d:"M11.9993 23.9949C12.6415 23.9949 13.272 23.9444 13.8869 23.8473L19 15L19.5 5L12.5 2L4.5 12.5L10.1117 23.8473C10.7266 23.9444 11.357 23.9949 11.9993 23.9949Z",fill:"white",stroke:"none"}),(0,o.h)("path",{d:"M11.9977 0C5.37098 0 0 5.37089 0 11.9975C0 17.9844 4.38331 22.9414 10.1117 23.8491L10.1164 15.473H7.04998V12.0021H10.1164C10.1164 12.0021 10.1023 10.0269 10.1164 9.14743C10.1305 8.26797 10.3045 7.42142 10.7607 6.65008C11.4615 5.4555 12.5526 4.87237 13.893 4.70775C14.9935 4.57135 16.08 4.72183 17.1664 4.87237C17.2416 4.88176 17.2792 4.89115 17.3545 4.90529C17.3545 4.90529 17.3592 5.03225 17.3545 5.11222C17.3498 5.94933 17.3545 7.86819 17.3545 7.86819C16.8324 7.8588 15.9671 7.80706 15.3933 7.89641C14.4433 8.04221 13.8977 8.64891 13.8789 9.6036C13.8601 10.3467 13.8695 12.0021 13.8695 12.0021H17.2134L16.6726 15.473H13.8742V23.8491C19.612 22.9508 24 17.9844 24 11.9975C23.9953 5.37089 18.6243 0 11.9977 0Z",fill:"#1778F2",stroke:"none"})),(0,o.h)("defs",null,(0,o.h)("clipPath",{id:"clip0_14802_325807"},(0,o.h)("rect",{width:"24",height:"24",fill:"white"}))))},36543:(z,u,e)=>{"use strict";e.d(u,{Z:()=>T});var o=e(6400),f=e(34755),l=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?l(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,O=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},S=(_,d)=>c(_,g(d));const T=_=>(0,o.h)(f.l,S(O({},_),{name:"ShareInstagramIcon",svgParams:{height:1e3,width:1e3}}),(0,o.h)("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:sodipodi":"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd","xmlns:inkscape":"http://www.inkscape.org/namespaces/inkscape",width:"1000",height:"1000",viewBox:"0 0 264.5833 264.5833","inkscape:version":"1.0.1 (3bc2e813f5, 2020-09-07)","sodipodi:docname":"Instagram_(2022).svg"},(0,o.h)("defs",null,(0,o.h)("radialGradient",{id:"f",cx:"158.429",cy:"578.088",r:"52.3515","xlink:href":"#a",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(0 -4.03418 4.28018 0 -2332.2273 942.2356)",fx:"158.429",fy:"578.088"}),(0,o.h)("radialGradient",{"inkscape:collect":"always","xlink:href":"#b",id:"g",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(.67441 -1.16203 1.51283 .87801 -814.3657 -47.8354)",cx:"172.6149",cy:"600.6924",fx:"172.6149",fy:"600.6924",r:"65"}),(0,o.h)("radialGradient",{"inkscape:collect":"always","xlink:href":"#c",id:"h",cx:"144.012",cy:"51.3367",fx:"144.012",fy:"51.3367",r:"67.081",gradientTransform:"matrix(-2.3989 .67549 -.23008 -.81732 464.9957 -26.4035)",gradientUnits:"userSpaceOnUse"}),(0,o.h)("radialGradient",{"inkscape:collect":"always","xlink:href":"#d",id:"e",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(-3.10797 .87652 -.6315 -2.23914 1345.6503 1374.1983)",cx:"199.7884",cy:"628.4379",fx:"199.7884",fy:"628.4379",r:"52.3515"}),(0,o.h)("linearGradient",{"inkscape:collect":"always",id:"d"},(0,o.h)("stop",{offset:"0","stop-color":"#ff005f"}),(0,o.h)("stop",{offset:"1","stop-color":"#fc01d8"})),(0,o.h)("linearGradient",{id:"c"},(0,o.h)("stop",{offset:"0","stop-color":"#780cff"}),(0,o.h)("stop",{"stop-color":"#820bff",offset:"1","stop-opacity":"0"})),(0,o.h)("linearGradient",{"inkscape:collect":"always",id:"b"},(0,o.h)("stop",{offset:"0","stop-color":"#fc0"}),(0,o.h)("stop",{offset:"1","stop-color":"#fc0","stop-opacity":"0"})),(0,o.h)("linearGradient",{id:"a"},(0,o.h)("stop",{offset:"0","stop-color":"#fc0"}),(0,o.h)("stop",{offset:".1242","stop-color":"#fc0"}),(0,o.h)("stop",{offset:".5672","stop-color":"#fe4a05"}),(0,o.h)("stop",{offset:".6942","stop-color":"#ff0f3f"}),(0,o.h)("stop",{offset:"1","stop-color":"#fe0657","stop-opacity":"0"})),(0,o.h)("clipPath",{id:"clipCircle"},(0,o.h)("circle",{cx:"132",cy:"132",r:"132",fill:"#FFFFFF",stroke:"#000000"}))),(0,o.h)("g",null),(0,o.h)("g",{"inkscape:groupmode":"layer","clip-path":"url(#clipCircle)"},(0,o.h)("path",{d:"     M204.1503 18.1429c-55.2305 0-71.3834.057-74.5232.3175-11.3342.9424-18.387 2.7275-26.0708 6.554-5.9214 2.9413-10.5915 6.3506-15.2005 11.1298-8.3938 8.7157-13.481 19.4383-15.3226 32.1842-.8953 6.1877-1.1558 7.4496-1.2087 39.0558-.0203 10.5354 0 24.4007 0 42.9984 0 55.2008.061 71.3418.3256 74.4764.9157 11.032 2.6453 17.9728 6.3081 25.565 7 14.5329 20.369 25.4428 36.119 29.5137 5.4535 1.4044 11.4767 2.1779 19.2092 2.5442 3.2762.1425 36.6684.2443 70.081.2443 33.4127 0 66.8253-.0407 70.02-.2035 8.9535-.4214 14.1526-1.1195 19.9011-2.6054 15.8517-4.0912 28.9767-14.8383 36.119-29.5748 3.5916-7.409 5.4128-14.6144 6.237-25.0704.179-2.2796.2543-38.6263.2543-74.924 0-36.304-.0814-72.5835-.2605-74.8632-.8343-10.6249-2.6555-17.7692-6.363-25.3207-3.0421-6.1816-6.42-10.798-11.324-15.518-8.752-8.3616-19.4555-13.4502-32.2101-15.2902-6.18-.8936-7.411-1.1582-39.033-1.2131z","inkscape:connector-curvature":" 0",fill:" url(#e)",transform:" translate(-71.8155 -18.1429)"}),(0,o.h)("path",{d:" M204.1503 18.1429c-55.2305 0-71.3834.057-74.5232.3175-11.3342.9424-18.387 2.7275-26.0708 6.554-5.9214 2.9413-10.5915 6.3506-15.2005 11.1298-8.3938 8.7157-13.481 19.4383-15.3226 32.1842-.8953 6.1877-1.1558 7.4496-1.2087 39.0558-.0203 10.5354 0 24.4007 0 42.9984 0 55.2008.061 71.3418.3256 74.4764.9157 11.032 2.6453 17.9728 6.3081 25.565 7 14.5329 20.369 25.4428 36.119 29.5137 5.4535 1.4044 11.4767 2.1779 19.2092 2.5442 3.2762.1425 36.6684.2443 70.081.2443 33.4127 0 66.8253-.0407 70.02-.2035 8.9535-.4214 14.1526-1.1195 19.9011-2.6054 15.8517-4.0912 28.9767-14.8383 36.119-29.5748 3.5916-7.409 5.4128-14.6144 6.237-25.0704.179-2.2796.2543-38.6263.2543-74.924 0-36.304-.0814-72.5835-.2605-74.8632-.8343-10.6249-2.6555-17.7692-6.363-25.3207-3.0421-6.1816-6.42-10.798-11.324-15.518-8.752-8.3616-19.4555-13.4502-32.2101-15.2902-6.18-.8936-7.411-1.1582-39.033-1.2131z","inkscape:connector-curvature":" 0",fill:" url(#f)",transform:" translate(-71.8155 -18.1429)"}),(0,o.h)("path",{d:" M204.1503 18.1429c-55.2305 0-71.3834.057-74.5232.3175-11.3342.9424-18.387 2.7275-26.0708 6.554-5.9214 2.9413-10.5915 6.3506-15.2005 11.1298-8.3938 8.7157-13.481 19.4383-15.3226 32.1842-.8953 6.1877-1.1558 7.4496-1.2087 39.0558-.0203 10.5354 0 24.4007 0 42.9984 0 55.2008.061 71.3418.3256 74.4764.9157 11.032 2.6453 17.9728 6.3081 25.565 7 14.5329 20.369 25.4428 36.119 29.5137 5.4535 1.4044 11.4767 2.1779 19.2092 2.5442 3.2762.1425 36.6684.2443 70.081.2443 33.4127 0 66.8253-.0407 70.02-.2035 8.9535-.4214 14.1526-1.1195 19.9011-2.6054 15.8517-4.0912 28.9767-14.8383 36.119-29.5748 3.5916-7.409 5.4128-14.6144 6.237-25.0704.179-2.2796.2543-38.6263.2543-74.924 0-36.304-.0814-72.5835-.2605-74.8632-.8343-10.6249-2.6555-17.7692-6.363-25.3207-3.0421-6.1816-6.42-10.798-11.324-15.518-8.752-8.3616-19.4555-13.4502-32.2101-15.2902-6.18-.8936-7.411-1.1582-39.033-1.2131z","inkscape:connector-curvature":" 0",fill:" url(#g)",transform:" translate(-71.8155 -18.1429)"}),(0,o.h)("path",{d:" M204.1503 18.1429c-55.2305 0-71.3834.057-74.5232.3175-11.3342.9424-18.387 2.7275-26.0708 6.554-5.9214 2.9413-10.5915 6.3506-15.2005 11.1298-8.3938 8.7157-13.481 19.4383-15.3226 32.1842-.8953 6.1877-1.1558 7.4496-1.2087 39.0558-.0203 10.5354 0 24.4007 0 42.9984 0 55.2008.061 71.3418.3256 74.4764.9157 11.032 2.6453 17.9728 6.3081 25.565 7 14.5329 20.369 25.4428 36.119 29.5137 5.4535 1.4044 11.4767 2.1779 19.2092 2.5442 3.2762.1425 36.6684.2443 70.081.2443 33.4127 0 66.8253-.0407 70.02-.2035 8.9535-.4214 14.1526-1.1195 19.9011-2.6054 15.8517-4.0912 28.9767-14.8383 36.119-29.5748 3.5916-7.409 5.4128-14.6144 6.237-25.0704.179-2.2796.2543-38.6263.2543-74.924 0-36.304-.0814-72.5835-.2605-74.8632-.8343-10.6249-2.6555-17.7692-6.363-25.3207-3.0421-6.1816-6.42-10.798-11.324-15.518-8.752-8.3616-19.4555-13.4502-32.2101-15.2902-6.18-.8936-7.411-1.1582-39.033-1.2131z","inkscape:connector-curvature":" 0",fill:" url(#h)",transform:" translate(-71.8155 -18.1429)"}),(0,o.h)("path",{d:" M132.3452 33.973c-26.7167 0-30.0696.1167-40.5629.5939-10.4727.4792-17.6212 2.136-23.8762 4.567-6.4701 2.5107-11.9586 5.8693-17.4265 11.3352-5.472 5.464-8.8332 10.9483-11.354 17.4116-2.4389 6.2524-4.099 13.3976-4.5703 23.8585-.4693 10.4854-.5923 13.8379-.5923 40.5348 0 26.697.1189 30.0371.5943 40.5225.4817 10.465 2.1397 17.6082 4.5703 23.8585 2.5147 6.4654 5.8758 11.9497 11.3458 17.4136 5.466 5.468 10.9544 8.8349 17.4204 11.3456 6.259 2.4309 13.4097 4.0877 23.8803 4.567 10.4933.477 13.8441.5938 40.5588.5938 26.7188 0 30.0615-.1167 40.5547-.5939 10.4728-.4792 17.6295-2.136 23.8885-4.567 6.4681-2.5106 11.9484-5.8775 17.4143-11.3455 5.472-5.4639 8.8332-10.9482 11.354-17.4115 2.4183-6.2524 4.0784-13.3976 4.5703-23.8585.4713-10.4854.5943-13.8277.5943-40.5246 0-26.697-.123-30.0473-.5943-40.5328-.4919-10.465-2.152-17.6081-4.5703-23.8584-2.5208-6.4654-5.882-11.9498-11.354-17.4137-5.4721-5.468-10.9442-8.8266-17.4204-11.3353-6.2714-2.4309-13.424-4.0877-23.8967-4.5669-10.4933-.4772-13.8339-.5939-40.5588-.5939zm-8.825 17.7147c2.6193-.0041 5.5418 0 8.825 0 26.2659 0 29.379.0942 39.7513.5652 9.5915.4383 14.7971 2.0397 18.2648 3.3852 4.5908 1.7817 7.8638 3.9116 11.3048 7.3521 3.4431 3.4406 5.5745 6.7173 7.3617 11.3046 1.3465 3.461 2.9512 8.6628 3.3877 18.2472.4714 10.3625.5739 13.4754.5739 39.7095 0 26.234-.1025 29.347-.5739 39.7095-.4386 9.5843-2.0412 14.7861-3.3877 18.2471-1.783 4.5874-3.9186 7.8539-7.3617 11.2923-3.443 3.4406-6.712 5.5704-11.3048 7.3521-3.4636 1.3517-8.6733 2.949-18.2648 3.3873-10.3702.471-13.4854.5734-39.7513.5734-26.2679 0-29.381-.1024-39.7513-.5734-9.5914-.4423-14.797-2.0438-18.2668-3.3893-4.5908-1.7817-7.87-3.9116-11.313-7.3521-3.4431-3.4405-5.5745-6.709-7.3617-11.2985-1.3465-3.461-2.9512-8.6628-3.3877-18.2471-.4714-10.3626-.5657-13.4754-.5657-39.7259 0-26.2504.0943-29.347.5657-39.7095.4386-9.5844 2.0412-14.7861 3.3877-18.2512 1.783-4.5874 3.9186-7.8641 7.3617-11.3046 3.443-3.4406 6.7222-5.5704 11.313-7.3562 3.4677-1.3517 8.6754-2.949 18.2668-3.3894 9.075-.4096 12.5919-.5324 30.9264-.553zm61.3363 16.322c-6.5173 0-11.805 5.2776-11.805 11.792 0 6.5125 5.2877 11.7962 11.805 11.7962 6.5172 0 11.8049-5.2837 11.8049-11.7962 0-6.5124-5.2877-11.796-11.805-11.796zm-52.5113 13.7826c-27.8993 0-50.5191 22.6031-50.5191 50.4817 0 27.8786 22.6198 50.4714 50.5191 50.4714s50.511-22.5928 50.511-50.4714c0-27.8786-22.6137-50.4817-50.513-50.4817zm0 17.7147c18.109 0 32.7914 14.6694 32.7914 32.767 0 18.0956-14.6824 32.767-32.7914 32.767-18.111 0-32.7913-14.6714-32.7913-32.767 0-18.0976 14.6803-32.767 32.7913-32.767z","inkscape:connector-curvature":" 0",fill:" #fff"}))))},17835:(z,u,e)=>{"use strict";e.d(u,{Z:()=>T});var o=e(6400),f=e(34755),l=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?l(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,O=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},S=(_,d)=>c(_,g(d));const T=_=>(0,o.h)(f.l,S(O({},_),{name:"ShareLinkedinIcon",svgParams:{height:24,width:24,stroke:"none"}}),(0,o.h)("rect",{width:"24",height:"24",rx:"12",fill:"#2867B2",stroke:"none"}),(0,o.h)("path",{d:"M8.68323 17H6.07143V9.79229H8.68323V17ZM7.33126 8.47122C6.53313 8.47122 6 7.94196 6 7.23561C6 6.52925 6.53209 6 7.41925 6C8.21739 6 8.75052 6.52925 8.75052 7.23561C8.75052 7.94196 8.21843 8.47122 7.33126 8.47122ZM18 17H15.472V13.0605C15.472 11.9711 14.7981 11.7198 14.5455 11.7198C14.293 11.7198 13.4503 11.8877 13.4503 13.0605C13.4503 13.2283 13.4503 17 13.4503 17H10.8385V9.79229H13.4503V10.7983C13.7867 10.2114 14.4607 9.79229 15.7246 9.79229C16.9886 9.79229 18 10.7983 18 13.0605V17Z",fill:"white",stroke:"none"}))},9e3:(z,u,e)=>{"use strict";e.d(u,{Z:()=>T});var o=e(6400),f=e(34755),l=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?l(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,O=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},S=(_,d)=>c(_,g(d));const T=_=>(0,o.h)(f.l,S(O({},_),{name:"ShareSubstackIconCircle",svgParams:{height:24,width:24,viewBox:"0 0 24 24",fill:"none",stroke:"none"}}),(0,o.h)("g",{"clip-path":"url(#clip0_23936_14598)"},(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 24C18.6274 24 24 18.6274 24 12C24 5.37257 18.6274 0 12 0C5.37259 0 0 5.37257 0 12C0 18.6274 5.37259 24 12 24Z",fill:"url(#paint0_linear_23936_14598)",stroke:"none"}),(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.90625 6.35134C6.90625 6.1573 7.06355 6 7.25759 6H16.7438C16.9379 6 17.0952 6.1573 17.0952 6.35134V7.39628H6.90625V6.35134ZM6.90625 8.79273H17.0952V10.1897H6.90625V8.79273ZM6.90625 11.5861V18.3238C6.90625 18.6083 7.22661 18.7748 7.45943 18.6114L11.7989 15.5657C11.92 15.4807 12.0814 15.4807 12.2026 15.5657L16.542 18.6114C16.7748 18.7748 17.0952 18.6083 17.0952 18.3238V11.5861H6.90625Z",fill:"white",stroke:"none"})),(0,o.h)("defs",null,(0,o.h)("linearGradient",{id:"paint0_linear_23936_14598",x1:"12",y1:"0",x2:"12",y2:"24",gradientUnits:"userSpaceOnUse"},(0,o.h)("stop",{"stop-color":"#FF6719"}),(0,o.h)("stop",{offset:"0.0001","stop-color":"#FF742D"}),(0,o.h)("stop",{offset:"0.197917","stop-color":"#FF6719"}),(0,o.h)("stop",{offset:"1","stop-color":"#FF5E19"})),(0,o.h)("clipPath",{id:"clip0_23936_14598"},(0,o.h)("rect",{width:"24",height:"24",fill:"white"}))))},66839:(z,u,e)=>{"use strict";e.d(u,{Z:()=>T});var o=e(6400),f=e(34755),l=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?l(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,O=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},S=(_,d)=>c(_,g(d));const T=_=>(0,o.h)(f.l,S(O({},_),{name:"ShareTwitterIcon",svgParams:{height:24,width:24,stroke:"none"}}),(0,o.h)("g",{"clip-path":"url(#clip0_14802_325810)"},(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 24C18.6274 24 24 18.6274 24 12C24 5.37257 18.6274 0 12 0C5.37259 0 0 5.37257 0 12C0 18.6274 5.37259 24 12 24Z",fill:"#1DA1F2",stroke:"none"}),(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M19.573 6.28855C19.1372 6.5863 18.1365 7.01904 17.643 7.01904V7.0199C17.0795 6.392 16.2862 6 15.4064 6C13.6975 6 12.3119 7.47805 12.3119 9.3001C12.3119 9.55323 12.3393 9.80017 12.3902 10.037C10.0722 9.9721 7.5365 8.73282 6.01036 6.61176C5.072 8.34417 5.88398 10.2709 6.94882 10.973C6.58432 11.0023 5.91334 10.9282 5.59748 10.5995C5.57632 11.7494 6.09468 13.2729 7.98468 13.8256C7.62066 14.0345 6.97636 13.9746 6.69618 13.9301C6.79448 14.9008 8.06884 16.1698 9.46234 16.1698C8.96568 16.7826 7.097 17.894 5 17.5404C6.42414 18.4647 8.084 19 9.84082 19C14.8334 19 18.7105 14.6841 18.5018 9.3598C18.501 9.35395 18.501 9.3481 18.5005 9.3417C18.501 9.328 18.5018 9.3143 18.5018 9.3001C18.5018 9.28353 18.5005 9.26793 18.5 9.2519C18.9545 8.92034 19.5644 8.33388 20 7.56195C19.7474 7.71042 18.9893 8.00763 18.284 8.08141C18.7367 7.82081 19.4073 6.96731 19.573 6.28855Z",fill:"white",stroke:"none"})),(0,o.h)("defs",null,(0,o.h)("clipPath",{id:"clip0_14802_325810"},(0,o.h)("rect",{width:"24",height:"24",fill:"white"}))))},33705:(z,u,e)=>{"use strict";e.d(u,{Z:()=>s});var o=e(6400),f=e(89018),l=e.n(f),c=e(34755),g=Object.defineProperty,v=Object.defineProperties,E=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,S=(w,P,I)=>P in w?g(w,P,{enumerable:!0,configurable:!0,writable:!0,value:I}):w[P]=I,x=(w,P)=>{for(var I in P||(P={}))p.call(P,I)&&S(w,I,P[I]);if(y)for(var I of y(P))O.call(P,I)&&S(w,I,P[I]);return w},T=(w,P)=>v(w,E(P)),_=(w,P)=>{var I={};for(var D in w)p.call(w,D)&&P.indexOf(D)<0&&(I[D]=w[D]);if(w!=null&&y)for(var D of y(w))P.indexOf(D)<0&&O.call(w,D)&&(I[D]=w[D]);return I};const s=w=>{var P=w,{color:I=f.substack_color}=P,D=_(P,["color"]);return(0,o.h)(c.l,T(x({},D),{name:"SubstackIconNoPadding",svgParams:{height:24,width:21,fill:I,stroke:"none"}}),(0,o.h)("path",{d:"M20.9991 5.40625H0V8.24275H20.9991V5.40625Z"}),(0,o.h)("path",{d:"M0 10.8125V24.0004L10.4991 18.1107L21 24.0004V10.8125H0Z"}),(0,o.h)("path",{d:"M20.9991 0H0V2.83603H20.9991V0Z"}))}},46209:(z,u,e)=>{"use strict";e.d(u,{Z:()=>T});var o=e(6400),f=e(34755),l=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?l(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,O=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},S=(_,d)=>c(_,g(d));const T=_=>(0,o.h)(f.l,S(O({},_),{name:"SubstackLogoIcon",svgParams:{height:18,width:16,fill:"#ff6719",stroke:"none"}}),(0,o.h)("path",{d:"M16 4H0V6H16V4Z"}),(0,o.h)("path",{d:"M0 8V18L7.9993 13.534L16 18V8H0Z"}),(0,o.h)("path",{d:"M16 0H0V2H16V0Z"}))},1138:(z,u,e)=>{"use strict";e.d(u,{Z:()=>_});var o=e(6400),f=e(34755),l=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(d,s,w)=>s in d?l(d,s,{enumerable:!0,configurable:!0,writable:!0,value:w}):d[s]=w,O=(d,s)=>{for(var w in s||(s={}))E.call(s,w)&&p(d,w,s[w]);if(v)for(var w of v(s))y.call(s,w)&&p(d,w,s[w]);return d},S=(d,s)=>c(d,g(s)),x=(d,s)=>{var w={};for(var P in d)E.call(d,P)&&s.indexOf(P)<0&&(w[P]=d[P]);if(d!=null&&v)for(var P of v(d))s.indexOf(P)<0&&y.call(d,P)&&(w[P]=d[P]);return w};const _=d=>{var s=d,{stroke:w,size:P=36}=s,I=x(s,["stroke","size"]);return(0,o.h)(f.l,S(O({},I),{name:"ThinCircleCheckmarkIcon2",svgParams:{viewBox:"0 0 36 36",height:P,width:P,fill:"none"}}),(0,o.h)("path",{d:"M34.6667 16.4666V17.9999C34.6646 21.594 33.5008 25.0911 31.3489 27.9696C29.1969 30.8482 26.1721 32.9541 22.7256 33.9731C19.279 34.9921 15.5954 34.8698 12.2241 33.6242C8.85279 32.3787 5.97441 30.0768 4.01825 27.0617C2.0621 24.0467 1.13297 20.48 1.36945 16.8938C1.60592 13.3075 2.99533 9.89381 5.33045 7.16173C7.66558 4.42964 10.8213 2.52557 14.327 1.73351C17.8326 0.941453 21.5004 1.30383 24.7833 2.7666",stroke:w||"#FB6542","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,o.h)("path",{transform:"translate(11.67, 3.34)",d:"M22.6667 1.66663L6 18.35L1 13.35",stroke:w||"#FB6542","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}))}},96733:(z,u,e)=>{"use strict";var o=e(6400),f=e(34755),l=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?l(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,O=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},S=(_,d)=>c(_,g(d));const x=_=>h(SvgIcon,S(O({},_),{name:"TikTokSimpleIcon",svgParams:{height:24,width:24}}),h("path",{d:"M18.7113 6.09867C18.5721 6.02672 18.4366 5.94785 18.3053 5.86234C17.9234 5.60988 17.5733 5.31241 17.2624 4.97633C16.4847 4.08645 16.1942 3.18367 16.0872 2.5516H16.0915C16.0022 2.02695 16.0391 1.6875 16.0447 1.6875H12.5024V15.3851C12.5024 15.569 12.5024 15.7507 12.4946 15.9304C12.4946 15.9527 12.4925 15.9733 12.4912 15.9974C12.4912 16.0073 12.4912 16.0176 12.489 16.0279C12.489 16.0305 12.489 16.033 12.489 16.0356C12.4517 16.5271 12.2942 17.0019 12.0303 17.4181C11.7664 17.8344 11.4042 18.1795 10.9757 18.423C10.529 18.6771 10.0239 18.8104 9.51002 18.8097C7.85959 18.8097 6.52197 17.4639 6.52197 15.8019C6.52197 14.1398 7.85959 12.7941 9.51002 12.7941C9.82244 12.7938 10.1329 12.8429 10.43 12.9397L10.4343 9.33293C9.53252 9.21645 8.61641 9.28811 7.74373 9.54341C6.87106 9.7987 6.06076 10.2321 5.36396 10.8162C4.75341 11.3467 4.24011 11.9797 3.84717 12.6866C3.69764 12.9445 3.13346 13.9804 3.06514 15.6618C3.02217 16.6161 3.30877 17.6048 3.44541 18.0135V18.0221C3.53135 18.2627 3.86435 19.0838 4.40705 19.7761C4.84466 20.3313 5.36168 20.8191 5.94146 21.2237V21.2151L5.95006 21.2237C7.66494 22.389 9.56631 22.3125 9.56631 22.3125C9.89545 22.2992 10.998 22.3125 12.2501 21.7191C13.6389 21.0613 14.4295 20.0811 14.4295 20.0811C14.9346 19.4955 15.3362 18.8281 15.6172 18.1076C15.9377 17.265 16.0447 16.2543 16.0447 15.8504V8.58355C16.0877 8.60934 16.66 8.98789 16.66 8.98789C16.66 8.98789 17.4846 9.51641 18.7711 9.86059C19.694 10.1055 20.9376 10.1571 20.9376 10.1571V6.64051C20.5019 6.68777 19.6171 6.55027 18.7113 6.09867Z"}));var T=null},59736:(z,u,e)=>{"use strict";e.d(u,{Z:()=>T});var o=e(6400),f=e(34755),l=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?l(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,O=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},S=(_,d)=>c(_,g(d));const T=_=>(0,o.h)(f.l,S(O({},_),{name:"TwitterIcon",svgParams:{height:24,width:24}}),(0,o.h)("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"}))},95950:(z,u,e)=>{"use strict";e.d(u,{Z:()=>T});var o=e(6400),f=e(34755),l=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?l(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,O=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},S=(_,d)=>c(_,g(d));const T=_=>(0,o.h)(f.l,S(O({},_),{name:"TwitterShareIcon",svgParams:{height:24,width:24,stroke:"none",viewBox:"0 0 512 512"}}),(0,o.h)("rect",{width:"512",height:"512",fill:"#1da1f2"}),(0,o.h)("path",{fill:"#fff",d:"M437 152a72 72 0 01-40 12a72 72 0 0032-40a72 72 0 01-45 17a72 72 0 00-122 65a200 200 0 01-145-74a72 72 0 0022 94a72 72 0 01-32-7a72 72 0 0056 69a72 72 0 01-32 1a72 72 0 0067 50a200 200 0 01-105 29a200 200 0 00309-179a200 200 0 0035-37"}))},51736:(z,u,e)=>{"use strict";e.d(u,{Z:()=>_});var o=e(6400),f=e(34755),l=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(d,s,w)=>s in d?l(d,s,{enumerable:!0,configurable:!0,writable:!0,value:w}):d[s]=w,O=(d,s)=>{for(var w in s||(s={}))E.call(s,w)&&p(d,w,s[w]);if(v)for(var w of v(s))y.call(s,w)&&p(d,w,s[w]);return d},S=(d,s)=>c(d,g(s)),x=(d,s)=>{var w={};for(var P in d)E.call(d,P)&&s.indexOf(P)<0&&(w[P]=d[P]);if(d!=null&&v)for(var P of v(d))s.indexOf(P)<0&&y.call(d,P)&&(w[P]=d[P]);return w};const _=d=>{var s=d,{fill:w="#FF6719"}=s,P=x(s,["fill"]);return(0,o.h)(f.l,S(O({},P),{fill:w,name:"UserBadgeIcon",svgParams:{viewBox:"0 0 40 40",height:40,width:40}}),(0,o.h)("path",{d:"M17.4385 1.2681C19.3988 0.456149 21.6012 0.45615 23.5615 1.2681L31.5807 4.58976C33.5409 5.40172 35.0983 6.95911 35.9102 8.91933L39.2319 16.9385C40.0439 18.8988 40.0439 21.1012 39.2319 23.0615L35.9102 31.0807C35.0983 33.0409 33.5409 34.5983 31.5807 35.4102L23.5615 38.7319C21.6012 39.5439 19.3988 39.5439 17.4385 38.7319L9.41933 35.4102C7.45911 34.5983 5.90171 33.0409 5.08976 31.0807L1.7681 23.0615C0.956149 21.1012 0.95615 18.8988 1.7681 16.9385L5.08976 8.91933C5.90172 6.95911 7.45911 5.40171 9.41933 4.58976L17.4385 1.2681Z",fill:w,stroke:"transparent"}),(0,o.h)("path",{d:"M27.1666 15L17.9999 24.1667L13.8333 20",stroke:"white",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}))}},47052:(z,u,e)=>{"use strict";e.d(u,{Z:()=>T});var o=e(6400),f=e(34755),l=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?l(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,O=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},S=(_,d)=>c(_,g(d));const T=_=>(0,o.h)(f.l,S(O({},_),{name:"UserBadgeOutlineIcon",svgParams:{viewBox:"0 0 40 40",height:40,width:40}}),(0,o.h)("path",{d:"M17.8212 2.19198C19.5364 1.48152 21.4636 1.48152 23.1788 2.19198L31.198 5.51364C32.9132 6.2241 34.2759 7.58682 34.9864 9.30201L38.308 17.3212C39.0185 19.0364 39.0185 20.9636 38.308 22.6788L34.9864 30.698C34.2759 32.4132 32.9132 33.7759 31.198 34.4864L23.1788 37.808C21.4636 38.5185 19.5364 38.5185 17.8212 37.808L9.80201 34.4864C8.08682 33.7759 6.7241 32.4132 6.01364 30.698L2.69198 22.6788C1.98152 20.9636 1.98152 19.0364 2.69198 17.3212L6.01364 9.30201C6.7241 7.58682 8.08682 6.2241 9.80202 5.51364L17.8212 2.19198Z",stroke:"#FF6719",strokeWidth:"4",fill:"transparent"}),(0,o.h)("path",{d:"M27.1666 15L17.9999 24.1667L13.8333 20",stroke:"#FF6719",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}))},81243:(z,u,e)=>{"use strict";e.d(u,{Z:()=>_});var o=e(6400),f=e(34755),l=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(d,s,w)=>s in d?l(d,s,{enumerable:!0,configurable:!0,writable:!0,value:w}):d[s]=w,O=(d,s)=>{for(var w in s||(s={}))E.call(s,w)&&p(d,w,s[w]);if(v)for(var w of v(s))y.call(s,w)&&p(d,w,s[w]);return d},S=(d,s)=>c(d,g(s)),x=(d,s)=>{var w={};for(var P in d)E.call(d,P)&&s.indexOf(P)<0&&(w[P]=d[P]);if(d!=null&&v)for(var P of v(d))s.indexOf(P)<0&&y.call(d,P)&&(w[P]=d[P]);return w};const _=d=>{var s=d,{strokeWidth:w=1.5}=s,P=x(s,["strokeWidth"]);return(0,o.h)(f.l,S(O({},P),{name:"UserIcon",svgParams:{width:24,height:24,viewBox:"0 0 24 24",fill:"none"}}),(0,o.h)("path",{d:"M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21","stroke-width":w,"stroke-linecap":"round","stroke-linejoin":"round"}),(0,o.h)("path",{d:"M12 11C14.2091 11 16 9.20914 16 7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7C8 9.20914 9.79086 11 12 11Z","stroke-width":w,"stroke-linecap":"round","stroke-linejoin":"round"}))}},63861:(z,u,e)=>{"use strict";var o=e(6400),f=e(34755),l=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?l(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,O=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},S=(_,d)=>c(_,g(d));const x=_=>h(SvgIcon,S(O({},_),{name:"YoutubeIcon",svgParams:{height:24,width:24}}),h("path",{d:"M21.582 6.07467C21.352 5.21467 20.674 4.53667 19.814 4.30667C18.254 3.88867 12 3.88867 12 3.88867C12 3.88867 5.746 3.88867 4.186 4.30667C3.326 4.53667 2.648 5.21467 2.418 6.07467C2 7.63467 2 11.8887 2 11.8887C2 11.8887 2 16.1427 2.418 17.7027C2.648 18.5627 3.326 19.2407 4.186 19.4707C5.746 19.8887 12 19.8887 12 19.8887C12 19.8887 18.254 19.8887 19.814 19.4707C20.675 19.2407 21.352 18.5627 21.582 17.7027C22 16.1427 22 11.8887 22 11.8887C22 11.8887 22 7.63467 21.582 6.07467ZM10 15.3527V8.42467L16 11.8887L10 15.3527Z"}));var T=null},34755:(z,u,e)=>{"use strict";e.d(u,{l:()=>S});var o=e(6400),f=e(15045),l=e(89867),c=Object.defineProperty,g=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,y=(x,T,_)=>T in x?c(x,T,{enumerable:!0,configurable:!0,writable:!0,value:_}):x[T]=_,p=(x,T)=>{for(var _ in T||(T={}))v.call(T,_)&&y(x,_,T[_]);if(g)for(var _ of g(T))E.call(T,_)&&y(x,_,T[_]);return x},O=(x,T)=>{var _={};for(var d in x)v.call(x,d)&&T.indexOf(d)<0&&(_[d]=x[d]);if(x!=null&&g)for(var d of g(x))T.indexOf(d)<0&&E.call(x,d)&&(_[d]=x[d]);return _};const S=x=>{var T=x,{name:_,svgParams:d,isStatic:s,height:w,fill:P,stroke:I,version:D=4,strokeWidth:N=1.8,strokeLinecap:C,strokeLinejoin:A,alt:L,additionalStaticParams:U={},children:W}=T,G=O(T,["name","svgParams","isStatic","height","fill","stroke","version","strokeWidth","strokeLinecap","strokeLinejoin","alt","additionalStaticParams","children"]);const $=w?(d.width||1)*w/(d.height||1):d.width||1,q=w||d.height||1;return s?(0,o.h)(l.Z,p(p({src:(0,f.imginary)((0,f.pathWithQuery)(`/icon/${_}`,{v:D||4,height:q*2,fill:P,stroke:I,strokeWidth:N*2,strokeLinecap:C,strokeLinejoin:A}),$*2,{format:"png",crop:"scale"}),width:$,height:q,style:{maxWidth:`${$}px`},alt:L||""},U),G)):(0,o.h)("svg",p({role:"img",style:w?{height:`${q}px`,width:`${$}px`}:void 0,width:$,height:q,viewBox:d.viewBox||`0 0 ${d.width} ${d.height}`,fill:P||d.fill||"none",strokeWidth:N||typeof N=="number"?Number(N):typeof d.strokeWidth=="number"?d.strokeWidth:1,stroke:I||d.stroke||"#000",strokeLinecap:C,strokeLinejoin:A,xmlns:"http://www.w3.org/2000/svg"},G),(0,o.h)("g",null,(0,o.h)("title",null,L||""),W))}},11862:(z,u,e)=>{"use strict";var o=e(6400);function f({className:c}){return h("svg",{className:c,width:"24",height:"24",viewBox:"0 0 24 24"},h("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.5 20.1456C2.33682 19.7895 2.25 19.3992 2.25 19V18V14V12C2.25 9.41414 3.27723 6.93419 5.10571 5.10571C6.93419 3.27723 9.41414 2.25 12 2.25C14.5859 2.25 17.0658 3.27723 18.8943 5.10571C20.7228 6.93419 21.75 9.41414 21.75 12V14V18V19C21.75 19.3992 21.6632 19.7895 21.5 20.1456V20.3889C21.4583 20.3889 21.4169 20.3875 21.3759 20.3848C21.2578 20.5874 21.1133 20.7758 20.9445 20.9445C20.4288 21.4603 19.7293 21.75 19 21.75H18C17.2707 21.75 16.5712 21.4603 16.0555 20.9445C15.5397 20.4288 15.25 19.7293 15.25 19V16C15.25 15.2707 15.5397 14.5712 16.0555 14.0555C16.5712 13.5397 17.2707 13.25 18 13.25H19.6528V12.2083C19.6528 10.1787 18.8465 8.23218 17.4113 6.797C15.9762 5.36183 14.0296 4.55556 12 4.55556C9.97036 4.55556 8.02384 5.36183 6.58867 6.797C5.15349 8.23218 4.34722 10.1787 4.34722 12.2083V13.25H6C6.72935 13.25 7.42882 13.5397 7.94454 14.0555C8.46027 14.5712 8.75 15.2707 8.75 16V19C8.75 19.7293 8.46027 20.4288 7.94454 20.9445C7.42882 21.4603 6.72935 21.75 6 21.75H5C4.27065 21.75 3.57118 21.4603 3.05546 20.9445C2.88674 20.7758 2.74221 20.5874 2.6241 20.3848C2.58309 20.3875 2.5417 20.3889 2.5 20.3889V20.1456Z"}))}var l=null},91704:(z,u,e)=>{"use strict";e.d(u,{HA:()=>x});var o=e(6400),f=e(34755),l=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(d,s,w)=>s in d?l(d,s,{enumerable:!0,configurable:!0,writable:!0,value:w}):d[s]=w,O=(d,s)=>{for(var w in s||(s={}))E.call(s,w)&&p(d,w,s[w]);if(v)for(var w of v(s))y.call(s,w)&&p(d,w,s[w]);return d},S=(d,s)=>c(d,g(s));function x(d){return(0,o.h)("svg",O({width:"12",height:"12",viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg"},d),(0,o.h)("path",{d:"M5.67709 10C6.02484 10 6.28151 9.73617 6.28151 9.37872V7.91489H6.37259C7.82981 7.91489 8.69917 8.39574 9.30773 9.54894C9.48574 9.88085 9.69273 9.97021 9.93698 9.97021C10.2682 9.97021 10.5 9.64255 10.5 9.00426C10.5 5.94894 9.16283 4.10638 6.37259 4.10638H6.28151V2.64255C6.28151 2.28511 6.02484 2 5.66881 2C5.43698 2 5.27139 2.09787 5.01886 2.33617L1.73183 5.4766C1.56624 5.6383 1.5 5.82553 1.5 6C1.5 6.16596 1.57038 6.36596 1.73183 6.5234L5.01886 9.68511C5.24655 9.90213 5.43698 10 5.67709 10Z"}))}function T(d){return h(SvgIcon,S(O({},d),{name:"reader2__ReplyIcon",svgParams:{height:22,width:22,stroke:"none"}}),h("circle",{cx:"11",cy:"11",r:"11",fill:"#1DA1F2"}),h("g",{transform:"translate(5 5)"},h("path",{fill:"#ffffff",d:"M5.67709 10C6.02484 10 6.28151 9.73617 6.28151 9.37872V7.91489H6.37259C7.82981 7.91489 8.69917 8.39574 9.30773 9.54894C9.48574 9.88085 9.69273 9.97021 9.93698 9.97021C10.2682 9.97021 10.5 9.64255 10.5 9.00426C10.5 5.94894 9.16283 4.10638 6.37259 4.10638H6.28151V2.64255C6.28151 2.28511 6.02484 2 5.66881 2C5.43698 2 5.27139 2.09787 5.01886 2.33617L1.73183 5.4766C1.56624 5.6383 1.5 5.82553 1.5 6C1.5 6.16596 1.57038 6.36596 1.73183 6.5234L5.01886 9.68511C5.24655 9.90213 5.43698 10 5.67709 10Z"})))}var _=null},38199:(z,u,e)=>{"use strict";var o=e(6400);function f({className:c}){return h("svg",{className:c,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.7848 3.78723C4.2873 3.28318 4.96884 3 5.67949 3H18.3205C19.0312 3 19.7127 3.28318 20.2152 3.78723C20.7177 4.29129 21 4.97494 21 5.68778V14.4027C21 15.1155 20.7177 15.7992 20.2152 16.3032C19.7127 16.8073 19.0312 17.0905 18.3205 17.0905H7.9309L4.2475 20.7853C4.0385 20.9949 3.72419 21.0576 3.45112 20.9442C3.17805 20.8307 3 20.5634 3 20.2669V5.68778C3 4.97494 3.2823 4.29129 3.7848 3.78723Z"}))}var l=null},56790:(z,u,e)=>{"use strict";var o=e(6400);function f({className:c}){return h("svg",{className:c,width:"24",height:"24",viewBox:"0 0 24 24"},h("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.83333 5C1.26853 5 0 6.11207 0 7.48387V16.5161C0 17.8879 1.26853 19 2.83333 19H14.1667C15.7315 19 17 17.8879 17 16.5161V7.48387C17 6.11207 15.7315 5 14.1667 5H2.83333ZM18 14.7264L21.6962 17.5549C22.0546 17.8238 22.4334 18 22.8123 18C23.529 18 24 17.527 24 16.8037V7.19629C24 6.47295 23.529 6 22.8123 6C22.4334 6 22.0546 6.1762 21.6962 6.44513L18 9.25502V14.7264Z"}))}var l=null},49786:(z,u,e)=>{"use strict";e.d(u,{hF:()=>R,_q:()=>q,xt:()=>J,G0:()=>G,RH:()=>$});var o=e(6400),f=e(30396),l=e(94184),c=e.n(l),g=e(36808),v=e(69427),E=e(85928),y=e.n(E),p=e(20501),O=e(83322),S=e(63270),x=e(3258),T=e(36868),_=e(39419),d=e(84040),s=e(51126),w=e(62246),P=e(43887);const I={container:"frontend-components-like_post_upsell_modal-module__container--nx2aQ",label:"frontend-components-like_post_upsell_modal-module__label--l1Xwk",input:"frontend-components-like_post_upsell_modal-module__input--QqUnn",selectedInput:"frontend-components-like_post_upsell_modal-module__selectedInput--FPxHZ"};var D=Object.defineProperty,N=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable,L=(j,ie,le)=>ie in j?D(j,ie,{enumerable:!0,configurable:!0,writable:!0,value:le}):j[ie]=le,U=(j,ie)=>{for(var le in ie||(ie={}))C.call(ie,le)&&L(j,le,ie[le]);if(N)for(var le of N(ie))A.call(ie,le)&&L(j,le,ie[le]);return j};const W="like_upsell_last_shown_at",G=()=>{const j=g.get(W);if(j){const ie=y()(j),le=y()().subtract(30,"days");if(ie.isAfter(le))return!1}return!0},$=j=>{g.set(W,y()().format(),U({expires:365*10},!j.custom_domain&&{domain:`.${new URL((0,p.getBaseUrl)()).hostname}`}))},q=({pub:j})=>{var ie,le;const ye=(0,S.xR)(),[ue,oe]=(0,f.eJ)((ie=j==null?void 0:j.plans)==null?void 0:ie[0]),te=ye.getConfigFor("disable_monthly_subscriptions");return(0,o.h)(s.tu,{gap:20},(0,o.h)(s.tu,{gap:4},(0,o.h)(P.xv.H4,{weight:"semibold"},"Support ",j.name),(0,o.h)(P.xv.B4,{color:"secondary"},"Since you liked this post, why not support ",j.name," with a subscription?")),(0,o.h)("form",{className:I.form},(0,o.h)(s.tu,{gap:12},(le=j==null?void 0:j.plans)==null?void 0:le.map(Z=>{if(!(Z.interval==="month"&&te))return(0,o.h)("label",{className:I.label,key:Z.id},(0,o.h)(s.gq,{gap:12,alignItems:"center"},(0,o.h)("input",{name:"plan",type:"radio",value:Z.id,onInput:()=>oe(Z),checked:ue&&ue.id===Z.id,className:c()({[I.selectedInput]:ue&&ue.id===Z.id},I.input)}),(0,o.h)(s.gq,{gap:8},(0,o.h)(P.xv.B4,{as:"span",weight:"semibold",color:ue&&ue.id===Z.id?"primary":"secondary"},(0,O.getPlanTitle)(Z,j.language)),(0,o.h)(P.xv.B4,{as:"span",color:"secondary"},(0,O.planBasePricing)(Z)))))}))),(0,o.h)(d.zx,{onClick:()=>{(0,x.j)(x.FP.LIKE_UPSELL_PLAN_SELECTED),(0,_.redirect)((0,p.getSubscribeUrl)(j,{params:U({utm_source:"like-button-upsell"},ue&&{selectedPlanId:ue.id})}),{local_navigation:!1})},grow:!0,priority:"primary-theme"},"Select"))},J=({pub:j,onClose:ie,shareDialogRef:le})=>(0,o.h)(s.tu,{gap:20},(0,o.h)(s.tu,{gap:4},(0,o.h)(P.xv.H4,{weight:"semibold"},"Share this post with a friend"),(0,o.h)(P.xv.B4,{color:"secondary"},"Since you liked this post, why not share it to help spread the word?")),(0,o.h)(d.zx,{onClick:()=>{var ye;(0,x.j)(x.FP.LIKE_UPSELL_SHARE_CLICKED),(ye=le.current)==null||ye.open(),ie==null||ie()},grow:!0,priority:"primary-theme"},"Share")),R=({user:j,pub:ie,post:le})=>{const ye=(0,f.sO)(),ue=G(),[oe,te]=(0,f.eJ)(ue),[Z,re]=(0,f.eJ)(ue);(0,f.d4)(()=>{(!ue||j!=null&&j.is_contributor||j!=null&&j.is_admin)&&(0,_.removeQueryParam)("show_reaction_upsell")},[ue,j]),(0,f.d4)(()=>{Z&&oe&&((0,x.j)(x.FP.LIKE_UPSELL_MODAL_SEEN,{source:"email",type:(0,T.P)(j,ie)?"share":"paid"}),$(ie))},[Z,oe,ie,j]);const ae=()=>{te(!oe),re(!1),(0,_.removeQueryParam)("show_reaction_upsell")};return j&&!j.is_contributor&&!j.is_admin&&Z?(0,o.h)(o.Fragment,null,(0,o.h)(w.u_,{isOpen:oe,onClose:ae},(0,o.h)(w.fe,null,(0,T.P)(j,ie)?(0,o.h)(J,{pub:ie,onClose:ae,shareDialogRef:ye}):(0,o.h)(q,{pub:ie}))),(0,o.h)(v.ZP,{ref:ye,user:j,pub:ie,post:le})):null}},65726:(z,u,e)=>{"use strict";e.d(u,{Z:()=>O});var o=e(6400),f=Object.defineProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,v=(S,x,T)=>x in S?f(S,x,{enumerable:!0,configurable:!0,writable:!0,value:T}):S[x]=T,E=(S,x)=>{for(var T in x||(x={}))c.call(x,T)&&v(S,T,x[T]);if(l)for(var T of l(x))g.call(x,T)&&v(S,T,x[T]);return S},y=(S,x)=>{var T={};for(var _ in S)c.call(S,_)&&x.indexOf(_)<0&&(T[_]=S[_]);if(S!=null&&l)for(var _ of l(S))x.indexOf(_)<0&&g.call(S,_)&&(T[_]=S[_]);return T};const O=S=>{var x=S,{children:T,href:_,onClick:d}=x,s=y(x,["children","href","onClick"]);return(0,o.h)("a",E(E({role:"button",tabIndex:0,href:_!=null?_:"javascript:void(0)"},d&&{onClick:w=>{w.stopPropagation(),d(w)}}),s),T)}},86602:(z,u,e)=>{"use strict";e.r(u),e.d(u,{chatMentionsSearch:()=>L,default:()=>D,mentionsSearch:()=>C});var o=e(6400),f=e(80569),l=e.n(f),c=e(20501),g=e(92643),v=e(44695),E=e(80332);const y={mention:"frontend-components-mention-module__mention--UisMf"};var p=Object.defineProperty,O=Object.defineProperties,S=Object.getOwnPropertyDescriptors,x=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,d=(U,W,G)=>W in U?p(U,W,{enumerable:!0,configurable:!0,writable:!0,value:G}):U[W]=G,s=(U,W)=>{for(var G in W||(W={}))T.call(W,G)&&d(U,G,W[G]);if(x)for(var G of x(W))_.call(W,G)&&d(U,G,W[G]);return U},w=(U,W)=>O(U,S(W)),P=(U,W,G)=>new Promise(($,q)=>{var J=ie=>{try{j(G.next(ie))}catch(le){q(le)}},R=ie=>{try{j(G.throw(ie))}catch(le){q(le)}},j=ie=>ie.done?$(ie.value):Promise.resolve(ie.value).then(J,R);j((G=G.apply(U,W)).next())});const D=({id:U,type:W,name:G,url:$,photo_url:q,uuid:J,mentionText:R,isStatic:j=!1,isEditorContext:ie=!1})=>{if(j)return(0,o.h)("span",{className:y.mention,"data-component-name":"MentionStatic"},(0,o.h)("a",{href:(0,c.getMentionsUrl)(W,U,G,$)},G||"Substack user"));if(W==="user"){const le={id:U,name:G||"Substack user",photo_url:q};return(0,o.h)(g.am,null,(0,o.h)(E.Ct,{subject:le,utmSource:"mention"},(0,o.h)("a",{className:y.mention,href:ie?void 0:(0,c.getMentionsUrl)(W,U,G,$),target:"_blank",rel:"noopener","data-attrs":JSON.stringify({name:G,id:U,type:W,url:$,photo_url:q,uuid:J}),onClick:ye=>ye.stopPropagation(),"data-component-name":"MentionUser"},R!=null?R:G)))}return W==="pub"?(0,o.h)(v.Sm,{publication_id:U,utmSource:"mention"},(0,o.h)("a",{className:y.mention,href:$,target:"_blank",rel:"noopener","data-attrs":JSON.stringify({name:G,id:U,type:W,url:ie?void 0:(0,c.getMentionsUrl)(W,U,G,$),uuid:J}),onClick:le=>le.stopPropagation(),"data-component-name":"MentionPub"},R!=null?R:G)):(0,o.h)("a",{className:y.mention,target:"_blank",rel:"noopener",href:(0,c.getMentionsUrl)(W,U,G,$),"data-attrs":JSON.stringify({name:G,id:U,type:W,url:$,photo_url:q,uuid:J}),"data-component-name":"Mention"},R!=null?R:G)},N={},C=(U,...W)=>P(void 0,[U,...W],function*(G,{pathname:$="/api/v1/posts/mention"}={}){if(N[G])return N[G];const q=yield l().get($).query({query:G}),{profiles:J,publications:R}=q.body,j=new Map;return J&&J.length&&j.set("Writers",J.map(ie=>w(s({},ie),{type:"user"}))),R&&R.length&&j.set("Publications",R==null?void 0:R.map(ie=>w(s({},ie),{type:"pub",url:(0,c.getPublicationAppLinkUrl)({subdomain:ie.subdomain}),photo_url:ie.logo_url}))),N[G]=j,j}),A={},L=(U,...W)=>P(void 0,[U,...W],function*(G,{pathname:$="/api/v1/community/mention"}={}){const q=`${$}-${G}`;if(A[q])return A[q];const J=yield l().get($).query({query:G}),{results:R}=J.body,j=new Map;return R&&j.set("Writers",R.map(ie=>w(s({},ie),{type:"user",id:ie.user_id}))),A[q]=j,j})},56838:(z,u,e)=>{"use strict";e.d(u,{Cz:()=>ko,Er:()=>wo,F6:()=>ei,L9:()=>Dn,Mp:()=>Wn,Ng:()=>ro,PA:()=>dt,RY:()=>mn,Su:()=>$e,TJ:()=>wr,_2:()=>wt,c1:()=>Nr,fh:()=>Do,mt:()=>Mn,pD:()=>mo,sV:()=>mr,vk:()=>_n,yT:()=>Hn,z5:()=>po});var o=e(6400),f=e(98661),l=e(30396),c=e(94184),g=e.n(c),v=e(12297),E=e.n(v),y=e(23493),p=e.n(y),O=e(80587),S=e(77951),x=e(95951),T=e(65207),_=e(13808),d=e(18794),s=e(8618),w=e(31131),P=e(67358),I=e(80569),D=e.n(I),N=e(965),C=e(55489),A=e(69427),L=e(82626),U=e(85928),W=e.n(U),G=e(6385),$=e(91613),q=e(15045),J=e(20501),R=e(83322),j=e(2405),ie=e(4190),le=e(28488),ye=e(85065),ue=e(32076),oe=e(63270),te=e(18597),Z=e(18492),re=e(3258),ae=e(8479),se=e(35225),be=e(36868),_e=e(39419),pe=e.n(_e),me=e(84040),Te=e(51126),ve=e(76235),ce=e(62246),Le=e(43887),Ne=e(75425),He=e(592),ze=e(16742),Xe=e(25597),_t=e(19826),we=e(47819),We=e(15440),Ie=e(63295),tt=e(12650),et=e(43498),ht=e(11628),vt=e(49542),Lt=e(31517),$t=e(11762),yt=e(49786),he=e(50615),je=e(80332),st=e(31533),De=e(49715),Be=Object.defineProperty,Ke=Object.defineProperties,it=Object.getOwnPropertyDescriptors,Qe=Object.getOwnPropertySymbols,Ae=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable,ee=(kt,Vt,en)=>Vt in kt?Be(kt,Vt,{enumerable:!0,configurable:!0,writable:!0,value:en}):kt[Vt]=en,de=(kt,Vt)=>{for(var en in Vt||(Vt={}))Ae.call(Vt,en)&&ee(kt,en,Vt[en]);if(Qe)for(var en of Qe(Vt))H.call(Vt,en)&&ee(kt,en,Vt[en]);return kt},Ee=(kt,Vt)=>Ke(kt,it(Vt)),Me=(kt,Vt,en)=>new Promise((dn,Nn)=>{var An=Rt=>{try{ft(en.next(Rt))}catch(zt){Nn(zt)}},Rn=Rt=>{try{ft(en.throw(Rt))}catch(zt){Nn(zt)}},ft=Rt=>Rt.done?dn(Rt.value):Promise.resolve(Rt.value).then(An,Rn);ft((en=en.apply(kt,Vt)).next())});function $e(kt,Vt){return kt==="button"&&Vt==="verbose"?16:kt==="button"?20:kt==="tabs"?24:kt==="compressed"?16:0}const dt=2,ct=({isFullWidth:kt,children:Vt})=>kt?(0,o.h)(Te.gq,{className:"post-ufi-button-wrapper",gap:8},Vt):Vt;function wt({post:kt,pub:Vt,user:en,style:dn,justified:Nn,isStatic:An,hideReactions:Rn,hideComments:ft,hideShare:Rt,hideSavePost:zt,useShareLabel:tn,allowEdit:vn,editButtonIsLast:un,onChange:wn,addedPodcastComments:Un,hidePinning:Cr,showEmailSent:Hr,allowSendEmail:Ur,footerHidden:Ar,onCommentsClick:oo,labelStyle:vo,showPreamble:ti,preambleConfig:ni={},position:Co,hideByDisabling:Fo,showRestackButton:yo,showRestackModal:Wo,hideFeedRestackButton:Li}){const ai=(0,te.Tf)(),{showPins:mi,showAudience:Oi,showDate:pi,showDatetime:ui,showAuthor:Mi,showPublicationName:Bi,showCrossPostedPublicationName:_i}=ni;Rn=Rn||!Vt.community_enabled||!kt.slug||kt.is_draft;const gi=E()(Object.values((kt==null?void 0:kt.reactions)||{})),vi=Hr?!!kt.email_sent_at:null,si=(0,j.LC)(),xo=vn&&(en==null?void 0:en.is_contributor)&&!si,ri=Mt({post:kt,pub:Vt,user:en,defaultOpen:yo&&Wo&&Co!=="post-footer"&&Co!=="post-footer-full-width"}),Si=en&&(0,o.h)(Eo,{style:dn,pub:Vt,post:kt,user:en,hidePinning:Cr,emailSent:vi!=null?vi:void 0,allowSendEmail:Ur,footerHidden:Ar,canBeCrossPosted:yo}),Di=!Li&&Vt.community_enabled&&kt.slug&&!kt.is_draft,rt=yo&&!ti&&(Fo||Rn&&ft&&Rt&&!xo),Ge=vo==="counts-or-none"&&gi?"count":vo==="labels"?"cta":"none",Je=vo==="counts-or-none"&&kt.comment_count?"count":vo==="labels"?"cta":"none",mt=Co==="post-footer-full-width";return(0,o.h)("div",{className:g()("post-ufi",`style-${dn}`,{justified:Nn,themed:ai,"single-full-width-button":rt})},(0,o.h)(ct,{isFullWidth:mt},ti&&ni&&(0,o.h)(Uo,{pub:Vt,post:kt,showPins:mi,showAudience:Oi,showDate:pi,showDatetime:ui,showEmailSent:Hr,showAuthor:Mi,showPublicationName:Bi,showCrossPostedPublicationName:_i}),xo&&!un&&Si,(Fo||!Rn)&&(0,o.h)(jn,{post:kt,pub:Vt,user:en,labelStyle:Fo&&Rn?"none":Ge,style:dn,onChange:wn,isStatic:An,isDisabled:Fo&&Rn}),(Fo||!ft)&&(0,o.h)(bo,{post:kt,pub:Vt,isStatic:An,labelStyle:Fo&&ft?"none":Je,style:dn,count:kt.comment_count+(Un||0),onClick:oo,isDisabled:Fo&&ft}),Di&&en&&(0,o.h)(nn,{pub:Vt,post:kt,onChange:wn,style:dn}),!Rt&&(0,o.h)(C.s,{post:kt,pub:Vt,user:en,trigger:{style:dn,labelStyle:tn?"cta":"none",isStatic:An},position:Co})),(0,o.h)(ct,{isFullWidth:mt},!zt&&!yo&&en&&(0,o.h)(Jr,{post:kt,labelStyle:Je,style:dn,onChange:wn}),xo&&un&&Si,yo&&!xo&&Co==="post-header"&&(0,o.h)(o.Fragment,null,(0,o.h)(ve.v2,{trigger:(0,o.h)(me.hU,{"aria-label":"View more",size:40,fill:"outline"},(0,o.h)(O.Z,{size:20}))},en&&(0,o.h)(go,{onClick:ri.open,post:kt,pub:Vt,user:en}),(0,o.h)($r,{post:kt,onChange:wn}))),yo&&!xo&&mt&&(0,o.h)(o.Fragment,null,!zt&&(0,o.h)(Jr,{post:kt,labelStyle:"verbose",style:"button",onChange:wn}),en&&(0,o.h)(So,{onClick:ri.open,post:kt,pub:Vt,user:en,style:"button"}))),ri.modal)}function Mt({pub:kt,user:Vt,post:en,defaultOpen:dn=!1}){const[Nn,An]=(0,l.eJ)(dn);return(0,l.d4)(()=>{dn&&Vt&&(0,re.j)(re.FP.RESTACK_POST_CLICKED,{restacked_publication_id:kt.id,restacked_post_id:en.id,restacking_user_id:Vt.id,is_from_email:!0})},[dn,kt,en,Vt]),{open:()=>An(!0),modal:(0,o.h)(De.J,{pub:kt,user:Vt,post:en,open:Nn,setOpen:An})}}function pn(){const Vt=typeof window=="undefined",en=250,[dn,Nn]=(0,l.eJ)(Vt?0:window.pageYOffset),[An,Rn]=(0,l.eJ)(!1),ft=100,Rt=(0,l.Ye)(()=>Date.now()+1e3,[]),zt=(0,l.sO)(0);return(0,l.d4)(()=>{if(Vt)return;const tn=p()(()=>{const vn=Date.now(),un=(vn-zt.current)/1e3,Un=(dn-window.pageYOffset)/un;zt.current=vn,!(window.pageYOffset<0)&&(vn<Rt?Rn(!1):-Un>ft?Rn(!0):Un>ft&&Rn(!1),Nn(window.pageYOffset))},en);return window.addEventListener("scroll",tn),()=>window.removeEventListener("scroll",tn)},[Vt,dn,Nn,Rn,Rt,zt,!1]),An}function Mn({post:kt,pub:Vt,user:en,isStatic:dn,onChange:Nn,allowEdit:An,hidePinning:Rn,showEmailSent:ft,allowSendEmail:Rt,hideComments:zt,onCommentsClick:tn,showRestackButton:vn,showRestackModal:un,setFooterShown:wn}){const Un=pn(),Cr=(0,Ne.pm)();return(0,l.d4)(()=>{Cr.addOffset(64*(Un?1:-1)),wn&&wn(!Un)},[Un,wn]),(0,o.h)(Te.hs,{alignItems:"center",padding:8,className:g()("mobile-footer-ufi",{hidden:Un})},(0,o.h)(wt,{post:kt,pub:Vt,user:en,isStatic:dn,justified:!0,style:"tabs",onChange:Nn,allowEdit:An,editButtonIsLast:!0,hidePinning:Rn,showEmailSent:ft,allowSendEmail:Rt,footerHidden:Un,labelStyle:"counts-or-none",hideComments:zt,onCommentsClick:tn,position:"mobile-toolbar",hideByDisabling:!0,showRestackModal:un,showRestackButton:vn}))}function $n({post:kt,pub:Vt,user:en,surface:dn,onChange:Nn,subscribePromptRef:An}){const Rn=!!(kt!=null&&kt.reaction),ft=(0,j.LC)(),Rt=(0,ae.ib)({pathname:ft?`/api/v1/cross-post/${kt==null?void 0:kt.id}/reaction`:`/api/v1/post/${kt==null?void 0:kt.id}/reaction`,method:"POST",deps:[kt==null?void 0:kt.id]}),zt=(0,se.S)({user:en,noBase:!1});return{isLiked:Rn,toggle:()=>Me(this,null,function*(){var tn;if(Rt.isLoading)return"error";Rn||!zt()&&en&&!en.is_admin&&!en.is_contributor&&(An!=null&&An.current)&&(0,yt.G0)()&&((0,re.j)(re.FP.LIKE_UPSELL_MODAL_SEEN,{source:"web",type:en!=null&&en.is_free_subscribed?(0,be.P)(en,Vt)?"share":"paid":"free"}),An.current.open(),(0,yt.RH)(Vt));const{reaction:vn,reactions:un,reactor_names:wn}=(0,st.fS)(en,kt);kt.reaction=vn,kt.reactions=un,kt.reactor_names=wn,Nn==null||Nn({post:kt});const Un=yield Rt.refetch(vn?{method:"POST",json:{reaction:"\u2764",surface:dn}}:{method:"DELETE"}),Cr=(tn=Un==null?void 0:Un.response)==null?void 0:tn.status;if(Cr){const{reaction:Hr,reactions:Ur,reactor_names:Ar}=(0,st.fS)(en,kt);kt.reaction=Hr,kt.reactions=Ur,kt.reactor_names=Ar,Nn==null||Nn({post:kt})}return Cr===401?"unauthorized":Cr?"error":vn?"liked":"unliked"})}}function mr(){const kt=no();return(en,dn,...Nn)=>Me(this,[en,dn,...Nn],function*(An,Rn,{tabId:ft}={}){yield(0,ae.rd)(`/api/v1/post/${An}/reaction`,Rn?{method:"POST",json:{reaction:"\u2764",surface:"reader",tabId:ft}}:{method:"DELETE",json:{tabId:ft}}),kt(Rn)})}function jn({post:kt,pub:Vt,user:en,style:dn,labelStyle:Nn,onChange:An,isStatic:Rn,isDisabled:ft}){const Rt=E()(Object.values((kt==null?void 0:kt.reactions)||{})),zt=Nn==="count"?(0,R.numberToString)(Rt||0):Nn==="cta"?"Like":null;return(0,o.h)(Zt,{post:kt,pub:Vt,user:en,onChange:An,isStatic:Rn,style:dn},({isLiked:tn,handleLike:vn})=>(0,o.h)(ro,{style:dn,state:tn?"liked":void 0,icon:(0,o.h)(tt.Z,{className:"icon",height:$e(dn),strokeWidth:dt}),onClick:ft?()=>{}:vn,noLabel:Nn==="none",isDisabled:ft},zt))}function dr({style:kt,onClick:Vt}){return(0,o.h)(ro,{style:kt,state:void 0,icon:(0,o.h)(S.Z,{className:"icon",height:$e(kt),strokeWidth:dt}),"aria-label":"menu",onClick:Vt})}function nn({pub:kt,post:Vt,onChange:en,style:dn}){const{canRestack:Nn,isRestacked:An,restacks:Rn,menuItems:ft,nuxModal:Rt}=(0,ze.K)({pub:kt,post:Vt,onRestack:vn=>{en==null||en({post:Ee(de({},Vt),{restacked:vn,restacks:Rn+(vn?1:-1)})})}});if(!Nn)return null;const zt=!kt.community_enabled,tn=(0,o.h)(ro,{style:dn,state:An?"restacked":void 0,icon:(0,o.h)(Lt.Z,{className:"icon",height:$e(dn),strokeWidth:dt}),noLabel:Rn===0,"aria-label":"menu",isDisabled:zt},Rn.toLocaleString(void 0,{maximumSignificantDigits:4}));return(0,o.h)(o.Fragment,null,Rt,zt?tn:(0,o.h)(ve.v2,{trigger:tn},ft))}function jr({postId:kt,isOpen:Vt,onClose:en}){const dn=(0,oe.xR)(),[Nn,An]=(0,l.eJ)(),Rn=dn.getConfigFor("enable_post_summarization")==!0,ft=(0,l.sO)(!1),Rt=(0,l.I4)(()=>{ft.current=!0,D().post(`/api/v1/posts/${kt}/summary`).then(zt=>{var tn;(tn=zt.body)!=null&&tn.summary&&An(zt.body.summary)}).finally(()=>{ft.current=!1})},[kt]);return(0,l.d4)(()=>{Vt&&Rn&&!Nn&&!ft.current&&Rt()},[Vt,Rt,Rn,Nn]),Rn?(0,o.h)(ce.u_,{isOpen:Vt,onClose:en,width:750},(0,o.h)(ce.xB,{includeClose:!0,title:"Reader guide",onClose:en}),(0,o.h)(Te.tu,{padding:16,paddingBottom:32},Nn?(0,o.h)("div",{dangerouslySetInnerHTML:{__html:Nn}}):(0,o.h)(Te.tu,{alignItems:"center",justifyContent:"center",style:{flex:1,minHeight:300}},(0,o.h)("div",{className:"embed-loader"})))):null}function Dr({post:kt,pub:Vt,user:en,onChange:dn,showRestackModal:Nn,canBeCrossPosted:An,onSummaryOpen:Rn}){const ft="button",zt=(0,oe.xR)().getConfigFor("enable_post_summarization")==!0,tn=Mt({pub:Vt,user:en,post:kt,defaultOpen:Nn&&An}),vn=()=>{tn.open(),(0,re.j)(re.FP.RESTACK_POST_CLICKED,{restacked_publication_id:Vt.id,restacked_post_id:kt.id,restacking_user_id:en.id,is_from_email:!1})};return(0,o.h)(o.Fragment,null,(0,o.h)(ve.v2,{trigger:(0,o.h)(ro,{style:ft,icon:(0,o.h)(O.Z,{className:"icon edit-icon",size:$e(ft),strokeWidth:2}),noLabel:!0,"aria-label":"More"})},en&&(0,o.h)($r,{post:kt,onChange:dn,showIcon:!0}),zt&&(0,o.h)(ve.sN,{icon:(0,o.h)(x.Z,{height:24,strokeWidth:2}),onClick:Rn},"Reader guide"),An&&(0,o.h)(ve.sN,{icon:(0,o.h)(et.Z,null),onClick:vn},"Cross post"),en&&(0,o.h)(ve.sN,{icon:(0,o.h)(T.Z,null),href:(0,J.getReaderPostUrl)(kt.id)},"Substack Reader")),tn.modal)}function At(kt){var Vt;const en=E()(Object.values(((Vt=kt.post)==null?void 0:Vt.reactions)||{}));return(0,o.h)(jn,Ee(de({},kt),{labelStyle:en>0?"count":"none"}))}const Wt=({pub:kt,user:Vt})=>{const[en,dn]=(0,l.eJ)(Vt==null?void 0:Vt.email),[Nn,An]=(0,l.eJ)(!1),{iString:Rn}=(0,le.M1)();return(0,o.h)(Te.tu,{gap:20},(0,o.h)(Te.tu,{gap:4},(0,o.h)(Le.xv.H4,{translated:!0,weight:"semibold"},"Support ",I18N.p(kt.name)),(0,o.h)(Le.xv.B4,{translated:!0,color:"secondary"},"Since you liked this post, why not subscribe?")),(0,o.h)(Te.tu,{gap:12},(0,o.h)("input",{disabled:!!(Vt!=null&&Vt.email),value:en,onChange:ft=>dn(ft.currentTarget.value)}),(0,o.h)(me.zx,{onClick:()=>Me(void 0,null,function*(){(0,re.j)(re.FP.LIKE_UPSELL_FREE_SUBSCRIBED,{email:en}),An(!0);try{const ft=yield D().post("/api/v1/free").send({email:en,source:"like-button-upsell"}),{referral_token:Rt}=ft.body;(0,_e.redirect)((0,J.getSubscribeUrl)(kt,{params:{utm_source:"like-button-upsell",just_signed_up:!0,referral_token:Rt}}),{local_navigation:!1})}catch(ft){alert((0,_e.getNetworkErrorMessage)(ft))}}),grow:!0,disabled:Nn,priority:"primary-theme"},Rn(Nn?"Please wait...":"Subscribe"))))};function Zt({post:kt,pub:Vt,user:en,onChange:dn,isStatic:Nn,children:An,style:Rn}){const ft=(0,l.sO)(),Rt=(0,l.sO)(),{isLiked:zt,toggle:tn}=$n({post:kt,pub:Vt,user:en,subscribePromptRef:ft,onChange:dn}),vn=(0,l.sO)(),[un,wn]=(0,l.eJ)(!1),Un=(0,l.I4)(Cr=>Me(this,null,function*(){var Hr;(Hr=Cr==null?void 0:Cr.stopPropagation)==null||Hr.call(Cr),(yield tn())==="unauthorized"&&wn(!0)}),[tn]);return(0,l.d4)(()=>{!(vn!=null&&vn.current)||!un||vn.current.open()},[un]),(0,o.h)("div",{className:g()("like-button-container","post-ufi-button",`style-${Rn}`,zt&&"state-liked")},An({isLiked:zt,handleLike:Un}),!Nn&&un&&(0,o.h)(st.oq,{modalRef:vn,user:en,pub:Vt,onClose:()=>wn(!1),react:tn}),en&&!en.is_admin&&!en.is_contributor&&(Rn==="button"||Rn==="tabs")&&(0,o.h)(_t.Fx,{ref:ft,className:g()("subscribe-prompt-dropdown",!(en!=null&&en.is_free_subscribed)&&"free"),hideMenuTail:!0},en!=null&&en.is_free_subscribed?(0,be.P)(en,Vt)?(0,o.h)(yt.xt,{pub:Vt,onClose:()=>{var Cr;return(Cr=ft.current)==null?void 0:Cr.close()},shareDialogRef:Rt}):(0,o.h)(yt._q,{pub:Vt}):(0,o.h)(Wt,{pub:Vt,user:en})),!Nn&&(0,o.h)(A.ZP,{ref:Rt,user:en,pub:Vt,post:kt}))}function _n({post:kt,defaultSaved:Vt,isSaved:en,trackSurface:dn}){var Nn;return Kn({postId:kt.id,defaultSaved:(Nn=Vt!=null?Vt:kt.is_saved)!=null?Nn:!1,isSaved:en,trackSurface:dn})}function Kn({postId:kt,defaultSaved:Vt,isSaved:en,trackSurface:dn}){const[Nn,An]=(0,l.eJ)(Vt),Rn=en!=null?en:Nn,{refetch:ft,isLoading:Rt,error:zt}=(0,ae.ib)({pathname:"/api/v1/posts/saved",method:"POST",json:{post_id:kt},deps:[kt]}),tn=(0,ye.yH)(),vn=Nr();return{isSaved:Rn,onSave:()=>(Rt||(ft({method:Rn?"DELETE":"POST"}).then(()=>{tn.refetch()}),An(!Rn),vn(!Rn),(0,re.j)(re.FP.POST_SAVED,{post_id:kt,surface:dn})),!Rn)}}function wr(kt,Vt,en){return Me(this,arguments,function*(dn,Nn,{surface:An}){yield(0,ae.rd)("/api/v1/posts/saved",{method:Nn?"POST":"DELETE",json:{post_id:dn}}),(0,re.j)(re.FP.POST_SAVED,{post_id:dn,surface:An,is_saved:Nn})})}function Nr(){const kt=(0,Ne.pm)(),{iString:Vt}=(0,le.M1)();return en=>{en?kt.popToast(dn=>(0,o.h)(Ne.FN,Ee(de({},dn),{text:Vt("Post saved"),Icon:_.Z,cta:Vt("View"),href:(0,q.getSavedPostsUrl)()}))):kt.popToast(dn=>(0,o.h)(Ne.FN,Ee(de({},dn),{text:Vt("Post unsaved"),Icon:d.Z})))}}function no(){const kt=(0,Ne.pm)(),{iString:Vt}=(0,le.M1)();return en=>{en?kt.popToast(dn=>(0,o.h)(Ne.FN,Ee(de({},dn),{text:Vt("Post liked"),Icon:s.Z}))):kt.popToast(dn=>(0,o.h)(Ne.FN,Ee(de({},dn),{text:Vt("Post unliked"),Icon:s.Z})))}}function Jr({style:kt,post:Vt,isSaved:en,labelStyle:dn,onChange:Nn}){const{isSaved:An,onSave:Rn}=_n({defaultSaved:en,post:Vt,isSaved:Vt.is_saved}),{iString:ft}=(0,le.M1)(),Rt=()=>{const zt=Rn();Nn({post:Ee(de({},Vt),{is_saved:zt})})};return(0,o.h)(ro,{state:An?"saved":void 0,style:kt,icon:(0,o.h)(We.Z,{className:"icon",height:$e(kt,dn==="verbose"?"verbose":null),strokeWidth:dt}),noLabel:dn==="none",verboseLabel:dn==="verbose",onClick:Rt},dn==="cta"||dn==="verbose"?ft("Save"):null)}function $r({post:kt,isSaved:Vt,onChange:en,showIcon:dn}){const{onSave:Nn}=_n({defaultSaved:Vt,post:kt,isSaved:kt.is_saved}),{iString:An}=(0,le.M1)(),Rn=()=>{const Rt=Nn();en({post:Ee(de({},kt),{is_saved:Rt})})},ft=kt.is_saved?"var(--color-accent-substack)":void 0;return(0,o.h)(ve.sN,{icon:dn?(0,o.h)(_.Z,{style:{stroke:ft,fill:ft}}):void 0,onClick:Rn},kt.is_saved?An("Unsave"):An("Save"))}function bo({style:kt,count:Vt,labelStyle:en,post:dn,pub:Nn,isStatic:An,onClick:Rn,isDisabled:ft}){const{iString:Rt}=(0,le.M1)();let zt;return dn!=null&&dn.comment_url_override?zt=dn.comment_url_override:An?zt=`${L.Substitutions.HALF_MAGIC_COMMENTS_URL}&utm_source=substack&utm_medium=email`:Nn&&(zt=(0,q.getPostUrl)(Nn,dn,{comments:!0})),(0,o.h)(ro,{style:kt,icon:(0,o.h)(Ie.Z,{className:"icon",height:$e(kt),strokeWidth:dt}),href:ft?null:zt,onClick:ft?()=>{}:tn=>{Rn?Rn(tn):(tn==null||tn.preventDefault(),window.location.href=zt)},noLabel:en==="none",className:"post-ufi-comment-button",isDisabled:ft},en==="cta"&&Rt("Comment"),en==="count"&&(0,R.numberToString)(Vt||0))}function mo({post:kt,user:Vt,pub:en,style:dn,labelStyle:Nn,isStatic:An,onChange:Rn,position:ft}){const Rt=(0,l.sO)(),zt=(0,l.I4)(()=>{(0,re.j)(re.FP.POST_SHARE_BUTTON_CLICKED,{position:ft}),Rt.current.open()},[]),{iString:tn}=(0,le.M1)();let vn;kt.share_url_override?vn=kt.share_url_override:An?kt?vn=L.Substitutions.SHARE_URL:vn=L.Substitutions.SHARE_PUB_URL:vn="javascript:void(0)";const un=Nn==="none";return(0,o.h)(o.Fragment,null,(0,o.h)(ro,{style:dn,icon:un?(0,o.h)(w.Z,{className:"icon",height:$e(dn),strokeWidth:dt}):null,onClick:zt,href:vn,noLabel:Nn==="none",className:g()(!un&&"no-icon")},Nn==="cta"&&tn("Share")),!An&&(0,o.h)(A.ZP,{ref:Rt,user:Vt,pub:en,post:kt,onChange:Rn}))}function So({post:kt,user:Vt,pub:en,onClick:dn,style:Nn}){const{iString:An}=(0,le.M1)();return(0,o.h)(o.Fragment,null,(0,o.h)(ro,{style:Nn,icon:(0,o.h)(et.Z,{className:"icon",height:$e(Nn,"verbose"),strokeWidth:dt}),onClick:()=>{(0,re.j)(re.FP.RESTACK_POST_CLICKED,{restacked_publication_id:en.id,restacked_post_id:kt.id,restacking_user_id:Vt.id,is_from_email:!1}),dn()},noLabel:!1,verboseLabel:!0,title:An("Cross-Post")},An("Cross-post")))}function go({post:kt,user:Vt,pub:en,onClick:dn}){const Nn=()=>{(0,re.j)(re.FP.RESTACK_POST_CLICKED,{restacked_publication_id:en.id,restacked_post_id:kt.id,restacking_user_id:Vt.id,is_from_email:!1}),dn()},{iString:An}=(0,le.M1)();return(0,o.h)(o.Fragment,null,(0,o.h)(ve.sN,{onClick:Nn},An("Cross-post")))}function Eo({style:kt,pub:Vt,post:en,user:dn,hidePinning:Nn,emailSent:An,allowSendEmail:Rn,footerHidden:ft,showRestackModal:Rt,canBeCrossPosted:zt,onSummaryOpen:tn}){const vn=(0,l.sO)();ft&&vn.current&&vn.current.close();const un=Mt({post:en,pub:Vt,user:dn,defaultOpen:Rt&&zt}),wn=()=>{un.open(),(0,re.j)(re.FP.RESTACK_POST_CLICKED,{restacked_publication_id:Vt.id,restacked_post_id:en.id,restacking_user_id:dn.id,is_from_email:!1})};return(0,o.h)("div",{className:g()("edit-button-container","post-ufi-button",`style-${kt}`)},(0,o.h)(ro,{onClick:()=>vn.current.open(),style:kt,icon:(0,o.h)(O.Z,{className:"icon edit-icon",size:$e(kt),strokeWidth:2}),noLabel:!0}),(0,o.h)(he.y,{ref:vn,pub:Vt,post:en,user:dn,className:"post-ufi-edit-menu",useDrawerOnMobile:!0,hidePinning:Nn,emailSent:An,allowSendEmail:Rn,handleCrossPost:zt&&wn,onSummaryOpen:tn}),un.modal)}const ro=(0,f.forwardRef)(({icon:kt,children:Vt,state:en,style:dn,onClick:Nn,href:An,noLabel:Rn,verboseLabel:ft,noBorder:Rt,className:zt,isDisabled:tn,iconPosition:vn="left",title:un},wn)=>(0,o.h)("a",{role:"button",className:g()("post-ufi-button",`style-${dn}`,zt,en?`state-${en}`:void 0,tn?"state-disabled":void 0,Vt&&!Rn?"has-label":"no-label",Rt?"no-border":"with-border",ft?"verbose-label":""),title:un,href:An,onClick:Un=>{Nn&&(Un.stopPropagation(),Nn(Un))},ref:wn},vn==="left"&&kt,!Rn&&Vt&&(0,o.h)("div",{className:"label"},Vt),vn==="right"&&kt)),po=({pub:kt,post:Vt,showAuthor:en})=>!!(en&&kt.bylines_enabled&&(0,R.getPrintedByline)(kt,Vt)),wo=({pub:kt,post:Vt,showAuthor:en,showPhoto:dn,isMobileWidth:Nn})=>po({pub:kt,post:Vt,showAuthor:en})&&!ko({pub:kt,post:Vt,showAuthor:en})&&!ei({pub:kt,post:Vt,showAuthor:en,showPhoto:dn})&&!Nn,ko=({pub:kt,post:Vt,showAuthor:en})=>po({pub:kt,post:Vt,showAuthor:en})&&(0,R.getBylineUsers)(Vt).length>1,ei=({pub:kt,post:Vt,showAuthor:en,showPhoto:dn})=>{var Nn;return po({pub:kt,post:Vt,showAuthor:en})&&dn&&((Nn=(0,R.getBylineUsers)(Vt)[0])==null?void 0:Nn.photo_url)&&kt.byline_images_enabled};function Do({post:kt,showDatetime:Vt,isStatic:en,fromPostPage:dn,showReactions:Nn,language:An="en"}){const Rn=kt.reactions?Object.values(kt.reactions).reduce((Rt,zt)=>Rt+zt,0):0,ft=dn&&!en&&Nn&&Rn>=70&&Rn<100;return Vt&&ft?W()(kt.post_date).locale(An).standardDatetimeWithYear():Vt&&!ft?W()(kt.post_date).locale(An).standardDatetime():en?W()(kt.post_date).locale(An).standardDate():ft?W()(kt.post_date).locale(An).standardDate({full:ft}):W()(kt.post_date).locale(An).standardDateOrTime()}function Uo({pub:kt,post:Vt,showPins:en,showAudience:dn,showDate:Nn,showDatetime:An,showEmailSent:Rn,showAuthor:ft,showPublicationName:Rt,showCrossPostedPublicationName:zt}){const tn=(0,te.Tf)(),vn=!!(ft&&kt.bylines_enabled&&(0,R.getPrintedByline)(kt,Vt)),un=!1,wn=Nn&&Vt.post_date&&!Vt.is_draft,Un=Rn?!!Vt.email_sent_at:null,{iString:Cr,iTemplate:Hr,language:Ur}=(0,le.M1)();return(0,o.h)("div",{className:g()("ufi-preamble",{themed:tn})},zt&&Vt.restacked_pub_name?(0,o.h)("div",{className:"ufi-preamble-label cross-posted-pub-name"},Hr`Published on ${Vt.restacked_pub_name}`):null,Rn&&Un&&(0,o.h)("div",{className:"email-sent",title:Cr("This post was sent as an email")},(0,o.h)(P.Z,{className:"post-ufi-preamble-icon",size:16})),en&&Vt.is_section_pinned&&(0,o.h)("div",{className:"pinned"},(0,o.h)($t.Z,{className:"post-ufi-preamble-icon"})),Vt.type==="adhoc_email"?(0,o.h)("div",{className:"audience-adhoc"},(0,o.h)(we.Z,{className:"post-ufi-preamble-icon"})):dn&&(0,G.isPaidAudience)(Vt.audience)&&(0,o.h)("div",{className:"audience-lock"},(0,o.h)(Xe.Z,{audience:Vt.audience,className:"lock-icon post-ufi-preamble-icon",size:16})),wo({pub:kt,post:Vt,showAuthor:vn,isMobileWidth:un})&&(0,o.h)("div",{className:"ufi-preamble-label author"},(0,R.getBylineUsers)(Vt).length>0?(0,R.oxfordComma)((0,R.getBylineUsers)(Vt).map(Ar=>(0,o.h)(o.Fragment,null,(0,o.h)(je.Ct,{subject:Ar,utmSource:"byline"},(0,o.h)("a",{href:(0,q.getProfileUrl)(Ar,kt,{base:!0}),onClick:oo=>oo.stopPropagation()},Ar.name))))):(0,R.getPrintedByline)(kt,Vt)),Rt&&(0,o.h)("div",{className:"post-publication-name"},kt.name),wn&&(0,o.h)("div",{className:"ufi-preamble-label post-date",title:W()(Vt.post_date).toISOString()},(0,o.h)("time",{dateTime:W()(Vt.post_date).toISOString()},Do({post:Vt,showDatetime:An,language:Ur}))))}const mn=({pub:kt,post:Vt,user:en,onChange:dn})=>(0,oe.xR)().getConfigFor("like_posts_enabled")&&kt.community_enabled?(0,o.h)(At,{style:"button",post:Vt,pub:kt,user:en,onChange:dn}):null,Dn=({pub:kt,post:Vt,onClick:en})=>{const dn=(0,R.showCommentsOnPost)({publication:kt,post:Vt}),{comment_count:Nn}=Vt;return dn?(0,o.h)(bo,{post:Vt,pub:kt,labelStyle:Nn>0?"count":"none",style:"button",count:Nn,onClick:en}):null};function Wn({post:kt,pub:Vt,user:en,onChange:dn,onCommentsClick:Nn,showRestackModal:An=!1,showTranscriptionButton:Rn,onTranscriptionClick:ft,themeVariables:Rt}){const zt=(0,j.LC)(),tn=(en==null?void 0:en.is_contributor)&&!zt,{getExperimentVariant:vn}=(0,ie.jc)(),{getSettingFor:un}=(0,ue.So)(),wn=!kt.is_draft&&(0,$.x)(en,{enable_restacking:!!un("enable_restacking")},kt,Vt,!1),[Un,Cr]=(0,l.eJ)(!1),[Hr,Ur]=(0,l.eJ)(!1),Ar=vn("instagram_post_sharing"),oo=Ar&&["treatment_new","treatment_default"].includes(Ar);return(0,o.h)(Te.hs,{className:"post-ufi",alignItems:"center",borderTop:"detail-themed",borderBottom:"detail-themed",justifyContent:"space-between",gap:16,flex:"grow",paddingY:16},(0,o.h)(Te.hs,{gap:8},(0,o.h)(mn,{post:kt,pub:Vt,user:en,onChange:dn}),(0,o.h)(Dn,{pub:Vt,post:kt,onClick:Nn}),(0,o.h)(nn,{pub:Vt,post:kt,onChange:dn,style:"button"}),Rn&&(0,o.h)(dr,{style:"button",onClick:ft})),(0,o.h)(Te.hs,{gap:8},(0,o.h)(C.s,{post:kt,pub:Vt,user:en,trigger:{style:"button",labelStyle:"cta"},toggleInstagramModal:oo?()=>Ur(!Hr):void 0,instagramExperimentActive:!!Rt}),tn?(0,o.h)(Eo,{style:"button",pub:Vt,post:kt,user:en,showRestackModal:An,canBeCrossPosted:wn,onSummaryOpen:()=>Cr(!0)}):(en||wn)&&(0,o.h)(Dr,{post:kt,pub:Vt,user:en,onChange:dn,showRestackModal:An,canBeCrossPosted:wn,onSummaryOpen:()=>Cr(!0)})),(0,o.h)(jr,{postId:kt.id,isOpen:Un,onClose:()=>Cr(!1)}),oo&&(0,o.h)(He.m,{isOpen:Hr,pub:Vt,post:kt,themeVariables:Rt,onClose:()=>Ur(!1),hideEmail:!0}))}function Hn({isFooter:kt,customization:{showAppUpsell:Vt,showShare:en,showComments:dn,showReactions:Nn,showListen:An,showSave:Rn,showRestack:ft,showCommentRestack:Rt}}){const zt=kt?"email-ufi-2-bottom":"email-ufi-2-top",tn=!kt&&(ft||An||Rn),vn=kt,{iString:un}=(0,le.M1)();return!kt&&!en&&!dn&&!Nn&&!An&&!Rn&&ft?(0,o.h)(Z.YF,{className:"email-ufi-2-empty",width:"100%"},(0,o.h)("tr",{height:1},(0,o.h)("td",{height:1,style:{fontSize:0,lineHeight:0}},"\xA0"))):(0,o.h)(Z.YF,{className:zt,width:"100%"},ft&&kt&&(0,o.h)(o.Fragment,null,(0,o.h)(vr,null),(0,o.h)("tr",null,(0,o.h)("td",null,(0,o.h)(Z.YF,{width:"100%",className:"email-ufi-2-row"},(0,o.h)("tr",null,(0,o.h)("td",{width:"95%"},en&&(0,o.h)(Z._i,{tableClassName:"email-button-outline-wrapper-full-width",aClassName:"email-button-outline full-width",href:L.Substitutions.SHARE_URL},(0,o.h)(ht.Z,de({},tr)),(0,o.h)("span",{className:"email-button-text"},un("Share"))))),(0,o.h)(vr,null))))),(0,o.h)(vr,null),(0,o.h)("tr",null,(0,o.h)("td",null,(0,o.h)(Z.YF,{width:"100%"},(0,o.h)("tr",null,(0,o.h)("td",null,(0,o.h)(Z.zK,{gap:8,style:tn?void 0:{margin:"0 auto"}},Nn?vn?(0,o.h)(Z._i,{aClassName:"email-button-outline",href:L.Substitutions.REACTION_URL},(0,o.h)(tt.Z,de({},tr)),(0,o.h)("span",{className:"email-button-text"},un("Like"))):(0,o.h)(pr,{href:L.Substitutions.REACTION_URL},(0,o.h)(tt.Z,de({},tr))):null,dn?vn?(0,o.h)(Z._i,{aClassName:"email-button-outline",href:`${L.Substitutions.HALF_MAGIC_COMMENTS_URL}&utm_source=substack&utm_medium=email`},(0,o.h)(Ie.Z,de({},tr)),(0,o.h)("span",{className:"email-button-text"},un("Comment"))):(0,o.h)(pr,{href:`${L.Substitutions.HALF_MAGIC_COMMENTS_URL}&utm_source=substack&utm_medium=email`},(0,o.h)(Ie.Z,de({},tr))):null,en&&Vt&&(vn?(0,o.h)(Z._i,{aClassName:"email-button-outline",href:L.Substitutions.SHARE_URL},(0,o.h)(vt.Z,de({},tr)),(0,o.h)("span",{className:"email-button-text"},"Share")):(0,o.h)(pr,{href:L.Substitutions.SHARE_URL},(0,o.h)(vt.Z,de({},tr)))),Rt&&(vn?(0,o.h)(Z._i,{aClassName:"email-button-outline",href:`${L.Substitutions.RESTACK_COMMENT_URL}&utm_source=substack&utm_medium=email`},(0,o.h)(Lt.Z,de({},tr)),(0,o.h)("span",{className:"email-button-text"},un("Restack"))):(0,o.h)(pr,{href:`${L.Substitutions.RESTACK_COMMENT_URL}&utm_source=substack&utm_medium=email`},(0,o.h)(Lt.Z,de({},tr)))))),(0,o.h)("td",{align:"right"},(0,o.h)(Z.zK,{gap:8},en&&!Vt&&!kt&&(0,o.h)(Z._i,{aClassName:"email-button-outline",href:L.Substitutions.SHARE_URL},(0,o.h)("div",{className:"email-button-spacer"}),(0,o.h)("span",{className:"email-button-text"},un("Share"))),Vt&&!kt&&(0,o.h)(Z._i,{aClassName:"email-button-outline",href:L.Substitutions.POST_APP_LINK_URL},(0,o.h)("div",{className:"email-button-spacer"}),(0,o.h)("span",{className:"email-button-text",style:{marginRight:4}},"READ IN APP"),(0,o.h)(N.Z,Ee(de({},tr),{className:g()("icon","text-icon")}))))))))),(0,o.h)(vr,null))}function vr(){return(0,o.h)("tr",{height:16},(0,o.h)("td",{height:16,style:{fontSize:0,lineHeight:0}},"\xA0"))}const tr={className:"icon",height:18,strokeWidth:1,isStatic:!0,stroke:"#808080",fill:"none"};function pr({size:kt=38,href:Vt,children:en}){return(0,o.h)(Z.YF,{width:kt},(0,o.h)("tr",null,(0,o.h)("td",{align:"center"},(0,o.h)("a",{className:"email-icon-button",href:Vt,style:{width:kt}},en))))}},79786:(z,u,e)=>{"use strict";e.d(u,{e:()=>w});var o=e(6400),f=e(94184),l=e.n(f),c=e(15045),g=e(20501);const v={img:"frontend-components-responsive_img-module__img--Pgjj2"};var E=Object.defineProperty,y=Object.defineProperties,p=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,S=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,T=(P,I,D)=>I in P?E(P,I,{enumerable:!0,configurable:!0,writable:!0,value:D}):P[I]=D,_=(P,I)=>{for(var D in I||(I={}))S.call(I,D)&&T(P,D,I[D]);if(O)for(var D of O(I))x.call(I,D)&&T(P,D,I[D]);return P},d=(P,I)=>y(P,p(I)),s=(P,I)=>{var D={};for(var N in P)S.call(P,N)&&I.indexOf(N)<0&&(D[N]=P[N]);if(P!=null&&O)for(var N of O(P))I.indexOf(N)<0&&x.call(P,N)&&(D[N]=P[N]);return D};function w(P){var I=P,{src:D,maxWidth:N,imageProps:C={},alt:A="",className:L,imageRef:U}=I,W=s(I,["src","maxWidth","imageProps","alt","className","imageRef"]);const G=R=>{if(C!=null&&C.height){const j=N/C.height;return{height:Math.floor(R/j),aspect:null}}return{}},$=c.WEB_RESPONSIVE_IMAGE_WIDTHS.includes(N)?c.WEB_RESPONSIVE_IMAGE_WIDTHS:[...c.WEB_RESPONSIVE_IMAGE_WIDTHS,N];$.sort((R,j)=>R-j);const q=$.map(R=>({width:R,src:(0,g.imginary)(D,R,_(_({},C),G(R)))})).filter(R=>R.width<=N),J=$.map(R=>({width:R,src:(0,g.imginary)(D,R,d(_(_({},C),G(R)),{format:"webp"}))})).filter(R=>R.width<=N);return(0,o.h)("picture",null,J.length>1?(0,o.h)("source",{type:"image/webp",srcset:J.map(R=>`${R.src} ${R.width}w`).join(", "),sizes:"100vw"}):(0,o.h)("source",{type:"image/webp",srcset:(0,g.imginary)(D,N,d(_({},C),{format:"webp"}))}),(0,o.h)("img",d(_({className:l()(v.img,L),src:(0,g.imginary)(D,N,C),sizes:"100vw",alt:A,srcset:q.length>1?q.map(R=>`${R.src} ${R.width}w`).join(", "):void 0},W),{width:N,height:C==null?void 0:C.height,ref:U})))}},30105:(z,u,e)=>{"use strict";e.d(u,{L:()=>c});var o=e(6400),f=e(94184),l=e.n(f);const c=({children:g,title:v="",content:E="",className:y="",showFirst:p=!1,disabled:O=!1})=>O?(0,o.h)(o.Fragment,null,g):(0,o.h)("div",{className:`popover-container ${y}`},(0,o.h)("div",{className:l()("popover typography",{showfirst:p})},(0,o.h)("div",{className:"content"},v&&(0,o.h)("strong",null,v),E&&(0,o.h)("section",null,E)),(0,o.h)("div",{className:"popover-tail"})),g)},25877:(z,u,e)=>{"use strict";e.d(u,{CH:()=>G,KG:()=>W,Yq:()=>J});var o=e(6400),f=e(30396),l=e(88812),c=e(83322),g=e(19698),v=e(8479),E=e(39419),y=e.n(E),p=e(13045),O=e(76235),S=e(67963),x=Object.defineProperty,T=Object.defineProperties,_=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,P=(R,j,ie)=>j in R?x(R,j,{enumerable:!0,configurable:!0,writable:!0,value:ie}):R[j]=ie,I=(R,j)=>{for(var ie in j||(j={}))s.call(j,ie)&&P(R,ie,j[ie]);if(d)for(var ie of d(j))w.call(j,ie)&&P(R,ie,j[ie]);return R},D=(R,j)=>T(R,_(j)),N=(R,j,ie)=>new Promise((le,ye)=>{var ue=Z=>{try{te(ie.next(Z))}catch(re){ye(re)}},oe=Z=>{try{te(ie.throw(Z))}catch(re){ye(re)}},te=Z=>Z.done?le(Z.value):Promise.resolve(Z.value).then(ue,oe);te((ie=ie.apply(R,j)).next())});const C={mutes:[],blocks:[],blocked:[]},A=(0,o.createContext)({result:C,refetch:()=>null});A.displayName="UserBlockContext";function L({user:R,children:j}){var ie;const le=useFetch({pathname:"/api/v1/blocks/ids",deps:[R],auto:!!R});return h(A.Provider,{value:{result:(ie=le.result)!=null?ie:C,refetch:le.refetch}},j)}function U(){return(0,f.qp)(A)}function W(R){const{result:{mutes:j,blocks:ie,blocked:le}}=(0,f.qp)(A);return R?j.includes(R)?"muting":ie.includes(R)?"blocking":le.includes(R)?"blocked":null:null}function G(R,j){const ie=(0,S.aF)(),le=!!(ie&&R&&ie.id!==R.id),ye=U(),ue=W(R==null?void 0:R.id),oe=(0,p.pm)(),te=(0,c.guessFirstName)((R==null?void 0:R.name)||""),Z=()=>N(this,null,function*(){if(R){try{yield(0,v.rd)(`/api/v1/blocks/${R.id}`,{method:"POST",json:{type:"mute",surface:j}})}catch(_e){oe.popToast(pe=>(0,o.h)(p.FN,D(I({},pe),{text:(0,E.getNetworkErrorMessage)(_e)})));return}ye.refetch(),oe.popToast(_e=>(0,o.h)(p.FN,D(I({},_e),{text:`${R.name||"User"} muted`,Icon:g.Z})))}}),re=()=>N(this,null,function*(){if(R){try{yield(0,v.rd)(`/api/v1/blocks/${R.id}`,{method:"DELETE",query:{surface:j}})}catch(_e){oe.popToast(pe=>(0,o.h)(p.FN,D(I({},pe),{text:(0,E.getNetworkErrorMessage)(_e)})));return}ye.refetch(),oe.popToast(_e=>(0,o.h)(p.FN,D(I({},_e),{text:`${R.name||"User"} unmuted`,Icon:g.Z})))}}),ae=()=>N(this,null,function*(){if(R){try{yield(0,v.rd)(`/api/v1/blocks/${R.id}`,{method:"POST",json:{type:"block",surface:j}})}catch(_e){oe.popToast(pe=>(0,o.h)(p.FN,D(I({},pe),{text:(0,E.getNetworkErrorMessage)(_e)})));return}ye.refetch(),oe.popToast(_e=>(0,o.h)(p.FN,D(I({},_e),{text:`${R.name||"User"} blocked`,Icon:l.Z})))}}),se=()=>N(this,null,function*(){if(R){try{yield(0,v.rd)(`/api/v1/blocks/${R.id}`,{method:"DELETE",query:{surface:j}})}catch(_e){oe.popToast(pe=>(0,o.h)(p.FN,D(I({},pe),{text:(0,E.getNetworkErrorMessage)(_e)})));return}ye.refetch(),oe.popToast(_e=>(0,o.h)(p.FN,D(I({},_e),{text:`${R.name||"User"} unblocked`,Icon:l.Z})))}}),be=[];return le&&(ue!=="blocking"&&be.push((0,o.h)(O.sN,{icon:(0,o.h)(g.Z,null),onClick:ue==="muting"?re:Z},ue==="muting"?"Unmute":"Mute")),be.push((0,o.h)(O.sN,{icon:(0,o.h)(l.Z,null),onClick:ue==="blocking"?se:ae},ue==="blocking"?"Unblock":"Block"))),be}const $=(0,o.createContext)(!1);$.displayName="MuteFreeZone";function q({muteFree:R=!0,children:j}){return h($.Provider,{value:R},j)}function J(){return(0,f.qp)($)}},2405:(z,u,e)=>{"use strict";e.d(u,{LC:()=>g,uL:()=>c});var o=e(6400),f=e(30396);const l=(0,o.createContext)(null);l.displayName="CrossPostContext";function c({crossPost:v=null,children:E}){return(0,o.h)(l.Provider,{value:v},E)}function g(){return(0,f.qp)(l)}},4190:(z,u,e)=>{"use strict";e.d(u,{Vt:()=>C,jc:()=>A,kx:()=>N,ng:()=>D,xu:()=>w});var o=e(6400),f=e(98661),l=e(30396),c=e(80569),g=e.n(c),v=Object.defineProperty,E=Object.defineProperties,y=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,x=(U,W,G)=>W in U?v(U,W,{enumerable:!0,configurable:!0,writable:!0,value:G}):U[W]=G,T=(U,W)=>{for(var G in W||(W={}))O.call(W,G)&&x(U,G,W[G]);if(p)for(var G of p(W))S.call(W,G)&&x(U,G,W[G]);return U},_=(U,W)=>E(U,y(W)),d=(U,W,G)=>new Promise(($,q)=>{var J=ie=>{try{j(G.next(ie))}catch(le){q(le)}},R=ie=>{try{j(G.throw(ie))}catch(le){q(le)}},j=ie=>ie.done?$(ie.value):Promise.resolve(ie.value).then(J,R);j((G=G.apply(U,W)).next())}),s;const w={variantOverrides:{},experimentFeatures:{},experimentExposures:{}},P=typeof window!="undefined"&&window._preloads||w,I=typeof window!="undefined"?(s=window._preloads)==null?void 0:s.siteConfigs:{},D=(U,W)=>{const G=R=>{if(!R||!U)return null;const j=U[R];return j===void 0?null:j},$=(R,{onlyConsiderExposedValues:j}={})=>{if(!R)return null;const ie=G(R);if(ie&&typeof ie=="string"&&ie!=="experiment")return{intendedVariant:ie,shouldLog:!1};if(W.variantOverrides&&R in W.variantOverrides)return{intendedVariant:W.variantOverrides[R],shouldLog:!1};const le=W.experimentExposures||{};if(le[R])return{intendedVariant:le[R],shouldLog:!1};if(!j){const ye=W.experimentFeatures||{};if(ye[R])return{intendedVariant:ye[R],shouldLog:!0}}return null};return{getExperimentVariant:(R,{onlyConsiderExposedValues:j}={})=>{const ie=$(R,{onlyConsiderExposedValues:j});return ie?ie.intendedVariant:null},exposeExperiment:R=>d(void 0,null,function*(){const{intendedVariant:j,shouldLog:ie}=$(R)||{};if(!ie)return!1;if(typeof window!="undefined"){window._preloads.experimentExposures=window._preloads.experimentExposures||{};const le=window._preloads.experimentExposures;le[R]=j;try{yield g().post("/api/v1/experiment_exposure").send({experiment_name:R,variant_name:j})}catch(ye){delete le[R]}}return!0})}},N=(0,o.createContext)(D(I,P));N.displayName="ExperimentsContext";function C({siteConfigs:U={},experimentInfo:W,children:G}){const $=W||P,q=(0,l.Ye)(()=>D(U,$),[U,...Object.values($)]);return(0,o.h)(N.Provider,{value:q},G)}function A(){return(0,l.qp)(N)}const L=U=>{const W=forwardRef((G,$)=>{const q=A();return h(U,_(T(T({},q),G),{ref:$}))});return W.displayName=`withExperimentsContext(${U.displayName||U.name||"Anonymous"})`,W}},58718:(z,u,e)=>{"use strict";e.d(u,{OK:()=>te,Rc:()=>oe,oh:()=>le,Sv:()=>ye,yr:()=>ue,Xe:()=>R,oJ:()=>j});var o=e(6400),f=e(30396),l=e(94184),c=e.n(l),g=e(82569),v=e.n(g),E=e(83757),y=e(69518),p=e(60779),O=e(59386),S=e(26686),x=e(84606),T=e(83322),_=e(8479),d=e(39419),s=e(13045),w=e(76235),P=e(25877),I=e(67963);const D={followButton:"frontend-contexts-feedFollows-module__followButton--rTqht",on:"frontend-contexts-feedFollows-module__on--KoBsr",justFollowed:"frontend-contexts-feedFollows-module__justFollowed--_lHDs",off:"frontend-contexts-feedFollows-module__off--UyHQE"};var N=Object.defineProperty,C=Object.defineProperties,A=Object.getOwnPropertyDescriptors,L=Object.getOwnPropertySymbols,U=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable,G=(Z,re,ae)=>re in Z?N(Z,re,{enumerable:!0,configurable:!0,writable:!0,value:ae}):Z[re]=ae,$=(Z,re)=>{for(var ae in re||(re={}))U.call(re,ae)&&G(Z,ae,re[ae]);if(L)for(var ae of L(re))W.call(re,ae)&&G(Z,ae,re[ae]);return Z},q=(Z,re)=>C(Z,A(re)),J=(Z,re,ae)=>new Promise((se,be)=>{var _e=Te=>{try{me(ae.next(Te))}catch(ve){be(ve)}},pe=Te=>{try{me(ae.throw(Te))}catch(ve){be(ve)}},me=Te=>Te.done?se(Te.value):Promise.resolve(Te.value).then(_e,pe);me((ae=ae.apply(Z,re)).next())});function R(){return(0,S._)("/api/v1/feed/following")}function j(){const{mutate:Z}=(0,E.kY)();return(...re)=>Z("/api/v1/feed/following",...re)}function ie(Z){const{data:re}=R();return(re!=null?re:[]).includes(Z!=null?Z:0)}function le(Z,re){const{isFollowing:ae,toggle:se}=ye(Z,re),be=(0,I.aF)(),_e=(0,P.KG)(Z==null?void 0:Z.id),pe=!!(be&&Z&&be.id!==Z.id)&&!_e,me=(0,T.guessFirstName)((Z==null?void 0:Z.name)||""),Te=[];return pe&&Te.push((0,o.h)(w.sN,{icon:ae?(0,o.h)(O.m,{stroke:"var(--color-primary)"}):(0,o.h)(p.w,{stroke:"var(--color-primary)"}),onClick:se},ae?`Unfollow ${me}`:`Follow ${me}`)),Te}function ye(Z,re){const ae=ie(Z==null?void 0:Z.id),{mutate:se,data:be}=R(),_e=(0,s.pm)(),pe=(0,T.guessFirstName)((Z==null?void 0:Z.name)||""),me=ve=>J(this,null,function*(){if(Z){se((ce=[])=>ve?[...ce,Z.id]:v()(ce,Z.id),{revalidate:!1});try{yield(0,_.rd)(`/api/v1/feed/${Z.id}/follow`,{method:ve?"POST":"DELETE",json:{surface:re}}),_e.popToast(ce=>(0,o.h)(s.FN,q($({},ce),{Icon:ve?y.$:O.m,text:ve?`Followed ${pe}`:`Unfollowed ${pe}`})))}catch(ce){_e.popToast(Le=>(0,o.h)(s.FN,q($({},Le),{text:(0,d.getNetworkErrorMessage)(ce)})));return}}});return{isFollowing:ae,toggle:()=>me(!ae),isLoaded:!!be}}function ue(Z,re){const{isFollowing:ae,toggle:se}=ye(Z,re),[be,_e]=(0,f.eJ)(!1);return{isFollowing:ae,buttonProps:{onClick:()=>{se(),ae||_e(!0)},onMouseLeave:()=>_e(!1),className:c()(D.followButton,be&&D.justFollowed)},css:D}}const oe=(0,x.E7)({className:D.on,as:"span"}),te=(0,x.E7)({className:D.off,as:"span"})},28488:(z,u,e)=>{"use strict";e.d(u,{M1:()=>d,_7:()=>s,fz:()=>w,wj:()=>_});var o=e(6400),f=e(98661),l=e(30396),c=e(8111),g=Object.defineProperty,v=Object.defineProperties,E=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,S=(P,I,D)=>I in P?g(P,I,{enumerable:!0,configurable:!0,writable:!0,value:D}):P[I]=D,x=(P,I)=>{for(var D in I||(I={}))p.call(I,D)&&S(P,D,I[D]);if(y)for(var D of y(I))O.call(I,D)&&S(P,D,I[D]);return P},T=(P,I)=>v(P,E(I));const _=(0,o.createContext)({language:"en",iString:(P,...I)=>P,iContext:(P,I)=>I,iPlural:(P,I,D)=>P,iTemplate:(P,...I)=>(0,c.u8)(P,...I),iCombo:(P,I,D,N,...C)=>I});_.displayName="I18NContext";function d(){return(0,l.qp)(_)}function s({children:P,language:I="en"}){const D=(0,l.Ye)(()=>x({language:I},c.mb.i(I)),[I]);return(0,o.h)(_.Provider,{value:D},P)}function w(P){const I=(0,f.forwardRef)((D,N)=>{const C=d();return(0,o.h)(P,T(x(x({},C),D),{ref:N}))});return I.displayName=`withI18NContext(${P.displayName||P.name||"Anonymous"})`,I}},85065:(z,u,e)=>{"use strict";e.d(u,{N$:()=>N,lR:()=>A,yH:()=>G});var o=e(6400),f=e(30396),l=e(80569),c=e.n(l),g=e(6742),v=e(35442),E=e(63503),y=e(8479),p=e(39419),O=e.n(p),S=Object.defineProperty,x=Object.defineProperties,T=Object.getOwnPropertyDescriptors,_=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,w=(q,J,R)=>J in q?S(q,J,{enumerable:!0,configurable:!0,writable:!0,value:R}):q[J]=R,P=(q,J)=>{for(var R in J||(J={}))d.call(J,R)&&w(q,R,J[R]);if(_)for(var R of _(J))s.call(J,R)&&w(q,R,J[R]);return q},I=(q,J)=>x(q,T(J)),D=(q,J,R)=>new Promise((j,ie)=>{var le=oe=>{try{ue(R.next(oe))}catch(te){ie(te)}},ye=oe=>{try{ue(R.throw(oe))}catch(te){ie(te)}},ue=oe=>oe.done?j(oe.value):Promise.resolve(oe.value).then(le,ye);ue((R=R.apply(q,J)).next())});function N({defaultState:q,shouldLoad:J=!0,shouldPoll:R=!1,children:j}){return(0,o.h)(L,{defaultState:q==null?void 0:q.activity,shouldLoad:J,shouldPoll:R},(0,o.h)($,{shouldLoad:J},j))}const C=(0,o.createContext)({lastViewedAt:null,activityUnreadCount:0,activityUnreadAtMax:!1,refetch:()=>D(void 0,null,function*(){return!0}),markAllAsRead:()=>D(void 0,null,function*(){}),hasLoadedOnce:!1});C.displayName="NotificationsContext";function A(){return(0,f.qp)(C)}function L({defaultState:q,shouldLoad:J=!0,shouldPoll:R=!1,children:j}){const ie=(0,y.ib)({pathname:"/api/v1/activity/unread",deps:[],auto:J,initialResult:q}),le=!(0,g.th)(),ye=()=>D(this,null,function*(){const oe=yield c().post("/api/v1/activity/unread").send({after:new Date().toISOString()});ie.setResult(oe.body)});(0,E.Z)(()=>D(this,null,function*(){var oe;if(R&&J&&(0,p.isWindowVisible)()){const te=((oe=ie.result)==null?void 0:oe.count)||0,Z=yield ie.refetch(),re=!(Z instanceof Error)&&Z.count||0;if(te!==re)return!0}}),6e4);const ue=ie.result!=null?ie.result.count:0;return(0,f.d4)(()=>{var oe;try{(oe=navigator.setAppBadge)==null||oe.call(navigator,ue)}catch(te){console.warn(te)}},[ue]),(0,o.h)(C.Provider,{value:{lastViewedAt:ie.result!=null?ie.result.lastViewedAt:null,activityUnreadCount:ue,activityUnreadAtMax:ie.result!=null?ie.result.max:!1,refetch:ie.refetch,markAllAsRead:ye,hasLoadedOnce:ie.hasLoadedOnce}},(0,o.h)(v.Metadata,{badge:le?ue:void 0}),j)}const U={count:0,max:!1,refetch:()=>D(void 0,null,function*(){return!0}),markAllAsRead:()=>D(void 0,null,function*(){}),hasLoadedOnce:!1},W=(0,o.createContext)(U);W.displayName="SavedPostsContext";function G(){return(0,f.qp)(W)}function $({shouldLoad:q=!0,children:J}){const R=(0,y.ib)({pathname:"/api/v1/posts/saved/unread-count",deps:[],auto:q,initialResult:U}),j=()=>R.refetch({method:"PUT"});return(0,o.h)(W.Provider,{value:I(P({},R.result),{refetch:R.refetch,markAllAsRead:j,hasLoadedOnce:R.hasLoadedOnce})},J)}},92643:(z,u,e)=>{"use strict";e.d(u,{Un:()=>O,am:()=>p});var o=e(6400),f=e(30396),l=e(80569),c=e.n(l),g=e(72985),v=e(67963),E=(S,x,T)=>new Promise((_,d)=>{var s=I=>{try{P(T.next(I))}catch(D){d(D)}},w=I=>{try{P(T.throw(I))}catch(D){d(D)}},P=I=>I.done?_(I.value):Promise.resolve(I.value).then(s,w);P((T=T.apply(S,x)).next())});const y=(0,o.createContext)({viewerProfile:{profile:null,loading:!1},setViewerProfile:()=>{},profiles:new Map,setProfile:()=>{}});y.displayName="ProfileContext";function p({value:S,handle:x,children:T}){const[_,d]=(0,f.eJ)({profile:null,loading:!1}),[s,w]=(0,f.eJ)(new Map(S?[[x||S.id,{profile:S,loading:!1}]]:[])),P={viewerProfile:_,setViewerProfile:(0,f.I4)((I,D)=>{d(N=>N.profile===I&&N.loading===D?N:{profile:I,loading:D})},[]),profiles:s,setProfile:(0,f.I4)((I,D,N)=>{w(C=>{var A,L;if(((A=C.get(I))==null?void 0:A.profile)===D&&((L=C.get(I))==null?void 0:L.loading)===N)return C;const U=new Map(C);return U.set(I,{profile:D,loading:N}),U})},[])};return(0,o.h)(y.Provider,{value:P},T)}function O({subjectId:S,subjectName:x,delayLoading:T}){const _=(0,v.aF)(),{viewerProfile:d,setViewerProfile:s,profiles:w,setProfile:P}=(0,f.qp)(y),[I,D]=(0,f.eJ)(null);if(typeof S=="string")if(S.includes("-")){const W=S.split("-");S=W[0],x=W.slice(1).join("-")}else S.startsWith("@")&&(S=S.slice(1));const N=w.get(S),C=(0,f.I4)(W=>E(this,null,function*(){s(d.profile,!0);const G=(0,g.cleanSlug)(W.name,{hashIfEmpty:!0});try{const $=yield c().get(`/api/v1/user/${W.id}-${G}/public_profile/self`).then(q=>q.body);s($,!1)}catch($){$ instanceof Error&&D($),s(null,!1)}}),[d,s,D]),A=N==null?void 0:N.profile,L=d.profile,U=(0,f.I4)(W=>E(this,null,function*(){!L&&_&&C(_),P(W,A,!0);try{const G=x&&(0,g.cleanSlug)(x,{hashIfEmpty:!0}),$=yield G?c().get(`/api/v1/user/${W}-${G}/public_profile`).then(q=>q.body):c().get(`/api/v1/user/${W}/public_profile`).then(q=>q.body);P(W,$,!1)}catch(G){G instanceof Error&&D(G),P(W,A,!1)}}),[A,P,x,L,C,_]);return(0,f.d4)(()=>{!T&&!(N!=null&&N.profile)&&!(N!=null&&N.loading)&&!I&&U(S),!T&&!d.loading&&!d.profile&&!I&&_&&C(_)},[T,S,U,N,I,d,C,_]),{loading:!!(N!=null&&N.loading),viewerProfile:d.profile,subjectProfile:N==null?void 0:N.profile,refetch:U,error:I}}},71720:(z,u,e)=>{"use strict";e.d(u,{G:()=>g,I:()=>v});var o=e(6400),f=e(30396),l;const c=typeof window!="undefined"?(l=window._preloads)==null?void 0:l.pub:null,g=(0,o.createContext)(c);g.displayName="PubContext";function v(){return(0,f.qp)(g)}},32076:(z,u,e)=>{"use strict";e.d(u,{Iz:()=>D,So:()=>N,us:()=>I,vz:()=>P});var o=e(6400),f=e(98661),l=e(30396),c=e(8479),g=Object.defineProperty,v=Object.defineProperties,E=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,S=(C,A,L)=>A in C?g(C,A,{enumerable:!0,configurable:!0,writable:!0,value:L}):C[A]=L,x=(C,A)=>{for(var L in A||(A={}))p.call(A,L)&&S(C,L,A[L]);if(y)for(var L of y(A))O.call(A,L)&&S(C,L,A[L]);return C},T=(C,A)=>v(C,E(A)),_=(C,A,L)=>new Promise((U,W)=>{var G=J=>{try{q(L.next(J))}catch(R){W(R)}},$=J=>{try{q(L.throw(J))}catch(R){W(R)}},q=J=>J.done?U(J.value):Promise.resolve(J.value).then(G,$);q((L=L.apply(C,A)).next())}),d;const s=typeof window!="undefined"?(d=window._preloads)==null?void 0:d.publicationSettings:{},w=C=>({getSettingFor:L=>{if(!L||!C)return null;const U=C[L];return U===void 0?null:U}}),P=(0,o.createContext)(T(x({},w(s)),{changeSetting:()=>Promise.resolve(void 0)}));P.displayName="PublicationSettingsContext";const I=C=>{const A=(0,f.forwardRef)((L,U)=>{const W=N();return(0,o.h)(C,T(x(x({},W),L),{ref:U}))});return A.displayName=`withPubSettingsContext(${C.displayName||C.name||"Anonymous"})`,A};function D({settings:C={},children:A}){const[L,U]=(0,l.eJ)(C),W=$=>_(this,null,function*(){U(x(x({},L),$));try{yield(0,c.rd)("/api/v1/publication_settings",{method:"PUT",json:$})}catch(q){console.error(q)}}),G=(0,l.Ye)(()=>T(x({},w(L)),{changeSetting:W}),[L]);return(0,o.h)(P.Provider,{value:G},A)}function N(){return(0,l.qp)(P)}},63270:(z,u,e)=>{"use strict";e.d(u,{QA:()=>s,Xz:()=>d,vC:()=>w,xR:()=>I});var o=e(6400),f=e(98661),l=e(30396),c=Object.defineProperty,g=Object.defineProperties,v=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,O=(D,N,C)=>N in D?c(D,N,{enumerable:!0,configurable:!0,writable:!0,value:C}):D[N]=C,S=(D,N)=>{for(var C in N||(N={}))y.call(N,C)&&O(D,C,N[C]);if(E)for(var C of E(N))p.call(N,C)&&O(D,C,N[C]);return D},x=(D,N)=>g(D,v(N)),T;const _=typeof window!="undefined"?(T=window._preloads)==null?void 0:T.siteConfigs:{},d=D=>({allConfigs:D,getConfigFor:C=>{if(!C||!D)return null;const A=D[C];return A===void 0?null:A}}),s=(0,o.createContext)(d(_));s.displayName="SiteConfigsContext";function w({siteConfigs:D={},children:N}){const C=(0,l.Ye)(()=>d(D),[D]);return(0,o.h)(s.Provider,{value:C},N)}const P=D=>{const N=forwardRef((C,A)=>{const L=I();return h(D,x(S(S({},L),C),{ref:A}))});return N.displayName=`withSiteConfigContext(${D.displayName||D.name||"Anonymous"})`,N};function I(){return(0,l.qp)(s)}},18597:(z,u,e)=>{"use strict";e.d(u,{Tf:()=>c,ze:()=>g});var o=e(6400),f=e(30396);const l=(0,o.createContext)({hasThemedBackground:!1});l.displayName="ThemeContext";function c(){var v;return!!((v=(0,f.qp)(l))!=null&&v.hasThemedBackground)}function g({value:v,children:E}){const y=(0,f.Ye)(()=>v,Object.values(v));return(0,o.h)(l.Provider,{value:y},E)}},67963:(z,u,e)=>{"use strict";e.d(u,{SE:()=>A,St:()=>I,aF:()=>N,dr:()=>D});var o=e(6400),f=e(30396),l=e(8479),c=Object.defineProperty,g=Object.defineProperties,v=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,O=(U,W,G)=>W in U?c(U,W,{enumerable:!0,configurable:!0,writable:!0,value:G}):U[W]=G,S=(U,W)=>{for(var G in W||(W={}))y.call(W,G)&&O(U,G,W[G]);if(E)for(var G of E(W))p.call(W,G)&&O(U,G,W[G]);return U},x=(U,W)=>g(U,v(W)),T=(U,W,G)=>new Promise(($,q)=>{var J=ie=>{try{j(G.next(ie))}catch(le){q(le)}},R=ie=>{try{j(G.throw(ie))}catch(le){q(le)}},j=ie=>ie.done?$(ie.value):Promise.resolve(ie.value).then(J,R);j((G=G.apply(U,W)).next())}),_,d,s;const w=typeof window!="undefined"?(_=window._preloads)==null?void 0:_.user:null,P=(s=typeof window!="undefined"&&((d=window._preloads)==null?void 0:d.userSettings))!=null?s:{},I=(0,o.createContext)({user:w,setUser:()=>{},userSettings:P,changeSetting:()=>{}});I.displayName="UserContext";function D({defaultValue:U,userSettings:W,children:G}){const[$,q]=(0,f.eJ)(U||w),[J,R]=(0,f.eJ)(W!=null?W:P),j=(le,ye)=>T(this,null,function*(){if(!$)return;const ue=J[le];R(x(S({},J),{[le]:ye}));const oe=typeof ye=="boolean"?ye:void 0,te=typeof ye=="string"?ye:void 0;try{yield(0,l.rd)("/api/v1/user-setting",{method:"PUT",json:{type:le,value_bool:oe,value_datetime:te}})}catch(Z){if(Z instanceof l.kp)alert(Z.getMessage()),R(re=>x(S({},re),{[le]:ue}));else throw Z}}),ie=(0,f.Ye)(()=>({user:$,setUser:q,userSettings:J,changeSetting:j}),[$,J]);return(0,o.h)(I.Provider,{value:ie},G)}function N(){return(0,f.qp)(I).user}function C(){return useContext(I).userSettings}function A(){return(0,f.qp)(I)}const L=U=>{const W=G=>{const $=useContext(I);return h(U,S({user:$},G))};return W.displayName=`withUserContext(${U.name||U.displayName||"Anonymous"})`,W}},46505:(z,u,e)=>{"use strict";e.d(u,{E:()=>c});var o=e(6400),f=e(32076),l=e(63270);const c=(0,o.createContext)({isStatic:!1,isAmp:!1,isFreeSubscribed:!0,isFreemail:!0,siteConfigValues:{},isPledged:!1});function g({isAmp:v,isFreeSubscribed:E,isFreemail:y,siteConfigValues:p,children:O,isPledged:S,publicationSettings:x}){return h(c.Provider,{value:{isStatic:!0,isAmp:v,isFreeSubscribed:E!==!1,isFreemail:y,siteConfigValues:p,isPledged:S}},h(SiteConfigsProvider,{siteConfigs:p},h(PublicationSettingsProvider,{settings:x},O)))}},18492:(z,u,e)=>{"use strict";e.d(u,{NS:()=>Ke,_i:()=>st,zK:()=>ee,i$:()=>H,YF:()=>Me,Bj:()=>De,b9:()=>Be});var o=e(6400),f=e(94184),l=e.n(f),c=e(39693),g=e(32542),v=e(14531),E=e(6378),y=e(15045),p=e(83322),O=e(45809),S=e(89867),x=e(19696),T=e(68262),_=e(30396),d=e(46505),s=e(82626),w=e(43887);const P={footer:"frontend-email-shared-typed-module__footer--B5jqg",footerSection:"frontend-email-shared-typed-module__footerSection--dumyu",divider:"frontend-email-shared-typed-module__divider--rj1aO",meta:"frontend-email-shared-typed-module__meta--vRZSC",twitter:"frontend-email-shared-typed-module__twitter--AYwKk",twitterText:"frontend-email-shared-typed-module__twitterText--GvJZv",twitterImage:"frontend-email-shared-typed-module__twitterImage--f7Oq9"};var I=Object.defineProperty,D=Object.getOwnPropertySymbols,N=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,A=(ct,wt,Mt)=>wt in ct?I(ct,wt,{enumerable:!0,configurable:!0,writable:!0,value:Mt}):ct[wt]=Mt,L=(ct,wt)=>{for(var Mt in wt||(wt={}))N.call(wt,Mt)&&A(ct,Mt,wt[Mt]);if(D)for(var Mt of D(wt))C.call(wt,Mt)&&A(ct,Mt,wt[Mt]);return ct},U=(ct,wt)=>{var Mt={};for(var pn in ct)N.call(ct,pn)&&wt.indexOf(pn)<0&&(Mt[pn]=ct[pn]);if(ct!=null&&D)for(var pn of D(ct))wt.indexOf(pn)<0&&C.call(ct,pn)&&(Mt[pn]=ct[pn]);return Mt};function W({pub:ct,upsell:wt,unsubscribe_url:Mt,unsubscribeOverrideText:pn,hasApp:Mn,hideStartWriting:$n}){return h(G,{upsell:wt,hasApp:Mn,hideStartWriting:$n},h(J,{pub:ct,unsubscribe_url:Mt,unsubscribeOverrideText:pn}))}function G({upsell:ct,children:wt,hasApp:Mt,hideStartWriting:pn}){const Mn=`${getSubstackUrl()}/img/email/publish-button.png`;return h("div",{className:classnames("footer",css.footer)},!Mt&&ct&&h(Fragment,null,h("div",{className:css.footerSection},ct),h("div",{className:css.divider})),wt&&h("div",{style:{paddingBottom:24}},wt),h("p",{className:classnames(css.footerSection,"small powered-by-substack")},!ct&&!Mt&&h(R,null),!pn&&h("a",{href:Substitutions.START_WRITING_URL},h(j,{alt:"Start writing",src:Mn,pixelRatio:3,width:135,height:40}))))}function $({primary:ct,secondary:wt,replaceAppButtonsWithCTA:Mt}){return h(Fragment,null,h(Text.H4,{as:"div",weight:"bold",style:{marginBottom:4}},ct),h(Text.B4,{color:"secondary",style:{marginBottom:16}},wt),!Mt&&h("div",null,h(ie,{utm_source:"substack",utm_campaign:"app-marketing"}),h(le,{utm_source:"substack",utm_campaign:"app-marketing"})),Mt&&h("div",null,h(ThemedEmailButtonMod,{href:Mt.url,style:{textDecoration:"none",textAlign:"center",margin:"0 auto",height:40,paddingTop:9,paddingBottom:9}},Mt.text)))}function q({children:ct}){return h("div",{className:classnames("footer")},ct)}function J({pub:ct,unsubscribe_url:wt,unsubscribeOverrideText:Mt}){const pn=joinLines(ct.mailing_address,", ",36);return h(Text,{as:"p",size:12,color:"secondary",className:classnames("small",css.meta)},"\xA9 ",new Date().getFullYear()," ",h("span",null,ct.copyright),pn&&pn.split(`
`).reduce((Mn,$n)=>(Mn.push(h("br",null),$n),Mn),[]),wt!==!1&&[" ",h(Fragment,null,h("br",null),h("a",{href:wt||Substitutions.UNSUBSCRIBE_URL},h("span",null,Mt||"Unsubscribe")))])}function R(){return h("a",{href:getAppStoreRedirectUrl({utm_campaign:"app-marketing",utm_content:"email-footer-button"})},h(j,{alt:"Get the app",src:`${getSubstackUrl()}/img/email/generic-app-button.png`,pixelRatio:3,width:130,height:40}))}function j(ct){var wt=ct,{src:Mt,pixelRatio:pn,width:Mn}=wt,$n=U(wt,["src","pixelRatio","width"]);let mr;const{isAmp:jn}=useContext(EmailRenderingContext);if(typeof URL=="undefined")mr=null;else{let dr;try{dr=new URL(Mt)}catch(jr){dr=new URL(getSubstackUrl()+Mt)}const nn=Array(pn).fill(0).map((jr,Dr)=>{if(Dr===0)return imginary(Mt,Mn);const At=new URL(dr),[Wt,Zt]=At.pathname.split("."),_n=Dr+1;return At.pathname=`${Wt}@${_n}x.${Zt}`,imginary(At.toString(),Mn*_n)});jn?Mt=nn[nn.length-1]:(Mt=nn[1]||nn[0],mr=nn.map((jr,Dr)=>Dr===0?jr:`${jr} ${Dr+1}x`).join(", "))}return h(Img,L({src:Mt,srcset:mr,width:Mn},$n))}function ie({utm_campaign:ct,utm_source:wt}){return h("a",{className:"email-footer-button",href:getAppStoreUrl({utm_campaign:ct,utm_source:wt})},h(Img,{alt:"Get the iOS app",src:imginary("/img/app_page/app-store.png",246),width:123,height:40}))}function le({utm_campaign:ct,utm_source:wt}){return h("a",{className:"email-footer-button",href:getPlayStoreUrl({utm_campaign:ct,utm_source:wt})},h(Img,{alt:"Get the Android app",src:imginary("/img/app_page/google-play.png?v=1",270),width:135,height:40}))}const ye=({text:ct="Tweet",href:wt})=>h("a",{className:css.twitter,href:wt},h("img",{className:css.twitterImage,src:imginary("/img/share_twitter.white.png",20),alt:""}),h("span",{className:css.twitterText},ct));var ue=Object.defineProperty,oe=Object.getOwnPropertySymbols,te=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable,re=(ct,wt,Mt)=>wt in ct?ue(ct,wt,{enumerable:!0,configurable:!0,writable:!0,value:Mt}):ct[wt]=Mt,ae=(ct,wt)=>{for(var Mt in wt||(wt={}))te.call(wt,Mt)&&re(ct,Mt,wt[Mt]);if(oe)for(var Mt of oe(wt))Z.call(wt,Mt)&&re(ct,Mt,wt[Mt]);return ct},se=(ct,wt)=>{var Mt={};for(var pn in ct)te.call(ct,pn)&&wt.indexOf(pn)<0&&(Mt[pn]=ct[pn]);if(ct!=null&&oe)for(var pn of oe(ct))wt.indexOf(pn)<0&&Z.call(ct,pn)&&(Mt[pn]=ct[pn]);return Mt};const be="550",_e=ct=>{var wt=ct,{children:Mt,className:pn}=wt,Mn=se(wt,["children","className"]);return h("table",ae({role:"presentation",className:pn,width:"auto"},Mn),Mt)},pe=({children:ct,className:wt,width:Mt=be})=>(0,o.h)("table",{role:"presentation",className:"email-body-container",width:"100%",border:"0",cellspacing:"0",cellpadding:"0"},(0,o.h)("tr",null,(0,o.h)("td",null),(0,o.h)("td",{className:"content",width:Mt}),(0,o.h)("td",null)),(0,o.h)("tr",null,(0,o.h)("td",null),(0,o.h)("td",{align:"left",className:wt?`content ${wt}`:"content",width:Mt},(0,o.h)("div",null,ct)),(0,o.h)("td",null))),me=({text:ct})=>(0,o.h)("div",{className:"preview",style:"display:none;font-size:1px;color:#333333;line-height:1px;max-height:0px;max-width:0px;opacity:0;overflow:hidden;"},ct," ","\xA0\u200C".repeat(200)),Te=({children:ct,className:wt,description:Mt,title:pn="Email from Substack"})=>h("html",null,h("head",null,h("title",null,pn),h("meta",{charset:"utf-8"})),h("body",{className:wt},Mt&&h(me,{text:Mt}),ct)),ve=({title:ct,description:wt,children:Mt,bodyClassName:pn="email-body",className:Mn="",emailWidth:$n=""})=>{const{isAmp:mr}=(0,_.qp)(d.E);return(0,o.h)("html",ae({},{amp4email:mr?!0:void 0,"data-css-strict":mr?!0:void 0}),(0,o.h)("head",null,(0,o.h)("meta",{charset:"utf-8"}),!mr&&(0,o.h)("title",null,ct),mr&&(0,o.h)(o.Fragment,null,(0,o.h)("script",{async:!0,src:"https://cdn.ampproject.org/v0.js"}),(0,o.h)("script",{async:!0,"custom-element":"amp-list",src:"https://cdn.ampproject.org/v0/amp-list-0.1.js"}),(0,o.h)("script",{async:!0,"custom-template":"amp-mustache",src:"https://cdn.ampproject.org/v0/amp-mustache-0.2.js"}),(0,o.h)("script",{async:!0,"custom-element":"amp-timeago",src:"https://cdn.ampproject.org/v0/amp-timeago-0.1.js"}))),(0,o.h)("body",{className:pn},wt&&(0,o.h)(me,{text:wt}),(0,o.h)(pe,ae({className:Mn},$n&&{width:$n}),Mt)))},ce=({title:ct,description:wt,children:Mt,className:pn,width:Mn})=>h("html",null,h("head",null,h("title",null,ct),h("meta",{charset:"utf-8"})),h("body",{className:"email-body"},wt&&h(me,{text:wt}),h(pe,{className:pn,width:Mn},Mt))),Le=()=>{const ct=Math.random().toString().split(".")[1].substr(0,3);return h("div",{className:"signature-fold-breaker"},ct)},Ne=({delta:ct,className:wt,withPercent:Mt})=>{const pn=ct<0?"negative":ct>0?"positive":"neutral";return pn==="neutral"?h("span",{className:`${wt} neutral`},"\u2013"):h("span",{className:`${wt} ${pn}`},pn==="positive"?`+${numberToString(ct)}${Mt?"%":""}`:`${numberToString(ct)}${Mt?"%":""}`)},He={EmailDocument:ve},ze={fullWidth:"frontend-email-system-basics-module__fullWidth--SbS_a",emailButtonTd:"frontend-email-system-basics-module__emailButtonTd--j57hX",priority_primary:"frontend-email-system-basics-module__priority_primary--Oo4PA",emailButtonA:"frontend-email-system-basics-module__emailButtonA--ZlAPM",priority_secondary:"frontend-email-system-basics-module__priority_secondary--dWyFt",priority_outline:"frontend-email-system-basics-module__priority_outline--SeyPx",avatar:"frontend-email-system-basics-module__avatar--eNC1i",framed:"frontend-email-system-basics-module__framed--Br_VZ",icon:"frontend-email-system-basics-module__icon--G_0WQ",emailSeparator:"frontend-email-system-basics-module__emailSeparator--iRI9Q"};var Xe=Object.defineProperty,_t=Object.defineProperties,we=Object.getOwnPropertyDescriptors,We=Object.getOwnPropertySymbols,Ie=Object.prototype.hasOwnProperty,tt=Object.prototype.propertyIsEnumerable,et=(ct,wt,Mt)=>wt in ct?Xe(ct,wt,{enumerable:!0,configurable:!0,writable:!0,value:Mt}):ct[wt]=Mt,ht=(ct,wt)=>{for(var Mt in wt||(wt={}))Ie.call(wt,Mt)&&et(ct,Mt,wt[Mt]);if(We)for(var Mt of We(wt))tt.call(wt,Mt)&&et(ct,Mt,wt[Mt]);return ct},vt=(ct,wt)=>_t(ct,we(wt)),Lt=(ct,wt)=>{var Mt={};for(var pn in ct)Ie.call(ct,pn)&&wt.indexOf(pn)<0&&(Mt[pn]=ct[pn]);if(ct!=null&&We)for(var pn of We(ct))wt.indexOf(pn)<0&&tt.call(ct,pn)&&(Mt[pn]=ct[pn]);return Mt};function $t(ct){return h(yt,vt(ht({},ct),{unsubscribe_url:"%%unsubscribe_url%%"}))}function yt({pub:ct=wwwPub,description:wt,noPromo:Mt,children:pn,noLogo:Mn,noFooter:$n,unsubscribe_url:mr}){const jn=(ct.id===0||!!getLogo(ct))&&!Mn;return h(Ee,{description:wt},h(H,{gap:16},compact([jn&&h(PubIcon,{pub:ct.id===0?vt(ht({},ct),{logo_url:`${getSubstackUrl()}/img/substack-system-email-align-left.png?v=2`}):ct,size:40}),pn,$n?null:Mt?h(je,{pub:ct,unsubscribe_url:mr}):h(he,{pub:ct,unsubscribe_url:mr}),h(SignatureFoldBreaker,null)])))}function he(ct){var wt=ct,{pub:Mt,unsubscribe_url:pn}=wt,Mn=Lt(wt,["pub","unsubscribe_url"]);return Mt?h(EmailFooter,ht({pub:Mt,unsubscribe_url:pn==null?!1:pn},Mn)):null}function je({pub:ct,unsubscribe_url:wt}){return h(EmailFooterContainer,null,h(EmailFooterMeta,{pub:ct,unsubscribe_url:wt==null?!1:wt}))}function st({children:ct,href:wt,testId:Mt,tableClassName:pn,tdClassName:Mn,aClassName:$n,alt:mr,download:jn,target:dr,style:nn}){return(0,o.h)(Me,{className:pn,style:nn},(0,o.h)("tr",null,(0,o.h)("td",{className:Mn,align:"center"},wt?(0,o.h)("a",{href:wt,className:l()($n),"data-test-id":Mt,alt:mr,download:jn,target:dr},ct):(0,o.h)("span",{className:$n,"data-test-id":Mt},ct))))}function De(ct={children:"",noUnderline:!1}){return(0,o.h)(st,vt(ht({},ct),{aClassName:"email-button-a",tdClassName:"email-button-td"}))}function Be(ct){var wt=ct,{fullWidth:Mt,priority:pn="primary",aClassName:Mn}=wt,$n=Lt(wt,["fullWidth","priority","aClassName"]);return(0,o.h)(st,vt(ht({},$n),{tableClassName:Mt?ze.fullWidth:void 0,aClassName:l()(Mt&&ze.fullWidth,ze.emailButtonA,Mn),tdClassName:l()(Mt&&ze.fullWidth,ze.emailButtonTd,ze[`priority_${pn}`])}))}function Ke({src:ct,size:wt,framed:Mt}){return(0,o.h)(S.Z,{className:l()(v.A.avatar,ze.avatar,Mt&&ze.framed),src:(0,y.imginary)(ct),style:{width:wt,height:wt,minWidth:wt,minHeight:wt,objectFit:"cover",margin:0,display:"inline"},width:wt,height:wt})}function it({src:ct,size:wt}){return h(Img,{className:css.icon,src:imginary(ct),style:{width:wt,height:wt,minWidth:wt,minHeight:wt,objectFit:"cover",margin:0},width:wt,height:wt})}const Qe=(0,x.L)("email-text-button","a"),Ae=(0,x.L)("email-text-b4 email-text-secondary","div");function H({children:ct,gap:wt=0,style:Mt}){const pn=(0,o.toChildArray)(ct),Mn=[];for(const mr of pn.slice(0,-1))Mn.push((0,o.h)("tr",null,(0,o.h)("td",null,mr))),wt>0&&Mn.push((0,o.h)("tr",{height:wt},(0,o.h)("td",null)));const $n=pn[pn.length-1];return $n&&Mn.push((0,o.h)("tr",null,(0,o.h)("td",null,$n))),(0,o.h)(Me,{style:Mt},Mn)}function ee({children:ct,gap:wt=0,style:Mt,verticalAlign:pn="middle"}){const Mn=(0,o.toChildArray)(ct),$n=[];for(const jn of Mn.slice(0,-1))$n.push((0,o.h)("td",{style:{verticalAlign:pn}},jn)),wt>0&&$n.push((0,o.h)("td",{width:wt,style:`min-width: ${wt}px`}));const mr=Mn[Mn.length-1];return mr&&$n.push((0,o.h)("td",{style:{verticalAlign:pn}},mr)),(0,o.h)(Me,{style:Mt},(0,o.h)("tr",null,$n))}function de({users:ct,post:wt,pub:Mt,user:pn}){return h(FormattedArray,{array:ct,limit:3,formatter:Mn=>h("a",{href:getReaderProfileUrl(Mn)},anonymousName(Mn,wt,Mt,pn))})}function Ee({children:ct,description:wt}){return h(MinimalEmailDocument,{className:"email-text-base email-text-b3",description:wt},h(Me,{width:"100%"},h("tr",null,h("td",{style:{color:"transparent"}},"\xA0"),h("td",{align:"center",width:468},ct),h("td",{style:{color:"transparent"}},"\xA0"))))}function Me(ct){var wt=ct,{children:Mt}=wt,pn=Lt(wt,["children"]);return(0,o.h)("table",ht({role:"presentation",width:"auto",border:"0",cellspacing:"0",cellpadding:"0"},pn),Mt)}function $e(ct){var wt=ct,{src:Mt}=wt,pn=Lt(wt,["src"]);return h(Img,ht({src:getSubstackUrl()+Mt},pn))}function dt(){return h("div",{className:css.emailSeparator})}},9869:(z,u,e)=>{"use strict";e.d(u,{K:()=>I});var o=e(6400),f=e(98661),l=e(94184),c=e.n(l),g=e(84040),v=e(51126),E=e(44396),y=e(92630),p=e(25666);function O({text:D,icon:N,hotkeys:C}){const A=(0,E.XA)(),{layerProps:L,triggerProps:U,transitionProps:W,renderLayer:G,shouldShow:$}=(0,p.l)();return{triggerProps:A||!D?null:U,layer:$&&G((0,o.h)(y._,{transitionProps:W,tooltipProps:L,text:D,icon:N,hotkeys:C}))}}var S=e(28967),x=Object.defineProperty,T=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,s=(D,N,C)=>N in D?x(D,N,{enumerable:!0,configurable:!0,writable:!0,value:C}):D[N]=C,w=(D,N)=>{for(var C in N||(N={}))_.call(N,C)&&s(D,C,N[C]);if(T)for(var C of T(N))d.call(N,C)&&s(D,C,N[C]);return D},P=(D,N)=>{var C={};for(var A in D)_.call(D,A)&&N.indexOf(A)<0&&(C[A]=D[A]);if(D!=null&&T)for(var A of T(D))N.indexOf(A)<0&&d.call(D,A)&&(C[A]=D[A]);return C};const I=(0,f.forwardRef)((D,N)=>{var C=D,{className:A,active:L,disabled:U,permalink:W,tooltip:G}=C,$=P(C,["className","active","disabled","permalink","tooltip"]);const q=O({text:G});return(0,o.h)(v.hs,w({flex:"grow",justifyContent:W?"center":"start",alignItems:"center"},q.triggerProps),q.layer,(0,o.h)(g.kG,w({className:c()(S.Z.actionButton,A,L&&S.Z.active,U&&S.Z.disabled,W&&S.Z.permalink),resetCss:!0,ref:N,disabled:U},$)))})},63771:(z,u,e)=>{"use strict";e.d(u,{A4:()=>me,Bq:()=>be,Kk:()=>$.K,_x:()=>_e,ij:()=>Te,s9:()=>se,uD:()=>pe,ve:()=>ve});var o=e(6400),f=e(98661),l=e(30396),c=e(94184),g=e.n(c),v=e(31131),E=e(20501),y=e(83322),p=e(31517),O=e(26240),S=e(56838),x=e(67963),T=e(69371),_=e(55687),d=e(3258),s=e(39419),w=e.n(s),P=e(51126),I=e(76235),D=e(43887),N=e(41474),C=e(91870),A=e(50292),L=e(10174),U=e(33812),W=e(16742),G=e(44396),$=e(9869),q=e(11132),J=e(28967),R=Object.defineProperty,j=Object.defineProperties,ie=Object.getOwnPropertyDescriptors,le=Object.getOwnPropertySymbols,ye=Object.prototype.hasOwnProperty,ue=Object.prototype.propertyIsEnumerable,oe=(He,ze,Xe)=>ze in He?R(He,ze,{enumerable:!0,configurable:!0,writable:!0,value:Xe}):He[ze]=Xe,te=(He,ze)=>{for(var Xe in ze||(ze={}))ye.call(ze,Xe)&&oe(He,Xe,ze[Xe]);if(le)for(var Xe of le(ze))ue.call(ze,Xe)&&oe(He,Xe,ze[Xe]);return He},Z=(He,ze)=>j(He,ie(ze)),re=(He,ze)=>{var Xe={};for(var _t in He)ye.call(He,_t)&&ze.indexOf(_t)<0&&(Xe[_t]=He[_t]);if(He!=null&&le)for(var _t of le(He))ze.indexOf(_t)<0&&ue.call(He,_t)&&(Xe[_t]=He[_t]);return Xe},ae=(He,ze,Xe)=>new Promise((_t,we)=>{var We=et=>{try{tt(Xe.next(et))}catch(ht){we(ht)}},Ie=et=>{try{tt(Xe.throw(et))}catch(ht){we(ht)}},tt=et=>et.done?_t(et.value):Promise.resolve(et.value).then(We,Ie);tt((Xe=Xe.apply(He,ze)).next())});function se({item:He,pub:ze,post:Xe,onLike:_t,permalink:we}){var We;const Ie=(0,T.rI)(),tt=(0,q.F)(),et=(0,L.i3)(),ht=(0,x.aF)(),{requireLogin:vt}=(0,A.SJ)(),Lt=Le(Xe.id,{tabId:tt}),$t=Ne(Xe),yt=!!Xe.reaction,he=!ze.community_enabled,je=!(0,y.commentsEnabledForPost)({publication:ze,post:Xe}),st=(We=Xe.child_comment_count)!=null?We:0,De=Ke=>ae(this,null,function*(){if(Ke.preventDefault(),!ht){vt==null||vt();return}const it=!Xe.reaction;(yield Lt(Xe.id,it))&&(_t==null||_t(it),He&&(0,N.rw)(He,Ie,"like",{tabId:tt}))}),Be=Ke=>{if(Ke.preventDefault(),!ht){vt==null||vt();return}et.open({parentPubId:Xe.publication_id,parentPostId:Xe.id,tabId:tt}),He&&(0,N.rw)(He,Ie,"comment",{tabId:tt})};return(0,o.h)(be,null,(0,o.h)(_e,{className:g()(J.Z.like,J.Z.likeButton,$t===0&&J.Z.shrink),active:yt,disabled:he,onClick:De,permalink:we},(0,o.h)(pe,{isLiked:yt}),!we&&(0,o.h)(D.xv.Digit,{className:g()(J.Z.digit,$t===0&&J.Z.hidden)},(0,_.u)(Math.max($t,1)))),(0,o.h)($.K,{className:g()(J.Z.reply,st===0&&J.Z.shrink),disabled:je,onClick:Be,permalink:we},(0,o.h)(O.Z,{strokeWidth:we?2:2.5}),!we&&(0,o.h)(D.xv.Digit,{className:g()(J.Z.digit,st===0&&J.Z.hidden)},(0,_.u)(Math.max(st,1)))),(0,o.h)(me,{disabled:he,pub:ze,post:Xe,permalink:we}),(0,o.h)(ve,{publication:ze,post:Xe,item:He,twitterText:(0,y.resolveTwitterShareText)({pub:ze,post:Xe}),permalink:we}))}function be(He){const ze=(0,G.XA)();return(0,o.h)(P.hs,te({flex:"grow",justifyContent:ze?"space-between":"start",className:J.Z.actionRow},He))}function _e(He){var ze=He,{className:Xe,onClick:_t}=ze,we=re(ze,["className","onClick"]);const[We,Ie]=(0,l.eJ)(!1),tt=et=>{Ie(!0),_t==null||_t(et)};return(0,o.h)($.K,Z(te({},we),{onClick:tt,className:g()(Xe,we.permalink&&J.Z.permalink,We&&J.Z.clickedOnce)}))}function pe({isLiked:He}){return(0,o.h)("div",{className:g()(J.Z.heartWrapper,He&&J.Z.isLiked)},(0,o.h)("svg",{className:J.Z.heart,width:"24",height:"24",viewBox:"0 0 24 24"},(0,o.h)("path",{d:"M12,21.35L10.55,20.03C5.4,15.36 2,12.27 2,8.5C2,5.41 4.42,3 7.5,3C9.24,3 10.91,3.81 12,5.08C13.09,3.81 14.76,3 16.5,3C19.58,3 22,5.41 22,8.5C22,12.27 18.6,15.36 13.45,20.03L12,21.35Z"})),(0,o.h)("div",{className:J.Z.sparks,style:"--total-sparks: 8"},Array(8).fill(0).map((Xe,_t)=>(0,o.h)("div",{className:J.Z.spark,style:`--i: ${_t+1};`}))))}function me({pub:He,post:ze,comment:Xe,rootComment:_t,onOpen:we,permalink:We,disabled:Ie}){const tt=(0,q.F)(),{canRestack:et,isRestacked:ht,restacks:vt,menuItems:Lt,nuxModal:$t}=(0,W.K)({pub:He,post:ze,comment:Xe,tabId:tt});return et?(0,o.h)(o.Fragment,null,$t,(0,o.h)(I.v2,{trigger:(0,o.h)(Te,{restacks:vt,"aria-label":"menu",active:ht,disabled:Ie,permalink:We}),useMobileBottomSheet:!0,mobileBottomSheetTitle:"Restack",onOpen:()=>we==null?void 0:we(ht)},Lt)):null}const Te=(0,f.forwardRef)((He,ze)=>{var Xe=He,{permalink:_t,restacks:we}=Xe,We=re(Xe,["permalink","restacks"]);return(0,o.h)($.K,te({className:g()(J.Z.restack,we===0&&J.Z.shrink),"aria-label":"restack-menu",permalink:_t,ref:ze},We),(0,o.h)(p.Z,{strokeWidth:_t?2:2.5}),!_t&&(0,o.h)(D.xv.Digit,{className:g()(J.Z.digit,we===0&&J.Z.hidden)},(0,_.u)(Math.max(we,1))))});function ve({publication:He,post:ze,comment:Xe,item:_t,twitterText:we,permalink:We}){const Ie=(0,T.rI)(),tt=(0,q.F)(),et=(0,x.aF)(),ht=et?et.id.toString(36):void 0,vt=Xe?(0,E.getFeedCommentUrl)(Xe,{urlParams:{utm_source:"notes-share-action",r:ht}}):ze?(0,E.getFeedShortPostUrl)(He,ze,{urlParams:{utm_source:"notes-share-action",r:ht}}):null,Lt=(0,U.wg)({url:vt,twitterText:we,onLinkClicked:yt=>{(0,d.j)(d.FP.FEED_ITEM_SHARE_LINK_CLICKED,{type:yt,shared_post_id:ze==null?void 0:ze.id,shared_comment_id:Xe==null?void 0:Xe.id})},comment:Xe}),$t=()=>{_t&&(0,N.rw)(_t,Ie,"share",{tabId:tt})};return(0,o.h)(I.v2,{trigger:(0,o.h)(ce,{permalink:We}),useMobileBottomSheet:!0,mobileBottomSheetTitle:"Share",maxHeight:350,onOpen:$t},Lt)}const ce=(0,f.forwardRef)(({onClick:He,permalink:ze},Xe)=>(0,o.h)($.K,{"aria-label":"share",onClick:He,permalink:ze,className:J.Z.share,ref:Xe},(0,o.h)(v.Z,{strokeWidth:ze?2:2.5})));function Le(He,{tabId:ze}={}){const Xe=(0,C.I0)(),_t=(0,S.sV)();return(we,We)=>ae(this,null,function*(){Xe({type:"post_like",payload:{postId:we,isLiked:We}});try{return yield _t(we,We,{tabId:ze}),!0}catch(Ie){return Xe({type:"post_like",payload:{postId:we,isLiked:!We}}),alert((0,s.getNetworkErrorMessage)(Ie)),!1}})}function Ne(He){var ze;return(ze=He.reactions["\u2764"])!=null?ze:0}},65024:(z,u,e)=>{"use strict";e.d(u,{y:()=>re,k:()=>ve});var o=e(6400),f=e(30396),l=e(94184),c=e.n(l),g=e(27484),v=e.n(g),E=e(65445),y=(ce=>(ce.Removed="removed",ce.Unavailable="unavailable",ce.BlockedYou="blocked-you",ce.YouBlocked="you-blocked",ce.YouMuted="you-muted",ce))(y||{});function p(ce){return ce.type==="missing"}var O=e(20501),S=e(85344),x=e(79786),T=e(84040),_=e(51126),d=e(43887),s=e(10186),w=e(41474),P=e(73413),I=e(44396),D=e(224),N=e(66337),C=e(2564),A=e(6385),L=e(80332),U=e(16527),W=e(70762),G=e(62017),$=e(28967);const q="notes_quote_attachment";function J({attachment:ce,readOnly:Le,onClick:Ne}){const He=(0,I.XA)(),{postSelection:ze,post:Xe,publication:_t,author:we}=ce,We=we!=null?we:(0,A.getPostAuthor)(_t,Xe),Ie=(0,W._)({publication:_t,subscriptionSource:q,publicationName:_t.name}),tt=(0,o.h)(s.qE,{size:36,user:We});return(0,o.h)(_.tu,{className:$.Z.quote,as:Le?"div":"a",border:"detail",radius:12,onClick:et=>{Ne&&Ne(),!He&&P.L&&!Le&&(0,U.Q)(et,(0,O.getPostUrl)(_t,Xe,{noBase:!He,feedViewer:!He,urlParams:{selection:ze.id}}))},href:Le?void 0:(0,O.getPostUrl)(_t,Xe,{feedViewer:!1,urlParams:{selection:ze.id}})},(0,o.h)(_.tu,{padding:{mobile:12,desktop:16},borderBottom:"detail"},(0,o.h)(d.xv,{font:"serif",className:c()($.Z.quoteText,He&&$.Z.mobile)},"\u201C",R(ze.text),"\u201D")),(0,o.h)(_.hs,{className:$.Z.quoteBottom,alignItems:"center",paddingX:He?12:16,paddingY:He?8:12,gap:12},(0,o.h)(_.hs,{gap:12,flex:"grow",alignItems:"center",minWidth:0},Le?tt:(0,o.h)(L.Ct,{subject:We,dontStopPropagation:!0,utmSource:"feed"},tt),(0,o.h)(_.tu,{minWidth:0,flex:"grow"},(0,o.h)(d.xv.B4,{weight:"medium",ellipsis:!0},Le?We.name:(0,o.h)(G.Zg,{user:We,ellipsis:!0,utm_source:q})),(0,o.h)(_.hs,{gap:6,minWidth:0},(0,o.h)(d.xv.B4,{color:"secondary",ellipsis:!0},Xe.title),Ie.showCta&&(0,o.h)(o.Fragment,null,(0,o.h)(d.xv.B4,{color:"secondary",ellipsis:!0},"\u2219"),(0,o.h)(d.xv.B4,{color:Ie.isSubscribed?"secondary":"substack"},(0,o.h)(G.hh,{href:"javascript:void",onClick:Le?void 0:Ie.isSubscribed?Ie.unsubscribe:Ie.subscribe},Ie.isSubscribed?"Subscribed":"Subscribe")))))),(0,o.h)(C.Z,{size:24,color:"var(--color-secondary)"})))}function R(ce){return ce.replace(/[]/g,"\u2018").replace(/[]/g,"\u2019").replace(/["]/g,"'")}var j=e(11132),ie=e(4070),le=Object.defineProperty,ye=Object.getOwnPropertySymbols,ue=Object.prototype.hasOwnProperty,oe=Object.prototype.propertyIsEnumerable,te=(ce,Le,Ne)=>Le in ce?le(ce,Le,{enumerable:!0,configurable:!0,writable:!0,value:Ne}):ce[Le]=Ne,Z=(ce,Le)=>{for(var Ne in Le||(Le={}))ue.call(Le,Ne)&&te(ce,Ne,Le[Ne]);if(ye)for(var Ne of ye(Le))oe.call(Le,Ne)&&te(ce,Ne,Le[Ne]);return ce};function re({attachments:ce,readOnly:Le,isRestack:Ne,onAttachmentClick:He,utm_content:ze}){if(ce.length===0)return null;const Xe=ce.filter(we=>we.type==="image"),_t=ce.filter(we=>we.type!=="image");return(0,o.h)(o.Fragment,null,Xe.length>0&&(0,o.h)(S.q,{readOnly:Le,isRestack:Ne,assets:Xe.map(we=>we.imageUrl)}),_t.map(we=>(0,o.h)(ae,{attachment:we,readOnly:Le,isRestack:Ne,onAttachmentClick:He,utm_content:ze})))}function ae({attachment:ce,readOnly:Le,isRestack:Ne,onAttachmentClick:He,utm_content:ze}){var Xe;return p(ce)?(0,o.h)(be,{attachment:ce,readOnly:Le,isRestack:Ne,onAttachmentClick:He,utm_content:ze}):ce.type==="image"?(0,o.h)(S.q,{readOnly:Le,isRestack:Ne,assets:[ce.imageUrl],onClick:He}):ce.type==="link"?(0,o.h)(me,Z({readOnly:Le,onClick:He},ce.linkMetadata)):ce.type==="comment"?(0,o.h)(_e,{readOnly:Le,publication:(Xe=ce.publication)!=null?Xe:void 0,post:ce.post,comment:ce.comment,onAttachmentClick:He,utm_content:ze}):ce.type==="post"?ce.postSelection?(0,o.h)(J,{readOnly:Le,attachment:ce,onClick:He}):(0,o.h)(N.I,{readOnly:Le,publication:ce.publication,post:ce.post,onClick:He}):ce.type==="publication"?(0,o.h)(pe,{readOnly:Le,publication:ce.publication,onClick:He}):(0,o.h)(se,{attachment:ce})}function se({attachment:ce}){return(0,o.h)(_.hs,null)}function be({attachment:ce,readOnly:Le,isRestack:Ne,onAttachmentClick:He,utm_content:ze}){const Xe=(0,j.F)(),_t=[y.YouBlocked,y.YouMuted].includes(ce.reason)&&!!ce.hidden_attachment,[we,We]=(0,f.eJ)(!1);return we&&ce.hidden_attachment?(0,o.h)(ae,{attachment:ce.hidden_attachment,readOnly:Le,isRestack:Ne,onAttachmentClick:He,utm_content:ze}):(0,o.h)(_.hs,{bg:"elevated",border:"detail",justifyContent:_t?"space-between":"center",alignItems:"center",radius:12,padding:16},(0,o.h)(d.xv.B4,{color:"secondary",align:"center"},ce.reason===y.YouBlocked?"This note is from someone you blocked.":ce.reason===y.YouMuted?"This note is from someone you've hidden.":"This attachment is not available."),_t&&(0,o.h)(T.kG,{resetCss:!0,onClick:()=>{var Ie;(0,w.Kr)(ce.id,ce.reason,{noteId:(Ie=ce.hidden_attachment)==null?void 0:Ie.id}),We(!0)}},(0,o.h)(d.xv,{fontWeight:"bold",fontSize:14,color:"secondary"},"Show")))}function _e({comment:ce,publication:Le,readOnly:Ne,onAttachmentClick:He,utm_content:ze}){var Xe,_t,we;const{truncatedBodyJson:We}=(0,ie.Z)(ce,{limit:280,triggerLimit:280});return(0,o.h)(_.tu,{className:$.Z.post,as:Ne?"div":"a",bg:"elevated",border:"detail",radius:12,href:Ne?void 0:(0,O.getFeedCommentUrl)(ce),onClick:()=>He==null?void 0:He({commentId:ce.id}),padding:12,gap:8},(0,o.h)(_.hs,{gap:8,alignItems:"center"},(0,o.h)("a",{href:(0,O.getReaderProfileUrl)(ce.user,{noBase:P.L,utm_content:"substack-feed-item",utm_source:ze!=null?ze:void 0})},(0,o.h)(s.qE,{size:20,user:ce.user})),(0,o.h)(_.hs,{alignItems:"center",gap:8},(0,o.h)(d.xv.B4,{weight:"medium"},Ne?ce.user.name:(0,o.h)(G.xG,{user:ce.user,utm_source:"substack-feed-item",utm_content:ze},ce.user.name)),(0,o.h)(Te,{comment:ce}))),ce.body&&(0,o.h)(d.xv.B4,{className:$.Z.feedCommentBodyInner},ce.hidden?Le&&(0,o.h)("i",null,"This comment is only visible to paid subscribers of"," ",Le.name):We&&(0,o.h)(D.x,{content:We})),((_t=(Xe=ce.attachments)==null?void 0:Xe.length)!=null?_t:0)>0&&(0,o.h)(re,{isRestack:!0,attachments:(we=ce.attachments)!=null?we:[],onAttachmentClick:He,utm_content:ze}))}function pe({publication:ce,readOnly:Le,onClick:Ne}){var He;return(0,o.h)(me,{image:(He=ce.logo_url)!=null?He:void 0,title:ce.name,description:ce.hero_text,url:ce.base_url,onClick:Ne,host:ce.base_url.replace(/^https?:\/\//,""),readOnly:Le})}function me({image:ce,title:Le,description:Ne,url:He,host:ze,readOnly:Xe,onClick:_t}){const we=(0,I.XA)();return(0,o.h)(_.hs,{className:$.Z.post,padding:12,gap:12,as:Xe?"div":"a",bg:"elevated",border:"detail",radius:12,href:Xe?void 0:He,onClick:_t,rel:"nofollow noopener ugc",target:"_blank"},(0,o.h)(_.tu,{gap:2,flex:"grow",minWidth:0},(0,o.h)(d.xv.Meta,{color:"secondary",ellipsis:!0},ze),we?(0,o.h)(d.xv.B4,{clamp:1},Le):(0,o.h)(d.xv.B3,{clamp:2,weight:"medium"},Le),Ne&&(0,o.h)(d.xv.B4,{as:"p",color:"secondary",clamp:we?1:2},Ne)),ce&&(0,o.h)(x.e,{className:c()($.Z.linkImage,we&&$.Z.mobile),src:ce,maxWidth:192,imageProps:{smartCrop:!0,aspect:"1:1"}}),!ce&&(0,o.h)(_.hs,{alignItems:"center",justifyContent:"center",radius:12,className:c()($.Z.linkImage,$.Z.linkImagePlaceholder,we&&$.Z.mobile)},(0,o.h)(E.Z,null)))}function Te({post:ce,comment:Le}){return(0,o.h)(d.xv.B4,{color:"secondary"},v()((Le==null?void 0:Le.date)||(ce==null?void 0:ce.post_date)).fromNowShort())}function ve(ce){var Le;switch(ce.type){case"post":return ce.postSelection?(0,O.getPostUrl)(ce.publication,ce.post,{urlParams:{selection:ce.postSelection.id}}):ce.post.canonical_url;case"comment":return(0,O.getFeedCommentUrl)(ce.comment);case"publication":return ce.publication.base_url;case"link":return(Le=ce.linkMetadata.url)!=null?Le:null;default:return null}}},224:(z,u,e)=>{"use strict";e.d(u,{x:()=>d});var o=e(6400),f=e(36487),l=e(80332),c=e(44695),g=e(2731);function v({id:w,label:P,type:I,url:D}){return(0,o.h)("span",{className:"node-substack_mention"},I==="pub"?(0,o.h)(y,{id:w,url:D,label:P}):(0,o.h)(E,{id:w,label:P}))}function E({id:w,label:P}){return(0,o.h)(l.Ct,{inline:!0,subject:{id:w,name:P}},(0,o.h)("a",{className:"substack-mention",href:(0,g.getProfileUrlById)(w,P)},"@",P))}function y({id:w,url:P,label:I}){return(0,o.h)(c.Sm,{publication_id:w,inline:!0},(0,o.h)("a",{className:"substack-mention",href:P},"@",I))}var p=Object.defineProperty,O=Object.getOwnPropertySymbols,S=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,T=(w,P,I)=>P in w?p(w,P,{enumerable:!0,configurable:!0,writable:!0,value:I}):w[P]=I,_=(w,P)=>{for(var I in P||(P={}))S.call(P,I)&&T(w,I,P[I]);if(O)for(var I of O(P))x.call(P,I)&&T(w,I,P[I]);return w};function d({content:w}){return(0,o.h)(s,{content:w})}function s({content:w}){var P,I,D,N,C;if(w.type==="text"){const L=(D=(I=(P=w.marks)==null?void 0:P.find(G=>G.type==="link"))==null?void 0:I.attrs)==null?void 0:D.href,U=L?(0,f.u)(L):w.text;let W=(0,o.h)(o.Fragment,null,U);if(w.marks)for(const G of w.marks)G.type==="link"?W=(0,o.h)("a",_({className:"note-link"},G.attrs),W):G.type==="bold"?W=(0,o.h)("strong",null,W):G.type==="italic"?W=(0,o.h)("em",null,W):G.type==="strike"?W=(0,o.h)("s",null,W):G.type==="code"&&(W=(0,o.h)("code",null,W));return W}const A=(N=w.content)==null?void 0:N.filter(L=>!!L).map(L=>(0,o.h)(s,{content:L}));if(w.type==="substack_mention"){const{id:L,label:U,mentionType:W,url:G}=(C=w.attrs)!=null?C:{};return L&&U?(0,o.h)(v,{id:L,label:U,type:W,url:G}):null}return w.type==="doc"?(0,o.h)("div",{className:"ProseMirror FeedProseMirror"},A):w.type==="paragraph"?(0,o.h)("p",null,A):w.type==="blockquote"?(0,o.h)("blockquote",null,A):w.type==="codeBlock"?(0,o.h)("pre",null,(0,o.h)("code",null,A)):w.type==="orderedList"?(0,o.h)("ol",null,A):w.type==="bulletList"?(0,o.h)("ul",null,A):w.type==="listItem"?(0,o.h)("li",null,A):null}},51731:(z,u,e)=>{"use strict";e.d(u,{WS:()=>ve,bN:()=>He});var o=e(6400),f=e(30396),l=e(94184),c=e.n(l),g=e(6385),v=e(81470),E=e(70444),y=e(20501),p=e(83322),O=e(26240),S=e(29820),x=e(80332),T=e(58718),_=e(63270),d=e(67963),s=e(65024),w=e(69371),P=e(55687),I=e(62017),D=e(50670),N=e(4070),C=e(8479),A=e(39419),L=e.n(A),U=e(51126),W=e(43887),G=e(41474),$=e(91870),q=e(73413),J=e(50292),R=e(10174),j=e(44695),ie=e(70762),le=e(63771),ye=e(224),ue=e(29800),oe=e(75309),te=e(8796),Z=e(11132),re=e(28967),ae=Object.defineProperty,se=Object.getOwnPropertySymbols,be=Object.prototype.hasOwnProperty,_e=Object.prototype.propertyIsEnumerable,pe=(we,We,Ie)=>We in we?ae(we,We,{enumerable:!0,configurable:!0,writable:!0,value:Ie}):we[We]=Ie,me=(we,We)=>{for(var Ie in We||(We={}))be.call(We,Ie)&&pe(we,Ie,We[Ie]);if(se)for(var Ie of se(We))_e.call(We,Ie)&&pe(we,Ie,We[Ie]);return we},Te=(we,We,Ie)=>new Promise((tt,et)=>{var ht=$t=>{try{Lt(Ie.next($t))}catch(yt){et(yt)}},vt=$t=>{try{Lt(Ie.throw($t))}catch(yt){et(yt)}},Lt=$t=>$t.done?tt($t.value):Promise.resolve($t.value).then(ht,vt);Lt((Ie=Ie.apply(we,We)).next())});function ve({comment:we,item:We,isParent:Ie,showReplyingTo:tt,showContext:et,utm_content:ht,parentCommentUserId:vt}){var Lt,$t,yt,he,je,st,De;const Be=(0,d.aF)(),{getConfigFor:Ke}=(0,_.xR)(),it=!!Ke("hidden_replies_ui_enabled"),Qe=(0,w.rI)(),Ae=(0,Z.F)(),H=()=>(0,G.rw)(We,Qe,"profile",{tabId:Ae}),ee=!we.ancestor_path,de=We.publication&&We.post&&(0,g.getPostAuthor)(We.publication,We.post);let Ee=null;if(!ee){const dt=(Lt=we.ancestor_path)==null?void 0:Lt.split(".").pop(),ct=dt&&Number(dt);Ee=(yt=($t=We.parentComments)==null?void 0:$t.find(wt=>(wt==null?void 0:wt.id)===ct))!=null?yt:null}const Me=dt=>{if(!dt.defaultPrevented){(0,G.rw)(We,Qe,"item",{tabId:Ae});const ct=(0,y.getFeedCommentUrl)(we,{noBase:!we.hidden&&q.L});(0,A.redirect)(we.hidden&&We.publication?(0,y.getSubscribeUrl)(We.publication,{addBase:!0,params:{next:ct}}):ct,{event:dt,newTab:!!we.hidden,local_navigation:!we.hidden})}},$e=(0,g.getCommentAuthor)(we);return(0,o.h)(D.oM,{showGutter:Ie,hasContext:et,onClick:Me},(0,o.h)(te.n,{userId:$e==null?void 0:$e.id,comment:we},(et||!Ie&&["comment_like","comment_top","comment_restack"].includes(We.context.type))&&(0,o.h)(ue.L,{context:We.context,onClick:()=>(0,G.rw)(We,Qe,"context",{tabId:Ae}),utm_content:ht}),(0,o.h)(U.hs,{gap:12},(0,o.h)(D.Fb,{user:$e,onClick:H,utm_content:ht,desaturate:it&&((he=We.comment)==null?void 0:he.hide_reply)}),(0,o.h)(U.tu,{gap:8,flex:"grow",minWidth:0},(0,o.h)(U.tu,{gap:12},(0,o.h)(U.tu,null,(0,o.h)(U.tu,null,(0,o.h)(oe.Ev,{user:$e,post:(je=We.post)!=null?je:void 0,comment:we,onClick:H,utm_content:ht,publication:(st=We.publication)!=null?st:void 0,item:We,parentCommentUserId:vt}),tt&&(ee&&de||!ee&&Ee)?(0,o.h)(W.xv.Detail,null,"Replying to"," ",(0,o.h)(x.Ct,{subject:ee?de:Ee?{id:Ee.user_id,user_id:Ee.user_id,name:Ee.name,photo_url:Ee.photo_url}:de,dontStopPropagation:!0,utmSource:"feed"},(0,o.h)(I.hh,{href:ee?(0,y.getFeedShortPostUrl)(We.publication,We.post,{noBase:q.L}):(0,y.getFeedCommentUrl)(Ee,{noBase:q.L})},(De=ee?de:Ee)==null?void 0:De.name))):Be&&Be.id!==we.user_id&&(0,o.h)(ce,{comment:we})),we.body&&(0,o.h)(He,{comment:we,publication:We.publication})),we.attachments&&(0,o.h)(s.y,{attachments:we.attachments,onAttachmentClick:({commentId:dt}={})=>{(0,G.rw)(We,v.Uo.PostEmbed,"attachment",{extraEventProps:{tabId:Ae,commentId:dt}})},utm_content:ht})),!we.hidden&&(0,o.h)(_t,{item:We,comment:we})))))}function ce({comment:we}){var We;const Ie=(0,g.getCommentAuthor)(we),tt=(0,ie._)({user:Ie,publicationName:(We=Ie.primary_publication)==null?void 0:We.name,subscriptionSource:"substack-feed-item",sourceNoteId:(0,E.It)(we.id)});return!Ie.primary_publication||!tt.showCta?null:(0,o.h)(U.hs,{gap:4},(0,o.h)(o.Fragment,null,(0,o.h)(W.xv.Detail,{ellipsis:!0},(0,o.h)(Ne,{publication:Ie.primary_publication})),(0,o.h)(W.xv.Detail,{color:"secondary"},"\u2219")),(0,o.h)(W.xv.Detail,{color:tt.isSubscribed?"secondary":"substack"},(0,o.h)(I.hh,{onClick:tt.isSubscribed?tt.unsubscribe:tt.subscribe},tt.isSubscribed?"Subscribed":"Subscribe")))}function Le({comment:we}){const{isFollowing:We,toggle:Ie}=useFeedFollowState(getCommentAuthor(we));return h(Text.Detail,{color:We?"secondary":"substack"},h(TextLink,{onClick:Ie},We?"Following":"Follow"))}function Ne({publication:we}){return(0,o.h)(o.Fragment,null,(0,o.h)(j.Sm,{publication_id:we.id,utmSource:"feed",inline:!0},(0,o.h)(I.hh,{href:(0,y.getBaseUrl)(we),target:"_blank"},we.name)))}function He({comment:we,publication:We,large:Ie}){const{bodyJson:tt,truncatedBodyJson:et,isTruncated:ht}=(0,N.Z)(we),[vt,Lt]=(0,f.eJ)(Ie||!ht),$t=he=>{he.preventDefault(),Lt(!0)},yt=vt?tt:et;return(0,o.h)(U.tu,{className:re.Z.feedCommentBody},(0,o.h)(D.sP,{large:Ie},we.hidden?(0,o.h)(ze,{pub:We}):yt&&(0,o.h)(ye.x,{key:vt,content:yt})),!vt&&(0,o.h)(Xe,{onClick:$t,large:Ie}))}function ze({pub:we}){return(0,o.h)(o.Fragment,null,(0,o.h)("i",null,"This comment is only visible to paid subscribers of ",we==null?void 0:we.name),(0,o.h)("br",null),(0,o.h)("b",null,"Subscribe to view \u2192"))}function Xe(we){return(0,o.h)(U.hs,{className:re.Z.seeMore},(0,o.h)(U.hs,{className:re.Z.seeMoreFade}),we.large?(0,o.h)(W.xv.B2,{color:"accent-blue",className:re.Z.seeMoreText},(0,o.h)(I.hh,me({},we),"See more...")):(0,o.h)(W.xv.B3,{color:"accent-blue",className:re.Z.seeMoreText},(0,o.h)(I.hh,me({},we),"See more...")))}function _t({item:we,comment:We,permalink:Ie}){var tt,et;const ht=(0,w.rI)(),vt=(0,Z.F)(),Lt=(0,$.I0)(),$t=(0,R.i3)(),yt=(0,d.aF)(),{requireLogin:he}=(0,J.SJ)(),{publication:je,post:st}=we,De=!!(st&&je&&!(0,p.commentsEnabledForPost)({publication:je,post:st})),Be=!!(st&&je&&!(0,p.restacksEnabledForPost)({publication:je,post:st})),Ke=We.reaction_count||0,it=(0,C.ib)({pathname:`/api/v1/comment/${We.id}/reaction`,method:"POST"}),Qe=!!We.reaction,Ae=()=>{he==null||he()},H=(tt=we.parentComments[0])!=null?tt:We,ee=(0,R.oC)(we),de=Me=>{var $e,dt;if(Me.preventDefault(),!yt){Ae();return}$t.open({feedItem:we,parentPubId:($e=We.publication_id)!=null?$e:void 0,parentPostId:(dt=We.post_id)!=null?dt:void 0,parentCommentId:We.id,tabId:vt}),(0,G.rw)(we,ht,"comment",{tabId:vt,extraEventProps:{reply_requirement:ee,reply_locked:!!ee}})},Ee=Me=>Te(this,null,function*(){if(Me.preventDefault(),!yt){Ae();return}const $e=!Qe;Lt({type:"comment_like",payload:{commentId:We.id,isLiked:$e}});try{yield it.refetch({method:$e?"POST":"DELETE",json:{publication_id:(je==null?void 0:je.id)||null,reaction:"\u2764",tabId:vt}})}catch(dt){Lt({type:"comment_like",payload:{commentId:We.id,isLiked:!$e}}),alert((0,A.getNetworkErrorMessage)(dt));return}(0,G.rw)(we,ht,"like",{tabId:vt})});return(0,o.h)(le.Bq,null,(0,o.h)(le._x,{className:c()(re.Z.like,re.Z.likeButton,Ke===0&&re.Z.shrink),active:Qe,disabled:!1,onClick:Ee,permalink:Ie},(0,o.h)(le.uD,{isLiked:Qe}),!Ie&&(0,o.h)(W.xv.Digit,{className:c()(re.Z.digit,Ke===0&&re.Z.hidden)},(0,P.u)(Math.max(Ke,1)))),(0,o.h)(le.Kk,{className:c()(re.Z.reply,!We.children_count&&re.Z.shrink),disabled:De,onClick:de,permalink:Ie,tooltip:ee==="paid_subscriber"?"Only paid subscribers can reply.":ee==="free_subscriber"?"Only subscribers can reply.":void 0},ee?(0,o.h)(S.Z,{strokeWidth:Ie?2:2.5}):(0,o.h)(O.Z,{strokeWidth:Ie?2:2.5}),!Ie&&(0,o.h)(W.xv.Digit,{className:c()(re.Z.digit,!We.children_count&&re.Z.hidden)},(0,P.u)(Math.max(We.children_count||0,1)))),yt?(0,o.h)(le.A4,{pub:je!=null?je:void 0,post:st!=null?st:void 0,comment:We,rootComment:H,disabled:Be,permalink:Ie,onOpen:Me=>(0,G.rw)(we,ht,"restack",{tabId:vt,extraEventProps:{isRestacked:Me}})}):(0,o.h)(le.ij,{permalink:Ie,restacks:(et=We.restacks)!=null?et:0,disabled:Be,onClick:Ae}),(0,o.h)(le.ve,{publication:je!=null?je:void 0,post:st!=null?st:void 0,comment:We,item:we,permalink:Ie}))}},60779:(z,u,e)=>{"use strict";e.d(u,{w:()=>f});var o=e(6400);function f({size:l=20,stroke:c="var(--color-light-secondary)"}){return(0,o.h)("svg",{width:l,height:l,viewBox:"0 0 24 24",fill:"none",stroke:c,xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{id:"Vector",d:"M18.6471 15.3333V18.6667M18.6471 18.6667L18.6471 22M18.6471 18.6667H22M18.6471 18.6667H15.2941M3 22C3 17.7044 6.69722 14.2222 11.258 14.2222C12.0859 14.2222 12.8854 14.3369 13.6394 14.5505M16.4118 6.44444C16.4118 8.89904 14.4102 10.8889 11.9412 10.8889C9.47214 10.8889 7.47059 8.89904 7.47059 6.44444C7.47059 3.98985 9.47214 2 11.9412 2C14.4102 2 16.4118 3.98985 16.4118 6.44444Z","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}))}},69518:(z,u,e)=>{"use strict";e.d(u,{$:()=>x});var o=e(6400),f=Object.defineProperty,l=Object.defineProperties,c=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,y=(T,_,d)=>_ in T?f(T,_,{enumerable:!0,configurable:!0,writable:!0,value:d}):T[_]=d,p=(T,_)=>{for(var d in _||(_={}))v.call(_,d)&&y(T,d,_[d]);if(g)for(var d of g(_))E.call(_,d)&&y(T,d,_[d]);return T},O=(T,_)=>l(T,c(_)),S=(T,_)=>{var d={};for(var s in T)v.call(T,s)&&_.indexOf(s)<0&&(d[s]=T[s]);if(T!=null&&g)for(var s of g(T))_.indexOf(s)<0&&E.call(T,s)&&(d[s]=T[s]);return d};function x(T){var _=T,{size:d=20,stroke:s="var(--color-light-secondary)"}=_,w=S(_,["size","stroke"]);return(0,o.h)("svg",O(p({},w),{width:d,height:d,viewBox:"0 0 24 24",fill:"none",stroke:s,xmlns:"http://www.w3.org/2000/svg"}),(0,o.h)("path",{id:"Vector",d:"M15.2941 18.6667L17.5294 20.8889L22 16.4444M3 21.9999C3 17.7044 6.69722 14.2222 11.258 14.2222C12.0859 14.2222 12.8854 14.3369 13.6394 14.5505M16.4118 6.44444C16.4118 8.89904 14.4102 10.8889 11.9412 10.8889C9.47214 10.8889 7.47059 8.89904 7.47059 6.44444C7.47059 3.98985 9.47214 2 11.9412 2C14.4102 2 16.4118 3.98985 16.4118 6.44444Z","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}))}},29696:(z,u,e)=>{"use strict";e.d(u,{Bm:()=>Le,O3:()=>He});var o=e(6400),f=e(98661),l=e(30396),c=e(94184),g=e.n(c),v=e(9528),E=e(56743),y=e(2564),p=e(6385),O=e(81470),S=e(70444),x=e(20501),T=e(63270),_=e(67963),d=e(51731),s=e(69371),w=e(29800),P=e(75309),I=e(8796),D=e(66337),N=e(11132),C=e(62017),A=e(50670),L=e(66141),U=e(16527),W=e(6742),G=e(39419),$=e(84040),q=e(51126),J=e(43887),R=e(5131),j=e(41474),ie=e(55337),le=e(73413),ye=e(33510),ue=e(44396),oe=e(63771);const te={table:"frontend-feed-RankingSignalsTable-module__table--HAGt0"};function Z({signals:vt}){return(0,o.h)("table",{className:te.table},(0,o.h)("tr",null,(0,o.h)("td",{colSpan:2},(0,o.h)(J.xv.Meta,null,"\u2193\u2193 Signals for the item below \u2193\u2193"))),vt.map(({key:Lt,value:$t})=>{const yt=typeof $t!="boolean"?$t:$t?"true":"false";return(0,o.h)("tr",null,(0,o.h)("td",null,(0,o.h)(J.xv.Meta,null,Lt)),(0,o.h)("td",null,(0,o.h)(J.xv.Meta,{color:"primary"},yt)))}))}var re=e(28967),ae=Object.defineProperty,se=Object.defineProperties,be=Object.getOwnPropertyDescriptors,_e=Object.getOwnPropertySymbols,pe=Object.prototype.hasOwnProperty,me=Object.prototype.propertyIsEnumerable,Te=(vt,Lt,$t)=>Lt in vt?ae(vt,Lt,{enumerable:!0,configurable:!0,writable:!0,value:$t}):vt[Lt]=$t,ve=(vt,Lt)=>{for(var $t in Lt||(Lt={}))pe.call(Lt,$t)&&Te(vt,$t,Lt[$t]);if(_e)for(var $t of _e(Lt))me.call(Lt,$t)&&Te(vt,$t,Lt[$t]);return vt},ce=(vt,Lt)=>se(vt,be(Lt));function Le({item:vt,showSignals:Lt}){const $t=ze[vt.type];return $t?(0,o.h)($t,{item:vt,showSignals:Lt}):null}function Ne({item:vt,children:Lt}){const $t=(0,l.sO)(null),yt=(0,s.rI)(),he=(0,l.qp)(N.q);return(0,W.UM)($t,()=>(0,j.zi)(vt,yt,{tabId:he}),{threshold:.2}),(0,o.h)(He,{ref:$t},Lt)}const He=(0,f.forwardRef)((vt,Lt)=>(0,o.h)(q.tu,ce(ve({},vt),{className:re.Z.feedItem,gap:4,ref:Lt}))),ze={post:Xe,comment:we,userSuggestions:Ie,twitterConnect:tt,facebookConnect:et,inviteFriends:ht};function Xe({item:vt,showSignals:Lt}){var $t,yt,he;const je=(0,s.rI)(),st=(0,l.qp)(N.q);return(0,o.h)(Ne,{item:vt},Lt&&((yt=($t=vt.signals)==null?void 0:$t.length)!=null?yt:0)>0&&(0,o.h)(Z,{signals:(he=vt.signals)!=null?he:[]}),(0,o.h)(_t,{item:vt,context:(0,o.h)(w.L,{context:vt.context,onClick:()=>(0,j.rw)(vt,je,"context",{tabId:st}),utm_content:vt.entity_key})}))}function _t({item:vt,showGutter:Lt,context:$t}){const{publication:yt,post:he}=vt,je=yt&&he?(0,p.getPostAuthor)(yt,he):void 0,st=(0,s.rI)(),De=(0,l.qp)(N.q),Be=()=>(0,j.rw)(vt,st,"profile",{tabId:De});return!yt||!he||!je?null:(0,o.h)(A.oM,{onClick:Ke=>{(0,j.rw)(vt,st,"item",{tabId:De}),(0,G.redirect)((0,x.getFeedShortPostUrl)(yt,he,{noBase:le.L}),{event:Ke})},showGutter:Lt,hasContext:!!$t},(0,o.h)(I.n,{userId:je==null?void 0:je.id},$t,(0,o.h)(q.hs,{gap:12},(0,o.h)(A.Fb,{user:je,onClick:Be,utm_content:vt.entity_key}),(0,o.h)(q.tu,{gap:8,flex:"grow",minWidth:0},(0,o.h)(q.tu,{gap:8},(0,o.h)(P.Ev,{user:je,post:he,onClick:Be,utm_content:vt.entity_key,publication:yt,item:vt}),(0,o.h)(D.I,{publication:yt,post:he})),(0,o.h)(oe.s9,{item:vt,pub:yt,post:he})))))}function we({item:vt,showSignals:Lt}){var $t,yt,he,je,st,De,Be;const{publication:Ke,post:it,comment:Qe,parentComments:Ae}=vt,H=Ke||it||!Ae||Ae.length===1?void 0:Ae[0],ee=($t=Ae&&Ae[Ae.length-1])!=null?$t:null,de=Ke&&it&&(0,p.getPostAuthor)(Ke,it),Ee=vt.context.type!=="comment_restack",Me=vt.context.type==="note_reply"&&Ee&&Qe.user_id!==((he=de==null?void 0:de.id)!=null?he:(yt=Ae==null?void 0:Ae[0])==null?void 0:yt.user_id),$e=(0,s.rI)(),dt=(0,l.qp)(N.q),ct=vt.context.type==="comment_restack"?`user/${(je=vt.context.users[0])==null?void 0:je.id}`:vt.entity_key;return(0,o.h)(Ne,{item:vt},Lt&&((De=(st=vt.signals)==null?void 0:st.length)!=null?De:0)>0&&(0,o.h)(Z,{signals:(Be=vt.signals)!=null?Be:[]}),(0,o.h)(q.tu,{gap:8},Ee&&(0,o.h)(o.Fragment,null,de?(0,o.h)(o.Fragment,null,(0,o.h)(_t,{item:vt,showGutter:!0,context:Me?(0,o.h)(w.L,{context:vt.context,onClick:()=>(0,j.rw)(vt,$e,"context",{tabId:dt}),utm_content:ct}):void 0}),(Ae==null?void 0:Ae.length)>1&&ee&&(0,o.h)(We,{url:(0,x.getFeedCommentUrl)(ee,{noBase:le.L}),showGutter:!0})):H?(0,o.h)(o.Fragment,null,(0,o.h)(d.WS,{isParent:!0,comment:H,item:vt,showContext:Me,utm_content:ct}),(Ae==null?void 0:Ae.length)>2&&ee&&(0,o.h)(We,{url:(0,x.getFeedCommentUrl)(ee,{noBase:le.L}),showGutter:!0})):null,ee&&(0,o.h)(d.WS,{showReplyingTo:(Ae==null?void 0:Ae.length)>2,isParent:!0,comment:ee,item:vt,showContext:Me&&!(de||H),utm_content:ct})),(0,o.h)(d.WS,{comment:Qe,item:vt,showReplyingTo:!Ee,utm_content:ct})))}function We({url:vt,showGutter:Lt}){return(0,o.h)(A.oM,{onClick:$t=>(0,G.redirect)(vt,{event:$t}),showGutter:Lt,hasAvatar:!1},(0,o.h)(q.gq,null,(0,o.h)(q.tu,{alignItems:"center",justifyContent:"center",className:re.Z.seeMoreThread},(0,o.h)(q.tu,{className:g()(re.Z.seeMoreThreadSegment,re.Z.top)}),(0,o.h)(v.Z,{size:16,stroke:"var(--color-detail)"}),(0,o.h)(q.tu,{className:re.Z.seeMoreThreadSegment,flex:"grow"})),(0,o.h)(q.tu,{className:re.Z.seeMoreReplies,flex:"grow",minWidth:0},(0,o.h)(J.xv.B4,{color:"accent-blue"},(0,o.h)(C.hh,{href:vt},"See more replies")))))}function Ie({item:vt}){const Lt=(0,ue.XA)(),$t=(0,l.sO)(null),{state:yt,handleArrowClick:he}=(0,ye.eK)($t),je=(0,_.SE)();(0,W.UM)($t,()=>{je.changeSetting("suggestions_feed_item_last_shown_at",new Date().toISOString())},{threshold:.2});const De=!!(0,T.xR)().getConfigFor("facebook_connect")&&je.user&&!je.user.has_linked_facebook;return(0,o.h)(Ne,{item:vt},(0,o.h)(q.tu,{paddingY:16,gap:8},(0,o.h)(q.hs,{alignItems:"center",justifyContent:"space-between",paddingLeft:{mobile:16,desktop:0}},(0,o.h)(J.xv.H4,null,(0,o.h)(C.hh,{onClick:Be=>(0,U.Q)(Be,(0,S.kM)())},"Suggestions")),(0,o.h)($.zx,{size:"small",priority:"secondary",fill:"empty",onClick:Be=>(0,U.Q)(Be,(0,S.kM)())},"See all")),(0,o.h)(q.hs,{className:re.Z.peopleYouMayKnowContainer,alignItems:"center",flex:"grow"},!Lt&&yt.showLeft&&(0,o.h)("div",{className:g()("reader2-carousel-fade left visible",re.Z.peopleYouMayKnowArrows)},(0,o.h)("div",{className:"bg"}),(0,o.h)(R.zx,{look:"reset",className:"reader2-carousel-arrow",onClick:he(-1)},(0,o.h)(E.Z,null))),(0,o.h)(q.hs,{ref:$t,className:re.Z.peopleYouMayKnow,alignItems:"center",gap:8,paddingX:{desktop:0,mobile:16}},De&&(0,o.h)(ie.dg,null),vt.userSuggestions.map(Be=>(0,o.h)(ie.E$,{feedUserSuggestion:Be,surface:O.Uo.Feed}))),!Lt&&yt.showRight&&(0,o.h)("div",{className:g()("reader2-carousel-fade right visible",re.Z.peopleYouMayKnowArrows)},(0,o.h)("div",{className:"bg"}),(0,o.h)(R.zx,{look:"reset",className:"reader2-carousel-arrow",onClick:he(1)},(0,o.h)(y.Z,null))))))}function tt({item:vt}){const{getConfigFor:Lt}=(0,T.xR)();return Lt("twitter_connect_flows_enabled")?(0,o.h)(Ne,{item:vt},(0,o.h)(q.hs,{paddingY:20},(0,o.h)(ie.rS,null))):null}function et({item:vt}){const{getConfigFor:Lt}=(0,T.xR)();return Lt("facebook_connect")?(0,o.h)(Ne,{item:vt},(0,o.h)(q.hs,{paddingY:20},(0,o.h)(ie.KL,null))):null}function ht({item:vt}){const[Lt]=(0,L.Z)(ie.au);return Lt?null:(0,o.h)(Ne,{item:vt},(0,o.h)(q.hs,{paddingY:20,paddingX:20},(0,o.h)(ie.Zx,{utmSource:"feed_item"})))}},29800:(z,u,e)=>{"use strict";e.d(u,{L:()=>w});var o=e(6400),f=e(30396),l=e(83322),c=e(43615),g=e(62017),v=e(51126),E=e(43887);function y({size:q,className:J}){return(0,o.h)("svg",{className:J,width:q,height:q,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{d:"M5.57617 11.7466C5.80176 11.7466 5.98975 11.6714 6.14014 11.521C6.29053 11.3742 6.36572 11.188 6.36572 10.9624V9.11475H6.48389C7.1141 9.11475 7.66553 9.18636 8.13818 9.32959C8.61084 9.46924 9.02262 9.69124 9.37354 9.99561C9.72445 10.2964 10.0306 10.6903 10.292 11.1772C10.4066 11.3885 10.5319 11.5299 10.668 11.6016C10.804 11.6732 10.9508 11.709 11.1084 11.709C11.3232 11.709 11.4987 11.6069 11.6348 11.4028C11.7708 11.1987 11.8389 10.8944 11.8389 10.4897C11.8389 9.52653 11.7297 8.66357 11.5112 7.90088C11.2928 7.13818 10.9616 6.49007 10.5176 5.95654C10.0771 5.41943 9.52035 5.01123 8.84717 4.73193C8.17757 4.44906 7.38981 4.30762 6.48389 4.30762H6.36572V2.45459C6.36572 2.23258 6.29053 2.0446 6.14014 1.89062C5.98975 1.73307 5.79997 1.6543 5.5708 1.6543C5.42041 1.6543 5.28255 1.68652 5.15723 1.75098C5.03548 1.81543 4.89225 1.92285 4.72754 2.07324L0.462891 6.03711C0.355469 6.13737 0.278483 6.24658 0.231934 6.36475C0.185384 6.47933 0.162109 6.59033 0.162109 6.69775C0.162109 6.8016 0.185384 6.9126 0.231934 7.03076C0.282064 7.14893 0.359049 7.25814 0.462891 7.3584L4.72754 11.3491C4.87435 11.4888 5.014 11.589 5.14648 11.6499C5.27897 11.7144 5.4222 11.7466 5.57617 11.7466Z"}))}function p({size:q,className:J}){return(0,o.h)("svg",{className:J,width:q,height:q,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{d:"M6 12C6.14187 12 6.26404 11.9527 6.3665 11.8581C6.47291 11.7635 6.53793 11.6394 6.56158 11.4857C6.66798 10.6975 6.78424 10.0355 6.91034 9.49951C7.04039 8.95961 7.20985 8.51823 7.41872 8.17537C7.62759 7.82857 7.90148 7.55271 8.24039 7.34778C8.57931 7.14286 9.01084 6.98325 9.53497 6.86897C10.0631 6.75074 10.7094 6.64828 11.4739 6.56158C11.6236 6.54581 11.7478 6.48473 11.8463 6.37832C11.9488 6.27192 12 6.14581 12 6C12 5.85419 11.9488 5.72808 11.8463 5.62167C11.7478 5.51527 11.6236 5.45222 11.4739 5.43251C10.7133 5.34187 10.0709 5.23744 9.5468 5.11921C9.02266 5.00098 8.59113 4.84138 8.25222 4.64039C7.9133 4.43547 7.63941 4.16158 7.43054 3.81872C7.22562 3.47192 7.05813 3.03054 6.92808 2.49458C6.79803 1.95862 6.67586 1.29655 6.56158 0.508374C6.53399 0.35468 6.46897 0.232512 6.3665 0.141872C6.26404 0.0472906 6.14187 0 6 0C5.85813 0 5.73399 0.0472906 5.62759 0.141872C5.52512 0.236453 5.46207 0.358621 5.43842 0.508374C5.33202 1.29655 5.21379 1.96059 5.08374 2.50049C4.95764 3.04039 4.79015 3.48374 4.58128 3.83054C4.37241 4.1734 4.09655 4.44729 3.75369 4.65222C3.41478 4.85714 2.98325 5.01872 2.45911 5.13695C1.93892 5.25123 1.29655 5.34975 0.53202 5.43251C0.374384 5.45222 0.246305 5.51527 0.147783 5.62167C0.0492611 5.72808 0 5.85419 0 6C0 6.14581 0.0492611 6.27192 0.147783 6.37832C0.246305 6.48473 0.372414 6.54581 0.526108 6.56158C1.16453 6.64828 1.71626 6.74089 2.18128 6.83941C2.64631 6.93793 3.04236 7.05813 3.36946 7.2C3.70049 7.34187 3.97635 7.52512 4.19704 7.74975C4.42167 7.97044 4.6069 8.24631 4.75271 8.57734C4.90246 8.90837 5.02857 9.31231 5.13103 9.78916C5.23744 10.266 5.3399 10.8335 5.43842 11.4916C5.46601 11.6414 5.53103 11.7635 5.6335 11.8581C5.73596 11.9527 5.85813 12 6 12Z"}))}function O({size:q,className:J}){return(0,o.h)("svg",{className:J,width:q,height:q,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{d:"M6.00293 12.2002C6.08891 12.2002 6.18857 12.1712 6.30191 12.1132C6.41915 12.059 6.53053 11.9971 6.63605 11.9275C7.72252 11.2313 8.66634 10.5003 9.46751 9.73448C10.2726 8.96479 10.8959 8.17382 11.3376 7.36159C11.7792 6.54548 12 5.72358 12 4.89587C12 4.34664 11.9101 3.84576 11.7303 3.39323C11.5506 2.9407 11.3043 2.55005 10.9917 2.22129C10.679 1.89253 10.3156 1.64112 9.90132 1.46707C9.48705 1.28915 9.04348 1.2002 8.57059 1.2002C7.98437 1.2002 7.47435 1.34717 7.04055 1.64112C6.60674 1.93121 6.26087 2.31412 6.00293 2.78986C5.74108 2.31799 5.39326 1.93508 4.95945 1.64112C4.52956 1.34717 4.01954 1.2002 3.42941 1.2002C2.95652 1.2002 2.51295 1.28915 2.09868 1.46707C1.68832 1.64112 1.32487 1.89253 1.0083 2.22129C0.691744 2.55005 0.443576 2.9407 0.263801 3.39323C0.0879336 3.84576 0 4.34664 0 4.89587C0 5.72358 0.220811 6.54548 0.662433 7.36159C1.10405 8.17382 1.72741 8.96479 2.53249 9.73448C3.33757 10.5003 4.28139 11.2313 5.36395 11.9275C5.47338 11.9971 5.58476 12.059 5.69809 12.1132C5.81534 12.1712 5.91695 12.2002 6.00293 12.2002Z"}))}function S({size:q,className:J}){return(0,o.h)("svg",{className:J,width:q,height:q,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{d:"M5.73259 12C6.48612 12 7.16981 11.8807 7.78366 11.6421C8.39751 11.4035 8.92682 11.0637 9.37159 10.6227C9.81636 10.1853 10.1564 9.66109 10.3916 9.05016C10.6305 8.43561 10.75 7.75599 10.75 7.0113C10.75 6.18708 10.6397 5.44239 10.4192 4.77723C10.2023 4.10845 9.90458 3.51559 9.52597 2.99864C9.14737 2.4817 8.71363 2.03344 8.22475 1.65386C7.73955 1.27429 7.22495 0.963398 6.68093 0.721193C6.13692 0.475373 5.59107 0.294623 5.04338 0.178943C4.4957 0.0596475 3.97741 0 3.48854 0C3.18713 0 2.94453 0.05784 2.76074 0.17352C2.58062 0.285585 2.49057 0.44826 2.49057 0.661545C2.49057 0.74469 2.50711 0.829643 2.54019 0.916403C2.57695 0.999548 2.62841 1.07908 2.69457 1.15499C2.92615 1.42973 3.14118 1.7099 3.33967 1.99548C3.53816 2.28107 3.69806 2.5775 3.81936 2.88477C3.94433 3.18843 4.00866 3.51197 4.01233 3.8554C4.01233 3.94578 4.00314 4.03434 3.98476 4.1211C3.97006 4.20786 3.93147 4.30728 3.86898 4.41934L4.10607 4.35969C3.99579 4.06688 3.86163 3.82287 3.70357 3.62765C3.54919 3.43244 3.3801 3.28604 3.19631 3.18843C3.01253 3.08721 2.83241 3.0366 2.65598 3.0366C2.51262 3.0366 2.39684 3.08179 2.30862 3.17216C2.2204 3.26254 2.17629 3.38545 2.17629 3.54089C2.17629 3.63127 2.18364 3.74333 2.19835 3.87709C2.21305 4.00723 2.2204 4.1446 2.2204 4.2892C2.2204 4.54225 2.18732 4.77542 2.12115 4.9887C2.05867 5.19837 1.9778 5.40804 1.87855 5.61771C1.78299 5.82738 1.68742 6.05151 1.59185 6.2901C1.49628 6.52869 1.41541 6.80163 1.34925 7.1089C1.28308 7.41256 1.25 7.76683 1.25 8.17171C1.25 8.93809 1.43563 9.60868 1.80688 10.1835C2.1818 10.7546 2.7056 11.1993 3.37826 11.5174C4.05093 11.8391 4.8357 12 5.73259 12ZM5.87043 10.2214C5.3595 10.2214 4.94781 10.084 4.63537 9.80931C4.32293 9.53095 4.16671 9.16765 4.16671 8.71939C4.16671 8.48803 4.20163 8.2892 4.27147 8.12291C4.34131 7.95662 4.42218 7.8066 4.51407 7.67284C4.60597 7.53547 4.69051 7.39991 4.7677 7.26615C4.84857 7.1324 4.89819 6.98057 4.91657 6.81066C4.92025 6.7709 4.93679 6.74559 4.96619 6.73475C4.99927 6.72029 5.03419 6.72752 5.07095 6.75644C5.18858 6.8685 5.28782 6.99322 5.36869 7.13059C5.45323 7.26435 5.52675 7.41256 5.58923 7.57524C5.72891 7.35472 5.81897 7.06733 5.8594 6.71306C5.90351 6.35879 5.89984 5.97921 5.84837 5.57433C5.83735 5.52734 5.84654 5.4948 5.87594 5.47673C5.90535 5.45504 5.94027 5.45323 5.9807 5.47131C6.37768 5.64483 6.71034 5.8798 6.97867 6.17623C7.25068 6.46905 7.45652 6.7944 7.5962 7.15228C7.73588 7.51017 7.80572 7.87167 7.80572 8.23678C7.80572 8.6019 7.7322 8.93448 7.58517 9.23452C7.43814 9.53457 7.22127 9.77497 6.93456 9.95572C6.64785 10.1329 6.29314 10.2214 5.87043 10.2214Z"}))}function x({size:q,className:J}){return(0,o.h)("svg",{className:J,width:q,height:q,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{d:"M1.60574 12.7001H2.38973C2.74924 12.7001 3.02417 12.58 3.2145 12.3397C3.40483 12.1032 3.5 11.766 3.5 11.328V8.07221C3.5 7.6381 3.40483 7.30089 3.2145 7.06058C3.02417 6.82027 2.74924 6.70012 2.38973 6.70012H1.60574C1.24924 6.70012 0.975831 6.82027 0.785498 7.06058C0.595166 7.30089 0.5 7.64004 0.5 8.07802V11.328C0.5 11.766 0.595166 12.1032 0.785498 12.3397C0.975831 12.58 1.24924 12.7001 1.60574 12.7001ZM5.64804 12.7001H6.39426C6.75076 12.7001 7.02417 12.58 7.2145 12.3397C7.40483 12.1032 7.5 11.766 7.5 11.328V5.07221C7.5 4.6381 7.40483 4.30089 7.2145 4.06058C7.02417 3.82027 6.75076 3.70012 6.39426 3.70012H5.64804C5.29154 3.70012 5.01813 3.82027 4.8278 4.06058C4.63746 4.30089 4.5423 4.64004 4.5423 5.07802V11.328C4.5423 11.766 4.63746 12.1032 4.8278 12.3397C5.01813 12.58 5.29154 12.7001 5.64804 12.7001ZM9.60121 12.7001H10.3897C10.7462 12.7001 11.0196 12.58 11.21 12.3397C11.4033 12.1032 11.5 11.766 11.5 11.328V2.07229C11.5 1.6343 11.4033 1.29709 11.21 1.06066C11.0196 0.82035 10.7462 0.700195 10.3897 0.700195H9.60121C9.24773 0.700195 8.97583 0.82035 8.7855 1.06066C8.59517 1.29709 8.5 1.6343 8.5 2.07229V11.328C8.5 11.766 8.59517 12.1032 8.7855 12.3397C8.97583 12.58 9.24773 12.7001 9.60121 12.7001Z"}))}function T({size:q,className:J}){return(0,o.h)("svg",{className:J,width:q,height:q,fill:"none",viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.0002 0.200195C10.442 0.200195 10.8002 0.558368 10.8002 1.0002V4.0002C10.8002 4.44202 10.442 4.8002 10.0002 4.8002H7.00019C6.55837 4.8002 6.20019 4.44202 6.20019 4.0002C6.20019 3.55837 6.55837 3.2002 7.00019 3.2002H7.91434C7.39165 2.75016 6.75316 2.45487 6.07076 2.34836C5.36533 2.23826 4.64311 2.33461 3.99121 2.62579C3.33932 2.91697 2.78559 3.39054 2.39682 3.98939C2.15624 4.35997 1.66079 4.46536 1.29021 4.22477C0.919626 3.98419 0.81424 3.48874 1.05482 3.11816C1.61171 2.26036 2.40489 1.582 3.33868 1.1649C4.27248 0.747807 5.30701 0.60979 6.31749 0.7675C7.32797 0.92521 8.27124 1.37191 9.03353 2.05372L9.03541 2.0554L9.20019 2.20374V1.0002C9.20019 0.558368 9.55837 0.200195 10.0002 0.200195ZM0.200195 8.0002C0.200195 7.55837 0.558368 7.2002 1.0002 7.2002H4.00019C4.44202 7.2002 4.80019 7.55837 4.80019 8.0002C4.80019 8.44202 4.44202 8.8002 4.00019 8.8002H3.08627C3.60892 9.25012 4.24733 9.54535 4.92963 9.65184C5.63506 9.76194 6.35728 9.66559 7.00917 9.37441C7.66107 9.08323 8.2148 8.60965 8.60357 8.01081C8.84415 7.64023 9.3396 7.53484 9.71018 7.77543C10.0808 8.01601 10.1862 8.51146 9.94557 8.88204C9.38868 9.73984 8.5955 10.4182 7.66171 10.8353C6.72791 11.2524 5.69338 11.3904 4.6829 11.2327C3.67242 11.075 2.72915 10.6283 1.96686 9.94648L1.96502 9.94483L1.8002 9.79649V11.0002C1.8002 11.442 1.44202 11.8002 1.0002 11.8002C0.558368 11.8002 0.200195 11.442 0.200195 11.0002V8.0002Z"}))}function _({size:q,className:J}){return(0,o.h)("svg",{className:J,width:q,height:q,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{d:"M2.30172 11.423C2.43901 11.5215 2.59037 11.5572 2.75582 11.53C2.92478 11.5028 3.10255 11.423 3.28912 11.2905L5.99784 9.3694L8.71185 11.2905C8.89841 11.423 9.07442 11.5028 9.23986 11.53C9.40883 11.5572 9.56195 11.5215 9.69924 11.423C9.833 11.3245 9.91396 11.1937 9.94212 11.0306C9.97029 10.871 9.9474 10.6858 9.87348 10.4752L8.80161 7.40241L11.5367 5.51187C11.7268 5.37937 11.8588 5.24179 11.9327 5.09911C12.0102 4.95303 12.0208 4.80185 11.9644 4.64558C11.9116 4.4927 11.8113 4.3789 11.6635 4.30416C11.5156 4.22942 11.3238 4.19375 11.0879 4.19715L7.73502 4.21753L6.71594 1.12437C6.64554 0.910346 6.5505 0.74728 6.43081 0.635172C6.31113 0.519667 6.16681 0.461914 5.99784 0.461914C5.8324 0.461914 5.68983 0.519667 5.57015 0.635172C5.45046 0.74728 5.35542 0.910346 5.28502 1.12437L4.26595 4.21753L0.907761 4.19715C0.675433 4.19375 0.485347 4.22942 0.337503 4.30416C0.189658 4.3789 0.0893347 4.4927 0.036533 4.64558C-0.0197887 4.80185 -0.0109885 4.95303 0.0629339 5.09911C0.140376 5.24179 0.274141 5.37937 0.464227 5.51187L3.19935 7.40241L2.12748 10.4752C2.05356 10.6858 2.03068 10.871 2.05884 11.0306C2.087 11.1937 2.16796 11.3245 2.30172 11.423Z"}))}var d=e(44396),s=e(28967);function w({context:q,onClick:J,utm_content:R}){const j=P[q.type];return j?(0,o.h)(v.hs,{className:s.Z.contextRow},(0,o.h)(E.xv.Meta,{className:s.Z.contextText},(0,o.h)(j,{context:q,onClick:J,utm_content:R}))):null}const P={post_like:I,post_comment:N,post_restack:D,comment:N,note_reply:N,note_recommend:U,comment_like:C,comment_restack:A,comment_top:L};function I({context:q,onClick:J,utm_content:R}){return(0,o.h)($,{context:q,type:"like",label:"Likes",verb:"liked",onClick:J,utm_content:R})}function D({context:q,onClick:J,utm_content:R}){return(0,o.h)($,{context:q,type:"restack",label:"Restacks",verb:"restacked",onClick:J,utm_content:R})}function N({context:q,onClick:J,utm_content:R}){return(0,o.h)($,{context:q,type:"comment",label:"Replies",verb:"replied",onClick:J,utm_content:R})}function C({context:q,onClick:J,utm_content:R}){return(0,o.h)($,{context:q,type:"like",label:"Likes",verb:"liked",onClick:J,utm_content:R})}function A({context:q,onClick:J,utm_content:R}){return(0,o.h)($,{context:q,type:"restack",label:"Restacks",verb:"restacked",onClick:J,utm_content:R})}function L({}){return(0,o.h)(G,{type:"trending"},"Top comment")}function U({context:q,onClick:J,utm_content:R}){return(0,o.h)($,{context:q,type:"recommend",label:"Recommendations",verb:"recommends",onClick:J,utm_content:R})}const W={like:O,comment_like:O,comment:y,recommend:_,featured:p,trending:S,leaderboard:x,restack:T};function G({type:q,children:J}){const R=W[q];return(0,o.h)(v.gq,{alignItems:"center",gap:8},(0,o.h)(R,{className:s.Z.contextIcon,size:14}),(0,o.h)("div",null,J))}function $({context:q,type:J,label:R,verb:j,fallbackUser:ie,utm_content:le,onClick:ye}){var ue;const oe="notes_context",te=(0,d.XA)(),[Z,re]=(0,f.eJ)(!1),ae=(ue=q.users[0])!=null?ue:ie;if(!ae)return null;let se,be=q.users.length-1;return!te&&q.users.length===2&&(se=q.users[1],be=0),(0,o.h)(G,{type:J},(0,o.h)(g.Zg,{user:ae,onClick:ye,utm_source:oe,utm_content:le,color:"secondary",useYou:!0}),se&&(0,o.h)(o.Fragment,null," and ",(0,o.h)(g.Zg,{user:q.users[1],onClick:ye,utm_source:oe,utm_content:le,color:"secondary",useYou:!0})),be>0&&(0,o.h)(o.Fragment,null," and ",(0,o.h)(g.hh,{onClick:()=>{ye(),re(!0)}},(0,l.pluralize)(be,"other"))),` ${j}`,(0,o.h)(c.FF,{isOpen:Z,modalLabel:R,faces:q.users,totalCount:q.users.length,onClose:()=>re(!1),utmSource:null}))}},75309:(z,u,e)=>{"use strict";e.d(u,{Ev:()=>ze});var o=e(6400),f=e(30396),l=e(27484),c=e.n(l),g=e(25380),v=e(67747),E=e(66440),y=e(23237),p=e(5149),O=e(80587),S=e(18794),x=e(13808),T=e(6385),_=e(20501),d=e(83322),s=e(56838),w=e(25877),P=e(58718),I=e(63270),D=e(67963),N=e(69371),C=e(62017),A=e(50670),L=e(8479),U=e(39419),W=e.n(U),G=e(702),$=e(11059),q=e(84040),J=e(51126),R=e(76235),j=e(43887),ie=e(75425),le=e(95297),ye=e(41474),ue=e(91870),oe=e(73413),te=e(10174),Z=e(9869),re=e(11132),ae=e(28967),se=Object.defineProperty,be=Object.defineProperties,_e=Object.getOwnPropertyDescriptors,pe=Object.getOwnPropertySymbols,me=Object.prototype.hasOwnProperty,Te=Object.prototype.propertyIsEnumerable,ve=(Ie,tt,et)=>tt in Ie?se(Ie,tt,{enumerable:!0,configurable:!0,writable:!0,value:et}):Ie[tt]=et,ce=(Ie,tt)=>{for(var et in tt||(tt={}))me.call(tt,et)&&ve(Ie,et,tt[et]);if(pe)for(var et of pe(tt))Te.call(tt,et)&&ve(Ie,et,tt[et]);return Ie},Le=(Ie,tt)=>be(Ie,_e(tt)),Ne=(Ie,tt)=>{var et={};for(var ht in Ie)me.call(Ie,ht)&&tt.indexOf(ht)<0&&(et[ht]=Ie[ht]);if(Ie!=null&&pe)for(var ht of pe(Ie))tt.indexOf(ht)<0&&Te.call(Ie,ht)&&(et[ht]=Ie[ht]);return et},He=(Ie,tt,et)=>new Promise((ht,vt)=>{var Lt=he=>{try{yt(et.next(he))}catch(je){vt(je)}},$t=he=>{try{yt(et.throw(he))}catch(je){vt(je)}},yt=he=>he.done?ht(he.value):Promise.resolve(he.value).then(Lt,$t);yt((et=et.apply(Ie,tt)).next())});function ze({user:Ie,post:tt,comment:et,onClick:ht,utm_content:vt,publication:Lt,item:$t,parentCommentUserId:yt}){const he=(0,ie.pm)(),je=(0,D.aF)(),st=(0,ue.I0)(),De=(et==null?void 0:et.date)||(tt==null?void 0:tt.post_date),{refetch:Be}=(0,L.ib)({pathname:`/api/v1/reader/reply/${et==null?void 0:et.id}/unhide`,method:"POST"}),{getConfigFor:Ke}=(0,I.xR)(),Qe=!!Ke("hidden_replies_ui_enabled")&&(et==null?void 0:et.hide_reply),Ae=(je==null?void 0:je.id)&&(je==null?void 0:je.id)===yt;return(0,o.h)(A.KF,null,(0,o.h)(J.hs,{gap:8,alignItems:"center",flex:"grow"},(0,o.h)(j.Zx,{weight:"medium"},(0,o.h)(C.xG,{user:Ie,onClick:ht,utm_source:"substack-feed-item",utm_content:vt,color:Qe?"secondary":void 0},Ie.name)),(0,o.h)(le.s,{className:ae.Z.userBadge,tier:Ie.bestseller_tier,userId:Ie.id,tooltipOnHover:!0,size:"sm"}),De&&(0,o.h)(_t,{timestamp:De,comment:et})),(0,o.h)(J.hs,{style:{maxHeight:20},gap:12,alignItems:"center"},Qe&&Ae&&(0,o.h)(q.kG,{onClick:()=>He(this,null,function*(){var H;st({type:"reply_unhidden",payload:{comment_id:(H=et==null?void 0:et.id)!=null?H:0}}),yield Be(),he.popToast(ee=>(0,o.h)(ie.FN,Le(ce({},ee),{text:"Reply unhidden",Icon:g.Z})))}),className:ae.Z.unhideButton},(0,o.h)(J.gq,{alignItems:"center",gap:4},(0,o.h)(v.Z,{size:20}),"Unhide")),(0,o.h)(we,{publication:Lt!=null?Lt:void 0,post:tt!=null?tt:void 0,comment:et,item:$t})))}const Xe=new Intl.DateTimeFormat(void 0,{dateStyle:"medium",timeStyle:"short"});function _t({timestamp:Ie,comment:tt,post:et,publication:ht}){return(0,o.h)(C.hh,{href:tt?(0,_.getFeedCommentUrl)(tt,{noBase:oe.L}):et?(0,_.getFeedShortPostUrl)(ht,et):void 0,title:Xe.format(c()(Ie).toDate()),ellipsis:!1,color:"secondary"},(0,o.h)(A.Ku,{timestamp:Ie}))}function we({publication:Ie,post:tt,comment:et,item:ht,permalink:vt}){var Lt,$t,yt;const he=(0,ie.pm)(),je=(0,N.rI)(),st=(0,re.F)(),De=(0,ue.I0)(),Be=(0,ue.kc)(),[Ke,it]=(0,f.eJ)(!1),[Qe,Ae]=(0,f.eJ)(!1),H=(0,D.aF)(),ee=($t=(Lt=et==null?void 0:et.ancestor_path)==null?void 0:Lt.split(".").filter(Boolean).map(Number).map(Mn=>Be.comments.get(Mn)))!=null?$t:[],de=et?(0,T.getCommentAuthor)(et):Ie&&tt?(0,T.getPostAuthor)(Ie,tt):{id:0,name:"void"},Ee=(0,w.CH)(de,je),Me=(0,P.oh)(de,je),$e=(0,L.ib)({pathname:`/api/v1/comment/${(yt=et==null?void 0:et.id)!=null?yt:0}`,method:"DELETE",json:{publication_id:Ie==null?void 0:Ie.id}}),dt=()=>He(this,null,function*(){if(!et||(Ae(!1),$e.isLoading))return;const Mn=yield $e.refetch();if(Mn instanceof Error){alert((0,U.getNetworkErrorMessage)(Mn));return}he.popToast($n=>(0,o.h)(ie.FN,Le(ce({},$n),{text:"Note deleted",Icon:E.Z}))),De({type:"comment_delete",payload:{publication:Ie,post:tt,comment:et}})}),ct=(0,te.i3)(),wt=()=>He(this,null,function*(){et&&ct.open({editComment:et,tabId:st})}),Mt=()=>{ht&&(0,ye.rw)(ht,je,"menu",{tabId:st})},pn=[!et&&tt&&(0,o.h)(We,{post:tt}),...Me,(0,d.canEditComment)(H,et)&&(0,o.h)(R.sN,{icon:(0,o.h)(y.Z,null),onClick:wt},"Edit"),...Ee,(0,d.canReportComment)(H,et)&&(0,o.h)(R.sN,{icon:(0,o.h)(p.Z,null),priority:"destructive",onClick:()=>it(!0)},"Report"),(0,d.canDeleteComment)(H,et,{pub:Ie,post:tt,parentComments:ee})&&(0,o.h)(R.sN,{icon:(0,o.h)(E.Z,null),priority:"destructive",onClick:()=>Ae(!0)},"Delete")].filter(Boolean);return pn.length===0?null:(0,o.h)(o.Fragment,null,(0,o.h)(R.v2,{trigger:(0,o.h)(Z.K,{"aria-label":"share",permalink:vt,className:ae.Z.more},(0,o.h)(O.Z,{strokeWidth:2.5})),useMobileBottomSheet:!0,mobileBottomSheetTitle:"More",maxHeight:350,onOpen:Mt},pn),Ke&&(0,o.h)(G.Z,{className:ae.Z.reportModal,pub:Ie,comment:et,onClose:()=>it(!1),onReportSuccess:()=>{}}),(0,o.h)($.a,{isOpen:Qe,title:"Delete note?",body:"This will permanently remove this note from Substack. It cannot be undone.",customPrimaryButton:(0,o.h)(q.zx,{priority:"destructive",onClick:dt},"Delete"),secondaryButton:(0,o.h)(q.zx,{priority:"secondary",onClick:()=>Ae(!1)},"Cancel"),onClose:()=>Ae(!1)}))}function We(Ie){var tt=Ie,{post:et}=tt,ht=Ne(tt,["post"]);const vt=(0,ue.I0)(),Lt=(0,s.c1)(),$t=()=>{const yt=et.id,he=!et.is_saved;(0,s.TJ)(yt,he,{surface:"reader"}),Lt(he),vt({type:"post_save",payload:{postId:yt,isSaved:he}})};return(0,o.h)(R.sN,ce({icon:et.is_saved?(0,o.h)(S.Z,null):(0,o.h)(x.Z,null),onClick:$t},ht),et.is_saved?"Unsave":"Save")}},8796:(z,u,e)=>{"use strict";e.d(u,{n:()=>y});var o=e(6400),f=e(30396),l=e(25877),c=e(62017),g=e(51126),v=e(43887),E=e(28967);function y({userId:p,comment:O,children:S}){const x=(0,l.KG)(p),T=(0,l.Yq)(),[_,d]=(0,f.eJ)(T);(0,f.d4)(()=>{x&&!T&&d(!1)},[x]);const s=O?O.type==="feed"&&!O.ancestor_path?"note":"reply":"post";return x&&!_?(0,o.h)(g.gq,{radius:12,border:"detail",bg:"secondary",justifyContent:"space-between",alignItems:"center",paddingX:16,paddingY:20,onClick:()=>d(!0),gap:12,className:E.Z.mutedItem},(0,o.h)(g.hs,{flex:"grow",minWidth:0},(0,o.h)(v.xv.B4,{color:"secondary"},"This ",s," is from someone",x==="muting"?" you hid":x==="blocking"?" you blocked":" who has you blocked",".")),x!=="blocked"&&(0,o.h)(v.xv.B4,{color:"secondary",weight:"semibold"},(0,o.h)(c.hh,{onClick:()=>d(!0)},"Show ",s))):(0,o.h)(o.Fragment,null,S)}},73115:(z,u,e)=>{"use strict";e.d(u,{sZ:()=>j});var o=e(6400),f=e(99869),l=e(71212),c=e(67358),g=e(84040),v=e(51126),E=e(62246),y=e(43887),p=e(20501),O=e(15045),S=e(70444),x=e(68227),T=e(17835),_=e(66839),d=e(3258),s=e(39419),w=e.n(s),P=e(13045),I=e(55886),D=e(7980),N=Object.defineProperty,C=Object.defineProperties,A=Object.getOwnPropertyDescriptors,L=Object.getOwnPropertySymbols,U=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable,G=(oe,te,Z)=>te in oe?N(oe,te,{enumerable:!0,configurable:!0,writable:!0,value:Z}):oe[te]=Z,$=(oe,te)=>{for(var Z in te||(te={}))U.call(te,Z)&&G(oe,Z,te[Z]);if(L)for(var Z of L(te))W.call(te,Z)&&G(oe,Z,te[Z]);return oe},q=(oe,te)=>C(oe,A(te));function J({comment:oe,isOpen:te,onClose:Z}){return h(Modal,{isOpen:te,onClose:Z},h(R,{comment:oe,onClose:Z}))}function R({comment:oe,onClose:te}){const Z=getFeedCommentUrl(oe,{urlParams:{utm_source:"substack",utm_context:"note-share-modal"}});return h(FlexColumn,{gap:20,paddingBottom:16},h(ModalHeader,{includeClose:!0,onClose:te}),h(FlexBox,{justifyContent:"center"},h(CloudImage,{src:getNoteCommentPreviewUrl(oe.id),size:340})),h(Text.Meta,{align:"center"},"Share via"),h(j,{shareSource:"note-share-modal",shareUrl:Z,shareText:"",shareEventType:"note",comment:oe,itemKey:oe.item_entity_key}))}function j({shareUrl:oe,shareText:te,shareEventType:Z,itemKey:re,shareSource:ae,comment:se,onShare:be}){const _e=(0,P.pm)(),pe=(He,ze)=>{(0,d.j)(d.FP.SHARE_LINK_CLICKED,{name:He,type:Z,item_entity_key:re,source:ae});const Xe=ze();Xe&&(Xe.startsWith("http")?window.open(Xe,"_blank"):document.location.href=Xe),be==null||be()},me=()=>{pe("copy",()=>{(0,s.copyToClipboard)(oe)}),_e.popToast(He=>(0,o.h)(P.FN,q($({},He),{text:"Link copied",Icon:f.Z})))},Te=()=>{pe("twitter",()=>(0,O.pathWithQuery)("https://twitter.com/share",{url:oe,text:te}))},ve=()=>{pe("facebook",()=>(0,O.pathWithQuery)("https://www.facebook.com/sharer/sharer.php",{u:oe}))},ce=()=>{pe("linkedin",()=>(0,O.pathWithQuery)("https://www.linkedin.com/sharing/share-offsite/",{url:oe}))},Le=()=>{pe("email",()=>(0,O.pathWithQuery)("mailto:",{subject:te,body:oe}))},Ne=()=>{_e.popToast(He=>(0,o.h)(P.FN,q($({},He),{text:"Downloading image...",Icon:l.Z})))};return(0,o.h)(v.tu,{flex:"grow",justifyContent:"center"},(0,o.h)(v.hs,{gap:8},(0,o.h)(ie,null,(0,o.h)(ye,{onClick:Te},(0,o.h)(_.Z,{height:48})),(0,o.h)(le,null,"Twitter")),(0,o.h)(ie,null,(0,o.h)(ye,{onClick:ve},(0,o.h)(x.Z,{height:48})),(0,o.h)(le,null,"Facebook")),(0,o.h)(ie,null,(0,o.h)(ye,{onClick:ce},(0,o.h)(T.Z,{height:48})),(0,o.h)(le,null,"LinkedIn")),(0,o.h)(ie,null,(0,o.h)(ue,{onClick:me},(0,o.h)(f.Z,{size:20,style:{stroke:"var(--color-primary)"}})),(0,o.h)(le,null,"Copy Link")),se?(0,o.h)(ie,null,(0,o.h)(ue,{onClick:Ne,href:(0,p.getNoteCommentPreviewUrl)(se.id),target:"_blank",download:!0},(0,o.h)(l.Z,{size:20,style:{stroke:"var(--color-primary)"}})),(0,o.h)(le,null,"Save image")):(0,o.h)(ie,null,(0,o.h)(ue,{onClick:Le},(0,o.h)(c.Z,{size:20,style:{stroke:"var(--color-primary)"}})),(0,o.h)(le,null,"Email"))))}function ie(oe){return(0,o.h)(v.tu,$({gap:8,alignItems:"center",flex:"grow"},oe))}function le(oe){return(0,o.h)(y.xv.Detail,$({align:"center",color:"primary"},oe))}function ye(oe){return(0,o.h)(g.kG,$({resetCss:!0,className:D.Z.shareImageButton},oe))}function ue(oe){return(0,o.h)(g.hU,$({size:48,rounded:!0,fill:"borderless"},oe))}},83097:(z,u,e)=>{"use strict";e.d(u,{q:()=>oe});var o=e(6400),f=e(30396),l=e(8618),c=e(8479),g=e(85928),v=e.n(g),E=e(15045),y=e(70444),p=e(31517),O=e(26240),S=e(95847),x=e(79786),T=e(4190),_=e(63270),d=e(67963);function s(){return h("svg",{width:"160",height:"160",viewBox:"0 0 160 160",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h("circle",{cx:"80",cy:"80",r:"79.5",stroke:"var(--color-detail)"}),h("circle",{cx:"132",cy:"132",r:"27.5",fill:"var(--color-bg-primary)",stroke:"var(--color-detail)"}),h("circle",{cx:"132",cy:"132",r:"13",fill:"var(--color-accent-twitter)"}),h("line",{x1:"132",y1:"126.5",x2:"132",y2:"137.5",stroke:"var(--color-bg-primary)","stroke-width":"2","stroke-linecap":"round"}),h("line",{x1:"126.5",y1:"132",x2:"137.5",y2:"132",stroke:"var(--color-bg-primary)","stroke-width":"2","stroke-linecap":"round"}),h("path",{d:"M118.647 60.5265C118.706 61.3775 118.706 62.2285 118.706 63.0873C118.706 89.2559 98.7843 119.436 62.3569 119.436V119.421C51.5961 119.436 41.0588 116.354 32 110.542C33.5647 110.73 35.1373 110.825 36.7137 110.828C45.6314 110.836 54.2941 107.844 61.3098 102.334C52.8353 102.174 45.4039 96.6481 42.8078 88.5814C45.7765 89.154 48.8353 89.0363 51.749 88.2402C42.5098 86.3736 35.8627 78.2559 35.8627 68.8285C35.8627 68.7422 35.8627 68.6599 35.8627 68.5775C38.6157 70.1108 41.698 70.9618 44.851 71.0559C36.149 65.2402 33.4667 53.6638 38.7216 44.6128C48.7765 56.9853 63.6118 64.5069 79.5373 65.303C77.9412 58.4246 80.1216 51.2167 85.2667 46.3814C93.2431 38.8834 105.788 39.2677 113.286 47.2402C117.722 46.3657 121.973 44.7383 125.863 42.4324C124.384 47.0167 121.29 50.9108 117.157 53.3853C121.082 52.9226 124.918 51.8716 128.529 50.2677C125.871 54.252 122.522 57.7226 118.647 60.5265Z",fill:"var(--color-accent-twitter)"}))}var w=e(55463),P=e(11533),I=e(84040),D=e(86605),N=e(51126),C=e(62246),A=e(43887),L=e(91870),U=e(10174),W=e(51731),G=e(73115),$=e(50670),q=e(7980),J=(re,ae,se)=>new Promise((be,_e)=>{var pe=ve=>{try{Te(se.next(ve))}catch(ce){_e(ce)}},me=ve=>{try{Te(se.throw(ve))}catch(ce){_e(ce)}},Te=ve=>ve.done?be(ve.value):Promise.resolve(ve.value).then(pe,me);Te((se=se.apply(re,ae)).next())});function R(){const re=useUserContext(),ae=new URL(document.location.toString());return useMemo(()=>re.user&&!re.userSettings.feed_web_nux_seen_at||ae.searchParams.get("action")==="nux",[])?h(j,null):null}function j(){const re=useUserContext(),ae=useSiteConfigs(),[se,be]=useState(!0),[_e,pe]=useState(1),[me,Te]=useState(null);useEffect(()=>{re.changeSetting("feed_web_nux_seen_at",new Date().toISOString())},[]);const ve=()=>{be(!1)},ce=()=>{var Le,Ne;let He=_e+1;He===2&&(Le=re.user)!=null&&Le.name&&(He+=1),He===3&&(!ae.getConfigFor("twitter_connect_flows_enabled")||(Ne=re.user)!=null&&Ne.has_linked_twitter)&&(He+=1),pe(He)};return h(Modal,{isOpen:se,onClose:ve,width:440,overflow:"hidden"},_e===1?h(ie,{onClose:ve,onNext:ce}):_e===2?h(le,{onClose:ve,onNext:ce}):_e===3?h(ye,{onClose:ve,onNext:ce,onSkip:()=>pe(_e+2)}):_e===4?h(ue,{onPublish:Le=>{Te(Le),ce()},onClose:ve}):_e===5&&me?h(oe,{onClose:ve,comment:me}):null)}function ie({onClose:re,onNext:ae}){return h(Fragment,null,h(FlexColumn,null,h(CloseButton,{onClick:re,priority:"media",fill:"borderless",style:{position:"absolute",top:8,right:8}}),h(ResponsiveImg,{src:"/img/reader/nux-web@3x.png",maxWidth:880,imageProps:{height:304}})),h(FlexColumn,{gap:8,padding:16},h(Text.H2,{weight:"semibold",align:"center"},"Introducing: Notes"),h(Text.B3,{align:"center",color:"secondary"},"Notes is a new space to share what you're reading and keep up with your favorite writers on Substack."," ",h("a",{href:"https://on.substack.com/p/notes",target:"_blank",rel:"noopener"},"Learn more"))),h(Z,null,h(Button,{priority:"primary",onClick:ae},"Get started")))}function le({onClose:re,onNext:ae}){const se=useUserContext();return h(Fragment,null,h(ModalHeader,{title:"First, set up your profile",description:"Introduce yourself by adding a name, bio, and photo to your profile.",includeClose:!0,onClose:re}),h(ProfileUpdater,{className:css.setupProfileModalContent,pageTitle:"",user:se.user,optionalPhoto:!0,noSubscribeCta:!0,complete:!0,onSuccess:be=>{se.setUser(be.body),ae()}}))}function ye({onClose:re,onNext:ae,onSkip:se}){return useEffect(()=>{const be=_e=>{var pe;_e.origin===document.location.origin&&((pe=_e.data)==null?void 0:pe.type)==="twitter-success"&&ae()};return window.addEventListener("message",be),()=>{window.removeEventListener("message",be)}},[]),h(Fragment,null,h(ModalHeader,{includeClose:!0,onClose:re}),h(FlexColumn,{padding:16},h(FlexColumn,{alignItems:"center",gap:8},h(Text.H2,{weight:"semibold"},"Connect Twitter"),h(Text.B3,{align:"center",color:"secondary"},"Instantly find people you know on Substack.")),h(FlexColumn,{alignItems:"center",paddingY:32},h(TwitterConnectIcon,null))),h(Z,null,h(Button,{priority:"twitter",href:getConnectTwitterUrl({type:"reader2",redirect:pathWithQuery(FEED_PATH,{action:"notify-opener"})}),newTab:!0},"Connect Twitter"),h(Button,{onClick:se,priority:"secondary",fill:"empty"},"Skip")))}function ue({onClose:re,onPublish:ae}){const se=useUser(),be=useComposerModal(),{create:_e,isLoading:pe}=useCreateShortPost(),me=useDispatch(),[Te,ve]=useRouter(),{exposeExperiment:ce,getExperimentVariant:Le}=useExperiments();if(useResource(()=>Promise.all([e.e(96),e.e(760),e.e(563),e.e(411)]).then(e.bind(e,84563)),[]),!se)return null;ce("feed_nux_empty_message");const Ne=Le("feed_nux_empty_message")==="treatment",He="Hello, Notes! What's going on?",ze=()=>J(this,null,function*(){if(!pe){if(Ne)re(),be.open({initialText:""});else{const{textToJsonCore:_t}=yield Promise.all([e.e(96),e.e(760),e.e(563),e.e(411)]).then(e.bind(e,84563)),we=yield _e({bodyJson:_t(He)});if(we instanceof Error)return;ae(we),me({type:"new_comment",payload:{comment:we}})}document.location.pathname!==FEED_PATH&&ve(FEED_PATH)}}),Xe=()=>{re(),be.open({initialText:He})};return h(Fragment,null,h(ModalHeader,{includeClose:!0,onClose:re}),h(FlexColumn,{alignItems:"center",gap:8,padding:16},h(Text.H2,{weight:"semibold"},"Time to say hello!"),h(Text.B3,{align:"center",color:"secondary"},"Send your first note to tell others you've arrived.")),h(FlexColumn,{paddingX:16,paddingTop:8,paddingBottom:16},h(FlexColumn,{border:"detail",shadow:"lg",padding:16,radius:12},h(FlexBox,{gap:12},h(FeedAvatarImage,{user:se}),h(FlexColumn,{flex:"grow",minWidth:0},h(Text.B3,{weight:"semibold",ellipsis:!0},se.name),h(Text.B4,{color:"secondary"},dayjs().fromNowShort()))),h(FlexColumn,{paddingY:16,borderBottom:"detail"},h(Text,{font:"text",size:18},He)),h(FlexBox,{style:{gap:34}},h(te,null,h(Heart,{stroke:"var(--color-secondary)",size:20}),h(Text.Button,{color:"secondary"},"Like")),h(te,null,h(NoteReplyIcon,{stroke:"var(--color-secondary)",width:20}),h(Text.Button,{color:"secondary"},"Reply")),h(te,null,h(NoteForwardIcon,{stroke:"var(--color-secondary)",width:20}),h(Text.Button,{color:"secondary"},"Restack"))))),h(FlexColumn,{padding:16,gap:8},h(Button,{priority:"primary",onClick:ze,disabled:pe},Ne?"Say hello":"Send now"),!Ne&&h(Button,{onClick:Xe,priority:"secondary",fill:"empty",disabled:pe},"Edit note")))}function oe({onClose:re,comment:ae}){const se=(0,y.Sg)(ae,{urlParams:{utm_source:"substack",utm_context:"first-note-modal"}}),be=`I just started using Notes on Substack
`,_e=(0,d.aF)();return _e?(0,o.h)(o.Fragment,null,(0,o.h)(C.xB,{includeClose:!0,onClose:re}),(0,o.h)(N.tu,{padding:16},(0,o.h)(N.tu,{alignItems:"center",gap:4,padding:16},(0,o.h)(A.xv.H2,{weight:"semibold"},"Share your first note"),(0,o.h)(A.xv.B3,{align:"center",color:"secondary"},"Invite your friends and followers to join you on Notes")),(0,o.h)(N.tu,{gap:24,paddingTop:8,paddingBottom:32,paddingX:16},(0,o.h)(N.tu,{paddingTop:8,paddingBottom:16},(0,o.h)(N.tu,{border:"detail",shadow:"lg",padding:16,radius:12},(0,o.h)(N.hs,{gap:12},(0,o.h)($.Zb,{user:_e}),(0,o.h)(N.tu,{flex:"grow",minWidth:0},_e&&(0,o.h)(A.xv.B3,{weight:"semibold",ellipsis:!0},_e.name),(0,o.h)(A.xv.B4,{color:"secondary"},v()().fromNowShort()))),(0,o.h)(N.tu,{paddingY:16,borderBottom:"detail"},(0,o.h)(A.xv,{font:"text",size:18},(0,o.h)(W.bN,{comment:ae,publication:null}))),(0,o.h)(N.hs,{style:{gap:34}},(0,o.h)(te,null,(0,o.h)(l.Z,{stroke:"var(--color-secondary)",size:20}),(0,o.h)(A.xv.Button,{color:"secondary"},"Like")),(0,o.h)(te,null,(0,o.h)(O.Z,{stroke:"var(--color-secondary)",width:20}),(0,o.h)(A.xv.Button,{color:"secondary"},"Reply")),(0,o.h)(te,null,(0,o.h)(p.Z,{stroke:"var(--color-secondary)",width:20}),(0,o.h)(A.xv.Button,{color:"secondary"},"Restack"))))),(0,o.h)(A.xv.Meta,{align:"center"},"Share via"),(0,o.h)(G.sZ,{shareSource:"first-note-modal",shareUrl:se,shareText:be,shareEventType:"note",itemKey:ae.item_entity_key})))):null}function te({children:re}){return(0,o.h)(N.hs,{alignItems:"center",gap:8,paddingTop:16},re)}function Z({children:re}){return h(FlexColumn,{padding:16,borderTop:"detail",gap:8},re)}},56411:(z,u,e)=>{"use strict";e.d(u,{n:()=>y});var o=e(6400),f=e(29696),l=e(50670),c=e(51126),g=e(33510),v=e(44396);const E={lotsOfNotes:"frontend-feed-Placeholders-module__lotsOfNotes--Gf9e6"};function y(){return(0,o.h)(c.tu,{className:E.lotsOfNotes},Array(8).fill(0).map(()=>(0,o.h)(p,null)))}function p(){const O=(0,v.XA)();return(0,o.h)(f.O3,null,(0,o.h)(l.oM,null,(0,o.h)(c.hs,{gap:12},(0,o.h)(g.Vm,{type:"circle",size:O?36:40}),(0,o.h)(c.tu,{gap:12,flex:"grow"},(0,o.h)(g.Vm,{height:20,width:100}),Array(3).fill(0).map(()=>(0,o.h)(g.Vm,{height:20,width:`${30+Math.random()*70}%`}))))))}},66337:(z,u,e)=>{"use strict";e.d(u,{I:()=>s});var o=e(6400),f=e(94184),l=e.n(f),c=e(15045),g=e(20501),v=e(79786),E=e(63270),y=e(16527),p=e(51126),O=e(43887),S=e(73413),x=e(33510),T=e(68262),_=e(44396),d=e(28967);function s({post:w,publication:P,readOnly:I,onClick:D}){const N=(0,_.XA)(),C=(0,E.xR)().getConfigFor("enable_unified_home"),A=w.cover_image;return(0,o.h)(p.tu,{as:I?"div":"a",className:d.Z.post,bg:"elevated",border:"detail",radius:12,onClick:L=>{D&&D(),!I&&S.L&&(!N||C)&&(0,y.Q)(L,(0,g.getPostUrl)(P,w,{noBase:!0,feedViewer:!0}))},href:I?void 0:(0,g.getPostUrl)(P,w,{feedViewer:!1}),minWidth:0},A&&(0,o.h)(v.e,{className:l()(d.Z.postImage,N&&d.Z.mobile),imageProps:{smartCrop:!0,aspect:N?"3:2":"2:1"},src:A,maxWidth:1e3}),(0,o.h)(p.tu,{gap:4,padding:12,borderTop:A?"detail":"transparent"},(0,o.h)(p.hs,{gap:8,paddingBottom:4,alignItems:"center",minWidth:0},(0,o.h)(T.F,{pub:P,size:20}),(0,o.h)(O.xv.Meta,{ellipsis:!0},I?P.name:(0,o.h)(x.zr,{href:(0,c.getPubUrl)(P)},P.name))),(0,o.h)(O.xv.B3,{clamp:N?1:2,color:"primary",weight:"medium"},w.title),(0,o.h)(O.xv.B4,{clamp:2,color:"secondary"},w.description)))}},11132:(z,u,e)=>{"use strict";e.d(u,{F:()=>c,q:()=>l});var o=e(98661),f=e(30396);const l=(0,o.createContext)(void 0);function c(){return(0,f.qp)(l)}},62017:(z,u,e)=>{"use strict";e.d(u,{xG:()=>C,Zg:()=>N,hh:()=>A});var o=e(6400),f=e(94184),l=e.n(f),c=e(2731),g=e(80332),v=e(67963),E=e(43887),y=e(73413),p=e(18130);const O={link:"frontend-feed-TextLink-module__link--VuuIc"};var S=Object.defineProperty,x=Object.defineProperties,T=Object.getOwnPropertyDescriptors,_=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,w=(L,U,W)=>U in L?S(L,U,{enumerable:!0,configurable:!0,writable:!0,value:W}):L[U]=W,P=(L,U)=>{for(var W in U||(U={}))d.call(U,W)&&w(L,W,U[W]);if(_)for(var W of _(U))s.call(U,W)&&w(L,W,U[W]);return L},I=(L,U)=>x(L,T(U)),D=(L,U)=>{var W={};for(var G in L)d.call(L,G)&&U.indexOf(G)<0&&(W[G]=L[G]);if(L!=null&&_)for(var G of _(L))U.indexOf(G)<0&&s.call(L,G)&&(W[G]=L[G]);return W};function N(L){var U=L,{user:W,utm_source:G,utm_content:$,ellipsis:q,useYou:J,onClick:R}=U,j=D(U,["user","utm_source","utm_content","ellipsis","useYou","onClick"]);const ie=(0,v.aF)(),le=(W==null?void 0:W.id)||(W==null?void 0:W.user_id)||0,ye=J&&(ie==null?void 0:ie.id)===le?"You":W.name;return(0,o.h)(C,P({user:W,utm_source:G,utm_content:$,ellipsis:q,onClick:R},j),ye)}function C(L){var U=L,{user:W,utm_source:G,utm_content:$,children:q,onClick:J}=U,R=D(U,["user","utm_source","utm_content","children","onClick"]);const j=I(P({},W),{id:W.author_id||W.user_id||W.id,name:W.user_profile_name||W.author_name||W.name,handle:(W==null?void 0:W.handle)||(W==null?void 0:W.author_handle)});return(0,o.h)(g.Ct,{subject:j,dontStopPropagation:!0,utmSource:"feed",inline:!0},(0,o.h)(A,P({href:(0,c.getReaderProfileUrl)(W,{noBase:y.L,utm_content:$,utm_source:G}),onClick:J},R),q))}function A(L){var U=L,{weight:W,color:G,decoration:$="hover-underline",ellipsis:q,className:J}=U,R=D(U,["weight","color","decoration","ellipsis","className"]);return(0,o.h)(E.Zx,{ellipsis:q,weight:W,color:G,decoration:$},(0,o.h)(p.r,I(P({},R),{className:l()(J,O.link)})))}},59386:(z,u,e)=>{"use strict";e.d(u,{m:()=>x});var o=e(6400),f=Object.defineProperty,l=Object.defineProperties,c=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,y=(T,_,d)=>_ in T?f(T,_,{enumerable:!0,configurable:!0,writable:!0,value:d}):T[_]=d,p=(T,_)=>{for(var d in _||(_={}))v.call(_,d)&&y(T,d,_[d]);if(g)for(var d of g(_))E.call(_,d)&&y(T,d,_[d]);return T},O=(T,_)=>l(T,c(_)),S=(T,_)=>{var d={};for(var s in T)v.call(T,s)&&_.indexOf(s)<0&&(d[s]=T[s]);if(T!=null&&g)for(var s of g(T))_.indexOf(s)<0&&E.call(T,s)&&(d[s]=T[s]);return d};function x(T){var _=T,{size:d=20,stroke:s="var(--color-light-secondary)"}=_,w=S(_,["size","stroke"]);return(0,o.h)("svg",O(p({},w),{width:d,height:d,viewBox:"0 0 24 24",fill:"none",stroke:s,xmlns:"http://www.w3.org/2000/svg"}),(0,o.h)("path",{id:"Vector",d:"M3 22C3 17.7044 6.69722 14.2222 11.258 14.2222C11.5081 14.2222 11.7556 14.2326 12 14.2531M21.0039 16.3098L18.6469 18.6668M18.6469 18.6668L16.2899 21.0239M18.6469 18.6668L21.0178 21.0377M18.6469 18.6668L16.276 16.2959M16.4118 6.44444C16.4118 8.89904 14.4102 10.8889 11.9412 10.8889C9.47214 10.8889 7.47059 8.89904 7.47059 6.44444C7.47059 3.98985 9.47214 2 11.9412 2C14.4102 2 16.4118 3.98985 16.4118 6.44444Z","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}))}},50670:(z,u,e)=>{"use strict";e.d(u,{Fb:()=>q,KF:()=>W,Ku:()=>U,Zb:()=>G,oM:()=>C,sP:()=>$});var o=e(6400),f=e(94184),l=e.n(f),c=e(85928),g=e.n(c),v=e(20501),E=e(80332),y=e(51126),p=e(43887),O=e(10186),S=e(73413),x=e(18130),T=e(44396),_=e(28967),d=Object.defineProperty,s=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,I=(J,R,j)=>R in J?d(J,R,{enumerable:!0,configurable:!0,writable:!0,value:j}):J[R]=j,D=(J,R)=>{for(var j in R||(R={}))w.call(R,j)&&I(J,j,R[j]);if(s)for(var j of s(R))P.call(R,j)&&I(J,j,R[j]);return J},N=(J,R)=>{var j={};for(var ie in J)w.call(J,ie)&&R.indexOf(ie)<0&&(j[ie]=J[ie]);if(J!=null&&s)for(var ie of s(J))R.indexOf(ie)<0&&P.call(J,ie)&&(j[ie]=J[ie]);return j};function C(J){var R=J,{showGutter:j=!1,hasAvatar:ie=!0,hasContext:le=!1,onClick:ye}=R,ue=N(R,["showGutter","hasAvatar","hasContext","onClick"]);const oe=ye?te=>{const{target:Z}=te;Z instanceof Element&&Z.closest("button, a")||te.defaultPrevented||ye(te)}:void 0;return(0,o.h)(y.tu,D({className:l()(_.Z.feedUnit,j?_.Z.showThreadGutter:void 0,le?_.Z.hasContext:void 0,ye&&_.Z.hasAction,ie?_.Z.hasAvatar:void 0),gap:4,onClick:oe},ue))}const A=new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric"}),L=new Intl.DateTimeFormat(void 0,{dateStyle:"long"});function U({timestamp:J}){const R=g()(),j=g()(J),ie=R.diff(j,"day"),le=R.diff(j,"year");let ye;return le>=1?ye=L.format(j.toDate()):ie>7?ye=A.format(j.toDate()):ye=j.fromNowShort(),(0,o.h)(p.Zx,{color:"secondary"},J&&ye)}function W({children:J}){return(0,o.h)(p.xv.B3,null,(0,o.h)(y.hs,{flex:"grow",minWidth:0},(0,o.h)(y.hs,{gap:8,alignItems:"center",flex:"grow"},J)))}function G({user:J,className:R}){const j=(0,T.XA)();return(0,o.h)(O.qE,{size:j?36:40,user:J,className:R})}function $({large:J,children:R}){return J?(0,o.h)(p.xv.B2,{className:_.Z.feedCommentBodyInner,color:"primary"},R):(0,o.h)(p.xv.B3,{className:_.Z.feedCommentBodyInner,color:"primary"},R)}function q({user:J,onClick:R,utm_content:j,desaturate:ie}){const le=(0,x.c)({href:(0,v.getReaderProfileUrl)(J,{noBase:S.L}),onClick:R,campaign:{content:j}});return(0,o.h)(y.hs,D({as:"a",flex:"auto",alignSelf:"start"},le),(0,o.h)(E.Ct,{subject:J,dontStopPropagation:!0,utmSource:"feed"},(0,o.h)(G,{user:J,className:ie?_.Z.desaturate:void 0})))}},69371:(z,u,e)=>{"use strict";e.d(u,{$U:()=>p,rI:()=>x});var o=e(6400),f=e(98661),l=e(30396),c=e(81470),g=e(9686),v=e(91870),E=e(50292),y=e(10174);function p({state:T,dispatch:_,surface:d,children:s}){const{onboardingModalRef:w}=(0,E.SJ)(),P=(0,l.Ye)(()=>({dispatch:_}),[]);return(0,o.h)(O.Provider,{value:d},(0,o.h)(v.RR.Provider,{value:P},(0,o.h)(v.ev.Provider,{value:T},(0,o.h)(y.Au,null,s,T.isSigningIn&&(0,o.h)(g.I,{onCancel:()=>_({type:"sign_in",payload:{isSigningIn:!1}}),onSuccess:()=>{_({type:"sign_in",payload:{isSigningIn:!1}}),document.location.reload()},onSignup:()=>{var I;_({type:"sign_in",payload:{isSigningIn:!1}}),(I=w.current)==null||I.open()},noExit:T.signInNoExit})))))}const O=(0,f.createContext)(c.Uo.Feed);function S({surface:T,children:_}){return h(O.Provider,{value:T},_)}function x(){return(0,l.qp)(O)}},55463:(z,u,e)=>{"use strict";e.d(u,{a:()=>l});var o=e(8479),f=(c,g,v)=>new Promise((E,y)=>{var p=x=>{try{S(v.next(x))}catch(T){y(T)}},O=x=>{try{S(v.throw(x))}catch(T){y(T)}},S=x=>x.done?E(x.value):Promise.resolve(x.value).then(p,O);S((v=v.apply(c,g)).next())});function l({editComment:c}={}){const g=(0,o.ib)({pathname:c?`/api/v1/feed/comment/${c.id}`:"/api/v1/comment/feed"});return{create:v=>f(this,[v],function*({bodyJson:E,parentPostId:y,parentPubId:p,parent_id:O,attachmentIds:S,tabId:x,replyMinimumRole:T}){return yield g.refetch({pathname:c?`/api/v1/feed/comment/${c.id}`:y?`/api/v1/post/${y}/comment`:"/api/v1/comment/feed",method:c?"PATCH":"POST",json:{bodyJson:E,parent_id:O,publication_id:p,attachmentIds:S,tabId:x,replyMinimumRole:T}})}),error:g.error,isLoading:g.isLoading}}},77883:(z,u,e)=>{"use strict";e.d(u,{G:()=>D});var o=e(6400),f=e(71375),l=e(25380),c=e(58718),g=e(67963),v=e(8479),E=e(75425),y=e(72307),p=e(3258),O=Object.defineProperty,S=Object.defineProperties,x=Object.getOwnPropertyDescriptors,T=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,s=(N,C,A)=>C in N?O(N,C,{enumerable:!0,configurable:!0,writable:!0,value:A}):N[C]=A,w=(N,C)=>{for(var A in C||(C={}))_.call(C,A)&&s(N,A,C[A]);if(T)for(var A of T(C))d.call(C,A)&&s(N,A,C[A]);return N},P=(N,C)=>S(N,x(C)),I=(N,C,A)=>new Promise((L,U)=>{var W=q=>{try{$(A.next(q))}catch(J){U(J)}},G=q=>{try{$(A.throw(q))}catch(J){U(J)}},$=q=>q.done?L(q.value):Promise.resolve(q.value).then(W,G);$((A=A.apply(N,C)).next())});function D({publication:N,profileId:C,onSuccess:A=()=>{},source:L}){const U=(0,g.aF)(),W=(0,y.Th)(),G=(0,c.oJ)(),{popToast:$}=(0,E.pm)(),{isLoading:q,refetch:J}=(0,v.ib)({pathname:"/api/v1/reader/signup/pub",method:"POST",json:{publication_id:N.id,email:U==null?void 0:U.email,visibility:"public",source:L}});return{isLoading:q,subscribe:()=>I(this,null,function*(){U||$(R=>(0,o.h)(E.FN,P(w({},R),{text:"Something went wrong. Please try again.",Icon:f.Z})));try{yield J(),$(R=>(0,o.h)(E.FN,P(w({},R),{text:`Subscribed to ${N.name}`,Icon:l.Z}))),A(),W.refetch(),C&&G((R=[])=>R.includes(C)?R:[C,...R],{revalidate:!1}),(0,p.j)(p.FP.FEED_ONE_CLICK_SUBSCRIBE,{source:L,publication_id:N.id})}catch(R){console.error(R),$(j=>(0,o.h)(E.FN,P(w({},j),{text:"There was an issue subscribing to this profile.",Icon:f.Z})))}})}}},15748:(z,u,e)=>{"use strict";e.d(u,{g:()=>d});var o=e(6400),f=e(99869),l=e(75425),c=e(39419),g=e.n(c),v=Object.defineProperty,E=Object.defineProperties,y=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,x=(s,w,P)=>w in s?v(s,w,{enumerable:!0,configurable:!0,writable:!0,value:P}):s[w]=P,T=(s,w)=>{for(var P in w||(w={}))O.call(w,P)&&x(s,P,w[P]);if(p)for(var P of p(w))S.call(w,P)&&x(s,P,w[P]);return s},_=(s,w)=>E(s,y(w));function d(){const s=(0,l.pm)();return w=>{(0,c.copyToClipboard)(w),s.popToast(P=>(0,o.h)(l.FN,_(T({},P),{text:"Link copied",Icon:f.Z})))}}},39776:(z,u,e)=>{"use strict";e.r(u),e.d(u,{SiteConfigGate:()=>g,default:()=>c,getConfigFor:()=>l});var o=e(6400),f=e(63270);function l(v){var E;if(!v||typeof window=="undefined"||!((E=window._preloads)!=null&&E.siteConfigs))return null;const y=window._preloads.siteConfigs[v];return y===void 0?null:y}const c=l;function g({configKey:v,children:E,value:y=!0}){return(0,f.xR)().getConfigFor(v)==y?(0,o.h)(o.Fragment,null,E):null}},35225:(z,u,e)=>{"use strict";e.d(u,{S:()=>D});var o=e(6400),f=e(8618),l=e(85928),c=e.n(l),g=e(61782),v=e(15045),E=e(13833),y=e(75425),p=e(3258),O=e(58884),S=Object.defineProperty,x=Object.defineProperties,T=Object.getOwnPropertyDescriptors,_=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,w=(N,C,A)=>C in N?S(N,C,{enumerable:!0,configurable:!0,writable:!0,value:A}):N[C]=A,P=(N,C)=>{for(var A in C||(C={}))d.call(C,A)&&w(N,A,C[A]);if(_)for(var A of _(C))s.call(C,A)&&w(N,A,C[A]);return N},I=(N,C)=>x(N,T(C));function D({user:N,noBase:C}){const A=(0,y.pm)(),L=()=>fetch("/api/v1/user/like_nux/seen",{method:"POST"});return()=>{const U="has_seen_like_nux",W=(0,O.mM)(U),G=g.L;return W&&N&&!N.has_seen_like_nux?(L(),!1):!N||!N.profile_set_up_at||N.subscription_visibility==="private"||!N.activity_likes_enabled||W||N.has_seen_like_nux||c()((N==null?void 0:N.profile_set_up_at)||0).unix()>G?!1:((0,p.j)(p.FP.LIKE_NUX_SHOWN),(0,O.ex)(U,!0),L(),A.popToast($=>(0,o.h)(y.Us,I(P({},$),{title:"New: see who's liked a post",body:"Now you can see who's liked a post and visit their profiles. Your own profile won't show up on posts you liked before this change.",buttons:(0,o.h)(o.Fragment,null,(0,o.h)(y.lL,{href:(0,v.getReaderProfileUrl)(N,{utm_source:"like_toast",noBase:C})},(0,o.h)(E.Av,null,"OK")),(0,o.h)(y.lL,{href:(0,v.getEditProfileUrl)({params:{utm_source:"like_toast"}})},(0,o.h)(E.Av,{color:"secondary"},"Settings"))),Icon:f.Z}))),!0)}}},49619:(z,u,e)=>{"use strict";e.d(u,{t:()=>c});var o=e(6400),f=e(83322);const l=g=>g.podcast_url&&g.podcast_duration>0?"podcast":g.videoUpload&&g.videoUpload.duration&&g.videoUpload.duration>0?"video":g.type==="thread"?"thread":"newsletter",c=function(g,{totalAmount:v,discount:E,quantity:y=1,trial_end_override:p,noTrial:O=!1,recurring:S=!0,isGroupSubscription:x=!1,isUnlimitedGroupSubscription:T=!1,language:_="en"}={}){const{iString:d,iPlural:s}=I18N.i(_),w=v===void 0?(g.amount||0)*(y||1):v,P=(0,f.centsToPriceString)(w,g.currency);let I;if(E&&!E.loading&&!E.error&&(E.percent_off||E.amount_off)){let U;E.percent_off?U=Math.round(w*(1-(E.percent_off_precise||E.percent_off)/100)):E.amount_off&&(U=Math.max(0,w-E.amount_off)),I=(0,f.centsToPriceString)(U,g.currency)}const D=I||P;let N;g.is_bitcoin?(g.interval==="month"&&(N=s("%2/1 month","%2/%1 months",g.interval_count,D)),g.interval==="week"&&(N=s("%2/1 week","%2/%1 weeks",g.interval_count,D)),g.interval==="day"&&(N=s("%2/1 day","%2/%1 days",g.interval_count,D)),g.interval==="year"&&(N=s("%2/1 year","%2/%1 years",g.interval_count,D))):g&&S&&!x&&!T?(g.interval==="month"&&(N=s("%2 per month","%2 per %1 months",g.interval_count,D)),g.interval==="week"&&(N=s("%2 per week","%2 per %1 weeks",g.interval_count,D)),g.interval==="day"&&(N=s("%2 per day","%2 per %1 days",g.interval_count,D)),g.interval==="year"&&(N=s("%2 per year","%2 per %1 years",g.interval_count,D))):g&&!S&&!x&&!T?(g.interval==="month"&&(N=s("%2 for one month","%2 for %1 months",g.interval_count,D)),g.interval==="week"&&(N=s("%2 for one week","%2 for %1 weeks",g.interval_count,D)),g.interval==="day"&&(N=s("%2 for one day","%2 for %1 days",g.interval_count,D)),g.interval==="year"&&(N=s("%2 for one year","%2 for %1 years",g.interval_count,D))):g&&S&&x&&!T?(g.interval==="month"&&(N=s("%2 for one month per person","%2 for %1 months per person",g.interval_count,D)),g.interval==="week"&&(N=s("%2 for one week per person","%2 for %1 weeks per person",g.interval_count,D)),g.interval==="day"&&(N=s("%2 for one day per person","%2 for %1 days per person",g.interval_count,D)),g.interval==="year"&&(N=s("%2 for one year per person","%2 for %1 years per person",g.interval_count,D))):g&&S&&x&&T&&(g.interval==="month"&&(N=s("%2 for one month for unlimited seats","%2 for %1 months for unlimited seats",g.interval_count,D)),g.interval==="week"&&(N=s("%2 for one week for unlimited seats","%2 for %1 weeks for unlimited seats",g.interval_count,D)),g.interval==="day"&&(N=s("%2 for one day for unlimited seats","%2 for %1 days for unlimited seats",g.interval_count,D)),g.interval==="year"&&(N=s("%2 for one year for unlimited seats","%2 for %1 years for unlimited seats",g.interval_count,D)));let C;const A=Math.max(0,g.trial_period_days||0,E&&E.trial_period_days||0,p?Math.ceil((p-Date.now()/1e3)/60/60/24):0);!O&&A>0&&(C=s("%1 day free trial","%1 day free trial",A));let L;if(E&&I&&S&&E.duration!=="forever"){const U=E.duration==="once"?1:E.duration_in_months/(g.interval==="year"?12:1)*g.interval_count;g.interval==="month"&&(L=s("for first month","for first %1 months",U)),g.interval==="week"&&(L=s("for first week","for first %1 weeks",U)),g.interval==="day"&&(L=s("for first day","for first %1 days",U)),g.interval==="year"&&(L=s("for first year","for first %1 years",U))}return E&&E.loading?(0,o.h)(o.Fragment,null,N," ",(0,o.h)("span",{className:"discount-price"}," (",d("coupon loading"),")")):E&&E.error?(0,o.h)(o.Fragment,null,N," ",(0,o.h)("span",{className:"discount-price error"}," (",d("coupon invalid or expired"),")")):I?(0,o.h)(o.Fragment,null,(0,o.h)("span",{className:"crossed-out"},P)," ",(0,o.h)("span",{className:"discount-price"},N," ",L?`(${L}) `:"",C)):(0,o.h)(o.Fragment,null,N," ",C)}},11059:(z,u,e)=>{"use strict";e.d(u,{a:()=>y});var o=e(6400),f=e(30396),l=e(84606),c=e(84040),g=e(34394),v=e(62246),E=e(43887);const y=({isOpen:p=!1,title:O,body:S,onClose:x,customPrimaryButton:T,secondaryButton:_,confirmationString:d})=>{const s=(0,f.sO)(null),[w,P]=(0,f.eJ)(!!d);return(0,f.d4)(()=>{p&&d&&P(!0)},[p,d]),(0,o.h)(v.u_,{isOpen:p,onClose:x,initialFocus:s},O&&(0,o.h)(v.xB,{title:O,includeClose:!1}),(0,o.h)(v.fe,null,(0,o.h)(E.xv.B3,null,S),d&&(0,o.h)(l.xu,{paddingTop:16},(0,o.h)(g.o,{onChange:I=>{P(!0),d.toLowerCase()===I.target.value.toLowerCase()&&P(!1)}}))),(0,o.h)(v.mz,{primaryButton:T?(0,o.cloneElement)(T,{ref:s,disabled:w}):(0,o.h)(c.zx,{ref:s,onClick:x,priority:"primary",disabled:w},"OK"),secondaryButton:_}))}},83787:(z,u,e)=>{"use strict";e.d(u,{H:()=>c});var o=e(6400),f=e(30396);const l=150,c=({children:g,expanded:v,renderWhenCollapsed:E,onEnter:y,flex:p})=>{const O=(0,f.sO)(null),[S,x]=(0,f.eJ)(v?"expanded":"collapsed"),[T,_]=(0,f.eJ)(null);return(0,f.d4)(()=>{v&&S==="collapsed"&&x("startExpanding"),S==="startExpanding"&&O.current&&(_(O.current.offsetHeight),x("expanding"),setTimeout(()=>{x("expanded"),y&&y()},l)),!v&&S==="expanded"&&O.current&&(_(O.current.offsetHeight),x("startCollapsing")),S==="startCollapsing"&&(x("collapsing"),setTimeout(()=>{x("collapsed")},l))},[v,S]),(0,o.h)("div",{style:{height:S==="collapsed"||S==="startExpanding"||S==="collapsing"?0:S==="expanding"||S==="startCollapsing"?T:null,transition:`height ${l}ms ease-in-out`,overflow:S==="expanded"?"visible":"hidden",display:p?"flex":"block",flexDirection:"column"}},(0,o.h)("div",{ref:O,style:{paddingTop:.05,paddingBottom:.05,display:p?"flex":"block",flex:"0 0 auto",flexDirection:"column"}},(S!=="collapsed"||E)&&g))}},84606:(z,u,e)=>{"use strict";e.d(u,{E7:()=>C,xu:()=>D,yK:()=>N});var o=e(6400),f=e(98661),l=e(94184),c=e.n(l),g=e(14293),v=e.n(g),E=e(19206),y=e(28614),p=Object.defineProperty,O=Object.defineProperties,S=Object.getOwnPropertyDescriptors,x=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,d=(A,L,U)=>L in A?p(A,L,{enumerable:!0,configurable:!0,writable:!0,value:U}):A[L]=U,s=(A,L)=>{for(var U in L||(L={}))T.call(L,U)&&d(A,U,L[U]);if(x)for(var U of x(L))_.call(L,U)&&d(A,U,L[U]);return A},w=(A,L)=>O(A,S(L)),P=(A,L)=>{var U={};for(var W in A)T.call(A,W)&&L.indexOf(W)<0&&(U[W]=A[W]);if(A!=null&&x)for(var W of x(A))L.indexOf(W)<0&&_.call(A,W)&&(U[W]=A[W]);return U};function I(A){var L,U;return v()(A)?[null,null]:typeof A=="object"?[(L=A.desktop)!=null?L:null,(U=A.mobile)!=null?U:null]:[A,null]}const D=(0,f.forwardRef)(function(L,U){var W=L,{display:G,as:$,className:q,direction:J,flex:R,inline:j,wrap:ie,gap:le,padding:ye,paddingX:ue,paddingY:oe,paddingTop:te,paddingBottom:Z,paddingLeft:re,paddingRight:ae,justifyContent:se,alignItems:be,alignSelf:_e,minWidth:pe,minHeight:me,style:Te,border:ve,borderTop:ce,borderBottom:Le,borderLeft:Ne,borderRight:He,borderY:ze,radius:Xe,shadow:_t,bg:we,overflowY:We,overflowX:Ie,scrollBar:tt,sizing:et,ellipsis:ht,pullX:vt,textAlign:Lt,fontSize:$t,fontWeight:yt,color:he,decoration:je,font:st,fontStyle:De,isParagraph:Be,lineHeight:Ke,textTransform:it,nowrap:Qe,clamp:Ae,position:H}=W,ee=P(W,["display","as","className","direction","flex","inline","wrap","gap","padding","paddingX","paddingY","paddingTop","paddingBottom","paddingLeft","paddingRight","justifyContent","alignItems","alignSelf","minWidth","minHeight","style","border","borderTop","borderBottom","borderLeft","borderRight","borderY","radius","shadow","bg","overflowY","overflowX","scrollBar","sizing","ellipsis","pullX","textAlign","fontSize","fontWeight","color","decoration","font","fontStyle","isParagraph","lineHeight","textTransform","nowrap","clamp","position"]);const de=$!=null?$:"div";return(0,o.h)(de,s({ref:U,className:c()(N({display:G,direction:J,flex:R,inline:j,wrap:ie,gap:le,padding:ye,paddingX:ue,paddingY:oe,paddingTop:te,paddingBottom:Z,paddingLeft:re,paddingRight:ae,justifyContent:se,alignItems:be,alignSelf:_e,minWidth:pe,minHeight:me,border:ve,borderTop:ce,borderBottom:Le,borderLeft:Ne,borderRight:He,borderY:ze,radius:Xe,shadow:_t,bg:we,overflowY:We,overflowX:Ie,scrollBar:tt,sizing:et,ellipsis:ht,pullX:vt,textAlign:Lt,fontSize:$t,fontWeight:yt,color:he,decoration:je,font:st,fontStyle:De,isParagraph:Be,lineHeight:Ke,textTransform:it,nowrap:Qe,clamp:Ae,position:H}),q),style:Te},ee))});function N({display:A,direction:L,flex:U,inline:W,wrap:G,gap:$,padding:q,paddingX:J,paddingY:R,paddingTop:j,paddingBottom:ie,paddingLeft:le,paddingRight:ye,justifyContent:ue,alignItems:oe,alignSelf:te,minWidth:Z,minHeight:re,border:ae,borderTop:se,borderBottom:be,borderLeft:_e,borderRight:pe,borderY:me,radius:Te,shadow:ve,bg:ce,overflowY:Le,overflowX:Ne,scrollBar:He,sizing:ze,ellipsis:Xe,pullX:_t,textAlign:we,fontSize:We,fontWeight:Ie,color:tt,decoration:et,font:ht,fontStyle:vt,isParagraph:Lt,lineHeight:$t,textTransform:yt,nowrap:he,clamp:je,position:st}){const[De,Be]=I($),[Ke,it]=I(q),[Qe,Ae]=I(J),[H,ee]=I(R),[de,Ee]=I(j),[Me,$e]=I(ie),[dt,ct]=I(le),[wt,Mt]=I(ye),[pn,Mn]=I(L),[$n,mr]=I(G),[jn,dr]=I(ue),[nn,jr]=I(oe),[Dr,At]=I(A);return c()("pencraft",{[E.Z.flexGrow]:U==="grow",[E.Z.flexFill]:U==="fill",[E.Z.flexAuto]:U==="auto"},E.Z.reset,A!=null&&E.Z[`display-${Dr}`],W&&E.Z["display-inline-flex"],pn!=null&&E.Z[`flex-direction-${pn}`],$n!=null&&E.Z[`flex-wrap-${$n}`],jn!=null&&E.Z[`flex-justify-${jn}`],nn!=null&&E.Z[`flex-align-${nn}`],te!=null&&E.Z[`flex-align-self-${te}`],De!=null&&E.Z[`flex-gap-${De}`],Ke!=null&&E.Z[`padding-${Ke}`],Qe!=null&&E.Z[`padding-x-${Qe}`],H!=null&&E.Z[`padding-y-${H}`],de!=null&&E.Z[`padding-top-${de}`],Me!=null&&E.Z[`padding-bottom-${Me}`],dt!=null&&E.Z[`padding-left-${dt}`],wt!=null&&E.Z[`padding-right-${wt}`],Mn!=null&&E.Z[`flex-direction-mobile-${Mn}`],mr!=null&&E.Z[`flex-wrap-mobile-${mr}`],dr!=null&&E.Z[`flex-justify-mobile-${dr}`],Be!=null&&E.Z[`flex-gap-mobile-${Be}`],jr!=null&&E.Z[`flex-align-mobile-${jr}`],it!=null&&E.Z[`padding-mobile-${it}`],Ae!=null&&E.Z[`padding-x-mobile-${Ae}`],ee!=null&&E.Z[`padding-y-mobile-${ee}`],Ee!=null&&E.Z[`padding-top-mobile-${Ee}`],$e!=null&&E.Z[`padding-bottom-mobile-${$e}`],ct!=null&&E.Z[`padding-left-mobile-${ct}`],Mt!=null&&E.Z[`padding-right-mobile-${Mt}`],At!=null&&E.Z[`display-mobile-${At}`],Z!=null&&E.Z[`min-width-${Z}`],re!=null&&E.Z[`min-height-${re}`],ae&&E.Z[`border-${ae}`],se&&E.Z[`border-top-${se}`],be&&E.Z[`border-bottom-${be}`],_e&&E.Z[`border-left-${_e}`],pe&&E.Z[`border-right-${pe}`],me&&E.Z[`border-y-${me}`],Te!=null&&E.Z[`border-radius-${Te}`],ve&&E.Z[`shadow-${ve}`],ce!=null&&E.Z[`bg-${ce}`],Le&&E.Z[`overflowY-${Le}`],Ne&&E.Z[`overflowX-${Ne}`],He&&E.Z[`scrollBar-${He}`],ze&&E.Z[`sizing-${ze}`],Xe&&E.Z.ellipsis,_t&&E.Z[`pullX-${_t}`],st&&E.Z[`position-${st}`],we&&y.Z[`align-${we}`],We&&y.Z[`size-${We}`],$t&&y.Z[`line-height-${$t}`],Ie&&y.Z[`weight-${Ie}`],ht&&y.Z[`font-${ht}`],vt&&y.Z[`font-style-${vt}`],tt&&y.Z[`color-${tt}`],yt&&y.Z[`transform-${yt}`],he&&y.Z.nowrap,je&&`${y.Z.clamp} ${y.Z[`clamp-${je}`]}`,et&&y.Z[`decoration-${et}`],Lt&&y.Z.paragraph)}function C(A){var L=A,{className:U,displayName:W}=L,G=P(L,["className","displayName"]);const $=(0,f.forwardRef)((q,J)=>{var R=q,{className:j}=R,ie=P(R,["className"]);return(0,o.h)(D,w(s(s({},G),ie),{ref:J,className:c()(U,j)}))});return $.displayName=W,$}},84040:(z,u,e)=>{"use strict";e.d(u,{hU:()=>A,kG:()=>N,zx:()=>C});var o=e(6400),f=e(98661),l=e(94184),c=e.n(l),g=e(39419),v=e.n(g),E=e(5668),y=e(43887),p=e(19206),O=e(4924),S=Object.defineProperty,x=Object.defineProperties,T=Object.getOwnPropertyDescriptors,_=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,w=(U,W,G)=>W in U?S(U,W,{enumerable:!0,configurable:!0,writable:!0,value:G}):U[W]=G,P=(U,W)=>{for(var G in W||(W={}))d.call(W,G)&&w(U,G,W[G]);if(_)for(var G of _(W))s.call(W,G)&&w(U,G,W[G]);return U},I=(U,W)=>x(U,T(W)),D=(U,W)=>{var G={};for(var $ in U)d.call(U,$)&&W.indexOf($)<0&&(G[$]=U[$]);if(U!=null&&_)for(var $ of _(U))W.indexOf($)<0&&s.call(U,$)&&(G[$]=U[$]);return G};const N=(0,f.forwardRef)((U,W)=>{var G=U,{onClick:$,href:q,localNavigation:J,newTab:R,className:j,resetCss:ie}=G,le=D(G,["onClick","href","localNavigation","newTab","className","resetCss"]);const ye=q?ue=>{$&&($.call(ue.target,ue),ue.defaultPrevented)||(0,g.redirect)(q,{event:ue,local_navigation:J,newTab:R})}:$;return(0,o.h)("button",I(P({tabIndex:0,type:"button"},le),{className:c()("pencraft",j,ie&&O.Z.buttonBase),ref:W,onClick:ye,"data-href":q}))});N.displayName="UnstyledButton";const C=(0,f.forwardRef)(function(W,G){var $=W,{className:q,priority:J="primary",size:R="medium",fill:j="filled",outline:ie,rounded:le,disabled:ye,grow:ue,leftIcon:oe,rightIcon:te,allCaps:Z,children:re,hiddenInput:ae,justifyContent:se="center"}=$,be=D($,["className","priority","size","fill","outline","rounded","disabled","grow","leftIcon","rightIcon","allCaps","children","hiddenInput","justifyContent"]);return(0,o.h)(N,P({className:c()(q,O.Z.buttonBase,O.Z.button,O.Z[`priority_${J}`],O.Z[`size_${R}`],O.Z[`fill_${j}`],ie&&O.Z.outline_none,le&&O.Z.rounded,ue&&O.Z.grow,oe!=null&&O.Z.hasLeftIcon,te!=null&&O.Z.hasRightIcon,se&&p.Z[`flex-justify-${se}`]),disabled:ye,ref:G},be),oe,Z?(0,o.h)(y.xv.Meta,null,re):re,te,ae&&(0,o.h)(E.U,null,ae))}),A=(0,f.forwardRef)((U,W)=>{var G=U,{className:$,size:q=40,priority:J="secondary",color:R,fill:j="empty",rounded:ie=!0,inverted:le,grow:ye,shadow:ue}=G,oe=D(G,["className","size","priority","color","fill","rounded","inverted","grow","shadow"]);return(0,o.h)(N,P({ref:W,className:c()($,O.Z.iconButton,q!=null&&O.Z[`size_${q}`],J&&O.Z[`priority_${J}`],R&&O.Z[`color_${R}`],j&&O.Z[`fill_${j}`],le&&O.Z.inverted,ye&&O.Z.grow,ie&&O.Z.rounded,ue&&O.Z[`shadow_${ue}`])},oe))}),L=U=>{var W=U,{href:G,download:$,className:q,priority:J="primary",size:R="medium",fill:j="filled",outline:ie,rounded:le,grow:ye}=W,ue=D(W,["href","download","className","priority","size","fill","outline","rounded","grow"]);return h("a",P({href:G,download:$,className:classnames(q,css.buttonBase,css.button,css[`priority_${J}`],css[`size_${R}`],css[`fill_${j}`],ie&&css.outline_none,le&&css.rounded,ye&&css.grow)},ue))}},91041:(z,u,e)=>{"use strict";e.d(u,{h:()=>I,a:()=>D});var o=e(6400),f=e(94184),l=e.n(f),c=e(49336),g=e(84040),v=e(51126),E=e(76235);const y={attached:"frontend-pencraft-ButtonGroup-module__attached--wptD_",borderless:"frontend-pencraft-ButtonGroup-module__borderless--ztoYe"};var p=Object.defineProperty,O=Object.defineProperties,S=Object.getOwnPropertyDescriptors,x=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,d=(N,C,A)=>C in N?p(N,C,{enumerable:!0,configurable:!0,writable:!0,value:A}):N[C]=A,s=(N,C)=>{for(var A in C||(C={}))T.call(C,A)&&d(N,A,C[A]);if(x)for(var A of x(C))_.call(C,A)&&d(N,A,C[A]);return N},w=(N,C)=>O(N,S(C)),P=(N,C)=>{var A={};for(var L in N)T.call(N,L)&&C.indexOf(L)<0&&(A[L]=N[L]);if(N!=null&&x)for(var L of x(N))C.indexOf(L)<0&&_.call(N,L)&&(A[L]=N[L]);return A};const I=N=>{var C=N,{attached:A,gap:L=8}=C,U=P(C,["attached","gap"]);return(0,o.h)(v.gq,s({gap:A?0:L,className:l()({[y.attached]:A})},U))},D=N=>{var C=N,{children:A,menuItems:L,fill:U="filled",priority:W="primary",size:G="medium",rounded:$=!1,additionalMenuProps:q={}}=C,J=P(C,["children","menuItems","fill","priority","size","rounded","additionalMenuProps"]);return(0,o.h)(I,{attached:!0},(0,o.h)(g.zx,w(s({},J),{priority:W,size:G,rounded:$,fill:U==="borderless"?"filled":U,outline:U==="borderless"?"none":void 0}),A),(0,o.h)(E.v2,w(s({},q),{trigger:(0,o.h)(g.hU,w(s({className:l()({[y.borderless]:U==="borderless"})},J),{priority:W,fill:U,rounded:$,size:G==="small"?32:40}),(0,o.h)(c.Z,{size:G==="small"?12:20}))}),L))}},15187:(z,u,e)=>{"use strict";e.d(u,{Tz:()=>D});var o=e(6400),f=e(94184),l=e.n(f),c=e(85928);const g={datePicker:"frontend-pencraft-DatePicker-module__datePicker--lcGVq"};var v=Object.defineProperty,E=Object.defineProperties,y=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,x=(L,U,W)=>U in L?v(L,U,{enumerable:!0,configurable:!0,writable:!0,value:W}):L[U]=W,T=(L,U)=>{for(var W in U||(U={}))O.call(U,W)&&x(L,W,U[W]);if(p)for(var W of p(U))S.call(U,W)&&x(L,W,U[W]);return L},_=(L,U)=>E(L,y(U)),d=(L,U)=>{var W={};for(var G in L)O.call(L,G)&&U.indexOf(G)<0&&(W[G]=L[G]);if(L!=null&&p)for(var G of p(L))U.indexOf(G)<0&&S.call(L,G)&&(W[G]=L[G]);return W};const s="YYYY-MM-DD",w="YYYY-MM-DDThh:mm";function P(L){var U=L,{className:W,min:G,max:$,value:q,onChange:J,disabled:R}=U,j=d(U,["className","min","max","value","onChange","disabled"]);return h("input",_(T({},j),{type:"date",className:cn(css.datePicker,W),value:q?dayjs(q).format(s):"",min:G?dayjs(G).format(s):"",max:$?dayjs($).format(s):"",onChange:J,disabled:R}))}function I(L){var U=L,{className:W,min:G,max:$,value:q,onChange:J,disabled:R}=U,j=d(U,["className","min","max","value","onChange","disabled"]);return h("input",_(T({},j),{type:"datetime-local",className:cn(css.datePicker,W),value:q?dayjs(q).format(w):void 0,min:G?dayjs(G).format(w):void 0,max:$?dayjs($).format(w):void 0,onChange:J,disabled:R}))}function D(L){var U=L,{className:W,min:G,max:$,value:q,onChange:J,disabled:R}=U,j=d(U,["className","min","max","value","onChange","disabled"]);return(0,o.h)("input",_(T({},j),{type:"datetime-local",className:l()(g.datePicker,W),value:C(q),min:C(G),max:C($),onChange:J,disabled:R}))}function N(L){var U=L,{className:W,min:G,max:$,value:q,onChange:J,disabled:R}=U,j=d(U,["className","min","max","value","onChange","disabled"]);return h("input",_(T({},j),{type:"month",className:cn(css.datePicker,W),value:C(q),min:C(G),max:C($),onChange:J,disabled:R}))}function C(L){return L instanceof Date?`${L.getFullYear()}-${A(L.getMonth()+1)}-${A(L.getDate())}T${A(L.getHours())}:${A(L.getMinutes())}`:L}function A(L){const U=String(L);return U.length<2?`0${U}`:U}},48960:(z,u,e)=>{"use strict";e.d(u,{i:()=>T});var o=e(6400),f=e(94184),l=e.n(f),c=e(51126);const g={divider:"frontend-pencraft-Divider-module__divider--D3DC3","weight-1":"frontend-pencraft-Divider-module__weight-1--n69Cn","weight-2":"frontend-pencraft-Divider-module__weight-2--LUwfg","priority_detail-themed":"frontend-pencraft-Divider-module__priority_detail-themed--XBdX5",priority_detail:"frontend-pencraft-Divider-module__priority_detail--NqTSm"};var v=Object.defineProperty,E=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,O=(_,d,s)=>d in _?v(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,S=(_,d)=>{for(var s in d||(d={}))y.call(d,s)&&O(_,s,d[s]);if(E)for(var s of E(d))p.call(d,s)&&O(_,s,d[s]);return _},x=(_,d)=>{var s={};for(var w in _)y.call(_,w)&&d.indexOf(w)<0&&(s[w]=_[w]);if(_!=null&&E)for(var w of E(_))d.indexOf(w)<0&&p.call(_,w)&&(s[w]=_[w]);return s};const T=_=>{var d=_,{className:s,weight:w=1,priority:P="detail"}=d,I=x(d,["className","weight","priority"]);return(0,o.h)(c.hs,S({className:l()(g.divider,s,g[`priority_${P}`],w&&g[`weight-${w}`]),flex:"grow"},I),(0,o.h)("hr",null))}},51126:(z,u,e)=>{"use strict";e.d(u,{gq:()=>_,hs:()=>T,tu:()=>d});var o=e(6400),f=e(98661),l=e(84606),c=Object.defineProperty,g=Object.defineProperties,v=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,O=(s,w,P)=>w in s?c(s,w,{enumerable:!0,configurable:!0,writable:!0,value:P}):s[w]=P,S=(s,w)=>{for(var P in w||(w={}))y.call(w,P)&&O(s,P,w[P]);if(E)for(var P of E(w))p.call(w,P)&&O(s,P,w[P]);return s},x=(s,w)=>g(s,v(w));const T=(0,f.forwardRef)(function(w,P){return(0,o.h)(l.xu,x(S({},w),{display:w.display||"flex",ref:P}))}),_=T,d=(0,f.forwardRef)(function(w,P){return(0,o.h)(l.xu,x(S({},w),{display:w.display||"flex",direction:"column",ref:P}))})},94016:(z,u,e)=>{"use strict";e.d(u,{z:()=>D,o:()=>N});var o=e(6400),f=e(30396),l=e(5285),c=e(94184),g=e.n(c),v=e(62372);const E={hoverCardBase:"frontend-pencraft-HoverCard-module__hoverCardBase--ktRcg"};var y=Object.defineProperty,p=Object.defineProperties,O=Object.getOwnPropertyDescriptors,S=Object.getOwnPropertySymbols,x=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,_=(C,A,L)=>A in C?y(C,A,{enumerable:!0,configurable:!0,writable:!0,value:L}):C[A]=L,d=(C,A)=>{for(var L in A||(A={}))x.call(A,L)&&_(C,L,A[L]);if(S)for(var L of S(A))T.call(A,L)&&_(C,L,A[L]);return C},s=(C,A)=>p(C,O(A)),w=(C,A)=>{var L={};for(var U in C)x.call(C,U)&&A.indexOf(U)<0&&(L[U]=C[U]);if(C!=null&&S)for(var U of S(C))A.indexOf(U)<0&&T.call(C,U)&&(L[U]=C[U]);return L};const P=500,I=250,D=C=>{var A=C,{className:L="",children:U,layerClassName:W,dontStopPropagation:G}=A,$=w(A,["className","children","layerClassName","dontStopPropagation"]);const q=N(d({className:W},$));return(0,o.h)("div",s(d(d({className:L},q.triggerProps),q.hoverProps),{onClick:J=>{G||J.stopPropagation()}}),U,q.layer)};function N(C){var A=C,{disabled:L,onFetch:U,onOpen:W,content:G,className:$,layerOptions:q,hideOnScroll:J=!1}=A,R=w(A,["disabled","onFetch","onOpen","content","className","layerOptions","hideOnScroll"]);const[j,ie,le]=(0,v.XI)({delayEnter:P,delayLeave:I,hideOnScroll:J}),ye=(0,f.sO)(!1);(0,f.d4)(()=>{j&&(!ye.current&&U&&(ye.current=!0,U()),W&&W())},[j,U,W]);const[ue,oe]=(0,f.eJ)(!1),{triggerProps:te,layerProps:Z,renderLayer:re,layerSide:ae}=(0,v.sJ)(d({isOpen:L?!1:j,auto:!0,containerOffset:10,triggerOffset:8,snap:!1,possiblePlacements:["bottom-center","top-center","left-center","right-center"],preferX:"left",preferY:"bottom"},q));return{triggerProps:te,hoverProps:ie,layer:(j||ue)&&!L&&re((0,o.h)(l.u,{appear:!0,show:j&&!R.loading,beforeEnter:()=>oe(!0),afterLeave:()=>oe(!1),enter:"tw-transition-all tw-ease-smooth tw-duration-fast transform-gpu",enterFrom:"tw-opacity-0",enterTo:"tw-opacity-100",leave:"tw-transition-all tw-ease-smooth tw-duration-fast transform-gpu",leaveFrom:"tw-opacity-100",leaveTo:"tw-opacity-0"},(0,o.h)("div",d(d({onClick:()=>{le()},className:g()($,E.hoverCardBase)},Z),ie),G)))}}},56288:(z,u,e)=>{"use strict";e.d(u,{a:()=>x});var o=e(6400),f=e(94184),l=e.n(f);const c={circularLoader:"frontend-pencraft-Loader-module__circularLoader--KBZRF",rotate:"frontend-pencraft-Loader-module__rotate--qKuPb",size_sm:"frontend-pencraft-Loader-module__size_sm--fpy9_",size_md:"frontend-pencraft-Loader-module__size_md--aKhkY",size_lg:"frontend-pencraft-Loader-module__size_lg--GvCmC"};var g=Object.defineProperty,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?g(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,O=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},S=(_,d)=>{var s={};for(var w in _)E.call(_,w)&&d.indexOf(w)<0&&(s[w]=_[w]);if(_!=null&&v)for(var w of v(_))d.indexOf(w)<0&&y.call(_,w)&&(s[w]=_[w]);return s};const x=_=>{var d=_,{type:s="circular"}=d,w=S(d,["type"]);if(s==="circular")return(0,o.h)(T,O({},w));throw new Error("not implemented")},T=({className:_,size:d="md",dataTestId:s})=>(0,o.h)("div",{"data-testid":s,className:l()(c.circularLoader,c[`size_${d}`],_)})},76235:(z,u,e)=>{"use strict";e.d(u,{v2:()=>ue,sN:()=>oe});var o=e(6400),f=e(98661),l=e(30396),c=e(5285),g=e(94184),v=e.n(g),E=e(44396),y=e(71375),p=e(84040),O=e(51126),S=e(5668),x=e(43887);const T={root:"frontend-pencraft-ActionSheet-module__root--XmJTE",sheet:"frontend-pencraft-ActionSheet-module__sheet--QDxYu",items:"frontend-pencraft-ActionSheet-module__items--ByTuz",item:"frontend-pencraft-ActionSheet-module__item--kzs2M",destructive:"frontend-pencraft-ActionSheet-module__destructive--TNbOc",relative:"frontend-pencraft-ActionSheet-module__relative--WOknO"};var _=Object.defineProperty,d=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,P=(re,ae,se)=>ae in re?_(re,ae,{enumerable:!0,configurable:!0,writable:!0,value:se}):re[ae]=se,I=(re,ae)=>{for(var se in ae||(ae={}))s.call(ae,se)&&P(re,se,ae[se]);if(d)for(var se of d(ae))w.call(ae,se)&&P(re,se,ae[se]);return re},D=(re,ae)=>{var se={};for(var be in re)s.call(re,be)&&ae.indexOf(be)<0&&(se[be]=re[be]);if(re!=null&&d)for(var be of d(re))ae.indexOf(be)<0&&w.call(re,be)&&(se[be]=re[be]);return se};const N=(0,f.forwardRef)(({title:re,subtitle:ae,onClose:se,children:be,className:_e},pe)=>(0,o.h)(O.tu,{className:T.root,onClick:se},(0,o.h)(c.u.Child,{appear:!0,enter:"tw-transition-all tw-ease-smooth tw-duration-fast transform-gpu",enterFrom:"tw-translate-y-full tw-opacity-0",enterTo:"tw-translate-y-0 tw-opacity-100",leave:"tw-transition-all tw-ease-smooth tw-duration-fast transform-gpu",leaveFrom:"tw-translate-y-0 tw-opacity-100",leaveTo:"tw-translate-y-full tw-opacity-0"},(0,o.h)(O.tu,{className:v()(T.sheet,_e),ref:pe,onClick:me=>{me.stopPropagation()}},(0,o.h)(O.hs,{justifyContent:"space-between",alignItems:"center",borderBottom:"detail",paddingBottom:8},(0,o.h)(O.tu,null,(0,o.h)(x.xv.B3,{weight:"semibold"},re),(0,o.h)(x.xv.B4,{color:"secondary"},ae)),(0,o.h)(p.hU,{fill:"empty",onClick:()=>{se()},priority:"secondary"},(0,o.h)(y.Z,null))),(0,o.h)(O.tu,{paddingTop:8,overflowY:"auto",className:T.items},be)))));function C(re){var ae=re,{children:se,onClick:be,closeMenu:_e,icon:pe,className:me,priority:Te="primary",disabled:ve,hiddenInput:ce}=ae,Le=D(ae,["children","onClick","closeMenu","icon","className","priority","disabled","hiddenInput"]);const Ne=Le.href?"a":p.kG;return(0,o.h)(Ne,I({className:v()(T.item,T[Te],me,{[T.disabled]:!!ve,[T.relative]:!!ce}),resetCss:!0,onClick:He=>{be==null||be(He),_e==null||_e()}},Le),pe&&(0,o.cloneElement)(pe,{size:20,stroke:"var(--color-primary)"}),pe&&" ",(0,o.h)(x.xv.B4,{color:Te==="destructive"?"accent-red":"primary",weight:"medium",align:"left",flex:"fill"},se),ce&&(0,o.h)(S.U,null,ce))}var A=e(89581);const L={menu:"frontend-pencraft-Menu-module__menu--gljfP",menuItem:"frontend-pencraft-Menu-module__menuItem--tFPoF",disabled:"frontend-pencraft-Menu-module__disabled--KTi2u",destructive:"frontend-pencraft-Menu-module__destructive--xnxNR",relative:"frontend-pencraft-Menu-module__relative--tBxDI",icon:"frontend-pencraft-Menu-module__icon--I8jrn",text:"frontend-pencraft-Menu-module__text--jJpxe"};var U=Object.defineProperty,W=Object.defineProperties,G=Object.getOwnPropertyDescriptors,$=Object.getOwnPropertySymbols,q=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable,R=(re,ae,se)=>ae in re?U(re,ae,{enumerable:!0,configurable:!0,writable:!0,value:se}):re[ae]=se,j=(re,ae)=>{for(var se in ae||(ae={}))q.call(ae,se)&&R(re,se,ae[se]);if($)for(var se of $(ae))J.call(ae,se)&&R(re,se,ae[se]);return re},ie=(re,ae)=>W(re,G(ae)),le=(re,ae)=>{var se={};for(var be in re)q.call(re,be)&&ae.indexOf(be)<0&&(se[be]=re[be]);if(re!=null&&$)for(var be of $(re))ae.indexOf(be)<0&&J.call(re,be)&&(se[be]=re[be]);return se};function ye(re){return typeof re.type=="string"||re.type.$$typeof===Symbol.for("react.forward_ref")}const ue=(0,f.forwardRef)((re,ae)=>{var se=re,{trigger:be,children:_e,ariaLabel:pe="View more",hideOnScroll:me,layerOptions:Te,layerClassName:ve,onOpen:ce,onClose:Le,useMobileBottomSheet:Ne=!1,mobileBottomSheetTitle:He,mobileBottomSheetSubtitle:ze,stopPropagation:Xe=!1,maxHeight:_t=295,padding:we=8,disableMenu:We=!1}=se,Ie=le(se,["trigger","children","ariaLabel","hideOnScroll","layerOptions","layerClassName","onOpen","onClose","useMobileBottomSheet","mobileBottomSheetTitle","mobileBottomSheetSubtitle","stopPropagation","maxHeight","padding","disableMenu"]);ye(be)||console.error("Menu trigger must be a valid component that forwards a ref that react-laag uses, or a native dom element. See Button/IconButton for example, and preferably use those.");const tt=(0,E.XA)(),{triggerProps:et,layerProps:ht,renderLayer:vt,isOpen:Lt,setOpen:$t}=(0,A.x)({layerOptions:j({auto:!0,possiblePlacements:["bottom-start","bottom-center","bottom-end","top-start","top-center","top-end"],preferY:"bottom"},Te),hideOnScroll:me&&!(Ne&&tt)}),[yt,he]=(0,l.eJ)(!1),je=()=>{$t(!1),Le&&Le()},st=(0,o.toChildArray)(_e).map(De=>(0,o.cloneElement)(De,{useMobileBottomSheet:Ne,closeMenu:je}));return(0,o.h)(o.Fragment,null,(0,o.cloneElement)(be,ie(j({},et),{ariaLabel:pe,onClick:De=>{De.preventDefault(),Xe&&De.stopPropagation(),We||$t(!Lt),!Lt&&ce&&ce(),Lt&&Le&&Le()}})),(Lt||yt)&&vt(Ne&&tt?(0,o.h)(c.u,{appear:!0,show:Lt,beforeEnter:()=>he(!0),afterLeave:()=>he(!1),enter:"tw-transition-all tw-ease-smooth tw-duration-fast transform-gpu",enterFrom:"tw-opacity-0",enterTo:"tw-opacity-100",leave:"tw-transition-all tw-ease-smooth tw-duration-fast transform-gpu",leaveFrom:"tw-opacity-100",leaveTo:"tw-opacity-0"},(0,o.h)("div",j(j({},ht),Ie),(0,o.h)(N,{title:He,subtitle:ze,onClose:je,ref:ae,className:ve},st))):(0,o.h)(c.u,{appear:!0,unmount:!1,show:Lt,beforeEnter:()=>he(!0),afterLeave:()=>he(!1),className:"tw-duration-fast"},(0,o.h)("div",j(j({},ht),Ie),(0,o.h)(c.u,{appear:!0,unmount:!1,show:Lt,className:"transform-gpu tw-transition-all tw-duration-fast tw-ease-smooth",enterFrom:"tw-opacity-0 tw--translate-y-2",enterTo:"tw-opacity-100 tw-translate-y-0",leaveFrom:"tw-opacity-100 tw--translate-y-0",leaveTo:"tw-opacity-0 tw--translate-y-2"},(0,o.h)(te,j({className:ve,ref:ae,padding:we},!me&&{style:{maxHeight:_t,overflowY:"auto"}}),st))))))}),oe=re=>{var ae=re,{useMobileBottomSheet:se}=ae,be=le(ae,["useMobileBottomSheet"]);const _e=(0,E.XA)();return se&&_e?(0,o.h)(C,j({},be)):(0,o.h)(Z,j({},be))},te=(0,f.forwardRef)((re,ae)=>{var se=re,{className:be}=se,_e=le(se,["className"]);return(0,o.h)(O.tu,j({className:v()(L.menu,"elevated",be),gap:8,bg:"elevated",shadow:"md",border:"detail",radius:12,ref:ae},_e))}),Z=re=>{var ae=re,{children:se,onClick:be,closeMenu:_e,icon:pe,rightIcon:me,suffix:Te,priority:ve="primary",className:ce,disabled:Le,href:Ne,download:He,hiddenInput:ze}=ae,Xe=le(ae,["children","onClick","closeMenu","icon","rightIcon","suffix","priority","className","disabled","href","download","hiddenInput"]);const _t=Ne?"a":p.kG;return(0,o.h)(_t,j({className:v()(L.menuItem,L[ve],ce,{[L.disabled]:!!Le,[L.relative]:!!ze}),resetCss:!0,onClick:we=>{Le||(be&&be(we),_e&&_e())},href:Le?"javascript:void(0)":Ne,download:He},Xe),pe&&(0,o.cloneElement)(pe,{size:24,className:v()(L.icon,pe.props.className)}),(0,o.h)(x.xv.B4,{color:ve==="destructive"?"accent-red":"primary",className:L.text,weight:"semibold",align:"left"},se),Te,me&&(0,o.h)(o.Fragment,null,(0,o.h)(O.hs,{style:{flexGrow:1}}),me&&(0,o.cloneElement)(me,{size:24,className:v()(L.icon,me.props.className)})),ze&&(0,o.h)(S.U,null,ze))}},53940:(z,u,e)=>{"use strict";e.d(u,{u:()=>d,f:()=>T});var o=e(6400),f=e(98661),l=e(5285),c=e(13599),g=e(94184),v=e.n(g),E=e(50308),y=e.n(E),p=e(44396),O=e(84606),S=e(21958);const x={container:"frontend-pencraft-Modal-Modal-module__container--I_osU",full:"frontend-pencraft-Modal-Modal-module__full--zg0Lb",default:"frontend-pencraft-Modal-Modal-module__default--wGTXu",fullscreenMobile:"frontend-pencraft-Modal-Modal-module__fullscreenMobile--VL76f",dynamicMobile:"frontend-pencraft-Modal-Modal-module__dynamicMobile--ujclO"},T=(0,S.L)("sm:tw-max-h-[60vh] tw-overflow-auto tw-px-4 tw-py-5 tw-font-body"),_=({children:s})=>(0,o.h)("div",{className:"tw-max-h-5/6 tw-flex tw-min-h-full tw-items-center tw-justify-center"},s),d=({isOpen:s,onClose:w=()=>{},children:P,includeBackdrop:I=!0,position:D="default",opacity:N="medium",testId:C="modal",className:A,onEscape:L,fullscreenMobile:U,overflow:W,width:G=440,disableCloseOnBackdropClick:$=!1,initialFocus:q})=>{const J=(0,p.XA)(),R=j=>{const{code:ie}=j;L&&ie==="Escape"&&L(j)};return(0,o.h)(l.u,{show:s,as:f.Fragment},(0,o.h)(c.V,{onMouseDown:j=>j.stopPropagation(),onMouseUp:j=>j.stopPropagation(),onClick:j=>j.stopPropagation(),"data-testid":C,as:"div",className:"tw-fixed tw-inset-0 tw-z-30 tw-overflow-y-auto",onClose:$?y():w,onKeyDown:L?R:void 0,initialFocus:q},(0,o.h)(_,null,I&&(0,o.h)(l.u.Child,{enter:"tw-transition tw-ease-smooth tw-duration-fast",enterFrom:"tw-opacity-0",enterTo:"tw-opacity-100",leave:"tw-transition tw-ease-smooth tw-duration-fast",leaveFrom:"tw-opacity-100",leaveTo:"tw-opacity-0"},(0,o.h)("div",{className:N==="dark"?"tw-fixed tw-inset-0 tw-bg-black tw-opacity-80":"tw-fixed tw-inset-0 tw-bg-black tw-opacity-50","aria-hidden":!0})),(0,o.h)(l.u.Child,{as:f.Fragment,enter:"tw-transition tw-ease-smooth tw-duration-fast",enterFrom:"tw-opacity-0 tw-translate-y-3",enterTo:"tw-opacity-100 tw-translate-y-0",leave:"tw-transition tw-ease-smooth tw-duration-fast",leaveFrom:"tw-opacity-100 tw-translate-y-0",leaveTo:"tw-opacity-0 tw-translate-y-3"},(0,o.h)(c.V.Panel,{className:v()(A,(0,O.yK)({display:"flex"}),x.container,x[D],U?x.fullscreenMobile:x.dynamicMobile),style:{width:J||D==="full"?void 0:G,overflow:W}},P)))))}},29354:(z,u,e)=>{"use strict";e.d(u,{m:()=>O});var o=e(6400),f=e(94184),l=e.n(f),c=Object.defineProperty,g=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,y=(T,_,d)=>_ in T?c(T,_,{enumerable:!0,configurable:!0,writable:!0,value:d}):T[_]=d,p=(T,_)=>{for(var d in _||(_={}))v.call(_,d)&&y(T,d,_[d]);if(g)for(var d of g(_))E.call(_,d)&&y(T,d,_[d]);return T};const O=T=>T.alignment==="center"?(0,o.h)(x,p({},T)):(0,o.h)(S,p({},T)),S=({primaryButton:T,secondaryButton:_,destructiveButton:d,includeDivider:s,className:w})=>(0,o.h)("div",{className:l()("tw-flex tw-justify-end tw-gap-2 tw-p-4",{"tw-shadow-detail-inset":s},w)},d&&(0,o.cloneElement)(d,{className:l()("tw-mr-auto",d.props.className)}),_,T),x=({includeDivider:T,primaryButton:_,secondaryButton:d,className:s})=>(0,o.h)("div",{className:l()("tw-flex tw-flex-col tw-gap-2 tw-py-4 tw-px-4",{"tw-shadow-detail-inset":T},s)},_,d)},28079:(z,u,e)=>{"use strict";e.d(u,{r:()=>p,x:()=>y});var o=e(6400),f=e(13599),l=e(94184),c=e.n(l),g=e(26059),v=e(33705),E=e(21958);const y=({isModal:O=!0,onClose:S,includeClose:x=!1,bottomBorder:T,title:_,description:d,as:s="h2",usePubThemeForTitle:w=!1,className:P,pagination:I})=>(0,o.h)("div",{className:c()("tw-grid tw-grid-cols-[auto_auto] tw-items-center tw-justify-between tw-pt-6",P,{"tw-px-4":!I,"tw-border-0 tw-border-b tw-border-solid tw-border-substack-detail tw-pb-6":T})},!_&&!I&&(0,o.h)(v.Z,{alt:"Substack icon",height:24}),I&&(0,o.h)("label",{className:"tw-text-[12px] tw-font-medium tw-leading-5",role:"label",title:"pagination"},I[0]," OF ",I[1]),x&&(0,o.h)("button",{className:"tw-col-start-2 tw-flex tw-cursor-pointer tw-border-none tw-bg-transparent",role:"button",title:"Close",onClick:S,"aria-label":"close"},(0,o.h)(g.Z,null)),_&&O&&(0,o.h)(f.V.Title,{as:s,className:`tw-col-start-1 tw-row-start-1 tw-my-0 tw-font-title tw-text-h2 ${w?"tw-text-pub-primary-text":" tw-text-substack-primary"}`},_),d&&O&&(0,o.h)(f.V.Description,{as:"span",className:"tw-col-start-1 tw-mt-2 tw-font-body tw-text-sm tw-text-substack-secondary"},d),_&&!O&&(0,o.h)(p,{className:"tw-col-start-1 tw-row-start-1"},_)&&(0,o.createElement)(s,{className:`tw-col-start-1 tw-row-start-1 tw-my-0 tw-font-title ${w?"tw-text-pub-primary-text":" tw-text-substack-primary"}`},_),d&&!O&&(0,o.h)("span",{className:"tw-col-start-1 tw-mt-1 tw-font-body tw-text-sm tw-text-substack-secondary"},d)&&(0,o.createElement)("span",{className:"tw-mt-1 tw-col-start-1 tw-font-body tw-text-sm tw-text-substack-secondary"},d)),p=(0,E.L)("tw-my-0 tw-font-title","h2")},92106:(z,u,e)=>{"use strict";var o=e(6400),f=e(94184),l=e(51126),c=e(43887);const g={clickable:"frontend-pencraft-Placeholder-module__clickable--fkeYp",bg_secondary:"frontend-pencraft-Placeholder-module__bg_secondary--gugNB","bg_secondary-themed":"frontend-pencraft-Placeholder-module__bg_secondary-themed--QP16b",bg_primary:"frontend-pencraft-Placeholder-module__bg_primary--qtSWk",text_secondary:"frontend-pencraft-Placeholder-module__text_secondary--YH0Gu","text_pub-secondary-text":"frontend-pencraft-Placeholder-module__text_pub-secondary-text--qMi_Z"};var v=Object.defineProperty,E=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,O=(_,d,s)=>d in _?v(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,S=(_,d)=>{for(var s in d||(d={}))y.call(d,s)&&O(_,s,d[s]);if(E)for(var s of E(d))p.call(d,s)&&O(_,s,d[s]);return _},x=(_,d)=>{var s={};for(var w in _)y.call(_,w)&&d.indexOf(w)<0&&(s[w]=_[w]);if(_!=null&&E)for(var w of E(_))d.indexOf(w)<0&&p.call(_,w)&&(s[w]=_[w]);return s};const T=_=>{var d=_,{icon:s,text:w,textColor:P="secondary",bgColor:I="secondary",paddingX:D=24,paddingY:N=24,border:C,className:A,onClick:L}=d,U=x(d,["icon","text","textColor","bgColor","paddingX","paddingY","border","className","onClick"]);return h(FlexBox,S({sizing:"border-box",alignItems:"center",justifyContent:"center",paddingX:D,paddingY:N,radius:12,border:C,className:cn(A,css.placeholder,css[`bg_${I}`],css[`text_${P}`],{[css.clickable]:!!L}),onClick:L},U),h(FlexColumn,{gap:8,alignItems:"center"},s,h(Text.B4,{color:P,className:css.text,weight:"bold"},w)))}},65414:(z,u,e)=>{"use strict";var o=e(6400),f=e(94184),l=e.n(f),c=e(30058),g=Object.defineProperty,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(_,d,s)=>d in _?g(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,O=(_,d)=>{for(var s in d||(d={}))E.call(d,s)&&p(_,s,d[s]);if(v)for(var s of v(d))y.call(d,s)&&p(_,s,d[s]);return _},S=(_,d)=>{var s={};for(var w in _)E.call(_,w)&&d.indexOf(w)<0&&(s[w]=_[w]);if(_!=null&&v)for(var w of v(_))d.indexOf(w)<0&&y.call(_,w)&&(s[w]=_[w]);return s};const x=_=>{var d=_,{color:s="default",accessibilityLabel:w="Toggle setting",classNames:P,checked:I,small:D=!1,preflightClassName:N}=d,C=S(d,["color","accessibilityLabel","classNames","checked","small","preflightClassName"]);const A=s==="default"?"tw-bg-accent-green":"tw-bg-pub-accent";return h(Preflight,{className:N},h(HeadlessSwitch,O({className:cn(I?A:"tw-bg-neutral-400",D?"tw-h4 tw-w-7":"tw-h-6 tw-w-11","tw-relative tw-inline-flex tw-flex-shrink-0 tw-cursor-pointer tw-rounded-full tw-border-2 tw-border-transparent tw-transition-colors tw-duration-200 tw-ease-smooth disabled:tw-bg-neutral-200",P),checked:I},C),h("span",{className:"tw-sr-only"},w),h("span",{"aria-hidden":"true",className:cn(I?`${D?"tw-translate-x-3":"tw-translate-x-5"}`:"tw-translate-x-0",D?"tw-h-3 tw-w-3":"tw-h-5 tw-w-5","tw-pointer-events-none tw-inline-block tw-transform tw-rounded-full tw-bg-white tw-shadow tw-ring-0 tw-transition tw-duration-200 tw-ease-smooth")})))};var T=null},43887:(z,u,e)=>{"use strict";e.d(u,{Zx:()=>N,xv:()=>D,hh:()=>_e});var o=e(6400),f=e(94184),l=e.n(f),c=e(28488);const g=pe=>{const me=document.createElement("ROOT");return me.innerHTML=pe,me},v=(pe,me,Te)=>{let ve="";const ce=Ne=>Array.isArray(Ne)&&Ne.length===2&&Ne[1]===null;return(Array.isArray(pe)&&!ce(pe)?pe:[pe]).forEach(Ne=>{if(!Ne)ve+="";else if(Ne.type){const He=me.length+1;me.push(Ne),ve+=`<C${He}>${v(Ne.props.children||[],me,Te)}</C${He}>`}else if(ce(Ne)){const He=Ne[0];ve+=`%${Te.length+1}`,Te.push(He)}else ve+=Ne}),ve},E=(pe,me)=>{const Te=g(pe),ve=ce=>{const Le=[];return ce.forEach(Ne=>{var He,ze;if((He=Ne.nodeName)!=null&&He.startsWith("C")){const Xe=Number(Ne.nodeName.replace("C",""))-1,_t=me[Xe];if(!_t)return;const we=(ze=Ne.childNodes)!=null&&ze.length?ve(Ne.childNodes):[],We=(0,o.cloneElement)(_t,_t.props,we);Le.push(We)}else{const Xe=Ne.data||"";Le.push(Xe)}}),Le};return ve(Te.childNodes||[])};var y=e(84606),p=e(28614),O=Object.defineProperty,S=Object.defineProperties,x=Object.getOwnPropertyDescriptors,T=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,s=(pe,me,Te)=>me in pe?O(pe,me,{enumerable:!0,configurable:!0,writable:!0,value:Te}):pe[me]=Te,w=(pe,me)=>{for(var Te in me||(me={}))_.call(me,Te)&&s(pe,Te,me[Te]);if(T)for(var Te of T(me))d.call(me,Te)&&s(pe,Te,me[Te]);return pe},P=(pe,me)=>S(pe,x(me)),I=(pe,me)=>{var Te={};for(var ve in pe)_.call(pe,ve)&&me.indexOf(ve)<0&&(Te[ve]=pe[ve]);if(pe!=null&&T)for(var ve of T(pe))me.indexOf(ve)<0&&d.call(pe,ve)&&(Te[ve]=pe[ve]);return Te};const D=pe=>{var me=pe,{className:Te,align:ve,size:ce,weight:Le,transform:Ne}=me,He=I(me,["className","align","size","weight","transform"]);He=P(w({},He),{textAlign:ve!=null?ve:He.textAlign,textTransform:Ne!=null?Ne:He.textTransform,fontSize:ce!=null?ce:He.fontSize,fontWeight:Le!=null?Le:He.fontWeight});const{iString:ze,language:Xe}=(0,c.M1)();let _t=He.children;if(He.translated&&Xe!=="en"){const we=[],We=[],Ie=v(He.children,we,We),tt=ze(Ie,...We);if(tt&&tt!==Ie)try{_t=E(tt,we)}catch(et){console.log(`Could not translate ${Ie}`,et)}}return(0,o.h)(y.xu,P(w({className:l()(p.Z.reset,Te)},He),{children:_t}))},N=pe=>(0,o.h)(D,w({as:"span"},pe)),C=pe=>{var me=pe,{children:Te,className:ve}=me,ce=I(me,["children","className"]);return(0,o.h)(D,w({as:"h1",font:"display",size:32,weight:"bold",color:"primary",className:l()(p.Z.header1,ve)},ce),Te)},A=pe=>{var me=pe,{children:Te,className:ve}=me,ce=I(me,["children","className"]);return(0,o.h)(D,w({as:"h2",font:"display",size:24,weight:"bold",color:"primary",className:l()(p.Z.header2,ve)},ce),Te)},L=pe=>{var me=pe,{children:Te,className:ve}=me,ce=I(me,["children","className"]);return(0,o.h)(D,w({as:"h3",font:"display",size:20,lineHeight:24,weight:"bold",color:"primary",className:l()(p.Z.header3,ve)},ce),Te)},U=pe=>{var me=pe,{children:Te,className:ve}=me,ce=I(me,["children","className"]);return(0,o.h)(D,w({as:"h4",font:"text",size:16,lineHeight:20,weight:"bold",color:"primary",className:l()(p.Z.header4,ve)},ce),Te)},W=(0,y.E7)({font:"display",fontSize:20,lineHeight:30,fontWeight:"normal",color:"primary",className:p.Z.body1}),G=pe=>{var me=pe,{children:Te,className:ve}=me,ce=I(me,["children","className"]);return(0,o.h)(D,w({font:"text",size:18,lineHeight:30,weight:"normal",color:"primary",className:l()(p.Z.body2,ve)},ce),Te)},$=pe=>{var me=pe,{children:Te,className:ve}=me,ce=I(me,["children","className"]);return(0,o.h)(D,w({font:"text",size:16,lineHeight:24,weight:"normal",color:"primary",className:l()(p.Z.body3,ve)},ce),Te)},q=pe=>{var me=pe,{children:Te,className:ve}=me,ce=I(me,["children","className"]);return(0,o.h)(D,w({font:"text",size:14,lineHeight:20,weight:"normal",color:"primary",className:l()(p.Z.body4,ve)},ce),Te)},J=pe=>{var me=pe,{children:Te,className:ve}=me,ce=I(me,["children","className"]);return(0,o.h)(D,w({color:"secondary",font:"meta",size:11,lineHeight:20,weight:"medium",transform:"uppercase",className:l()(p.Z.meta,ve)},ce),Te)},R=pe=>{var me=pe,{children:Te,className:ve}=me,ce=I(me,["children","className"]);return(0,o.h)(D,w({font:"digit",size:12,lineHeight:20,weight:"bold",transform:"uppercase",className:l()(p.Z.digit,ve)},ce),Te)},j=pe=>(0,o.h)(D,w({font:"text",lineHeight:20,size:14,weight:"medium",color:"substack"},pe)),ie=pe=>{var me=pe,{children:Te,className:ve}=me,ce=I(me,["children","className"]);return(0,o.h)(D,w({font:"text",size:12,lineHeight:20,weight:"normal",color:"secondary",className:l()(ve)},ce),Te)},le=pe=>{var me=pe,{children:Te,className:ve}=me,ce=I(me,["children","className"]);return(0,o.h)(D,w({font:"text",color:"primary",className:l()(p.Z.marketingBody,ve)},ce),Te)},ye=pe=>{var me=pe,{children:Te,className:ve}=me,ce=I(me,["children","className"]);return(0,o.h)(D,w({as:"h1",color:"primary",weight:"normal",className:l()(p.Z.marketingHeading1xl,ve)},ce),Te)},ue=pe=>{var me=pe,{children:Te,className:ve}=me,ce=I(me,["children","className"]);return(0,o.h)(D,w({as:"h1",color:"primary",weight:"normal",className:l()(p.Z.marketingHeading1,ve)},ce),Te)},oe=pe=>{var me=pe,{children:Te,className:ve}=me,ce=I(me,["children","className"]);return(0,o.h)(D,w({as:"h3",color:"primary",weight:"medium",className:l()(p.Z.marketingHeading2,ve)},ce),Te)},te=pe=>{var me=pe,{children:Te,className:ve}=me,ce=I(me,["children","className"]);return(0,o.h)(D,w({as:"h3",color:"primary",weight:"medium",className:l()(p.Z.marketingHeading3,ve)},ce),Te)},Z=pe=>{var me=pe,{children:Te,className:ve}=me,ce=I(me,["children","className"]);return(0,o.h)(D,w({as:"h4",color:"primary",weight:"medium",className:l()(p.Z.marketingHeading4,ve)},ce),Te)},re=pe=>{var me=pe,{children:Te,className:ve}=me,ce=I(me,["children","className"]);return(0,o.h)(D,w({as:"h5",color:"primary",weight:"normal",className:l()(p.Z.marketingHeading5,ve)},ce),Te)},ae=pe=>{var me=pe,{children:Te,className:ve}=me,ce=I(me,["children","className"]);return(0,o.h)(D,w({as:"h4",color:"primary",weight:"normal",align:"center",className:l()(p.Z.marketingQuote,ve)},ce),Te)},se=pe=>{var me=pe,{children:Te,className:ve}=me,ce=I(me,["children","className"]);return(0,o.h)(D,w({as:"h4",color:"primary",weight:"normal",size:28,className:l()(p.Z.marketingSubtitle,ve)},ce),Te)},be=pe=>{var me=pe,{children:Te,className:ve}=me,ce=I(me,["children","className"]);return(0,o.h)(D,w({as:"h1",color:"primary",weight:"normal",className:l()(p.Z.stat,ve)},ce),Te)},_e=(0,y.E7)({as:"a",decoration:"hover-underline"});D.H1=C,D.H2=A,D.H3=L,D.H4=U,D.B1=W,D.B2=G,D.B3=$,D.B4=q,D.Detail=ie,D.MarketingBody=le,D.MarketingHeading1xl=ye,D.MarketingHeading1=ue,D.MarketingHeading2=oe,D.MarketingHeading3=te,D.MarketingHeading4=Z,D.MarketingHeading5=re,D.MarketingQuote=ae,D.MarketingSubtitle=se,D.Meta=J,D.Stat=be,D.Digit=R,D.Button=j},75425:(z,u,e)=>{"use strict";e.d(u,{FN:()=>N,Us:()=>C,VW:()=>j,dd:()=>ie,lL:()=>A,pm:()=>le});var o=e(6400),f=e(98661),l=e(30396),c=e(5285),g=e(94184),v=e.n(g),E=e(71375),y=e(13833),p=e(21958),O=e(92271),S=e(51126),x=Object.defineProperty,T=Object.defineProperties,_=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,P=(ye,ue,oe)=>ue in ye?x(ye,ue,{enumerable:!0,configurable:!0,writable:!0,value:oe}):ye[ue]=oe,I=(ye,ue)=>{for(var oe in ue||(ue={}))s.call(ue,oe)&&P(ye,oe,ue[oe]);if(d)for(var oe of d(ue))w.call(ue,oe)&&P(ye,oe,ue[oe]);return ye},D=(ye,ue)=>T(ye,_(ue));function N({text:ye,cta:ue,onAccept:oe,href:te,onClose:Z,Icon:re,className:ae}){return(0,o.h)(U,{className:v()("tw-items-center",ae)},(0,o.h)(S.gq,{className:"tw-flex-1",gap:12},re&&(0,o.h)(q,{Icon:re}),(0,o.h)(W,null,ye)),(0,o.h)(S.gq,{className:"tw-flex-none",gap:12},ue&&(typeof ue=="string"?(te||oe)&&(0,o.h)(O.z,{look:"flex",onClick:se=>{Z==null||Z(),oe==null||oe(se)},href:te},(0,o.h)(y.Av,{className:"tw-text-dark-secondary"},ue)):ue),(0,o.h)("div",{className:"tw-w-px tw-self-stretch tw-bg-dark-detail"}),(0,o.h)($,{onClick:Z})))}function C({title:ye,body:ue,buttons:oe,onClose:te,Icon:Z}){return(0,o.h)(U,{className:"tw-max-w-md"},Z&&(0,o.h)(q,{Icon:Z}),(0,o.h)(S.tu,{className:"tw-flex-0-5",gap:8},(0,o.h)(S.tu,{className:"tw-flex-0-5",gap:4},(0,o.h)(W,null,ye),(0,o.h)(G,null,ue)),oe&&(0,o.h)(S.gq,{gap:24},oe)),(0,o.h)($,{onClick:te}))}function A(ye){return(0,o.h)(O.z,I({look:"flex",className:"tw-h-9 tw-items-center"},ye))}function L(ye){return h("div",{className:J},h(N,I({},ye)))}const U=(0,p.L)("tw-flex tw-gap-8 tw-rounded-lg tw-px-4 tw-py-4 tw-border tw-border-solid tw-border-tooltip-detail tw-bg-tooltip-bg tw-drop-shadow-md"),W=(0,p.L)("min-h-5 tw-flex-1-1 tw-font-medium tw-text-dark-primary tw-items-center",y.Hj),G=(0,p.L)("min-h-5 tw-flex-1 0 tw-text-dark-secondary tw-items-center",y.Hj);function $({onClick:ye}){return(0,o.h)(O.z,{look:"flex",onClick:ye},(0,o.h)(E.Z,{className:"tw-stroke-dark-secondary",strokeWidth:1.5,size:20}))}function q({Icon:ye}){return(0,o.h)(ye,{className:"tw-shrink-0 tw-basis-5 tw-stroke-dark-primary",strokeWidth:1.5,size:20})}const J="tw-fixed tw-bottom-2.5 tw-right-2.5 tw-left-2.5 md:tw-left-auto md:tw-bottom-5 md:tw-right-5 md:tw-pl-4 tw-z-40",R=(0,o.createContext)({popToast:()=>{throw new Error("Popping toast requires a ToastProvider.")},addOffset:()=>{}});function j({children:ye}){const[ue,oe]=(0,l.eJ)(null),[te,Z]=(0,l.eJ)("hidden"),[re,ae]=(0,l.eJ)(0),se=(0,l.sO)(null),be=()=>{Z("hidden")},_e=(me,{ttl:Te=5e3}={})=>{oe({element:me({onClose:be}),ttl:Te}),Z("visible"),se.current!=null&&clearTimeout(se.current),se.current=Te===null?null:setTimeout(be,Te)},pe=me=>{ae(Math.min(re+me,0))};return(0,o.h)(R.Provider,{value:{popToast:_e,addOffset:pe}},ye,(0,o.h)("div",{className:J,style:{transform:`translateY(${re}px)`}},(0,o.h)(c.u,{appear:!0,show:!!ue&&te==="visible",enter:"tw-transition-all tw-duration-fast transform-gpu",enterFrom:"tw-opacity-0 tw-translate-y-4",enterTo:"tw-opacity-100 tw-translate-y-0",leave:"tw-transition-all tw-duration-fast transform-gpu",leaveFrom:"tw-opacity-100 tw-translate-y-0",leaveTo:"tw-opacity-0 tw-translate-y-4",onMouseEnter:()=>se.current!=null&&clearTimeout(se.current),onMouseLeave:()=>{se.current!=null&&clearTimeout(se.current),ue&&(se.current=ue.ttl===null?null:setTimeout(be,ue.ttl))}},ue==null?void 0:ue.element)))}const ie=ye=>{const ue=(0,f.forwardRef)((oe,te)=>{const Z=le();return(0,o.h)(ye,D(I(I({},Z),oe),{ref:te}))});return ue.displayName=`withToastContext(${ye.name||ye.displayName||"Anonymous"})`,ue};function le(){return(0,l.qp)(R)}},92630:(z,u,e)=>{"use strict";e.d(u,{u:()=>P,_:()=>I});var o=e(6400),f=e(51126),l=e(25666),c=e(43887);const g={tooltip:"frontend-pencraft-Tooltip-module__tooltip--l28SA",tooltipContent:"frontend-pencraft-Tooltip-module__tooltipContent--lpNDB",shortcutKeys:"frontend-pencraft-Tooltip-module__shortcutKeys--olyP3",shortcutKey:"frontend-pencraft-Tooltip-module__shortcutKey--gTb7r"};var v=Object.defineProperty,E=Object.defineProperties,y=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,x=(C,A,L)=>A in C?v(C,A,{enumerable:!0,configurable:!0,writable:!0,value:L}):C[A]=L,T=(C,A)=>{for(var L in A||(A={}))O.call(A,L)&&x(C,L,A[L]);if(p)for(var L of p(A))S.call(A,L)&&x(C,L,A[L]);return C},_=(C,A)=>E(C,y(A)),d=(C,A)=>{var L={};for(var U in C)O.call(C,U)&&A.indexOf(U)<0&&(L[U]=C[U]);if(C!=null&&p)for(var U of p(C))A.indexOf(U)<0&&S.call(C,U)&&(L[U]=C[U]);return L};const s=["top-start","top-center","top-end","bottom-start","bottom-center","bottom-end"],w=["left-start","left-center","left-end","right-start","right-center","right-end"],P=C=>{var A=C,{children:L,text:U,as:W="span",icon:G,hotkeys:$,preferPlacement:q="top-center",disabled:J,dangerouslySetTooltipZIndex:R}=A,j=d(A,["children","text","as","icon","hotkeys","preferPlacement","disabled","dangerouslySetTooltipZIndex"]);const{layerProps:ie,triggerProps:le,transitionProps:ye,renderLayer:ue,shouldShow:oe}=(0,l.l)({layerOptions:{placement:q,possiblePlacements:w.includes(q)?w:s}}),te=ie,{style:Z}=te,re=d(te,["style"]);return J?(0,o.h)(o.Fragment,null,L):(0,o.h)(o.Fragment,null,(0,o.h)(W,T(T({},le),j),L),oe&&ue((0,o.h)(I,{transitionProps:ye,tooltipProps:_(T({},re),{style:_(T({},Z),{maxWidth:350,zIndex:R||Number.MAX_SAFE_INTEGER})}),icon:G,text:U,hotkeys:$})))};function I({transitionProps:C,tooltipProps:A,icon:L,text:U,hotkeys:W}){const G=!!(W!=null&&W.length)&&(0,o.h)(D,null,W.map(($,q)=>(0,o.h)(N,{key:q},$)));return(0,o.h)("div",T({},A),(0,o.h)(l.x,T({},C),(0,o.h)("div",{className:g.tooltip},(0,o.h)(f.gq,{alignItems:"center",gap:8,className:g.tooltipContent},L&&(0,o.h)(o.Fragment,null,(0,o.cloneElement)(L,{size:20})," "),U,G))))}function D({children:C}){return(0,o.h)(c.xv,{as:"div",className:g.shortcutKeys,size:12,font:"text",weight:"medium",transform:"uppercase"},C)}function N({children:C}){return(0,o.h)(f.hs,{className:g.shortcutKey,alignItems:"center",justifyContent:"center"},(0,o.h)(c.xv.Meta,null,C))}},86605:(z,u,e)=>{"use strict";e.d(u,{P:()=>O});var o=e(6400),f=e(71375),l=e(84040),c=Object.defineProperty,g=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,y=(S,x,T)=>x in S?c(S,x,{enumerable:!0,configurable:!0,writable:!0,value:T}):S[x]=T,p=(S,x)=>{for(var T in x||(x={}))v.call(x,T)&&y(S,T,x[T]);if(g)for(var T of g(x))E.call(x,T)&&y(S,T,x[T]);return S};function O(S){return(0,o.h)(l.hU,p({rounded:!0},S),(0,o.h)(f.Z,null))}},13833:(z,u,e)=>{"use strict";e.d(u,{xv:()=>P,Hj:()=>w,Av:()=>D,gx:()=>I});var o=e(6400),f=e(94184),l=e.n(f),c=e(19696);const g={reset:"frontend-pencraft-common-module__reset--IftZ_","color-primary":"frontend-pencraft-common-module__color-primary--YyVsd","color-secondary":"frontend-pencraft-common-module__color-secondary--XzfEj"};var v=Object.defineProperty,E=Object.defineProperties,y=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,x=(N,C,A)=>C in N?v(N,C,{enumerable:!0,configurable:!0,writable:!0,value:A}):N[C]=A,T=(N,C)=>{for(var A in C||(C={}))O.call(C,A)&&x(N,A,C[A]);if(p)for(var A of p(C))S.call(C,A)&&x(N,A,C[A]);return N},_=(N,C)=>E(N,y(C)),d=(N,C)=>{var A={};for(var L in N)O.call(N,L)&&C.indexOf(L)<0&&(A[L]=N[L]);if(N!=null&&p)for(var L of p(N))C.indexOf(L)<0&&S.call(N,L)&&(A[L]=N[L]);return A};const s=(0,c.L)("tw-font-title tw-text-h2 tw-leading-h2 tw-tracking-h2 tw-font-bold"),w=(0,c.L)("tw-text-sm tw-leading-sm tw-tracking-sm tw-font-body");function P(N){var C=N,{className:A,color:L,as:U="span"}=C,W=d(C,["className","color","as"]);return(0,o.h)(U,_(T({},W),{className:l()(A,L&&g[`color-${L}`])}))}const I="tw-font-body tw-text-sm tw-leading-sm tw-tracking-sm tw-font-semibold",D=(0,c.L)(I,P)},92271:(z,u,e)=>{"use strict";e.d(u,{z:()=>T});var o=e(6400),f=e(94184),l=e.n(f),c=e(84040),g=e(13833),v=Object.defineProperty,E=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,O=(P,I,D)=>I in P?v(P,I,{enumerable:!0,configurable:!0,writable:!0,value:D}):P[I]=D,S=(P,I)=>{for(var D in I||(I={}))y.call(I,D)&&O(P,D,I[D]);if(E)for(var D of E(I))p.call(I,D)&&O(P,D,I[D]);return P},x=(P,I)=>{var D={};for(var N in P)y.call(P,N)&&I.indexOf(N)<0&&(D[N]=P[N]);if(P!=null&&E)for(var N of E(P))I.indexOf(N)<0&&p.call(P,N)&&(D[N]=P[N]);return D};function T(P){var I=P,{className:D,variant:N,look:C="button",fill:A="outline",fixedHeight:L=!0,size:U="medium",leftIcon:W,rightIcon:G,noPadding:$=!1,forwardedRef:q,children:J}=I,R=x(I,["className","variant","look","fill","fixedHeight","size","leftIcon","rightIcon","noPadding","forwardedRef","children"]);return(0,o.h)(c.kG,S({className:l()(D,"tw-cursor-pointer tw-appearance-none tw-whitespace-nowrap tw-border-0 tw-border-solid disabled:tw-cursor-not-allowed",!w.includes(C)&&"tw-bg-transparent",d.includes(C)?[`tw-relative tw-flex tw-items-center tw-justify-center tw-gap-3 ${g.gx}`,s.includes(C)&&!$&&"tw-px-5",L||C=="round"?U==="small"?"tw-h-8":"tw-h-button":"tw-py-[10px]"]:"tw-p-0",C==="button"&&"tw-rounded",C==="round"&&["tw-rounded-full tw-px-4",W&&"tw-pl-[10px]",G&&"tw-pr-[10px]"],C==="circle"&&["tw-justify-center tw-rounded-full",U==="small"?"tw-h-8 tw-w-8":"tw-h-button tw-w-button"],C==="text"&&`tw-inline ${_}`,C==="reset"&&`tw-inline-block ${_}`,C==="flex"&&`tw-flex ${_}`,N==="primary"?["hover:tw-opacity-80 disabled:tw-opacity-70",w.includes(C)?" tw-bg-substack-accent tw-text-substack-bg":"tw-bg-transparent tw-text-substack-accent"]:N==="themed-primary"?["hover:tw-opacity-80 disabled:tw-opacity-70",w.includes(C)?" tw-bg-pub-accent tw-text-pub-accent-inverse":"tw-bg-transparent tw-text-pub-accent"]:N==="secondary"?["tw-text-substack-secondary disabled:tw-opacity-70",w.includes(C)?A==="filled"?"tw-border tw-border-substack-detail tw-bg-substack-wash hover:tw-border-substack-tertiary hover:tw-bg-dark-primary hover:tw-text-substack-secondary":"tw-border tw-border-substack-detail tw-bg-substack-bg hover:tw-bg-substack-wash":"tw-bg-transparent"]:N==="themed-secondary"?["tw-border tw-border-pub-accent tw-bg-transparent tw-text-pub-accent hover:tw-bg-pub-detail-light disabled:tw-opacity-70"]:N==="tertiary"?["tw-text-substack-secondary disabled:tw-opacity-70",w.includes(C)&&"tw-border tw-border-substack-detail tw-bg-transparent hover:tw-bg-substack-wash"]:N==="destructive"?["hover:tw-opacity-80 disabled:tw-opacity-70",w.includes(C)?" tw-bg-error tw-text-substack-bg":" tw-bg-transparent tw-text-error"]:N==="twitter"&&["hover:tw-opacity-80 disabled:tw-opacity-70",w.includes(C)?"tw-bg-twitter tw-text-substack-bg":"tw-bg-transparent tw-text-twitter"]),ref:q},R),W,J,G)}const _="tw-text-[length:inherit] tw-text-[color:inherit] tw-font-[weight:inherit]",d=["button","borderless","circle","round"],s=["button","borderless"],w=["button","circle","round"]},53570:(z,u,e)=>{"use strict";e.d(u,{X:()=>s});var o=e(6400),f=e(94184),l=e.n(f),c=e(25380);const g={container:"frontend-pencraft-form-Checkbox-module__container--bnhv5",medium:"frontend-pencraft-form-Checkbox-module__medium--GlivL",small:"frontend-pencraft-form-Checkbox-module__small--KuI1R",enabled:"frontend-pencraft-form-Checkbox-module__enabled--D7Cik",unchecked:"frontend-pencraft-form-Checkbox-module__unchecked--M2ytx",error:"frontend-pencraft-form-Checkbox-module__error--_HwgQ",checked:"frontend-pencraft-form-Checkbox-module__checked--SUdWp",checkedWithTheme:"frontend-pencraft-form-Checkbox-module__checkedWithTheme--lCDJE",disabled:"frontend-pencraft-form-Checkbox-module__disabled--rM9Mk"};var v=Object.defineProperty,E=Object.defineProperties,y=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,x=(w,P,I)=>P in w?v(w,P,{enumerable:!0,configurable:!0,writable:!0,value:I}):w[P]=I,T=(w,P)=>{for(var I in P||(P={}))O.call(P,I)&&x(w,I,P[I]);if(p)for(var I of p(P))S.call(P,I)&&x(w,I,P[I]);return w},_=(w,P)=>E(w,y(P)),d=(w,P)=>{var I={};for(var D in w)O.call(w,D)&&P.indexOf(D)<0&&(I[D]=w[D]);if(w!=null&&p)for(var D of p(w))P.indexOf(D)<0&&S.call(w,D)&&(I[D]=w[D]);return I};const s=w=>{var P=w,{name:I,size:D="medium",checked:N,disabled:C=!1,error:A=!1,onChange:L,as:U="label",withTheme:W=!1}=P,G=d(P,["name","size","checked","disabled","error","onChange","as","withTheme"]);const $=U;return(0,o.h)($,{className:l()("pencraft",g.container,g[D],C?g.disabled:g.enabled,N?W?g.checkedWithTheme:g.checked:g.unchecked,A?g.error:"")},N&&(0,o.h)(c.Z,{size:D==="small"?16:24}),(0,o.h)("input",_(T({},G),{className:"pencraft",type:"checkbox",name:I,"data-testid":I,checked:N,disabled:C,onChange:q=>{var J,R;!C&&L(!N,_(T({},q.target),{name:(R=(J=q.target)==null?void 0:J.name)!=null?R:""}))}})))}},72657:(z,u,e)=>{"use strict";e.d(u,{D:()=>l});var o=e(6400),f=e(13045);const l=({errors:c})=>c?(0,o.h)(o.Fragment,null,c.map(g=>(0,o.h)(f.xv.B4,{color:"error",key:g},g))):null},69045:(z,u,e)=>{"use strict";e.d(u,{g:()=>D});var o=e(6400),f=e(98661),l=e(94184),c=e.n(l),g=e(67963),v=e(39419);const E={portalWrapper:"frontend-components-interactive_tooltip-module__portalWrapper--hh2mD",contentWrapper:"frontend-components-interactive_tooltip-module__contentWrapper--oIpj1",contentWrapperShown:"frontend-components-interactive_tooltip-module__contentWrapperShown--eG_iF"};var y=Object.defineProperty,p=(N,C,A)=>C in N?y(N,C,{enumerable:!0,configurable:!0,writable:!0,value:A}):N[C]=A,O=(N,C,A)=>(p(N,typeof C!="symbol"?C+"":C,A),A);const S=300,x=8,T=100;class _ extends o.Component{constructor(C,A){super(C,A),this.cardRef=(0,o.createRef)(),this.state={isOpen:!1},this.hoverPid=null,this.closePid=null,this.wrapperRef=(0,o.createRef)(null)}onMouseEnter(){if(!this.props.disabled){if(this.closePid&&clearTimeout(this.closePid),this.setState({attachCard:!0}),this.props.delay===0){this.setIsShown(!0);return}this.hoverPid=setTimeout(()=>{this.setIsShown(!0),this.hoverPid=null},this.props.delay)}}onMouseLeave(){this.hoverPid&&clearTimeout(this.hoverPid),this.closePid=setTimeout(()=>{this.setIsShown(!1)},T)}setIsShown(C){this.setState({isOpen:C,attachCard:C})}onClick(C){C.stopPropagation()}render({content:C,preferPositionLeft:A,className:L,children:U},{attachCard:W,isOpen:G}){var $,q,J;let R={},j=!1;if(W&&(($=this.wrapperRef)!=null&&$.current)){const{top:ie,left:le}=this.wrapperRef.current.getBoundingClientRect(),{height:ye,width:ue}=(J=(q=this.cardRef.current)==null?void 0:q.getBoundingClientRect())!=null?J:{};j=A&&le-ue>0,j?R={top:ie-x-ye,left:le-ue-x,"max-width":S}:R={top:ie-x-ye,"max-width":S,left:le}}return(0,o.h)("div",{className:c()(E.portalWrapper,L),onMouseEnter:()=>this.onMouseEnter(),onMouseLeave:()=>this.onMouseLeave(),onClick:ie=>this.onClick(ie),ref:this.wrapperRef},typeof U=="function"?U({}):U,W&&(0,f.createPortal)((0,o.h)("div",{className:c()(E.contentWrapper,{[E.contentWrapperShown]:G,"animate-opacity":!(0,v.isSafari)(),"position-left":j}),ref:this.cardRef,style:R,onMouseEnter:()=>this.onMouseEnter(),onMouseLeave:()=>this.onMouseLeave()},C),document.body))}}O(_,"defaultProps",{delay:T}),O(_,"contextType",g.St);const d=_,s={learnMoreChip:"frontend-editor-post-settings-help_tooltip-module__learnMoreChip--VsAGv"},w=({content:N})=>(0,o.h)(d,{content:N},(0,o.h)("div",{className:s.learnMoreChip},"?"));var P=e(13045),I=e(72657);const D=(0,f.forwardRef)(({action:N,children:C,className:A,errors:L,helpText:U,details:W,label:G,paddingBottom:$,paddingTop:q,wrapWithLabel:J},R)=>(0,o.h)(P.tu,{ref:R,alignItems:"stretch",className:A,gap:8,paddingBottom:$,paddingTop:q},(0,o.h)(P.tu,{alignItems:"stretch",gap:8,as:J?"label":"div"},G&&(0,o.h)(P.gq,{gap:8,alignItems:"center"},(0,o.h)(P.xv.B4,{weight:"semibold",as:J?"div":"label",color:"primary"},G),U&&(0,o.h)(w,{content:U}),N&&(0,o.h)(P.gq,{flex:"grow",justifyContent:"end"},N)),(0,o.h)("div",{className:c()({"has-error":L})},C)),W&&!Array.isArray(W)&&(0,o.h)(P.xv.Detail,null,W),W&&Array.isArray(W)&&W.length>0&&(0,o.h)(P.tu,{gap:4},W.map(j=>(0,o.h)(P.xv.Detail,null,j))),(0,o.h)(I.D,{errors:L})))},92958:(z,u,e)=>{"use strict";e.d(u,{Y:()=>d});var o=e(6400),f=e(94184),l=e.n(f);const c={container:"frontend-pencraft-form-Radio-module__container--InUVp",radio:"frontend-pencraft-form-Radio-module__radio--U8dmP"};var g=Object.defineProperty,v=Object.defineProperties,E=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,S=(s,w,P)=>w in s?g(s,w,{enumerable:!0,configurable:!0,writable:!0,value:P}):s[w]=P,x=(s,w)=>{for(var P in w||(w={}))p.call(w,P)&&S(s,P,w[P]);if(y)for(var P of y(w))O.call(w,P)&&S(s,P,w[P]);return s},T=(s,w)=>v(s,E(w)),_=(s,w)=>{var P={};for(var I in s)p.call(s,I)&&w.indexOf(I)<0&&(P[I]=s[I]);if(s!=null&&y)for(var I of y(s))w.indexOf(I)<0&&O.call(s,I)&&(P[I]=s[I]);return P};const d=s=>{var w=_(s,[]);return(0,o.h)("div",{className:l()(c.container)},(0,o.h)("input",T(x({},w),{type:"radio"})),(0,o.h)("span",{className:c.radio}))}},2019:(z,u,e)=>{"use strict";e.d(u,{g:()=>T});var o=e(6400),f=e(30396),l=e(51126),c=e(43887),g=e(69045),v=e(92958),E=Object.defineProperty,y=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,S=(_,d,s)=>d in _?E(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,x=(_,d)=>{for(var s in d||(d={}))p.call(d,s)&&S(_,s,d[s]);if(y)for(var s of y(d))O.call(d,s)&&S(_,s,d[s]);return _};const T=({label:_,name:d,options:s,paddingBottom:w,paddingTop:P,size:I="medium",value:D,onChange:N,horizontal:C,labelProps:A})=>{const L=(0,f.I4)(U=>{N(U.target.value)},[N]);return(0,o.h)(g.g,{label:_,paddingBottom:w,paddingTop:P},(0,o.h)(l.gq,{gap:I==="medium"?8:16,direction:C?"row":"column"},s.map(({value:U,label:W,disabled:G,track:$,testid:q})=>(0,o.h)(l.gq,{as:"label",gap:8,alignItems:"center",paddingLeft:4},(0,o.h)(v.Y,{checked:U===D,"data-testid":q,"data-track-input":$,disabled:G,name:d,value:U,onClick:L}),I==="medium"?(0,o.h)(c.xv.B4,x({as:"span"},A),W):(0,o.h)(c.xv.B3,x({},A),W)))))}},34394:(z,u,e)=>{"use strict";e.d(u,{o:()=>s});var o=e(6400),f=e(98661),l=e(94184),c=e.n(l),g=e(51220),v=Object.defineProperty,E=Object.defineProperties,y=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,x=(w,P,I)=>P in w?v(w,P,{enumerable:!0,configurable:!0,writable:!0,value:I}):w[P]=I,T=(w,P)=>{for(var I in P||(P={}))O.call(P,I)&&x(w,I,P[I]);if(p)for(var I of p(P))S.call(P,I)&&x(w,I,P[I]);return w},_=(w,P)=>E(w,y(P)),d=(w,P)=>{var I={};for(var D in w)O.call(w,D)&&P.indexOf(D)<0&&(I[D]=w[D]);if(w!=null&&p)for(var D of p(w))P.indexOf(D)<0&&S.call(w,D)&&(I[D]=w[D]);return I};const s=(0,f.forwardRef)((w,P)=>{var I=w,{className:D,error:N=!1,type:C="text",width:A,background:L,font:U}=I,W=d(I,["className","error","type","width","background","font"]);return(0,o.h)("input",_(T({},W),{className:c()(D,g.Z.input,{[g.Z.error]:N},U&&g.Z[`font-${U}`]),style:{width:A,background:L},type:C,ref:P}))})},27885:(z,u,e)=>{"use strict";e.d(u,{g:()=>s});var o=e(6400),f=e(98661),l=e(94184),c=e.n(l),g=e(51220),v=Object.defineProperty,E=Object.defineProperties,y=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,x=(w,P,I)=>P in w?v(w,P,{enumerable:!0,configurable:!0,writable:!0,value:I}):w[P]=I,T=(w,P)=>{for(var I in P||(P={}))O.call(P,I)&&x(w,I,P[I]);if(p)for(var I of p(P))S.call(P,I)&&x(w,I,P[I]);return w},_=(w,P)=>E(w,y(P)),d=(w,P)=>{var I={};for(var D in w)O.call(w,D)&&P.indexOf(D)<0&&(I[D]=w[D]);if(w!=null&&p)for(var D of p(w))P.indexOf(D)<0&&S.call(w,D)&&(I[D]=w[D]);return I};const s=(0,f.forwardRef)((w,P)=>{var I=w,{className:D,error:N=!1,font:C}=I,A=d(I,["className","error","font"]);return(0,o.h)("textarea",_(T({ref:P,className:c()(D,g.Z.input,g.Z.textarea,{[g.Z.error]:N},C&&g.Z[`font-${C}`])},A),{type:"text"}))})},5668:(z,u,e)=>{"use strict";e.d(u,{U:()=>l});var o=e(6400);const f={hiddenInput:"frontend-pencraft-internal-HiddenInputWrapper-module__hiddenInput--wQ_AN"},l=({children:c})=>(0,o.h)("div",{className:f.hiddenInput},c)},89581:(z,u,e)=>{"use strict";e.d(u,{x:()=>_});var o=e(30396),f=e(62372);let l=0;function c(d="",s=[]){return(0,o.Ye)(()=>(l++,l=l>Number.MAX_SAFE_INTEGER?1:l,`${d}${l}`),s)}var g=Object.defineProperty,v=Object.defineProperties,E=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,S=(d,s,w)=>s in d?g(d,s,{enumerable:!0,configurable:!0,writable:!0,value:w}):d[s]=w,x=(d,s)=>{for(var w in s||(s={}))p.call(s,w)&&S(d,w,s[w]);if(y)for(var w of y(s))O.call(s,w)&&S(d,w,s[w]);return d},T=(d,s)=>v(d,E(s));const _=({layerOptions:d,hideOnScroll:s}={})=>{const[w,P]=(0,o.eJ)(!1);(0,o.d4)(()=>{if(s){const L=()=>{requestAnimationFrame(()=>{open&&s&&P(!1)})};return window.addEventListener("scroll",L,!0),()=>{window.removeEventListener("scroll",L,!0)}}},[s]);const{triggerProps:I,layerProps:D,renderLayer:N}=(0,f.sJ)(x({isOpen:w,placement:"bottom-center",preferY:"bottom",triggerOffset:10,onOutsideClick:()=>P(!1)},d)),C=c("trigger"),A=c("dialog");return{triggerProps:T(x({},I),{id:C,"aria-expanded":w,"aria-haspopup":"dialog","aria-controls":A}),layerProps:T(x({},D),{id:A,role:"dialog",tabIndex:0,"aria-labeledby":C}),renderLayer:N,isOpen:w,setOpen:P}}},25666:(z,u,e)=>{"use strict";e.d(u,{l:()=>S,x:()=>x});var o=e(6400),f=e(30396),l=e(5285),c=e(62372),g=Object.defineProperty,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(T,_,d)=>_ in T?g(T,_,{enumerable:!0,configurable:!0,writable:!0,value:d}):T[_]=d,O=(T,_)=>{for(var d in _||(_={}))E.call(_,d)&&p(T,d,_[d]);if(v)for(var d of v(_))y.call(_,d)&&p(T,d,_[d]);return T};function S({hoverOptions:T,layerOptions:_}={}){const[d,s]=(0,f.eJ)(!1),[w,P]=(0,c.XI)(O({delayEnter:1e3,delayLeave:500},T)),{triggerProps:I,layerProps:D,renderLayer:N}=(0,c.sJ)(O({isOpen:w,auto:!0,triggerOffset:8},_));return{layerProps:D,triggerProps:O(O({},I),P),transitionProps:{show:w,beforeEnter:()=>s(!0),afterLeave:()=>s(!1)},renderLayer:N,shouldShow:w||d}}function x(T){return(0,o.h)(l.u,O({appear:!0,enter:"tw-transition-all tw-ease-smooth tw-duration-fast tw-transform-gpu",enterFrom:"tw-opacity-0 tw-translate-y-2",enterTo:"tw-opacity-100 tw-translate-y-0",leave:"tw-transition-all tw-ease-smooth tw-duration-fast tw-transform-gpu",leaveFrom:"tw-opacity-100 tw-translate-y-0",leaveTo:"tw-opacity-0 tw-translate-y-2"},T))}},30058:(z,u,e)=>{"use strict";e.d(u,{e:()=>c});var o=e(6400),f=e(94184),l=e.n(f);const c=({className:g,children:v,displayContents:E})=>(0,o.h)("div",{className:l()("tailwind-preflight",g),style:E?{display:"contents"}:{}},v)},96427:(z,u,e)=>{"use strict";e.d(u,{P:()=>I});var o=e(6400),f=e(94184),l=e.n(f),c=e(99758),g=e(84040),v=e(51126),E=e(76235),y=e(43887);const p={select:"frontend-pencraft-unstable-Select-module__select--mj1yX",selectedOption:"frontend-pencraft-unstable-Select-module__selectedOption--l6gJr"};var O=Object.defineProperty,S=Object.defineProperties,x=Object.getOwnPropertyDescriptors,T=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,s=(N,C,A)=>C in N?O(N,C,{enumerable:!0,configurable:!0,writable:!0,value:A}):N[C]=A,w=(N,C)=>{for(var A in C||(C={}))_.call(C,A)&&s(N,A,C[A]);if(T)for(var A of T(C))d.call(C,A)&&s(N,A,C[A]);return N},P=(N,C)=>S(N,x(C));const I=({children:N,className:C,name:A,value:L,onChange:U,disabled:W=!1})=>{var G;const $=N.find(q=>q.props.value===L);return $||console.error("Select: value not found in children. value:",L,"options:",N.map(q=>q.props.value)),(0,o.h)(v.gq,{className:l()(p.select,C),alignItems:"center",justifyContent:"space-between",paddingX:16,paddingBottom:8,paddingTop:8,gap:8},(0,o.h)(y.xv,{className:l()(p.selectedOption,{[p.disabled]:W}),font:"text",size:14,color:W?"secondary":"primary"},(G=$==null?void 0:$.props.children)!=null?G:""),(0,o.h)(c.Z,null),(0,o.h)("select",{name:A,value:L,onChange:q=>{var J;U(q.target.value,P(w({},q.target),{name:(J=q.target.name)!=null?J:""}))},disabled:W},N))};function D({value:N,options:C,onChange:A,fill:L,disabled:U,className:W,priority:G}){var $,q;return h(Menu,{className:W,trigger:h(Button,{priority:G!=null?G:"secondary",fill:L,disabled:U,rightIcon:h(ChevronDown,{size:20}),"data-testid":"stock-select"},(q=($=C.find(J=>J.value===N))==null?void 0:$.label)!=null?q:"Select")},C.map(J=>h(MenuItem,{onClick:()=>A(J.value)},J.label)))}},95297:(z,u,e)=>{"use strict";e.d(u,{s:()=>G,o:()=>$});var o=e(6400),f=e(30396),l=e(94184),c=e.n(l),g=e(62372),v=e(51736),E=e(47052),y=e(3258),p=e(51126),O=e(43887),S=e(92630);const x={inlineContainer:"frontend-pencraft-unstable-UserBadge-module__inlineContainer--_nMrK",container:"frontend-pencraft-unstable-UserBadge-module__container--ADexK",popover:"frontend-pencraft-unstable-UserBadge-module__popover--X9HK4"};var T=Object.defineProperty,_=Object.defineProperties,d=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,I=(q,J,R)=>J in q?T(q,J,{enumerable:!0,configurable:!0,writable:!0,value:R}):q[J]=R,D=(q,J)=>{for(var R in J||(J={}))w.call(J,R)&&I(q,R,J[R]);if(s)for(var R of s(J))P.call(J,R)&&I(q,R,J[R]);return q},N=(q,J)=>_(q,d(J));const C=100,A={sm:16,md:20,lg:24},L={100:E.Z,1e3:v.Z,1e4:v.Z},U={1e4:{fill:"var(--color-accent-purple)"}},W={100:"Hundreds",1e3:"Thousands",1e4:"Tens of thousands"},G=({className:q,isStatic:J=!1,inline:R=!1,size:j="lg",tier:ie,tooltipOnHover:le=!1,userId:ye})=>{const[ue,oe]=(0,g.XI)({delayEnter:C,delayLeave:C,hideOnScroll:!0}),te=ue&&!le,{triggerProps:Z,layerProps:re,renderLayer:ae}=(0,g.sJ)({isOpen:te,overflowContainer:!1,auto:!0,snap:!0,possiblePlacements:["top-center","bottom-center","top-start","bottom-start","top-end","bottom-end"],placement:"top-center",containerOffset:10,triggerOffset:8}),se=re.style;(0,f.d4)(()=>{ue&&(0,y.j)(y.FP.BESTSELLER_INFO_SHOWN,{tier:ie,form:le?"tooltip":"popover",hovered_user_id:ye})},[ue,ie,le,ye]);const be=A[j];if(!ie)return null;const _e=L[ie.toString()],pe=U[ie.toString()],me=c()(q,R?x.inlineContainer:x.container);return J&&ie?(0,o.h)("div",{className:me},(0,o.h)(_e,N(D({},pe),{height:be}))):(0,o.h)("div",N(D(D({},oe),Z),{className:me}),(0,o.h)(S.u,{text:`${W[ie.toString()]} of paid subscribers`,dangerouslySetTooltipZIndex:103,disabled:!le},(0,o.h)(_e,N(D({},pe),{height:be}))),te&&ae((0,o.h)("div",N(D(D({},re),oe),{style:se,className:x.popover}),(0,o.h)(p.tu,{alignItems:"center",gap:16,padding:16,paddingBottom:32},(0,o.h)(_e,N(D({},pe),{height:40})),(0,o.h)(p.tu,{alignItems:"center",gap:4},(0,o.h)(O.xv.H3,null,"Bestseller"),(0,o.h)(O.xv.B4,{align:"center"},W[ie.toString()]," of paid subscribers"))))))},$=({tier:q})=>{if(!q)return null;const J=L[q.toString()],R=U[q.toString()];return(0,o.h)(J,N(D({},R),{height:A.sm}))}},592:(z,u,e)=>{"use strict";e.d(u,{I:()=>T,m:()=>d});var o=e(6400),f=e(98661),l=e(30396),c=e(3258),g=e(91004),v=e(4605),E=e(8479),y=e(13045),p=e(62246),O=e(99574),S=(s,w,P)=>new Promise((I,D)=>{var N=L=>{try{A(P.next(L))}catch(U){D(U)}},C=L=>{try{A(P.throw(L))}catch(U){D(U)}},A=L=>L.done?I(L.value):Promise.resolve(L.value).then(N,C);A((P=P.apply(s,w)).next())});const x=({isOpen:s,onClose:w,pub:P,post:I,hideEmail:D,hideAssetTitle:N,smallAssetPadding:C,mediaCarousel:A,source:L})=>{(0,l.d4)(()=>{s&&(0,c.j)(c.FP.INSTAGRAM_SHARE_MODAL_SEEN,{source:L||(D?"post":"share center")})},[s,D,L]);const U=({step:G,title:$,subtitle:q,children:J})=>(0,o.h)(y.gq,{gap:16},(0,o.h)(y.xv.H4,null,G),(0,o.h)(y.tu,{style:{width:"90%"},gap:12},(0,o.h)(y.tu,{gap:4},(0,o.h)(y.xv.H4,null,$),(0,o.h)(y.xv.B4,{color:"secondary"},q)),J)),W=()=>{const[G,$]=(0,l.eJ)(!1);return(0,o.h)(y.tu,{bg:"secondary",radius:12,border:"detail"},(0,o.h)(y.tu,{gap:24,padding:C?8:20},(0,o.h)(y.gq,{gap:12,alignItems:"center"},!N&&(0,o.h)(y.xv.B4,{weight:"bold"},"Shareable images"),!D&&(0,o.h)(y.zx,{size:"small",disabled:G,priority:"secondary",style:{marginLeft:"auto",marginRight:0},onClick:()=>S(void 0,null,function*(){(0,c.j)(c.FP.SHARE_CENTER_MEDIA_ASSETS_EMAILED,{post_id:I.id}),$(!0);try{(yield(0,E.rd)(`/api/v1/press_kit/${I.id}/email`)).success&&(0,v.ZP)("Emails sent successfully.")}catch(q){(0,c.j)(c.FP.SHARE_CENTER_MEDIA_ASSETS_EMAILED_FAILED,{post_id:I.id}),(0,v.ZP)("Error sending emails. Please try again.")}finally{$(!1)}})},"Email me assets")),A))};return(0,o.h)(p.u_,{isOpen:s,onClose:w,fullscreenMobile:!0},(0,o.h)(p.xB,{title:"Share to Instagram",onClose:w,includeClose:!0}),(0,o.h)(p.fe,null,(0,o.h)(y.tu,{gap:48},(0,o.h)(U,{step:1,title:"Download an image",subtitle:"Substack automatically creates assets from any post to share on Instagram."},(0,o.h)(W,null)),(0,o.h)(U,{step:2,title:"Copy a link to the post",subtitle:"Add a link to your Instagram story or bio."},(0,o.h)(y.zx,{priority:"secondary",onClick:()=>{(0,g.Ui)({shareUrl:(0,g.O1)(null,{pub:P,post:I}),pub:P,post:I,utm_campaign:L||(D?"post-instagram-share-modal":"post-share-center")})}},"Copy Link")),(0,o.h)(U,{step:3,title:"Share on Instagram",subtitle:"Visit the Instagram app and share the image with a link to the post. Or share from Instagram on desktop"}))))},T=(0,f.memo)(x,(s,w)=>s.post.id===w.post.id&&s.isOpen===w.isOpen),_=({isOpen:s,onClose:w,pub:P,post:I,themeVariables:D,hideEmail:N})=>{const C=(0,O.E)(P,I,D,!0);return(0,o.h)(T,{isOpen:s,pub:P,post:I,onClose:w,mediaCarousel:(0,o.h)(O.H,{inline:!0},C),hideEmail:N})},d=(0,f.memo)(_,(s,w)=>s.post.id===w.post.id&&s.isOpen===w.isOpen)},99574:(z,u,e)=>{"use strict";e.d(u,{H:()=>N,E:()=>A});var o=e(6400),f=e(98661),l=e(30396),c=e(94184),g=e.n(c),v=e(56743),E=e(2564),y=e(80387),p=e(13045),O=e(83322);const S={mediaCarousel:"frontend-publish-share_center-MediaAssetCarousel-module__mediaCarousel--yatYn",pressKitImageContainer:"frontend-publish-share_center-MediaAssetCarousel-module__pressKitImageContainer--qcOIf",scrollContainer:"frontend-publish-share_center-MediaAssetCarousel-module__scrollContainer--YjAQV",carouselParent:"frontend-publish-share_center-MediaAssetCarousel-module__carouselParent--mJlqW",carouselArrow:"frontend-publish-share_center-MediaAssetCarousel-module__carouselArrow--NOyGP",bg:"frontend-publish-share_center-MediaAssetCarousel-module__bg--lN6p2",fade:"frontend-publish-share_center-MediaAssetCarousel-module__fade--LwBBa",visible:"frontend-publish-share_center-MediaAssetCarousel-module__visible--nkiL7",left:"frontend-publish-share_center-MediaAssetCarousel-module__left--Gpyzo",bgSecondary:"frontend-publish-share_center-MediaAssetCarousel-module__bgSecondary--YZnYt",right:"frontend-publish-share_center-MediaAssetCarousel-module__right--VIM7J",containerArrows:"frontend-publish-share_center-MediaAssetCarousel-module__containerArrows--fQe5X"};var x=Object.defineProperty,T=Object.defineProperties,_=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,P=(W,G,$)=>G in W?x(W,G,{enumerable:!0,configurable:!0,writable:!0,value:$}):W[G]=$,I=(W,G)=>{for(var $ in G||(G={}))s.call(G,$)&&P(W,$,G[$]);if(d)for(var $ of d(G))w.call(G,$)&&P(W,$,G[$]);return W},D=(W,G)=>T(W,_(G));const N=({inline:W,hideArrowsMobile:G,children:$})=>{const q=G&&(0,O.isTouchDevice)(),J=(0,l.sO)(null),{state:R,handleArrowClick:j}=U(J),ie=W?"secondary":void 0;return(0,o.h)(p.hs,{className:S.scrollContainer,bg:ie,alignItems:"center",flex:"grow"},(0,o.h)(p.gq,{className:S.carouselParent,bg:ie},!q&&R.showLeft&&(0,o.h)(p.hs,{bg:W?void 0:"secondary",className:g()(S.fade,S.visible,S.left,S.containerArrows)},(0,o.h)("div",{className:ie==="secondary"?S.bgSecondary:S.bg}),(0,o.h)(p.hU,{className:S.carouselArrow,rounded:!0,size:36,onClick:j(-1),fill:W?"filled":"empty"},(0,o.h)(v.Z,null))),(0,o.h)(p.hs,{ref:J,bg:ie,gap:W?8:16,justifyContent:"space-between",className:S.mediaCarousel,padding:4},$),!q&&R.showRight&&(0,o.h)(p.hs,{bg:W?void 0:"secondary",className:g()(S.fade,S.visible,S.right,S.containerArrows)},(0,o.h)("div",{className:ie==="secondary"?S.bgSecondary:S.bg}),(0,o.h)(p.hU,{className:S.carouselArrow,rounded:!0,size:36,onClick:j(1),fill:W?"filled":"empty"},(0,o.h)(E.Z,null)))))},C=(0,f.memo)(({pub:W,post:G,bgColor:$,textColor:q,bgImage:J,aspectRatio:R,text:j,inline:ie})=>{const le={square:"1:1",stories:"9:16",instagram:"4:5"};return(0,o.h)(p.tu,{gap:ie?4:12,className:S.pressKitImageContainer},(0,o.h)(y.Z,{pub:W,post:G,style:{bgColor:$,textColor:q,aspectRatio:R,bgImage:J},text:j,sharePage:!0,inline:ie}),(0,o.h)(p.xv.Meta,null,R.toUpperCase()," ",le[R]))}),A=(W,G,$,q=!1)=>(0,l.Ye)(()=>$?L(W,G,$).map((R,j)=>(0,o.h)(C,{key:j,pub:W,post:G,bgColor:R.bgColor,textColor:R.textColor,aspectRatio:R.aspectRatio,bgImage:R.bgImage,text:R.text,inline:q})):[],[W,G,$,q]),L=(W,G,$)=>{const q=$.web_bg_color||$.cover_bg_color,J=[],R=[];(G.cover_image||W.cover_photo_url)&&R.push({bgImage:!0,textColor:"#ffffff",text:"Image"}),q.toLowerCase()!=="#ffffff"&&R.push({bgColor:"#ffffff",textColor:"#404040",text:"Black and White"}),R.push({bgColor:q,textColor:$.print_on_web_bg_color||$.cover_print_primary||"#1a1a1a",bgImage:!1,text:"Background Color"}),$.background_pop&&R.push({bgColor:$.background_pop,textColor:$.print_on_pop,text:"Accent Color"});const j=["square","instagram","stories"];if(R.length===1)for(const ie of j)J.push(D(I({},R[0]),{aspectRatio:ie}));else if(R.length===2)for(let ie=0;ie<6;ie++){const le=ie%2,ye=j[Math.floor(ie/2)%3];J.push(D(I({},R[le]),{aspectRatio:ye}))}else R.length===3?(J.push(D(I({},R[0]),{aspectRatio:"square"})),J.push(D(I({},R[1]),{aspectRatio:"instagram"})),J.push(D(I({},R[2]),{aspectRatio:"stories"})),J.push(D(I({},R[1]),{aspectRatio:"square"})),J.push(D(I({},R[2]),{aspectRatio:"instagram"})),J.push(D(I({},R[0]),{aspectRatio:"stories"})),J.push(D(I({},R[2]),{aspectRatio:"square"})),J.push(D(I({},R[0]),{aspectRatio:"instagram"})),J.push(D(I({},R[1]),{aspectRatio:"stories"}))):R.length===4&&(J.push(D(I({},R[0]),{aspectRatio:"square"})),J.push(D(I({},R[1]),{aspectRatio:"instagram"})),J.push(D(I({},R[2]),{aspectRatio:"stories"})),J.push(D(I({},R[1]),{aspectRatio:"square"})),J.push(D(I({},R[2]),{aspectRatio:"instagram"})),J.push(D(I({},R[3]),{aspectRatio:"stories"})),J.push(D(I({},R[2]),{aspectRatio:"square"})),J.push(D(I({},R[3]),{aspectRatio:"instagram"})),J.push(D(I({},R[0]),{aspectRatio:"stories"})),J.push(D(I({},R[3]),{aspectRatio:"square"})),J.push(D(I({},R[0]),{aspectRatio:"instagram"})),J.push(D(I({},R[1]),{aspectRatio:"stories"})));return J},U=(W,{initialState:G}={})=>{const[$,q]=(0,l.eJ)(G||{showLeft:!1,showRight:!0});return(0,l.d4)(()=>{const{current:R}=W;if(R){const j=()=>{q(ie=>{let le=ie;!le.showLeft&&R.scrollLeft>0?le=D(I({},ie),{showLeft:!0}):le.showLeft&&R.scrollLeft<=0&&(le=D(I({},ie),{showLeft:!1}));const ye=R.scrollWidth-R.offsetWidth-4;return!le.showRight&&R.scrollLeft<ye?le=D(I({},ie),{showRight:!0}):le.showRight&&R.scrollLeft>=ye&&(le=D(I({},ie),{showRight:!1})),le})};return R.addEventListener("scroll",j),setTimeout(()=>{j()},1e3),()=>{R.removeEventListener("scroll",j)}}},[W]),{state:$,handleArrowClick:R=>()=>{const{current:j}=W;j&&j.scrollBy({left:R*j.offsetWidth,behavior:"smooth"})}}}},9686:(z,u,e)=>{"use strict";e.d(u,{I:()=>_});var o=e(6400),f=e(30396),l=e(86804),c=e(46209);function g(){const N=(0,f.sO)();return(0,f.d4)(()=>{var C;(C=N.current)==null||C.focus()},[]),N}var v=e(63503),E=e(8479),y=e(39419),p=e(5131),O=e(19696),S=e(34518),x=e(33510),T=(N,C,A)=>new Promise((L,U)=>{var W=q=>{try{$(A.next(q))}catch(J){U(J)}},G=q=>{try{$(A.throw(q))}catch(J){U(J)}},$=q=>q.done?L(q.value):Promise.resolve(q.value).then(W,G);$((A=A.apply(N,C)).next())});function _({onCancel:N,onSuccess:C,onSignup:A,noCloseButton:L,noExit:U}){const[W,G]=(0,f.eJ)("email"),[$,q]=(0,f.eJ)(""),J=()=>{G("mfa")};return(0,o.h)(S.Yy,{className:"",isPopup:!0,onClose:N,noCloseButton:L,noExit:U},(0,o.h)("div",{className:"simple-modal-pad tw-flex tw-flex-col tw-gap-4"},(0,o.h)(c.Z,{className:"reader-nav-logo modal-header-icon"}),(0,o.h)(x.y,null,"Sign in to Substack"),W==="email"?(0,o.h)(s,{onUsePassword:R=>{q(R),G("password")},onSuccess:R=>{q(R),G("poll")}}):W==="poll"?(0,o.h)(w,{email:$,onSuccess:C,onChangeMode:G}):W==="mfa"?(0,o.h)(P,{onSuccess:C}):(0,o.h)(d,{email:$,onMfa:J,onSuccess:C})),A&&(0,o.h)(x.Hj,{className:"simple-modal-footer tw-flex tw-h-14 tw-items-center tw-justify-center"},(0,o.h)("span",null,"First time here?"," ",(0,o.h)(p.zx,{variant:"primary",look:"text",onClick:A},"Create an account"))))}function d({email:N,onSuccess:C,onMfa:A}){const L=(0,E.ib)({pathname:"/api/v1/login",method:"post"}),U=(0,f.sO)(),W=$=>T(this,null,function*(){if($.preventDefault(),L.isLoading)return;const q=D($.currentTarget);U.current&&(q.captcha_response=U.current.getResponse());const J=yield L.refetch({json:q});J instanceof Error||(J.mfa_required?A():C())}),G=g();return(0,o.h)(o.Fragment,null,L.error instanceof E.kp&&L.error.response.status===401&&(0,o.h)(l.Z,{ref:U}),(0,o.h)(I,{onSubmit:W,disabled:L.isLoading},(0,o.h)(x.II,{type:"email",name:"email",placeholder:"Your email",defaultValue:N}),(0,o.h)(x.II,{type:"password",name:"password",placeholder:"Your password",ref:G}),L.error&&(0,o.h)(x.Xq,null,(0,y.getNetworkErrorMessage)(L.error)),(0,o.h)(p.zx,{type:"submit",variant:"primary"},L.isLoading?"Signing in...":"Sign in")))}function s({onUsePassword:N,onSuccess:C}){const A=(0,E.ib)({pathname:"/api/v1/email-login",method:"POST"}),L=W=>{if(W.preventDefault(),A.isLoading)return;const G=W.currentTarget.email.value;A.refetch({json:{email:G,redirect:location.pathname}}).then($=>{$ instanceof E.kp||C(G)})},U=g();return(0,o.h)(I,{onSubmit:L,disabled:A.isLoading},(0,o.h)(x.II,{type:"email",name:"email",placeholder:"Your email",ref:U}),(0,o.h)("div",{className:"tw-flex tw-flex-col tw-gap-2"},(0,o.h)(p.zx,{type:"submit",variant:"primary"},A.isLoading?"Signing in...":"Sign in with email"),(0,o.h)(p.zx,{variant:"secondary",look:"borderless",onClick:()=>{var W;return N((W=U.current)==null?void 0:W.value)}},"or sign in with password")))}function w({email:N,onSuccess:C,onChangeMode:A}){return(0,v.Z)(()=>{fetch("/api/v1/am_i_logged_in").then(L=>T(this,null,function*(){(yield L.json()).loggedIn&&C()}))},5e3),(0,o.h)("div",{className:"tw-flex tw-flex-col tw-gap-8"},(0,o.h)("b",null,"Check your email"),(0,o.h)("div",null,"If you have an account with us, we\u2019ve sent an email to ",(0,o.h)("b",null,N)," ","with a link that you can use to sign in."),(0,o.h)("div",null,"You can also"," ",(0,o.h)(p.zx,{look:"text",onClick:()=>A("email")},(0,o.h)("b",null,"try again"))," ","or"," ",(0,o.h)(p.zx,{look:"text",onClick:()=>A("password")},(0,o.h)("b",null,"sign in using your password")),"."))}function P({onSuccess:N}){const C=(0,E.ib)({pathname:"/api/v1/mfa-login",method:"Post"}),A=L=>{L.preventDefault(),!C.isLoading&&C.refetch({json:D(L.currentTarget)}).then(U=>{U instanceof E.kp||N()})};return(0,o.h)(I,{onSubmit:A,disabled:C.isLoading},(0,o.h)(x.II,{type:"password",name:"code",placeholder:"Your MFA code"}),C.error&&(0,o.h)(x.Xq,null,(0,y.getNetworkErrorMessage)(C.error)),(0,o.h)(p.zx,{type:"submit",variant:"primary"},C.isLoading?"Signing in...":"Sign in"))}const I=(0,O.L)("tw-flex tw-flex-col tw-gap-3","form");function D(N){return Object.fromEntries(Array.from(N.elements).filter(C=>C instanceof HTMLInputElement||C instanceof HTMLTextAreaElement).map(C=>[C.name,C.value]))}},10186:(z,u,e)=>{"use strict";e.d(u,{qE:()=>L,BG:()=>W,YY:()=>G});var o=e(6400),f=e(94184),l=e.n(f),c=e(40353),g=e(7370),v=e(85362),E=e(80332),y=e(13045),p=e(15045),O=e(51126),S=e(33510),x=e(68262);const T={avatarContainer:"frontend-reader2-Avatar-module__avatarContainer--Oparw",avatar:"frontend-reader2-Avatar-module__avatar--nE_uY",badge:"frontend-reader2-Avatar-module__badge--cBf0X",square:"frontend-reader2-Avatar-module__square--tF2NV",circle:"frontend-reader2-Avatar-module__circle--wPyNv",subscriptionBadge:"frontend-reader2-Avatar-module__subscriptionBadge--f5bhp"};var _=Object.defineProperty,d=Object.defineProperties,s=Object.getOwnPropertyDescriptors,w=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable,D=($,q,J)=>q in $?_($,q,{enumerable:!0,configurable:!0,writable:!0,value:J}):$[q]=J,N=($,q)=>{for(var J in q||(q={}))P.call(q,J)&&D($,J,q[J]);if(w)for(var J of w(q))I.call(q,J)&&D($,J,q[J]);return $},C=($,q)=>d($,s(q)),A=($,q)=>{var J={};for(var R in $)P.call($,R)&&q.indexOf(R)<0&&(J[R]=$[R]);if($!=null&&w)for(var R of w($))q.indexOf(R)<0&&I.call($,R)&&(J[R]=$[R]);return J};function L({user:$,size:q,className:J}){const R=(0,p.getUserPhotoUrl)($);return(0,o.h)(S.t5,{className:l()(T.avatar,J),src:R,size:q})}function U({user:$,size:q,className:J,badge:R,badgeShape:j="square",showProfileHovercard:ie}){return(0,p.getUserPhotoUrl)($)?(0,o.h)(O.gq,{className:T.avatarContainer},(0,o.h)(E.Ct,{subject:N({id:0,name:""},$),dontStopPropagation:!1,disabled:!ie},(0,o.h)(L,{user:$,size:q,className:J})),R&&(0,o.h)("div",{className:l()(T.badge,j&&T[j])},R)):null}function W($){var q=$,{pub:J}=q,R=A(q,["pub"]);return(0,o.h)(U,C(N({},R),{badge:J&&(0,o.h)(x.F,{pub:J,size:16})}))}function G($){var q=$,{subscriptionType:J}=q,R=A(q,["subscriptionType"]);let j=null,ie;return J==="author"?(j=(0,o.h)(c.Z,{height:16,className:T.subscriptionBadge}),ie="Author"):J==="founding"?(j=(0,o.h)(g.Z,{height:16,className:T.subscriptionBadge}),ie="Founding member"):J==="paid"&&(j=(0,o.h)(v.Z,{height:16,className:T.subscriptionBadge}),ie="Paid subscriber"),j=j&&ie?(0,o.h)(y.u,{text:ie},j):null,(0,o.h)(U,C(N({},R),{badge:j,badgeShape:"circle"}))}},5131:(z,u,e)=>{"use strict";e.d(u,{zx:()=>T});var o=e(6400),f=e(94184),l=e.n(f),c=e(7922),g=e(19696),v=Object.defineProperty,E=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,O=(s,w,P)=>w in s?v(s,w,{enumerable:!0,configurable:!0,writable:!0,value:P}):s[w]=P,S=(s,w)=>{for(var P in w||(w={}))y.call(w,P)&&O(s,P,w[P]);if(E)for(var P of E(w))p.call(w,P)&&O(s,P,w[P]);return s},x=(s,w)=>{var P={};for(var I in s)y.call(s,I)&&w.indexOf(I)<0&&(P[I]=s[I]);if(s!=null&&E)for(var I of E(s))w.indexOf(I)<0&&p.call(s,I)&&(P[I]=s[I]);return P};function T(s){var w=s,{className:P,variant:I,rounded:D,look:N="button",fixedHeight:C=!0,size:A="medium",hasLeftIcon:L,hasRightIcon:U,forwardedRef:W}=w,G=x(w,["className","variant","rounded","look","fixedHeight","size","hasLeftIcon","hasRightIcon","forwardedRef"]);return(0,o.h)(c.k,S({className:l()("reader2-button",P,`reader2-button-${N}`,C&&"fixedHeight",I&&(["text","borderless"].includes(N)?`reader2-button-text-${I}`:`reader2-button-${I}`),(D||N==="circle")&&"reader2-button-rounded",`reader2-button-${A}`,L&&"hasLeftIcon",U&&"hasRightIcon"),ref:W},G))}function _(s){var w=s,{isActive:P=!1,isSmall:I=!1,icon:D,children:N}=w,C=x(w,["isActive","isSmall","icon","children"]);return h("button",S({className:classnames("reader2-button-reset reader2-tab",P&&"active",I&&"small",D?"hasIcon":null)},C),D,N)}const d=(0,g.L)("reader2-button-row")},55886:(z,u,e)=>{"use strict";e.d(u,{t:()=>E});var o=e(6400),f=e(79786),l=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,v=(y,p)=>{var O={};for(var S in y)c.call(y,S)&&p.indexOf(S)<0&&(O[S]=y[S]);if(y!=null&&l)for(var S of l(y))p.indexOf(S)<0&&g.call(y,S)&&(O[S]=y[S]);return O};function E(y){var p=y,{className:O,src:S,noStyle:x=!1,loading:T,onError:_}=p,d=v(p,["className","src","noStyle","loading","onError"]);let s,w;return"size"in d?(s=d.size,w=d.size):(s=d.width,w=d.height),(0,o.h)(f.e,{src:S,maxWidth:s*2,className:O,imageProps:{height:w*2,crop:"fill"},style:x?void 0:{width:s,height:w},loading:T,onError:_})}},15822:(z,u,e)=>{"use strict";e.d(u,{S:()=>T});var o=e(6400),f=e(94184),l=e.n(f),c=e(51126);const g={container:"frontend-reader2-DrunkSpinner-module__container--w5XSA",drunkSpinner:"frontend-reader2-DrunkSpinner-module__drunkSpinner--vYrDM",drunkSpin:"frontend-reader2-DrunkSpinner-module__drunkSpin--Kspcg"};var v=Object.defineProperty,E=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,O=(_,d,s)=>d in _?v(_,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):_[d]=s,S=(_,d)=>{for(var s in d||(d={}))y.call(d,s)&&O(_,s,d[s]);if(E)for(var s of E(d))p.call(d,s)&&O(_,s,d[s]);return _},x=(_,d)=>{var s={};for(var w in _)y.call(_,w)&&d.indexOf(w)<0&&(s[w]=_[w]);if(_!=null&&E)for(var w of E(_))d.indexOf(w)<0&&p.call(_,w)&&(s[w]=_[w]);return s};function T(_){var d=_,{className:s}=d,w=x(d,["className"]);return(0,o.h)(c.hs,S({justifyContent:"center",alignItems:"center",className:l()(g.container,s)},w),(0,o.h)("div",{className:g.drunkSpinner}))}},54520:(z,u,e)=>{"use strict";e.d(u,{SV:()=>O});var o=e(6400),f=e(30396),l=e(20042),c=e(79786),g=e(8479),v=e(11533),E=e(51126),y=e(43887);function p(){const{result:x}=(0,g.Wf)(()=>Promise.all([e.e(301),e.e(486)]).then(e.bind(e,71486)).then(T=>T.Sentry),[],{auto:!0});return(0,f.cO)(T=>{console.error(T),x&&x.captureException(T)})}function O({children:x}){const[T,_]=p(),d=(0,f.sO)((0,l.getCurrentUrl)());return(0,v.j)(s=>{T&&d.current!==s&&_(),d.current=s},[]),T?(0,o.h)(S,null):x}function S(){return(0,o.h)(E.tu,{flex:"grow",justifyContent:"center",alignItems:"center",gap:32,padding:20},(0,o.h)(c.e,{src:"/img/reader/toad.png",maxWidth:200}),(0,o.h)(E.tu,{gap:8},(0,o.h)(y.xv.H3,{weight:"semibold",align:"center"},"Oh no\u2014this page croaked."),(0,o.h)(y.xv.B3,{color:"secondary",align:"center"},"Try again, or hop to another page.")))}},55337:(z,u,e)=>{"use strict";e.d(u,{KL:()=>me,rS:()=>pe,au:()=>ie,E$:()=>re,dg:()=>be,Zx:()=>Te});var o=e(6400),f=e(30396),l=e(94184),c=e.n(l),g=e(98913),v=e(52066),E=e(81470),y=e(15045),p=e(70444),O=e(20501),S=e(71765),x=e(91704),T=e(80332),_=e(4190),d=e(58718),s=e(63270),w=e(67963),P=e(62017),I=e(3258),D=e(66141),N=e(16527),C=e(8479),A=e(6742),L=e(39419),U=e(13045),W=e(86605),G=e(48960),$=e(10186),q=e(41474),J=e(68493),R=e(33510);const j={personYouMayKnow:"frontend-reader2-FeedSidebar-module__personYouMayKnow--xfbDV",personYouMayKnowText:"frontend-reader2-FeedSidebar-module__personYouMayKnowText--Z2xnA",personYouMayKnowFeed:"frontend-reader2-FeedSidebar-module__personYouMayKnowFeed--NDSjT",personYouMayKnowFeedButton:"frontend-reader2-FeedSidebar-module__personYouMayKnowFeedButton--qUPdh",personYouMayKnowImage:"frontend-reader2-FeedSidebar-module__personYouMayKnowImage--z1fjJ",shareProfile:"frontend-reader2-FeedSidebar-module__shareProfile--3xYv4",fbConnect:"frontend-reader2-FeedSidebar-module__fbConnect--Omv4o",avatarContainer:"frontend-reader2-FeedSidebar-module__avatarContainer--R4y26",close:"frontend-reader2-FeedSidebar-module__close--XScse",badge:"frontend-reader2-FeedSidebar-module__badge--S42Dn",badgeIcon:"frontend-reader2-FeedSidebar-module__badgeIcon--ElLpK"},ie="inviteFriendsNuxDismissed",le="facebookPymkNuxDismissed",ye="sidebarInviteFriendsNuxDismissed",ue="sidebarFacebookNuxDismissed",oe=60*60*24*7;function te(){const ve=useSiteConfigs(),{user:ce}=useUserContext(),[Le]=useDismissed(ye),[Ne=Le]=useDismissed(ue,oe),He=ve.getConfigFor("twitter_connect_flows_enabled")&&ce&&!ce.has_linked_twitter,ze=!Ne&&!!ve.getConfigFor("facebook_connect")&&ce&&!ce.has_linked_facebook,Xe=ce&&!Le&&!ze;return h(Sidebar,null,h(SidebarBody,{gap:0},Xe&&h(Fragment,null,h(Te,{utmSource:"feed_sidebar"}),h(Divider,{paddingX:8,paddingY:8})),He&&h(Fragment,null,h(pe,null),h(Divider,{paddingX:8,paddingY:8})),ze&&h(Fragment,null,h(me,null),h(Divider,{paddingX:8,paddingY:8})),h(Z,null)))}function Z(){var ve,ce;const Le=useFetch({pathname:"/api/v1/reader/feed/sidebar-user-suggestions",auto:!0});return!Le.isLoading&&!((ve=Le.result)!=null&&ve.suggestions.length)?null:h(FlexColumn,{gap:8},h(SidebarHeader,null,h(Text.H4,null,h(TextLink,{onClick:Ne=>routeClick(Ne,getFeedPeopleYouMayKnowUrl())},"Suggestions")),h(Button,{size:"small",priority:"secondary",fill:"empty",onClick:Ne=>routeClick(Ne,getFeedPeopleYouMayKnowUrl())},"See all")),h(FlexColumn,{gap:8},Le.isLoading?times(8,()=>h(se,null)):(ce=Le.result)==null?void 0:ce.suggestions.map(Ne=>h(re,{feedUserSuggestion:Ne,surface:FeedSurface.FeedSidebar,hoverCardPlacement:"left-center"}))),h(Divider,{paddingX:8,paddingY:8}))}function re({feedUserSuggestion:ve,surface:ce,hoverCardPlacement:Le}){var Ne,He;const{exposeExperiment:ze}=(0,_.jc)(),Xe=(0,f.sO)(null),_t=(0,d.Sv)(ve.user,ce),we=_t.isFollowing?"Following":"Follow",We=_t.isFollowing?"secondary":"primary",Ie=ce===E.Uo.Feed?"pymk_notes_feed_item":ce===E.Uo.Suggestions?"pymk_notes_suggestions_page":"pymk_notes_sidebar";(0,A.UM)(Xe,()=>{(0,q.MJ)(ve,ce),ze("people_you_may_know_algorithm_7")});const[tt,et]=(0,f.eJ)(!1),ht=$t=>{tt||(et(!0),(0,q.CD)(ve,ce,$t))},vt=$t=>{ht("user-suggestion"),$t.defaultPrevented||(0,L.redirect)((0,O.getReaderProfileUrl)(ve.user,{utm_source:Ie}),{event:$t})},Lt=$t=>{$t.preventDefault(),ht("user-suggestion-cta"),_t.toggle()};return ce===E.Uo.Feed?(0,o.h)(U.tu,{ref:Xe,className:c()(j.personYouMayKnow,j.personYouMayKnowFeed),border:"detail",alignItems:"center",bg:"elevated",padding:12,gap:12,radius:12,onClick:vt},(0,o.h)($.BG,{user:ve.user,pub:ve.publication,size:64}),(0,o.h)(U.tu,{minWidth:0,flex:"grow",alignSelf:"stretch"},(0,o.h)(U.xv.B4,{as:"a",decoration:"hover-underline",align:"center",target:"_blank",rel:"noopener",weight:"bold",href:(0,O.getReaderProfileUrl)(ve.user),ellipsis:!0},ve.user.name),(0,o.h)(U.xv.B4,{align:"center",color:"secondary",ellipsis:!0},ve.source==="twitter"?"From Twitter":ve.source==="facebook"?"From Facebook":ve.source==="contacts_email"||ve.source==="contacts_phone"?"From your contacts":ve.publication?`${ve.publication.name}`:(Ne=ve.user.bio)!=null?Ne:"")),(0,o.h)(U.zx,{size:"small",priority:We,fill:"outline",onClick:Lt,grow:!0},(0,o.h)(U.gq,null,(0,o.h)(U.gq,{alignItems:"center",gap:4},we)))):(0,o.h)(ae,{user:ve.user,source:Ie,publication:ve.publication,label:ve.source==="twitter"?"From Twitter":ve.publication?`Writes ${ve.publication.name}`:(He=ve.user.bio)!=null?He:"",hoverCardPlacement:Le,onClick:vt,cta:(0,o.h)(U.zx,{size:"small",priority:We,fill:ce===E.Uo.Suggestions?"outline":"empty",onClick:Lt},(0,o.h)(U.gq,null,(0,o.h)(U.gq,{alignItems:"center",gap:4},we))),boxRef:Xe})}function ae({user:ve,publication:ce,label:Le,hoverCardPlacement:Ne,onClick:He,cta:ze,source:Xe,boxRef:_t}){const we=(0,w.aF)(),We=ve&&ve.id===(we==null?void 0:we.id);return(0,o.h)(U.hs,{ref:_t,className:j.personYouMayKnow,alignItems:"center",justifyContent:"space-between",padding:8,gap:12,onClick:He,radius:12},(0,o.h)(U.hs,{gap:12,minWidth:0},(0,o.h)($.BG,{user:ve,pub:ce,size:40,showProfileHovercard:!0}),(0,o.h)(U.tu,{minWidth:0,justifyContent:"center",alignItems:"start"},(0,o.h)(T.Ct,{subject:ve,placement:Ne,utmSource:Xe},(0,o.h)(U.xv.B4,{as:"a",className:j.personYouMayKnowText,decoration:"hover-underline",target:"_blank",rel:"noopener",weight:"bold",href:(0,O.getReaderProfileUrl)(ve),ellipsis:!0},ve.name)),(0,o.h)(U.xv.B4,{color:"secondary",ellipsis:!0,className:j.personYouMayKnowText,as:ce?"a":void 0,decoration:ce?"hover-underline":void 0,target:"_blank",rel:"noopener",onClick:Ie=>{Ie.stopPropagation()},href:ce?(0,y.getPubUrl)(ce):void 0},Le))),!We&&ze)}function se(){return h(FlexBox,{className:css.personYouMayKnow,alignItems:"center",padding:8,gap:12},h(Placeholder,{type:"circle",className:css.personYouMayKnowImage}),h(FlexColumn,{style:{width:"100%"},gap:8},h(Placeholder,{type:"bar",width:"80%",height:16}),h(Placeholder,{type:"bar",width:"40%",height:16})))}function be(){const[ve,ce]=(0,D.Z)(le,oe);return ve?null:(0,o.h)(U.tu,{className:c()(j.personYouMayKnow,j.personYouMayKnowFeed),border:"detail",alignItems:"center",bg:"elevated",padding:12,gap:12,style:{position:"relative"},radius:12},(0,o.h)(W.P,{className:j.close,onClick:ce}),(0,o.h)(S.Z,{fill:"var(--color-accent-facebook)",stroke:"none",height:64,width:64}),(0,o.h)(U.tu,{alignItems:"center",minWidth:0,flex:"grow"},(0,o.h)(U.xv.B4,{align:"center",weight:"bold",ellipsis:!0},"Connect Facebook"),(0,o.h)(U.xv.B4,{align:"center",color:"secondary",ellipsis:!0},"Find your friends")),(0,o.h)(U.zx,{size:"small",priority:"primary",fill:"filled",href:(0,O.getConnectFacebookUrl)({type:"reader2",redirect:(0,y.getFeedUrl)()}),style:{backgroundColor:"var(--color-accent-facebook)"},localNavigation:!1,grow:!0,onClick:()=>(0,I.j)(I.FP.CONNECT_FACEBOOK_SCREEN_VIEWED,{source:"suggestions"})},"Connect"))}function _e(){return h(FlexBox,{className:css.personYouMayKnow,alignItems:"center",justifyContent:"space-between",padding:8,gap:12},h(FlexBox,{gap:12,minWidth:0},h(FacebookIconCircle,{height:40}),h(FlexColumn,{minWidth:0},h(Text.B4,{weight:"semibold"},"Connect Facebook"),h(Text.B4,{color:"secondary"},"Find your friends on Substack"))),h(Button,{priority:"primary",fill:"filled",href:getConnectFacebookUrl({type:"reader2",redirect:getFeedUrl()}),style:{backgroundColor:"var(--color-accent-facebook)"},localNavigation:!1,onClick:()=>track(EVENTS.CONNECT_FACEBOOK_SCREEN_VIEWED,{source:"suggestions"})},"Connect"))}function pe(){return(0,o.h)(U.tu,{alignItems:"center",gap:12,paddingX:32,paddingY:8},(0,o.h)(v.Z,{size:32,fill:"var(--color-accent-twitter)",stroke:"none"}),(0,o.h)(U.tu,{alignItems:"center",gap:6},(0,o.h)(U.xv.H4,null,"Find people you know"),(0,o.h)(U.xv.B4,{align:"center",color:"secondary"},"Connect Twitter to see what the people you follow are reading.")),(0,o.h)(U.zx,{priority:"primary",href:(0,y.getConnectTwitterUrl)({type:"reader2",redirect:p.Ds}),localNavigation:!1,style:{backgroundColor:"var(--color-accent-twitter)"},rounded:!0},"Connect Twitter"))}function me(){const[,ve]=(0,D.Z)(ue),ce=()=>{ve()};return(0,o.h)(U.tu,{position:"relative",alignItems:"center",gap:12,paddingX:32,paddingY:8},(0,o.h)(W.P,{className:j.close,onClick:ce}),(0,o.h)(S.Z,{width:40,height:40}),(0,o.h)(U.tu,{alignItems:"center",gap:6},(0,o.h)(U.xv.H4,null,"Find your friends"),(0,o.h)(U.xv.B4,{align:"center",color:"secondary"},"Connect Facebook to see what your friends are reading.")),(0,o.h)(U.zx,{priority:"primary",href:(0,O.getConnectFacebookUrl)({type:"reader2",redirect:(0,y.getFeedUrl)()}),localNavigation:!1,style:{backgroundColor:"var(--color-accent-facebook)"},rounded:!0,onClick:()=>(0,I.j)(I.FP.CONNECT_FACEBOOK_SCREEN_VIEWED,{source:"sidebar"})},"Connect Facebook"))}function Te({utmSource:ve}){const[ce,Le]=(0,f.eJ)(!1),[Ne,He]=(0,f.eJ)(!1),{user:ze,changeSetting:Xe}=(0,w.SE)(),[,_t]=(0,D.Z)(ie),[,we]=(0,D.Z)(ye);if(!ze)return null;const We=()=>{Xe("invite_friends_nux_dismissed_at",new Date().toISOString()),_t()},Ie=()=>{We(),we()},tt=()=>{Le(!1),Ne&&We()},et=()=>{Le(!0),(0,I.j)(I.FP.INVITE_FRIENDS_MODAL_SHOWN,{source:ve})};return(0,o.h)(o.Fragment,null,(0,o.h)(U.tu,null,(0,o.h)(U.tu,{alignItems:"center",gap:12,padding:32,className:j.shareProfile},(0,o.h)(W.P,{className:j.close,onClick:Ie}),(0,o.h)(U.tu,{className:j.avatarContainer},(0,o.h)($.qE,{user:ze,size:48}),(0,o.h)(U.hs,{className:j.badge,padding:4},(0,o.h)(x.HA,{className:j.badgeIcon,size:12}))),(0,o.h)(U.tu,{alignItems:"center",gap:6},(0,o.h)(U.xv.H4,null,"Invite your friends"),(0,o.h)(U.xv.B4,{align:"center",color:"secondary"},"Share your profile to help your friends find you on Notes.")),(0,o.h)(U.zx,{priority:"primary",onClick:et,rounded:!0},"Invite friends"))),(0,o.h)(J.N,{isOpen:ce,utmSource:ve,onClose:tt,setShared:()=>He(!0)}))}},68493:(z,u,e)=>{"use strict";e.d(u,{N:()=>y});var o=e(6400),f=e(20501),l=e(67963),c=e(73115),g=e(13045),v=e(10186);const E={card:"frontend-reader2-InviteFriendModal-module__card--Y_M2a",cardTop:"frontend-reader2-InviteFriendModal-module__cardTop--U1mKN",cardBottom:"frontend-reader2-InviteFriendModal-module__cardBottom--k08tv",cardAvatar:"frontend-reader2-InviteFriendModal-module__cardAvatar--XnNz6",cardOverlay:"frontend-reader2-InviteFriendModal-module__cardOverlay--d17EK",cardUrl:"frontend-reader2-InviteFriendModal-module__cardUrl--CRORb",fakeButton:"frontend-reader2-InviteFriendModal-module__fakeButton--sjhoe"},y=({isOpen:p,utmSource:O,onClose:S,setShared:x})=>{const{user:T}=(0,l.SE)();if(!T)return(0,o.h)(o.Fragment,null);const _=(0,f.getReaderProfileUrl)(T,{utm_source:O}),d=`/img/profile_cards/card-bg-${Math.ceil(T!=null&&T.id?T.id%9+1:Math.random()*8)}.png`;return(0,o.h)(g.u_,{isOpen:p,onClose:S,width:480,overflow:"hidden"},(0,o.h)(g.xB,{includeClose:!0,onClose:S}),(0,o.h)(g.tu,{paddingX:32,paddingTop:16,paddingBottom:24,gap:20},(0,o.h)(g.tu,{alignItems:"center",gap:8},(0,o.h)(g.xv.H2,{weight:"semibold"},"Invite your friends"),(0,o.h)(g.xv.B3,{align:"center",color:"secondary"},"Share your profile to help your friends and followers find you on Substack.")),(0,o.h)(g.tu,{justifyContent:"center",alignItems:"center",border:"detail",radius:12,shadow:"lg",className:E.card},(0,o.h)(g.tu,{flex:"grow",className:E.cardTop},(0,o.h)("img",{className:E.cardOverlay,src:(0,f.imginary)(d,800)})),(0,o.h)(g.tu,{flex:"grow",alignSelf:"stretch",className:E.cardBottom,gap:16,paddingX:20,paddingBottom:20,paddingTop:0},(0,o.h)(g.hs,{justifyContent:"space-between",alignItems:"end"},(0,o.h)(v.qE,{user:T,size:112,className:E.cardAvatar}),(0,o.h)(g.zx,{priority:"secondary",rounded:!0,className:E.fakeButton},"Subscribe")),(0,o.h)(g.tu,{flex:"grow",gap:8},(0,o.h)(g.xv.H2,null,T.name),(0,o.h)(g.xv.Meta,{className:E.cardUrl,size:12,color:"substack"},_.replace(/^(http|https):\/\//,"").replace(/\?.*$/,"")),T.bio&&(0,o.h)(g.xv.B4,{color:"secondary"},T.bio)))),(0,o.h)(g.xv.Meta,{align:"center"},"Share via"),(0,o.h)(c.sZ,{shareUrl:_,shareEventType:"profile",shareText:"Subscribe to me on Substack",itemKey:T.id,onShare:()=>{x&&x()}})))}},11688:(z,u,e)=>{"use strict";e.d(u,{Oe:()=>d,cr:()=>_});var o=e(6400),f=e(8479),l=Object.defineProperty,c=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(D,N,C)=>N in D?l(D,N,{enumerable:!0,configurable:!0,writable:!0,value:C}):D[N]=C,O=(D,N)=>{for(var C in N||(N={}))E.call(N,C)&&p(D,C,N[C]);if(v)for(var C of v(N))y.call(N,C)&&p(D,C,N[C]);return D},S=(D,N)=>c(D,g(N)),x=(D,N)=>{var C={};for(var A in D)E.call(D,A)&&N.indexOf(A)<0&&(C[A]=D[A]);if(D!=null&&v)for(var A of v(D))N.indexOf(A)<0&&y.call(D,A)&&(C[A]=D[A]);return C},T=(D,N,C)=>new Promise((A,L)=>{var U=$=>{try{G(C.next($))}catch(q){L(q)}},W=$=>{try{G(C.throw($))}catch(q){L(q)}},G=$=>$.done?A($.value):Promise.resolve($.value).then(U,W);G((C=C.apply(D,N)).next())});function _(D){return(0,o.h)(s,S(O({},D),{key:D.module}))}function d({module:D,onRequest:N,fetchImmediately:C=!0}){const A=P.has(D),L=(0,f.Wf)(()=>I(D,N),[],{auto:C&&!A,initialResult:A?P.get(D):null});return L.error&&console.error(L.error),{error:L.error,isLoading:L.isLoading,result:L.result,fetch:L.refetch}}function s(D){var N=D,{onRequest:C,resolve:A,module:L,whileLoading:U}=N,W=x(N,["onRequest","resolve","module","whileLoading"]);const{error:G,isLoading:$,result:q}=d({module:L,onRequest:C});return(0,o.h)(o.Fragment,null,G?"Error":$||!q?U!=null?U:null:(0,o.h)(A(q),W))}function w(D){return h(_,S(O({},D),{resolve:N=>N.default}))}const P=new Map;function I(D,N){return T(this,null,function*(){let C=P.get(D);return C||(C=yield N(),P.set(D,C)),C})}},18130:(z,u,e)=>{"use strict";e.d(u,{c:()=>d,r:()=>_});var o=e(6400),f=e(98661),l=e(92298),c=Object.defineProperty,g=Object.defineProperties,v=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,O=(s,w,P)=>w in s?c(s,w,{enumerable:!0,configurable:!0,writable:!0,value:P}):s[w]=P,S=(s,w)=>{for(var P in w||(w={}))y.call(w,P)&&O(s,P,w[P]);if(E)for(var P of E(w))p.call(w,P)&&O(s,P,w[P]);return s},x=(s,w)=>g(s,v(w)),T=(s,w)=>{var P={};for(var I in s)y.call(s,I)&&w.indexOf(I)<0&&(P[I]=s[I]);if(s!=null&&E)for(var I of E(s))w.indexOf(I)<0&&p.call(s,I)&&(P[I]=s[I]);return P};const _=(0,f.forwardRef)((s,w)=>{var P=s,{href:I,onClick:D,campaign:N}=P,C=T(P,["href","onClick","campaign"]);const A=d({href:I,onClick:D,campaign:N});return(0,o.h)("a",S(x(S({},C),{ref:w}),A))});function d({onClick:s,href:w,campaign:P}){if(w){let D;try{D=new URL(w)}catch(N){try{D=new URL(`${document.location.origin}${w}`)}catch(C){}}if(D){if(D.origin===document.location.origin&&!P){const N=new URLSearchParams,C={};for(const[A,L]of D.searchParams)A.startsWith("utm_")?A==="utm_campaign"?C.name=L:C[A.replace(/^utm_/,"")]=L:N.append(A,L);P=C,w=`${D.pathname}${N}`}else if(D.origin!==document.location.origin&&P){for(const[N,C]of Object.entries(P)){const A=N==="name"?"campaign":N;D.searchParams.set(`utm_${A}`,C)}w=D.toString()}}}return{href:w,onClick:D=>{s==null||s(D),!D.defaultPrevented&&!D.ctrlKey&&!D.shiftKey&&!D.metaKey&&w&&(0,l.j)(S({},P))}}}},42332:(z,u,e)=>{"use strict";e.d(u,{aw:()=>U,u:()=>W});var o=e(6400),f=e(30396),l=e(94184),c=e.n(l),g=e(74285),v=e(21958),E=e(5131),y=Object.defineProperty,p=Object.defineProperties,O=Object.getOwnPropertyDescriptors,S=Object.getOwnPropertySymbols,x=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,_=(G,$,q)=>$ in G?y(G,$,{enumerable:!0,configurable:!0,writable:!0,value:q}):G[$]=q,d=(G,$)=>{for(var q in $||($={}))x.call($,q)&&_(G,q,$[q]);if(S)for(var q of S($))T.call($,q)&&_(G,q,$[q]);return G},s=(G,$)=>p(G,O($)),w=(G,$)=>{var q={};for(var J in G)x.call(G,J)&&$.indexOf(J)<0&&(q[J]=G[J]);if(G!=null&&S)for(var J of S(G))$.indexOf(J)<0&&T.call(G,J)&&(q[J]=G[J]);return q};function P({hideOnScroll:G}={}){const[$,q]=useState(!1),J=useRef();return useEffect(()=>{if($){const R=()=>{q(!1)},j=ie=>{ie.key==="Escape"&&q(!1)};return window.addEventListener("click",R),window.addEventListener("keydown",j),G&&window.addEventListener("scroll",R,{capture:!0,passive:!0}),()=>{window.removeEventListener("click",R),window.removeEventListener("keydown",j),window.removeEventListener("scroll",R,{capture:!0})}}},[$]),{ref:J,isOn:$,setIsOn:q,toggle:()=>{q(!$)}}}const I={anchorY:"bottom",anchorX:"left",tetherY:"top",tetherX:"left"};function D({tetherRef:G,fixTo:$=I,isFixed:q,offset:J={x:0,y:0},children:R,className:j}){const ie=(0,f.sO)();return(0,f.bt)(()=>{const le=G.current,ye=ie.current;if(!le||!ye)return;const ue=le.getBoundingClientRect(),oe=ye.getBoundingClientRect(),te=d(d({},I),$);let Z=te.anchorY==="center"?ue.top+ue.height/2:ue[te.anchorY];te.tetherY==="bottom"&&(Z=window.innerHeight-Z),te.tetherY==="center"&&(Z-=oe.height/2);const re=te.tetherY==="bottom"?"bottom":"top";let ae=te.anchorX==="center"?ue.left+ue.width/2:ue[te.anchorX];te.tetherX==="right"&&(ae=window.innerWidth-ae),te.tetherX==="center"&&(ae-=oe.width/2);const se=te.tetherX==="right"?"right":"left";re==="top"&&Z+oe.height>window.innerHeight?(Z=ue.top-oe.height,J.y&&(Z-=J.y)):J.y&&(Z+=J.y),J.x&&(ae+=J.x),q||(Z+=window.scrollY,ae+=window.scrollX),Object.assign(ye.style,{minWidth:`${ue.width}px`,[re]:`${Z}px`,[se]:`${ae}px`})},[]),(0,o.h)(g.h,null,(0,o.h)("div",{className:c()("dropdown3",j),ref:ie,style:{position:q?"fixed":"absolute"}},R))}const N=(0,v.L)("reader2-menu reader2-font-base");function C(G){var $=G,{priority:q}=$,J=w($,["priority"]);const R=classnames("reader2-menu-item","reader2-text-button",q,J.className);return J.href?h("a",s(d({},J),{className:R})):h("div",s(d({},J),{className:R}))}function A({options:G,value:$,onChange:q,fixedHeight:J=!1}){var R;const j=P({hideOnScroll:!0});return h(Button,{variant:"tertiary",onClick:j.toggle,forwardedRef:j.ref,fixedHeight:J},(R=G.find(ie=>ie.value===$))==null?void 0:R.label,h(ChevronDown,{size:16}),j.isOn&&h(D,{tetherRef:j.ref,fixTo:{anchorX:"right",tetherX:"right"}},h(N,null,G.map(ie=>h(C,{key:ie.value,onClick:()=>q(ie.value),className:classnames("reader2-split-menu-item selectable",$===ie.value&&"isSelected")},ie.label,$===ie.value&&h(Check,{className:"feather-icon"}))))))}function L(G){var $=G,{defaultValue:q,onChange:J}=$,R=w($,["defaultValue","onChange"]);const[j,ie]=useState(q);return h(A,s(d({},R),{value:j,onChange:le=>{ie(le),J(le)}}))}function U({onHover:G}={}){const[$,q]=(0,f.eJ)(!1),J=(0,f.sO)(),R=(0,f.sO)(),j=(0,f.sO)(),ie=ye=>{ye.pointerType==="mouse"&&(clearTimeout(j.current),q(!0),G&&G())},le=ye=>{ye.pointerType==="mouse"&&(j.current=setTimeout(()=>{q(!1)},200))};return(0,f.d4)(()=>{const ye=J.current;if(ye)return ye.addEventListener("pointerenter",ie),ye.addEventListener("pointerleave",le),()=>{ye.removeEventListener("pointerenter",ie),ye.removeEventListener("pointerleave",le)}},[]),(0,f.d4)(()=>{const ye=R.current,ue=J.current;if($&&ue){const oe=()=>{q(!1)};return window.addEventListener("scroll",oe,{capture:!0,passive:!0}),ye&&(ye.addEventListener("pointerenter",ie),ye.addEventListener("pointerleave",le)),()=>{window.removeEventListener("scroll",oe,{capture:!0}),ye&&(ye.removeEventListener("pointerenter",ie),ye.removeEventListener("pointerleave",le))}}},[$]),{ref:J,tooltipRef:R,isHovering:$}}function W({tetherRef:G,children:$}){return(0,o.h)(D,{tetherRef:G,fixTo:{anchorX:"center",tetherX:"center",anchorY:"top",tetherY:"bottom"},offset:{y:12}},(0,o.h)("div",{className:"reader2-tooltip reader2-font-base reader2-text-button"},$,(0,o.h)("div",{className:"reader2-tooltip-arrow"},(0,o.h)("svg",{viewBox:"0 0 10 10",preserveAspectRatio:"none"},(0,o.h)("path",{d:"M 0,0 L 10,0 L 6,9 Q 5,11 4,9 Z"})))))}},34518:(z,u,e)=>{"use strict";e.d(u,{Yy:()=>S});var o=e(6400),f=e(30396),l=e(94184),c=e.n(l),g=e(26059),v=e(74285),E=e(39419),y=e.n(E),p=e(5131),O=e(19696);function S({children:d,className:s,onClose:w,hasClosePill:P,isPopup:I,noExit:D,noExitOnClick:N,noFullscreen:C,noCloseButton:A,testID:L}){const U=(0,f.sO)(),W=G=>{!D&&!N&&I&&(C||window.innerWidth>540)&&(G.stopPropagation(),G.preventDefault(),w())};return(0,o.h)(v.h,null,(0,o.h)("div",{className:c()("modal simple-modal wide typography","in",s,{"has-close-pill":P,popup:I}),"data-testid":L,role:"dialog"},(0,o.h)("div",{className:"modal-table"},(0,o.h)("div",{className:"modal-row"},(0,o.h)("div",{className:c()("modal-cell modal-content reader2-modal",{"no-fullscreen":C})},(0,o.h)("div",{className:"modal-clickspace",onClick:W}),(0,o.h)("div",{className:"container",ref:U},!D&&(!A||(0,E.isMobileBrowser)())&&(0,o.h)(p.zx,{className:c()("modal-btn modal-exit-btn no-margin",{"button btn btn-secondary btn-pill icon-only":P}),onClick:()=>w()},(0,o.h)(g.Z,null)),d))))))}function x({children:d,onCancel:s}){return h(S,{className:"rss-feed-modal remove-rss-feed",isPopup:!0,onClose:s},h(T,null,d))}const T=(0,O.L)("simple-modal-pad reader2-confirm-modal"),_=(0,O.L)("buttons")},10174:(z,u,e)=>{"use strict";e.d(u,{Au:()=>re,i3:()=>ae,oC:()=>be,sA:()=>ue});var o=e(6400),f=e(30396),l=e(94184),c=e.n(l),g=e(13639),v=e(82622),E=e(20501),y=e(95847),p=e(67963),O=e(83097),S=e(62952),x=e(8479),T=e(84040),_=e(51126),d=e(62246),s=e(43887),w=e(10186),P=e(91870),I=e(11688),D=e(50292),N=e(44396),C=e(70762),A=e(7980),L=Object.defineProperty,U=Object.defineProperties,W=Object.getOwnPropertyDescriptors,G=Object.getOwnPropertySymbols,$=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable,J=(me,Te,ve)=>Te in me?L(me,Te,{enumerable:!0,configurable:!0,writable:!0,value:ve}):me[Te]=ve,R=(me,Te)=>{for(var ve in Te||(Te={}))$.call(Te,ve)&&J(me,ve,Te[ve]);if(G)for(var ve of G(Te))q.call(Te,ve)&&J(me,ve,Te[ve]);return me},j=(me,Te)=>U(me,W(Te)),ie=(me,Te)=>{var ve={};for(var ce in me)$.call(me,ce)&&Te.indexOf(ce)<0&&(ve[ce]=me[ce]);if(me!=null&&G)for(var ce of G(me))Te.indexOf(ce)<0&&q.call(me,ce)&&(ve[ce]=me[ce]);return ve},le=(me,Te,ve)=>new Promise((ce,Le)=>{var Ne=Xe=>{try{ze(ve.next(Xe))}catch(_t){Le(_t)}},He=Xe=>{try{ze(ve.throw(Xe))}catch(_t){Le(_t)}},ze=Xe=>Xe.done?ce(Xe.value):Promise.resolve(Xe.value).then(Ne,He);ze((ve=ve.apply(me,Te)).next())});function ye(me){var Te=me,{isOpen:ve}=Te,ce=ie(Te,["isOpen"]);return(0,o.h)(d.u_,{className:A.Z.composerModal,isOpen:ve,onClose:ce.onClose,fullscreenMobile:!0},(0,o.h)(I.cr,j(R({},ce),{module:"../feed/NoteComposer",resolve:Le=>Le.NoteComposer,onRequest:()=>Promise.all([e.e(96),e.e(760),e.e(679),e.e(563),e.e(298)]).then(e.bind(e,95994)),whileLoading:(0,o.h)("div",{style:{height:410}})})))}function ue({disabled:me,parentPubId:Te,parentPostId:ve,parentCommentId:ce,placeholder:Le,tabId:Ne}){const He=ae(),ze=(0,p.aF)(),Xe=(0,N.XA)(),{requireLogin:_t}=(0,D.SJ)(),we=()=>{me||(ze?He.open({parentPubId:Te,parentPostId:ve,parentCommentId:ce,tabId:Ne}):_t==null||_t())},We=(0,S.h)({onAddFiles:Ie=>{He.open({parentPubId:Te,parentPostId:ve,parentCommentId:ce,initialFiles:Ie,tabId:Ne})}});return(0,o.h)(_.tu,R({},We.props),(0,o.h)(_.gq,{gap:12,alignItems:"center",className:c()(A.Z.inlineComposer,{[A.Z.disabled]:me})},ze?(0,o.h)(_.hs,{as:"a",flex:"auto",href:(0,E.getReaderProfileUrl)(ze,{noBase:!0})},(0,o.h)(w.qE,{size:Xe?36:40,user:ze})):(0,o.h)(_.hs,{flex:"auto"},(0,o.h)(w.qE,{size:Xe?36:40})),(0,o.h)(T.kG,{className:c()(A.Z.inlineComposerButton,{[A.Z.mobile]:Xe,[A.Z.disabled]:me,[A.Z.isDropping]:We.isDragging}),onClick:we,disabled:me,resetCss:!0},(0,o.h)(s.xv.B3,{size:Xe?14:16,align:"left",color:"secondary"},Le||"What's on your mind?")),!Xe&&(0,o.h)(T.zx,{disabled:!0,rounded:!0},"Post")))}function oe(){const me=ae(),Te=useUser(),ve=()=>{me.open({})};return Te?h(IconButton,{className:css.floatingComposer,priority:"primary",fill:"filled",size:56,onClick:ve,shadow:"medium"},h(Plus,{size:24})):null}const te={isOpen:!1,firstComment:void 0},Z=(0,o.createContext)({state:te,open:()=>le(void 0,null,function*(){throw new Error("Not implemented")})});function re({children:me}){var Te,ve,ce;const Le=(0,p.aF)(),Ne=!(Le!=null&&Le.name),He=(0,P.I0)(),[ze,Xe]=(0,f.eJ)(te),{feedItem:_t}=ze,we=be(_t),We=(ve=(Te=_t==null?void 0:_t.parentComments)==null?void 0:Te[0])!=null?ve:_t==null?void 0:_t.comment;(0,f.d4)(()=>{Le&&Promise.all([e.e(96),e.e(760),e.e(679),e.e(563),e.e(298)]).then(e.bind(e,95994))},[Le]);const Ie=(0,f.Ye)(()=>({state:ze,open:ht=>new Promise((vt,Lt)=>{Xe(j(R(R({},te),ht),{isOpen:!0,resolve:vt,reject:Lt}))})}),[ze]),tt=()=>{var ht,vt;(vt=(ht=document.activeElement)==null?void 0:ht.blur)==null||vt.call(ht),Xe(j(R({},ze),{isOpen:!1}))},et=!1;return(0,o.h)(Z.Provider,{value:Ie},me,Ne?(0,o.h)(se,{isOpen:ze.isOpen,onClose:tt,onSuccess:()=>Xe(j(R({},ze),{isOpen:!0}))}):et?(0,o.h)(d.u_,{isOpen:ze.isOpen,onClose:tt,width:316},(0,o.h)(pe,{onClose:tt})):we?(0,o.h)(d.u_,{isOpen:ze.isOpen,onClose:tt,width:316},(0,o.h)(_e,{onClose:tt,requirement:we,writerId:(ce=We==null?void 0:We.user_id)!=null?ce:0})):(0,o.h)(ye,j(R({},ze),{isOpen:ze.isOpen,onClose:tt,onSuccess:ht=>{var vt,Lt;ht.isFirstFeedCommentByUser?Xe(j(R({},ze),{firstComment:ht})):tt(),He({type:ze.editComment?"edit_comment":"new_comment",payload:{comment:ht}}),(vt=ze.onCompose)==null||vt.call(ze,ht),(Lt=ze.resolve)==null||Lt.call(ze,ht)},onError:ze.reject})),(0,o.h)(d.u_,{isOpen:ze.isOpen&&!!ze.firstComment},ze.firstComment&&(0,o.h)(O.q,{onClose:tt,comment:ze.firstComment})))}function ae(){return(0,f.qp)(Z)}function se({isOpen:me,onClose:Te,onSuccess:ve}){const ce=(0,p.SE)();return(0,o.h)(d.u_,{isOpen:me,onClose:Te,fullscreenMobile:!0},(0,o.h)(d.xB,{title:"First, set up your profile",description:"Introduce yourself by adding a name, bio, and photo to your profile.",includeClose:!0,onClose:Te}),(0,o.h)(y._0,{className:A.Z.setupProfileModalContent,pageTitle:"",user:ce.user,optionalPhoto:!0,noSubscribeCta:!0,complete:!0,onSuccess:Le=>{ce.setUser(Le.body),ve()}}))}function be(me){var Te,ve;const ce=(ve=(Te=me==null?void 0:me.parentComments)==null?void 0:Te[0])!=null?ve:me==null?void 0:me.comment,{user_id:Le,reply_minimum_role:Ne}=ce!=null?ce:{},He=(0,p.aF)(),ze=(0,C.K)(Le!=null?Le:0);if(!Le||!Ne||me!=null&&me.canReply||ce&&He&&(0,v._N)(ce,He.id))return null;if(Ne){if(Ne==="free_subscriber"&&(!ze||!["free_subscription","subscribed"].includes(ze)))return"free_subscriber";if(Ne==="paid_subscriber"&&ze!=="subscribed")return"paid_subscriber"}return null}function _e({requirement:me,writerId:Te,onClose:ve}){var ce;const Le=(0,p.aF)(),{error:Ne,result:He}=(0,x.ib)({pathname:`/api/v1/user/${Te}/primary-publication`,deps:[Te],auto:!0});return(0,o.h)(_.tu,{padding:16},(0,o.h)(_.hs,{justifyContent:"center",paddingTop:16,paddingBottom:20},(0,o.h)(g.Z,{size:32,color:"var(--color-primary)"})),(0,o.h)(_.tu,{gap:20},(0,o.h)(_.tu,{gap:8,alignItems:"center"},(0,o.h)(s.xv.H3,{align:"center"},me==="free_subscriber"?"Subscribers only":"Paid subscribers only"),He&&(0,o.h)(s.xv.B3,{color:"secondary",align:"center"},"To join the conversation,"," ",me==="free_subscriber"?"subscribe":"become a paying subscriber"," ","to ",(ce=He.name)!=null?ce:"this publication",".")),(0,o.h)(_.tu,{gap:8},He&&(0,o.h)(T.zx,{priority:"primary",rounded:!0,href:(0,E.getSubscribeUrl)(He,{user:Le,addBase:!0,params:{utm_source:"feed-comment-reply-restriction"}})},"Subscribe"),(0,o.h)(T.zx,{priority:"secondary",rounded:!0,onClick:ve},"Cancel"))))}function pe({onClose:me}){return(0,o.h)(_.tu,{padding:16},(0,o.h)(_.tu,{gap:20},(0,o.h)(_.tu,{gap:8,alignItems:"center"},(0,o.h)(s.xv.H3,{align:"center"},"Confirm your email address"),(0,o.h)(s.xv.B3,{color:"secondary",align:"center"},"Please confirm your email address before using Notes.")),(0,o.h)(_.tu,{gap:8},(0,o.h)(T.zx,{priority:"primary",rounded:!0,onClick:me},"Ok"),(0,o.h)(T.zx,{priority:"secondary",rounded:!0,href:"/settings"},"Resend confirmation email"))))}},33510:(z,u,e)=>{"use strict";e.d(u,{t5:()=>D.t,Sv:()=>I.S,Xq:()=>De,EU:()=>H,II:()=>me,Uj:()=>le,y:()=>ht,zr:()=>ee,mE:()=>tt,pe:()=>_t,Vm:()=>oe,Hj:()=>st,_Y:()=>ue,mb:()=>Le,eK:()=>Ne});var o=e(6400),f=e(98661),l=e(30396),c=e(94184),g=e.n(c),v=e(1852),E=e(84606),y=e(20501),p=e(16527),O=e(39419),S=e(84040),x=e(51126),T=e(43887),_=e(44396),d=e(5131),s=e(19696),w=e(54520);const P={pageStack:"frontend-reader2-Page-module__pageStack--ody_S",gap_0:"frontend-reader2-Page-module__gap_0--yYU_2",gap_8:"frontend-reader2-Page-module__gap_8--PncV0",gap_16:"frontend-reader2-Page-module__gap_16--jwghA",linkRow:"frontend-reader2-Page-module__linkRow--fAbeU",isPadded:"frontend-reader2-Page-module__isPadded--ByIdx",linkRowA:"frontend-reader2-Page-module__linkRowA--KsC_y",isClickable:"frontend-reader2-Page-module__isClickable--u8wHF",isSelectable:"frontend-reader2-Page-module__isSelectable--w0CEf",isSelected:"frontend-reader2-Page-module__isSelected--r1vb5",zero:"frontend-reader2-Page-module__zero--Gd4kD",hoverLink:"frontend-reader2-Page-module__hoverLink--MvDt2",placeholder:"frontend-reader2-Page-module__placeholder--qZjLi",travel:"frontend-reader2-Page-module__travel--cox8O",bar:"frontend-reader2-Page-module__bar--kRTwB",circle:"frontend-reader2-Page-module__circle--ZMmhY",elevated:"frontend-reader2-Page-module__elevated--QKV5Y",input:"frontend-reader2-Page-module__input--cAK3Q",error:"frontend-reader2-Page-module__error--E0rLs",textarea:"frontend-reader2-Page-module__textarea--tqN9a",tabContainer:"frontend-reader2-Page-module__tabContainer--UKtS3"};var I=e(15822),D=e(55886),N=Object.defineProperty,C=Object.defineProperties,A=Object.getOwnPropertyDescriptors,L=Object.getOwnPropertySymbols,U=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable,G=(de,Ee,Me)=>Ee in de?N(de,Ee,{enumerable:!0,configurable:!0,writable:!0,value:Me}):de[Ee]=Me,$=(de,Ee)=>{for(var Me in Ee||(Ee={}))U.call(Ee,Me)&&G(de,Me,Ee[Me]);if(L)for(var Me of L(Ee))W.call(Ee,Me)&&G(de,Me,Ee[Me]);return de},q=(de,Ee)=>C(de,A(Ee)),J=(de,Ee)=>{var Me={};for(var $e in de)U.call(de,$e)&&Ee.indexOf($e)<0&&(Me[$e]=de[$e]);if(de!=null&&L)for(var $e of L(de))Ee.indexOf($e)<0&&W.call(de,$e)&&(Me[$e]=de[$e]);return Me};function R({children:de}){const Ee=useMobile();return h(we,null,Ee?h(Text.H2,null,de):h(Text.H1,null,de))}function j({className:de,children:Ee,title:Me,hasTitle:$e}){return h("div",{className:classnames("reader2-page-section",(Me||$e)&&"withTitle",de)},Me&&h(ie,null,Me),Ee)}function ie({children:de,className:Ee,actions:Me}){return h("div",{className:classnames("reader2-section-title",Ee)},h("span",{className:"reader2-text-h3 reader2-section-title"},de),Me&&h("div",{className:"reader2-header-actions"},Me))}const le=(0,f.forwardRef)((de,Ee)=>{var Me=de,{isPadded:$e=!0,className:dt,linkClassName:ct}=Me,wt=J(Me,["isPadded","className","linkClassName"]);return(0,o.h)("div",{ref:Ee,className:g()(P.linkRow,$e&&P.isPadded,dt)},(0,o.h)(ye,q($({},wt),{className:ct})))});function ye(de){var Ee=de,{children:Me,className:$e,href:dt,newTab:ct,onClick:wt,noAnchor:Mt,native:pn,utmCampaign:Mn,utmSource:$n,isSelected:mr}=Ee,jn=J(Ee,["children","className","href","newTab","onClick","noAnchor","native","utmCampaign","utmSource","isSelected"]);const dr=typeof location!="undefined"?location.pathname:"",nn=!Mt&&dt!=null?"a":"div",jr=dt&&(0,y.pathWithQuery)(dt,{utm_source:$n||dr,utm_medium:"reader2",utm_campaign:Mn}),Dr=At=>{wt&&wt(At),!At.defaultPrevented&&Mt&&jr&&(0,p.Q)(At,jr,{native:pn,newTab:ct})};return(0,o.h)(x.hs,$({as:nn,className:g()(P.linkRowA,$e,(jr||wt)&&mr==null&&P.isClickable,mr&&P.isSelected,mr!=null&&P.isSelectable),"data-selected":mr,href:jr,target:ct?"_blank":void 0,onClick:Dr},jn),Me)}function ue({icon:de,title:Ee,text:Me,action:$e,className:dt}){return(0,o.h)(x.tu,{gap:16,alignItems:"center",justifyContent:"center",flex:"grow",className:g()(P.zero,dt)},de,(0,o.h)(x.tu,{gap:4},(0,o.h)(T.xv.B4,{weight:"medium",color:"secondary"},Ee),(0,o.h)(T.xv.B4,{color:"secondary"},Me)),$e)}function oe(de){var Ee=de,{className:Me,style:$e,type:dt,width:ct,height:wt,size:Mt,maxWidth:pn,elevated:Mn,radius:$n=6}=Ee,mr=J(Ee,["className","style","type","width","height","size","maxWidth","elevated","radius"]);Mt!=null&&(ct=Mt,wt=Mt);const jn=dt==="bar";return(0,o.h)(E.xu,q($({},mr),{className:g()(P.placeholder,Me,Mn&&P.elevated,jn&&P.bar,dt==="circle"&&P.circle),radius:$n,style:q($({},$e),{width:ct,height:wt,maxWidth:pn})}))}function te(de){var Ee=de,{className:Me,variant:$e,size:dt,serif:ct,isConstrained:wt,maxLines:Mt=3}=Ee,pn=J(Ee,["className","variant","size","serif","isConstrained","maxLines"]);return h("div",$({className:classnames("reader2-paragraph",$e&&`reader2-${$e}`,dt&&`reader2-font-${dt}`,ct&&"reader2-font-serif",wt&&`reader2-clamp-lines reader2-${Mt}-lines`,Me)},pn))}function Z({className:de,children:Ee}){return h("div",{className:classnames("reader-nav-center",de)},h("div",{className:"reader2-page reader2-font-base"},Ee))}function re({className:de,scrollRef:Ee,children:Me}){return h(pe,{ref:Ee},h(Z,{className:de},Me))}function ae(de){var Ee=de,{scrollRef:Me}=Ee,$e=J(Ee,["scrollRef"]);return h(pe,{ref:Me},h(FlexBox,q($({},$e),{flex:"grow",paddingX:{mobile:0,desktop:20},minWidth:0})))}function se(de){return useMediaQuery({minWidth:1100})?h(FlexColumn,$({className:"reader2-inbox-sidebar",paddingTop:20},de)):null}function be(de){return h(FlexBox,$({alignItems:"center",justifyContent:"space-between",paddingX:8},de))}function _e(de){return h(FlexColumn,$({gap:8},de))}const pe=(0,f.forwardRef)((de,Ee)=>(0,o.h)(w.SV,null,(0,o.h)("div",$({id:"reader-nav-page-scroll",className:"reader-nav-page-scroll",ref:Ee},de)))),me=(0,f.forwardRef)((de,Ee)=>{var Me=de,{className:$e,hasError:dt}=Me,ct=J(Me,["className","hasError"]);return(0,o.h)("input",q($({className:g()(P.input,dt&&P.error,$e)},ct),{ref:Ee}))});function Te(de){var Ee=de,{className:Me,hasError:$e,textareaRef:dt}=Ee,ct=J(Ee,["className","hasError","textareaRef"]);return h("textarea",$({ref:dt,className:classnames(css.input,css.textarea,$e&&css.error,Me)},ct))}function ve({error:de}){return h(De,null,getNetworkErrorMessage(de))}const ce=({header:de,icon:Ee,title:Me,text:$e,action:dt})=>h(j,{title:de},h(Le,{icon:Ee,title:Me,text:$e,action:dt}));function Le(de){return(0,o.h)(x.tu,{bg:"secondary",border:"detail",radius:12,paddingX:20,paddingY:64,justifyContent:"center",alignItems:"center",flex:"grow"},(0,o.h)(ue,$({},de)))}const Ne=(de,{initialState:Ee}={})=>{const[Me,$e]=(0,l.eJ)(Ee||{showLeft:!1,showRight:!0});return(0,l.d4)(()=>{const{current:ct}=de;if(ct){const wt=()=>{$e(Mt=>{let pn=Mt;!pn.showLeft&&ct.scrollLeft>0?pn=q($({},Mt),{showLeft:!0}):pn.showLeft&&ct.scrollLeft<=0&&(pn=q($({},Mt),{showLeft:!1}));const Mn=ct.scrollWidth-ct.offsetWidth-4;return!pn.showRight&&ct.scrollLeft<Mn?pn=q($({},Mt),{showRight:!0}):pn.showRight&&ct.scrollLeft>=Mn&&(pn=q($({},Mt),{showRight:!1})),pn})};return ct.addEventListener("scroll",wt),setTimeout(()=>{wt()},1e3),()=>{ct.removeEventListener("scroll",wt)}}},[]),{state:Me,handleArrowClick:ct=>()=>{const{current:wt}=de;wt&&wt.scrollBy({left:ct*wt.offsetWidth,behavior:"smooth"})}}};function He({tabs:de,value:Ee,onChange:Me}){const $e=useRef(),dt=useMobile(),{state:ct,handleArrowClick:wt}=Ne($e);return h(FlexColumn,{gap:6,paddingBottom:{mobile:16,desktop:20},paddingTop:{mobile:16,desktop:20},paddingRight:0,className:css.tabContainer},h(FlexRow,{className:"reader2-tab-bar-parent"},!dt&&h("div",{className:classnames("reader2-carousel-fade left",ct.showLeft&&"visible")},h("div",{className:"bg"}),h(IconButton,{size:36,fill:"empty",className:"reader2-carousel-arrow left",onClick:wt(-1)},h(ChevronLeft,{size:20}))),h(FlexRow,{paddingLeft:{mobile:16,desktop:20},className:"reader2-tab-bar",ref:$e},h(ze,{tabs:de,value:Ee,onChange:Me})),!dt&&h("div",{className:classnames("reader2-carousel-fade right",ct.showRight&&"visible")},h("div",{className:"bg"}),h(IconButton,{size:36,fill:"empty",className:"reader2-carousel-arrow right",onClick:wt(1)},h(ChevronRight,{size:20})))))}function ze({tabs:de,value:Ee,onChange:Me}){return h(FlexRow,{gap:8},de.map($e=>h(PillButton,{key:$e.value,isActive:Ee===$e.value,onClick:()=>Me($e.value),icon:$e.icon},$e.label)))}function Xe({children:de}){const Ee=useRef();return h(FlexColumn,{className:"reader2-inbox-sidebar-fixed",ref:Ee},de)}function _t(de){var Ee=de,{gap:Me=16}=Ee,$e=J(Ee,["gap"]);return(0,o.h)(x.tu,q($({},$e),{className:g()(P.pageStack,P[`gap_${Me}`])}))}const we=(0,s.L)("reader2-page-top"),We=(0,s.L)(P.pageTopFixed),Ie=(0,s.L)("reader2-page-body"),tt=(0,s.L)(P.pageStack),et=(0,s.L)("reader2-page-center"),ht=(0,s.L)("reader2-modal-title-text"),vt=(0,s.L)("reader2-column"),Lt=(0,s.L)("reader2-text-h3"),$t=(0,s.L)("reader2-text-h3 reader2-section-title"),yt=(0,s.L)("reader2-text-h4"),he=(0,s.L)("reader2-item-title"),je=(0,s.L)("reader2-item-meta"),st=(0,s.L)("reader2-text-b4"),De=(0,s.L)("reader2-form-error"),Be=(0,s.L)("reader2-subtitle"),Ke=(0,s.L)("reader2-separator","hr"),it=(0,s.L)("reader2-page-section withTitle"),Qe=(0,s.L)("reader2-row reader2-split-row"),Ae=(0,s.L)("reader2-emphasis-box"),H=(0,s.L)(g()(P.hoverLink,"pencraft"),"a");function ee(de){return(0,o.h)(H,$({target:"_blank"},de))}},4263:(z,u,e)=>{"use strict";var o=e(6400),f=e(98661),l=e(30396),c=e(94184),g=e.n(c),v=e(42395),E=e.n(v),y=e(15045),p=e(7922),O=e(45809),S=e(24491),x=e(11862),T=e(38199),_=e(56790),d=e(26523),s=e(56838),w=e(67963),P=e(3258),I=e(15748),D=e(6742),N=e(39419),C=e.n(N),A=e(49619),L=e(51126),U=e(43887),W=e(95297),G=e(33510),$=e(68262),q=e(40172),J=e(47585),R=e(44396),j=e(72307),ie=Object.defineProperty,le=Object.defineProperties,ye=Object.getOwnPropertyDescriptors,ue=Object.getOwnPropertySymbols,oe=Object.prototype.hasOwnProperty,te=Object.prototype.propertyIsEnumerable,Z=(H,ee,de)=>ee in H?ie(H,ee,{enumerable:!0,configurable:!0,writable:!0,value:de}):H[ee]=de,re=(H,ee)=>{for(var de in ee||(ee={}))oe.call(ee,de)&&Z(H,de,ee[de]);if(ue)for(var de of ue(ee))te.call(ee,de)&&Z(H,de,ee[de]);return H},ae=(H,ee)=>le(H,ye(ee)),se=(H,ee)=>{var de={};for(var Ee in H)oe.call(H,Ee)&&ee.indexOf(Ee)<0&&(de[Ee]=H[Ee]);if(H!=null&&ue)for(var Ee of ue(H))ee.indexOf(Ee)<0&&te.call(H,Ee)&&(de[Ee]=H[Ee]);return de};function be(H){var ee=H,{post:de,pub:Ee}=ee,Me=se(ee,["post","pub"]);const $e=!!useUser(),{subscription:dt}=usePubSubscription(Ee.id);return h(pe,ae(re({},Me),{post:de,postId:de.id,title:de.title,description:decodeHtmlEntitiesFast(de.description),bylines:de.publishedBylines,consumptionTime:et(de),coverImage:de.cover_image,type:getPostType(de),Icon:Lt(getPostType(de)),canonicalUrl:getPostUrl(Ee,de,{signedIn:$e}),timestamp:de.post_date,pub:Ee,audienceBadge:["only_paid","founding"].includes(de.audience)?(dt==null?void 0:dt.membership_state)==="free_signup"&&de.should_send_free_preview?"preview":"paid":void 0}))}var _e=null;function pe(H){var ee=H,{post:de,title:Ee,description:Me,bylines:$e,consumptionTime:dt,coverImage:ct,type:wt,Icon:Mt,audienceBadge:pn,showBestsellerBadge:Mn,highlights:$n,excerpt:mr}=ee,jn=se(ee,["post","title","description","bylines","consumptionTime","coverImage","type","Icon","audienceBadge","showBestsellerBadge","highlights","excerpt"]);return h(Te,ae(re({},jn),{highlights:$n}),h(_t,{post:de,bylines:$e,consumptionTime:dt,Icon:Mt,audienceBadge:pn,showBestsellerBadge:Mn,highlights:$n,excerpt:mr}))}function me({post:H,pub:ee,context:de,isViewed:Ee,isSaved:Me,isSelected:$e,onClick:dt,onMouseEnter:ct,onVisible:wt,position:Mt}){const pn=!!useUser(),Mn=H.cover_image;return h(Te,{postId:H.id,canonicalUrl:getPostUrl(ee,H,{signedIn:pn,urlParams:{pos:Mt}}),timestamp:H.post_date,pub:ee,isViewed:Ee,isSelected:$e,defaultSaved:Me,onClick:dt,onMouseEnter:ct,onVisible:wt},h(Xe,{post:H,metaText:de,image:Mn&&h(vt,{post:H})}))}function Te({children:H,pub:ee,publisherName:de,logoUrl:Ee,timestamp:Me,isViewed:$e,isArchived:dt,isSelected:ct,isLiked:wt,isSaved:Mt,onLike:pn,onClick:Mn,canonicalUrl:$n,postId:mr,defaultSaved:jn,onSave:dr,onArchive:nn,onMouseEnter:jr,onVisible:Dr,utmSource:At,highlights:Wt}){const Zt=useUser(),[_n,Kn]=useUnreadBadge(!$e),wr=isMobileBrowser(),Nr=useRef();return useFirstVisible(Nr,()=>Dr&&Dr(),{threshold:.2}),h(Ne,{ref:Nr,href:$n,onClick:no=>{Kn(),Mn&&Mn(no)},className:"reader2-post-container",utmSource:At,isSelected:ct,onMouseMove:()=>{jr==null||jr(mr)}},h(He,{pub:ee,publisherName:de,logoUrl:Ee,highlights:Wt},h(FlexRow,{className:classnames("reader2-post-info tw-items-center tw-gap-3",Zt&&"hasUser")},h(ze,{className:"inbox-item-timestamp",value:Me}),h(ve,{isMobile:wr,postId:mr,defaultSaved:jn,isSaved:Mt,onSave:dr,user:Zt,isArchived:dt,onArchive:nn,isLiked:wt,onLike:pn,canonicalUrl:$n,communityEnabled:ee==null?void 0:ee.community_enabled}),_n)),H)}function ve({isMobile:H,postId:ee,defaultSaved:de,isLiked:Ee,onLike:Me,isSaved:$e,onSave:dt,user:ct,isArchived:wt,onArchive:Mt,canonicalUrl:pn,communityEnabled:Mn}){const{isSaved:$n,onSave:mr}=useSavePostById({postId:ee,defaultSaved:de}),jn=Dr=>{Dr.stopPropagation(),Dr.preventDefault()},dr=()=>{dt?dt(ee,!$n):mr()},nn=()=>{Mt==null||Mt()},jr=useLinkCopyToast();return H?null:h(FlexBox,{padding:4,gap:4,className:"inbox-item-actions-menu",onClick:jn},Me&&Mn&&h("div",{className:"reader2-clickable inbox-item-action-button",onClick:()=>Me(ee)},h(he,{isActive:Ee})),h("div",{className:"reader2-clickable inbox-item-action-button",onClick:()=>{jr(pn)}},h(it,null)),ct&&h("div",{className:"reader2-clickable inbox-item-action-button",onClick:dr},h(De,{isActive:$e!=null?$e:$n})),Mt&&h("div",{className:"reader2-clickable inbox-item-action-button",onClick:nn},h(Ke,null)))}function ce({post:H,highlights:ee}){return h(_t,{post:H,bylines:H.publishedBylines,consumptionTime:et(H),Icon:Lt(getPostType(H)),highlights:ee})}function Le({post:H,pub:ee}){const de=!!useUser();return h(Ne,{href:getPostUrl(ee,H,{signedIn:de})},h(He,{pub:ee},h(ze,{value:H.post_date})),h(ce,{post:H}))}const Ne=(0,f.forwardRef)((H,ee)=>(0,o.h)(G.Uj,re({ref:ee,linkClassName:g()("reader2-inbox-post",H.isSelected==null&&"hover-action-menu"),native:!0,isPadded:!1,newTab:!0},H)));function He({pub:H,logoUrl:ee,publisherName:de,children:Ee,highlights:Me={}}){return h("div",{className:"reader2-post-head reader2-text-meta"},(H||ee)&&h(PubIcon,{className:"pub-logo",pub:H,logoUrl:ee,publicationName:de,size:20}),h("div",{className:"pub-name"},de||H&&h(NewTabHoverLink,{href:H.base_url,onClick:$e=>$e.stopPropagation()},highlightText(H.name,Me["publication.name"]))),Ee)}function ze({value:H,className:ee}){return h("div",{className:classnames("timestamp",ee)},formatPostDate(H))}function Xe({post:H,image:ee,metaText:de,highlights:Ee={},excerpt:Me}){return h("div",{className:"reader2-post-body",onClick:()=>{const $e=(window==null?void 0:window.location)&&new URL(window.location.href);$e&&track(EVENTS.POST_SEARCH_RESULT_CLICKED,{post_id:H.id,query:decodeURIComponent($e.pathname.replace(/\/search\//g,""))})}},h(FlexColumn,{minWidth:0,gap:8},h("div",{className:"reader2-post-title reader2-clamp-lines"},highlightText(H.title,Ee.title||Ee["posts.title"],"extrabold")),H.description&&h(Paragraph,{variant:"secondary",isConstrained:!Me},Me?h(Text,{as:"span",fontStyle:"italic"},"\u201C...",highlightText(Me,Ee.body_text,"extrabold"),"\u201D"):highlightText(decodeHtmlEntitiesFast(H.description),Ee.subtitle||Ee["posts.subtitle"],"extrabold")),de),ee)}function _t({bylines:H,consumptionTime:ee,Icon:de,audienceBadge:Ee,showBestsellerBadge:Me,post:$e,highlights:dt,excerpt:ct}){return h(Xe,{post:$e,metaText:h(we,{bylines:H,consumptionTime:ee,Icon:de,audienceBadge:Ee,showBestsellerBadge:Me,highlights:dt}),image:$e.cover_image&&h(vt,{post:$e}),highlights:dt,excerpt:ct})}function we({bylines:H,consumptionTime:ee,Icon:de,audienceBadge:Ee,showBestsellerBadge:Me,highlights:$e={}}){return h(ItemMeta,null,Ee&&h(Fragment,null,h("span",{className:"meta-audience-badge"},Ee),h(Ie,null)),H.length>0?h(Fragment,null,h(FormattedArray,{array:H,limit:3,formatter:dt=>Me?h(We,{name:dt.name||"",tier:dt.bestseller_tier,userId:dt.id}):highlightText(dt.name||"",$e["publication.author_name"])}),ee&&h(Ie,null)):null,de&&h(Fragment,null,h(de,{className:"meta-icon tw-align-text-top"})," "),ee)}const We=({name:H,tier:ee,userId:de})=>ee?h(FlexRow,{inline:!0,gap:4,alignItems:"center"},H," ",h(UserBadge,{userId:de,tier:ee,size:"sm"})):h(Fragment,null,H),Ie=()=>h("span",{className:"meta-bullet"},"\u2219");function tt(H){var ee,de;return(ee=H==null?void 0:H.duration_metadata)!=null&&ee.audio_duration?"podcast":H.video_id&&((de=H==null?void 0:H.duration_metadata)!=null&&de.video_duration)?"video":"newsletter"}function et(H){const{comment_count:ee,podcast_duration:de,wordcount:Ee,videoUpload:Me}=H;let $e,dt;const ct=getPostType(H);if(ct==="podcast")$e=de/60,dt="listen";else if(ct==="video")$e=Me.duration/60,dt="watch";else{if(ct==="thread")return ee>0?`${ee.toLocaleString()} replies`:"Thread";if(Ee!=null&&Ee>0)$e=Ee/220,dt="read";else return null}return`${Math.max(Math.round($e),1).toLocaleString()} min ${dt}`}function ht(H){var ee;let de,Ee;const Me=tt(H);if(Me==="podcast")de=H.duration_metadata.audio_duration/60,Ee="listen";else if(Me==="video")de=H.duration_metadata.video_duration/60,Ee="watch";else if((((ee=H==null?void 0:H.duration_metadata)==null?void 0:ee.word_count)||0)>0)de=H.duration_metadata.word_count/220,Ee="read";else return null;return`${Math.max(Math.ceil(de),1).toLocaleString()} min ${Ee}`}function vt({post:H,size:ee=132,square:de}){const Ee=H.cover_image,Me=getPostType(H),$e=ee,dt=Me==="podcast"||de?ee:200,[ct,wt]=useState(null);return ct?null:h("div",{className:"reader2-post-picture-container"},h(CloudImage,{className:classnames("reader2-post-picture",Me),src:Ee,width:dt,height:$e,loading:"lazy",noStyle:!de,onError:Mt=>wt(Mt)}),(Me==="podcast"||Me==="video")&&h("div",{className:"reader2-picture-overlay"},h(InboxPodcastPlayIcon,{className:"picture-play"})))}function Lt(H){return H==="podcast"?AudioIcon:H==="video"?VideoIcon:H==="thread"?ThreadIcon:null}const $t=20;function yt(H){return h(UnstyledButton,re({className:"reader2-post-action-button"},H))}function he({isActive:H}){return h(Heart,{className:classnames("reader2-post-action-heart",H&&"isActive"),size:$t})}function je({isActive:H}){return h(Comment,{size:$t})}function st({isActive:H}){return h(Flag,{size:$t})}function De({isActive:H}){return h(Bookmark,{className:classnames("reader2-post-action-bookmark",H&&"isActive"),size:$t})}function Be({text:H}){return h(LinkRow,{linkClassName:"reader2-info-card",noAnchor:!0,native:!0,isPadded:!1},h(RoundedInformationIcon,{className:"reader2-info-card-icon"}),h(Text,{font:"text",color:"secondary",size:14,weight:"medium",lineHeight:20},H))}function Ke(){return h(Archive,{size:$t,className:"inbox-item-action-icon reader2-post-action-archive"})}function it(){return h(Link,{size:$t,className:"inbox-item-action-icon reader2-post-action-copy"})}function Qe(){return h(Fragment,null,Array(6).fill(0).map(()=>h(Ae,null)))}function Ae(){const H=useMobile();return h(LinkRow,{isPadded:!1},h(FlexColumn,{flex:"grow",gap:12,padding:H?8:12},h(FlexBox,{gap:12,alignItems:"center"},h(Placeholder,{size:24,style:{borderRadius:6}}),h(Placeholder,{type:"bar",maxWidth:120,className:"tw-grow"}),h(Placeholder,{type:"bar",maxWidth:80,className:"tw-ml-auto tw-grow"})),h("div",{className:"reader2-post-body"},h(FlexColumn,{minWidth:0,gap:4},h(Placeholder,{type:"bar",width:"70%"}),h(Placeholder,{type:"bar",width:"80%"}),h(Placeholder,{type:"bar",width:"50%"})),h(Placeholder,{width:H?64:160,height:H?64:120,style:{borderRadius:6}}))))}},33812:(z,u,e)=>{"use strict";e.d(u,{wg:()=>Kn});var o=e(6400),f=e(30396),l=e(94184),c=e(3312),g=e(28175),v=e(99869),E=e(71212),y=e(80569),p=e(77883),O=e(62246),S=e(2731),x=e(82771),T=e(81470),_=e(15045),d=e(70444),s=e(20501),w=e(83322),P=e(78041),I=e(48963),D=e(53668),N=e(68227),C=e(66839),A=e(96733),L=e(59736),U=e(81243),W=e(63861),G=e(69427),$=e(25877),q=e(4190),J=e(58718),R=e(92643),j=e(63270),ie=e(67963),le=e(69371),ye=e(69518),ue=e(60779),oe=e(29696),te=e(56411),Z=e(59386),re=e(3258),ae=e(8479),se=e(11533),be=e(39419),_e=e(84040),pe=e(51126),me=e(76235),Te=e(43887),ve=e(75425),ce=e(92630),Le=e(95297),Ne=e(10186),He=e(91870),ze=e(68493),Xe=e(11688),_t=e(50292),we=e(33510),We=e(4263),Ie=e(7922),tt=e(96789),et=e(13045);const ht={reasonRow:"frontend-reader2-ProfileReportModal-module__reasonRow--CTUTF",reasonLabel:"frontend-reader2-ProfileReportModal-module__reasonLabel--eMrhr"};var vt=(mn,Dn,Wn)=>new Promise((Hn,vr)=>{var tr=Vt=>{try{kt(Wn.next(Vt))}catch(en){vr(en)}},pr=Vt=>{try{kt(Wn.throw(Vt))}catch(en){vr(en)}},kt=Vt=>Vt.done?Hn(Vt.value):Promise.resolve(Vt.value).then(tr,pr);kt((Wn=Wn.apply(mn,Dn)).next())});function Lt({userId:mn,surface:Dn,onClose:Wn,onReportSuccess:Hn}){const vr=useRef(),tr=()=>{var An;return(An=vr==null?void 0:vr.current)==null?void 0:An.close()};useEffect(()=>{var An;(An=vr==null?void 0:vr.current)==null||An.open()},[!!vr.current]);const pr=[{value:"spam",label:"It's spam"},{value:"impersonation",label:"It's pretending to be someone else"},{value:"violation",label:"It's posting content that violates Substack's Content Guidelines"}],[kt,Vt]=useState(null),[en,dn]=useState(!1),Nn=An=>vt(this,null,function*(){if(!An){alert("Please enter a reason!");return}dn(!0);try{yield request.post(`/api/v1/user/${mn}/report`).send({userId:mn,reason:An,surface:Dn}),tr(),Hn(),dn(!1),An==="violation"&&(location.href=getHcProfileViolationFormUrl(mn))}catch(Rn){dn(!1),alert(getNetworkErrorMessage(Rn))}});return h(PopupModal,{ref:vr,onClose:Wn},h(FlexColumn,{padding:24,gap:8},h(Text.H3,null,"Report profile"),h(Text.Detail,null,"Why are you reporting this profile?"),h(EmphasisBox,null,h(FlexColumn,{gap:4},pr.map(({value:An,label:Rn})=>h("label",{className:css.reasonRow},h(Text,{className:css.reasonLabel},Rn),h("input",{type:"radio",name:"reason",value:An,onInput:()=>Vt(An)}))))),h(FlexRow,null,h(Text.Detail,null,"Substack ",h("a",{href:"/content"},"Content Guidelines"))),h(FlexRow,{style:{flexDirection:"row-reverse"}},h(Button,{className:"primary",onClick:()=>Nn(kt),disabled:kt===null||en},h("span",null,en?"Loading...":kt==="violation"?"Proceed":"Submit")),h(Button,{className:"secondary",onClick:tr},h("span",null,"Cancel")))))}var $t=e(68262),yt=e(79167),he=e(20533),je=e(38497),st=e(4948),De=e(44396),Be=e(70762);const Ke={fillIcon:"frontend-reader2-ProfilePage-module__fillIcon--uQnv7",twitterVerifiedIcon:"frontend-reader2-ProfilePage-module__twitterVerifiedIcon--D8_VN",profileRow:"frontend-reader2-ProfilePage-module__profileRow--eeceW",profileImage:"frontend-reader2-ProfilePage-module__profileImage--UGMJ2",stat:"frontend-reader2-ProfilePage-module__stat--rf1FK",avatar:"frontend-reader2-ProfilePage-module__avatar--fwwNi",readsRow:"frontend-reader2-ProfilePage-module__readsRow--mkhra",page:"frontend-reader2-ProfilePage-module__page--m0EUw",grid:"frontend-reader2-ProfilePage-module__grid--yXlQ6",pubMain:"frontend-reader2-ProfilePage-module__pubMain--uGuNF",pub:"frontend-reader2-ProfilePage-module__pub--JVugC"};var it=Object.defineProperty,Qe=Object.defineProperties,Ae=Object.getOwnPropertyDescriptors,H=Object.getOwnPropertySymbols,ee=Object.prototype.hasOwnProperty,de=Object.prototype.propertyIsEnumerable,Ee=(mn,Dn,Wn)=>Dn in mn?it(mn,Dn,{enumerable:!0,configurable:!0,writable:!0,value:Wn}):mn[Dn]=Wn,Me=(mn,Dn)=>{for(var Wn in Dn||(Dn={}))ee.call(Dn,Wn)&&Ee(mn,Wn,Dn[Wn]);if(H)for(var Wn of H(Dn))de.call(Dn,Wn)&&Ee(mn,Wn,Dn[Wn]);return mn},$e=(mn,Dn)=>Qe(mn,Ae(Dn)),dt=(mn,Dn)=>{var Wn={};for(var Hn in mn)ee.call(mn,Hn)&&Dn.indexOf(Hn)<0&&(Wn[Hn]=mn[Hn]);if(mn!=null&&H)for(var Hn of H(mn))Dn.indexOf(Hn)<0&&de.call(mn,Hn)&&(Wn[Hn]=mn[Hn]);return Wn},ct=(mn,Dn,Wn)=>new Promise((Hn,vr)=>{var tr=Vt=>{try{kt(Wn.next(Vt))}catch(en){vr(en)}},pr=Vt=>{try{kt(Wn.throw(Vt))}catch(en){vr(en)}},kt=Vt=>Vt.done?Hn(Vt.value):Promise.resolve(Vt.value).then(tr,pr);kt((Wn=Wn.apply(mn,Dn)).next())});const wt=(0,_.getProfileSetupUrl)({utm_source:"substack"}),Mt="profile-page-feed";function pn({id:mn,initialData:{profileSubscribeOnTransit:Dn=!1}}){var Wn;const Hn=useUser(),vr=useRef(null),tr=useMobile(),pr=useToast(),{getConfigFor:kt}=useSiteConfigs();let Vt,en;mn.includes("-")?(Vt=$n(mn),en=mr(mn)):Vt=mn;const{subjectProfile:dn,error:Nn}=useProfile({subjectId:Vt,subjectName:en}),An=useUserBlockStatus(dn==null?void 0:dn.id),Rn=An==="blocked"||An==="blocking",ft=!!(dn!=null&&dn.profile_set_up_at),Rt=dn&&dn.id===(Hn==null?void 0:Hn.id),zt=(dn==null?void 0:dn.subscriptions)||[],tn=(dn==null?void 0:dn.primaryPublication)&&((Wn=dn.publicationUsers.find(Ur=>{var Ar;return Ur.publication_id===((Ar=dn==null?void 0:dn.primaryPublication)==null?void 0:Ar.id)}))==null?void 0:Wn.publication),vn=!!(tn&&(dn!=null&&dn.isSubscribed)),un=useFeedFollowState(dn,"profile"),wn=(dn==null?void 0:dn.max_pub_tier)===2;useEffect(()=>{var Ur;(Ur=new URL(document.location.href).searchParams)!=null&&Ur.has("invite")?redirect("/app",{local_navigation:!1}):dn&&(track(EVENTS.PROFILE_VISITED,{profile_user_id:dn.id,is_set_up:ft,is_self:Rt,has_name:!!dn.name,has_photo:!!dn.photo_url,has_bio:!!dn.bio,has_twitter:!!dn.twitterAccount,reads_count:zt.length,writes_count:dn.publicationUsers.length,subscribe_cta_publication_id:!vn&&(tn==null?void 0:tn.id)}),Dn&&(removeQueryParam("subscribed"),pr.popToast(Ar=>h(Toast,$e(Me({},Ar),{text:`Subscribed to ${(tn==null?void 0:tn.name)||dn.name||"user"}`,Icon:Check})))))},[mn]),useEffect(()=>{var Ur;(Ur=new URL(document.location.href).searchParams)!=null&&Ur.has("follow")&&dn&&un.isLoaded&&(removeQueryParam("follow"),!Rt&&!un.isFollowing&&un.toggle())},[mn,dn,un.isLoaded]);const[{url:Un}]=useRouter(),Hr=Do(Un)?Mt:"profile-page";return Nn?h(Page,{className:css.page},setMetaData({title:"Profile not found"}),h(FlexBox,{paddingY:64,flex:"grow"},h(ZeroBox,{icon:h(AlertCircle,null),title:"Profile not found",text:"We couldn't load this profile.",action:h(Button,{priority:"secondary",href:getDiscoverSearchUrl()},"Search")}))):dn?h(FlexColumn,{style:{maxWidth:640},flex:"grow",minWidth:0},setMetaData({title:`${dn.name||"<no name>"} | Substack`,description:dn&&dn.bio,image:dn&&dn.photo_url&&imginary(dn.photo_url),seoProps:{noindex:!(wn&&(dn.photo_url||dn.bio||ft))}}),h(ShareDialog,{ref:vr,medium:"profile-page",user:Hn,profile:dn,onClick:Ur=>Ur.preventDefault()}),h(ro,{profile:dn}),h(FlexColumn,null,h(FlexColumn,{gap:{desktop:20,mobile:16},paddingX:{desktop:20,mobile:16},paddingY:{desktop:32,mobile:16}},h(Wt,{profile:dn,primaryPublication:tn,yourProfile:!!Rt,user:Hn,showCTAs:!Rn,subscribeButton:!Rt&&tn&&!Rn&&h(wo,{user:Hn,profile:dn,primaryPublication:tn,subscriptionSource:Hr})}),dn.publicationUsers.length>0&&!Rn&&h($r,{isMobile:tr,profile:dn,primaryPublication:tn,subscriptionSource:Hr}),An==="blocked"&&h(FlexBox,{paddingY:32,flex:"grow"},h(ZeroBox,{icon:h(Slash,null),title:`${dn.name||"They"} blocked you`,text:`You are blocked from subscribing to ${dn.name||"them"} and their publications`})),An==="blocking"&&h(FlexBox,{paddingY:32,flex:"grow"},h(ZeroBox,{icon:h(Slash,null),title:`You blocked ${dn.name||"them"}`,text:"You can manage your blocks in your account settings.",action:h(Button,{priority:"secondary",href:getGlobalAccountSettingsUrl()},"Account settings")}))),!Rn&&!!dn.name&&h(dr,{subscriptions:zt,profile:dn})),!ft&&Rt&&h(PageCenter,null,h(FlexBox,{paddingY:64,flex:"grow"},h(Zero,{icon:h(ProfileIcon,null),title:"You haven\u2019t set up your profile yet.",text:"Click the button below to get started.",action:h(Button,{priority:"secondary",href:getGlobalAccountSettingsUrl()},"Set up profile")})))):h(Mn,null)}const Mn=()=>{const mn=useMobile();return h(FlexColumn,{style:{maxWidth:600},flex:"grow"},h(FlexColumn,{gap:{desktop:20,mobile:16},paddingX:{desktop:20,mobile:16},paddingTop:{desktop:32,mobile:16},paddingBottom:16},h(FlexRow,{justifyContent:"space-between",alignItems:"center"},h(Placeholder,{type:"circle",size:mn?96:112}),h(FlexRow,{alignItems:"center",justifyContent:"end",gap:8},h(Placeholder,{type:"circle",size:40}),h(Placeholder,{type:"circle",size:40}),h(Placeholder,{type:"circle",height:40,width:100}))),h(Placeholder,{type:"bar",height:32,width:120}),h(FlexColumn,{gap:8,flex:"grow",minWidth:0},h(Placeholder,{type:"bar",height:20,width:"70%"}),h(Placeholder,{type:"bar",height:20,width:"80%"}),h(Placeholder,{type:"bar",height:20,width:"30%"}))))};function $n(mn){const Dn=mn.split("-");return Dn.length?parseInt(Dn[0]):-1}function mr(mn){const Dn=mn.split("-");return Dn.length?Dn.slice(1).join("-"):""}function jn({profile:mn}){var Dn;useEffect(()=>{track(EVENTS.FEED_PROFILE_SCREEN_VIEWED)},[]);const[Wn,Hn]=useReducer(reduceFeed,defaultFeedState),{canFetchMore:vr,lastPage:tr,fetchMore:pr,hasLoadedOnce:kt}=useInfiniteFetch({pathname:`/api/v1/reader/feed/profile/${mn.id}`,query:Me({},parseQuery(document.location.href)),getPageInit:({lastPage:Rn,init:ft})=>{var Rt;const zt=(Rt=Rn==null?void 0:Rn.result)==null?void 0:Rt.nextCursor;return zt&&(ft.query=$e(Me({},ft.query),{cursor:zt})),ft},auto:!0,deps:[mn.id],pages:Wn.pages,dispatch:Hn}),Vt=vr&&!!((Dn=tr==null?void 0:tr.result)!=null&&Dn.nextCursor),{bodyRef:en}=useInfiniteScroll(pr,[tr],{shouldCheck:Vt,threshold:640}),dn=Wn.pages.map(Rn=>{var ft;return((ft=Rn.result)==null?void 0:ft.items)||[]}).flat(),Nn=useUser(),An=mn&&mn.id===(Nn==null?void 0:Nn.id);return useEffect(()=>{var Rn;((Rn=tr==null?void 0:tr.result)==null?void 0:Rn.items.length)==0&&Vt&&pr()},[tr]),h(FeedProvider,{surface:FeedSurface.Profile,dispatch:Hn,state:Wn},h(FlexColumn,{ref:en},h(MuteFreeZoneContextProvider,null,dn.map(Rn=>h(FeedItem,{item:$e(Me({},Rn),{publication:Rn.publication?Wn.publications.get(Rn.publication.id):Rn.publication,post:Rn.post?Wn.posts.get(Rn.post.id):Rn.post,comment:Rn.comment?Wn.comments.get(Rn.comment.id):Rn.comment,parentComments:Rn.parentComments?Rn.parentComments.map(ft=>ft&&Wn.comments.get(ft.id)||null):Rn.parentComments})}))),tr!=null&&tr.isLoading||!kt?h(LotsOfNotes,null):dn.length===0?h(FlexBox,{paddingY:64,flex:"grow"},h(Zero,{icon:h(EditIcon,null),title:`${An?"You haven\u2019t":`${mn.name} hasn\u2019t`||"This user hasn\u2019t"} published any notes yet.`,text:`Once ${An?"you":"they"} do, you\u2019ll see them here.`,action:h(Button,{priority:"secondary",href:getFeedUrl()},"Visit Notes")})):null))}function dr({subscriptions:mn,profile:Dn}){const[Wn,Hn]=useState(Dn.hasPosts?"post":Dn.hasActivity?"note":"reads");return h(FlexColumn,{flex:"fill",paddingX:{desktop:20,mobile:0}},h(Tabs,null,h(Tab,{value:"post",currentValue:Wn,onClick:Hn},"Posts"),h(Tab,{value:"note",currentValue:Wn,onClick:Hn},"Notes"),h(Tab,{value:"reads",currentValue:Wn,onClick:Hn},"Reads",mn.length>0&&` (${mn.length})`)),h(FlexColumn,{flex:"fill",paddingBottom:20},Wn==="note"&&h(jn,{profile:Dn}),Wn==="post"&&h(Dr,{profile:Dn,userId:Dn.id}),Wn==="reads"&&h(bo,{subscriptions:mn,profile:Dn})))}function nn(mn){var Dn=dt(mn,[]);return h("div",Me({className:css.grid},Dn))}function jr({profile:mn}){const Dn=useUser(),Wn=mn&&mn.id===(Dn==null?void 0:Dn.id);return h(FlexBox,{paddingY:64,flex:"grow"},h(Zero,{icon:h(EditIcon,null),title:`${Wn?"You haven\u2019t":`${mn.name} hasn\u2019t`||"This user hasn\u2019t"} published any posts yet.`,text:"Once they do, you\u2019ll see them here."}))}function Dr({profile:mn,userId:Dn}){const[Hn,vr]=useState(0),[tr,pr]=useState([]),{result:kt,isLoading:Vt}=useFetch({pathname:"/api/v1/profile/posts",query:{profile_user_id:Dn,offset:Hn,limit:12+1},auto:!0,deps:[Dn,Hn]});useLayoutEffect(()=>{kt&&pr(Hn===0?[kt]:[...tr,kt])},[kt]);const en=useMemo(()=>({posts:tr.map(Rt=>Rt.posts.slice(0,12)).flat(),publicationMap:new Map(tr.map(Rt=>Rt.publications).flat().map(Rt=>[Rt.id,Rt]))}),[tr]),dn=tr[tr.length-1],Nn=dn&&dn.posts.length>12,{bodyRef:An}=useInfiniteScroll(()=>{vr(Hn+12)},[en,Vt],{shouldCheck:Nn&&!Vt}),{posts:Rn,publicationMap:ft}=en;return h(FlexColumn,null,h(PageStack,{ref:An},kt?Rn.length>0?Rn.map((Rt,zt)=>{const tn=ft.get(Rt.publication_id);if(tn)return h(PostWithActions,{key:Rt.id,post:Rt,pub:tn,isViewed:!0,isLiked:!!Rt.reaction,isSaved:Rt.is_saved,onClick:()=>track(EVENTS.ARCHIVE_PAGE_POST_CLICKED,{post_id:Rt.id,tab:"new",rank_in_feed:zt,source:"profile"}),utmSource:"profile"})}):h(jr,{profile:mn}):h(LotsOfPlaceholders,null),Vt&&h(DrunkSpinner,null)))}function At({url:mn,type:Dn,label:Wn,verified:Hn,value:vr}){var tr,pr,kt,Vt;vr=vr.replace(/^@/,"");const en={twitter:{icon:h(TwitterIcon,{className:css.fillIcon,height:14}),label:"Twitter",verifiedIcon:h(Verified,{className:cn(css.fillIcon,css.twitterVerifiedIcon),size:18}),showUsername:!0},facebook:{icon:h(FacebookIcon,{className:css.fillIcon,height:14}),label:"Facebook"},instagram:{icon:h(InstagramIcon,{className:css.fillIcon,height:14}),label:"Instagram",showUsername:!0},linkedin:{icon:h(LinkedinIcon,{className:css.fillIcon,height:14}),label:"LinkedIn"},youtube:{icon:h(YoutubeIcon,{className:css.fillIcon,height:16}),label:"YouTube"},tiktok:{icon:h(TikTokIcon,{className:css.fillIcon,height:16}),label:"TikTok",showUsername:!0},books:{icon:h(BookOpen,{className:css.fillIcon,height:16}),label:"Books",showUsername:!0}};return h(Button,{size:"small",allCaps:!0,newTab:!0,href:mn.startsWith("http")?mn:`http://${mn}`,rounded:!0,onClick:()=>{track(EVENTS.USER_LINK_CLICKED,{type:Dn,url:mn,label:Wn})},outline:"none",priority:"secondary",leftIcon:((tr=en[Dn])==null?void 0:tr.icon)||h(Link,{size:14}),rightIcon:Hn&&((pr=en[Dn])==null?void 0:pr.verifiedIcon),className:Hn&&css.verified},(kt=en[Dn])!=null&&kt.showUsername?vr:((Vt=en[Dn])==null?void 0:Vt.label)||Wn)}function Wt({profile:mn,primaryPublication:Dn,yourProfile:Wn,user:Hn,showCTAs:vr,subscribeButton:tr}){const pr=(mn==null?void 0:mn.name)||"<no name>",kt=useMobile(),Vt=kt?Text.H2:Text.H1;return h(FlexColumn,{gap:20},h(FlexRow,{justifyContent:"space-between",alignItems:"center"},h(Uo,{profile:mn}),h(FlexRow,{alignItems:"center",justifyContent:"end",gap:8},h(wr,{profile:mn,primaryPublication:Dn,yourProfile:Wn,user:Hn,showCTAs:vr}),tr)),h(FlexColumn,{gap:8,flex:"grow",minWidth:0},h(Vt,null,pr,h("span",{style:{whiteSpace:"nowrap",verticalAlign:kt?"middle":void 0}},"\xA0",h(UserBadge,{tier:mn.bestseller_tier,userId:mn.id,inline:!0}))),h(Zt,{profile:mn,yourProfile:Wn}),mn.bio&&h(Jr,{profile:mn})),mn.userLinks.length!==0&&h(FlexRow,{gap:12,wrap:"wrap",justifyContent:"start"},mn.userLinks.sort((en,dn)=>en.type!==dn.type?(en.type||"website")>(dn.type||"website")?1:-1:Number(en.id)>Number(dn.id)?1:-1).map(en=>h(At,Me({},en)))))}function Zt({profile:mn,yourProfile:Dn}){const Wn=useMobile(),Hn=useToast(),vr=mn.handle||Dn,tr=()=>{copyToClipboard(getReaderProfileUrl(mn)),Hn.popToast(pr=>h(Toast,$e(Me({},pr),{text:"Link copied",Icon:Link})))};return h(FlexBox,{gap:8},vr&&[mn.handle?h(Text.Meta,{as:"a",onClick:tr,style:{cursor:"pointer"},decoration:"hover-underline"},h(Tooltip,{text:"Copy link",disabled:Wn},`@${mn.handle}`)):Dn&&h(Text.Meta,{color:"substack"},h(TextLink,{href:getEditProfileUrl({params:{utm_source:"handle-notification",[HANDLE_EDIT_MODAL_QUERY_PARAM]:!0}})},"New: Claim your handle")),h(Text.Meta,null," \xB7 ")],h(_n,{profile:mn}))}function _n({profile:mn}){return h(Text.Meta,{as:"a",href:getProfileConnectionsUrl(mn,null,{noBase:!0}),decoration:"hover-underline"},mn.subscriberCountString)}const Kn=({url:mn,twitterText:Dn,onLinkClicked:Wn,comment:Hn})=>{const vr=(0,ve.pm)(),tr=()=>{(0,be.copyToClipboard)(mn),vr.popToast(en=>(0,o.h)(ve.FN,$e(Me({},en),{text:"Link copied",Icon:v.Z}))),Wn==null||Wn("copy")},pr=()=>{window.open((0,s.pathWithQuery)("https://twitter.com/share",{url:mn,text:Dn||""}),"_blank"),Wn==null||Wn("twitter")},kt=()=>{window.open((0,s.pathWithQuery)("https://www.facebook.com/sharer/sharer.php",{u:mn}),"_blank"),Wn==null||Wn("facebook")},Vt=()=>{vr.popToast(en=>(0,o.h)(ve.FN,$e(Me({},en),{text:"Downloading image...",Icon:E.Z}))),Wn==null||Wn("download")};return[(0,o.h)(me.sN,{icon:(0,o.h)(v.Z,null),onClick:tr},"Copy link"),Hn?(0,o.h)(me.sN,{icon:(0,o.h)(E.Z,null),onClick:Vt,href:(0,d.IY)(Hn.id),target:"_blank",download:!0},"Save as image"):(0,o.h)(o.Fragment,null),(0,o.h)(me.sN,{icon:(0,o.h)(C.Z,null),onClick:pr},"Share to Twitter"),(0,o.h)(me.sN,{icon:(0,o.h)(N.Z,null),onClick:kt},"Share to Facebook")]},wr=({profile:mn,primaryPublication:Dn,yourProfile:Wn,user:Hn,showCTAs:vr})=>{const tr=useMobile();useNavContextAndTitle("",{backAction:!0});const pr=useUserBlockMenuItems(mn,"profile"),[kt,Vt]=useState(!1),[en,dn]=useState(!1);return h(FlexBox,{gap:8,direction:"row"},h(InviteFriendModal,{isOpen:en,utmSource:"profile-page",onClose:()=>dn(!1)}),!Wn&&h(Fragment,null,h(Menu,{trigger:h(IconButton,{fill:"outline"},h(MoreHorizontal,null)),useMobileBottomSheet:!0,mobileBottomSheetTitle:"Options"},pr,h(MenuItem,{icon:h(Flag,null),priority:"destructive",onClick:()=>Vt(!0)},"Report"),(Hn==null?void 0:Hn.is_global_admin)&&h(MenuItem,{icon:h(ExternalLink,null),priority:"destructive",onClick:()=>window.location.href=getUserUndergroundUrl(mn.id)},"Open in Underground")),vr&&Hn&&(Dn?h(Nr,{profile:mn}):h(no,{profile:mn})),kt&&h(ProfileReportModal,{userId:mn.id,surface:"profile",onClose:()=>Vt(!1),onReportSuccess:()=>{}})),vr&&h(Fragment,null,Wn&&h(Fragment,null,h(IconButton,{fill:"outline",href:getEditProfileUrl()},h(Edit2,{size:20})),!(Hn!=null&&Hn.has_publication)&&!tr&&h(Button,{priority:"secondary",fill:"outline",href:getStartPublishingUrl(),localNavigation:!1,rounded:!0},"Create your Substack"),mn.profile_set_up_at?h(Button,{onClick:()=>dn(!0),rounded:!0},"Invite friends"):h(Button,{href:wt,localNavigation:!1,rounded:!0},"Set up profile"))))};function Nr({profile:mn}){const{isFollowing:Dn,buttonProps:Wn,css:Hn}=useFollowButtonState(mn,"profile");return h(IconButton,Me({fill:"outline"},Wn),Dn?h(Fragment,null,h(FollowedIcon,{className:Hn.off}),h(UnfollowIcon,{className:Hn.on})):h(FollowIcon,null))}function no({profile:mn}){const{isFollowing:Dn,buttonProps:Wn}=useFollowButtonState(mn,"profile");return h(Button,Me({priority:Dn?"secondary":"primary",fill:"outline",rounded:!0},Wn),Dn?h(Fragment,null,h(FollowingLabel,null,"Following"),h(UnfollowLabel,null,"Unfollow")):mn.followsViewer?"Follow back":"Follow")}const Jr=({profile:mn})=>h(Text.B4,null,h(Linkify,{options:{attributes:{rel:"nofollow ugc"}}},mn.bio)),$r=({profile:mn,primaryPublication:Dn,isMobile:Wn})=>{const Hn=useUser(),vr=!!Hn,tr=mn.publicationUsers.filter(Vt=>Vt.publication.id!==(Dn==null?void 0:Dn.id)),pr=mn&&mn.id===(Hn==null?void 0:Hn.id),kt=!pr&&Dn&&(Hn==null?void 0:Hn.primary_publication);return h(FlexColumn,{gap:16},Dn&&h(FlexColumn,{className:css.pubMain,bg:"secondary",padding:{desktop:16,mobile:8},radius:12,as:"a",href:getPubUrl(Dn,{signedIn:vr,params:{utm_source:"substack",utm_medium:"web",utm_campaign:"substack_profile"}}),onClick:()=>trackPublicationVisit(Dn,"profile")},h(PublicationContainer,null,h(FlexBox,{flex:"grow",minWidth:0,gap:12,alignItems:"center"},h(PubIcon,{pub:Dn,size:Wn?56:64}),h(FlexColumn,{flex:"grow",minWidth:0,gap:4},h(Text.H4,{ellipsis:!0},Dn.name),h(PublicationAuthorText,{author:Dn.author,pub:Dn})),!Wn&&kt&&h(po,{user:Hn,recommendedPublication:Dn,userPublication:Hn==null?void 0:Hn.primary_publication})),Dn.hero_text&&h(PublicationAbout,null,Dn.hero_text),Wn&&kt&&h(po,{user:Hn,recommendedPublication:Dn,userPublication:Hn==null?void 0:Hn.primary_publication}),!pr&&(Hn==null?void 0:Hn.is_author)&&(Hn==null?void 0:Hn.primary_publication)&&h(po,{recommendedPublication:Dn,userPublication:Hn==null?void 0:Hn.primary_publication}))),mn.publicationUsers.length>1&&h(nn,null,tr.map(Vt=>h(go,{key:Vt.id,pub:Vt.publication,subtitleType:"writer",signedIn:vr}))))};function bo({subscriptions:mn,profile:Dn}){const Wn=useUser(),Hn=Dn.id===(Wn==null?void 0:Wn.id);return mn.length===0?h(FlexBox,{paddingY:64,flex:"grow"},Hn?Dn.hasHiddenPublicationUsers?h(Zero,{icon:h(HideIcon,null),title:"All of your publications are hidden.",text:"To show others what you read, edit your profile.",action:h(Button,{priority:"secondary",href:getEditProfileUrl()},"Edit profile")}):h(Zero,{icon:h(BookOpen,null),title:"You haven\u2019t subscribed to any publications yet.",text:"Visit the Explore tab to find something to read.",action:h(Button,{priority:"secondary",href:getDiscoverCategoryUrl()},"Get started")}):h(Zero,{icon:h(Library,null),title:`${Dn.name} doesn\u2019t have any subscriptions to show.`,text:"Once they do, you'll see them here."})):h(FlexColumn,{flex:"fill",gap:{desktop:8,mobile:0},padding:8},mn.map(vr=>h(mo,{key:vr.id,subscription:vr})))}function mo({subscription:mn}){const{getExperimentVariant:Dn,exposeExperiment:Wn}=useExperiments(),Hn=mn.is_founding?"founder":mn.membership_state==="subscribed"?"subscribed":null,{publication:vr}=mn,{author:tr}=vr,pr=useSubscriptionController({publication:vr,subscriptionSource:"profile-subscriptions"});return h(FlexRow,{as:"a",href:getPubUrl(vr),gap:12,alignItems:"center",paddingY:8,paddingX:8,className:css.readsRow,minWidth:0,flex:"grow"},h(PubIcon,{pub:vr,size:40,badgeType:Hn}),h(FlexColumn,{flex:"grow",minWidth:0,size:14},h(Text.B4,{ellipsis:!0,weight:"semibold",color:"primary",href:getPubUrl(vr)},vr.name),tr&&h(Text.B4,{ellipsis:!0,color:"secondary"},"by ",tr.name)),pr.isSubscribed?h(So,{onUnsubscribe:pr.unsubscribe,publication:vr,button:h(Button,{fill:"outline",priority:"secondary",size:"small"},"Subscribed")}):h(Button,{fill:"outline",priority:"primary",size:"small",onClick:pr.subscribe},h(FlexRow,{alignItems:"center",gap:8},h(PlusIcon,{size:20}),"Subscribe")))}function So({onUnsubscribe:mn,publication:Dn,button:Wn}){const Hn=useConfirm(),vr=()=>ct(this,null,function*(){Hn.isConfirming||(yield Hn.confirm())&&mn()});return h(Fragment,null,h(Modal,{onClose:Hn.handleCancel,isOpen:Hn.isConfirming},h(FlexColumn,{padding:24,gap:24},h(FlexColumn,{gap:12},h(Text.H3,null,"Unsubscribe from ",Dn.name,"?"),h(Text.B3,null,"You can resubscribe at any time.")),h(FlexBox,{justifyContent:"end",gap:12},h(Button,{priority:"secondary",onClick:Hn.handleCancel},"Cancel"),h(Button,{priority:"destructive",onClick:Hn.handleConfirm},"Unsubscribe")))),h(Menu,{trigger:Wn},h(MenuItem,{icon:h(Settings,null),target:"_blank",href:getPubAccountSettingsUrl(Dn,{addBase:!0})},"Manage subscription"),h(MenuItem,{icon:h(X,null),onClick:vr,priority:"destructive"},"Unsubscribe")))}const go=({pub:mn,subtitleType:Dn})=>{const Wn=!!useUser(),Hn=["subscribed","founder"].includes(Dn)?Dn:null;return h(Fragment,null,h("a",{className:css.pub,href:getPubUrl(mn,{signedIn:Wn,params:{utm_source:"substack",utm_medium:"web",utm_campaign:"profile_page"}}),onClick:()=>trackPublicationVisit(mn,"profile")},h(FlexBox,{paddingX:{mobile:0,desktop:8},paddingY:8,minWidth:0,flex:"grow"},h(PublicationCard,{pub:mn,subtitle:Eo[Dn],badgeType:Hn,surface:"profile"}))))},Eo={writer:"Writer",free_signup:"Free subscriber",subscribed:"Paid subscriber",founder:"Founding member"},ro=({profile:mn})=>h("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:jsesc(getProfileStructuredData(mn),{json:!0,isScriptContext:!0})}}),po=({recommendedPublication:mn,userPublication:Dn})=>{const[Wn,Hn]=useState(!1),[vr,tr]=useState(!1),pr=useMobile(),{popToast:kt}=useToast(),{result:Vt,hasLoadedOnce:en}=useFetch({pathname:`/api/v1/recommendations/from/${Dn.id}/to/${mn.id}`,auto:!0,deps:[Dn.id,mn.id]});useEffect(()=>{const Nn=!!(Vt!=null&&Vt.recommended_publication_id);tr(Nn),vr!==Nn&&tr(Nn)},[en,Vt]);const dn=Nn=>ct(void 0,null,function*(){Hn(!0);try{Nn.preventDefault(),vr?(yield request.delete("/api/v1/recommendations").send({recommended_publication_id:mn.id,recommending_publication_id:Dn.id,source:"profile"}),kt(An=>h(Toast,$e(Me({},An),{text:"Recommendation removed"})))):(yield request.put("/api/v1/recommendations").send({recommended_publication_id:mn.id,recommending_publication_id:Dn.id,source:"profile",suggested:!1}),kt(An=>h(Toast,$e(Me({},An),{text:`Recommended ${mn.name}`})))),tr(!vr)}catch(An){kt(Rn=>h(Toast,$e(Me({},Rn),{text:"Something went wrong. Please try again.",Icon:X})))}Hn(!1)});return vr?h(Button,{priority:"secondary",fill:"outline",onClick:dn,disabled:Wn,rounded:!pr},"Recommended"):h(Button,{priority:"primary",fill:"outline",onClick:dn,disabled:Wn||!en,rounded:!pr},"Recommend")},wo=({user:mn,profile:Dn,primaryPublication:Wn,subscriptionSource:Hn})=>{const{getExperimentVariant:vr,exposeExperiment:tr}=useExperiments(),pr=useOnboardingHandler("profile"),[kt,Vt]=useState(Dn.isSubscribed),en=useSubscriptionController({publication:Wn,subscriptionSource:"profile"}),{isLoading:dn,subscribe:Nn}=useOneClickSubscribe({publication:Wn,profileId:Dn.id,source:Hn,onSuccess:()=>{Vt(!0)}});return kt?h(So,{publication:Wn,onUnsubscribe:()=>{en.unsubscribe(),Vt(!1)},button:h(Button,{priority:"secondary",rounded:!0},"Subscribed")}):Hn===Mt&&mn?h(Button,{priority:"primary",onClick:An=>{An.preventDefault(),Nn()},disabled:dn,rounded:!0},h(FlexRow,{alignItems:"center",gap:8},h(PlusIcon,{size:20}),"Subscribe")):h(Button,{priority:"primary",href:getSubscribeUrl(Wn,{user:mn,addBase:!0,params:{next:document.location.href,utm_source:Hn,utm_medium:"web",utm_campaign:"profile_page"}}),onClick:pr(Wn,Dn),rounded:!0},h(FlexRow,{alignItems:"center",gap:8},h(PlusIcon,{size:20}),"Subscribe"))},ko=({profile:mn,includeTopPadding:Dn})=>{const Wn=mn.publicationUsers.filter(tr=>tr.public).length,Hn=mn.primaryPublication&&`Writes ${mn.primaryPublication.name}
${Wn>1?` and ${pluralize(Wn-1,"other publication")}`:""}`,vr=mn!=null&&mn.handle?Hn?`@${mn.handle} \u2022 ${Hn}`:`@${mn.handle}`:Hn;return h(FlexColumn,{paddingTop:Dn?16:void 0,paddingBottom:16},h(FlexRow,{gap:12,alignItems:mn.bio?"start":"center",className:css.profileRow,padding:8,radius:12,onClick:()=>{window.location.href=getReaderProfileUrl(mn)}},h(Avatar,{user:mn,size:48}),h(FlexColumn,null,h(Text.H4,null,mn.name||"<unset>"),vr&&h(Text.B4,{color:"secondary"},vr),h(Text.B4,{paddingTop:4},mn.bio))))},ei=null;function Do(mn){var Dn;const Wn=(Dn=new URL(mn,"https://monograph.dev").searchParams)==null?void 0:Dn.get("utm_source");return Wn&&ei.includes(Wn)}function Uo({profile:mn}){const[Dn,Wn]=useState(!1),Hn=getUserPhotoUrl(mn),vr=useMobile();return h(FlexBox,{style:{cursor:"pointer"},onClick:()=>Wn(!0),className:css.avatar},h(Avatar,{size:vr?96:112,user:mn}),h(LazyComponent,{module:"../components/ImageViewerModal",resolve:tr=>tr.ImageViewerModal,onRequest:()=>e.e(661).then(e.bind(e,55661)),showModal:Dn,modalContent:[{src:Hn,attrs:{src:Hn}}],onClose:()=>{Wn(!1)},step:0,includeDownloadButton:!1}))}},68262:(z,u,e)=>{"use strict";e.d(u,{F:()=>y});var o=e(6400),f=e(94184),l=e.n(f),c=e(6378),g=e(64234),v=e(55886);const E={root:"frontend-reader2-PubIcon-module__root--jPSt4",custom:"frontend-reader2-PubIcon-module__custom--CCNn3",hello:"frontend-reader2-PubIcon-module__hello--bNKuF",placeholder:"frontend-reader2-PubIcon-module__placeholder--t4NRS"};function y({pub:p,logoUrl:O,publicationName:S,size:x=196,title:T,className:_,imgClassName:d,badgeType:s}){var w;return p&&!O&&(O=(0,c.getLogo)(p)),p&&!S&&(S=p.name||p.subdomain),(0,o.h)("div",{className:l()(E.root,_),title:T,style:{width:x,height:x}},O?(0,o.h)(v.t,{className:l()(E.custom,d),src:O,size:x,alt:S}):(0,o.h)("span",{className:l()(E.placeholder,d),style:{width:x,height:x,backgroundColor:p&&(p.is_www===!0?null:((w=p==null?void 0:p.theme)==null?void 0:w.background_pop_color)||(p==null?void 0:p.theme_var_background_pop)||null),color:null}},S==null?void 0:S[0]),s&&(0,o.h)(g.A,{className:"reader2-pub-badge",type:s,accentColor:p&&(p.is_www===!0?null:p.theme_var_background_pop)}))}},79167:(z,u,e)=>{"use strict";e.d(u,{i:()=>ue});var o=e(6400),f=e(94184),l=e(15045),c=e(67963),g=e(3258),v=e(84606),E=e(51126),y=e(43887),p=e(50292),O=e(5131),S=e(33510),x=e(4263),T=e(68262),_=e(40172),d=e(72307);const s={checkmarkWrapper:"frontend-reader2-Publication-module__checkmarkWrapper--K7AwJ"};var w=Object.defineProperty,P=Object.defineProperties,I=Object.getOwnPropertyDescriptors,D=Object.getOwnPropertySymbols,N=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,A=(oe,te,Z)=>te in oe?w(oe,te,{enumerable:!0,configurable:!0,writable:!0,value:Z}):oe[te]=Z,L=(oe,te)=>{for(var Z in te||(te={}))N.call(te,Z)&&A(oe,Z,te[Z]);if(D)for(var Z of D(te))C.call(te,Z)&&A(oe,Z,te[Z]);return oe},U=(oe,te)=>P(oe,I(te)),W=(oe,te)=>{var Z={};for(var re in oe)N.call(oe,re)&&te.indexOf(re)<0&&(Z[re]=oe[re]);if(oe!=null&&D)for(var re of D(oe))te.indexOf(re)<0&&C.call(oe,re)&&(Z[re]=oe[re]);return Z};function G(oe){var te=oe,{pub:Z,subscribeButtonStyle:re,className:ae,onClick:se}=te,be=W(te,["pub","subscribeButtonStyle","className","onClick"]);const _e=!!useUser();return h(LinkRow,{linkClassName:classnames("reader2-pub-link",ae),href:getPubUrl(Z,{params:{utm_source:"substack",utm_medium:"web",utm_campaign:"reader2"},signedIn:_e}),newTab:re!=null,onClick:se},h($,U(L({},be),{pub:Z,subscribeButtonStyle:re})))}function $({pub:oe,author:te,subscribeButtonStyle:Z,surface:re,highlights:ae={},highlightedPost:se}){var be;const _e=(te==null?void 0:te.name)||oe.author_name||((be=oe.author)==null?void 0:be.name)||oe.name,pe=!!useUser();return h(q,null,h(R,{className:"head",pub:oe,subtitle:h("span",null,"By ",highlightText(_e,ae.author_name)),subscribeButtonStyle:Z,surface:re,highlights:ae}),(oe.editorial_bio||oe.hero_text)&&h(Paragraph,{variant:"secondary",className:"description",isConstrained:!0},oe.editorial_bio||highlightText(oe.hero_text,ae.hero_text)),se&&h("a",{target:"_blank",rel:"noopener",href:getPostUrl(oe,se,{signedIn:pe})},h(Box,{border:"detail",padding:12,radius:6,shadow:"md"},h(PostBody,{highlights:ae,post:se}))),oe.rankingDetail&&h(Text.Meta,null,oe.rankingDetailFreeSubscriberCount))}function q(oe){return h(FlexBox,L({className:"reader2-pub-link",gap:12},oe))}function J({children:oe}){return h(Paragraph,{variant:"secondary",className:"description",isConstrained:!0},oe)}function R({pub:oe,subtitle:te,subscribeButtonStyle:Z=null,isSubscribed:re,className:ae,badgeType:se,surface:be,highlights:_e={}}){const pe=useUser();return h(FlexBox,{gap:12,flex:"grow",minWidth:0,className:ae},h(PubIcon,{className:"logo",pub:oe,size:40,badgeType:se}),h(FlexColumn,{minWidth:0,flex:"grow"},h(Text.B4,{weight:"semibold",ellipsis:!0},highlightText(oe.name,_e.name,"extrabold")),h(Text.B4,{color:"secondary",ellipsis:!0},te)),re?h(FlexBox,{className:css.checkmarkWrapper,alignItems:"center",justifyContent:"center"},h(Check,{size:16,stroke:"var(--color-tertiary)"})):Z&&h(j,{pub:oe,user:pe,buttonStyle:Z,surface:be}))}function j({pub:oe,user:te,buttonStyle:Z,surface:re}){const ae=useSubscriptionsContext(),se=ue(re)(oe);return h(Button,{variant:"primary",look:Z==="big"?"round":"circle",size:"small",hasLeftIcon:Z==="big",newTab:!0,href:getSubscribeUrl(oe,{addBase:!0,user:te,utm_source:"substack",utm_medium:"web",utm_campaign:"reader2"}),onClick:be=>{if(be.stopPropagation(),te){const _e="visibilitychange",pe=()=>{document.visibilityState==="visible"&&(ae.refetch(),document.removeEventListener(_e,pe))};document.addEventListener(_e,pe)}se(be)}},Z==="big"?h(Fragment,null,h("div",{className:"reader2-button-icon-circle"},h(Plus,{size:12,strokeWidth:3})),"Subscribe"):h(Fragment,null,h(Plus,{size:20})))}function ie(oe){var te;return oe.author_name||((te=oe.author)==null?void 0:te.name)}function le({pub:oe,author:te}){const Z=(te==null?void 0:te.name)||ie(oe);return h(Text.B4,null,"By ",Z)}function ye({className:oe}){return h(LinkRow,{linkClassName:classnames("reader2-pub-link",oe)},h("div",{className:"reader2-publication-card"},h(Placeholder,{size:48}),h("div",{className:"meta",style:{gap:8}},h(Placeholder,{type:"bar",width:120}),h(Placeholder,{type:"bar",width:80}))),h("div",{className:"body"},h(Placeholder,{type:"bar",width:"90%"}),h(Placeholder,{type:"bar",width:"100%"}),h(Placeholder,{type:"bar",width:"80%"})))}function ue(oe){const te=(0,c.aF)(),{onboardingModalRef:Z}=(0,p.SJ)();return(re,ae)=>se=>{var be,_e;if(!te){if(!Z.current)return;se.preventDefault(),ae?(be=Z.current)==null||be.openForPub(re,ae):(_e=Z.current)==null||_e.openToPubSignup(re);return}(0,g.x6)(re,oe)}}},44695:(z,u,e)=>{"use strict";e.d(u,{GF:()=>ye,Sm:()=>$,Sz:()=>le});var o=e(6400),f=e(94184),l=e.n(f),c=e(25380),g=e(15045),v=e(83322),E=e(67963),y=e(3258),p=e(8479),O=e(84040),S=e(48960),x=e(51126),T=e(94016),_=e(43887),d=e(95297),s=e(10186),w=e(33510),P=e(68262),I=e(79167),D=e(27797),N=Object.defineProperty,C=Object.getOwnPropertySymbols,A=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable,U=(ue,oe,te)=>oe in ue?N(ue,oe,{enumerable:!0,configurable:!0,writable:!0,value:te}):ue[oe]=te,W=(ue,oe)=>{for(var te in oe||(oe={}))A.call(oe,te)&&U(ue,te,oe[te]);if(C)for(var te of C(oe))L.call(oe,te)&&U(ue,te,oe[te]);return ue},G=(ue,oe)=>{var te={};for(var Z in ue)A.call(ue,Z)&&oe.indexOf(Z)<0&&(te[Z]=ue[Z]);if(ue!=null&&C)for(var Z of C(ue))oe.indexOf(Z)<0&&L.call(ue,Z)&&(te[Z]=ue[Z]);return te};const $=ue=>{var oe=ue,{publication_id:te,inline:Z,utmSource:re}=oe,ae=G(oe,["publication_id","inline","utmSource"]);const{result:se,refetch:be}=(0,p.ib)({pathname:`/api/v1/publication/public/${te}`,auto:!1,deps:[te]}),_e=(0,E.aF)();return(0,o.h)(T.z,W({className:l()(D.Z.publicationHoverCardTarget,Z&&D.Z.inline),content:se?(0,o.h)(q,{result:se,utmSource:re}):(0,o.h)(ie,null),onFetch:be,layerClassName:D.Z.publicationHoverCard},ae))};function q({result:ue,utmSource:oe}){const{pub:te}=ue,Z=(0,E.aF)();(0,y.j)(y.FP.PUBLICATION_HOVER_CARD_SHOWN,{publication_id:te.id});let re=te.contributors,ae=null;re&&re.length>3&&(ae=`See all (${(0,v.numberToString)(re.length)})`,re=re.slice(0,3));const se=`${te.base_url}?utm_source=${oe}`;return(0,o.h)(x.tu,{gap:16,padding:8},(0,o.h)(x.gq,null,(0,o.h)("a",{href:se},(0,o.h)(P.F,{pub:ue.pub,size:56}))),(0,o.h)(x.tu,{gap:6},(0,o.h)(le,{title:ue.pub.name,handle:void 0,blurb:ue.pub.hero_text,url:ue.pub.base_url}),te.rankingDetail&&te.rankingDetailFreeSubscriberCount&&(0,o.h)(_.xv,{font:"meta",color:"secondary",size:12,weight:"medium",lineHeight:20},te.rankingDetailFreeSubscriberCount.toUpperCase())),(0,o.h)(x.tu,null,(0,o.h)(J,{isContr:ue.isContributor,isSubs:ue.isSubscribed,pub:ue.pub,user:Z,dashboardUrl:ue.pub.base_url,utmSource:oe})),(0,o.h)(S.i,null),(0,o.h)(x.tu,null,(0,o.h)(R,{contributors:re,seeAllLabel:ae,redirLink:ue.pub.base_url,utmSource:oe})))}function J({isContr:ue,isSubs:oe,pub:te,user:Z,dashboardUrl:re,utmSource:ae}){const se=(0,I.i)("profile");return(0,o.h)(x.tu,null,ue?(0,o.h)(o.Fragment,null,(0,o.h)(O.zx,{priority:"secondary",fill:"outline",href:`${re}/publish`},"Dashboard")):oe?(0,o.h)(O.zx,{priority:"secondary",fill:"outline",href:(0,g.getSubscribeUrl)(te,{user:Z,addBase:!0,utm_source:ae||"pub_hover_card",utm_medium:"web",utm_campaign:"profile_page"}),leftIcon:(0,o.h)(c.Z,null)},"Subscribed"):(0,o.h)(O.zx,{priority:"primary",href:(0,g.getSubscribeUrl)(te,{user:Z,addBase:!0,utm_source:ae|"pub_hover_card",utm_medium:"web",utm_campaign:"profile_page"}),onClick:se(te)},"Subscribe"))}function R({contributors:ue,seeAllLabel:oe,redirLink:te,utmSource:Z}){return(0,o.h)(x.tu,null,(0,o.h)(ye,{sectionTitle:"Written by",seeAllLabel:oe,link:`${te}/about?sort=people`}),(0,o.h)(x.tu,null,ue.map(re=>(0,o.h)(j,{profile:re,utmSource:Z}))))}function j({profile:ue,utmSource:oe}){return(0,o.h)("a",{href:(0,g.getProfileUrlById)(ue.user_id,ue.name,{searchParams:{utm_source:oe}}),className:D.Z.hoverCardAvatar},(0,o.h)(s.qE,{user:ue,size:32}),(0,o.h)(_.xv,{font:"text",weight:"semibold",size:14,lineHeight:20},ue.name))}function ie(){return(0,o.h)(x.tu,{padding:8,gap:8},(0,o.h)(w.Vm,{size:56,style:{borderRadius:4}}),(0,o.h)(w.Vm,{type:"bar",width:"100%",height:20}),(0,o.h)(w.Vm,{type:"bar",width:"20%",height:20}),(0,o.h)(w.Vm,{type:"bar",width:"60%",height:20}))}function le({title:ue,handle:oe,blurb:te,url:Z,themed:re,bestsellerTier:ae,userId:se}){return(0,o.h)(o.Fragment,null,(0,o.h)("a",{style:{textDecoration:"none"},href:Z},(0,o.h)(_.xv.H3,{color:re?"pub-primary-text":"primary",className:D.Z.hoverCardTitle},ue,!!ae&&!!se&&(0,o.h)("span",{style:{whiteSpace:"nowrap",position:"relative",top:2,left:2}},"\xA0",(0,o.h)(d.s,{inline:!0,tier:ae,userId:se,tooltipOnHover:!0,size:"md"})))),oe&&(0,o.h)(_.xv.Meta,null,`@${oe}`),te&&(0,o.h)(_.xv.B3,{color:re?"pub-secondary-text":"secondary",clamp:4},te))}function ye({sectionTitle:ue,seeAllLabel:oe,link:te}){return(0,o.h)(x.gq,{justifyContent:"space-between"},(0,o.h)(_.xv.Meta,{color:"secondary"},ue),oe&&(0,o.h)("a",{className:D.Z.hoverCardSeeAll,href:te},(0,o.h)(_.xv.B4,{color:"accent-blue"},oe)))}},40172:(z,u,e)=>{"use strict";var o=e(6400),f=e(43887);const l=(c,g,v)=>{if(!c)return"";if(!g)return c;const E=new RegExp(g.join("|"),"ig"),y=c.split(E),p=[...c.matchAll(E)];return y.map((S,x)=>h(Fragment,null,S,x!==y.length-1&&h(Text,{as:"span",weight:v||"bold",fontStyle:"italic"},p[x]," ")))}},20533:(z,u,e)=>{"use strict";var o=e(6400),f=e(94184),l=e(84040),c=e(51126),g=e(43887);const v={tabs:"frontend-reader2-TabBar-module__tabs--WpXhb",tab:"frontend-reader2-TabBar-module__tab--E9FLI",isActive:"frontend-reader2-TabBar-module__isActive--hHYju",tabText:"frontend-reader2-TabBar-module__tabText--Sb2W6"};var E=Object.defineProperty,y=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,S=(s,w,P)=>w in s?E(s,w,{enumerable:!0,configurable:!0,writable:!0,value:P}):s[w]=P,x=(s,w)=>{for(var P in w||(w={}))p.call(w,P)&&S(s,P,w[P]);if(y)for(var P of y(w))O.call(w,P)&&S(s,P,w[P]);return s},T=(s,w)=>{var P={};for(var I in s)p.call(s,I)&&w.indexOf(I)<0&&(P[I]=s[I]);if(s!=null&&y)for(var I of y(s))w.indexOf(I)<0&&O.call(s,I)&&(P[I]=s[I]);return P};function _(s){var w=s,{value:P,currentValue:I,children:D,onClick:N}=w,C=T(w,["value","currentValue","children","onClick"]);const A=P===I;return h(UnstyledButton,x({className:classnames(css.tab,A&&css.isActive),resetCss:!0,onClick:()=>N(P)},C),h(Text,{size:14,lineHeight:20,weight:"medium",className:classnames(css.tabText,A&&css.isActive)},D))}function d(s){return h(FlexBox,x({className:css.tabs,style:{height:40}},s))}},47585:(z,u,e)=>{"use strict";e.d(u,{Eb:()=>O,in:()=>S,r8:()=>y});var o=e(6400),f=e(30396),l=e(94184),c=e.n(l),g=e(21958),v=e(42332);const E={unreadDot:"frontend-reader2-UnreadBadge-module__unreadDot--GSn8Q"};function y(x,T=(0,o.h)(p,null)){const[_,d]=(0,f.eJ)(x);return[_&&T,()=>{d(!1)}]}function p(){return(0,o.h)(O,null)}function O({className:x}){const{isHovering:T,ref:_}=(0,v.aw)();return(0,o.h)(o.Fragment,null,(0,o.h)(S,{className:c()(x,"reader2-unread-dot"),ref:_}),T&&(0,o.h)(v.u,{tetherRef:_},"New since your last visit"))}const S=(0,g.L)(E.unreadDot)},16742:(z,u,e)=>{"use strict";e.d(u,{K:()=>ie,y:()=>le});var o=e(6400),f=e(30396),l=e(81108),c=e(74655),g=e(36250),v=e(70444),E=e(20501),y=e(31517),p=e(1706),O=e(28488),S=e(67963),x=e(8479),T=e(39419),_=e.n(T),d=e(84040),s=e(51126),w=e(76235),P=e(62246),I=e(43887),D=e(75425),N=e(91870),C=e(10174),A=Object.defineProperty,L=Object.defineProperties,U=Object.getOwnPropertyDescriptors,W=Object.getOwnPropertySymbols,G=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable,q=(oe,te,Z)=>te in oe?A(oe,te,{enumerable:!0,configurable:!0,writable:!0,value:Z}):oe[te]=Z,J=(oe,te)=>{for(var Z in te||(te={}))G.call(te,Z)&&q(oe,Z,te[Z]);if(W)for(var Z of W(te))$.call(te,Z)&&q(oe,Z,te[Z]);return oe},R=(oe,te)=>L(oe,U(te)),j=(oe,te,Z)=>new Promise((re,ae)=>{var se=pe=>{try{_e(Z.next(pe))}catch(me){ae(me)}},be=pe=>{try{_e(Z.throw(pe))}catch(me){ae(me)}},_e=pe=>pe.done?re(pe.value):Promise.resolve(pe.value).then(se,be);_e((Z=Z.apply(oe,te)).next())});function ie({pub:oe,post:te,comment:Z,feedItem:re,onRestack:ae,tabId:se}){var be,_e;const pe=(0,S.aF)(),me=(0,D.pm)(),Te=!!pe,ve=!!((be=Z||te)!=null&&be.restacked),ce=((_e=Z||te)==null?void 0:_e.restacks)||0,Le=(0,N.I0)(),Ne=(0,C.i3)(),He=(0,x.ib)({pathname:"/api/v1/restack/feed"}),{iString:ze}=(0,O.M1)(),{nuxModal:Xe,showRestackNux:_t}=le(Z&&!Z.post_id?"note":Z?"comment":"post"),we=()=>j(this,null,function*(){const tt=yield He.refetch({method:"POST",json:{postId:Z?null:te==null?void 0:te.id,commentId:(Z==null?void 0:Z.id)||null,tabId:se}});if(tt instanceof Error){alert((0,T.getNetworkErrorMessage)(tt));return}me.popToast(et=>(0,o.h)(D.FN,R(J({},et),{text:tt.comment?ze("Note restacked"):ze("Post restacked"),Icon:y.Z,cta:ze("View"),href:(0,v.E2)()}))),tt.comment?Le({type:"comment_restack",payload:{commentId:tt.comment.id,isRestacked:!0}}):Le({type:"post_restack",payload:{postId:tt.post.id,isRestacked:!0}}),_t(),ae==null||ae(!0)}),We=()=>j(this,null,function*(){const tt=yield He.refetch({method:"DELETE",json:{postId:Z?null:te==null?void 0:te.id,commentId:(Z==null?void 0:Z.id)||null,tabId:se}});if(tt instanceof Error){alert((0,T.getNetworkErrorMessage)(tt));return}me.popToast(et=>(0,o.h)(D.FN,R(J({},et),{text:ze("Restack undone"),Icon:l.Z}))),Z?Le({type:"comment_restack",payload:{commentId:Z.id,isRestacked:!1}}):te&&Le({type:"post_restack",payload:{postId:te.id,isRestacked:!1}}),ae==null||ae(!1)}),Ie=tt=>j(this,null,function*(){tt.preventDefault();try{yield Ne.open({feedItem:re,restackUrl:Z?(0,g.getCommentUrl)(te,Z,oe):(0,E.getPostUrl)(oe,te),tabId:se}),_t()}catch(et){}});return{canRestack:Te,isRestacked:ve,restacks:ce,nuxModal:Xe,menuItems:[ve?(0,o.h)(w.sN,{icon:(0,o.h)(l.Z,null),onClick:We},ze("Undo restack")):(0,o.h)(w.sN,{icon:(0,o.h)(y.Z,null),onClick:we},ze("Restack")),(0,o.h)(w.sN,{icon:(0,o.h)(p.Z,null),onClick:Ie},ze("Restack with a note"))]}}function le(oe){const te=ye({entityType:oe}),Z=(0,x.ib)({pathname:"/api/v1/feed/has-restacked",auto:!1,cacheTtl:1/0}),re=()=>j(this,null,function*(){var ae;const se=(ae=Z.result)!=null?ae:yield Z.refetch();!(se instanceof Error)&&(se==null?void 0:se.hasRestacked)===!1&&(te.open(),Z.setResult({hasRestacked:!0}))});return{nuxModal:te.element,showRestackNux:re}}function ye({entityType:oe}){const[te,Z]=(0,f.eJ)(!1),re=()=>{Z(!1)};return{open:()=>{Z(!0)},element:(0,o.h)(P.u_,{isOpen:te,onClose:re},(0,o.h)(ue,{onClose:re,entityType:oe}))}}function ue({onClose:oe,entityType:te}){const{iString:Z}=(0,O.M1)();return(0,o.h)(s.tu,{paddingX:16},(0,o.h)(s.hs,{justifyContent:"center",paddingTop:32,paddingBottom:24},(0,o.h)(c.Z,{size:40,stroke:"var(--color-primary)"})),(0,o.h)(s.tu,{gap:12},(0,o.h)(I.xv.H3,{align:"center"},te==="comment"&&Z("You restacked a comment"),te==="note"&&Z("You restacked a note"),te==="post"&&Z("You restacked a post")),(0,o.h)(I.xv.B3,{color:"secondary",align:"center"},te==="comment"&&Z("Restack comments that inspire you to share them with more people."),te==="note"&&Z("Restack notes that inspire you to share them with more people."),te==="post"&&Z("Restack posts that inspire you to share them with more people.")," ",Z("Subscribers can see your restacks in the Notes tab and on your profile."))),(0,o.h)(s.tu,{paddingBottom:16,paddingTop:20,gap:8},(0,o.h)(d.zx,{rounded:!0,href:(0,v.E2)()},Z("View now")),(0,o.h)(d.zx,{priority:"secondary",fill:"outline",rounded:!0,onClick:oe},Z("OK"))))}},38497:(z,u,e)=>{"use strict";var o=e(30396);function f(){const[c,g]=useState(null);return{confirm:()=>new Promise((y,p)=>{c&&p(new Error("Already confirming.")),g({resolve:y,reject:p})}),isConfirming:!!c,handleConfirm:()=>{g(null),c==null||c.resolve(!0)},handleCancel:()=>{g(null),c==null||c.resolve(!1)}}}function l(c){const[g,v]=useState(null);return{confirm:()=>new Promise((p,O)=>{g&&O(new Error("Already confirming.")),v({resolve:p,reject:O})}),isConfirming:!!g,element:g?c({onConfirm:()=>{v(null),g==null||g.resolve(!0)},onCancel:()=>{v(null),g==null||g.resolve(!1)}}):null}}},70762:(z,u,e)=>{"use strict";e.d(u,{K:()=>N,_:()=>D});var o=e(6400),f=e(30396),l=e(58718),c=e(86418),g=e(20501),v=e(67963),E=e(8479),y=e(75425),p=e(72307),O=Object.defineProperty,S=Object.defineProperties,x=Object.getOwnPropertyDescriptors,T=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,s=(q,J,R)=>J in q?O(q,J,{enumerable:!0,configurable:!0,writable:!0,value:R}):q[J]=R,w=(q,J)=>{for(var R in J||(J={}))_.call(J,R)&&s(q,R,J[R]);if(T)for(var R of T(J))d.call(J,R)&&s(q,R,J[R]);return q},P=(q,J)=>S(q,x(J)),I=(q,J,R)=>new Promise((j,ie)=>{var le=oe=>{try{ue(R.next(oe))}catch(te){ie(te)}},ye=oe=>{try{ue(R.throw(oe))}catch(te){ie(te)}},ue=oe=>oe.done?j(oe.value):Promise.resolve(oe.value).then(le,ye);ue((R=R.apply(q,J)).next())});function D({publicationId:q,publication:J,publicationName:R,user:j,allowSecondaryPublications:ie=!0,subscriptionSource:le,sourceNoteId:ye}){var ue,oe,te;q=(te=(ue=J==null?void 0:J.id)!=null?ue:q)!=null?te:(oe=j==null?void 0:j.primary_publication)==null?void 0:oe.id;const Z=(0,v.aF)(),re=(0,y.pm)(),ae=(0,l.oJ)(),se=(0,p.Th)(),[be,_e]=(0,f.eJ)(!1),pe=A(Z,q,se)||C(Z,j,se,{allowSecondaryPublications:ie}),[me,Te]=(0,f.eJ)(null),ve=!!q,ce=se.isLoading||!!me||!ve,Le=ze=>I(this,null,function*(){var Xe;if(ze&&(ze.preventDefault(),ze.stopPropagation()),ce||pe||!ve)return;Te("subscribing");const _t=q?yield U(q,le,{publication:J,user:Z,sourceNoteId:ye}):j?yield G(Z,j,le):{didAction:!1,errorMessage:"No subscription target"},we=`Subscribed to ${q?(Xe=R!=null?R:J==null?void 0:J.name)!=null?Xe:"publication":j?j.name:"profile"}`;if(_t.didAction){if(_e(!0),re.popToast(We=>(0,o.h)(y.FN,P(w({},We),{text:we}))),Z)try{yield se.refetch()}catch(We){console.error("Failed to reload subscriptions:",We)}j&&ae((We=[])=>We.includes(j.id)?We:[j.id,...We],{revalidate:!1})}else _t.errorMessage&&re.popToast(We=>{var Ie;return(0,o.h)(y.FN,P(w({},We),{text:(Ie=_t.errorMessage)!=null?Ie:""}))});Te(null)}),Ne=ze=>I(this,null,function*(){var Xe;if(ze&&(ze.preventDefault(),ze.stopPropagation()),ce||!pe||!ve)return;Te("unsubscribing");const _t=q?yield W(q,le):j?yield $(Z,j,le):{didAction:!1,errorMessage:"No subscription target"},we=`Unsubscribed from ${q?(Xe=R!=null?R:J==null?void 0:J.name)!=null?Xe:"publication":j?j.name:"profile"}`;if(_t.didAction){if(_e(!1),re.popToast(We=>(0,o.h)(y.FN,P(w({},We),{text:we}))),Z)try{yield se.refetch()}catch(We){console.error("Failed to reload subscriptions:",We)}}else _t.errorMessage&&re.popToast(We=>{var Ie;return(0,o.h)(y.FN,P(w({},We),{text:(Ie=_t.errorMessage)!=null?Ie:""}))});Te(null)}),He=pe&&!me||me==="subscribing";return{showCta:ve&&(!Z||se.hasLoadedOnce)&&!(Z&&Z.id===(j==null?void 0:j.id))&&(!pe||be||me==="unsubscribing"),isSubscribed:He,hasPublication:!!q,subscribe:Le,unsubscribe:Ne,toggle:He?Ne:Le}}function N(q){var J;const R=(0,p.Th)(),j=(0,v.aF)();if((j==null?void 0:j.id)===q)return"subscribed";const{result:ie}=R;if(!ie)return null;const{subscriptions:le,publicationUsers:ye}=ie;for(const oe of ye)if(["admin","contributor"].includes(oe.role)&&L(q,oe.publication_id,R))return"subscribed";let ue=null;for(const oe of le)L(q,oe.publication_id,R)&&(ue=(J=(0,c.P)(oe.membership_state,ue)?oe.membership_state:ue)!=null?J:null);return ue}function C(q,J,R,{allowSecondaryPublications:j}={}){if(!q||!J||!R.hasLoadedOnce||!R.result)return!1;const{presubscriptions:ie,subscriptions:le,publicationUsers:ye}=R.result;if(ie.includes(J.id))return!0;if(j){for(const ue of le)if(ue.membership_state!=="unsubscribed"&&L(J.id,ue.publication_id,R))return!0;for(const ue of ye)if(["admin","contributor"].includes(ue.role)&&L(J.id,ue.publication_id,R))return!0}return!1}function A(q,J,R){if(!q||!J||!R.hasLoadedOnce||!R.result)return!1;const j=R.result.subscriptionMap.get(J);if(j&&j.membership_state!=="unsubscribed")return!0;const ie=R.result.publicationUserMap.get(J);return!!(ie&&["admin","contributor"].includes(ie.role))}function L(q,J,R){if(R.isLoading||!R.result)return!1;const j=R.result.publicationMap.get(J);if(j){if(j.author_id===q)return!0;for(const ie of j.contributors)if(ie.user_id===q)return!0}return!1}function U(q,J){return I(this,arguments,function*(R,j,{publication:ie,user:le,sourceNoteId:ye}={}){let ue=!1,oe;if(le)try{(yield(0,E.rd)("/api/v1/reader/signup/pub",{method:"POST",json:{publication_id:R,email:le.email,source:j,noWelcomeEmail:!0,sourceNoteId:ye}})).requires_confirmation?oe="Check your email to confirm subscription":ue=!0}catch(te){console.error(te),oe="Failed to subscribe"}else if(!le){if(!ie)try{ie=yield(0,E.rd)(`/api/v1/reader/publication/${R}`)}catch(te){console.error(te)}if(ie){const te=(0,g.getSubscribeUrl)(ie,{addBase:!0,user:le!=null?le:void 0});window.open(te,"_blank")}}return{didAction:ue,errorMessage:oe}})}function W(q,J){return I(this,null,function*(){let R=!1,j;try{yield(0,E.rd)("/api/v1/subscription/email",{method:"POST",json:{publication_id:q,email_disabled:!0,digest_enabled:!1,receive_podcast_emails:!1,source:J}}),R=!0}catch(ie){console.error(ie),j="Failed to unsubscribe"}return{didAction:R,errorMessage:j}})}function G(q,J,R){return I(this,null,function*(){let j=!1,ie;try{yield(0,E.rd)((0,g.getPresubscribeUrl)(J),{method:"POST",json:{source:R}}),j=!0}catch(le){console.error(le),ie="Failed to subscribe"}return{didAction:j,errorMessage:ie}})}function $(q,J,R){return I(this,null,function*(){let j=!1,ie;try{yield(0,E.rd)((0,g.getPresubscribeUrl)(J),{method:"DELETE",json:{source:R}}),j=!0}catch(le){console.error(le),ie="Failed to unsubscribe"}return{didAction:j,errorMessage:ie}})}},81671:(z,u,e)=>{"use strict";e.d(u,{Z:()=>p});var o=e(6400),f=e(94184),l=e.n(f),c=e(15045),g=e(83322),v=e(79786);function E({href:O,linkify:S,children:x,openInNewTab:T}){return S?T?(0,o.h)("a",{href:O,target:"_blank"},x):(0,o.h)("a",{href:O,native:!0},x):x}const p=({pub:O,href:S="",logo_url:x,showHover:T=!1,byline:_=null,proof:d=null,size:s=196,linkify:w=!0,title:P=null,className:I="",noMargin:D=!1,openInNewTab:N=!1,isStatic:C=!1,belowTheFold:A=!1})=>{var L;return(0,o.h)("div",{className:l()("pub-icon",!D&&"pub-icon-margin",I),title:P},T&&(0,o.h)("div",{className:"logo-hover"},(0,o.h)("div",{className:"logo-hover-title"},(0,o.h)("a",{href:S||O.base_url,native:!0},(O.name||O.subdomain)+(_?` by ${_}`:""))),(0,o.h)("div",{className:"logo-hover-proof"},d),(0,o.h)("div",{className:"logo-hover-description"},O.hero_text)),(0,o.h)(E,{href:S||O.base_url,linkify:w,openInNewTab:N},x?C?(0,o.h)("img",{src:(0,c.imginary)(x,s*2,{height:s*2,crop:"fill"}),width:s,height:s,className:"custom",alt:O.name}):(0,o.h)(v.e,{className:"custom",alt:O.name,imageProps:{height:s*2,crop:"fill"},maxWidth:s*2,src:x,width:s,height:s,loading:A?"lazy":null}):(0,o.h)("span",{className:"placeholder",style:O.theme_var_background_pop?`border-color:${(0,g.colorLightness)(O.theme_var_background_pop,.7)} ${O.theme_var_background_pop} ${O.theme_var_background_pop} ${(0,g.colorLightness)(O.theme_var_background_pop,.7)}`:""},(L=O.name||O.subdomain)==null?void 0:L[0])))}},86804:(z,u,e)=>{"use strict";e.d(u,{Z:()=>g});var o=e(6400),f=(p,O,S)=>new Promise((x,T)=>{var _=w=>{try{s(S.next(w))}catch(P){T(P)}},d=w=>{try{s(S.throw(w))}catch(P){T(P)}},s=w=>w.done?x(w.value):Promise.resolve(w.value).then(_,d);s((S=S.apply(p,O)).next())});const l="https://www.google.com/recaptcha/api.js?render=explicit&onload=__captchaOnloadCallback";let c=!1;typeof window!="undefined"&&(window.__captchaOnloadCallback=E);class g extends o.Component{componentDidMount(){return f(this,null,function*(){yield y(),this.captchaId=window.grecaptcha.render(this.base,{sitekey:window._preloads.captcha_site_key,size:"compact"})})}getResponse(){return window.grecaptcha.getResponse(this.captchaId)}render({className:O}){return(0,o.h)("div",{className:O})}}function v(){const p=document.getElementsByTagName("script")[0],O=document.createElement("script");O.type="text/javascript",O.async=!0,O.defer=!0,O.src=l,p.parentNode.insertBefore(O,p)}function E(){if(c){const p=c;c=!0;for(const O of p)O()}}function y(){return new Promise(p=>{c===!0?p():c===!1?(c=[p],v()):c.push(p)})}},19826:(z,u,e)=>{"use strict";e.d(u,{EJ:()=>y.E,Fx:()=>d,ZP:()=>_});var o=e(6400),f=e(94184),l=e.n(f),c=e(39419),g=e.n(c),v=e(7922),E=e(26059),y=e(22939),p=Object.defineProperty,O=(s,w,P)=>w in s?p(s,w,{enumerable:!0,configurable:!0,writable:!0,value:P}):s[w]=P,S=(s,w,P)=>(O(s,typeof w!="symbol"?w+"":w,P),P);const x="active",T=.7;class _ extends o.Component{constructor(w,P){if(super(w,P),S(this,"onDocumentMouseUp",I=>{!(0,c.isRootOrChild)(I.target,this.base)&&this.state.active&&!this.blockToggle&&(this.close(),this.blockToggle=!0,setTimeout(()=>{this.blockToggle=!1},0))}),S(this,"onDocumentKeyDown",I=>{I.key==="Escape"&&this.state.active&&this.close()}),S(this,"onWindowResize",()=>{this.placeDropdown()}),S(this,"placeDropdown",()=>{var I,D;if(!this.base||this.useDrawerStyle()||this.props.noPlace){this.setState({left:null,right:null});return}const N=this.base.getBoundingClientRect(),C=N.width/(this.state.active?1:T),A=N.right+(C-N.width)/2,L=N.left-(C-N.width)/2,U=typeof window!="undefined"&&window.innerWidth;if(C>=U)return;const W=typeof window!="undefined"&&window.getComputedStyle(this.base),G=!isNaN(parseFloat(W.left))&&parseFloat(W.left),$=!isNaN(parseFloat(W.right))&&parseFloat(W.right),q=(I=this.state.originalLeft)!=null?I:W.left,J=(D=this.state.originalRight)!=null?D:W.right;typeof this.state.originalLeft=="undefined"&&this.setState({originalLeft:q}),typeof this.state.originalRight=="undefined"&&this.setState({originalRight:J}),L<0?typeof this.state.left=="number"?this.setState({left:this.state.left-L,right:null}):typeof this.state.right=="number"?this.setState({left:null,right:this.state.right+L}):typeof $=="number"?this.setState({left:null,right:$+L}):this.setState({left:(G||0)-L,right:null}):A>=U&&(typeof this.state.left=="number"?this.setState({left:this.state.left-A+U,right:null}):typeof this.state.right=="number"?this.setState({left:null,right:this.state.right+A-U}):typeof G=="number"?this.setState({left:G-A+U,right:null}):this.setState({left:null,right:($||0)+A-U}))}),typeof window!="undefined"&&(window!=null&&window.matchMedia)){const I=window.matchMedia("screen and (max-width: 650px)");this.state={isMobileWidth:I.matches};const D=N=>{this.setState({isMobileWidth:N.matches})};I.addEventListener?I.addEventListener("change",D):I.addListener&&I.addListener(D)}}componentDidMount(){document.addEventListener("mouseup",this.onDocumentMouseUp),document.addEventListener("keydown",this.onDocumentKeyDown),typeof window!="undefined"&&window.addEventListener("resize",this.onWindowResize),this.placeDropdown()}componentWillUnmount(){document.removeEventListener("mouseup",this.onDocumentMouseUp),document.removeEventListener("keydown",this.onDocumentKeyDown),typeof window!="undefined"&&window.removeEventListener("resize",this.onWindowResize)}open(){this.toggle({active:!0})}close(){this.toggle({active:!1})}toggle({active:w=null}={}){this.blockToggle||(0,c.stateTransaction)(this,P=>{w===null&&(w=!P.active),this.props.preventScrollBehindDrawer&&this.useDrawerStyle()&&document.documentElement.classList[w?"add":"remove"]("modal-in"),this.setState({active:w},()=>{this.props.onToggle&&this.props.onToggle({active:w})})})}isOpen(){return!!this.state.active}useDrawerStyle(){return this.props.useDrawerOnMobile&&this.state.isMobileWidth}drawerBackdropClicked(){this.props.backdropDismiss&&this.close()}render({noTail:w,attachOnActive:P,noDrawerCloseButton:I},{active:D}){const N=(0,o.toChildArray)(this.props.children),C={},A={};typeof this.state.left=="number"?(C.left=`${this.state.left}px`,C.right="unset",A.right=`calc(50% + ${this.state.left-parseFloat(this.state.originalLeft)||0}px)`):typeof this.state.right=="number"&&(C.left="unset",C.right=`${this.state.right}px`,A.right=`calc(50% - ${this.state.right-parseFloat(this.state.originalRight)||0}px)`);const L=this.useDrawerStyle();return(0,o.h)(o.Fragment,null,L&&(0,o.h)("div",{className:l()("dropdown-drawer-backdrop",{[x]:D}),onclick:()=>this.drawerBackdropClicked()}),(!P||D||L)&&(0,o.h)("ul",{className:l()("dropdown-menu",this.props.className,{[x]:D,"no-rect":this.props.noRectWhenClosed,drawer:L,tooltip:!L,"no-place":!!this.props.noPlace}),style:C},!w&&!this.useDrawerStyle()&&(0,o.h)(o.Fragment,null,(0,o.h)("div",{className:"dropdown-menu-tail",style:A}),(0,o.h)("div",{className:"dropdown-menu-tail-shadow",style:A})),(0,o.h)("div",{className:l()("dropdown-menu-wrapper",this.props.wrapperClassName)},L&&!I&&(0,o.h)(v.k,{className:"drawer-close-button",onClick:()=>this.close()},(0,o.h)(E.Z,{height:24,className:"drawer-close-icon"})),this.props.noList?N:N.map(U=>(0,o.h)("li",null,U)))))}}class d extends o.Component{constructor(w){super(w),S(this,"onDocumentMouseUp",P=>{!(0,c.isRootOrChild)(P.target,this.base)&&this.state.active&&!this.blockToggle&&(this.close(),this.blockToggle=!0,setTimeout(()=>{this.blockToggle=!1},0))}),S(this,"onDocumentKeyDown",P=>{P.key==="Escape"&&this.close()}),S(this,"onWindowResize",()=>{this.placeDropdown()})}componentDidMount(){document.addEventListener("mouseup",this.onDocumentMouseUp),document.addEventListener("keydown",this.onDocumentKeyDown)}componentWillUnmount(){document.removeEventListener("mouseup",this.onDocumentMouseUp),document.removeEventListener("keydown",this.onDocumentKeyDown)}open(){this.toggle({active:!0})}close(){this.toggle({active:!1})}toggle({active:w=null}={}){this.blockToggle||(0,c.stateTransaction)(this,P=>{w===null&&(w=!P.active),this.setState({active:w},()=>{this.props.onToggle&&this.props.onToggle()})})}isOpen(){return!!this.state.active}render(){const w=(0,o.toChildArray)(this.props.children);return this.props.noList?(0,o.h)("div",{className:l()("dropdown-menu tooltip",this.props.className,{[x]:this.state.active}),ref:this.props.forwardedRef},(0,o.h)("div",{className:"dropdown-menu-wrapper"},w)):(0,o.h)("ul",{className:l()("dropdown-menu tooltip",this.props.className,{[x]:this.state.active}),ref:this.props.forwardedRef},!this.props.hideMenuTail&&(0,o.h)("div",{className:"dropdown-menu-tail"}),!this.props.hideMenuTail&&(0,o.h)("div",{className:"dropdown-menu-tail-shadow"}),(0,o.h)("div",{className:"dropdown-menu-wrapper"},w.map(P=>(0,o.h)("li",null,P))))}}},23890:(z,u,e)=>{"use strict";e.d(u,{GP:()=>D,UD:()=>P,ZP:()=>L,ew:()=>A,lQ:()=>s});var o=e(6400),f=e(94184),l=e.n(f),c=e(80569),g=e.n(c),v=e(83322),E=e(3258),y=Object.defineProperty,p=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,x=(U,W,G)=>W in U?y(U,W,{enumerable:!0,configurable:!0,writable:!0,value:G}):U[W]=G,T=(U,W)=>{for(var G in W||(W={}))O.call(W,G)&&x(U,G,W[G]);if(p)for(var G of p(W))S.call(W,G)&&x(U,G,W[G]);return U},_=(U,W)=>{var G={};for(var $ in U)O.call(U,$)&&W.indexOf($)<0&&(G[$]=U[$]);if(U!=null&&p)for(var $ of p(U))W.indexOf($)<0&&S.call(U,$)&&(G[$]=U[$]);return G},d=(U,W,G)=>new Promise(($,q)=>{var J=ie=>{try{j(G.next(ie))}catch(le){q(le)}},R=ie=>{try{j(G.throw(ie))}catch(le){q(le)}},j=ie=>ie.done?$(ie.value):Promise.resolve(ie.value).then(J,R);j((G=G.apply(U,W)).next())});function s(U,W){if(typeof window=="undefined"||typeof window.Stripe=="undefined")return null;const G={};return W&&W.stripe_user_id?v.NO_PLATFORM_CUSTOMER_CLONE_COUNTRIES.includes(W.stripe_country)&&(G.stripeAccount=W.stripe_user_id):console.warn("No publication passed for Stripe connection"),window.Stripe(U,G)}function w(U,W){if(typeof window=="undefined"||typeof window.Stripe=="undefined"||!(W!=null&&W.stripe_user_id))return null;const G={stripeAccount:W.stripe_user_id};return window.Stripe(U,G)}function P(U){return U.elements({locale:window._preloads&&window._preloads.language||"auto"}).create("card",{style:{base:{fontSize:"14px",lineHeight:"40px",fontFamily:'-apple-system, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"'}}})}function I(U,W,{email:G,name:$,country:q}={}){const J=U.elements({clientSecret:W,locale:window._preloads&&window._preloads.language||"auto"});return{elements:J,paymentElement:J.create("payment",{layout:{type:"tabs",defaultCollapsed:!1},defaultValues:{billingDetails:{email:G,name:$,address:{country:q}}},terms:{card:"never"}})}}class D extends o.Component{componentDidMount(){this.props.element&&this.props.element.mount(this.elementContainer)}componentDidUpdate(W){this.props.element&&!W.element&&this.props.element.mount(this.elementContainer)}componentWillUnmount(){if(this.props.element)try{this.props.element.unmount(this.elementContainer)}catch(W){}}render({className:W,element:G,isPaymentElement:$}){if(!(!G&&!$))return(0,o.h)("div",{className:l()("fancy-stripe",W,{"payment-element":$})},(0,o.h)("div",{ref:q=>this.elementContainer=q}))}}class N extends o.Component{constructor(W,G){if(super(W,G),W.stripe&&W.pub.stripe_country){(0,E.j)(E.FP.APPLE_PAY_SETUP_STARTED);try{const $=this.props.stripe.paymentRequest({country:this.props.pub.stripe_country,currency:this.props.plan.currency,total:this.getPaymentTotal(),requestPayerName:!0,requestPayerEmail:!0}),q=this.props.stripe.elements().create("paymentRequestButton",{paymentRequest:$});this.state={paymentRequest:$,stripeButton:q}}catch($){console.error($),(0,E.j)(E.FP.APPLE_PAY_SETUP_FINISHED,{success:!1})}}}componentDidMount(){return d(this,null,function*(){let W=!1;if(this.state.paymentRequest){try{const G=yield this.state.paymentRequest.canMakePayment();G&&G.applePay&&(W=!0)}catch(G){console.error(G)}(0,E.j)(E.FP.APPLE_PAY_SETUP_FINISHED,{success:W})}yield this.setState({canMount:W}),W?(this.button||(yield new Promise(G=>setTimeout(G,0))),this.state.stripeButton.mount(this.button),this.state.paymentRequest.on("token",G=>this.onTokenReceived(G)),this.state.paymentRequest.update({currency:this.props.plan.currency,total:this.getPaymentTotal()})):this.props.onVisibilityChanged&&this.props.onVisibilityChanged(!1)})}componentDidUpdate(W){let G=!1;for(const $ of["pub","plan","quantity","coupon","notRecurring","variableAmount"])if(W[$]!==this.props[$]||$==="coupon"&&W[$]&&W[$].loading&&(!this.props[$]||!this.props[$].loading)){G=!0;break}G&&this.state.paymentRequest&&this.state.paymentRequest.update({currency:this.props.plan.currency,total:this.getPaymentTotal()})}componentWillUnmount(){if(this.state.paymentRequest&&this.state.paymentRequest.off("token"),this.state.stripeButton)try{this.state.stripeButton.unmount(this.button)}catch(W){}}onTokenReceived(W){return d(this,null,function*(){(0,E.j)(E.FP.APPLE_PAY_ATTEMPED);try{yield this.props.onSuccess({email:W.payerEmail,name:W.payerName,stripe_token:W.token}),W.complete("success"),(0,E.j)(E.FP.APPLE_PAY_SUCCEEDED)}catch(G){console.error("Apple Pay submission failed:",W,G),W.complete("fail"),(0,E.j)(E.FP.APPLE_PAY_FAILED,{reason:G.message})}})}getPaymentTotal(){var W;const{pub:G,plan:$,quantity:q,coupon:J,notRecurring:R,variableAmount:j}=this.props;let ie=0,le=Math.max(0,$.trial_period_days||0,J&&!J.error&&!J.loading&&J.trial_period_days||0,G.trial_end_override&&Math.ceil((G.trial_end_override-Date.now()/1e3)/60/60/24));R&&(le=0);const ue=(((W=$.metadata)==null?void 0:W.founding)&&j||$.amount)*(q||1);let oe=ue;J&&!J.error&&!J.loading&&(J.percent_off?oe=Math.round(oe*(1-(J.percent_off_precise||J.percent_off)/100)):J.amount_off&&(oe=Math.max(0,oe-J.amount_off)),oe<=0&&(oe=ue,J.duration==="once"?$.interval==="year"?ie+=12*$.interval_count:ie+=$.interval_count:J.duration==="repeating"&&(ie+=J.duration_in_months)));let te;return R?te="one-time":(te=`${this.props.plan.interval}ly`,this.props.quantity>1&&(te+=" per person"),ie?(le>15&&(ie+=parseInt(le/30)),te+=` with ${ie}-month trial`):le&&(te+=` with ${le}-day trial`)),{label:te,amount:oe}}render({children:W,className:G,error:$},{canMount:q}){if(!(typeof q!="undefined"&&!q&&typeof window!="undefined"))return(0,o.h)("div",{className:"apple-pay-parent-container"},q?(0,o.h)("div",{className:`apple-pay-element ${G||""}`,ref:J=>this.button=J}):(0,o.h)("p",{className:`apple-pay-loader ${G||""}`},"Loading\u2026"),$&&(0,o.h)("div",{className:"error"},$),W)}}class C extends o.Component{render(W,G){var $=W,{children:q,ref:J}=$,R=_($,["children","ref"]);return(0,o.h)("div",{className:"fancy-input"},(0,o.h)("input",T({ref:j=>this._input=j},R)),q)}blur(){this._input&&this._input.blur()}}class A extends Error{constructor(W){super(W),this.response={body:{error:this.message}}}}class L extends o.Component{constructor(W,G){super(W,G),this.state={_paramErrors:{},_otherErrors:[],_stripeError:null,loading:!1},this.props.stripe_publishable_key&&(this._stripe=s(this.props.stripe_publishable_key,this.props.pub),this._stripe&&(this.props.useStripePaymentElement?this.state.loading=!0:this._stripeCardOrPaymentElement=P(this._stripe),this._connectedStripe=w(this.props.stripe_publishable_key,this.props.pub)))}getInputs(){const W=[];if(this.base){const G=Array.from(this.base.getElementsByTagName("*"));for(const $ of G)["INPUT","TEXTAREA","SELECT"].includes($.nodeName)&&$.getAttribute("name")&&$.id!=="g-recaptcha-response"&&W.push($)}return W}resetErrors(){this.setState({_paramErrors:{},_otherErrors:[]})}clear(){this.resetErrors();for(const W of this.getInputs())W.blur&&W.blur(),W.type==="checkbox"?W.checked=!1:W.type==="select"?W.selectedIndex=-1:W.type==="radio"?W.checked=!1:W.target?W.target.value="":W.value=""}handleStripeChange({error:W}){W?this.setState({_stripeError:W.message}):this.setState({_stripeError:null})}componentDidMount(){this._mountTime=new Date,this._stripeCardOrPaymentElement&&this._stripeCardOrPaymentElement.addEventListener("change",W=>this.handleStripeChange(W))}componentDidUpdate(W){const{country:G,email:$,name:q,stripeClientSecret:J,useStripePaymentElement:R}=this.props;R&&J!==W.stripeClientSecret&&(J?({elements:this._stripeElements,paymentElement:this._stripeCardOrPaymentElement}=I(this._connectedStripe,J,{email:$,name:q,country:G}),this.setState({loading:!1})):W.stripeClientSecret&&(this.setState({loading:!0}),this._stripeCardOrPaymentElement.destroy(),this._stripeCardOrPaymentElement=null))}componentWillUnmount(){this._stripeCardOrPaymentElement&&this._stripeCardOrPaymentElement.destroy()}onInputBlur(W){this.props.analyticsName&&new Date().getTime()-this._mountTime>1e3&&W.target&&W.target.value&&!W.target._blurTracked&&((0,E.j)(`${this.props.analyticsName} Input Filled`,{name:W.target.name}),W.target._blurTracked=!0)}onPaymentRequestAttempt(W){return d(this,null,function*(){const G=yield this.handleSubmitAsync(null,W);if(G)throw G})}handleSubmit(W){W&&W.preventDefault(),this.handleSubmitAsync(W).catch(G=>{console.error(G)})}handleSubmitAsync(W){return d(this,arguments,function*(G,$={}){var q,J;if(G&&G.preventDefault(),this.props.analyticsName&&(0,E.j)(`${this.props.analyticsName} Submit Pressed`),this.props.loading||this.state.loading||this.props.disableSubmit)return;this.resetErrors(),this.setState({loading:!0});const R=this.props.method?this.props.method:"post";let j=null;if(this.stripeElement&&!$.stripe_token&&!this.props.useStripePaymentElement){const{token:ue,error:oe}=this._stripe?yield this._stripe.createToken(this._stripeCardOrPaymentElement):{error:{message:""}};if(ue)j=ue;else{this.setState({loading:!1,_stripeError:oe&&oe.message}),this.props.analyticsName&&(console.log("error",oe),(0,E.j)(`${this.props.analyticsName} Missing Payment`,{type:oe&&oe.type,code:oe&&oe.code,decline_code:oe&&oe.decline_code,reason:oe&&oe.message}));return}}let ie={};for(const ue of this.getInputs())ue.blur&&ue.blur(),ue.type=="checkbox"?ie[ue.name]=!!ue.checked:ue.type=="radio"?ue.checked&&(ie[ue.name]=ue.value):ue.type==="select"?ie[ue.name]=ue.options[ue.selectedIndex].value:ie[ue.name]=ue.value;if(Object.keys($).forEach(ue=>{!ie[ue]&&$[ue]&&(ie[ue]=$[ue])}),j&&(ie.stripe_token=j),this.props.prepareData)try{const ue=yield this.props.prepareData(ie,G);ue&&(ie=ue)}catch(ue){throw this.setState({loading:!1}),ue}this.props.onChangeLoadingState&&this.props.onChangeLoadingState(!0);let le,ye;try{if(this.props.performSubmit)this.props.useStripePaymentElement?le=yield this.props.performSubmit(ie,{confirmSetup:ue=>this._connectedStripe.confirmSetup({elements:this._stripeElements,redirect:"if_required",confirmParams:ue})}):le=yield this.props.performSubmit(ie);else if(this.props.action){const ue=g()[R](this.props.action);this.props.method&&this.props.method==="get"?le=yield ue.query(ie):le=yield ue.send(ie)}else this.props.onSubmit&&this.props.onSubmit(ie)}catch(ue){ye=ue}if((q=le==null?void 0:le.body)!=null&&q.confirmPaymentUrl&&le.body.clientSecret&&this._connectedStripe){(0,E.j)(E.FP.PAYMENT_CONFIRMATION_STARTED);const ue=yield this._connectedStripe.confirmCardPayment(le.body.clientSecret);if(ue.error){(0,E.j)(E.FP.PAYMENT_CONFIRMATION_FAILED,{error:(J=ue.error)==null?void 0:J.message});const oe={error:ue.error.message||"Failed to confirm payment"};ye={response:{body:oe,text:JSON.stringify(oe)}}}else(0,E.j)(E.FP.PAYMENT_CONFIRMATION_SUCCEEDED)}if(this.setState({loading:!1}),this.props.onChangeLoadingState&&this.props.onChangeLoadingState(!1),!ye)this.props.onSuccess&&this.props.onSuccess(le,ie);else if(this.processErrors(ye.response),this.props.onError&&this.props.onError(ye),!ye.response)throw ye;return ye})}processErrors(W){const G={},$=[];if(W&&W.body&&W.body.errors){const q=this.getInputs();W.body.errors.forEach(J=>{this.props.noInlineErrors!==!0&&J.param&&q.filter(R=>R.getAttribute("name")===J.param).length>0?G[J.param]?(console.log("Discarding repeated error"),console.log(J)):G[J.param]=J:$.push(J)})}else W&&W.body&&typeof W.body.error=="string"?$.push({msg:W.body.error}):$.push({msg:"Something went wrong"});this.setState({_paramErrors:G,_otherErrors:$}),this.props.analyticsName&&(0,E.j)(`${this.props.analyticsName} Error`,{paramErrors:JSON.stringify(G),otherErrors:JSON.stringify($)})}render(W,G){const $=W.autoLock&&G.loading||W.loading;let q=!1,J=!1;const R=j=>{const ie=[];return(0,o.toChildArray)(j).forEach(le=>{if(!le)return null;if((le.type===C||le.type==="input"||le.type==="textarea"||le.type==="select")&&le.props&&le.props.name){const ye=le.props.name;if(ie.push((0,o.cloneElement)(le,{disabled:$||le.props.disabled,onChange:ue=>{var oe,te;const Z=((oe=le.props)==null?void 0:oe.onChange)||((te=le.props)==null?void 0:te.onInput);Z&&Z(ue),this.props.onChange&&this.props.onChange(ue)},onInput:ue=>{le.props&&le.props.onInput&&le.props.onInput(ue),this.props.onInput&&this.props.onInput(ue)},onBlur:ue=>{this.onInputBlur(ue),le.props&&le.props.onBlur&&le.props.onBlur(ue)}})),G._paramErrors[ye]&&!$){const ue=G._paramErrors[ye];ue.msgHTML?ie.push((0,o.h)("div",{className:"error",name:ye,dangerouslySetInnerHTML:{__html:ue.msgHTML}})):ie.push((0,o.h)("div",{className:"error",name:ye},ue.msg||"Invalid"))}}else if(le.props&&le.props.type==="submit")ie.push((0,o.cloneElement)(le,{disabled:$||le.props.disabled,onClick:ye=>{le.props&&le.props.onClick&&le.props.onClick(ye)!==!1&&this.handleSubmit(ye)}}));else if(le.props&&le.props.id==="error-container"){if(G._otherErrors&&!$){const ye=G._otherErrors.map(ue=>ue.msgHTML?(0,o.h)("div",{className:"error other-error",dangerouslySetInnerHTML:{__html:ue.msgHTML}}):(0,o.h)("div",{className:"error other-error"},ue.msg)).concat(le.props&&le.props.children?(0,o.toChildArray)(le.props.children):[]);ie.push((0,o.cloneElement)(le,{},ye))}}else if(le.type===D){if(q)throw new Error("Can only handle one stripe element");q=!0,ie.push((0,o.cloneElement)(le,{ref:ye=>{le.props&&le.props.ref&&le.props.ref(ye),this.stripeElement=ye},element:this._stripeCardOrPaymentElement,isPaymentElement:this.props.useStripePaymentElement})),(G._stripeError||!this._stripeCardOrPaymentElement)&&!$&&typeof window!="undefined"&&ie.push((0,o.h)("div",{className:l()("error",W.stripeErrorClassName),role:"alert"},G._stripeError||"Stripe payments not loaded. Are there blocked scripts?"))}else if(le.type===N){if(J)throw new Error("Can only handle one stripe payment request button");J=!0,ie.push((0,o.cloneElement)(le,{ref:ye=>{le.props&&le.props.ref&&le.props.ref(ye),this.stripePaymentRequestButton=ye},stripe:this._stripe,onSuccess:ye=>(le.props&&le.props.onSuccess&&le.props.onSuccess(ye),this.onPaymentRequestAttempt(ye))}))}else le.props&&le.props.children?ie.push((0,o.cloneElement)(le,{},R(le.props.children))):ie.push(le)}),ie};return(0,o.h)("form",T({className:`form ${W.className||""}`,action:W.noJsAction||W.action,method:W.method&&["get","post"].includes(W.method.toLowerCase())&&W.method.toLowerCase()||"post",autoComplete:W.autoComplete,onSubmit:j=>this.handleSubmit(j),noValidate:!0},W.enctype&&{enctype:W.enctype}),R(W.children))}}},41406:(z,u,e)=>{"use strict";e.d(u,{Z:()=>be});var o=e(6400),f=e(94184),l=e.n(f),c=e(7922),g=e(23890),v=e(28488),E=e(1824),y=e(3258),p=e(72496),O=e(39419),S=e(30396),x=e(5285),T=e(92271),_=e(51126),d=e(43887);const s={animationWrapper:"frontend-login-typo_handler-EmailTypoHandler-module__animationWrapper--UT0du",wrapper:"frontend-login-typo_handler-EmailTypoHandler-module__wrapper--jLAJH",secondaryText:"frontend-login-typo_handler-EmailTypoHandler-module__secondaryText--j9Xhk",primaryText:"frontend-login-typo_handler-EmailTypoHandler-module__primaryText--pyBNR",typoHandler:"frontend-login-typo_handler-EmailTypoHandler-module__typoHandler--gViyO",buttonFill:"frontend-login-typo_handler-EmailTypoHandler-module__buttonFill--XorHI",buttonWrapper:"frontend-login-typo_handler-EmailTypoHandler-module__buttonWrapper--me9Bp"},w=({emailSuggestions:_e,currentEmail:pe,onAccept:me,onReject:Te})=>{const ve=(0,O.isMobileBrowser)(),[ce,Le]=(0,S.eJ)(!1),[Ne,He]=(0,S.eJ)(null),ze=(0,S.sO)(null),Xe=Ie=>{Le(!1),(0,y.j)(y.FP.EMAIL_TYPO_SUGGESTION_REJECTED,{email_provided:pe,email_suggested:Ie}),Te&&Te()},_t=_e&&pe&&_e[pe]&&_e[pe]!=pe.trim(),we=Ie=>{Le(!1),(0,y.j)(y.FP.EMAIL_TYPO_SUGGESTION_ACCEPTED,{email_provided:pe,email_suggested:Ie}),me(Ie)};(0,S.d4)(()=>{if(_t){const Ie=_e[pe];(0,y.j)(y.FP.EMAIL_TYPO_SUGGESTION_SHOWN,{email_provided:pe,email_suggested:Ie}),He(Ie),Le(!0)}else Le(!1)},[_t,_e,pe]);const{iString:We}=(0,v.M1)();return(0,o.h)("div",{className:s.animationWrapper},(0,o.h)(x.u,{show:ce,enter:"tw-transition-all tw-duration-fast transform-gpu",enterFrom:"tw-opacity-0 tw-translate-y-[-40%]",enterTo:"tw-opacity-100 tw-translate-y-0",leave:"tw-transition-all tw-duration-fast transform-gpu",leaveFrom:"tw-opacity-100 tw-translate-y-0",leaveTo:"tw-opacity-0 tw-translate-y-[-40%]",ref:ze},(0,o.h)(_.hs,{className:s.wrapper,paddingTop:16,paddingX:{mobile:16},alignItems:"start"},(0,o.h)(_.tu,{className:s.typoHandler,border:"detail",paddingY:24,paddingX:20,radius:6,alignItems:"start",gap:20},(0,o.h)(d.xv,{translated:!0,size:16,font:"display",className:s.secondaryText},"Did you mean"," ",(0,o.h)(d.xv,{as:"span",weight:"semibold",className:s.primaryText},I18N.p(Ne||"")),"?"),(0,o.h)(_.gq,{justifyContent:"space-between",flex:"grow",gap:12,className:s.buttonWrapper},(0,o.h)(T.z,{onClick:()=>we(Ne),className:s.buttonFill,variant:"themed-primary"},We(ve?"Yes":"Yes, Subscribe with correction")),(0,o.h)(T.z,{className:s.buttonFill,variant:"secondary",onClick:()=>Xe(Ne)},We("No")))))))};var P=e(23279),I=e.n(P),D=e(80569),N=e.n(D),C=e(83868),A=e.n(C),L=(_e,pe,me)=>new Promise((Te,ve)=>{var ce=He=>{try{Ne(me.next(He))}catch(ze){ve(ze)}},Le=He=>{try{Ne(me.throw(He))}catch(ze){ve(ze)}},Ne=He=>He.done?Te(He.value):Promise.resolve(He.value).then(ce,Le);Ne((me=me.apply(_e,pe)).next())});const U=(_e,pe)=>L(void 0,null,function*(){const me=yield N().get("/api/v1/check-email").query({email:_e});pe([_e,me.body])}),W=I()((_e,pe)=>L(void 0,null,function*(){yield U(_e,pe)}),200),G=_e=>L(void 0,null,function*(){return A()(_e)?new Promise((pe,me)=>{W(_e,pe)}):[]});var $=e(13045),q=e(15045),J=e(83322);const R={container:"frontend-components-free_email_form-module__container--OfBh4",form:"frontend-components-free_email_form-module__form--LDIzl",sideBySideWrap:"frontend-components-free_email_form-module__sideBySideWrap--yhsgv",emailInput:"frontend-components-free_email_form-module__emailInput--BLQGf",emailInputOnAccentBackground:"frontend-components-free_email_form-module__emailInputOnAccentBackground--WwaMR",emailInputExpectTruncation:"frontend-components-free_email_form-module__emailInputExpectTruncation--feM6p",emailInputWrapper:"frontend-components-free_email_form-module__emailInputWrapper--BXNrb",emailInputWrapperExpectTruncation:"frontend-components-free_email_form-module__emailInputWrapperExpectTruncation--PrvaL",button:"frontend-components-free_email_form-module__button--WcLG9",buttonOnAccentBackground:"frontend-components-free_email_form-module__buttonOnAccentBackground--pxtYI",disabled:"frontend-components-free_email_form-module__disabled--tI4ri",links:"frontend-components-free_email_form-module__links--G_QlQ"};var j=Object.defineProperty,ie=Object.defineProperties,le=Object.getOwnPropertyDescriptors,ye=Object.getOwnPropertySymbols,ue=Object.prototype.hasOwnProperty,oe=Object.prototype.propertyIsEnumerable,te=(_e,pe,me)=>pe in _e?j(_e,pe,{enumerable:!0,configurable:!0,writable:!0,value:me}):_e[pe]=me,Z=(_e,pe)=>{for(var me in pe||(pe={}))ue.call(pe,me)&&te(_e,me,pe[me]);if(ye)for(var me of ye(pe))oe.call(pe,me)&&te(_e,me,pe[me]);return _e},re=(_e,pe)=>ie(_e,le(pe)),ae=(_e,pe,me)=>(te(_e,typeof pe!="symbol"?pe+"":pe,me),me),se=(_e,pe,me)=>new Promise((Te,ve)=>{var ce=He=>{try{Ne(me.next(He))}catch(ze){ve(ze)}},Le=He=>{try{Ne(me.throw(He))}catch(ze){ve(ze)}},Ne=He=>He.done?Te(He.value):Promise.resolve(He.value).then(ce,Le);Ne((me=me.apply(_e,pe)).next())});class be extends o.Component{constructor(pe){super(pe),ae(this,"handleEmailChange",()=>{const me=this.emailInput.value;me&&(this.setState({currentEmail:me}),!(this.state.emailSuggestions&&this.state.emailSuggestions.hasOwnProperty(me))&&G(me).then(Te=>{const[ve,ce]=Te;this.setState({emailSuggestions:re(Z({},this.state.emailSuggestions),{[ve]:ce})})}))}),ae(this,"_onSuccess",me=>se(this,null,function*(){const{iTemplate:Te}=this.context;me.body.prompt_to_login||y.IU(),me.body.requires_confirmation&&(this.props.onConfirmationRequired?yield this.props.onConfirmationRequired(me):alert(Te`Confirmation required: we sent an email to ${me.body.email}. Click the link there to finish subscribing.`)),this.props.freeSignupEmail&&this.props.freeSignupEmail!==me.body.email&&(0,E.a)({freeSignupEmail:me.body.email}),this.props.onSuccess&&(yield this.props.onSuccess(me))})),ae(this,"onSuccess",me=>se(this,null,function*(){typeof window!="undefined"&&window.campaign&&(0,q.getQueryItem)("referralCode")?window.campaign.identify({email:me.body.email},()=>this._onSuccess(me)):yield this._onSuccess(me)})),ae(this,"onAcceptSuggestion",me=>{this.emailInput.value=me,this.form.handleSubmit(null,!0)}),this.state={emailSuggestions:{}}}getSavedEmail(){return this.props.user&&this.props.user.email||null}getPrefilledEmail(){return this.props.email||this.props.freeSignupEmail||this.getSavedEmail()}componentDidMount(){return se(this,null,function*(){this.getPrefilledEmail()&&(this.emailInput.value=this.getPrefilledEmail())})}onLoadingState(pe){this.setState({loading:pe,requires_confirmation:!1})}onError(pe){pe.status===425&&this.setState({requires_confirmation:!0}),this.props.onError&&this.props.onError(pe)}render({autoFocus:pe,children:me,className:Te,disabled:ve,expectTruncation:ce,loginRedirect:Le,next:Ne,onAccentBackground:He,pub:ze,referralCode:Xe,showLogin:_t,showTerms:we,source:We,submitButtonText:Ie,useSubscribeLink:tt,user:et,utm_campaign:ht,onMaybeLater:vt,onPrepareData:Lt},{loading:$t,requires_confirmation:yt}){var he,je,st,De,Be,Ke;const it=We==="treatment_bold_fade",Qe=((st=(je=(he=(0,q.getQueryItem)("referring_pub_ids"))==null?void 0:he.split)==null?void 0:je.call(he,","))==null?void 0:st[0])||void 0,Ae=((Ke=(Be=(De=(0,q.getQueryItem)("referring_pub_ids"))==null?void 0:De.split)==null?void 0:Be.call(De,","))==null?void 0:Ke.slice(1))||void 0,H=this.getPrefilledEmail(),{iString:ee,iTemplate:de}=this.context;return(0,o.h)("div",{className:R.container},(0,o.h)(g.ZP,{ref:Ee=>this.form=Ee,className:l()(Te,R.form),noInlineErrors:!0,action:(0,q.pathWithQuery)("/api/v1/free"),noJsAction:(0,q.pathWithQuery)("/api/v1/free",{nojs:!0}),prepareData:Ee=>{yt&&(Ee.resend_confirmation=!0),Lt&&Lt(Ee)},onChangeLoadingState:this.onLoadingState.bind(this),onError:Ee=>this.onError(Ee),onSuccess:Ee=>this.onSuccess(Ee),typoFound:Ee=>this.setState({emailSuggestion:Ee}),disableSubmit:tt},(0,o.h)("input",{type:"hidden",name:"first_url",value:p.xY}),(0,o.h)("input",{type:"hidden",name:"first_referrer",value:p.ip}),(0,o.h)("input",{type:"hidden",name:"current_url",value:p.UE}),(0,o.h)("input",{type:"hidden",name:"current_referrer",value:p.xU}),(0,o.h)("input",{type:"hidden",name:"referral_code",value:Xe}),(0,o.h)("input",{type:"hidden",name:"source",value:We}),(0,o.h)("input",{type:"hidden",name:"referring_pub_id",value:Qe}),(0,o.h)("input",{type:"hidden",name:"additional_referring_pub_ids",value:Ae}),(0,o.h)("div",{className:R.sideBySideWrap},!!H&&(0,O.inputPrefillHack)(),(0,o.h)("div",{className:l()(R.emailInputWrapper,{[R.emailInputWrapperExpectTruncation]:ce})},(0,o.h)("input",{className:l()("pencraft",R.emailInput,{[R.emailInputOnAccentBackground]:He,[R.emailInputExpectTruncation]:ce}),onChange:this.handleEmailChange,onInput:this.handleEmailChange,ref:Ee=>this.emailInput=Ee,type:"email",name:it?"email-pop":"email",readOnly:!!(this.getSavedEmail()||$t||ve),disabled:!!($t||ve),autoFocus:pe&&!(this.getPrefilledEmail()||ve)&&!(0,O.isMobileBrowser)(),placeholder:ee("Type your email...")})),(0,o.h)(c.Z,{className:l()("rightButton primary subscribe-btn",R.button,{pop:it,[R.buttonOnAccentBackground]:He}),type:"submit",disabled:!!($t||ve),onClick:Ee=>{tt&&(location.href=(0,q.getSubscribeUrl)(ze,{addBase:!0,user:et,utm_source:"substack",utm_medium:"web",utm_campaign:ht,next:Ne}))}},(0,o.h)("span",{className:`button-text ${it?"pop":""}`},Ie||(0,J.getSubscribeText)(ze)))),yt?(0,o.h)("div",null,(0,o.h)($.xv,{translated:!0,className:"error other-error"},"This email address is not confirmed yet.",(0,o.h)("br",null),(0,o.h)("a",{href:"javascript:void(0)",onClick:()=>this.form.handleSubmit()},"Click here")," ","to resend the confirmation email.")):(0,o.h)("div",{id:"error-container"}),_t||we||me?(0,o.h)("div",{className:l()("subtle-help-text below-input",R.links)},_t&&(this.getSavedEmail()?(0,o.h)("a",{className:"login-button",href:(0,q.getSignoutUrl)({for_pub:ze.subdomain}),native:!0},ee("Not you?")):(0,o.h)("a",{className:"login-button",href:(0,q.getSigninUrl)({for_pub:ze.subdomain,redirect:Le}),native:!0},ee("Login"))),we&&[(0,o.h)("a",{className:"legal",href:(0,q.getPrivacyUrl)(ze),target:"_blank",native:!0},ee("Privacy")),(0,o.h)("a",{className:"legal",href:"/tos",target:"_blank",native:!0},ee("Terms")),(0,o.h)("a",{className:"legal",href:`${(0,q.getSubstackUrl)()}/ccpa#personal-data-collected`,target:"_blank",native:!0},ee("Information collection notice"))],me):null),(0,o.h)(w,{emailSuggestions:this.state.emailSuggestions,currentEmail:this.state.currentEmail,onAccept:this.onAcceptSuggestion}))}}ae(be,"contextType",v.wj)},89867:(z,u,e)=>{"use strict";e.d(u,{Z:()=>x});var o=e(6400),f=e(30396),l=e(46505),c=Object.defineProperty,g=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,y=(T,_,d)=>_ in T?c(T,_,{enumerable:!0,configurable:!0,writable:!0,value:d}):T[_]=d,p=(T,_)=>{for(var d in _||(_={}))v.call(_,d)&&y(T,d,_[d]);if(g)for(var d of g(_))E.call(_,d)&&y(T,d,_[d]);return T},O=(T,_)=>{var d={};for(var s in T)v.call(T,s)&&_.indexOf(s)<0&&(d[s]=T[s]);if(T!=null&&g)for(var s of g(T))_.indexOf(s)<0&&E.call(T,s)&&(d[s]=T[s]);return d};const x=T=>{const _=T,{ampProps:d}=_,s=O(_,["ampProps"]);return(0,f.qp)(l.E).isAmp?(0,o.h)("amp-img",p(p({},d),s)):(0,o.h)("img",p({},s))}},96789:(z,u,e)=>{"use strict";e.d(u,{Z:()=>s,p:()=>w});var o=e(6400),f=e(94184),l=e.n(f),c=e(71375),g=e(39419),v=e.n(g),E=e(84040),y=Object.defineProperty,p=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,x=(P,I,D)=>I in P?y(P,I,{enumerable:!0,configurable:!0,writable:!0,value:D}):P[I]=D,T=(P,I)=>{for(var D in I||(I={}))O.call(I,D)&&x(P,D,I[D]);if(p)for(var D of p(I))S.call(I,D)&&x(P,D,I[D]);return P},_=(P,I,D)=>(x(P,typeof I!="symbol"?I+"":I,D),D),d=(P,I,D)=>new Promise((N,C)=>{var A=W=>{try{U(D.next(W))}catch(G){C(G)}},L=W=>{try{U(D.throw(W))}catch(G){C(G)}},U=W=>W.done?N(W.value):Promise.resolve(W.value).then(A,L);U((D=D.apply(P,I)).next())});class s extends o.Component{constructor(I,D){super(I,D),_(this,"onDocumentKeyDown",N=>{N.key==="Escape"&&!this.props.noExit&&!(0,g.isFocused)(this.base)&&this.close()}),this.open=this.open.bind(this),this.close=this.close.bind(this),this.popup=!1,this.state={open:!1,display:!1,callback:null}}componentDidMount(){document.addEventListener("keydown",this.onDocumentKeyDown),this.props.openByDefault&&this.openImmediately()}componentWillUnmount(){document.removeEventListener("keydown",this.onDocumentKeyDown),this._timeout&&clearTimeout(this._timeout)}openImmediately(I){I&&(this._callback=I);const D=document.getElementsByTagName("html")[0];(0,g.hasClass)(D,"modal-in")||(0,g.addClass)(D,"modal-in"),this.setState({display:!0,open:!0})}open(I){return d(this,null,function*(){I&&(this._callback=I);const D=document.getElementsByTagName("html")[0];(0,g.hasClass)(D,"modal-in")||(0,g.addClass)(D,"modal-in"),this.onBeforeOpen(),this.props.onBeforeOpen&&this.props.onBeforeOpen(),yield new Promise(N=>{this.setState({display:!0},()=>{this._timeout=setTimeout(()=>{this.setState({open:!0},()=>{this.onOpen(),this.props.onOpen&&this.props.onOpen(),N()})},50)})})})}close(I){return d(this,null,function*(){this.isOpen()&&this.onBeforeClose(I)!==!1&&(this.props.onBeforeClose&&this.props.onBeforeClose(I)===!1||((0,g.removeClass)(document.getElementsByTagName("html")[0],"modal-in"),yield new Promise(D=>{this.setState({open:!1},()=>{this._timeout=setTimeout(()=>{this.setState({display:!1},()=>{this.onClose(I),this.props.onClose&&this.props.onClose(I),this._callback&&this._callback(I),D()})},750)})})))})}isOpen(){return this.state.open}onClickOuter(I){var D,N;I.stopPropagation(),(N=(D=this.props).onClick)==null||N.call(D,I),!this.props.noExit&&!this.props.noExitOnClick&&this.popup&&(this.noFullscreen||window.innerWidth>540)&&I.target&&this.container&&this.close()}onClickInner(I){var D,N;I.stopPropagation(),(N=(D=this.props).onClick)==null||N.call(D,I)}render(){const I=this.state.open?"in":"out",D=this.state.display===!1?"gone":"",N=this.props.variant==="structured",C=!this.state.open;return(0,o.h)("div",{className:l()("modal typography",I,D,this.props.className,this.getClassName(),{"has-close-pill":this.props.closePill,"structured-modal":N,popup:this.popup}),inert:C,onClick:A=>this.onClickOuter(A),"data-testid":this.props.testID,role:"dialog"},(0,o.h)("div",{className:"modal-table"},(0,o.h)("div",{className:"modal-row"},(0,o.h)("div",{ref:A=>this.content=A,className:l()("modal-cell modal-content",{"no-fullscreen":this.noFullscreen})},(0,o.h)("div",T({className:l()({container:!N}),ref:A=>this.container=A,onClick:A=>this.onClickInner(A)},this.props.trackInputsID&&{"data-track-inputs":this.props.trackInputsID}),!this.props.noExit&&(!this.props.noCloseButton||(0,g.isMobileBrowser)())&&(N?(0,o.h)("div",{className:"structured-modal__close-button"},(0,o.h)(E.hU,{"data-testid":"close-modal",variant:"secondary",look:"circle",onClick:()=>this.close()},(0,o.h)(c.Z,{size:20,color:"secondary"}))):(0,o.h)(E.hU,{"data-testid":"close-modal",className:l()("modal-btn modal-exit-btn no-margin",{"button btn btn-secondary btn-pill icon-only":this.props.closePill}),onClick:()=>this.close()},(0,o.h)(c.Z,{size:20,color:"secondary"}))),N?(0,o.h)("div",{className:"structured-modal__wrapper"},(0,o.h)("div",{className:"structured-modal__header"},this.props.modalTitle?(0,o.h)("h3",null,this.props.modalTitle):(0,o.h)("h3",null,"\xA0")),(0,o.h)("div",{className:"structured-modal__body"},(0,o.h)("div",{className:"container"},this.renderChildren(this.props,this.state))),this.props.modalFooter&&(0,o.h)("div",{className:"structured-modal__footer"},this.props.modalFooter)):this.renderChildren(this.props,this.state))))))}getClassName(){}onBeforeOpen(){}onOpen(){}onBeforeClose(){}onClose(){}renderChildren({children:I},D){return I}}class w extends s{constructor(I,D){super(I,D),this.popup=!0}}},50615:(z,u,e)=>{"use strict";e.d(u,{l:()=>C,y:()=>N});var o=e(6400),f=e(30396),l=e(50308),c=e.n(l),g=e(80569),v=e.n(g),E=e(39776),y=e(15045),p=e(83322),O=e(3258),S=e(39419),x=e.n(S),T=e(19826),_=e(46595),d=e(22702),s=e(65726),w=Object.defineProperty,P=(A,L,U)=>L in A?w(A,L,{enumerable:!0,configurable:!0,writable:!0,value:U}):A[L]=U,I=(A,L,U)=>(P(A,typeof L!="symbol"?L+"":L,U),U),D=(A,L,U)=>new Promise((W,G)=>{var $=R=>{try{J(U.next(R))}catch(j){G(j)}},q=R=>{try{J(U.throw(R))}catch(j){G(j)}},J=R=>R.done?W(R.value):Promise.resolve(R.value).then($,q);J((U=U.apply(A,L)).next())});class N extends o.Component{constructor(){super(...arguments),I(this,"toggleTopExclusion",L=>(0,S.stateTransaction)(this,(U,W)=>D(this,[U,W],function*(G,{post:$,onChange:q}){if(G.topExcluding)return;this.setState({topExcluding:L.id});const J=$.top_exclusions.includes(L.id),R=`/api/v1/publication/${L.id}/exclusion/${$.id}`;try{J?(yield v().del(R),$.top_exclusions.splice(0)):(yield v().post(R),$.top_exclusions.splice(0),$.top_exclusions.push(L.id)),["/","/beta","/publish"].includes(window.location.pathname)&&window.location.reload()}catch(j){console.error("Failed to exclude post:",j),alert((0,S.getNetworkErrorMessage)(j));return}finally{this.setState({topExcluding:null})}q&&(yield q({post:$}))}))),I(this,"toggleSectionPin",(L,U)=>(0,S.stateTransaction)(this,(W,G)=>D(this,[W,G],function*($,{post:q,onChange:J}){if($.pinning)return;this.setState({sectionPinning:U});const R=`/api/v1/publication/${L.id}/section/${U}/pin/${q.id}`;try{q.is_section_pinned?(yield v().del(R),q.is_section_pinned=!1):(yield v().post(R),q.is_section_pinned=!0),(["/","/beta","/publish"].includes(window.location.pathname)||window.location.pathname.startsWith("/s/"))&&window.location.reload()}catch(j){console.error("Failed to pin post:",j),alert((0,S.getNetworkErrorMessage)(j));return}finally{this.setState({sectionPinning:null})}J&&(yield J({post:q}))}))),I(this,"togglePin",L=>(0,S.stateTransaction)(this,(U,W)=>D(this,[U,W],function*(G,{post:$,onChange:q}){if(G.pinning)return;this.setState({pinning:L.id});const J=$.pins.includes(L.id),R=`/api/v1/publication/${L.id}/pin/${$.id}`;try{J?(yield v().del(R),$.pins.splice($.pins.indexOf(L.id),1)):(yield v().post(R),L.multiple_pins||$.pins.splice(0),$.pins.push(L.id)),["/","/beta","/publish"].includes(window.location.pathname)&&window.location.reload()}catch(j){console.error("Failed to pin post:",j),alert((0,S.getNetworkErrorMessage)(j));return}finally{this.setState({pinning:null})}q&&(yield q({post:$}))}))),I(this,"sendEmail",()=>D(this,null,function*(){const{post:L}=this.props,U={everyone:"everyone",only_free:"free subscribers",only_paid:"paid subscribers",founding:"founding members"}[L.audience];if(!confirm(`Send this published post as an email to ${U}?`))return;const W=`/api/v1/drafts/${L.id}/publish`;try{yield v().post(W).send({send:!0,only_send:!0}),location.reload()}catch(G){console.error("Failed to send post:",G),alert((0,S.getNetworkErrorMessage)(G))}})),I(this,"clearCache",()=>D(this,null,function*(){const{post:L}=this.props;try{yield v().put(`/api/v1/posts/${L.id}/clear_cache`),location.reload()}catch(U){console.error("Failed to clear post from cache"),alert((0,S.getNetworkErrorMessage)(U))}})),I(this,"duplicatePost",()=>D(this,null,function*(){this.setState({duplicating:!0});const{pub:L,post:U}=this.props;try{const W=yield v().post(`/api/v1/posts/${U.id}/duplicate`);(0,S.redirect)((0,y.getEditPostUrlById)(L,W.body.id,W.body.editor_v2),{local_navigation:!1})}catch(W){this.setState({duplicating:!1}),console.error("Failed to duplicate"),alert((0,S.getNetworkErrorMessage)(W))}}))}isOpen(){return this.editMenu.isOpen()}toggle(){this.editMenu.toggle()}open(){this.editMenu.open()}close(){this.editMenu.close()}render({pub:L,post:U,hidePinning:W,user:G,emailSent:$,allowSendEmail:q,className:J,useDrawerOnMobile:R,handleCrossPost:j},{pinning:ie,sectionPinning:le,topExcluding:ye,duplicating:ue}){let oe=null;U.section_id&&L.sections&&L.sections.length&&(oe=L.sections.find(Z=>Z.id===U.section_id));const te=!!(0,E.default)("enable_post_summarization");return(0,o.h)(T.ZP,{attachOnActive:!0,ref:Z=>this.editMenu=Z,className:J,useDrawerOnMobile:R},(0,o.h)(s.Z,{href:(0,y.getPostUrl)(L,U,{edit:!0}),onClick:c()},"Edit post"),!W&&U.slug&&[(0,p.isPinnable)(L)&&U.section_id&&(U.section_name||oe.name)&&(0,o.h)(s.Z,{onClick:()=>this.toggleSectionPin(L,U.section_id)},[U.is_section_pinned^le===U.section_id?"Unpin from":"Pin on",` ${U.section_name||oe.name}`]),(0,p.isPinnable)(L)&&(0,o.h)(s.Z,{onClick:()=>this.togglePin(L)},[U.pins.includes(L.id)^ie===L.id?"Unpin from":"Pin on",L.parent_publication_id||oe?` ${L.name}`:" homepage"]),L.parent_publication&&(0,p.isPinnable)(L.parent_publication)&&(0,o.h)(s.Z,{onClick:()=>this.togglePin(L.parent_publication)},[U.pins.includes(L.parent_publication.id)^ie===L.parent_publication.id?"Unpin from":"Pin on",` ${L.parent_publication.name}`])],U.slug&&U.type!=="adhoc_email"&&[(0,o.h)(s.Z,{onClick:()=>this.toggleTopExclusion(L)},[U.top_exclusions.includes(L.id)^ye===L.id?"Include in":"Exclude from"," Top",L.parent_publication_id&&` for ${L.name}`]),L.parent_publication&&(0,o.h)(s.Z,{onClick:()=>this.toggleTopExclusion(L.parent_publication)},[U.top_exclusions.includes(L.parent_publication.id)^ye===L.parent_publication.id?"Include in":"Exclude from"," Top",` for ${L.parent_publication.name}`])],(0,o.h)(s.Z,{disabled:ue,onClick:()=>this.duplicatePost()},ue?"Duplicating":"Duplicate"," to drafts"),!$&&q&&U.is_published&&(0,o.h)(s.Z,{onClick:()=>this.sendEmail()},"Send as email"),(G==null?void 0:G.is_global_admin)&&(0,o.h)(s.Z,{onClick:()=>this.clearCache()},"Clear post from cache"),(0,o.h)(s.Z,{onClick:()=>{window.open(`${(0,y.getPostUrl)(L,U)}/media-assets`)}},"View shareable images"),!!(te&&this.props.onSummaryOpen)&&(0,o.h)(s.Z,{onClick:this.props.onSummaryOpen},"Reader guide"),j&&(0,o.h)(s.Z,{onClick:j},"Cross post"))}}I(N,"state",{duplicating:!1});function C({pub:A,post:L,iconHeight:U,hidePinning:W,user:G,emailSent:$,allowSendEmail:q,showUpdatedIcons:J,dropdownClassName:R,iconClassName:j}){const ie=(0,f.sO)();return(0,o.h)(o.Fragment,null,(0,o.h)(s.Z,{onClick:()=>{ie.current.isOpen()||(0,O.j)(O.FP.EDIT_POST_DROPDOWN_MENU_OPENED),ie.current.toggle()}},J?(0,o.h)(d.Z,{stroke:"#262626",height:U,className:j}):(0,o.h)(_.Z,{stroke:"#757575",height:U,className:j})),(0,o.h)(N,{ref:ie,pub:A,post:L,hidePinning:W,user:G,emailSent:$,allowSendEmail:q,className:R}))}},95847:(z,u,e)=>{"use strict";e.d(u,{_0:()=>le,EB:()=>ye});var o=e(6400),f=e(30396),l=e(94184),c=e.n(l),g=e(80569),v=e.n(g),E=e(15045),y=e(96702),p=e(83322),O=e(3258),S=e(39419),x=e(35291),T=e(7922),_=e(19237),d=(oe,te,Z)=>new Promise((re,ae)=>{var se=pe=>{try{_e(Z.next(pe))}catch(me){ae(me)}},be=pe=>{try{_e(Z.throw(pe))}catch(me){ae(me)}},_e=pe=>pe.done?re(pe.value):Promise.resolve(pe.value).then(se,be);_e((Z=Z.apply(oe,te)).next())});const w=({photoUrl:oe,newPhotoUrl:te,newPhotoOrientation:Z,updatePhoto:re})=>{const ae=(0,f.sO)(null),se=()=>d(void 0,null,function*(){const be=ae.current.files[0];if(ae.current.value="",!be){re({newPhotoUrl:null,newPhotoOrientation:null});return}let _e;try{_e=yield(0,S.getDataUrlFromFile)(be)}catch(me){console.error("Failed to get data URL from file:",me),alert(me.message);return}let pe;try{pe=yield(0,S.getExifOrientationFromFile)(be)}catch(me){console.error("Failed to extract EXIF data from file:",me)}re({newPhotoUrl:_e,newPhotoOrientation:pe})});return(0,o.h)("div",{className:"profile-photo-wrap"},oe&&(0,o.h)("div",{className:"profile-photo-image",style:{backgroundImage:`url(${te||(0,E.imginary)(oe,144)})`,transform:(0,S.transformExifOrientation)(Z)}}),!oe&&(0,o.h)("div",{className:"profile-photo-image",style:{backgroundImage:`url(${(0,E.imginary)(E.DEFAULT_PHOTO_URL,144)})`,transform:(0,S.transformExifOrientation)(Z)}}),(0,o.h)(T.Z,{onClick:()=>{((0,S.isIE)()||(0,S.isFirefox)())&&ae.current.click()}},(0,o.h)("input",{ref:ae,type:"file",name:"photo",accept:"image/*",onChange:se}),(0,o.h)("div",{className:"add-photo-fab",onClick:be=>{be.preventDefault(),ae.current.click()}},(0,o.h)(_.Z,{size:20,color:"var(--color-light-primary)"}))))};var P=e(23890),I=e(96789),D=e(81671),N=Object.defineProperty,C=Object.defineProperties,A=Object.getOwnPropertyDescriptors,L=Object.getOwnPropertySymbols,U=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable,G=(oe,te,Z)=>te in oe?N(oe,te,{enumerable:!0,configurable:!0,writable:!0,value:Z}):oe[te]=Z,$=(oe,te)=>{for(var Z in te||(te={}))U.call(te,Z)&&G(oe,Z,te[Z]);if(L)for(var Z of L(te))W.call(te,Z)&&G(oe,Z,te[Z]);return oe},q=(oe,te)=>C(oe,A(te)),J=(oe,te)=>{var Z={};for(var re in oe)U.call(oe,re)&&te.indexOf(re)<0&&(Z[re]=oe[re]);if(oe!=null&&L)for(var re of L(oe))te.indexOf(re)<0&&W.call(oe,re)&&(Z[re]=oe[re]);return Z},R=(oe,te,Z)=>new Promise((re,ae)=>{var se=pe=>{try{_e(Z.next(pe))}catch(me){ae(me)}},be=pe=>{try{_e(Z.throw(pe))}catch(me){ae(me)}},_e=pe=>pe.done?re(pe.value):Promise.resolve(pe.value).then(se,be);_e((Z=Z.apply(oe,te)).next())});const j=({sub:oe,onSetVisibility:te,source:Z})=>{const re=oe.publication;return h("div",{className:"edit-sub-visibility-row"},h("div",{className:"left"},h(PubIcon,{pub:re,logo_url:re.logo_url||re.author_photo_url}),h("span",null,re.name)),h("div",{className:"right"},h(BigCheckbox,{checked:oe.visibility==="public",onChange:()=>te(oe.visibility==="public"?"private":"public")})))},ie=({profile:oe,onFinalizeVisibility:te,onSetVisibility:Z,source:re})=>{if(!oe)return;const ae=oe.subscriptions.every(({visibility:pe})=>pe==="public"),se=()=>{Z(oe.subscriptions.reduce((pe,{publication:me})=>q($({},pe),{[me.id]:ae?"private":"public"}),{})),track(EVENTS.PROFILE_EDITED,{type:"visibility_toggled_all",for:"reads",count:oe.subscriptions.length})},be=pe=>me=>{Z(oe.subscriptions.reduce((Te,{visibility:ve,publication:ce})=>q($({},Te),{[ce.id]:ce.id===pe.id?me:ve}),{})),track(EVENTS.PROFILE_EDITED,{type:"read_visibility_toggled",visibility:me})},_e=h("button",{className:"small",onClick:se},ae?"Hide all":"Show all");return h("div",{className:"edit-sub-visibility-form"},h("div",{className:"bulk-action-row"},_e),h("div",{className:"edit-sub-visibility-frame"},oe.subscriptions.map(pe=>h(j,{sub:pe,onSetVisibility:be(pe.publication),source:re}))),h("div",{className:"modal-ctas"},h(Button,{className:"primary",onClick:te},"Done")))};class le extends o.Component{constructor(te,Z){var re;super(te,Z),this.formRef=(0,o.createRef)(),this.state={newName:null,newHandle:null,newBio:null,newEmail:te.user&&te.user.is_magic?te.user.email:null},te.isPostInvite&&!((re=te.user)!=null&&re.has_publication)&&(this.state.createPublication=!0)}componentDidMount(){var te,Z,re;this.props.autoSubmit&&(this.isComplete()?(te=this.formRef.current)==null||te.handleSubmit():(re=(Z=this.props).onAutoSubmitFailed)==null||re.call(Z))}isComplete(){const{user:te,needsPhoto:Z}=this.props;return te&&!te.is_magic&&te.name&&(!Z||te.photo_url)}onFileInputChanged(){return R(this,null,function*(){const te=this.fileInput.files[0];if(this.fileInput.value="",!te){this.setState({newPhotoUrl:null,newPhotoOrientation:null});return}let Z;try{Z=yield(0,S.getDataUrlFromFile)(te)}catch(ae){console.error("Failed to get data URL from file:",ae),alert(ae.message);return}let re;try{re=yield(0,S.getExifOrientationFromFile)(te)}catch(ae){console.error("Failed to extract EXIF data from file:",ae)}this.setState({newPhotoUrl:Z,newPhotoOrientation:re})})}onError(te){var Z,re;this.props.autoSubmit&&!this.state.autoSubmitFailed&&(this.setState({autoSubmitFailed:!0}),(re=(Z=this.props).onAutoSubmitFailed)==null||re.call(Z)),this.setState({sentLoginEmail:!1}),te.status===401&&this.sendLoginEmail()}createDefaultPublication(te,Z){return R(this,null,function*(){try{const re=yield v().get("/api/v1/publication/suggestion"),ae=Z||`${te} on Substack`;yield v().post("/api/v1/publication").send({name:te,subdomain:re.body.subdomain,hero_text:ae,tos:!0})}catch(re){(0,O.j)(O.FP.DEFAULT_PUBLICATION_CREATION_FAILED),console.log("couldn't set up a default publication",re)}})}sendLoginEmail(){return R(this,null,function*(){const te=this.state.newEmail||this.props.freeSignupEmail;if(!(this.state.loading||!te)){this.setState({loading:!0});try{yield v().post("/api/v1/email-login").send({email:te,redirect:document.location.href}),this.setState({sentLoginEmail:!0})}catch(Z){console.error("Failed send login email:",Z)}this.setState({loading:!1})}})}render({className:te,user:Z,numVisibleSubscriptions:re,numSubscriptions:ae,freeSignup:se,freeSignupEmail:be,initialPhotoUrl:_e,needsPhoto:pe,optionalPhoto:me,token:Te,text:ve,onSuccess:ce,prepareData:Le,pageTitle:Ne,primaryEligiblePublications:He,isPostInvite:ze,complete:Xe,profileExists:_t,onSkip:we,onEditReadVisibility:We,barebones:Ie,onEditRecommendations:tt,numRecommendationsToMake:et,noSubscribeCta:ht,style:vt},{newPhotoUrl:Lt,newPhotoOrientation:$t,newName:yt,newHandle:he,newEmail:je,loading:st,sentLoginEmail:De,sentAccountConfirmationEmail:Be,newBio:Ke,createPublication:it}){const Qe=Lt||_e||(0,y.getUserPhotoUrlWithoutDefault)(Z,{noFallbackToSignedOut:!0}),Ae=typeof Ne=="string"?Ne:`${this.isComplete()?"Update":"Create"} your profile`,H=yt||Z&&Z.name||"",ee=he||(Z==null?void 0:Z.handle)||"",de=typeof Ke=="string"?Ke:Z&&Z.bio||"",Ee=(Me,$e)=>R(this,null,function*(){if(Me.body.emailConfirmationRequired){this.setState({sentAccountConfirmationEmail:!0});return}it&&(yield this.createDefaultPublication(H,de)),ce(Me,$e)});return(0,o.h)("div",{className:c()("profile-updater",te),style:vt},(0,o.h)("h2",{className:"page-title profile-updater-title"},Ae),(Qe||pe||me)&&(0,o.h)(w,{photoUrl:Qe,newPhotoUrl:Lt,newPhotoOrientation:$t,updatePhoto:({newPhotoOrientation:Me,newPhotoUrl:$e})=>this.setState({newPhotoOrientation:Me,newPhotoUrl:$e}),onFileInputChanged:()=>this.onFileInputChanged()}),(0,o.h)(P.ZP,{ref:this.formRef,method:"put",action:"/api/v1/user/profile",prepareData:Le,onSuccess:Ee,onError:Me=>this.onError(Me),noInlineErrors:!0,loading:st,autoLock:!0},(0,o.h)("label",{htmlFor:"name"},"Name (Required)"),(0,o.h)("input",{autoFocus:!0,type:"text",className:"profile-name",placeholder:"Type your name\u2026",name:"name",id:"name",value:H,onInput:Me=>this.setState({newName:Me.target.value})}),(0,o.h)("label",{htmlFor:"handle"},"Handle"),(0,o.h)("input",{type:"text",className:"profile-name",placeholder:"Type your handle\u2026",name:"handle",id:"handle",value:ee,onInput:Me=>this.setState({newHandle:Me.target.value})}),!Ie&&(0,o.h)("label",{htmlFor:"bio"},"Bio"),!Ie&&(0,o.h)("textarea",{className:"profile-bio",placeholder:"Say something about yourself\u2026",name:"bio",id:"bio",value:de,onInput:Me=>this.setState({newBio:Me.target.value})}),ze&&(0,o.h)("input",{type:"hidden",name:"needs_bio",value:"true"}),ze&&(0,o.h)("div",{className:"bio-guest-tip"},"Tip: this will be shown at the bottom of your guest post"),ze&&He&&(Z==null?void 0:Z.has_publication)&&He.length>1&&(0,o.h)(o.Fragment,null,(0,o.h)("label",null,"Publication to display"),(0,o.h)("div",{className:"primary-publication-selector"},He.map((Me,$e)=>(0,o.h)("label",{className:"publication-selector-row",for:`primary-radio-${Me.id}`},(0,o.h)("input",{id:`primary-radio-${Me.id}`,type:"radio",name:"primary_publication_user_id",value:Me.id,checked:$e===0}),(0,o.h)(D.Z,{pub:Me.publication,logo_url:(0,E.imginary)(Me.publication.logo_url,56,{height:56,crop:"fill"}),linkify:!1,size:28,title:Me.publication.name}),(0,o.h)("div",{className:"primary-publication-name"},Me.publication.name))))),(!Z||Z.is_magic)&&!be&&!ze&&(0,o.h)("input",{type:"email",className:"profile-email",placeholder:"Your email\u2026",name:"email",value:je,onInput:Me=>this.setState({newEmail:Me.target.value})}),!ht&&!(Z&&(Z.is_subscribed||Z.is_free_subscribed)||se)&&(0,o.h)("label",{className:"profile-signup-checkbox"},(0,o.h)("input",{type:"checkbox",name:"free_signup",defaultChecked:!0})," Subscribe to the newsletter"),ze&&!(Z!=null&&Z.has_publication)&&(0,o.h)("label",{className:"profile-signup-checkbox"},(0,o.h)("input",{type:"checkbox",name:"create_publication",id:"create-publication-checkbox",checked:it,onChange:Me=>this.setState({createPublication:Me.target.checked})}),"Create a Substack publication for me"),(0,o.h)("input",{type:"hidden",name:"confirmation_redirect_pathname",value:document.location.pathname}),(0,o.h)("input",{type:"hidden",name:"photo_url",value:Qe}),(0,o.h)("input",{type:"hidden",name:"user_id",value:(Z==null?void 0:Z.id)||""}),(0,o.h)("input",{type:"hidden",name:"needs_photo",value:!!pe}),(0,o.h)("input",{type:"hidden",name:"token",value:Te}),Xe&&(0,o.h)("input",{type:"hidden",name:"complete",value:!0}),(0,o.h)("div",{id:"error-container"},De&&(0,o.h)("div",{className:"error other-error"},"If you have an account with us, we've sent an email to ",(0,o.h)("b",null,je)," with a link that you can use to sign in."),Be&&(0,o.h)("div",{className:"error other-error"},"We have sent you a confirmation email. Please check your inbox before continuing.")),(0,o.h)("p",{className:c()("left",{hidden:!(typeof re=="number"&&ae>0&&We)})},(0,p.pluralize)(re||0,"subscription")," ",_t?"are":"will be"," displayed on your profile (",(0,o.h)("a",{onClick:We},"edit"),")"),!_t&&tt&&et>0&&(0,o.h)("p",{className:"left second"},(0,p.pluralize)(et||0,"recommendation")," will be made on your publication (",(0,o.h)("a",{onClick:tt},"edit"),")"),(0,o.h)("div",{className:"modal-ctas"},(0,o.h)("p",{className:c()("skip",{hidden:!we})},(0,o.h)("a",{className:"small",onClick:we||(()=>{})},"Skip for now")),(0,o.h)(T.Z,{className:"primary",type:"submit"},ve||"Save"),ze&&(0,o.h)(o.Fragment,null,(0,o.h)("input",{type:"hidden",name:"accept_tos",value:"true"}),(0,o.h)("div",{className:"agreement-note"},"By signing up you agree to Substack\u2019s"," ",(0,o.h)("a",{href:`${(0,E.getSubstackUrl)()}/pa`,target:"_blank",rel:"noopener"},"publisher agreement"))))))}}class ye extends I.p{renderChildren(){const te=this.props,{ref:Z,onBeforeClose:re,contributor:ae}=te,se=J(te,["ref","onBeforeClose","contributor"]);return(0,o.h)("div",{className:"profile-updater-modal"},ae?(0,o.h)(ue,q($({},se),{onSuccess:()=>this.close(!0)})):(0,o.h)(le,q($({},se),{onSuccess:()=>this.close(!0)})))}}const ue=({profile:oe,user:te,pub:Z,onSuccess:re,isOwnProfile:ae})=>{const se=(0,f.sO)(),[be,_e]=(0,f.eJ)(null),[pe,me]=(0,f.eJ)(null),Te=be||oe&&oe.photo_url,[ve,ce]=(0,f.eJ)(oe.name),[Le,Ne]=(0,f.eJ)(oe.bio),He=()=>R(void 0,null,function*(){var ze;const Xe=(ze=se.current)!=null&&ze.files?se.current.files[0]:null;if(se.value="",!Xe){_e(null),me(null);return}let _t;try{_t=yield(0,S.getDataUrlFromFile)(Xe)}catch(We){console.error("Failed to get data URL from file:",We),alert(We.message);return}let we;try{we=yield(0,S.getExifOrientationFromFile)(Xe)}catch(We){console.error("Failed to extract EXIF data from file:",We)}_e(_t),me(we)});return(0,o.h)("div",{className:"profile-updater"},(0,o.h)("h2",{className:"page-title profile-updater-title"},"Edit contributor profile"),(0,o.h)("div",{className:"profile-photo-wrap"},Te&&(0,o.h)("div",{className:"profile-photo-image",style:{backgroundImage:`url(${be||(0,E.imginary)(oe.photo_url,144)})`,transform:(0,S.transformExifOrientation)(pe)}}),(0,o.h)(T.Z,{onClick:()=>{((0,S.isIE)()||(0,S.isFirefox)())&&se.click()}},!Te&&"Set photo",(0,o.h)("input",{ref:se,type:"file",name:"photo",accept:"image/*",onChange:()=>He()}))),(0,o.h)(P.ZP,{method:"patch",action:`/api/v1/publication/users/${oe.id}`,onSuccess:re,autoLock:!0},(0,o.h)("input",{type:"text",className:"profile-name",placeholder:"Contributor's name\u2026",name:"name",value:ve,onInput:ze=>ce(ze.target.value)}),(0,o.h)("textarea",{className:"profile-bio",placeholder:"Contributor's bio\u2026",name:"bio",value:Le,onInput:ze=>Ne(ze.target.value)}),(0,o.h)("input",{type:"hidden",name:"photo_url",value:Te}),(0,o.h)("span",{className:"notice"},(0,o.h)("p",null,(0,o.h)("b",null,"Note:")," This is a contributor profile, viewable by ",Z.name,"'s readers."),ae&&(0,o.h)("p",null,"You may also edit your"," ",(0,o.h)("a",{native:!0,href:`${(0,E.getReaderProfileUrl)(te)}`},"personal profile"),".")),(0,o.h)(T.Z,{className:"primary",type:"submit"},"Update profile")))}},31533:(z,u,e)=>{"use strict";e.d(u,{E6:()=>J,dJ:()=>ue,fS:()=>R,oq:()=>oe,xl:()=>le});var o=e(6400),f=e(94184),l=e.n(f),c=e(12297),g=e.n(c),v=e(80569),E=e.n(v),y=e(82626),p=e(15045),O=e(83322),S=e(28488),x=e(1824),T=e(3258),_=e(39419),d=e.n(_),s=e(51126),w=e(43887),P=e(41406),I=e(12650),D=e(96789),N=Object.defineProperty,C=Object.getOwnPropertySymbols,A=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable,U=(te,Z,re)=>Z in te?N(te,Z,{enumerable:!0,configurable:!0,writable:!0,value:re}):te[Z]=re,W=(te,Z)=>{for(var re in Z||(Z={}))A.call(Z,re)&&U(te,re,Z[re]);if(C)for(var re of C(Z))L.call(Z,re)&&U(te,re,Z[re]);return te},G=(te,Z,re)=>(U(te,typeof Z!="symbol"?Z+"":Z,re),re),$=(te,Z,re)=>new Promise((ae,se)=>{var be=me=>{try{pe(re.next(me))}catch(Te){se(Te)}},_e=me=>{try{pe(re.throw(me))}catch(Te){se(Te)}},pe=me=>me.done?ae(me.value):Promise.resolve(me.value).then(be,_e);pe((re=re.apply(te,Z)).next())});const q="\u2764",J=(te,Z,re)=>{const{reaction:ae,reactions:se,reactor_names:be}=j(te,Z,re);ie(Z,ae,se,be)},R=(te,Z)=>j(te,Z,!Z.reaction),j=(te,Z,re)=>{let{reaction:ae,reactions:se={},reactor_names:be=[]}=Z;return se=W({},se),be=[...be],re&&!ae?(ae=q,se[ae]=se[ae]?se[ae]+1:1,te&&te.is_public_admin&&be.push(te.name||"author")):!re&&ae&&(se[q]=se[q]?se[q]-1:0,te&&te.is_public_admin&&(be=be.filter(_e=>_e!==(te.name||"author"))),ae=null),{reaction:ae,reactions:se,reactor_names:be}},ie=(te,Z,re,ae)=>{te.reaction=Z,te.reactions=re,te.reactor_names=ae};function le(te,Z,re,ae){const se=(0,p.pathWithQuery)(`/api/v1/${Z?"comment":"post"}/${te.id}/reaction`,{token:ae});return re?E().post(se).send({reaction:q}):E().delete(se)}class ye extends o.Component{constructor(){super(...arguments),G(this,"state",{includeModal:!1}),G(this,"modalRef",(0,o.createRef)(null)),G(this,"react",Z=>$(this,null,function*(){if(this.props.isStatic)return;Z&&Z.stopPropagation();const ae=!(this.props.comment||this.props.post).reaction;if(this.props.onReactedChange&&this.props.onReactedChange(ae),this.props.noSelfUpdate)return;const se=yield(0,_.stateLock)(this,"locked",(be,_e)=>$(this,null,function*(){const pe=_e.comment||_e.post,me=le(pe,!!_e.comment,ae,_e.token),{reaction:Te,reactions:ve,reactor_names:ce}=R(_e.user,pe);this.notifyParent({reactions:ve,reaction:Te,reactor_names:ce});let Le;try{yield me}catch(Ne){Le=Ne,this.notifyParent(pe)}return{error:Le,reaction:Te}}));return se&&se.error&&(se.error.response&&se.error.response.statusCode===401?yield this.reactionRejected(se.reaction):alert((0,_.getNetworkErrorMessage)(se.error))),!!se&&!se.error}))}notifyParent({reaction:Z,reactions:re,reactor_names:ae}){const se=W({},this.props.post),be=this.props.comment&&W({},this.props.comment);ie(be||se,Z,re,ae),this.props.onChange&&this.props.onChange({post:se,comment:be})}reactionRejected(Z){return $(this,null,function*(){(0,T.j)(T.FP.REACTION_REJECTED,{comment_id:this.props.comment&&this.props.comment.id,post_id:this.props.post&&this.props.post.id,reason:"Not logged in",unreact:!Z}),yield new Promise(re=>{this.state.includeModal?this.modalRef.current.open(re):this.setState({includeModal:!0},()=>this.modalRef.current.open(re))})})}render({className:Z,user:re,pub:ae,comment:se,height:be,isStatic:_e,post:pe,buttonStyle:me,hideReactionCount:Te,countInParenthesesStyle:ve,iString:ce}){const Le=se||pe,Ne=Le.reaction,He=Le.reactions||{},ze=g()(Object.values(He));let Xe;return pe&&pe.reaction_url_override?Xe=pe.reaction_url_override:_e?Xe=y.Substitutions.REACTION_URL:Xe="javascript:void(0)",(0,o.h)(w.xv,{as:"span",decoration:"hover-underline",color:Ne?"accent-red":"pub-secondary-text",className:Z},this.props.render?this.props.render({liked:Ne,numReactions:ze>0?(0,O.numberToString)(ze):null,onClick:_t=>{this.react(_t)}}):(0,o.h)("a",{href:Xe,className:l()("like-button",{button:me,"post-meta-button":me,liked:Ne}),onClick:_t=>this.react(_t)},(0,o.h)(s.hs,{gap:6,alignItems:"center",className:Z},_e?(0,o.h)(I.Z,{ampProps:{layout:"fixed"},isStatic:!0,height:be,stroke:"var(--color-secondary-themed)",fill:"transparent"}):(0,o.h)(s.hs,{className:"reaction-container"},(0,o.h)(I.Z,{className:"animation"}),!Ne&&(0,o.h)(I.Z,{strokeWidth:2,height:be,fill:"transparent",stroke:"var(--color-secondary-themed)"}),Ne&&(0,o.h)(I.Z,{height:be,strokeWidth:2})),ve?(0,o.h)(w.xv.Meta,{color:Ne?"accent-red":"pub-secondary-text",className:"like-count"},ce(Ne?"Liked":"Like"),!Te&&ze>0?` (${(0,O.numberToString)(ze)})`:""):!Te&&ze>0?(0,o.h)("span",{className:"like-count"},(0,O.numberToString)(ze)):me?(0,o.h)("span",{className:"like-count"},ce("Like")):null)),!_e&&this.state.includeModal&&(0,o.h)(oe,{modalRef:this.modalRef,user:re,pub:ae,comment:se,react:this.react}))}}const ue=(0,S.fz)(ye);function oe({comment:te,pub:Z,user:re,modalRef:ae,onClose:se,react:be}){const{iString:_e}=(0,S.M1)();return(0,o.h)(D.Z,{ref:ae,onClose:se},(0,o.h)(s.tu,{alignItems:"center",paddingTop:80,gap:24},(0,o.h)(w.xv.H2,null,_e(te?"Subscribe to like this comment":"Subscribe to like this post")),(0,o.h)(P.Z,{user:re,pub:Z,showLogin:!0,showTerms:!0,source:"like_button",onSuccess:pe=>$(this,null,function*(){const me=pe&&pe.body&&pe.body.email;pe&&pe.body&&pe.body.prompt_to_login||!(yield be())?window.location.href=(0,p.getSigninUrl)({for_pub:Z.subdomain,email:me}):ae!=null&&ae.current&&((0,x.a)({freeSignup:!0,freeSignupEmail:me}),yield ae.current.close())})})))}},49715:(z,u,e)=>{"use strict";e.d(u,{J:()=>le});var o=e(6400),f=e(30396),l=e(80569),c=e.n(l),g=e(82626),v=e(85928),E=e.n(v),y=e(6385),p=e(15045),O=e(83322),S=e(13045),x=e(63270),T=e(3258),_=e(39419),d=e(84040),s=e(51126),w=e(62246),P=e(43887),I=e(75425),D=e(96427),N=e(81671),C=e(61152);const A={textarea:"frontend-components-restack_modal-module__textarea--E7kGG",postPreview:"frontend-components-restack_modal-module__postPreview--hIlHg",pubIcon:"frontend-components-restack_modal-module__pubIcon--upVU0",modalWrap:"frontend-components-restack_modal-module__modalWrap--N4zkH",select:"frontend-components-restack_modal-module__select--Z1qub"};var L=Object.defineProperty,U=Object.getOwnPropertySymbols,W=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable,$=(ye,ue,oe)=>ue in ye?L(ye,ue,{enumerable:!0,configurable:!0,writable:!0,value:oe}):ye[ue]=oe,q=(ye,ue)=>{for(var oe in ue||(ue={}))W.call(ue,oe)&&$(ye,oe,ue[oe]);if(U)for(var oe of U(ue))G.call(ue,oe)&&$(ye,oe,ue[oe]);return ye},J=(ye,ue,oe)=>new Promise((te,Z)=>{var re=be=>{try{se(oe.next(be))}catch(_e){Z(_e)}},ae=be=>{try{se(oe.throw(be))}catch(_e){Z(_e)}},se=be=>be.done?te(be.value):Promise.resolve(be.value).then(re,ae);se((oe=oe.apply(ye,ue)).next())});const R={AUDIENCE_SELECTION:"AUDIENCE_SELECTION",PREAMBLE:"PREAMBLE"},j={everyone:"Everyone",only_paid:"Paid subscribers",founding:"Founding members"},ie={everyone:"Send via email to all subscribers",only_paid:"Send via email to all paid subscribers",founding:"Send via email to all founding members"},le=({pub:ye,post:ue,user:oe,open:te,setOpen:Z,placeholderText:re=""})=>{const ae=E()().add(2,"minutes"),[se,be]=(0,f.eJ)(null),[_e,pe]=(0,f.eJ)(re),[me,Te]=(0,f.eJ)(!1),[ve,ce]=(0,f.eJ)(!0),[Le,Ne]=(0,f.eJ)(R.PREAMBLE),[He,ze]=(0,f.eJ)(null),[Xe,_t]=(0,f.eJ)(null),[we,We]=(0,f.eJ)(!0),[Ie,tt]=(0,f.eJ)(!0),[et,ht]=(0,f.eJ)(!1),[vt,Lt]=(0,f.eJ)(E()().add(1,"day").toDate()),[$t,yt]=(0,f.eJ)(""),{getConfigFor:he}=(0,x.xR)(),je={everyone:"to everyone",founding:"to founding members",only_paid:"to paid subscribers"}[Xe],st=we?"Send":"Publish",De=et&&vt?E()(vt).max(ae).fromNow():"",Ke=`${st} cross-post ${we?je:""} ${De}`,it=se==null?void 0:se.find(ee=>ee.id===He),Qe=(0,I.pm)();(0,f.d4)(()=>{te&&!se&&ve&&(()=>J(void 0,null,function*(){var de;try{const Ee=yield c().get("/api/v1/restack/restackable-pubs"),Me=((de=Ee==null?void 0:Ee.body)==null?void 0:de.publications)||[];be(Me),ce(!1),Me.length>0&&(ze(Me[0].id),_t("everyone"))}catch(Ee){console.error("Failed to load user profile for restacking: ",Ee)}}))()},[te,oe,ve,ce,se,be]),(0,f.d4)(()=>{te&&se&&se.length===0&&!ve&&(0,_.redirect)((0,p.getStartPublishingUrl)())},[te,se,ve]);const Ae=(ee,de)=>{Z(!te,de),Ne(R.PREAMBLE),yt(null),ce(!1),de&&(pe(""),(0,T.j)(T.FP.RESTACK_POST_SUBMITTED,{restacked_publication_id:ye.id,restacked_post_id:ue.id,restacking_user_id:oe.id,restacking_publication_id:it.id,restacking_blurb:_e}),Qe.popToast(Ee=>(0,o.h)(I.FN,q({text:et?`This post is scheduled to cross-post ${De}`:"This post was cross-posted to your subscribers"},Ee)))),(0,T.j)(T.FP.CROSS_POST_MODAL_CLOSED,{didRestack:de})},H=()=>J(void 0,null,function*(){(0,T.j)(T.FP.CROSS_POST_MODAL_SUBMIT_CLICKED),ce(!0);try{if(et){const ee=E()(vt).max(ae).toDate();yield c().post(`/api/v1/restack/${ue.id}/schedule`).send({audience:Xe,restackingPubId:it.id,introText:_e,sendEmail:we,publishToWeb:Ie,scheduledAt:ee})}else yield c().post(`/api/v1/restack/${ue.id}`).send({audience:Xe,restackingPubId:it.id,introText:_e,sendEmail:we,publishToWeb:Ie});(0,T.j)(T.FP.CROSS_POST_MODAL_SUBMITTED),Ae({},!0);return}catch(ee){if((0,T.j)(T.FP.CROSS_POST_MODAL_SUBMIT_FAILED),ee instanceof TypeError)throw yt("An unknown error ocurred. This post was not recommended."),ce(!1),ee;yt((0,_.getNetworkErrorMessage)(ee,"This post could not be recommended.")),ce(!1)}});return(0,o.h)(w.u_,{isOpen:te,onClose:Ae},(0,o.h)(w.xB,{includeClose:!0,onClose:Ae,title:"Cross-post to your Substack"}),(0,o.h)("div",{"data-testid":"modal-ref-id",className:A.modalWrap},Le===R.PREAMBLE?(0,o.h)(s.tu,{gap:24,paddingTop:12},(0,o.h)(s.tu,{gap:16},(0,o.h)("textarea",q({className:A.textarea,placeholder:"Say why this post is worth reading...",onChange:ee=>{me||(Te(!0),(0,T.j)(T.FP.CROSS_POST_MODAL_TYPING_STARTED)),pe(ee.target.value)},value:_e,maxLength:"800"},C.J)),(0,o.h)(s.tu,{gap:12,className:A.postPreview,paddingX:16,paddingY:16},(0,o.h)(s.gq,{alignItems:"center",gap:8},(0,o.h)(N.Z,{pub:ye,size:24,logo_url:ye.logo_url,linkify:!1,className:A.pubIcon,noMargin:!0}),(0,o.h)(P.xv.B4,{color:"primary",weight:"semibold",size:14},ye.name)),(0,o.h)(s.tu,{gap:4},(0,o.h)(P.xv.H4,{weight:"semibold"},ue.title),(0,o.h)(P.xv.B3,{color:"secondary"},(0,O.formatEllipsis)(((ue.truncated_body_text||"").replace(g.Substitutions.PUBLICATION_NAME,ye.name)||ue.subtitle||"").substring(0,100)))))),$t&&(0,o.h)(P.xv.B4,{color:"accent-red"},$t),(0,o.h)(d.zx,{priority:"primary-theme",onClick:()=>{if((0,T.j)(T.FP.CROSS_POST_MODAL_CONTINUE_CLICKED),!_e){yt("Please write something to your subscribers to continue"),(0,T.j)(T.FP.CROSS_POST_MODAL_CONTINUE_FAILED);return}yt(""),Ne(R.AUDIENCE_SELECTION),(0,T.j)(T.FP.CROSS_POST_MODAL_CONTINUED)},disabled:ve||!_e,className:"restack-modal-button "},"Continue")):(0,o.h)(s.tu,{gap:24,paddingTop:12},(0,o.h)(s.tu,{gap:20},(0,o.h)(s.tu,{gap:8},(0,o.h)(P.xv.B3,null,"Post to"),(0,o.h)(D.P,{value:it.id,onChange:ee=>{_t("everyone"),ze(Number(ee))},className:A.select},se.map(ee=>(0,o.h)("option",{value:ee.id},ee.name)))),(0,o.h)(s.tu,{gap:8},(0,o.h)(P.xv.B3,null,"Send to"),(0,o.h)(D.P,{value:Xe,onChange:ee=>_t(ee),className:A.select},((it==null?void 0:it.payments_state)==="enabled"?(0,y.getAudiencesForPublicListing)():["everyone"]).map(ee=>(0,o.h)("option",{value:ee},j[ee]))))),(0,o.h)(s.tu,{gap:12},(0,o.h)(P.xv.B3,null,"Delivery"),(0,o.h)(S.ji,{value:we,label:"Send cross-post via email",onChange:ee=>We(ee)}),(0,o.h)(S.ji,{value:Ie,label:"Publish cross-post to web",onChange:ee=>tt(ee)}),(0,o.h)(S.ji,{value:et,label:"Schedule time to publish cross-post",onChange:ee=>ht(ee),contentBelow:(0,o.h)(S.HZ,{expanded:et},(0,o.h)(s.tu,{paddingTop:8},(0,o.h)(S.Tz,{value:vt!=null?vt:new Date,max:E()().add(92,"days").toDate(),onChange:ee=>{Lt(new Date(ee.currentTarget.value))}})))})),$t&&(0,o.h)(P.xv.B4,{color:"accent-red"},$t),(0,o.h)(d.zx,{priority:!we&&!Ie?"secondary":"primary-theme",onClick:H,disabled:ve||!we&&!Ie,className:"restack-modal-button "},Ke))))}},69427:(z,u,e)=>{"use strict";e.d(u,{ZP:()=>pe});var o=e(6400),f=e(98661),l=e(91004),c=e(15045),g=e(28488),v=e(3258),E=e(58884),y=e(39419),p=e.n(y),O=e(51126),S=e(76235),x=e(43887),T=e(7922),_=e(46595),d=e(51889),s=e(54813),w=e(64484),P=e(73416),I=e(21302),D=e(65665),N=e(7775),C=e(74957),A=e(41874),L=e(95950),U=e(96789),W=e(79786),G=e(38441),$=Object.defineProperty,q=Object.defineProperties,J=Object.getOwnPropertyDescriptors,R=Object.getOwnPropertySymbols,j=Object.getPrototypeOf,ie=Object.prototype.hasOwnProperty,le=Object.prototype.propertyIsEnumerable,ye=Reflect.get,ue=(Te,ve,ce)=>ve in Te?$(Te,ve,{enumerable:!0,configurable:!0,writable:!0,value:ce}):Te[ve]=ce,oe=(Te,ve)=>{for(var ce in ve||(ve={}))ie.call(ve,ce)&&ue(Te,ce,ve[ce]);if(R)for(var ce of R(ve))le.call(ve,ce)&&ue(Te,ce,ve[ce]);return Te},te=(Te,ve)=>q(Te,J(ve)),Z=(Te,ve,ce)=>(ue(Te,typeof ve!="symbol"?ve+"":ve,ce),ce),re=(Te,ve,ce)=>ye(j(Te),ce,ve),ae=(Te,ve,ce)=>new Promise((Le,Ne)=>{var He=_t=>{try{Xe(ce.next(_t))}catch(we){Ne(we)}},ze=_t=>{try{Xe(ce.throw(_t))}catch(we){Ne(we)}},Xe=_t=>_t.done?Le(_t.value):Promise.resolve(_t.value).then(He,ze);Xe((ce=ce.apply(Te,ve)).next())});const se=(0,f.forwardRef)((Te,ve)=>(0,o.h)(T.Z,te(oe({},Te),{className:"share-action",forwardedRef:ve}),(0,o.h)("div",{className:"action-icon"},(0,o.h)(_.Z,null)),(0,o.h)(x.xv.B4,{translated:!0,color:"secondary"},"Other"))),be=({pub:Te,post:ve,profile:ce})=>{let Le=typeof document!="undefined"?document.title:"",Ne="",He="";const ze=(0,c.getBaseUrl)(Te).replace(/^https?:\/\//,"").replace(/\/$/);return ve?(Le=ve.title||ve.draft_title,Ne=ze,He=ve.cover_image||null):Te?(Le=Te.name,Ne=ze,He=Te.logo_url):ce&&(Le=ce.name,Ne=ce.bio,He=(0,c.getUserPhotoUrl)(ce)),(0,o.h)(O.gq,{className:`social-preview-box ${ve?"post":Te?"pub":"user"}`,radius:12,border:"detail",padding:8},(0,o.h)("div",{className:"social-image-box"},(ve||Te)&&He&&(0,o.h)(W.e,{className:"social-image",src:He,alt:"",maxWidth:120,loading:"lazy"}),!ve&&!Te&&He&&(0,o.h)(G.cy,{className:"social-image",imageUrl:He,size:52}),!He&&(0,o.h)(s.Z,{className:"social-image-default"})),(0,o.h)(O.tu,{paddingLeft:12,paddingY:8},(0,o.h)(x.xv.H4,null,Le),(0,o.h)(x.xv.B4,{color:"secondary"},Ne)))},_e=class extends U.p{constructor(Te,ve){super(Te,ve),this.noFullscreen=!0}open(){return ae(this,null,function*(){const Te="direct",ve={title:(0,l.B8)(oe({},this.props)),url:(0,l.O1)(Te,oe({medium:this.state.medium},this.props))};if((0,y.isMobileBrowser)()&&navigator.share&&navigator.canShare&&navigator.canShare(ve))try{yield navigator.share(ve),(0,v.j)(v.FP.NATIVE_SHARE_SUCCESS,{medium:this.state.medium||this.props.medium||"web",post_id:this.props.post?this.props.post.id:null,utm_campaign:this.state.utm_campaign||"default"}),(0,E.ex)(`${this.props.pub.subdomain} shared`,!0);return}catch(ce){if(ce.name==="AbortError")return;(0,v.j)(v.FP.NATIVE_SHARE_FAILED,{errorName:ce.name,errorMessage:ce.message})}re(_e.prototype,this,"open").call(this)})}fromEmail(){this.setState({medium:"email"},()=>{this.open()})}getClassName(){return"share-dialog"}onBeforeOpen(){this.setState({showButtons:!0})}onOpen(){(0,v.j)(v.FP.SHARE_DIALOG_OPENED,{medium:this.state.medium||this.props.medium||"web",post_id:this.props.post?this.props.post.id:null,utm_campaign:this.state.utm_campaign||"default"})}onClose(){this.setState({copied:!1,utm_campaign:null})}renderChildren({post:Te,pub:ve,profile:ce}){const Le=Te?"post":ve?"publication":ce?"profile":null,Ne=Le?this.context.iTemplate`Share this ${Le}`:this.context.iString("Share");return(0,o.h)(o.Fragment,null,(0,o.h)("div",{className:"share-dialog-title"},Ne),(0,o.h)(O.tu,{gap:32,paddingX:24,paddingTop:32,paddingBottom:48},(Te||ve||ce)&&(0,o.h)(be,{post:Te,pub:ve,profile:ce}),(0,o.h)(me,te(oe({utm_campaign:this.state.utm_campaign},this.props),{shareName:(0,l.B8)(oe({},this.props)),shareUrl:(0,l.O1)(null,oe({medium:this.state.medium},this.props))}))))}};let pe=_e;Z(pe,"contextType",g.wj);class me extends o.Component{maybeOnChange(){const{onChange:ve}=this.props;ve&&ve()}render({}){return(0,o.h)(O.gq,{className:"share-dialog-buttons-wrapper",justifyContent:"space-between",gap:8},(0,o.h)(T.Z,{onClick:()=>{(0,l.Ui)(oe({},this.props)),this.maybeOnChange()},className:"share-action"},(0,o.h)("div",{className:"action-icon"},(0,o.h)(N.Z,null)),(0,o.h)(x.xv.B4,{translated:!0,color:"secondary"},"Copy link")),(0,o.h)(T.Z,{className:"share-action",onClick:()=>{(0,l.Po)(oe({},this.props)),this.maybeOnChange()}},(0,o.h)("div",{className:"action-icon"},(0,o.h)(A.Z,null)),(0,o.h)(x.xv.B4,{translated:!0,color:"secondary"},"Facebook")),(0,o.h)(T.Z,{className:"share-action",onClick:()=>{(0,l.WZ)(oe({},this.props)),this.maybeOnChange()}},(0,o.h)("div",{className:"action-icon"},(0,o.h)(C.Z,null)),(0,o.h)(x.xv.B4,{translated:!0,color:"secondary"},"Email")),(0,o.h)(T.Z,{className:"share-action",onClick:()=>{(0,l.BZ)(oe({},this.props)),this.maybeOnChange()}},(0,o.h)("div",{className:"action-icon"},(0,o.h)(P.Z,null)),(0,o.h)(x.xv.B4,{color:"secondary"},"Notes")),(0,o.h)(S.v2,{layerOptions:{triggerOffset:-20},className:"share-dialog-network-menu",trigger:(0,o.h)(se,null),onOpen:()=>{(0,v.j)(v.FP.SHARE_DIALOG_MORE_OPTION_CLICKED,{medium:this.state.medium||this.props.medium||"web",post_id:this.props.post?this.props.post.id:null,utm_campaign:this.state.utm_campaign||"default"})}},(0,o.h)(S.sN,{onClick:()=>{(0,l.lc)(oe({},this.props)),this.maybeOnChange()},icon:(0,o.h)(w.Z,null)},"Linkedin"),(0,o.h)(S.sN,{onClick:()=>{(0,l.sn)(oe({},this.props)),this.maybeOnChange()},icon:(0,o.h)(D.Z,null)},"Reddit"),(0,o.h)(S.sN,{onClick:()=>{(0,l.b6)(oe({},this.props)),this.maybeOnChange()},icon:(0,o.h)(d.Z,null)},"Hacker News"),(0,o.h)(S.sN,{onClick:()=>{(0,l.Vn)(oe({},this.props)),this.maybeOnChange()},icon:(0,o.h)(I.Z,null)},"Pinterest"),(0,o.h)(S.sN,{onClick:()=>{(0,l.Wn)(oe({},this.props)),this.maybeOnChange()},icon:(0,o.h)(L.Z,null)},"Twitter")))}}},61152:(z,u,e)=>{"use strict";e.d(u,{J:()=>T,Z:()=>_});var o=e(6400),f=e(83322),l=e(39419),c=e.n(l),g=Object.defineProperty,v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,p=(d,s,w)=>s in d?g(d,s,{enumerable:!0,configurable:!0,writable:!0,value:w}):d[s]=w,O=(d,s)=>{for(var w in s||(s={}))E.call(s,w)&&p(d,w,s[w]);if(v)for(var w of v(s))y.call(s,w)&&p(d,w,s[w]);return d},S=(d,s)=>{var w={};for(var P in d)E.call(d,P)&&s.indexOf(P)<0&&(w[P]=d[P]);if(d!=null&&v)for(var P of v(d))s.indexOf(P)<0&&y.call(d,P)&&(w[P]=d[P]);return w},x=(d,s,w)=>(p(d,typeof s!="symbol"?s+"":s,w),w);const T={"data-gramm":"false","data-gramm_editor":"false","data-enable-grammarly":"false"};class _ extends o.Component{constructor(){super(...arguments),x(this,"onWindowResize",s=>{this.setAutoHeight()}),x(this,"onKeyDown",s=>(this.props.inline&&s.key==="Enter"&&s.preventDefault(),this.props.onKeyDown&&this.props.onKeyDown(s))),x(this,"onInput",s=>(this.setAutoHeight(),this.props.onInput&&this.props.onInput(s))),x(this,"onBlur",()=>{var s;if(this.props.inline){const w=(s=this.base)==null?void 0:s.value,P=(0,f.sanitizeInlineText)(w);w&&w!==P&&(this.base.value=P,this.props.onInput&&this.props.onInput(event))}})}componentDidMount(){this.setAutoHeight(),window.addEventListener("resize",this.onWindowResize)}componentWillUnmount(){window.removeEventListener("resize",this.onWindowResize)}componentDidUpdate(s,w,P){s.value!==this.props.value&&this.setAutoHeight()}get value(){return this.base?this.base.value:""}setAutoHeight(){this.props.autoHeight&&this.base&&(typeof window=="undefined"||!window.getComputedStyle||(0,l.stateTransaction)(this,s=>{this.base.style.height="";const w=window.getComputedStyle(this.base),P=parseInt(w.getPropertyValue("height")),I=parseInt(w.getPropertyValue("padding-top"))+parseInt(w.getPropertyValue("padding-bottom")),D=parseInt(w.getPropertyValue("line-height")),N=Math.min(Math.round((this.base.scrollHeight-I)/D),this.props.maxLines||1/0);this.base.style.height=`${Math.max(N*D+I,P)}px`,this.base.style.height!==s.height&&this.setState({height:this.base.style.height})}))}render(s,{height:w}){var P=s,{children:I,ref:D,style:N,onKeyDown:C,onInput:A,inline:L,autoHeight:U,maxLines:W}=P,G=S(P,["children","ref","style","onKeyDown","onInput","inline","autoHeight","maxLines"]);return U&&(N=Object.assign({},N,{height:w})),(0,o.h)("textarea",O(O({style:N,onKeyDown:this.onKeyDown,onInput:this.onInput,onBlur:this.onBlur},T),G),I)}}},4605:(z,u,e)=>{"use strict";e.d(u,{ZP:()=>d,g1:()=>x});var o=e(6400),f=e(30396),l=e(80569),c=e.n(l),g=e(85928),v=e.n(g),E=e(83322),y=e(3258),p=e(66141);const O=(s,{timeout:w=5e3,className:P="",dismissable:I=!1,beforeDismiss:D=null}={},N=document.body)=>{const C=document.createElement("div");C.setAttribute("id","toast"),C.setAttribute("role","alert"),P&&C.classList.add(P),N.appendChild(C);const A=()=>{D&&D(),C.classList.remove("in"),setTimeout(()=>{C.remove()},500)};(0,o.render)([(0,o.h)("p",null,s),I&&(0,o.h)("a",{className:"dismiss",onClick:A},"Dismiss")],C),setTimeout(()=>{C.classList.add("in")}),!I&&setTimeout(A,w)},S=({children:s,className:w,dismissKey:P,dismissDurationInSeconds:I,beforeDismiss:D,container:N})=>{const[C,A]=(0,p.Z)(P,I,D);if(!C)return O(s,{className:w,beforeDismiss:A,dismissable:!0},N)},x=({user:s,pub:w,container:P})=>{if(!(!s||!w||!s.is_subscribed))return(0,o.h)(_,{pub:w,container:P})},T=s=>{if(s&&s.cardExpiresAt){const w=v()(s.expiry).subtract(E.GRACE_PERIOD_DAYS,"day"),P=v()(s.cardExpiresAt),I=v()().add(12,"day");return P.isBefore(w)&&w.isBefore(I)}return!1},_=({pub:s,container:w})=>{const[P,I]=(0,f.eJ)(null);if((0,f.d4)(()=>{c().get("/api/v1/subscription").then(D=>I(D.body)).catch(D=>{console.error("Failed to fetch subscription data: ",D)})},[]),T(P))return(0,o.h)(S,{className:"urgent",dismissKey:"card-expiring-toast.dismissed",dismissDurationInSeconds:1*E.WEEK_IN_SECONDS,beforeDismiss:()=>{(0,y.j)(y.FP.CARD_EXPIRED_WARNING_DISMISSED,{type:"toast"})},container:w},"Your credit card is expiring soon."," ",(0,o.h)("a",{href:"/account/billing",native:!0,onClick:()=>{(0,y.j)(y.FP.UPDATE_EXPIRED_CARD_LINK_CLICKED,{type:"toast"})}},"Update your card"),` before you lose access to ${s.name}`,".")},d=O},38441:(z,u,e)=>{"use strict";e.d(u,{ZP:()=>L,cy:()=>J,m1:()=>U});var o=e(6400),f=e(30396),l=e(94184),c=e.n(l),g=e(15045),v=e(3258),E=e(11688),y=e(32127),p=e(1782),O=e(36377),S=e(89867),x=e(95847),T=e(79786),_=e(35570),d=e(84017),s=Object.defineProperty,w=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable,D=(R,j,ie)=>j in R?s(R,j,{enumerable:!0,configurable:!0,writable:!0,value:ie}):R[j]=ie,N=(R,j)=>{for(var ie in j||(j={}))P.call(j,ie)&&D(R,ie,j[ie]);if(w)for(var ie of w(j))I.call(j,ie)&&D(R,ie,j[ie]);return R},C=(R,j,ie)=>(D(R,typeof j!="symbol"?j+"":j,ie),ie);const A=33;class L extends o.Component{constructor(){super(...arguments),C(this,"onClick",j=>{if(this.props.onClick)this.props.onClick(j);else if(this.props.modalProfile)j.preventDefault(),j.stopPropagation(),this.profileShown||(this.profileShown=!0,(0,v.j)(v.FP.USER_HEAD_CLICKED,{is_self:this.isSelf()})),this.state.includeProfile?this.profile.open():this.setState({includeProfile:!0},()=>this.profile.open());else return!1})}static getSubject(j){return j?j.author_id?{id:j.author_id,name:j.author_name,photo_url:(0,g.getUserPhotoUrl)(j,{preferAuthorPhoto:!0}),publications:j.subdomain?[j]:[]}:j.user_id?{id:j.user_id,name:j.name,photo_url:(0,g.getUserPhotoUrl)(j),publications:[]}:{id:j.id,name:j.name,photo_url:(0,g.getUserPhotoUrl)(j),publications:[]}:{id:null,name:null,photo_url:g.DEFAULT_PHOTO_URL,publications:[]}}static hasCustomProfilePhoto(j){return!!L.getSubject(j).photo_url}isSelf(){return this.props.user&&this.props.user.id===L.getSubject(this.props.subject).id||!this.props.subject}profileUrl(){return this.props.isAuthor?(0,g.getProfileUrl)(L.getSubject(this.props.subject),this.props.pub,{base:this.props.isStatic}):(0,g.getReaderProfileUrl)(L.getSubject(this.props.subject))}onBeforeProfileClose(j){if(j)if(this.props.onEdit)this.props.onEdit();else return document.location.reload(),!1}render({subject:j,pub:ie,user:le,badge:ye,freeSignup:ue,freeSignupEmail:oe,token:te,isStatic:Z,size:re,modalProfile:ae,isBanned:se,lazy:be,tooltip:_e,noLink:pe,className:me}){re=re||A;const Te=L.getSubject(j);return(0,o.h)("div",{className:c()("user-head",{banned:se},me)},pe?(0,o.h)(U,{photo_url:Te.photo_url,size:re,isStatic:Z,isBanned:se,lazy:be,badge:ye,tooltip:_e,className:"default-pointer"}):(0,o.h)("a",{href:Z||!ae?this.profileUrl():null,onClick:this.onClick},(0,o.h)(U,{photo_url:Te.photo_url,size:re,isStatic:Z,isBanned:se,lazy:be,badge:ye,tooltip:_e})),this.props.modalProfile&&!Z&&typeof window!="undefined"&&this.state.includeProfile&&(this.isSelf()?(0,o.h)(x.EB,{ref:ve=>this.profile=ve,user:le,freeSignup:ue,freeSignupEmail:oe,needsPhoto:!0,token:te,onBeforeClose:ve=>this.onBeforeProfileClose(ve)}):(0,o.h)(d.FI,{ref:ve=>this.profile=ve,profileUser:Te,pub:ie,isBanned:se})))}}const U=({photo_url:R,size:j,isStatic:ie,isBanned:le,lazy:ye,badge:ue,tooltip:oe,style:te,expandable:Z,children:re,className:ae})=>{const[se,be]=(0,f.eJ)(!1),_e=!R&&!!re,pe={founding:(0,o.h)(O.Z,{height:14,width:14,stroke:"var(--print_on_pop)",strokeWidth:1,title:oe}),author:(0,o.h)(y.Z,{height:14,width:14,stroke:"var(--print_on_pop)",title:oe})}[ue];return(0,o.h)("div",{onClick:()=>{Z&&be(!0)},className:c()("profile-img-wrap",ae)},_e?re:ye?(0,o.h)(G,N({},{photo_url:R,size:j,isStatic:ie,badge:ue,style:te})):(0,o.h)($,N({},{photo_url:R,size:j,isStatic:ie,badge:ue,style:te})),pe&&(0,o.h)("div",{className:"profile-img-badge",title:oe},pe),le&&(0,o.h)(p.Z,null),(0,o.h)(E.cr,{module:"./ImageViewerModal",resolve:me=>me.ImageViewerModal,onRequest:()=>e.e(661).then(e.bind(e,55661)),showModal:se,modalContent:[{src:_e?re:R,attrs:{src:_e?re:R}}],onClose:()=>{be(!1)},step:0,includeDownloadButton:!1}))},W=(R,j)=>(0,g.imginary)(R,j*2,{height:j*2,crop:"fill"}),G=({photo_url:R,size:j,isStatic:ie,badge:le,style:ye})=>{const[ue,oe]=(0,_.Z)({}),te=!oe||oe.isIntersecting?R:g.DEFAULT_PHOTO_URL;return(0,o.h)(q,{url:W(te,j),size:j,ref:ue,badge:le,isStatic:ie,style:ye})},$=({photo_url:R,size:j,isStatic:ie,badge:le,style:ye})=>(0,o.h)(q,{url:W(R,j),size:j,badge:le,isStatic:ie,style:ye}),q=({url:R,size:j,isStatic:ie,ref:le,badge:ye,className:ue})=>ie?(0,o.h)(S.Z,{className:ue,src:(0,g.imginary)(R,j*2,{height:j*2,crop:"fill"}),ref:le,height:j,width:j,alt:ye||""}):(0,o.h)(T.e,{className:ue,src:R,imageProps:{height:j*2,crop:"fill"},maxWidth:j*2,ref:le,alt:ye||""}),J=({imageUrl:R,alt:j,size:ie,className:le})=>(0,o.h)(q,{className:`user-photo ${le||""}`,url:R,badge:j,size:ie})},84017:(z,u,e)=>{"use strict";e.d(u,{FI:()=>C,fi:()=>L});var o=e(6400),f=e(94184),l=e.n(f),c=e(80569),g=e.n(c),v=e(85928),E=e.n(v),y=e(15045),p=e(83322),O=e(1782),S=e(96789),x=Object.defineProperty,T=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,s=(U,W,G)=>W in U?x(U,W,{enumerable:!0,configurable:!0,writable:!0,value:G}):U[W]=G,w=(U,W)=>{for(var G in W||(W={}))_.call(W,G)&&s(U,G,W[G]);if(T)for(var G of T(W))d.call(W,G)&&s(U,G,W[G]);return U},P=(U,W)=>{var G={};for(var $ in U)_.call(U,$)&&W.indexOf($)<0&&(G[$]=U[$]);if(U!=null&&T)for(var $ of T(U))W.indexOf($)<0&&d.call(U,$)&&(G[$]=U[$]);return G},I=(U,W,G)=>new Promise(($,q)=>{var J=ie=>{try{j(G.next(ie))}catch(le){q(le)}},R=ie=>{try{j(G.throw(ie))}catch(le){q(le)}},j=ie=>ie.done?$(ie.value):Promise.resolve(ie.value).then(J,R);j((G=G.apply(U,W)).next())});const D=92;class N extends o.Component{componentDidMount(){this.props.manualLoad||this.loadProfileUser()}componentDidUpdate(W){!this.props.manualLoad&&W.profileUser.id!==this.props.profileUser.id&&(this.setState({profileUser:null}),this.loadProfileUser())}loadProfileUser(){return I(this,null,function*(){if(!this.state.loadingProfile){this.setState({loadingProfile:!0});try{const W=yield g().get(`/api/v1/user/${this.props.profileUser.id}/profile`);this.setState({profileUser:W.body})}catch(W){console.error("Failed to load profile:",W)}this.setState({loadingProfile:!1})}})}getProfileUser(){return this.state.profileUser||this.props.profileUser}render({pub:W}){var G;const $=((G=this.getProfileUser().publications)==null?void 0:G.filter(q=>q.id!==W.id))||[];return(0,o.h)("div",{className:`user-profile ${this.props.isBanned?"banned":""}`},(0,o.h)(L,{photo_url:(0,y.getUserPhotoUrl)(this.getProfileUser()),banned:this.props.isBanned,email:this.getProfileUser().email,pub:W}),(0,o.h)("div",{className:"user-profile-name"},this.getProfileUser().name),(0,o.h)("div",{className:"user-profile-status"},this.getProfileUser().id===W.author_id?(0,o.h)("b",null,"Author of ",W.name):this.getProfileUser().subscribed_at?`Subscriber to ${W.name} since ${E()(this.getProfileUser().subscribed_at).standardDate()}`:"\xA0"),$.length>0&&(0,o.h)("div",{className:"user-profile-publication"},"Author of"," ",(0,p.oxfordComma)($.map(q=>(0,o.h)("a",{href:q.base_url,native:!0},q.name)))),this.props.isBanned&&(0,o.h)("div",{className:"user-profile-banned"},"Banned from commenting on ",W.name))}}class C extends S.p{onBeforeOpen(){this.profile.loadProfileUser()}renderChildren(){const W=this.props,{ref:G}=W,$=P(W,["ref"]);return(0,o.h)("div",{className:"user-profile-modal"},(0,o.h)(N,w({ref:q=>this.profile=q,manualLoad:!0},$)))}}const A=({children:U,email:W,pub:G})=>(0,o.h)("a",{target:"_blank",href:(0,y.getSubscriberDetailsUrl)(G,W)},U),L=({photo_url:U,size:W=D,banned:G=!1,email:$="",className:q="",pub:J=null,children:R=void 0})=>{const j=(0,o.h)("img",{className:"user-profile-head",height:W,width:W,src:(0,y.imginary)(U,W*2,{height:W*2,crop:"fill"})});return(0,o.h)("div",{className:l()(q,"profile-image-wrapper")},$&&J?(0,o.h)(A,{email:$,pub:J},j):j,G&&(0,o.h)(O.Z,{height:W}),R)}},1824:(z,u,e)=>{"use strict";e.d(u,{Z:()=>d,a:()=>w});var o=e(98661),f=e(6400),l=e(36808),c=e.n(l),g=e(8111),v=e(15045),E=e(3258),y=e(39419),p=e.n(y),O=e(37888),S=e(33291);e(14369);const x="entry",T="ajs_anonymous_id";let _;function d(A){var L,U,W;if(_)throw new Error("Cannot re-render the things");_=A,window._preloads&&(window._preloads.original_url=window.location.href),(0,E.uF)(),(0,O.j0)((U=(L=window._preloads)==null?void 0:L.user)==null?void 0:U.id),N(),P(),I(),(W=window._preloads)!=null&&W.language&&window._preloads.language!=="en"&&window.fetch?s(D,window._preloads.language):D(),C()}function s(A,L){fetch(`/api/v1/i18n/translations?language=${L}`,{method:"GET"}).then(U=>U.json()).then(U=>{g.mb.l(L,U)}).finally(()=>{A()})}function w(A){let L=!1;if(typeof window._preloads=="object"&&window._preloads!==null)for(const U in A)(typeof A[U]=="object"&&A[U]!==null||A[U]!==window._preloads[U])&&(window._preloads[U]=A[U],L=!0);L&&D()}function P(){const A=(0,v.parseQuery)(window.location.href);if(!A.token&&!A.lli||!window.history.replaceState)return;delete A.token,delete A.lli;const L=`${(0,v.pathWithQuery)(window.location.pathname,A)}${window.location.hash}`;window.history.replaceState({},document.title,L)}function I(){if(!window.history||!window.history.pushState||!window.scrollTo)return;const A=window.history.pushState;history.pushState=function(L,U,W){var G;const $=A.apply(history,arguments);return((G=L==null?void 0:L.resetScroll)!=null?G:!0)&&W.indexOf("#")===-1&&window.scrollTo(0,0),$}}function D(){if(!_)return;const A=document.getElementById(x);(0,f.render)((0,f.h)(_,{initialData:window._preloads}),A||document.body)}function N(){if(typeof window._analyticsConfig=="object"&&window._analyticsConfig!==null&&!window._analyticsConfig.anonymousId){let A;try{A=JSON.parse(l.get(T))}catch(L){}A||(A=(0,y.uuidV4)(),l.set(T,JSON.stringify(A),{expires:365})),window._analyticsConfig.anonymousId=A}}function C(){var A;!(console!=null&&console.log)||window.location.hostname.includes(".localhost")||window.location.pathname.startsWith("/embed")||(A=window._preloads.user)!=null&&A.is_global_admin||console.log(`%c
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591 SUBSTACK WANTS YOU \u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2592\u2592\u2592\u2592\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2592\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2592\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2592\u2592\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2592\u2592\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2592\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2592\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2592\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2592\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591 TO BUILD A BETTER BUSINESS MODEL FOR WRITING \u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
                   https://substack.com/jobs
`,"font-family:monospace")}},8826:z=>{"use strict";z.exports=class{constructor(){this.callbacks={}}listenerCount(e){return(this.callbacks[e]||[]).length}on(e,o,f=!1){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push([o,f]),this}once(e,o){return this.on(e,o,!0)}off(e,o){this.callbacks[e]&&(this.callbacks[e]=this.callbacks[e].filter(f=>f[0]!==o))}emit(e,o){const f=this.callbacks[e];if(f){for(const[l,c]of f)if(c&&this.off(e,l),l(o)===!1)return!1;return!0}}}},63503:(z,u,e)=>{"use strict";e.d(u,{Z:()=>l});var o=e(30396);const l=(c,g)=>{const v=(0,o.sO)();(0,o.d4)(()=>{v.current=c},[c]),(0,o.d4)(()=>{function E(){v.current()}if(g!==null){const y=setInterval(E,g);return()=>clearInterval(y)}},[g])}},89018:z=>{"use strict";z.exports={substack_color:"#FF6719",subscriber_green:"#318631",lifetime_lavender:"#792BA9",comped_salmon:"#E07F69",gifted_ocean:"#8BD1E0",free_trial_yellow:"#F7ED92",new_paid_cerulean:"#39a5f7",upgrades_teal:"#008080",downgrades_red:"#E06666",expirations_orange:"#FFB347",chart_line_color:"#444444",chart_grid_color:"#F4F4F4",chart_axis_label_color:"#AAAAAA",share_button_size_px:18,tweet_icon_size_px:48}},72496:(z,u,e)=>{"use strict";e.d(u,{UE:()=>p,ip:()=>y,xU:()=>O,xY:()=>E});var o=e(79546),f=e.n(o);const l="substack_ref_url",c="substack_ref";let g,v;typeof window!="undefined"&&window.location&&window.location.href&&(g=window.location.href,v=document.referrer,f().get(l)||(f().set(l,g),f().set(c,v)));const E=f().get(l),y=f().get(c),p=g,O=v},58884:(z,u,e)=>{"use strict";var o;const f=e(79546);u.mM=(l,c=null)=>typeof window!="undefined"?f.get(l,c):c,u.ex=(l,c)=>{if(typeof window!="undefined")return f.set(l,c)},o=l=>{if(typeof window!="undefined")return f.remove(l)}},39419:function(z,u,e){"use strict";var o=Object.defineProperty,f=Object.defineProperties,l=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,E=(Z,re,ae)=>re in Z?o(Z,re,{enumerable:!0,configurable:!0,writable:!0,value:ae}):Z[re]=ae,y=(Z,re)=>{for(var ae in re||(re={}))g.call(re,ae)&&E(Z,ae,re[ae]);if(c)for(var ae of c(re))v.call(re,ae)&&E(Z,ae,re[ae]);return Z},p=(Z,re)=>f(Z,l(re)),O=(Z,re,ae)=>new Promise((se,be)=>{var _e=Te=>{try{me(ae.next(Te))}catch(ve){be(ve)}},pe=Te=>{try{me(ae.throw(Te))}catch(ve){be(ve)}},me=Te=>Te.done?se(Te.value):Promise.resolve(Te.value).then(_e,pe);me((ae=ae.apply(Z,re)).next())});const{h:S,Fragment:x}=e(6400),{route:T}=e(20042),{getQueryItem:_,pathWithQuery:d,parseQuery:s,getGlobalAccountSettingsUrl:w,getPubAccountSettingsUrl:P,getCurrentUrlForLoginRedirect:I}=e(15045),{centsToPriceString:D,toTitleCase:N,pluralize:C,isZeroDecimalCurrency:A}=e(83322),L=e(8826),{isMobileUserAgent:U,getIosVersion:W}=e(76193),{validatePledgePrices:G}=e(48971),$=e(27484),{Metadata:q}=e(35442),{getPodcastEpisodeImageUrl:J}=e(63030);u.getPodcastEpisodeImageUrl=J;const R=["text","password","file","search","email","number","date","color","datetime","datetime-local","month","range","search","tel","time","url","week"];let j=typeof window=="undefined"||!window.addEventListener;j||window.addEventListener("load",()=>{j=!0},!1),typeof window!="undefined"&&window._preloads,u.globalPlaybackNotifier=typeof window!="undefined"?new L:null,u.windowReady=Z=>{j?Z():window.addEventListener("load",Z,!1)},u.debounce=function(Z,re,ae=this){let se=null;return function(){clearTimeout(se),se=setTimeout(()=>Z.apply(ae,arguments),re)}},u.couponToString=(Z,re)=>{if(!Z||Z.loading||Z.error)return;let ae;return Z.trial_period_days?ae=`${Z.trial_period_days} day free trial`:(Z.percent_off?ae=`${Math.round(Z.percent_off_precise||Z.percent_off)}% off`:Z.amount_off&&(ae=`${D(Z.amount_off,re.currency)} off`),Z.duration==="once"?re?ae+=` first ${re.interval}`:ae+=" first payment":Z.duration==="repeating"?Z.duration_in_months%12===0?ae+=` for ${C(Z.duration_in_months/12,"year")}`:ae+=` for ${C(Z.duration_in_months,"month")}`:ae+=" forever"),ae},u.preloadImage=function(Z,re){const ae=new Image;ae.onload=()=>{ae.onload=ae.onerror=null,re&&re(ae)},ae.onerror=ae.onload,ae.src=Z},u.getHostname=Z=>{const re=document.createElement("a");return re.href=Z,(re.hostname||"").replace(/\.localhost$/,"")},u.getPathname=Z=>{const re=document.createElement("a");return re.href=Z,re.pathname||""},u.getPath=Z=>{const re=document.createElement("a");return re.href=Z,(re.pathname||"")+(re.search||"")+(re.hash||"")},u.getNetworkErrorMessage=(Z,re)=>{var ae;return u.getNetworkErrorMessageFromResponse((Z==null?void 0:Z.body)||((ae=Z==null?void 0:Z.response)==null?void 0:ae.body),re)},u.getNetworkErrorBody=Z=>{var re;const ae=(Z==null?void 0:Z.body)||((re=Z==null?void 0:Z.response)==null?void 0:re.body);if(ae&&ae.error)return{msg:ae.error};if(ae&&ae.errors&&ae.errors.length>0)return{html:ae.errors[ae.errors.length-1].msgHTML,msg:ae.errors[ae.errors.length-1].msg}},u.getNetworkErrorMessageFromXhr=(Z,re)=>{let ae;try{ae=JSON.parse(Z&&Z.responseText)}catch(se){}return u.getNetworkErrorMessageFromResponse(ae,re)},u.getNetworkErrorMessageFromResponse=(Z,re)=>(re=re||"Something went wrong",Z&&Z.error?Z.error:Z&&Z.errors&&Z.errors.length>0&&Z.errors[Z.errors.length-1].msg||re),u.inputPrefillHack=function(){return[S("input",{type:"email",name:"fake_email",placeholder:"email",style:"position:absolute;top:-10000px;left:-10000px"}),S("input",{type:"password",name:"fake_password",placeholder:"password",style:"position:absolute;top:-10000px;left:-10000px"})]},u.isBrowser=function(){return typeof window!="undefined"},u.isMobileBrowser=function(){if(typeof navigator!="undefined"||typeof window!="undefined"){const Z=navigator.userAgent||navigator.vendor||window.opera;if(U(Z,{checkFirst4:!0}))return!0}return!1},u.isIE=()=>typeof window=="undefined"||!window.navigator||!window.navigator.userAgent?!1:/(MSIE|Trident)/i.test(window.navigator.userAgent),u.isFirefox=()=>typeof window=="undefined"||!window.navigator||!window.navigator.userAgent?!1:/Firefox/i.test(window.navigator.userAgent),u.isAndroid=()=>typeof window=="undefined"||!window.navigator||!window.navigator.userAgent?!1:/Android/i.test(window.navigator.userAgent),u.isBrave=()=>!(typeof window=="undefined"||!window.navigator||!window.navigator.brave),u.isIOs=()=>!!u.iosVersion(),u.isMac=(Z=window.navigator)=>Z?Z.userAgentData&&Z.userAgentData.platform?/macOS/.test(Z.userAgentData.platform):/Mac/.test(Z.platform):!1,u.isSafari=()=>{var Z;return typeof window=="undefined"||!((Z=window.navigator)!=null&&Z.userAgent)?!1:/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},u.getModKeyLabel=(Z=u.isMac())=>Z?"\u2318":"^",u.iosVersion=()=>typeof window=="undefined"?null:W(),u.fixSmsUrl=Z=>{const re=u.iosVersion();return re?re>=9?Z.replace("?body=","&body="):Z.replace("?body=",";body="):Z};const ie=Z=>((re,ae)=>{let se;const be=()=>ae.userAgent.match(/ipad|iphone/i),_e=ve=>{se=re.createElement("textArea"),se.value=ve,re.body.appendChild(se)},pe=()=>{let ve,ce;be()?(ve=re.createRange(),ve.selectNodeContents(se),ce=Z.getSelection(),ce.removeAllRanges(),ce.addRange(ve),se.setSelectionRange(0,999999)):se.select()},me=()=>{re.execCommand("copy"),re.body.removeChild(se)};return{copy:ve=>{_e(ve),pe(),me()}}})(document,navigator);u.copyToClipboard=Z=>{if(typeof window=="undefined")return;ie(window).copy(Z);const re=ae=>{ae&&ae.clipboardData?(ae.clipboardData.setData("text/plain",Z),ae.preventDefault()):window.clipboardData&&window.clipboardData.setData("Text",Z)};u.iosVersion()||window.addEventListener("copy",re),setTimeout(()=>{try{const ae=document.createElement("input");ae.style="position: absolute; top: 0; right: 0; height: 1px; width: 1px;",document.documentElement.appendChild(ae),ae.value=Z,ae.contentEditable=!0,ae.readOnly=!1;const se=document.createRange();se.selectNodeContents(ae);const be=window.getSelection();be.removeAllRanges(),be.addRange(se),ae.setSelectionRange(0,999999),document.execCommand("copy"),document.documentElement.removeChild(ae)}catch(ae){}window.removeEventListener("copy",re)},0)},u.copyNodeToClipboard=Z=>{try{u.selectNode(Z),document.execCommand("copy")}catch(re){console.error("Failed to copy text:",re)}},u.selectNode=Z=>{try{if(["INPUT","TEXTAREA"].includes(Z.nodeName)&&Z.select)Z.select();else if(document.body.createTextRange){const re=document.body.createTextRange();re.moveToElementText(Z),re.select()}else if(window.getSelection){const re=window.getSelection(),ae=document.createRange();ae.selectNodeContents(Z),re.removeAllRanges(),re.addRange(ae)}else console.warn("Could not select text in node: Unsupported browser")}catch(re){console.error("Failed to select node:",re)}},u.deselectNode=Z=>{try{const re=window.getSelection?window.getSelection():document.selection;re&&re.anchorNode===Z&&(re.empty?re.empty():re.removeAllRanges&&re.removeAllRanges())}catch(re){console.error("Failed to deselect node:",re)}},u.setMetaData=function(Z){return S(q,y({},Z))},u.getBodyOffset=(Z,re)=>{const ae=`offset${N(re)}`;let se=0;for(;Z&&Z!==document.body;)se+=Z[ae],Z=Z.offsetParent||Z.parentNode;return se},u.getUrlHash=()=>typeof window=="undefined"||!window.location.hash?null:decodeURIComponent(window.location.hash.slice(1)),u.scrollToHash=function(Z){const re=u.getUrlHash();if(!re)return;const ae=document.getElementById(re);ae&&(typeof Z!="number"&&(Z=-122),document.documentElement.scrollTop=Math.max(0,u.getBodyOffset(ae,"top")+Z))},u.mightSupportApplePay=Z=>!(!Z||!Z.stripe_country||Z.apple_pay_disabled||typeof window=="undefined"||!window.ApplePaySession),u.addClass=(Z,re)=>{Z.className+=` ${re}`},u.removeClass=(Z,re)=>{Z.className=Z.className.replace(new RegExp(`\\b${re}\\b`,"g"),"").trim()},u.hasClass=(Z,re)=>new RegExp(`\\b${re}\\b`,"g").test(Z.className),u.isFocused=(...Z)=>u.isRootOrChild(document.activeElement,...Z),u.isRootOrChild=(Z,...re)=>{for(;Z;){for(const ae of re)if(typeof ae=="function"?ae(Z):Z===ae)return!0;Z=Z.parentNode}return!1},u.getRootOrChild=(Z,re,{maxDepth:ae}={})=>{const se=[Z];let be=0;for(;se.length>0;){be++;const _e=se.splice(0);for(const pe of _e)if(pe){if(re(pe))return pe;(!ae||be<ae)&&pe.children&&se.push(...pe.children)}}return null},u.getRootOrParent=(Z,re)=>Z?re(Z)?Z:u.getRootOrParent(Z.parentNode,re):null,u.getVisibilityApi=()=>{let Z,re;return typeof document!="undefined"&&typeof document.addEventListener!="undefined"&&(typeof document.hidden!="undefined"?(Z="visibilitychange",re="hidden"):typeof document.msHidden!="undefined"?(Z="msvisibilitychange",re="msHidden"):typeof document.webkitHidden!="undefined"&&(Z="webkitvisibilitychange",re="webkitHidden")),{visibilityChange:Z,hidden:re}},u.isWindowVisible=()=>{const{hidden:Z}=u.getVisibilityApi();return Z?!document[Z]:!0},u.onWindowVisibilityChange=Z=>{const{visibilityChange:re}=u.getVisibilityApi();re&&document.addEventListener(re,Z,!1)},u.offWindowVisibilityChange=Z=>{const{visibilityChange:re}=u.getVisibilityApi();re&&document.removeEventListener(re,Z,!1)},u.disableBackspaceNavigation=()=>{document.addEventListener("keydown",le,!1)},u.enableBackspaceNavigation=()=>{document.removeEventListener("keydown",le,!1)};function le(Z){if(Z.keyCode!==8)return;const re=Z.srcElement||Z.target;if(!re.readonly&&!re.disabled){if(re.isContentEditable)return;if(re.nodeName==="TEXTAREA")return;if(re.nodeName==="INPUT"&&R.indexOf((re.getAttribute("type")||"").toLowerCase())>-1)return}return Z.preventDefault(),!1}u.getBlob=Z=>new Promise((re,ae)=>{const se=new XMLHttpRequest;se.open("GET",Z,!0),se.responseType="blob",se.onerror=ae,se.onload=be=>{se.status==200?re(se.response):ae(new Error("Failed to fetch blob"))},se.send()}),u.getDataUrlFromFile=Z=>new Promise((re,ae)=>{if(!window.FileReader){ae(new TypeError("File reader API not found"));return}const se=new FileReader;se.onerror=ae,se.onload=()=>{re(se.result)},se.readAsDataURL(Z)}),u.getExifOrientationFromFile=Z=>new Promise((re,ae)=>{if(!window.FileReader){ae(new TypeError("File reader API not found"));return}if(!window.DataView){ae(new TypeError("DataView API not found"));return}const se=new FileReader;se.onerror=ae,se.onload=()=>{const be=new DataView(se.result);if(be.getUint16(0,!1)!=65496)return re(-2);const _e=be.byteLength;let pe=2;for(;pe<_e;){if(be.getUint16(pe+2,!1)<=8)return re(-1);const me=be.getUint16(pe,!1);if(pe+=2,me==65505){if(be.getUint32(pe+=2,!1)!=1165519206)return re(-1);const Te=be.getUint16(pe+=6,!1)==18761;pe+=be.getUint32(pe+4,Te);const ve=be.getUint16(pe,Te);pe+=2;for(let ce=0;ce<ve;ce++)if(be.getUint16(pe+ce*12,Te)==274)return re(be.getUint16(pe+ce*12+8,Te))}else{if((me&65280)!=65280)break;pe+=be.getUint16(pe,!1)}}re(-1)},se.readAsArrayBuffer(Z)}),u.getImageDataFromFileInput=Z=>O(this,null,function*(){let re,ae;const se=Z!=null&&Z.files?Z.files[0]:null;if(Z.value="",se){try{re=yield u.getDataUrlFromFile(se)}catch(be){console.error("Failed to get data URL from file:",be),alert(be.message);return}try{ae=yield u.getExifOrientationFromFile(se)}catch(be){console.error("Failed to extract EXIF data from file:",be)}}return{url:re,orientation:ae}}),u.transformExifOrientation=Z=>{switch(Z){case 2:return"rotateY(180deg)";case 3:return"rotateZ(-180deg)";case 4:return"rotateZ(-180deg) rotateY(180deg)";case 5:return"rotateZ(-90deg) rotateY(180deg)";case 6:return"rotateZ(90deg)";case 7:return"rotateZ(90deg) rotateY(180deg)";case 8:return"rotateZ(-90deg)";default:return""}},u.canScroll=()=>u.maxScroll()>0,u.maxScroll=()=>Math.max(document.documentElement.scrollHeight,document.body.scrollHeight)-window.innerHeight,u.getLoginRedirect=({redirect:Z,email:re,justTrying:ae,with_password:se=!1,useOriginalUrl:be=!1}={})=>(typeof Z!="string"&&(Z=I({useOriginalUrl:be})),d("/account/login",{redirect:Z||"",email:re||"",with_password:se?"1":"",justTrying:ae||""})),u.redirectToLogin=(Z={})=>{document.location.href=u.getLoginRedirect(Z)},u.redirectToAccount=Z=>{window.location.assign(P(Z))},u.redirectToAccountSettings=()=>{document.location.href=w()},u.base64encode=Z=>{const re="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=";let ae="",se,be,_e,pe,me,Te,ve,ce=0;for(Z=u.utf8Encode(Z);ce<Z.length;)se=Z.charCodeAt(ce++),be=Z.charCodeAt(ce++),_e=Z.charCodeAt(ce++),pe=se>>2,me=(se&3)<<4|be>>4,Te=(be&15)<<2|_e>>6,ve=_e&63,isNaN(be)?Te=ve=64:isNaN(_e)&&(ve=64),ae=ae+re.charAt(pe)+re.charAt(me)+re.charAt(Te)+re.charAt(ve);return ae},u.utf8Encode=Z=>{let re="";for(let ae=0;ae<Z.length;ae++){const se=Z.charCodeAt(ae);se<128?re+=String.fromCharCode(se):se>127&&se<2048?(re+=String.fromCharCode(se>>6|192),re+=String.fromCharCode(se&63|128)):(re+=String.fromCharCode(se>>12|224),re+=String.fromCharCode(se>>6&63|128),re+=String.fromCharCode(se&63|128))}return re},u.redirectNoScroll=Z=>{const re=[window.scrollX,window.scrollY];u.redirect(Z),window.scrollTo(...re)},u.redirect=(Z,{event:re=null,local_navigation:ae=!0,replace:se=!1,newTab:be=!1}={})=>{var _e;if(re&&re.preventDefault(),!Z.trim().startsWith("javascript:")){if(Z.startsWith("#")&&ae){window.location.hash!==Z&&(se&&((_e=window.history)!=null&&_e.replaceState)?window.history.replaceState(null,null,Z):window.location.hash=Z),u.scrollToHash();return}if(ae&&u.getHostname(Z)&&u.getHostname(Z)!==u.getHostname(window.location.href)&&(ae=!1),be||re&&(re.metaKey||re.ctrlKey)){window.open(Z,"_blank");return}if(ae&&T(u.getPath(Z),se)){setTimeout(()=>u.scrollToHash(),0);return}window.location.href=Z}},u.setState=(Z,re)=>new Promise(ae=>{Z.setState(re,ae)}),u.stateTransaction=(Z,re)=>new Promise((ae,se)=>{Z.setState((...be)=>O(this,null,function*(){try{ae(yield re.apply(Z,be))}catch(_e){se(_e)}}))}),u.stateLock=(Z,re,ae,...se)=>O(this,[Z,re,ae,...se],function*(be,_e,pe,{force:me}={}){return typeof _e=="function"&&(pe=_e,_e="lock"),yield u.stateTransaction(be,(Te,...ve)=>O(this,null,function*(){if(Te[_e]&&!me)return;yield u.setState(be,{[_e]:!0});const ce=yield pe.call(be,Te,...ve);return yield u.setState(be,{[_e]:!1}),ce}))}),u.getsMessageQuery=Z=>re=>{const ae=s(document.location.href),se=_("message");if(se){delete ae.message;const be=`${d(document.location.pathname,ae)}${document.location.hash}`;window&&window.history&&window.history.replaceState({},document.title,be)}return S(Z,y({message:se},re))},u.uuidV4=()=>{const Z=window.crypto||window.msCrypto;if(typeof(Z==null?void 0:Z.randomUUID)=="function")return Z.randomUUID();if(Z)return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,re=>(re^Z.getRandomValues(new Uint8Array(1))[0]&15>>re/4).toString(16));{let re=new Date().getTime(),ae=typeof performance!="undefined"&&performance.now&&performance.now()*1e3||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(se){let be=Math.random()*16;return re>0?(be=(re+be)%16|0,re=Math.floor(re/16)):(be=(ae+be)%16|0,ae=Math.floor(ae/16)),(se==="x"?be:be&3|8).toString(16)})}},u.isStandaloneWebApp=()=>navigator.standalone?!0:window.matchMedia("(display-mode: standalone)").matches,u.disabledIfSSR=()=>typeof window=="undefined"?"disabled":"",u.focusElement=Z=>{Z.focus&&Z.focus(),Z.select&&Z.select()},u.getRoleOrOwner=(Z,re)=>Z?Z.user_id===re.author_id?"owner":Z.role:"byline",u.hexWithOpacity=(Z,re)=>{if(!Z)return Z;Z=Z.replace("#","");const ae=parseInt(Z.substring(0,2),16),se=parseInt(Z.substring(2,4),16),be=parseInt(Z.substring(4,6),16);return`rgba(${ae},${se},${be},${re/100})`},u.getSelectTheme=({primary:Z,neutral0:re="#f8f8f8",neutral20:ae="#d8d8d8",danger:se="var(--color-accent-red)",dangerLight:be="var(--color-bg-accent-red)"})=>_e=>p(y({},_e),{colors:p(y({},_e.colors),{primary:Z,primary25:u.hexWithOpacity(Z,25),primary50:u.hexWithOpacity(Z,50),primary75:u.hexWithOpacity(Z,75),neutral0:re,neutral20:ae,danger:se,dangerLight:be})}),u.removeQueryParam=(Z,{stripHash:re=!1}={})=>{var ae;if(typeof window!="undefined"&&((ae=window.history)!=null&&ae.replaceState)){const se=s(window.location.href);if(!Array.isArray(Z))delete se[Z];else for(const _e of Z)delete se[_e];const be=`${d(window.location.pathname,se)}${re?"":window.location.hash}`;window.history.replaceState({},document.title,be)}},u.isFullscreen=()=>typeof window=="undefined"?!1:typeof document.webkitCurrentFullScreenElement!="undefined"?document.webkitCurrentFullScreenElement!==null:typeof document.fullscreenElement!="undefined"?document.fullscreenElement!==null:!1,u.goFullscreen=Z=>typeof window=="undefined"?!1:Z.requestFullScreen?(Z.requestFullScreen(),!0):Z.webkitRequestFullScreen?(Z.webkitRequestFullScreen(),!0):Z.mozRequestFullScreen?(Z.mozRequestFullScreen(),!0):!1,u.exitFullscreen=()=>{if(!u.isFullscreen())return!1;if(document.exitFullscreen)return document.exitFullscreen(),!0;if(document.webkitExitFullscreen)document.webkitExitFullscreen();else{if(document.mozCancelFullScreen)return document.mozCancelFullScreen(),!0;if(document.msExitFullscreen)return document.msExitFullscreen(),!0}return!1},u.exitPictureInPicture=()=>typeof window=="undefined"||!document.pictureInPictureElement||!document.exitPictureInPicture?!1:(document.exitPictureInPicture(),!0),u.getVideoBlobDuration=(Z,...re)=>O(this,[Z,...re],function*(ae,{timeout:se=5e3}={}){const be=document.createElement("video");be.volume=0;const _e=Promise.race([new Promise((pe,me)=>{be.onloadedmetadata=()=>{be.onloadedmetadata=null,be.duration===1/0?(be.currentTime=Number.MAX_SAFE_INTEGER,be.ontimeupdate=()=>{be.ontimeupdate=null,pe(be.duration),be.currentTime=0}):pe(be.duration)},be.onerror=Te=>me(Te.target.error)}),new Promise((pe,me)=>{setTimeout(()=>{me(new Error("Blob duration fetching timed out"))},se)})]);return be.src=typeof ae=="string"||ae instanceof String?ae:window.URL.createObjectURL(ae),_e}),u.downloadSrc=Z=>{const re=document.createElement("a");document.body.appendChild(re),re.href=Z,re.target="_blank",re.click(),document.body.removeChild(re)},u.getCurrencyFormattedPledgePlans=(Z,{skipFoundingPlan:re=!1}={})=>{if(!(Z!=null&&Z.length))return[];const ae=[];for(const se of Z)re&&se.is_founding?ae.push(y({},se)):se.amount?ae.push(p(y({},se),{amount:se.amount})):ae.push(y({},se));return ae},u.validatePledgePlanValues=(Z,re,ae,se)=>{if(ae<=re)return"Your founding price must be greater than your yearly price";const be=G({value:Z,interval:"month",is_founding:!1,currency:se});if(be)return be;const _e=G({value:re,interval:"year",is_founding:!1,currency:se});if(_e)return _e;const pe=G({value:ae,interval:"year",is_founding:!0,currency:se});return pe||null},u.decimalToPercentString=Z=>{let re=Z;return typeof Z=="string"&&(re=parseFloat(Z)),`${Math.round(re*100)}%`};const ye=new Intl.DateTimeFormat(void 0,{timeStyle:"short"}),ue=new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric"}),oe=new Intl.DateTimeFormat(void 0,{dateStyle:"long"}),te=new Intl.DateTimeFormat(void 0,{dateStyle:"long"});u.formatPostDate=(Z,{includeTime:re}={})=>{const ae=$(Z),se=$();return ae.isBefore(se.startOf("year"))?oe.format(ae.toDate())+(re?` at ${ye.format(ae.toDate())}`:""):ae.isBefore(se.startOf("day"))?ue.format(ae.toDate())+(re?` at ${ye.format(ae.toDate())}`:""):ae.isAfter(se.endOf("year"))?te.format(ae.toDate())+(re?` at ${ye.format(ae.toDate())}`:""):ae.isAfter(se.endOf("day"))?ue.format(ae.toDate())+(re?` at ${ye.format(ae.toDate())}`:""):ye.format(ae.toDate())},u.getBanMessage=Z=>{const re=ae=>`We've removed your publication from public view due a violation of Substack's ${ae}. If you believe this was a mistake, you can submit an appeal to our Trust & Safety team`;switch(Z){case"hate":return re("Hate policy");case"illegal":return re("Illegal & Harmful Activities policy");case"impersonation":return re("Impersonation policy");case"plagiarism":return re("Plagiarism policy");case"porn":return re("Nudity, Porn, & Erotica policy");case"private_information":return re("Private Information policy");case"spam":return re("Spam & Phishing policy");default:return re("Content Guidelines, Terms of Service, or Publisher Agreement")}}},702:(z,u,e)=>{"use strict";e.d(u,{Z:()=>I});var o=e(6400),f=e(30396),l=e(94184),c=e.n(l),g=e(80569),v=e.n(g),E=e(7922),y=e(1138),p=e(96789),O=e(61152),S=e(89018),x=e.n(S),T=e(39419),_=e.n(T),d=(D,N,C)=>new Promise((A,L)=>{var U=$=>{try{G(C.next($))}catch(q){L(q)}},W=$=>{try{G(C.throw($))}catch(q){L(q)}},G=$=>$.done?A($.value):Promise.resolve($.value).then(U,W);G((C=C.apply(D,N)).next())});const s=({className:D,pub:N,comment:C,onClose:A,onReportSuccess:L})=>{const U=(0,f.sO)(null),[W,G]=(0,f.eJ)(!1),$={Report:0,Confirm:1},[q,J]=(0,f.eJ)($.Report),R=ie=>d(void 0,null,function*(){if(ie===""){alert("Please enter a reason!");return}G(!0);try{yield v().post(`/api/v1/comment/${C.id}/report`).send({publication_id:N==null?void 0:N.id,reason:ie}),L(),J($.Confirm)}catch(le){alert((0,T.getNetworkErrorMessage)(le))}finally{G(!1)}}),j=()=>{var ie;(ie=U==null?void 0:U.current)==null||ie.close()};return(0,f.d4)(()=>{var ie;(ie=U==null?void 0:U.current)==null||ie.open()},[]),(0,o.h)(p.p,{className:c()("report-comment-modal",D),ref:U,onClose:A},q===$.Report?(0,o.h)(w,{pub:N,reportComment:R,reporting:W,closeModal:j}):(0,o.h)(P,{pub:N,closeModal:j}))},w=({pub:D,reportComment:N,reporting:C,closeModal:A})=>{const[L,U]=(0,f.eJ)("");return(0,o.h)(o.Fragment,null,(0,o.h)("h4",null,"Report ",D?`to ${D.name} admins`:"note"),(0,o.h)("p",null,"Thanks for reporting this ",D?"comment":"note","."," ",D?(0,o.h)(o.Fragment,null,"Only the admins of ",(0,o.h)("span",{className:"weight"},D.name)," will see your name and the content of this report."):"Please help us understand the issue."),(0,o.h)(O.Z,{placeholder:"Describe why you\u2019re reporting this comment...",maxLines:8,value:L,onInput:W=>U(W.target.value)}),(0,o.h)("div",{className:"buttons"},(0,o.h)(E.Z,{className:"secondary",onClick:A},(0,o.h)("span",null,"Cancel")),(0,o.h)(E.Z,{className:"primary",onClick:()=>N(L),disabled:L===""||C},(0,o.h)("span",null,C?"Loading...":"Submit"))))},P=({pub:D,closeModal:N})=>(0,o.h)(o.Fragment,null,(0,o.h)(y.Z,{stroke:(D==null?void 0:D.theme_var_background_pop)||S.substack_color}),(0,o.h)("h4",null,"Thanks for your report"),D?(0,o.h)("p",null,"The admins of ",(0,o.h)("span",{className:"weight"},D.name)," will review this comment."):(0,o.h)("p",null,"We will review this note."),(0,o.h)("div",{className:"buttons"},(0,o.h)(E.Z,{className:"primary",onClick:N},(0,o.h)("span",null,"Done")))),I=s},37888:(z,u,e)=>{"use strict";e.d(u,{j0:()=>ye});var o=e(7436),f=e.n(o),l=e(62195),c=e.n(l),g=e(39627),v=e.n(g),E=e(8728),y=e.n(E),p=Object.defineProperty,O=Object.defineProperties,S=Object.getOwnPropertyDescriptors,x=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,d=(oe,te,Z)=>te in oe?p(oe,te,{enumerable:!0,configurable:!0,writable:!0,value:Z}):oe[te]=Z,s=(oe,te)=>{for(var Z in te||(te={}))T.call(te,Z)&&d(oe,Z,te[Z]);if(x)for(var Z of x(te))_.call(te,Z)&&d(oe,Z,te[Z]);return oe},w=(oe,te)=>O(oe,S(te));const P=c().createStore([v(),y()],[]),I=".buffer",D="ss-version-backups-local",N=32,C=4,A=null,L=oe=>{var te,Z,re,ae;return(Z=(te=window._preloads)==null?void 0:te.pub)!=null&&Z.id?(ae=(re=window._preloads)==null?void 0:re.user)!=null&&ae.id?W().filter(se=>!(se.publication_id!==window._preloads.pub.id||se.user_id&&se.user_id!==window._preloads.user.id||se.post_id!==oe||se.local_version_saved_at&&Date.now()-new Date(se.local_version_saved_at)>A)):[]:[]},U=oe=>{if(!(oe!=null&&oe.post_id)||!(oe!=null&&oe.draft_updated_at)||!(oe!=null&&oe.draft_body))return;const te=W();if(te.filter(ae=>ae.post_id===oe.post_id).length>=C){const ae=findLastIndex(te,se=>se.post_id===oe.post_id);ae>=0&&te.splice(ae,1)}const re=[oe].concat(te.filter(ae=>ae.post_id!==oe.post_id||ae.draft_updated_at!==oe.draft_updated_at&&ae.draft_body&&ae.draft_body!==oe.draft_body)).slice(0,N);ue(D,re)},W=()=>P.get(D,[]).filter(Boolean),G=()=>P.get(D+I,{}),$=oe=>{var te,Z;(te=window._preloads.pub)!=null&&te.id&&(Z=window._preloads.user)!=null&&Z.id&&oe!=null&&oe.post_id&&oe!=null&&oe.draft_updated_at&&oe!=null&&oe.draft_body&&ue(D+I,w(s({},oe),{publication_id:window._preloads.pub.id,user_id:window._preloads.user.id,local_version_saved_at:new Date}))},q=()=>{P.remove(D+I)},J=oe=>{if(!(oe!=null&&oe.post_id)||!(oe!=null&&oe.draft_updated_at))return;const Z=W().filter(re=>re.post_id!==oe.post_id||re.draft_updated_at!==oe.draft_updated_at);ue(D,Z)},R=({postId:oe,editorId:te})=>!!W().find(re=>re.post_id===oe&&re.editor_id&&re.editor_id!==te),j=({postId:oe,editorId:te})=>{const re=W().filter(ae=>ae.editor_id?ae.post_id!==oe||ae.editor_id!==te:!1);ue(D,re)},ie=()=>{const oe=G();oe!=null&&oe.draft_body&&(U(oe),q())},le=()=>{q(),P.remove(D)},ye=oe=>{(!oe||W().find(te=>te.user_id&&te.user_id!==oe))&&le()},ue=(oe,te)=>{try{if(P.set(oe,te),JSON.stringify(P.get(oe))!==JSON.stringify(te))throw new Error("localStorage.setItem claimed to work but then getItem didnt return the expected value for key=",oe)}catch(Z){console.error("localStorage.setItem failed:",Z),le()}}},56242:(z,u,e)=>{"use strict";var o;const{TASTEMAKER_CATEGORY_NAME:f,COMMUNITY_PICKS_CATEGORY_NAME:l}=e(83322);o=(c,g)=>{if(!c)return"featured";if(c==="featured"||c==="twitter"||c==="podcast"||c===l||c===f)return c;const v=g.find(E=>E.slug===c);return v?v.id:"featured"}},94930:(z,u)=>{"use strict";u.isCouponValid=(e,{is_group:o,is_gift:f,paywallFreeTrialEnabled:l})=>!(!e||!e.valid||e.max_redemptions&&e.max_redemptions<=e.times_redeemed||e.group_only&&!o||e.redeem_by&&new Date(e.redeem_by)<new Date||e.type==="FREE_TRIAL"&&(!l||f||o)),u.isCouponValidForPlan=(e,o)=>!e||!o||o.metadata.unlimited_group?!1:o.metadata.no_coupons?!!(e.founding_only&&o.metadata.founding):!(o.interval==="forever"||e.yearly_only&&o.interval!=="year"||e.monthly_only&&o.interval!=="month"||e.duration==="repeating"&&(o.interval==="month"&&e.duration_in_months%o.interval_count!==0||o.interval==="year"&&e.duration_in_months%(o.interval_count*12)!==0)||e.amount_off&&e.currency&&e.currency!==o.currency),u.isEmailValidEdu=(e,o)=>{const f=o.filter(g=>g.is_suffix);return o.filter(g=>!g.is_suffix).find(g=>e.split("@").pop().startsWith(g.pattern))||f.find(g=>e.endsWith(g.pattern))},u.isCouponValidForEmail=(e,o,f)=>!(e.edu_only&&!u.isEmailValidEdu(o,f)||e.allowed_suffixes&&!e.allowed_suffixes.split(/, */).find(c=>o.toLowerCase().endsWith(c.toLowerCase()))),u.getDiscountedAmount=(e,o)=>{let f=e.amount;return o&&u.isCouponValidForPlan(o,e)&&(o.percent_off?f=Math.round(f*(1-(o.percent_off_precise||o.percent_off)/100)):o.amount_off&&(f=Math.max(0,f-o.amount_off))),f}},85928:(z,u,e)=>{"use strict";var o=Object.defineProperty,f=Object.defineProperties,l=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,E=(x,T,_)=>T in x?o(x,T,{enumerable:!0,configurable:!0,writable:!0,value:_}):x[T]=_,y=(x,T)=>{for(var _ in T||(T={}))g.call(T,_)&&E(x,_,T[_]);if(c)for(var _ of c(T))v.call(T,_)&&E(x,_,T[_]);return x},p=(x,T)=>f(x,l(T));const O=e(27484);z.exports=O,O.extend(e(28734)).extend(e(10285)).extend(e(92997)).extend(e(1646)).extend(e(66607)).extend(e(10423)).extend(e(79212)).extend(e(37412)).extend(e(96671)).extend(e(84110)).extend(e(70178)).extend(e(55183)).extend(e(29387)).extend(e(94712)).extend(e(6833)).extend(e(90850)).extend(e(10423)).extend(S);function S(x,T,_){T.prototype.standardDateOrTime=function({long:N=!1}={}){if(this.add(1,"day").isBeforeNow())return this.standardDate();{const C=this.locale(),{iString:A}=I18N.i(C),{secondsToLargestUnit:L}=e(83322),U=_().diff(this,"seconds");return U<60?A("just now"):L(U,{long:N,language:C,appendAgo:!0})}},T.prototype.startOfLastWeekday=function(){return(this.day()>1?this.subtract(1,"day"):this.subtract(this.day()+2,"day")).utc().startOf("day")},T.prototype.readerDateTime=function(){const N=this.locale(),{iString:C}=I18N.i(N),A=this.diff(_(),"day");let L;return A===0?L=this.format("h:mm a"):A===-1?L=C("Yesterday"):A>-7?L=this.standardDate():L=this.standardDate(),L},T.prototype.standardDate=function({full:N=!1}={}){return!N&&this.isSame(_(),"year")?this.format("MMM D"):this.format("MMM D, YYYY")},T.prototype.standardTime=function(){return this.format("MM-DD-YYYY")===_().format("MM-DD-YYYY")?this.format("h:mm a"):this.standardDate()},T.prototype.standardTimeWithSeconds=function(){return this.format("MM-DD-YYYY")===_().format("MM-DD-YYYY")?this.format("h:mm:ss a"):this.standardDate()},T.prototype.standardDatetime=function(){return this.format("MMM D [at] h:mm a")},T.prototype.standardDatetimeWithYear=function(){const N=_().year();return this.year()!=N?this.format("MMM D, YYYY [at] h:mm a"):this.format("MMM D [at] h:mm a")},T.prototype.min=function(...N){let C=this;for(let A of N)A=_(A),C.isAfter(A)&&(C=A);return C},T.prototype.max=function(...N){let C=this;for(let A of N)A=_(A),C.isBefore(A)&&(C=A);return C},T.prototype.minNow=function(){return this.min(_())},T.prototype.maxNow=function(){return this.max(_())},T.prototype.isBeforeNow=function(N){return this.isBefore(_(),N)},T.prototype.isAfterNow=function(N){return this.isAfter(_(),N)},T.prototype.isSameNow=function(N){return this.isSame(_(),N)};const d=_.en,s=p(y({},d),{relativeTime:{future:"in %s",past:"%s",s:"just now",m:"1m",mm:"%dm",h:"1h",hh:"%dh",d:"1d",dd:"%dd",M:"1mo",MM:"%dmo",y:"1y",yy:"%dy"}}),w=e(80790),P=p(y({},w),{relativeTime:{future:"an %s",past:"vor %s",s:"ein paar Sekunden",m:"einer Minute",mm:"%d Minuten",h:"einer Stunde",hh:"%d Stunden",d:"einem Tag",dd:"%d Tagen",M:"einem Monat",MM:"%d Monaten",y:"einem Jahr",yy:"%d Jahren"}}),I=p(y({},w),{relativeTime:{future:"an %s",past:"%s",s:"soeben",m:"1M",mm:"%dMin",h:"1S",hh:"%dS",d:"1T",dd:"%dT",M:"1Mon",MM:"%dMon",y:"1J",yy:"%dJ"}}),D=_.locale();_.locale("enshort",s),_.locale("de",P),_.locale("deshort",I),_.locale(D),T.prototype.fromNowShort=function(){return this.locale()==="de"?this.locale("deshort").fromNow():d?this.locale("enshort").fromNow():this.fromNow()}}},42395:z=>{"use strict";z.exports=u=>(u||"").replace(/&#(\d+);/g,(e,o)=>String.fromCharCode(o))},6378:(z,u)=>{"use strict";u.isMultiPub=c=>c?c.child_publications&&c.child_publications.length>0:!1,u.isSectionedPub=c=>{var g;return!!(c!=null&&c.sections)&&((g=c.sections)==null?void 0:g.length)>0},u.canAddSections=c=>{var g;return!(!c||(g=c.child_publications)!=null&&g.length||c.parent_publication_id||c.parent_publication)},u.canEditNavigationBar=c=>{var g;return!(!c||(g=c.child_publications)!=null&&g.length||c.parent_publication_id||c.parent_publication)},u.hasMultiplePodcasts=c=>e(c)>1;const e=c=>{let g=[];return u.isMultiPub(c)&&(g=u.getMultiPubChildPodcasts(c)),u.isSectionedPub(c)&&(g=u.getSectionPodcasts(c)),(c.podcast_enabled?1:0)+g.length};u.hasPodcast=c=>e(c)>0,u.hasOnePodcast=c=>e(c)===1,u.getMultiPubChildPodcasts=c=>u.isMultiPub(c)?c.child_publications.filter(g=>g.type==="podcast"):[],u.getSectionPodcasts=c=>u.isSectionedPub(c)?c.sections.filter(g=>g.is_podcast):[];const o=c=>c&&!c.includes("substack");u.pubCouldHavePublicPodcastUrl=c=>o(c.podcast_feed_url),u.sectionCouldHavePublicPodcastUrl=c=>{var g;return o((g=c.podcastSettings)==null?void 0:g.podcast_feed_url)},u.userCouldSeePublicPodcastUrls=c=>{if(u.pubCouldHavePublicPodcastUrl(c))return!0;if(u.hasMultiplePodcasts(c)){if(u.isMultiPub(c)){const g=u.getMultiPubChildPodcasts(c);for(const v of g)if(u.pubCouldHavePublicPodcastUrl(v))return!0}if(u.isSectionedPub(c)){const g=u.getSectionPodcasts(c);for(const v of g)if(u.sectionCouldHavePublicPodcastUrl(v))return!0}}return!1},u.userCouldSubscribeToPodcast=(c,g)=>g?u.isMultiPub(g)?!0:!u.hasPodcast(g)||g.hide_podcast_feed_link?!1:g.has_free_podcast?!0:g.has_subscriber_only_podcast?u.userIsPaidSubscriber(c):!1:!1,u.userIsFreeOnly=c=>c?!!(c.is_free_subscribed&&!c.is_subscribed):!1,u.userIsPaidSubscriber=c=>c?!!c.is_subscribed:!1,u.paymentsAreEnabled=c=>c?c.payments_state==="enabled":!1;const f=(c,{usePreview:g=!1,useDraft:v=!1}={})=>{switch(c==null?void 0:c.type){case"newsletter":return v?c.draftVoiceoverUpload:c.voiceoverUpload;case"podcast":return g?v?c.draftPodcastPreviewUpload:c.podcastPreviewUpload:v?c.draftPodcastUpload:c.podcastUpload;case"video":return v?c.draftVideoUpload:c.videoUpload;default:return null}};u.getMediaDuration=(c,{usePreview:g=!1,useDraft:v=!1}={})=>{var E;const y=f(c,{usePreview:g,useDraft:v});if(y)return(E=y.duration)!=null?E:null;if((c==null?void 0:c.type)==="podcast"&&!g){const p=v?c.draft_podcast_duration:c.podcast_duration;return p!=null?p:null}return null},u.getMediaFileSize=(c,{usePreview:g=!1,useDraft:v=!1}={})=>{var E,y;const p=f(c,{usePreview:g,useDraft:v});return p?(E=p.primary_file_size)!=null?E:null:(c==null?void 0:c.type)==="podcast"&&!g&&!v&&(y=c.legacy_podcast_file_size)!=null?y:null},u.podcastPostIsFreePreview=c=>!c||c.type!=="podcast"||!c.podcastUpload?!1:!!c.podcastUpload.is_free_preview,u.hasPodcastPreview=c=>!!c&&!!c.podcast_preview_upload_id,u.getLogo=c=>{var g;return c.logo_url||c.cover_photo_url||c.author_photo_url||((g=c.author)==null?void 0:g.photo_url)},u.getFoundingTierPlan=c=>{var g;return Array.isArray(c==null?void 0:c.plans)&&(g=c.plans.find(v=>{var E;return((E=v.metadata)==null?void 0:E.founding)==="yes"}))!=null?g:null},u.getFoundingTierName=c=>{var g,v;const E=u.getFoundingTierPlan(c);return(v=(g=E==null?void 0:E.metadata)==null?void 0:g.short_description)!=null?v:null},u.mediaUploadHasProblem=c=>!c||!c.state?!1:c.state==="error"||c.state==="cancelled",u.getPaidOrFoundingTierNameForPost=(c,g)=>(g==null?void 0:g.audience)==="founding"&&u.getFoundingTierName(c)||"paid",u.hasVoiceover=c=>!!c&&!!c.voiceover_upload_id,u.canSyndicateVoiceoverDraft=(c,g)=>!c||!g||!u.hasPodcast(c)?!1:!!g.draft_voiceover_upload_id;const l=/\/images\/[-0-9a-fA-F]+_(\d+)x(\d+)(\.png)?$/i;u.getAspectRatioFromBucketeerUrl=c=>{const g=c.match(l);return g?parseInt(g[1])/parseInt(g[2]):null},u.isBulwarkPub=(c,{checkParent:g=!0}={})=>{var v;return g&&c.subdomain==="thebulwark"||((v=c.parent_publication)==null?void 0:v.subdomain)==="thebulwark"}},8221:(z,u)=>{"use strict";var e;let o="";u.S=o},72985:(z,u,e)=>{"use strict";const o=e(71171);u.sluggify=(f,{softMax:l=32,hardMax:c=48,extension:g=!1,extensionSeparator:v="-"}={})=>{let E=u.cleanSlug(f);if(E.length>l){const p=E.indexOf("-",l);p!==-1&&(E=E.substr(0,p))}E.length>c&&(E=E.substr(0,c));const y=g&&typeof g=="string"?g:o().substr(0,3);return E?g&&(E+=`${v}${y}`):E=y,E},u.cleanSlug=(f,{hashIfEmpty:l=!1,allowUnicode:c=!1}={})=>{const g=(f||"").toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim().replace(/\s+/g,"-").replace(/&/g,"-and-").replace(c?/[^\p{L}-]+/gu:/[^\w-]+/g,"").replace(/-+/g,"-").replace(/^-|-$/g,"");return f&&typeof f=="string"&&!g&&l?Array.from(f).map(v=>v.codePointAt(0)).map(v=>v.toString(16)).join("").substring(0,12):g}},15045:(z,u,e)=>{"use strict";var o=Object.defineProperty,f=Object.defineProperties,l=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,E=(we,We,Ie)=>We in we?o(we,We,{enumerable:!0,configurable:!0,writable:!0,value:Ie}):we[We]=Ie,y=(we,We)=>{for(var Ie in We||(We={}))g.call(We,Ie)&&E(we,Ie,We[Ie]);if(c)for(var Ie of c(We))v.call(We,Ie)&&E(we,Ie,We[Ie]);return we},p=(we,We)=>f(we,l(We)),O=(we,We)=>{var Ie={};for(var tt in we)g.call(we,tt)&&We.indexOf(tt)<0&&(Ie[tt]=we[tt]);if(we!=null&&c)for(var tt of c(we))We.indexOf(tt)<0&&v.call(we,tt)&&(Ie[tt]=we[tt]);return Ie};const{cleanSlug:S}=e(72985),{substack_color:x}=e(89018),{CDN_URL:T,substackDomain:_,getSubscribeUrl:d,serializeQuery:s,pathWithQuery:w,getBaseUrl:P,getSubstackUrl:I,getHostname:D,_getUrl:N,getBaseAppLinkUrl:C,getLikelyLoggedInParam:A,getPubAccountSettingsUrl:L,getPostDashboardUrl:U,getDashboardHomeUrl:W,getSubscriberDashboardUrl:G,getProfileUrlById:$,getReaderProfileUrl:q,imginary:J,unimginary:R,extractDimensionsFromImageUrl:j,getPodcastRssUrlFromIds:ie,parseUrl:le,getPublishBaseUrl:ye,getPublishSettingsUrl:ue,getDonateSubscriptionUrl:oe,stripeBaseUrl:te,getPostUrl:Z,getPostUrlBySlug:re,getEditPostUrlById:ae,getGroupManagementUrl:se,getConnectTwitterUrl:be,getPubConnectTwitterUrl:_e,getCancelOrUncancelUrl:pe,getSubstackUrlWithDomain:me,getManageGroupSubscriptionUrl:Te,getPostDetailsShareCenterUrl:ve}=e(20501),{getPostCommentsUrl:ce}=e(36250),{getUserPhotoUrl:Le,getDefaultUserPhotoById:Ne,DEFAULT_PHOTO_URL:He}=e(96702),{getProfileSetupUrl:ze}=e(2731),Xe=[/\/embed\/podcast\//];u.TWITTER_CARD_WIDTH=504,u.TWITTER_CARD_HEIGHT=264,u.TWITTER_CARD_LOGO_SIZE=70,u.USER_BAN_APPEAL_URL="https://support.substack.com/hc/en-us/requests/new?ticket_form_id=14793522353556&tf_14811460381460=i_m_a_subscriber/reader_only_&tf_14818406375316=i_am_unable_to_comment_or_publish_to_notes_",u.IMPORT_FILE_TOO_LARGE_URL="https://support.substack.com/hc/en-us/requests/new?ticket_form_id=18072253847444&tf_18071211318676=my_import_file_is_too_large_",u.getBaseUrl=P,u.getSubstackUrl=I,u.getSubstackUrlWithDomain=me,u.getBaseAppLinkUrl=C,u.getHostname=D,u.serializeQuery=s,u.pathWithQuery=w,u.getLikelyLoggedInParam=A,u.getPubAccountSettingsUrl=L,u.getPostDashboardUrl=U,u.getSubscriberDashboardUrl=G,u.getProfileUrlById=$,u.getReaderProfileUrl=q,u.imginary=J,u.unimginary=R,u.extractDimensionsFromImageUrl=j,u.parseUrl=le,u.getPublishBaseUrl=ye,u.getPublishSettingsUrl=ue,u.getDonateSubscriptionUrl=oe,u.stripeBaseUrl=te,u.getPostUrl=Z,u.getPostUrlBySlug=re,u.getEditPostUrlById=ae,u.getGroupManagementUrl=se,u.getDashboardHomeUrl=W,u.getConnectTwitterUrl=be,u.getPubConnectTwitterUrl=_e,u.getCancelOrUncancelUrl=pe,u.getPostCommentsUrl=ce,u.getPodcastRssUrlFromIds=ie,u.getManageGroupSubscriptionUrl=Te,u.getUserPhotoUrl=Le,u.getDefaultUserPhotoById=Ne,u.DEFAULT_PHOTO_URL=He,u.getProfileSetupUrl=ze,u.getPostDetailsShareCenterUrl=ve,u.updateQuery=function(we,We,{skipHash:Ie=!1}={}){typeof we=="object"&&(We=we,we=document.location.pathname+document.location.search+document.location.hash);let tt=u.pathWithQuery(we.split("?")[0].split("#")[0],Object.assign(u.parseQuery(we),We));return we.indexOf("#")!==-1&&!Ie&&(tt+=we.substr(we.indexOf("#"))),tt},u.parseQuery=function(we){const We={},Ie=((we==null?void 0:we.split("?")[1])||"").split("#")[0].trim();if(Ie){const tt=Ie.split("&");for(let et=0;et<tt.length;et++){const ht=tt[et].split("=");We[decodeURIComponent(ht[0])]=decodeURIComponent(ht.slice(1).join("="))}}return We},u.getQueryItem=(we,We)=>{if(typeof We!="string"){if(typeof window=="undefined"||!(window!=null&&window.location))return null;We=we,we=window.location.href}const Ie=u.parseQuery(we);if(We in Ie)return Ie[We]},u.getPubUrl=(we,{params:We={},signedIn:Ie=!1}={})=>{const tt=A(Ie,we);return u.pathWithQuery(`${u.getBaseUrl(we)}/`,y({lli:tt},We))},u.getCallbackUrl=we=>`${u.getBaseUrl({subdomain:"callback"})}${we}`,u.getTld=we=>{try{return new URL(we).hostname.split(".").slice(-2).join(".")}catch(We){return null}},u.cdnSvg=we=>!we||!we.startsWith("/")||we.startsWith("//")||!/\.svg(\?|#|$)/.test(we)?we:`${T}/${we}`,u.stripProtocol=we=>(we||"").replace(/^(\w+:)?\/\//g,""),u.getUndergroundUrl=we=>{const Ie=N(`admin.${_}`);return we?`${Ie}/publications/${we}`:Ie},u.getStockLandingUrl=we=>`${N(`${_}`)}/discover/stocks/${we}`,u.getUserUndergroundUrl=we=>{const Ie=N(`admin.${_}`);return we?`${Ie}/users/${we}`:Ie},u.getBaseReaderUrl=({utm_source:we}={})=>{const We=_,Ie="reader";return u.pathWithQuery(N(`${Ie}.${We}`),{utm_source:we})},u.getReaderSignupUrl=we=>u.pathWithQuery(`${N(_)}/browse`,p(y({},we),{action:"signup"})),u.getReaderUrl=(we,{query:We}={})=>{const Ie=_;return u.pathWithQuery(`${N(Ie)}${we}`,We)},u.getNotificationsUrl=we=>u.getReaderUrl("/activity",{query:we}),u.getLibraryUrl=we=>u.getReaderUrl("/library",{query:we}),u.getFeedUrl=we=>u.getReaderUrl("/feed",{query:we}),u.getChatUrl=we=>u.getReaderUrl("/chat",{query:we}),u.getSavedPostsUrl=we=>u.getReaderUrl("/saved",we),u.getDeprecatedPostAppLinkUrl=(we,We,{params:Ie={},redirect:tt=null,source:et=null,postUuid:ht=null}={})=>{const vt=ht?`${u.getSubstackUrl()}/app-link/publications/${we}/drafts/${ht}`:`${u.getSubstackUrl()}/app-link/post`,Lt=y({publication_id:we,post_id:We,utm_source:et,redirect:tt},Ie);return u.pathWithQuery(vt,Lt)},u.getPostAppLinkUrl=(we,We,{params:Ie={},redirect:tt=null,source:et=null,postUuid:ht=null,inbox:vt=null,hostOverride:Lt=null}={})=>{if(!we||!We)return"";const $t=Lt?ht?`${Lt}/p/${ht}`:`${Lt}/p/${We}`:ht?`${u.getBaseAppLinkUrl()}/pub/${we}/drafts/${ht}`:`${u.getBaseAppLinkUrl()}/pub/${we}/p/${We}`,yt=y({utm_source:et,redirect:tt,inbox:vt},Ie);return u.pathWithQuery($t,yt)},u.getPostCommentInContextUrl=function(we,We,Ie,tt=3){if(!Ie.ancestor_path)return u.getPostCommentsUrl(we,We,Ie);const et=Ie==null?void 0:Ie.ancestor_path.split("."),ht=et.length<tt?0:et.length-tt;return u.getPostUrl(we,We,{comments:!0,commentId:Ie.id,commentContextId:et[ht]})},u.getPodcastLandingUrl=({pub:we,section:We,addBase:Ie=!0})=>{We=We||we.section;const tt=Ie?u.getBaseUrl(we):"";return We?`${tt}/listen/${We.slug||We.id}`:`${tt}/podcast`},u.getEditSectionUrl=(we,{addBase:We,type:Ie,id:tt}={})=>`${We?u.getBaseUrl(we):""}/publish/settings/${Ie}/${tt}`,u.getArchiveUrl=(we,{params:We}={})=>{const Ie=we.section?`/s/${we.section.slug||we.section.id}`:"";return u.pathWithQuery(`${Ie}/archive`,We)},u.getBaseArchiveUrl=(we,{addBase:We,params:Ie}={})=>{const tt=We?u.getBaseUrl(we):"";return u.pathWithQuery(`${tt}/archive`,Ie)},u.getAboutUrl=(we,{addBase:We,params:Ie}={})=>{const tt=We?u.getBaseUrl(we):"";return u.pathWithQuery(`${tt}/about`,Ie)},u.getSitemapUrl=(we,{addBase:We,params:Ie}={})=>{const tt=We?u.getBaseUrl(we):"";return u.pathWithQuery(`${tt}/sitemap`,Ie)},u.getDashboardUrlForSubdomain=(we,{params:We}={})=>{const Ie=`${u.getBaseUrl({subdomain:we})}/publish/home`;return u.pathWithQuery(Ie,We)},u.getFindTwitterPubsUrl=we=>u.pathWithQuery(`${u.getSubstackUrl()}/twitter/find-pubs`,we),u.getPodcastingUrl=(we,{addBase:We,params:Ie,slug:tt,isSection:et}={})=>{let vt=`${We?u.getBaseUrl(we):""}/publish/podcasting`;return tt&&(et?vt=`${vt}/s/${tt}`:vt=`${vt}/${tt}`),Ie?u.pathWithQuery(vt,Ie):vt},u.getCreatePostUrl=(we,We={})=>{var Ie=We,{baseUrl:tt=null}=Ie,et=O(Ie,["baseUrl"]);return u.pathWithQuery(`${tt!=null?tt:u.getBaseUrl(we)}/publish/post`,et)},u.getCreateMarketingPostUrl=(we,We)=>u.pathWithQuery(`${u.getBaseUrl(we)}/publish/post/marketing`,We),u.getSubscriberStatsUrl=(we,{addBase:We,params:Ie}={})=>{const tt=We?u.getBaseUrl(we):"";return u.pathWithQuery(`${tt}/publish/subscribers`,Ie)},u.getAddSubscriberUrl=we=>"/publish/subscribers/add",u.getVerifyImportDoubleOptinUrl=(we,We)=>`${u.getBaseUrl(we)}/publish/subscribers/add?conditional_import_id=${We}`,u.getIgnoreImportDoubleOptinUrl=(we,We)=>`${u.getBaseUrl(we)}/publish/subscribers/add?conditional_import_id=${We}`,u.getDomainConfigUrl=(we,{payment:We}={})=>`/publish/domain${We?"/pay":""}`,u.getDomainMigrateUrl=we=>"/publish/domain/migrate",u.getDomainStatusUrl=()=>"/publish/domain/status",u.getSubscriberDetailsUrl=(we,We,{addBase:Ie,tab:tt}={})=>{const et=Ie?u.getBaseUrl(we):"";return u.pathWithQuery(`${et}/publish/subscribers/legacy`,{email:We,tab:tt})},u.getGroupDetailsUrl=we=>`/publish/groups/${we}`,u.getManageGroupsUrl=()=>"/publish/groups",u.getCheckoutUrl=function(we,We={}){const Ie=u.pathWithQuery(`${u.getBaseUrl(we)}/subscribe`,We);return Ie.indexOf("?")===-1?`${Ie}?`:Ie},u.getFoundingCheckoutUrl=function(we){return`${u.getBaseUrl(we)}/subscribe?plan=founding&`},u.getLoginUrl=(we={})=>u.pathWithQuery("/account/login",we),u.getMfaUrl=(we={})=>u.pathWithQuery(`${u.getSubstackUrl()}/sign-in/mfa`,we),u.getGlobalAccountRedirectForPub=(we,We,Ie)=>{const tt=we==null?void 0:we.subdomain;return u.pathWithQuery(`${u.getSubstackUrl()}${We}`,{redirect:Ie,for_pub:tt})},u.getWriterReferralUrl=(we,We={})=>{if(we)return u.pathWithQuery(`${u.getSubstackUrl()}/refer/${we}`,We)},u.getWriterReferralSettingsUrl=({utm_source:we,utm_context:We,utm_content:Ie}={})=>u.pathWithQuery(`${u.getSubstackUrl()}/referral`,{utm_source:we,utm_context:We,utm_content:Ie}),u.getGlobalAccountSettingsUrl=({utm_source:we,section:We,highlightNotification:Ie}={})=>u.pathWithQuery(`${u.getSubstackUrl()}/settings`,{utm_source:we,section:We,highlightNotification:Ie}),u.getGlobalNotificationSettingsUrl=({highlight:we,utm_source:We}={})=>u.getGlobalAccountSettingsUrl({section:"notifications",highlightNotification:we,utm_source:We}),u.getManageSubscriptionsUrl=({utm_source:we}={})=>u.pathWithQuery(`${u.getSubstackUrl()}/settings/subscriptions`,{utm_source:we}),u.getSharePubUrl=we=>`${u.getBaseUrl(we)}/?utm_source=substack&utm_medium=email&utm_content=share&action=share`,u.getPodcatcherSetupUrlForAllPodcasts=(we,We)=>{var Ie=We,{startAtSubscribeFlow:tt}=Ie,et=O(Ie,["startAtSubscribeFlow"]);let ht=`${u.getBaseUrl(we)}/listen`;if(et){const vt=u.serializeQuery(et);vt&&(ht+=`?${vt}`)}return tt?u.getSubscribeUrl(we,y({addBase:!0,next:ht,skipPodcastSetupPage:!0},et)):ht},u.getPodcatcherSetupUrl=(we,{addBase:We,params:Ie,noSection:tt,section:et,user:ht,startAtSubscribeFlow:vt}={})=>{let Lt="";if(We&&(Lt+=u.getBaseUrl(we)),et=et||(we==null?void 0:we.section),et&&!tt&&(Lt+=`/s/${et.slug||et.id}`),Lt+="/account/add-podcast",ht&&ht.email&&(Ie=p(y({},Ie),{email:ht.email}),Lt+="/email"),Ie){const $t=u.serializeQuery(Ie);$t&&(Lt+=`?${$t}`)}return vt?u.getSubscribeUrl(we,y({addBase:!0,next:Lt,skipPodcastSetupPage:!0},Ie)):Lt},u.getCdnUrl=(we,{cdnUrl:We=T}={})=>we==null?void 0:we.replace(/^https:\/\/(bucketeer[^/]*|substack-post-media|substack-post-media-staging|substack-audio|substack-video|substack-video-staging|substack-content|substack-content-dev)\.s3\.amazonaws\.com/,We);const _t="https://";u.getAsChartableUrl=(we,We)=>we?`${_t}chrt.fm/track/${encodeURIComponent(we)}/${u.stripProtocol(We)}`:We,u.addSpotifyAnalyticsPrefix=we=>`${_t}prfx.byspotify.com/e/${u.stripProtocol(we)}`,u.addPodscribePrefix=we=>`${_t}pscrb.fm/rss/p/${u.stripProtocol(we)}`,u.getCdnUrlForAudio=(we,We,{token:Ie}={})=>(We=u.getCdnUrl(We),we!=null&&we.id&&(We=u.updateQuery(We,{post_id:we.id})),Ie&&(We=u.updateQuery(We,{podcast_rss_token:Ie})),We),u.getClientReadyPodcastUrl=(we,We,{rssToken:Ie})=>{if(We.podcast_upload_id){let tt=u.updateQuery(`${u.getBaseUrl({subdomain:"api"})}/api/v1/audio/upload/${We.podcast_upload_id}/src`,{token:Ie});return we!=null&&we.chartable_token&&(tt=u.getAsChartableUrl(we.chartable_token,tt)),tt}if(We.podcast_url){let tt=u.getCdnUrlForAudio(We,We.podcast_url,{token:Ie});return we!=null&&we.chartable_token&&(tt=u.getAsChartableUrl(we.chartable_token,tt)),tt}return null},u.urlIsRegularlyShownInIframe=we=>{for(let We=0;We<Xe.length;We++)if(Xe[We].test(we))return!0;return!1},u.getCurrentUrlForLoginRedirect=({useOriginalUrl:we})=>{if(we&&typeof window!="undefined"&&window._preloads.original_url)try{const We=new URL(window._preloads.original_url);return`${We.pathname}${We.search}${We.hash}`}catch(We){}return`${document.location.pathname}${document.location.search}${document.location.hash}`},u.getSigninUrl=(we={})=>{const{for_pub:We,email:Ie,with_password:tt,error:et,message:ht,change_user:vt,justTrying:Lt,useOriginalUrl:$t}=we;let{redirect:yt}=we;return typeof yt!="string"&&(yt=u.getCurrentUrlForLoginRedirect({useOriginalUrl:$t})),u.pathWithQuery(`${u.getSubstackUrl()}/sign-in`,{redirect:yt,for_pub:We,email:Ie,with_password:tt,error:et,message:ht,change_user:vt,justTrying:Lt})},u.getTermsUrl=({utm_source:we}={})=>u.pathWithQuery(`${u.getSubstackUrl()}/tos`,{utm_source:we}),u.getGoingPaidUrl=()=>`${u.getSubstackUrl()}/going-paid`,u.getInfoCollectionUrl=({utm_source:we}={})=>`${u.pathWithQuery(`${u.getSubstackUrl()}/ccpa`,{utm_source:we})}#personal-data-collected`,u.getHomeUrl=({utm_source:we}={})=>u.pathWithQuery(`${u.getSubstackUrl()}/home`,{utm_source:we}),u.getPrivacyUrl=({pub:we,utm_source:We,hash:Ie=null}={})=>{const tt=we?`${u.getBaseUrl(we)}`:u.getSubstackUrl(),et=Ie?`#${Ie}`:"";return`${u.pathWithQuery(`${tt}/privacy`,{utm_source:We})}${et}`},u.getLegalUrls=()=>({infoCollection:u.getInfoCollectionUrl(),privacy:u.getPrivacyUrl(),terms:u.getTermsUrl()}),u.getEditProfileUrl=({params:we}={})=>u.pathWithQuery(`${u.getSubstackUrl()}/profile/edit`,we),u.getReaderOnboardingUrl=(we,{isAbbreviated:We,redirect:Ie,postRedirectToast:tt,pubId:et=null}={})=>{let ht=null;if(Ie)try{ht=new URL(Ie),tt&&ht.searchParams.set("profile-setup-message",tt)}catch(vt){ht=new URL(u.getSubstackUrl())}return u.pathWithQuery(`${u.getSubstackUrl()}/reader-onboarding`,{isAbbreviated:We,redirect:ht?ht.toString():null,pubId:et})},u.getDiscoverCategoryUrl=(we,We)=>`${u.getSubstackUrl()}/discover${we?`/category/${we.slug}`:""}${We==="all"?"/all":""}`,u.getDiscoverSearchUrl=({query:we,params:We={}}={})=>{let Ie=`${u.getSubstackUrl()}/search`;return we&&(Ie=`${u.getSubstackUrl()}/search/${encodeURIComponent(we)}`),u.updateQuery(Ie,We)},u.getSubscribeUrl=(we,We={})=>{var Ie=We,{signedIn:tt=!1,addBase:et=!1,root:ht=void 0,user:vt=void 0}=Ie,Lt=O(Ie,["signedIn","addBase","root","user"]);const $t=A(tt,we);return d(we,{root:ht,user:vt,addBase:et,params:y({lli:$t},Lt)})},u.getRecommendationsPageUrl=(we,We={})=>u.pathWithQuery(`${u.getBaseUrl(we)}/recommendations`,We),u.getStartPublishingUrl=(we={})=>u.updateQuery(`${u.getSubstackUrl()}/signup`,we),u.getMigrateFromTwitterUrl=(we={})=>u.updateQuery(`${u.getSubstackUrl()}/twitter-quitter`,we),u.getImportUrl=(we={})=>u.updateQuery(`${u.getSubstackUrl()}/signup/import`,we),u.getPublishStripeAccountImportUrl=(we,{addBase:We=!1,baseUrlOptions:Ie={},params:tt=void 0}={})=>u.pathWithQuery(`${ye(we,{addBase:We,baseUrlOptions:Ie})}/stripe-import`,tt),u.getPublishStatsUrl=(we,{addBase:We,baseUrlOptions:Ie,params:tt}={})=>{const et=We?u.getBaseUrl(we,Ie):"";return u.pathWithQuery(`${et}/publish/stats`,tt)},u.getPublishSettingsRecommendationsUrl=(we,{addBase:We,baseUrlOptions:Ie,params:tt}={})=>{const et=We?u.getBaseUrl(we,Ie):"";return u.pathWithQuery(`${et}/publish/settings/recommendations`,tt)},u.getPublishStatsRecommendationsUrl=(we,{addBase:We,baseUrlOptions:Ie,params:tt}={})=>{const et=We?u.getBaseUrl(we,Ie):"";return u.pathWithQuery(`${et}/publish/recommendations`,tt)},u.getManageBlurbsUrl=(we,{addBase:We,baseUrlOptions:Ie,params:tt}={})=>{const et=We?u.getBaseUrl(we,Ie):"";return u.pathWithQuery(`${et}/publish/settings/blurbs`,tt)},u.getManageReaderReferralSettingsUrl=we=>{const We=u.getBaseUrl(we);return u.pathWithQuery(`${We}/publish/settings/`,{search:"referral"})},u.getPublishModerationUrl=(we,{addBase:We=!1,baseUrlOptions:Ie={}}={})=>`${ye(we,{addBase:We,baseUrlOptions:Ie})}/moderation`,u.getPublicationPodcastUrl=we=>"/publish/settings/podcast/edit",u.getInviteUrl=we=>`${u.getBaseUrl(we)}/invite`,u.getProfileSlug=we=>{let We=`${we.author_id||we.id}`;const Ie=S(we.author_id?we.author_name:we.name,{hashIfEmpty:!0});return Ie&&(We+=`-${Ie}`),We},u.getProfileUrl=(we,We,{utm_source:Ie}={})=>u.getReaderProfileUrl(we,{utm_source:Ie}),u.getPodcastRssUrl=({pub:we,token:We=null})=>{var Ie;if(we.section){const{section:et}=we;if((Ie=et.podcastSettings)!=null&&Ie.podcast_feed_url)return et.podcastSettings.podcast_feed_url;let ht=`${u.getBaseUrl({subdomain:"api"})}/feed/podcast/${we.id}/s/`;return We?ht+=`${et.id}/private/${We}.rss`:ht+=`${et.id}.rss`,ht}else if(we.podcast_feed_url)return we.podcast_feed_url;let tt=`${u.getBaseUrl({subdomain:"api"})}/feed/podcast/${we.id}`;return We?tt+=`/private/${We}.rss`:tt+=".rss",tt},u.getSupportEmail=(we,{noOverride:We}={})=>{if(we){if(we.support_email&&!We)return we.support_email}else return"support@substack.com";return`support+${we.subdomain}@substack.com`},u.getSupportUrl=(we,We)=>`https://support.substack.com/hc/en-us?s=${encodeURIComponent(u.getSupportEmail(we,We))}`,u.getPostSelectionPreviewUrl=(we,We,Ie,tt)=>{const et=u.getPostSelectionPreviewSvgUrl(we,We,Ie,tt);return u.imginary(et,null,{skipDomainValidation:!0,quality:"auto:best",version:9})},u.getPostSelectionPreviewSvgUrl=(we,We,Ie,tt)=>u.pathWithQuery(`${u.getBaseUrl(we)}/api/v1/post_selection_preview/${We.id}/${Ie}.svg`,y({},tt)),u.getPostSelectionMediaUrl=(we,We,Ie,tt,et)=>{const ht=u.getPostSelectionMediaSvgUrl(we,We,Ie,tt);return u.imginary(ht,null,{skipDomainValidation:!0,quality:"auto:best",version:9,attachment:!!et,filename:et})},u.getPostSelectionMediaSvgUrl=(we,We,Ie,tt)=>u.pathWithQuery(`${u.getBaseUrl(we)}/api/v1/post_selection_image/${We.id}/${Ie}.jpg`,y({},tt)),u.getTwitterAccountUrl=we=>`https://twitter.com/${we}`,u.getInstagramAccountUrl=we=>`https://instagram.com/${we}`,u.getTiktokAccountUrl=we=>`https://tiktok.com/@${we}`,u.getYoutubeAccountUrl=we=>`https://youtube.com/channel/${we}`,u.getTwitterSubscribeCardUrl=we=>u.imginary(`${u.getTwitterSubscribeCardSvgUrl(we)}`,null,{quality:"auto:best",version:9,skipDomainValidation:!0}),u.getTwitterSubscribeCardSvgUrl=we=>{const{hashString:We}=e(83322);let Ie=`${u.getBaseUrl(we,{forceSubdomain:!0})}/twitter/subscribe-card.jpg`;const tt=`${we.logo_url}:${we.hero_text}:${we.name}:${we.author_name}:${we.subdomain}`,et=We(tt);return et?Ie+=`?v=${et}`:Ie+="?v=bust",Ie},u.getPressKitUrl=(we,We,Ie,tt)=>{const et=u.getPressKitImageUrl(we,We,Ie);return u.imginary(et,null,{quality:"auto:best",skipDomainValidation:!0,version:10,attachment:!!tt,filename:tt})},u.getPressKitImageUrl=(we,We,Ie)=>{const{hashString:tt}=e(83322),et=tt(`${We.social_title+We.title+We.description+We.cover_image}`);return u.pathWithQuery(`${u.getBaseUrl(we,{forceSubdomain:!0})}/api/v1/press_kit/${We.id}.jpg`,p(y({},Ie),{isDraft:We.is_draft,hash:et}))},u.getPressKitDownloadUrl=(we,We,Ie)=>u.pathWithQuery(`${u.getBaseUrl(we,{forceSubdomain:!0})}/api/v1/press_kit/all/${We.id}`,{aspectRatio:Ie,isDraft:We.is_draft}),u.getLatexUrl=we=>{const We=u.getLatexImageUrl(we);return u.imginary(We,null,{quality:"auto:best",version:9})},u.getLatexImageUrl=we=>u.pathWithQuery("/api/v1/latex/jpeg",{expression:we}),u.getBestsellerAssetUrl=we=>{const We=`${u.getBaseUrl(null,{forceSubdomain:!0})}/api/v1/profile_assets/${we.id}-bestseller.jpg`;return u.imginary(We,null,{quality:"auto:best",skipDomainValidation:!0,version:9})},u.getBestsellerShareCardUrl=we=>{const We=`${u.getBaseUrl(null,{forceSubdomain:!0})}/api/v1/profile_assets/${we.id}-bestseller-share-card.jpg`;return u.imginary(We,null,{quality:"auto:best",skipDomainValidation:!0,version:9})},u.getThreadDeepLinkUrl=we=>`substack://publications/${we.id}/threads`,u.isPublishPath=(we,We)=>we.startsWith("/publish"),u.looksLikePostUrl=we=>{const We=u.parseUrl(we);return We?We.pathname.startsWith("/p/"):!1},u.getPostSlug=we=>u.looksLikePostUrl(we)?u.parseUrl(we).pathname.split("/")[2]:null,u.looksLikePostCommentsUrl=we=>{if(!u.looksLikePostUrl(we))return!1;const Ie=u.parseUrl(we).pathname.split("/");return Ie.length===4&&Ie[3]==="comments"},u.getSignoutUrl=({redirect:we,for_pub:We,utm_source:Ie}={})=>(we=we||"",u.pathWithQuery(`${u.getSubstackUrl()}/sign-out`,{redirect:we,for_pub:We,utm_source:Ie})),u.getPodcastOnboardingUrl=we=>`/publish/podcast/new?referrer=${encodeURIComponent(we)}`,u.getUrlExtension=we=>{try{const Ie=new URL(we).pathname.match(/\.(\w+)$/);return Ie?Ie[0]:null}catch(We){return null}},u.EMAIL_CONTENT_WIDTH=550,u.WEB_CONTENT_WIDTH=728,u.WEB_CONTENT_WIDTH_MOBILE=424,u.WEB_RESPONSIVE_IMAGE_WIDTHS=[u.WEB_CONTENT_WIDTH_MOBILE,u.WEB_CONTENT_WIDTH_MOBILE*2,u.WEB_CONTENT_WIDTH_MOBILE*3,u.WEB_CONTENT_WIDTH*2],u.LARGE_IMAGE_WIDTH=1200,u.MAX_REASONABLE_SCREEN_WIDTH=2880,u.MIN_GIF_WIDTH=320,u.MAX_GIF_WIDTH=550,u.getMediaUploadThumbnailUrl=we=>{var We;return we?`https://substack-video.s3.amazonaws.com/video_upload/post/${we.post_id}/${we.id}/transcoded-${((We=we.thumbnail_id)!=null?We:1).toString().padStart(5,"0")}.png`:void 0},u.getMediaUploadThumbnailUrlForPlayer=(we,{pub:We,isStatic:Ie}={})=>{var tt;const{colorLuma:et,videoPlayerDimensions:ht}=e(83322),{height:vt,width:Lt}=ht(we,{isStatic:Ie}),$t=Lt/vt<1920/1080?"pad":"fill",yt=((tt=We==null?void 0:We.theme)==null?void 0:tt.background_pop_color)||(We==null?void 0:We.theme_var_background_pop)||x,he=et(yt)>.6?"#1a1a1a":"#ffffff";return u.imginary(u.getMediaUploadThumbnailUrl(we),Lt*2,{crop:$t,height:vt*2,trailingSegments:Ie?[`l_video_play_base_tu77jd,w_152,e_colorize:100,co_rgb:${yt.slice(1)}`,`l_video_play_icon_c75z6z,w_152,e_colorize:100,co_rgb:${he.slice(1)}`]:[]})},u.getPreviewInAppUrl=(we,We,Ie={})=>u.pathWithQuery(`https://substack.com/app-link/publications/${we.id}/drafts/${We}`,Ie),u.getLinkRedirectUrl=(we,{userIdJwt:We,domain:Ie}={})=>`${Ie?u.getSubstackUrlWithDomain(Ie):u.getSubstackUrl()}/redirect/${we}?j=${We||""}`,u.getLoginChallengeDeepUrl=we=>u.pathWithQuery("substack://sign-in/challenge",{token:we}),u.DIRECT_APPLE_APP_STORE_URL="https://apps.apple.com/us/app/substack-reader/id1581650857",u.DIRECT_GOOGLE_PLAY_STORE_URL="https://play.google.com/store/apps/details?id=com.substack.app",u.getSubstackMarketingUrl=(we={})=>u.pathWithQuery(`${u.getSubstackUrl()}/home`),u.getAppMarketingUrl=(we={})=>u.pathWithQuery(`${u.getSubstackUrl()}/app`,we),u.getAppWriterFaqUrl=(we={})=>u.pathWithQuery("https://on.substack.com/p/writerfaq",we),u.getAppStoreRedirectUrl=we=>u.pathWithQuery(`${u.getSubstackUrl()}/app/app-store-redirect`,we),u.getAppStoreUrl=we=>u.pathWithQuery(`${u.getSubstackUrl()}/app/get-ios`,we),u.getPlayStoreUrl=we=>u.pathWithQuery(`${u.getSubstackUrl()}/app/get-android`,we),u.getDefaultPodcastArtUrl=({pathOnly:we=!1}={})=>{const We="/img/podcast/generic.png";return we?We:`${u.getSubstackUrl()}${We}`},u.getDefaultPodcastArtUrlCDN=()=>{const we=u.getDefaultPodcastArtUrl({pathOnly:!0});return u.imginary(we,1400)}},17187:z=>{function u(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}z.exports=u,u.EventEmitter=u,u.prototype._events=void 0,u.prototype._maxListeners=void 0,u.defaultMaxListeners=10,u.prototype.setMaxListeners=function(c){if(!o(c)||c<0||isNaN(c))throw TypeError("n must be a positive number");return this._maxListeners=c,this},u.prototype.emit=function(c){var g,v,E,y,p,O;if(this._events||(this._events={}),c==="error"&&(!this._events.error||f(this._events.error)&&!this._events.error.length)){if(g=arguments[1],g instanceof Error)throw g;var S=new Error('Uncaught, unspecified "error" event. ('+g+")");throw S.context=g,S}if(v=this._events[c],l(v))return!1;if(e(v))switch(arguments.length){case 1:v.call(this);break;case 2:v.call(this,arguments[1]);break;case 3:v.call(this,arguments[1],arguments[2]);break;default:y=Array.prototype.slice.call(arguments,1),v.apply(this,y)}else if(f(v))for(y=Array.prototype.slice.call(arguments,1),O=v.slice(),E=O.length,p=0;p<E;p++)O[p].apply(this,y);return!0},u.prototype.addListener=function(c,g){var v;if(!e(g))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",c,e(g.listener)?g.listener:g),this._events[c]?f(this._events[c])?this._events[c].push(g):this._events[c]=[this._events[c],g]:this._events[c]=g,f(this._events[c])&&!this._events[c].warned&&(l(this._maxListeners)?v=u.defaultMaxListeners:v=this._maxListeners,v&&v>0&&this._events[c].length>v&&(this._events[c].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[c].length),typeof console.trace=="function"&&console.trace())),this},u.prototype.on=u.prototype.addListener,u.prototype.once=function(c,g){if(!e(g))throw TypeError("listener must be a function");var v=!1;function E(){this.removeListener(c,E),v||(v=!0,g.apply(this,arguments))}return E.listener=g,this.on(c,E),this},u.prototype.removeListener=function(c,g){var v,E,y,p;if(!e(g))throw TypeError("listener must be a function");if(!this._events||!this._events[c])return this;if(v=this._events[c],y=v.length,E=-1,v===g||e(v.listener)&&v.listener===g)delete this._events[c],this._events.removeListener&&this.emit("removeListener",c,g);else if(f(v)){for(p=y;p-- >0;)if(v[p]===g||v[p].listener&&v[p].listener===g){E=p;break}if(E<0)return this;v.length===1?(v.length=0,delete this._events[c]):v.splice(E,1),this._events.removeListener&&this.emit("removeListener",c,g)}return this},u.prototype.removeAllListeners=function(c){var g,v;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[c]&&delete this._events[c],this;if(arguments.length===0){for(g in this._events)g!=="removeListener"&&this.removeAllListeners(g);return this.removeAllListeners("removeListener"),this._events={},this}if(v=this._events[c],e(v))this.removeListener(c,v);else if(v)for(;v.length;)this.removeListener(c,v[v.length-1]);return delete this._events[c],this},u.prototype.listeners=function(c){var g;return!this._events||!this._events[c]?g=[]:e(this._events[c])?g=[this._events[c]]:g=this._events[c].slice(),g},u.prototype.listenerCount=function(c){if(this._events){var g=this._events[c];if(e(g))return 1;if(g)return g.length}return 0},u.listenerCount=function(c,g){return c.listenerCount(g)};function e(c){return typeof c=="function"}function o(c){return typeof c=="number"}function f(c){return typeof c=="object"&&c!==null}function l(c){return c===void 0}},4445:z=>{z.exports=c,c.default=c,c.stable=y,c.stableStringify=y;var u="[...]",e="[Circular]",o=[],f=[];function l(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function c(S,x,T,_){typeof _=="undefined"&&(_=l()),v(S,"",0,[],void 0,0,_);var d;try{f.length===0?d=JSON.stringify(S,x,T):d=JSON.stringify(S,O(x),T)}catch(w){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;o.length!==0;){var s=o.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return d}function g(S,x,T,_){var d=Object.getOwnPropertyDescriptor(_,T);d.get!==void 0?d.configurable?(Object.defineProperty(_,T,{value:S}),o.push([_,T,x,d])):f.push([x,T,S]):(_[T]=S,o.push([_,T,x]))}function v(S,x,T,_,d,s,w){s+=1;var P;if(typeof S=="object"&&S!==null){for(P=0;P<_.length;P++)if(_[P]===S){g(e,S,x,d);return}if(typeof w.depthLimit!="undefined"&&s>w.depthLimit){g(u,S,x,d);return}if(typeof w.edgesLimit!="undefined"&&T+1>w.edgesLimit){g(u,S,x,d);return}if(_.push(S),Array.isArray(S))for(P=0;P<S.length;P++)v(S[P],P,P,_,S,s,w);else{var I=Object.keys(S);for(P=0;P<I.length;P++){var D=I[P];v(S[D],D,P,_,S,s,w)}}_.pop()}}function E(S,x){return S<x?-1:S>x?1:0}function y(S,x,T,_){typeof _=="undefined"&&(_=l());var d=p(S,"",0,[],void 0,0,_)||S,s;try{f.length===0?s=JSON.stringify(d,x,T):s=JSON.stringify(d,O(x),T)}catch(P){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;o.length!==0;){var w=o.pop();w.length===4?Object.defineProperty(w[0],w[1],w[3]):w[0][w[1]]=w[2]}}return s}function p(S,x,T,_,d,s,w){s+=1;var P;if(typeof S=="object"&&S!==null){for(P=0;P<_.length;P++)if(_[P]===S){g(e,S,x,d);return}try{if(typeof S.toJSON=="function")return}catch(C){return}if(typeof w.depthLimit!="undefined"&&s>w.depthLimit){g(u,S,x,d);return}if(typeof w.edgesLimit!="undefined"&&T+1>w.edgesLimit){g(u,S,x,d);return}if(_.push(S),Array.isArray(S))for(P=0;P<S.length;P++)p(S[P],P,P,_,S,s,w);else{var I={},D=Object.keys(S).sort(E);for(P=0;P<D.length;P++){var N=D[P];p(S[N],N,P,_,S,s,w),I[N]=S[N]}if(typeof d!="undefined")o.push([d,x,S]),d[x]=I;else return I}_.pop()}}function O(S){return S=typeof S!="undefined"?S:function(x,T){return T},function(x,T){if(f.length>0)for(var _=0;_<f.length;_++){var d=f[_];if(d[1]===x&&d[0]===T){T=d[2],f.splice(_,1);break}}return S.call(this,x,T)}}},17648:z=>{"use strict";var u="Function.prototype.bind called on incompatible ",e=Array.prototype.slice,o=Object.prototype.toString,f="[object Function]";z.exports=function(c){var g=this;if(typeof g!="function"||o.call(g)!==f)throw new TypeError(u+g);for(var v=e.call(arguments,1),E,y=function(){if(this instanceof E){var T=g.apply(this,v.concat(e.call(arguments)));return Object(T)===T?T:this}else return g.apply(c,v.concat(e.call(arguments)))},p=Math.max(0,g.length-v.length),O=[],S=0;S<p;S++)O.push("$"+S);if(E=Function("binder","return function ("+O.join(",")+"){ return binder.apply(this,arguments); }")(y),g.prototype){var x=function(){};x.prototype=g.prototype,E.prototype=new x,x.prototype=null}return E}},58612:(z,u,e)=>{"use strict";var o=e(17648);z.exports=Function.prototype.bind||o},40210:(z,u,e)=>{"use strict";var o,f=SyntaxError,l=Function,c=TypeError,g=function($){try{return l('"use strict"; return ('+$+").constructor;")()}catch(q){}},v=Object.getOwnPropertyDescriptor;if(v)try{v({},"")}catch($){v=null}var E=function(){throw new c},y=v?function(){try{return arguments.callee,E}catch($){try{return v(arguments,"callee").get}catch(q){return E}}}():E,p=e(41405)(),O=Object.getPrototypeOf||function($){return $.__proto__},S={},x=typeof Uint8Array=="undefined"?o:O(Uint8Array),T={"%AggregateError%":typeof AggregateError=="undefined"?o:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?o:ArrayBuffer,"%ArrayIteratorPrototype%":p?O([][Symbol.iterator]()):o,"%AsyncFromSyncIteratorPrototype%":o,"%AsyncFunction%":S,"%AsyncGenerator%":S,"%AsyncGeneratorFunction%":S,"%AsyncIteratorPrototype%":S,"%Atomics%":typeof Atomics=="undefined"?o:Atomics,"%BigInt%":typeof BigInt=="undefined"?o:BigInt,"%BigInt64Array%":typeof BigInt64Array=="undefined"?o:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array=="undefined"?o:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?o:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?o:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?o:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?o:FinalizationRegistry,"%Function%":l,"%GeneratorFunction%":S,"%Int8Array%":typeof Int8Array=="undefined"?o:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?o:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?o:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":p?O(O([][Symbol.iterator]())):o,"%JSON%":typeof JSON=="object"?JSON:o,"%Map%":typeof Map=="undefined"?o:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!p?o:O(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?o:Promise,"%Proxy%":typeof Proxy=="undefined"?o:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?o:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?o:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!p?o:O(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?o:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":p?O(""[Symbol.iterator]()):o,"%Symbol%":p?Symbol:o,"%SyntaxError%":f,"%ThrowTypeError%":y,"%TypedArray%":x,"%TypeError%":c,"%Uint8Array%":typeof Uint8Array=="undefined"?o:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?o:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?o:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?o:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?o:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?o:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?o:WeakSet};try{null.error}catch($){var _=O(O($));T["%Error.prototype%"]=_}var d=function $(q){var J;if(q==="%AsyncFunction%")J=g("async function () {}");else if(q==="%GeneratorFunction%")J=g("function* () {}");else if(q==="%AsyncGeneratorFunction%")J=g("async function* () {}");else if(q==="%AsyncGenerator%"){var R=$("%AsyncGeneratorFunction%");R&&(J=R.prototype)}else if(q==="%AsyncIteratorPrototype%"){var j=$("%AsyncGenerator%");j&&(J=O(j.prototype))}return T[q]=J,J},s={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},w=e(58612),P=e(17642),I=w.call(Function.call,Array.prototype.concat),D=w.call(Function.apply,Array.prototype.splice),N=w.call(Function.call,String.prototype.replace),C=w.call(Function.call,String.prototype.slice),A=w.call(Function.call,RegExp.prototype.exec),L=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,U=/\\(\\)?/g,W=function(q){var J=C(q,0,1),R=C(q,-1);if(J==="%"&&R!=="%")throw new f("invalid intrinsic syntax, expected closing `%`");if(R==="%"&&J!=="%")throw new f("invalid intrinsic syntax, expected opening `%`");var j=[];return N(q,L,function(ie,le,ye,ue){j[j.length]=ye?N(ue,U,"$1"):le||ie}),j},G=function(q,J){var R=q,j;if(P(s,R)&&(j=s[R],R="%"+j[0]+"%"),P(T,R)){var ie=T[R];if(ie===S&&(ie=d(R)),typeof ie=="undefined"&&!J)throw new c("intrinsic "+q+" exists, but is not available. Please file an issue!");return{alias:j,name:R,value:ie}}throw new f("intrinsic "+q+" does not exist!")};z.exports=function(q,J){if(typeof q!="string"||q.length===0)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof J!="boolean")throw new c('"allowMissing" argument must be a boolean');if(A(/^%?[^%]*%?$/,q)===null)throw new f("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var R=W(q),j=R.length>0?R[0]:"",ie=G("%"+j+"%",J),le=ie.name,ye=ie.value,ue=!1,oe=ie.alias;oe&&(j=oe[0],D(R,I([0,1],oe)));for(var te=1,Z=!0;te<R.length;te+=1){var re=R[te],ae=C(re,0,1),se=C(re,-1);if((ae==='"'||ae==="'"||ae==="`"||se==='"'||se==="'"||se==="`")&&ae!==se)throw new f("property names with quotes must have matching quotes");if((re==="constructor"||!Z)&&(ue=!0),j+="."+re,le="%"+j+"%",P(T,le))ye=T[le];else if(ye!=null){if(!(re in ye)){if(!J)throw new c("base intrinsic for "+q+" exists, but the property is not available.");return}if(v&&te+1>=R.length){var be=v(ye,re);Z=!!be,Z&&"get"in be&&!("originalValue"in be.get)?ye=be.get:ye=ye[re]}else Z=P(ye,re),ye=ye[re];Z&&!ue&&(T[le]=ye)}}return ye}},41595:(z,u,e)=>{"use strict";e.d(u,{Z:()=>f});/*! gettext.js - Guillaume Potier - MIT Licensed */var o=function(l){l=l||{},this&&(this.__version="1.1.1");var c={domain:"messages",locale:(typeof document!="undefined"?document.documentElement.getAttribute("lang"):!1)||"en",plural_func:function(P){return{nplurals:2,plural:P!=1?1:0}},ctxt_delimiter:String.fromCharCode(4)},g={isObject:function(P){var I=typeof P;return I==="function"||I==="object"&&!!P},isArray:function(P){return toString.call(P)==="[object Array]"}},v={},E=l.locale||c.locale,y=l.domain||c.domain,p={},O={},S=l.ctxt_delimiter||c.ctxt_delimiter;l.messages&&(p[y]={},p[y][E]=l.messages),l.plural_forms&&(O[E]=l.plural_forms);var x=function(P){var I=arguments;return P.replace(/%%/g,"%% ").replace(/%(\d+)/g,function(D,N){return I[N]}).replace(/%% /g,"%")},T=function(P){if(P.indexOf(S)!==-1){var I=P.split(S);return I[1]}return P},_=function(P){for(var I=[P],D=P.lastIndexOf("-");D>0;)P=P.slice(0,D),I.push(P),D=P.lastIndexOf("-");return I},d=function(P){P=P.replace("_","-");var I=P.search(/[.@]/);return I!=-1&&(P=P.slice(0,I)),P},s=function(P){var I=new RegExp("^\\s*nplurals\\s*=\\s*[0-9]+\\s*;\\s*plural\\s*=\\s*(?:\\s|[-\\?\\|&=!<>+*/%:;n0-9_()])+");if(!I.test(P))throw new Error(x('The plural form "%1" is not valid',P));return new Function("n","var plural, nplurals; "+P+" return { nplurals: nplurals, plural: (plural === true ? 1 : (plural ? plural : 0)) };")},w=function(P,I,D){if(!D.plural_form)return x.apply(this,[T(P[0])].concat(Array.prototype.slice.call(arguments,3)));var N;return D.plural_func?N=D.plural_func(I):(v[E]||(v[E]=s(O[E])),N=v[E](I)),(typeof N.plural=="undefined"||N.plural>N.nplurals||P.length<=N.plural)&&(N.plural=0),x.apply(this,[T(P[N.plural]),I].concat(Array.prototype.slice.call(arguments,3)))};return{strfmt:x,expand_locale:_,__:function(){return this.gettext.apply(this,arguments)},_n:function(){return this.ngettext.apply(this,arguments)},_p:function(){return this.pgettext.apply(this,arguments)},setMessages:function(P,I,D,N){if(!P||!I||!D)throw new Error("You must provide a domain, a locale and messages");if(typeof P!="string"||typeof I!="string"||!g.isObject(D))throw new Error("Invalid arguments");return I=d(I),N&&(O[I]=N),p[P]||(p[P]={}),p[P][I]=D,this},loadJSON:function(P,I){if(g.isObject(P)||(P=JSON.parse(P)),!P[""]||!P[""].language||!P[""]["plural-forms"])throw new Error('Wrong JSON, it must have an empty key ("") with "language" and "plural-forms" information');var D=P[""];return delete P[""],this.setMessages(I||c.domain,D.language,P,D["plural-forms"])},setLocale:function(P){return E=d(P),this},getLocale:function(){return E},textdomain:function(P){return P?(y=P,this):y},gettext:function(P){return this.dcnpgettext.apply(this,[void 0,void 0,P,void 0,void 0].concat(Array.prototype.slice.call(arguments,1)))},ngettext:function(P,I,D){return this.dcnpgettext.apply(this,[void 0,void 0,P,I,D].concat(Array.prototype.slice.call(arguments,3)))},pgettext:function(P,I){return this.dcnpgettext.apply(this,[void 0,P,I,void 0,void 0].concat(Array.prototype.slice.call(arguments,2)))},dcnpgettext:function(P,I,D,N,C){if(P=P||y,typeof D!="string")throw new Error(this.strfmt('Msgid "%1" is not a valid translatable string',D));var A,L={plural_form:!1},U=I?I+S+D:D,W,G,$=_(E);for(var q in $)if(G=$[q],W=p[P]&&p[P][G]&&p[P][G][U],N?W=W&&typeof p[P][G][U]!="string":W=W&&typeof p[P][G][U]=="string",W)break;return W?A=p[P][G][U]:(A=D,L.plural_func=c.plural_func),N?(L.plural_form=!0,w.apply(this,[W?A:[D,N],C,L].concat(Array.prototype.slice.call(arguments,5)))):w.apply(this,[[A],C,L].concat(Array.prototype.slice.call(arguments,5)))}}};const f=o},41405:(z,u,e)=>{"use strict";var o=typeof Symbol!="undefined"&&Symbol,f=e(55419);z.exports=function(){return typeof o!="function"||typeof Symbol!="function"||typeof o("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:f()}},55419:z=>{"use strict";z.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},o=Symbol("test"),f=Object(o);if(typeof o=="string"||Object.prototype.toString.call(o)!=="[object Symbol]"||Object.prototype.toString.call(f)!=="[object Symbol]")return!1;var l=42;e[o]=l;for(o in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var c=Object.getOwnPropertySymbols(e);if(c.length!==1||c[0]!==o||!Object.prototype.propertyIsEnumerable.call(e,o))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var g=Object.getOwnPropertyDescriptor(e,o);if(g.value!==l||g.enumerable!==!0)return!1}return!0}},17642:(z,u,e)=>{"use strict";var o=e(58612);z.exports=o.call(Function.call,Object.prototype.hasOwnProperty)},36808:(z,u,e)=>{var o,f;/*!
* JavaScript Cookie v2.2.0
* https://github.com/js-cookie/js-cookie
*
* Copyright 2006, 2015 Klaus Hartl & Fagner Brack
* Released under the MIT license
*/(function(l){var c=!1;if(o=l,f=typeof o=="function"?o.call(u,e,u,z):o,f!==void 0&&(z.exports=f),c=!0,z.exports=l(),c=!0,!c){var g=window.Cookies,v=window.Cookies=l();v.noConflict=function(){return window.Cookies=g,v}}})(function(){function l(){for(var g=0,v={};g<arguments.length;g++){var E=arguments[g];for(var y in E)v[y]=E[y]}return v}function c(g){function v(E,y,p){var O;if(typeof document!="undefined"){if(arguments.length>1){if(p=l({path:"/"},v.defaults,p),typeof p.expires=="number"){var S=new Date;S.setMilliseconds(S.getMilliseconds()+p.expires*864e5),p.expires=S}p.expires=p.expires?p.expires.toUTCString():"";try{O=JSON.stringify(y),/^[\{\[]/.test(O)&&(y=O)}catch(D){}g.write?y=g.write(y,E):y=encodeURIComponent(String(y)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),E=encodeURIComponent(String(E)),E=E.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),E=E.replace(/[\(\)]/g,escape);var x="";for(var T in p)p[T]&&(x+="; "+T,p[T]!==!0&&(x+="="+p[T]));return document.cookie=E+"="+y+x}E||(O={});for(var _=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,s=0;s<_.length;s++){var w=_[s].split("="),P=w.slice(1).join("=");!this.json&&P.charAt(0)==='"'&&(P=P.slice(1,-1));try{var I=w[0].replace(d,decodeURIComponent);if(P=g.read?g.read(P,I):g(P,I)||P.replace(d,decodeURIComponent),this.json)try{P=JSON.parse(P)}catch(D){}if(E===I){O=P;break}E||(O[I]=P)}catch(D){}}return O}}return v.set=v,v.get=function(E){return v.call(v,E)},v.getJSON=function(){return v.apply({json:!0},[].slice.call(arguments))},v.defaults={},v.remove=function(E,y){v(E,"",l(y,{expires:-1}))},v.withConverter=c,v}return c(function(){})})},3312:z=>{"use strict";const u={},e=u.hasOwnProperty,o=(C,A)=>{for(const L in C)e.call(C,L)&&A(L,C[L])},f=(C,A)=>(A&&o(A,(L,U)=>{C[L]=U}),C),l=(C,A)=>{const L=C.length;let U=-1;for(;++U<L;)A(C[U])},c=C=>"\\u"+("0000"+C).slice(-4),g=(C,A)=>{let L=C.toString(16);return A?L:L.toUpperCase()},v=u.toString,E=Array.isArray,y=C=>typeof Buffer=="function"&&Buffer.isBuffer(C),p=C=>v.call(C)=="[object Object]",O=C=>typeof C=="string"||v.call(C)=="[object String]",S=C=>typeof C=="number"||v.call(C)=="[object Number]",x=C=>typeof C=="function",T=C=>v.call(C)=="[object Map]",_=C=>v.call(C)=="[object Set]",d={"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},s=/[\\\b\f\n\r\t]/,w=/[0-9]/,P=/[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,I=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^]/g,D=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^ !#-&\(-\[\]-_a-~]/g,N=(C,A)=>{const L=()=>{R=J,++A.indentLevel,J=A.indent.repeat(A.indentLevel)},U={escapeEverything:!1,minimal:!1,isScriptContext:!1,quotes:"single",wrap:!1,es6:!1,json:!1,compact:!0,lowercaseHex:!1,numbers:"decimal",indent:"	",indentLevel:0,__inline1__:!1,__inline2__:!1},W=A&&A.json;W&&(U.quotes="double",U.wrap=!0),A=f(U,A),A.quotes!="single"&&A.quotes!="double"&&A.quotes!="backtick"&&(A.quotes="single");const G=A.quotes=="double"?'"':A.quotes=="backtick"?"`":"'",$=A.compact,q=A.lowercaseHex;let J=A.indent.repeat(A.indentLevel),R="";const j=A.__inline1__,ie=A.__inline2__,le=$?"":`
`;let ye,ue=!0;const oe=A.numbers=="binary",te=A.numbers=="octal",Z=A.numbers=="decimal",re=A.numbers=="hexadecimal";if(W&&C&&x(C.toJSON)&&(C=C.toJSON()),!O(C)){if(T(C))return C.size==0?"new Map()":($||(A.__inline1__=!0,A.__inline2__=!1),"new Map("+N(Array.from(C),A)+")");if(_(C))return C.size==0?"new Set()":"new Set("+N(Array.from(C),A)+")";if(y(C))return C.length==0?"Buffer.from([])":"Buffer.from("+N(Array.from(C),A)+")";if(E(C))return ye=[],A.wrap=!0,j&&(A.__inline1__=!1,A.__inline2__=!0),ie||L(),l(C,se=>{ue=!1,ie&&(A.__inline2__=!1),ye.push(($||ie?"":J)+N(se,A))}),ue?"[]":ie?"["+ye.join(", ")+"]":"["+le+ye.join(","+le)+le+($?"":R)+"]";if(S(C)){if(W)return JSON.stringify(C);if(Z)return String(C);if(re){let se=C.toString(16);return q||(se=se.toUpperCase()),"0x"+se}if(oe)return"0b"+C.toString(2);if(te)return"0o"+C.toString(8)}else return p(C)?(ye=[],A.wrap=!0,L(),o(C,(se,be)=>{ue=!1,ye.push(($?"":J)+N(se,A)+":"+($?"":" ")+N(be,A))}),ue?"{}":"{"+le+ye.join(","+le)+le+($?"":R)+"}"):W?JSON.stringify(C)||"null":String(C)}const ae=A.escapeEverything?I:D;return ye=C.replace(ae,(se,be,_e,pe,me,Te)=>{if(be){if(A.minimal)return be;const ce=be.charCodeAt(0),Le=be.charCodeAt(1);if(A.es6){const Ne=(ce-55296)*1024+Le-56320+65536;return"\\u{"+g(Ne,q)+"}"}return c(g(ce,q))+c(g(Le,q))}if(_e)return c(g(_e.charCodeAt(0),q));if(se=="\0"&&!W&&!w.test(Te.charAt(me+1)))return"\\0";if(pe)return pe==G||A.escapeEverything?"\\"+pe:pe;if(s.test(se))return d[se];if(A.minimal&&!P.test(se))return se;const ve=g(se.charCodeAt(0),q);return W||ve.length>2?c(ve):"\\x"+("00"+ve).slice(-2)}),G=="`"&&(ye=ye.replace(/\$\{/g,"\\${")),A.isScriptContext&&(ye=ye.replace(/<\/(script|style)/gi,"<\\/$1").replace(/<!--/g,W?"\\u003C!--":"\\x3C!--")),A.wrap&&(ye=G+ye+G),ye};N.version="3.0.2",z.exports=N},23059:(z,u)=>{function e(o){if(typeof o!="object")return o;var f,l,c=Object.prototype.toString.call(o);if(c==="[object Object]"){if(o.constructor!==Object&&typeof o.constructor=="function"){l=new o.constructor;for(f in o)o.hasOwnProperty(f)&&l[f]!==o[f]&&(l[f]=e(o[f]))}else{l={};for(f in o)f==="__proto__"?Object.defineProperty(l,f,{value:e(o[f]),configurable:!0,enumerable:!0,writable:!0}):l[f]=e(o[f])}return l}if(c==="[object Array]"){for(f=o.length,l=Array(f);f--;)l[f]=e(o[f]);return l}return c==="[object Set]"?(l=new Set,o.forEach(function(g){l.add(e(g))}),l):c==="[object Map]"?(l=new Map,o.forEach(function(g,v){l.set(e(v),e(g))}),l):c==="[object Date]"?new Date(+o):c==="[object RegExp]"?(l=new RegExp(o.source,o.flags),l.lastIndex=o.lastIndex,l):c==="[object DataView]"?new o.constructor(e(o.buffer)):c==="[object ArrayBuffer]"?o.slice(0):c.slice(-6)==="Array]"?new o.constructor(o):o}u.klona=e},25235:(z,u,e)=>{z.exports=e(8425)},87100:(z,u,e)=>{"use strict";var o;o=!0;var f=e(98661),l=E(f),c=e(8425),g=v(c);function v(s){if(s&&s.__esModule)return s;var w={};if(s!=null)for(var P in s)Object.prototype.hasOwnProperty.call(s,P)&&(w[P]=s[P]);return w.default=s,w}function E(s){return s&&s.__esModule?s:{default:s}}function y(s,w){if(!(s instanceof w))throw new TypeError("Cannot call a class as a function")}function p(s,w){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:s}function O(s,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);s.prototype=Object.create(w&&w.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(s,w):s.__proto__=w)}var S=g.options,x=S.Options;function T(s,w){for(var P=g.tokenize(s),I=[],D=0,N=0;N<P.length;N++){var C=P[N];if(C.type==="nl"&&w.nl2br){I.push(l.default.createElement("br",{key:"linkified-"+ ++D}));continue}else if(!C.isLink||!w.check(C)){I.push(C.toString());continue}var A=w.resolve(C),L=A.formatted,U=A.formattedHref,W=A.tagName,G=A.className,$=A.target,q=A.attributes,J={key:"linkified-"+ ++D,href:U};if(G&&(J.className=G),$&&(J.target=$),q)for(var R in q)J[R]=q[R];I.push(l.default.createElement(W,J,L))}return I}function _(s,w){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(l.default.Children.count(s.props.children)===0)return s;var I=[];l.default.Children.forEach(s.props.children,function(C){typeof C=="string"?(P=P+1,I.push.apply(I,T(C,w))):l.default.isValidElement(C)?typeof C.type=="string"&&S.contains(w.ignoreTags,C.type.toUpperCase())?I.push(C):I.push(_(C,w,++P)):I.push(C)});var D={key:"linkified-element-"+P};for(var N in s.props)D[N]=s.props[N];return l.default.cloneElement(s,D,I)}var d=function(s){O(w,s);function w(){return y(this,w),p(this,s.apply(this,arguments))}return w.prototype.render=function(){var I={key:"linkified-element-0"};for(var D in this.props)D!=="options"&&D!=="tagName"&&(I[D]=this.props[D]);var N=new x(this.props.options),C=this.props.tagName||"span",A=l.default.createElement(C,I);return _(A,N,0)},w}(l.default.Component);u.default=d},8425:(z,u,e)=>{"use strict";u.__esModule=!0,u.tokenize=u.test=u.scanner=u.parser=u.options=u.inherits=u.find=void 0;var o=e(72227),f=e(47951),l=y(f),c=e(6417),g=y(c),v=e(45788),E=y(v);function y(x){if(x&&x.__esModule)return x;var T={};if(x!=null)for(var _ in x)Object.prototype.hasOwnProperty.call(x,_)&&(T[_]=x[_]);return T.default=x,T}Array.isArray||(Array.isArray=function(x){return Object.prototype.toString.call(x)==="[object Array]"});var p=function(T){return E.run(g.run(T))},O=function(T){for(var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,d=p(T),s=[],w=0;w<d.length;w++){var P=d[w];P.isLink&&(!_||P.type===_)&&s.push(P.toObject())}return s},S=function(T){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,d=p(T);return d.length===1&&d[0].isLink&&(!_||d[0].type===_)};u.find=O,u.inherits=o.inherits,u.options=l,u.parser=E,u.scanner=g,u.test=S,u.tokenize=p},45788:(z,u,e)=>{"use strict";u.__esModule=!0,u.start=u.run=u.TOKENS=u.State=void 0;var o=e(25439),f=e(23370),l=g(f),c=e(63333);function g(me){if(me&&me.__esModule)return me;var Te={};if(me!=null)for(var ve in me)Object.prototype.hasOwnProperty.call(me,ve)&&(Te[ve]=me[ve]);return Te.default=me,Te}var v=function(Te){return new o.TokenState(Te)},E=v(),y=v(),p=v(),O=v(),S=v(),x=v(),T=v(),_=v(f.URL),d=v(),s=v(f.URL),w=v(f.URL),P=v(),I=v(),D=v(),N=v(),C=v(),A=v(f.URL),L=v(f.URL),U=v(f.URL),W=v(f.URL),G=v(),$=v(),q=v(),J=v(),R=v(),j=v(),ie=v(f.EMAIL),le=v(),ye=v(f.EMAIL),ue=v(f.MAILTOEMAIL),oe=v(),te=v(),Z=v(),re=v(),ae=v(f.NL);E.on(c.NL,ae).on(c.PROTOCOL,y).on(c.MAILTO,p).on(c.SLASH,O),y.on(c.SLASH,O),O.on(c.SLASH,S),E.on(c.TLD,x).on(c.DOMAIN,x).on(c.LOCALHOST,_).on(c.NUM,x),S.on(c.TLD,w).on(c.DOMAIN,w).on(c.NUM,w).on(c.LOCALHOST,w),x.on(c.DOT,T),R.on(c.DOT,j),T.on(c.TLD,_).on(c.DOMAIN,x).on(c.NUM,x).on(c.LOCALHOST,x),j.on(c.TLD,ie).on(c.DOMAIN,R).on(c.NUM,R).on(c.LOCALHOST,R),_.on(c.DOT,T),ie.on(c.DOT,j),_.on(c.COLON,d).on(c.SLASH,w),d.on(c.NUM,s),s.on(c.SLASH,w),ie.on(c.COLON,le),le.on(c.NUM,ye);var se=[c.DOMAIN,c.AT,c.LOCALHOST,c.NUM,c.PLUS,c.POUND,c.PROTOCOL,c.SLASH,c.TLD,c.UNDERSCORE,c.SYM,c.AMPERSAND],be=[c.COLON,c.DOT,c.QUERY,c.PUNCTUATION,c.CLOSEBRACE,c.CLOSEBRACKET,c.CLOSEANGLEBRACKET,c.CLOSEPAREN,c.OPENBRACE,c.OPENBRACKET,c.OPENANGLEBRACKET,c.OPENPAREN];w.on(c.OPENBRACE,I).on(c.OPENBRACKET,D).on(c.OPENANGLEBRACKET,N).on(c.OPENPAREN,C),P.on(c.OPENBRACE,I).on(c.OPENBRACKET,D).on(c.OPENANGLEBRACKET,N).on(c.OPENPAREN,C),I.on(c.CLOSEBRACE,w),D.on(c.CLOSEBRACKET,w),N.on(c.CLOSEANGLEBRACKET,w),C.on(c.CLOSEPAREN,w),A.on(c.CLOSEBRACE,w),L.on(c.CLOSEBRACKET,w),U.on(c.CLOSEANGLEBRACKET,w),W.on(c.CLOSEPAREN,w),G.on(c.CLOSEBRACE,w),$.on(c.CLOSEBRACKET,w),q.on(c.CLOSEANGLEBRACKET,w),J.on(c.CLOSEPAREN,w),I.on(se,A),D.on(se,L),N.on(se,U),C.on(se,W),I.on(be,G),D.on(be,$),N.on(be,q),C.on(be,J),A.on(se,A),L.on(se,L),U.on(se,U),W.on(se,W),A.on(be,A),L.on(be,L),U.on(be,U),W.on(be,W),G.on(se,A),$.on(se,L),q.on(se,U),J.on(se,W),G.on(be,G),$.on(be,$),q.on(be,q),J.on(be,J),w.on(se,w),P.on(se,w),w.on(be,P),P.on(be,P),p.on(c.TLD,ue).on(c.DOMAIN,ue).on(c.NUM,ue).on(c.LOCALHOST,ue),ue.on(se,ue).on(be,oe),oe.on(se,ue).on(be,oe);var _e=[c.DOMAIN,c.NUM,c.PLUS,c.POUND,c.QUERY,c.UNDERSCORE,c.SYM,c.AMPERSAND,c.TLD];x.on(_e,te).on(c.AT,Z),_.on(_e,te).on(c.AT,Z),T.on(_e,te),te.on(_e,te).on(c.AT,Z).on(c.DOT,re),re.on(_e,te),Z.on(c.TLD,R).on(c.DOMAIN,R).on(c.LOCALHOST,ie);var pe=function(Te){for(var ve=Te.length,ce=0,Le=[],Ne=[];ce<ve;){for(var He=E,ze=null,Xe=null,_t=0,we=null,We=-1;ce<ve&&!(ze=He.next(Te[ce]));)Ne.push(Te[ce++]);for(;ce<ve&&(Xe=ze||He.next(Te[ce]));)ze=null,He=Xe,He.accepts()?(We=0,we=He):We>=0&&We++,ce++,_t++;if(We<0)for(var Ie=ce-_t;Ie<ce;Ie++)Ne.push(Te[Ie]);else{Ne.length>0&&(Le.push(new f.TEXT(Ne)),Ne=[]),ce-=We,_t-=We;var tt=we.emit();Le.push(new tt(Te.slice(ce-_t,ce)))}}return Ne.length>0&&Le.push(new f.TEXT(Ne)),Le};u.State=o.TokenState,u.TOKENS=l,u.run=pe,u.start=E},6417:(z,u,e)=>{"use strict";u.__esModule=!0,u.start=u.run=u.TOKENS=u.State=void 0;var o=e(25439),f=e(63333),l=c(f);function c(ie){if(ie&&ie.__esModule)return ie;var le={};if(ie!=null)for(var ye in ie)Object.prototype.hasOwnProperty.call(ie,ye)&&(le[ye]=ie[ye]);return le.default=ie,le}var g="aaa|aarp|abarth|abb|abbott|abbvie|abc|able|abogado|abudhabi|ac|academy|accenture|accountant|accountants|aco|active|actor|ad|adac|ads|adult|ae|aeg|aero|aetna|af|afamilycompany|afl|africa|ag|agakhan|agency|ai|aig|aigo|airbus|airforce|airtel|akdn|al|alfaromeo|alibaba|alipay|allfinanz|allstate|ally|alsace|alstom|am|americanexpress|americanfamily|amex|amfam|amica|amsterdam|analytics|android|anquan|anz|ao|aol|apartments|app|apple|aq|aquarelle|ar|arab|aramco|archi|army|arpa|art|arte|as|asda|asia|associates|at|athleta|attorney|au|auction|audi|audible|audio|auspost|author|auto|autos|avianca|aw|aws|ax|axa|az|azure|ba|baby|baidu|banamex|bananarepublic|band|bank|bar|barcelona|barclaycard|barclays|barefoot|bargains|baseball|basketball|bauhaus|bayern|bb|bbc|bbt|bbva|bcg|bcn|bd|be|beats|beauty|beer|bentley|berlin|best|bestbuy|bet|bf|bg|bh|bharti|bi|bible|bid|bike|bing|bingo|bio|biz|bj|black|blackfriday|blanco|blockbuster|blog|bloomberg|blue|bm|bms|bmw|bn|bnl|bnpparibas|bo|boats|boehringer|bofa|bom|bond|boo|book|booking|boots|bosch|bostik|boston|bot|boutique|box|br|bradesco|bridgestone|broadway|broker|brother|brussels|bs|bt|budapest|bugatti|build|builders|business|buy|buzz|bv|bw|by|bz|bzh|ca|cab|cafe|cal|call|calvinklein|cam|camera|camp|cancerresearch|canon|capetown|capital|capitalone|car|caravan|cards|care|career|careers|cars|cartier|casa|case|caseih|cash|casino|cat|catering|catholic|cba|cbn|cbre|cbs|cc|cd|ceb|center|ceo|cern|cf|cfa|cfd|cg|ch|chanel|channel|chase|chat|cheap|chintai|chloe|christmas|chrome|chrysler|church|ci|cipriani|circle|cisco|citadel|citi|citic|city|cityeats|ck|cl|claims|cleaning|click|clinic|clinique|clothing|cloud|club|clubmed|cm|cn|co|coach|codes|coffee|college|cologne|com|comcast|commbank|community|company|compare|computer|comsec|condos|construction|consulting|contact|contractors|cooking|cookingchannel|cool|coop|corsica|country|coupon|coupons|courses|cr|credit|creditcard|creditunion|cricket|crown|crs|cruise|cruises|csc|cu|cuisinella|cv|cw|cx|cy|cymru|cyou|cz|dabur|dad|dance|data|date|dating|datsun|day|dclk|dds|de|deal|dealer|deals|degree|delivery|dell|deloitte|delta|democrat|dental|dentist|desi|design|dev|dhl|diamonds|diet|digital|direct|directory|discount|discover|dish|diy|dj|dk|dm|dnp|do|docs|doctor|dodge|dog|doha|domains|dot|download|drive|dtv|dubai|duck|dunlop|duns|dupont|durban|dvag|dvr|dz|earth|eat|ec|eco|edeka|edu|education|ee|eg|email|emerck|energy|engineer|engineering|enterprises|epost|epson|equipment|er|ericsson|erni|es|esq|estate|esurance|et|etisalat|eu|eurovision|eus|events|everbank|exchange|expert|exposed|express|extraspace|fage|fail|fairwinds|faith|family|fan|fans|farm|farmers|fashion|fast|fedex|feedback|ferrari|ferrero|fi|fiat|fidelity|fido|film|final|finance|financial|fire|firestone|firmdale|fish|fishing|fit|fitness|fj|fk|flickr|flights|flir|florist|flowers|fly|fm|fo|foo|food|foodnetwork|football|ford|forex|forsale|forum|foundation|fox|fr|free|fresenius|frl|frogans|frontdoor|frontier|ftr|fujitsu|fujixerox|fun|fund|furniture|futbol|fyi|ga|gal|gallery|gallo|gallup|game|games|gap|garden|gb|gbiz|gd|gdn|ge|gea|gent|genting|george|gf|gg|ggee|gh|gi|gift|gifts|gives|giving|gl|glade|glass|gle|global|globo|gm|gmail|gmbh|gmo|gmx|gn|godaddy|gold|goldpoint|golf|goo|goodhands|goodyear|goog|google|gop|got|gov|gp|gq|gr|grainger|graphics|gratis|green|gripe|grocery|group|gs|gt|gu|guardian|gucci|guge|guide|guitars|guru|gw|gy|hair|hamburg|hangout|haus|hbo|hdfc|hdfcbank|health|healthcare|help|helsinki|here|hermes|hgtv|hiphop|hisamitsu|hitachi|hiv|hk|hkt|hm|hn|hockey|holdings|holiday|homedepot|homegoods|homes|homesense|honda|honeywell|horse|hospital|host|hosting|hot|hoteles|hotels|hotmail|house|how|hr|hsbc|ht|htc|hu|hughes|hyatt|hyundai|ibm|icbc|ice|icu|id|ie|ieee|ifm|ikano|il|im|imamat|imdb|immo|immobilien|in|industries|infiniti|info|ing|ink|institute|insurance|insure|int|intel|international|intuit|investments|io|ipiranga|iq|ir|irish|is|iselect|ismaili|ist|istanbul|it|itau|itv|iveco|iwc|jaguar|java|jcb|jcp|je|jeep|jetzt|jewelry|jio|jlc|jll|jm|jmp|jnj|jo|jobs|joburg|jot|joy|jp|jpmorgan|jprs|juegos|juniper|kaufen|kddi|ke|kerryhotels|kerrylogistics|kerryproperties|kfh|kg|kh|ki|kia|kim|kinder|kindle|kitchen|kiwi|km|kn|koeln|komatsu|kosher|kp|kpmg|kpn|kr|krd|kred|kuokgroup|kw|ky|kyoto|kz|la|lacaixa|ladbrokes|lamborghini|lamer|lancaster|lancia|lancome|land|landrover|lanxess|lasalle|lat|latino|latrobe|law|lawyer|lb|lc|lds|lease|leclerc|lefrak|legal|lego|lexus|lgbt|li|liaison|lidl|life|lifeinsurance|lifestyle|lighting|like|lilly|limited|limo|lincoln|linde|link|lipsy|live|living|lixil|lk|loan|loans|locker|locus|loft|lol|london|lotte|lotto|love|lpl|lplfinancial|lr|ls|lt|ltd|ltda|lu|lundbeck|lupin|luxe|luxury|lv|ly|ma|macys|madrid|maif|maison|makeup|man|management|mango|map|market|marketing|markets|marriott|marshalls|maserati|mattel|mba|mc|mckinsey|md|me|med|media|meet|melbourne|meme|memorial|men|menu|meo|merckmsd|metlife|mg|mh|miami|microsoft|mil|mini|mint|mit|mitsubishi|mk|ml|mlb|mls|mm|mma|mn|mo|mobi|mobile|mobily|moda|moe|moi|mom|monash|money|monster|mopar|mormon|mortgage|moscow|moto|motorcycles|mov|movie|movistar|mp|mq|mr|ms|msd|mt|mtn|mtr|mu|museum|mutual|mv|mw|mx|my|mz|na|nab|nadex|nagoya|name|nationwide|natura|navy|nba|nc|ne|nec|net|netbank|netflix|network|neustar|new|newholland|news|next|nextdirect|nexus|nf|nfl|ng|ngo|nhk|ni|nico|nike|nikon|ninja|nissan|nissay|nl|no|nokia|northwesternmutual|norton|now|nowruz|nowtv|np|nr|nra|nrw|ntt|nu|nyc|nz|obi|observer|off|office|okinawa|olayan|olayangroup|oldnavy|ollo|om|omega|one|ong|onl|online|onyourside|ooo|open|oracle|orange|org|organic|origins|osaka|otsuka|ott|ovh|pa|page|panasonic|panerai|paris|pars|partners|parts|party|passagens|pay|pccw|pe|pet|pf|pfizer|pg|ph|pharmacy|phd|philips|phone|photo|photography|photos|physio|piaget|pics|pictet|pictures|pid|pin|ping|pink|pioneer|pizza|pk|pl|place|play|playstation|plumbing|plus|pm|pn|pnc|pohl|poker|politie|porn|post|pr|pramerica|praxi|press|prime|pro|prod|productions|prof|progressive|promo|properties|property|protection|pru|prudential|ps|pt|pub|pw|pwc|py|qa|qpon|quebec|quest|qvc|racing|radio|raid|re|read|realestate|realtor|realty|recipes|red|redstone|redumbrella|rehab|reise|reisen|reit|reliance|ren|rent|rentals|repair|report|republican|rest|restaurant|review|reviews|rexroth|rich|richardli|ricoh|rightathome|ril|rio|rip|rmit|ro|rocher|rocks|rodeo|rogers|room|rs|rsvp|ru|rugby|ruhr|run|rw|rwe|ryukyu|sa|saarland|safe|safety|sakura|sale|salon|samsclub|samsung|sandvik|sandvikcoromant|sanofi|sap|sapo|sarl|sas|save|saxo|sb|sbi|sbs|sc|sca|scb|schaeffler|schmidt|scholarships|school|schule|schwarz|science|scjohnson|scor|scot|sd|se|search|seat|secure|security|seek|select|sener|services|ses|seven|sew|sex|sexy|sfr|sg|sh|shangrila|sharp|shaw|shell|shia|shiksha|shoes|shop|shopping|shouji|show|showtime|shriram|si|silk|sina|singles|site|sj|sk|ski|skin|sky|skype|sl|sling|sm|smart|smile|sn|sncf|so|soccer|social|softbank|software|sohu|solar|solutions|song|sony|soy|space|spiegel|spot|spreadbetting|sr|srl|srt|st|stada|staples|star|starhub|statebank|statefarm|statoil|stc|stcgroup|stockholm|storage|store|stream|studio|study|style|su|sucks|supplies|supply|support|surf|surgery|suzuki|sv|swatch|swiftcover|swiss|sx|sy|sydney|symantec|systems|sz|tab|taipei|talk|taobao|target|tatamotors|tatar|tattoo|tax|taxi|tc|tci|td|tdk|team|tech|technology|tel|telecity|telefonica|temasek|tennis|teva|tf|tg|th|thd|theater|theatre|tiaa|tickets|tienda|tiffany|tips|tires|tirol|tj|tjmaxx|tjx|tk|tkmaxx|tl|tm|tmall|tn|to|today|tokyo|tools|top|toray|toshiba|total|tours|town|toyota|toys|tr|trade|trading|training|travel|travelchannel|travelers|travelersinsurance|trust|trv|tt|tube|tui|tunes|tushu|tv|tvs|tw|tz|ua|ubank|ubs|uconnect|ug|uk|unicom|university|uno|uol|ups|us|uy|uz|va|vacations|vana|vanguard|vc|ve|vegas|ventures|verisign|versicherung|vet|vg|vi|viajes|video|vig|viking|villas|vin|vip|virgin|visa|vision|vista|vistaprint|viva|vivo|vlaanderen|vn|vodka|volkswagen|volvo|vote|voting|voto|voyage|vu|vuelos|wales|walmart|walter|wang|wanggou|warman|watch|watches|weather|weatherchannel|webcam|weber|website|wed|wedding|weibo|weir|wf|whoswho|wien|wiki|williamhill|win|windows|wine|winners|wme|wolterskluwer|woodside|work|works|world|wow|ws|wtc|wtf|xbox|xerox|xfinity|xihuan|xin|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--2scrj9c|xn--30rr7y|xn--3bst00m|xn--3ds443g|xn--3e0b707e|xn--3hcrj9c|xn--3oq18vl8pn36a|xn--3pxu8k|xn--42c2d9a|xn--45br5cyl|xn--45brj9c|xn--45q11c|xn--4gbrim|xn--54b7fta0cc|xn--55qw42g|xn--55qx5d|xn--5su34j936bgsg|xn--5tzm5g|xn--6frz82g|xn--6qq986b3xl|xn--80adxhks|xn--80ao21a|xn--80aqecdr1a|xn--80asehdb|xn--80aswg|xn--8y0a063a|xn--90a3ac|xn--90ae|xn--90ais|xn--9dbq2a|xn--9et52u|xn--9krt00a|xn--b4w605ferd|xn--bck1b9a5dre4c|xn--c1avg|xn--c2br7g|xn--cck2b3b|xn--cg4bki|xn--clchc0ea0b2g2a9gcd|xn--czr694b|xn--czrs0t|xn--czru2d|xn--d1acj3b|xn--d1alf|xn--e1a4c|xn--eckvdtc9d|xn--efvy88h|xn--estv75g|xn--fct429k|xn--fhbei|xn--fiq228c5hs|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--fjq720a|xn--flw351e|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--fzys8d69uvgm|xn--g2xx48c|xn--gckr3f0f|xn--gecrj9c|xn--gk3at1e|xn--h2breg3eve|xn--h2brj9c|xn--h2brj9c8c|xn--hxt814e|xn--i1b6b1a6a2e|xn--imr513n|xn--io0a7i|xn--j1aef|xn--j1amh|xn--j6w193g|xn--jlq61u9w7b|xn--jvr189m|xn--kcrx77d1x4a|xn--kprw13d|xn--kpry57d|xn--kpu716f|xn--kput3i|xn--l1acc|xn--lgbbat1ad8j|xn--mgb9awbf|xn--mgba3a3ejt|xn--mgba3a4f16a|xn--mgba7c0bbn0a|xn--mgbaakc7dvf|xn--mgbaam7a8h|xn--mgbab2bd|xn--mgbai9azgqp6j|xn--mgbayh7gpa|xn--mgbb9fbpob|xn--mgbbh1a|xn--mgbbh1a71e|xn--mgbc0a9azcg|xn--mgbca7dzdo|xn--mgberp4a5d4ar|xn--mgbgu82a|xn--mgbi4ecexp|xn--mgbpl2fh|xn--mgbt3dhd|xn--mgbtx2b|xn--mgbx4cd0ab|xn--mix891f|xn--mk1bu44c|xn--mxtq1m|xn--ngbc5azd|xn--ngbe9e0a|xn--ngbrx|xn--node|xn--nqv7f|xn--nqv7fs00ema|xn--nyqy26a|xn--o3cw4h|xn--ogbpf8fl|xn--p1acf|xn--p1ai|xn--pbt977c|xn--pgbs0dh|xn--pssy2u|xn--q9jyb4c|xn--qcka1pmc|xn--qxam|xn--rhqv96g|xn--rovu88b|xn--rvc1e0am3e|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--tckwe|xn--tiq49xqyj|xn--unup4y|xn--vermgensberater-ctb|xn--vermgensberatung-pwb|xn--vhquv|xn--vuq861b|xn--w4r85el8fhu5dnra|xn--w4rs40l|xn--wgbh1c|xn--wgbl6a|xn--xhq521b|xn--xkc2al3hye2a|xn--xkc2dl3a5ee0h|xn--y9a3aq|xn--yfro4i67o|xn--ygbi2ammx|xn--zfr164b|xperia|xxx|xyz|yachts|yahoo|yamaxun|yandex|ye|yodobashi|yoga|yokohama|you|youtube|yt|yun|za|zappos|zara|zero|zip|zippo|zm|zone|zuerich|zw".split("|"),v="0123456789".split(""),E="0123456789abcdefghijklmnopqrstuvwxyz".split(""),y=[" ","\f","\r","	","\v","\xA0","\u1680","\u180E"],p=[],O=function(le){return new o.CharacterState(le)},S=O(),x=O(f.NUM),T=O(f.DOMAIN),_=O(),d=O(f.WS);S.on("@",O(f.AT)).on(".",O(f.DOT)).on("+",O(f.PLUS)).on("#",O(f.POUND)).on("?",O(f.QUERY)).on("/",O(f.SLASH)).on("_",O(f.UNDERSCORE)).on(":",O(f.COLON)).on("{",O(f.OPENBRACE)).on("[",O(f.OPENBRACKET)).on("<",O(f.OPENANGLEBRACKET)).on("(",O(f.OPENPAREN)).on("}",O(f.CLOSEBRACE)).on("]",O(f.CLOSEBRACKET)).on(">",O(f.CLOSEANGLEBRACKET)).on(")",O(f.CLOSEPAREN)).on("&",O(f.AMPERSAND)).on([",",";","!",'"',"'"],O(f.PUNCTUATION)),S.on(`
`,O(f.NL)).on(y,d),d.on(y,d);for(var s=0;s<g.length;s++){var w=(0,o.stateify)(g[s],S,f.TLD,f.DOMAIN);p.push.apply(p,w)}var P=(0,o.stateify)("file",S,f.DOMAIN,f.DOMAIN),I=(0,o.stateify)("ftp",S,f.DOMAIN,f.DOMAIN),D=(0,o.stateify)("http",S,f.DOMAIN,f.DOMAIN),N=(0,o.stateify)("mailto",S,f.DOMAIN,f.DOMAIN);p.push.apply(p,P),p.push.apply(p,I),p.push.apply(p,D),p.push.apply(p,N);var C=P.pop(),A=I.pop(),L=D.pop(),U=N.pop(),W=O(f.DOMAIN),G=O(f.PROTOCOL),$=O(f.MAILTO);A.on("s",W).on(":",G),L.on("s",W).on(":",G),p.push(W),C.on(":",G),W.on(":",G),U.on(":",$);var q=(0,o.stateify)("localhost",S,f.LOCALHOST,f.DOMAIN);p.push.apply(p,q),S.on(v,x),x.on("-",_).on(v,x).on(E,T),T.on("-",_).on(E,T);for(var J=0;J<p.length;J++)p[J].on("-",_).on(E,T);_.on("-",_).on(v,T).on(E,T),S.defaultTransition=O(f.SYM);var R=function(le){for(var ye=le.replace(/[A-Z]/g,function(pe){return pe.toLowerCase()}),ue=le.length,oe=[],te=0;te<ue;){for(var Z=S,re=null,ae=0,se=null,be=-1;te<ue&&(re=Z.next(ye[te]));)Z=re,Z.accepts()?(be=0,se=Z):be>=0&&be++,ae++,te++;if(!(be<0)){te-=be,ae-=be;var _e=se.emit();oe.push(new _e(le.substr(te-ae,ae)))}}return oe},j=S;u.State=o.CharacterState,u.TOKENS=l,u.run=R,u.start=j},25439:(z,u,e)=>{"use strict";u.__esModule=!0,u.stateify=u.TokenState=u.CharacterState=void 0;var o=e(72227);function f(){return function(E){this.j=[],this.T=E||null}}var l=f();l.prototype={defaultTransition:!1,on:function(y,p){if(y instanceof Array){for(var O=0;O<y.length;O++)this.j.push([y[O],p]);return this}return this.j.push([y,p]),this},next:function(y){for(var p=0;p<this.j.length;p++){var O=this.j[p],S=O[0],x=O[1];if(this.test(y,S))return x}return this.defaultTransition},accepts:function(){return!!this.T},test:function(y,p){return y===p},emit:function(){return this.T}};var c=(0,o.inherits)(l,f(),{test:function(y,p){return y===p||p instanceof RegExp&&p.test(y)}}),g=(0,o.inherits)(l,f(),{jump:function(y){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,O=this.next(new y(""));return O===this.defaultTransition?(O=new this.constructor(p),this.on(y,O)):p&&(O.T=p),O},test:function(y,p){return y instanceof p}});function v(E,y,p,O){for(var S=0,x=E.length,T=y,_=[],d=void 0;S<x&&(d=T.next(E[S]));)T=d,S++;if(S>=x)return[];for(;S<x-1;)d=new c(O),_.push(d),T.on(E[S],d),T=d,S++;return d=new c(p),_.push(d),T.on(E[x-1],d),_}u.CharacterState=c,u.TokenState=g,u.stateify=v},9770:(z,u)=>{"use strict";u.__esModule=!0;function e(){return function(o){o&&(this.v=o)}}u.createTokenClass=e},23370:(z,u,e)=>{"use strict";u.__esModule=!0,u.URL=u.TEXT=u.NL=u.EMAIL=u.MAILTOEMAIL=u.Base=void 0;var o=e(9770),f=e(72227),l=e(63333);function c(S){return S instanceof l.DOMAIN||S instanceof l.TLD}var g=(0,o.createTokenClass)();g.prototype={type:"token",isLink:!1,toString:function(){for(var x=[],T=0;T<this.v.length;T++)x.push(this.v[T].toString());return x.join("")},toHref:function(){return this.toString()},toObject:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"http";return{type:this.type,value:this.toString(),href:this.toHref(x)}}};var v=(0,f.inherits)(g,(0,o.createTokenClass)(),{type:"email",isLink:!0}),E=(0,f.inherits)(g,(0,o.createTokenClass)(),{type:"email",isLink:!0,toHref:function(){return"mailto:"+this.toString()}}),y=(0,f.inherits)(g,(0,o.createTokenClass)(),{type:"text"}),p=(0,f.inherits)(g,(0,o.createTokenClass)(),{type:"nl"}),O=(0,f.inherits)(g,(0,o.createTokenClass)(),{type:"url",isLink:!0,toHref:function(){for(var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"http",T=!1,_=!1,d=this.v,s=[],w=0;d[w]instanceof l.PROTOCOL;)T=!0,s.push(d[w].toString().toLowerCase()),w++;for(;d[w]instanceof l.SLASH;)_=!0,s.push(d[w].toString()),w++;for(;c(d[w]);)s.push(d[w].toString().toLowerCase()),w++;for(;w<d.length;w++)s.push(d[w].toString());return s=s.join(""),T||_||(s=x+"://"+s),s},hasProtocol:function(){return this.v[0]instanceof l.PROTOCOL}});u.Base=g,u.MAILTOEMAIL=v,u.EMAIL=E,u.NL=p,u.TEXT=y,u.URL=O},63333:(z,u,e)=>{"use strict";u.__esModule=!0,u.AMPERSAND=u.CLOSEPAREN=u.CLOSEANGLEBRACKET=u.CLOSEBRACKET=u.CLOSEBRACE=u.OPENPAREN=u.OPENANGLEBRACKET=u.OPENBRACKET=u.OPENBRACE=u.WS=u.TLD=u.SYM=u.UNDERSCORE=u.SLASH=u.MAILTO=u.PROTOCOL=u.QUERY=u.POUND=u.PLUS=u.NUM=u.NL=u.LOCALHOST=u.PUNCTUATION=u.DOT=u.COLON=u.AT=u.DOMAIN=u.Base=void 0;var o=e(9770),f=e(72227),l=(0,o.createTokenClass)();l.prototype={toString:function(){return this.v+""}};function c(j){var ie=j?{v:j}:{};return(0,f.inherits)(l,(0,o.createTokenClass)(),ie)}var g=c(),v=c("@"),E=c(":"),y=c("."),p=c(),O=c(),S=c(`
`),x=c(),T=c("+"),_=c("#"),d=c(),s=c("mailto:"),w=c("?"),P=c("/"),I=c("_"),D=c(),N=c(),C=c(),A=c("{"),L=c("["),U=c("<"),W=c("("),G=c("}"),$=c("]"),q=c(">"),J=c(")"),R=c("&");u.Base=l,u.DOMAIN=g,u.AT=v,u.COLON=E,u.DOT=y,u.PUNCTUATION=p,u.LOCALHOST=O,u.NL=S,u.NUM=x,u.PLUS=T,u.POUND=_,u.QUERY=w,u.PROTOCOL=d,u.MAILTO=s,u.SLASH=P,u.UNDERSCORE=I,u.SYM=D,u.TLD=N,u.WS=C,u.OPENBRACE=A,u.OPENBRACKET=L,u.OPENANGLEBRACKET=U,u.OPENPAREN=W,u.CLOSEBRACE=G,u.CLOSEBRACKET=$,u.CLOSEANGLEBRACKET=q,u.CLOSEPAREN=J,u.AMPERSAND=R},72227:(z,u)=>{"use strict";u.__esModule=!0,u.inherits=e;function e(o,f){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=Object.create(o.prototype);for(var g in l)c[g]=l[g];return c.constructor=f,f.prototype=c,f}},47951:(z,u)=>{"use strict";u.__esModule=!0;var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},o={defaultProtocol:"http",events:null,format:c,formatHref:c,nl2br:!1,tagName:"a",target:g,validate:!0,ignoreTags:[],attributes:null,className:"linkified"};u.defaults=o,u.Options=f,u.contains=l;function f(v){v=v||{},this.defaultProtocol=v.hasOwnProperty("defaultProtocol")?v.defaultProtocol:o.defaultProtocol,this.events=v.hasOwnProperty("events")?v.events:o.events,this.format=v.hasOwnProperty("format")?v.format:o.format,this.formatHref=v.hasOwnProperty("formatHref")?v.formatHref:o.formatHref,this.nl2br=v.hasOwnProperty("nl2br")?v.nl2br:o.nl2br,this.tagName=v.hasOwnProperty("tagName")?v.tagName:o.tagName,this.target=v.hasOwnProperty("target")?v.target:o.target,this.validate=v.hasOwnProperty("validate")?v.validate:o.validate,this.ignoreTags=[],this.attributes=v.attributes||v.linkAttributes||o.attributes,this.className=v.hasOwnProperty("className")?v.className:v.linkClass||o.className;for(var E=v.hasOwnProperty("ignoreTags")?v.ignoreTags:o.ignoreTags,y=0;y<E.length;y++)this.ignoreTags.push(E[y].toUpperCase())}f.prototype={resolve:function(E){var y=E.toHref(this.defaultProtocol);return{formatted:this.get("format",E.toString(),E),formattedHref:this.get("formatHref",y,E),tagName:this.get("tagName",y,E),className:this.get("className",y,E),target:this.get("target",y,E),events:this.getObject("events",y,E),attributes:this.getObject("attributes",y,E)}},check:function(E){return this.get("validate",E.toString(),E)},get:function(E,y,p){var O=void 0,S=this[E];if(!S)return S;switch(typeof S=="undefined"?"undefined":e(S)){case"function":return S(y,p.type);case"object":return O=S.hasOwnProperty(p.type)?S[p.type]:o[E],typeof O=="function"?O(y,p.type):O}return S},getObject:function(E,y,p){var O=this[E];return typeof O=="function"?O(y,p.type):O}};function l(v,E){for(var y=0;y<v.length;y++)if(v[y]===E)return!0;return!1}function c(v){return v}function g(v,E){return E==="url"?"_blank":null}},28175:(z,u,e)=>{z.exports=e(87100).default},18552:(z,u,e)=>{var o=e(10852),f=e(55639),l=o(f,"DataView");z.exports=l},1989:(z,u,e)=>{var o=e(51789),f=e(80401),l=e(57667),c=e(21327),g=e(81866);function v(E){var y=-1,p=E==null?0:E.length;for(this.clear();++y<p;){var O=E[y];this.set(O[0],O[1])}}v.prototype.clear=o,v.prototype.delete=f,v.prototype.get=l,v.prototype.has=c,v.prototype.set=g,z.exports=v},38407:(z,u,e)=>{var o=e(27040),f=e(14125),l=e(82117),c=e(67518),g=e(54705);function v(E){var y=-1,p=E==null?0:E.length;for(this.clear();++y<p;){var O=E[y];this.set(O[0],O[1])}}v.prototype.clear=o,v.prototype.delete=f,v.prototype.get=l,v.prototype.has=c,v.prototype.set=g,z.exports=v},57071:(z,u,e)=>{var o=e(10852),f=e(55639),l=o(f,"Map");z.exports=l},83369:(z,u,e)=>{var o=e(24785),f=e(11285),l=e(96e3),c=e(49916),g=e(95265);function v(E){var y=-1,p=E==null?0:E.length;for(this.clear();++y<p;){var O=E[y];this.set(O[0],O[1])}}v.prototype.clear=o,v.prototype.delete=f,v.prototype.get=l,v.prototype.has=c,v.prototype.set=g,z.exports=v},53818:(z,u,e)=>{var o=e(10852),f=e(55639),l=o(f,"Promise");z.exports=l},58525:(z,u,e)=>{var o=e(10852),f=e(55639),l=o(f,"Set");z.exports=l},88668:(z,u,e)=>{var o=e(83369),f=e(90619),l=e(72385);function c(g){var v=-1,E=g==null?0:g.length;for(this.__data__=new o;++v<E;)this.add(g[v])}c.prototype.add=c.prototype.push=f,c.prototype.has=l,z.exports=c},46384:(z,u,e)=>{var o=e(38407),f=e(37465),l=e(63779),c=e(67599),g=e(44758),v=e(34309);function E(y){var p=this.__data__=new o(y);this.size=p.size}E.prototype.clear=f,E.prototype.delete=l,E.prototype.get=c,E.prototype.has=g,E.prototype.set=v,z.exports=E},62705:(z,u,e)=>{var o=e(55639),f=o.Symbol;z.exports=f},11149:(z,u,e)=>{var o=e(55639),f=o.Uint8Array;z.exports=f},70577:(z,u,e)=>{var o=e(10852),f=e(55639),l=o(f,"WeakMap");z.exports=l},96874:z=>{function u(e,o,f){switch(f.length){case 0:return e.call(o);case 1:return e.call(o,f[0]);case 2:return e.call(o,f[0],f[1]);case 3:return e.call(o,f[0],f[1],f[2])}return e.apply(o,f)}z.exports=u},44174:z=>{function u(e,o,f,l){for(var c=-1,g=e==null?0:e.length;++c<g;){var v=e[c];o(l,v,f(v),e)}return l}z.exports=u},34963:z=>{function u(e,o){for(var f=-1,l=e==null?0:e.length,c=0,g=[];++f<l;){var v=e[f];o(v,f,e)&&(g[c++]=v)}return g}z.exports=u},47443:(z,u,e)=>{var o=e(42118);function f(l,c){var g=l==null?0:l.length;return!!g&&o(l,c,0)>-1}z.exports=f},1196:z=>{function u(e,o,f){for(var l=-1,c=e==null?0:e.length;++l<c;)if(f(o,e[l]))return!0;return!1}z.exports=u},14636:(z,u,e)=>{var o=e(22545),f=e(35694),l=e(1469),c=e(44144),g=e(65776),v=e(36719),E=Object.prototype,y=E.hasOwnProperty;function p(O,S){var x=l(O),T=!x&&f(O),_=!x&&!T&&c(O),d=!x&&!T&&!_&&v(O),s=x||T||_||d,w=s?o(O.length,String):[],P=w.length;for(var I in O)(S||y.call(O,I))&&!(s&&(I=="length"||_&&(I=="offset"||I=="parent")||d&&(I=="buffer"||I=="byteLength"||I=="byteOffset")||g(I,P)))&&w.push(I);return w}z.exports=p},29932:z=>{function u(e,o){for(var f=-1,l=e==null?0:e.length,c=Array(l);++f<l;)c[f]=o(e[f],f,e);return c}z.exports=u},62488:z=>{function u(e,o){for(var f=-1,l=o.length,c=e.length;++f<l;)e[c+f]=o[f];return e}z.exports=u},82908:z=>{function u(e,o){for(var f=-1,l=e==null?0:e.length;++f<l;)if(o(e[f],f,e))return!0;return!1}z.exports=u},44286:z=>{function u(e){return e.split("")}z.exports=u},34865:(z,u,e)=>{var o=e(89465),f=e(77813),l=Object.prototype,c=l.hasOwnProperty;function g(v,E,y){var p=v[E];(!(c.call(v,E)&&f(p,y))||y===void 0&&!(E in v))&&o(v,E,y)}z.exports=g},18470:(z,u,e)=>{var o=e(77813);function f(l,c){for(var g=l.length;g--;)if(o(l[g][0],c))return g;return-1}z.exports=f},81119:(z,u,e)=>{var o=e(89881);function f(l,c,g,v){return o(l,function(E,y,p){c(v,E,g(E),p)}),v}z.exports=f},89465:(z,u,e)=>{var o=e(38777);function f(l,c,g){c=="__proto__"&&o?o(l,c,{configurable:!0,enumerable:!0,value:g,writable:!0}):l[c]=g}z.exports=f},20731:(z,u,e)=>{var o=e(88668),f=e(47443),l=e(1196),c=e(29932),g=e(7518),v=e(74757),E=200;function y(p,O,S,x){var T=-1,_=f,d=!0,s=p.length,w=[],P=O.length;if(!s)return w;S&&(O=c(O,g(S))),x?(_=l,d=!1):O.length>=E&&(_=v,d=!1,O=new o(O));e:for(;++T<s;){var I=p[T],D=S==null?I:S(I);if(I=x||I!==0?I:0,d&&D===D){for(var N=P;N--;)if(O[N]===D)continue e;w.push(I)}else _(O,D,x)||w.push(I)}return w}z.exports=y},89881:(z,u,e)=>{var o=e(47816),f=e(99291),l=f(o);z.exports=l},56029:(z,u,e)=>{var o=e(33448);function f(l,c,g){for(var v=-1,E=l.length;++v<E;){var y=l[v],p=c(y);if(p!=null&&(O===void 0?p===p&&!o(p):g(p,O)))var O=p,S=y}return S}z.exports=f},41848:z=>{function u(e,o,f,l){for(var c=e.length,g=f+(l?1:-1);l?g--:++g<c;)if(o(e[g],g,e))return g;return-1}z.exports=u},21078:(z,u,e)=>{var o=e(62488),f=e(37285);function l(c,g,v,E,y){var p=-1,O=c.length;for(v||(v=f),y||(y=[]);++p<O;){var S=c[p];g>0&&v(S)?g>1?l(S,g-1,v,E,y):o(y,S):E||(y[y.length]=S)}return y}z.exports=l},28483:(z,u,e)=>{var o=e(25063),f=o();z.exports=f},47816:(z,u,e)=>{var o=e(28483),f=e(3674);function l(c,g){return c&&o(c,g,f)}z.exports=l},97786:(z,u,e)=>{var o=e(71811),f=e(40327);function l(c,g){g=o(g,c);for(var v=0,E=g.length;c!=null&&v<E;)c=c[f(g[v++])];return v&&v==E?c:void 0}z.exports=l},68866:(z,u,e)=>{var o=e(62488),f=e(1469);function l(c,g,v){var E=g(c);return f(c)?E:o(E,v(c))}z.exports=l},44239:(z,u,e)=>{var o=e(62705),f=e(89607),l=e(2333),c="[object Null]",g="[object Undefined]",v=o?o.toStringTag:void 0;function E(y){return y==null?y===void 0?g:c:v&&v in Object(y)?f(y):l(y)}z.exports=E},53325:z=>{function u(e,o){return e>o}z.exports=u},13:z=>{function u(e,o){return e!=null&&o in Object(e)}z.exports=u},42118:(z,u,e)=>{var o=e(41848),f=e(62722),l=e(42351);function c(g,v,E){return v===v?l(g,v,E):o(g,f,E)}z.exports=c},9454:(z,u,e)=>{var o=e(44239),f=e(37005),l="[object Arguments]";function c(g){return f(g)&&o(g)==l}z.exports=c},90939:(z,u,e)=>{var o=e(2492),f=e(37005);function l(c,g,v,E,y){return c===g?!0:c==null||g==null||!f(c)&&!f(g)?c!==c&&g!==g:o(c,g,v,E,l,y)}z.exports=l},2492:(z,u,e)=>{var o=e(46384),f=e(67114),l=e(18351),c=e(16096),g=e(64160),v=e(1469),E=e(44144),y=e(36719),p=1,O="[object Arguments]",S="[object Array]",x="[object Object]",T=Object.prototype,_=T.hasOwnProperty;function d(s,w,P,I,D,N){var C=v(s),A=v(w),L=C?S:g(s),U=A?S:g(w);L=L==O?x:L,U=U==O?x:U;var W=L==x,G=U==x,$=L==U;if($&&E(s)){if(!E(w))return!1;C=!0,W=!1}if($&&!W)return N||(N=new o),C||y(s)?f(s,w,P,I,D,N):l(s,w,L,P,I,D,N);if(!(P&p)){var q=W&&_.call(s,"__wrapped__"),J=G&&_.call(w,"__wrapped__");if(q||J){var R=q?s.value():s,j=J?w.value():w;return N||(N=new o),D(R,j,P,I,N)}}return $?(N||(N=new o),c(s,w,P,I,D,N)):!1}z.exports=d},2958:(z,u,e)=>{var o=e(46384),f=e(90939),l=1,c=2;function g(v,E,y,p){var O=y.length,S=O,x=!p;if(v==null)return!S;for(v=Object(v);O--;){var T=y[O];if(x&&T[2]?T[1]!==v[T[0]]:!(T[0]in v))return!1}for(;++O<S;){T=y[O];var _=T[0],d=v[_],s=T[1];if(x&&T[2]){if(d===void 0&&!(_ in v))return!1}else{var w=new o;if(p)var P=p(d,s,_,v,E,w);if(!(P===void 0?f(s,d,l|c,p,w):P))return!1}}return!0}z.exports=g},62722:z=>{function u(e){return e!==e}z.exports=u},28458:(z,u,e)=>{var o=e(23560),f=e(15346),l=e(13218),c=e(80346),g=/[\\^$.*+?()[\]{}|]/g,v=/^\[object .+?Constructor\]$/,E=Function.prototype,y=Object.prototype,p=E.toString,O=y.hasOwnProperty,S=RegExp("^"+p.call(O).replace(g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function x(T){if(!l(T)||f(T))return!1;var _=o(T)?S:v;return _.test(c(T))}z.exports=x},38749:(z,u,e)=>{var o=e(44239),f=e(41780),l=e(37005),c="[object Arguments]",g="[object Array]",v="[object Boolean]",E="[object Date]",y="[object Error]",p="[object Function]",O="[object Map]",S="[object Number]",x="[object Object]",T="[object RegExp]",_="[object Set]",d="[object String]",s="[object WeakMap]",w="[object ArrayBuffer]",P="[object DataView]",I="[object Float32Array]",D="[object Float64Array]",N="[object Int8Array]",C="[object Int16Array]",A="[object Int32Array]",L="[object Uint8Array]",U="[object Uint8ClampedArray]",W="[object Uint16Array]",G="[object Uint32Array]",$={};$[I]=$[D]=$[N]=$[C]=$[A]=$[L]=$[U]=$[W]=$[G]=!0,$[c]=$[g]=$[w]=$[v]=$[P]=$[E]=$[y]=$[p]=$[O]=$[S]=$[x]=$[T]=$[_]=$[d]=$[s]=!1;function q(J){return l(J)&&f(J.length)&&!!$[o(J)]}z.exports=q},67206:(z,u,e)=>{var o=e(91573),f=e(16432),l=e(6557),c=e(1469),g=e(39601);function v(E){return typeof E=="function"?E:E==null?l:typeof E=="object"?c(E)?f(E[0],E[1]):o(E):g(E)}z.exports=v},280:(z,u,e)=>{var o=e(25726),f=e(86916),l=Object.prototype,c=l.hasOwnProperty;function g(v){if(!o(v))return f(v);var E=[];for(var y in Object(v))c.call(v,y)&&y!="constructor"&&E.push(y);return E}z.exports=g},69199:(z,u,e)=>{var o=e(89881),f=e(98612);function l(c,g){var v=-1,E=f(c)?Array(c.length):[];return o(c,function(y,p,O){E[++v]=g(y,p,O)}),E}z.exports=l},91573:(z,u,e)=>{var o=e(2958),f=e(1499),l=e(42634);function c(g){var v=f(g);return v.length==1&&v[0][2]?l(v[0][0],v[0][1]):function(E){return E===g||o(E,g,v)}}z.exports=c},16432:(z,u,e)=>{var o=e(90939),f=e(27361),l=e(79095),c=e(15403),g=e(89162),v=e(42634),E=e(40327),y=1,p=2;function O(S,x){return c(S)&&g(x)?v(E(S),x):function(T){var _=f(T,S);return _===void 0&&_===x?l(T,S):o(x,_,y|p)}}z.exports=O},82689:(z,u,e)=>{var o=e(29932),f=e(97786),l=e(67206),c=e(69199),g=e(71131),v=e(7518),E=e(85022),y=e(6557),p=e(1469);function O(S,x,T){x.length?x=o(x,function(s){return p(s)?function(w){return f(w,s.length===1?s[0]:s)}:s}):x=[y];var _=-1;x=o(x,v(l));var d=c(S,function(s,w,P){var I=o(x,function(D){return D(s)});return{criteria:I,index:++_,value:s}});return g(d,function(s,w){return E(s,w,T)})}z.exports=O},25970:(z,u,e)=>{var o=e(63012),f=e(79095);function l(c,g){return o(c,g,function(v,E){return f(c,E)})}z.exports=l},63012:(z,u,e)=>{var o=e(97786),f=e(10611),l=e(71811);function c(g,v,E){for(var y=-1,p=v.length,O={};++y<p;){var S=v[y],x=o(g,S);E(x,S)&&f(O,l(S,g),x)}return O}z.exports=c},40371:z=>{function u(e){return function(o){return o==null?void 0:o[e]}}z.exports=u},79152:(z,u,e)=>{var o=e(97786);function f(l){return function(c){return o(c,l)}}z.exports=f},5976:(z,u,e)=>{var o=e(6557),f=e(45357),l=e(30061);function c(g,v){return l(f(g,v,o),g+"")}z.exports=c},10611:(z,u,e)=>{var o=e(34865),f=e(71811),l=e(65776),c=e(13218),g=e(40327);function v(E,y,p,O){if(!c(E))return E;y=f(y,E);for(var S=-1,x=y.length,T=x-1,_=E;_!=null&&++S<x;){var d=g(y[S]),s=p;if(d==="__proto__"||d==="constructor"||d==="prototype")return E;if(S!=T){var w=_[d];s=O?O(w,d,_):void 0,s===void 0&&(s=c(w)?w:l(y[S+1])?[]:{})}o(_,d,s),_=_[d]}return E}z.exports=v},56560:(z,u,e)=>{var o=e(75703),f=e(38777),l=e(6557),c=f?function(g,v){return f(g,"toString",{configurable:!0,enumerable:!1,value:o(v),writable:!0})}:l;z.exports=c},14259:z=>{function u(e,o,f){var l=-1,c=e.length;o<0&&(o=-o>c?0:c+o),f=f>c?c:f,f<0&&(f+=c),c=o>f?0:f-o>>>0,o>>>=0;for(var g=Array(c);++l<c;)g[l]=e[l+o];return g}z.exports=u},71131:z=>{function u(e,o){var f=e.length;for(e.sort(o);f--;)e[f]=e[f].value;return e}z.exports=u},67762:z=>{function u(e,o){for(var f,l=-1,c=e.length;++l<c;){var g=o(e[l]);g!==void 0&&(f=f===void 0?g:f+g)}return f}z.exports=u},22545:z=>{function u(e,o){for(var f=-1,l=Array(e);++f<e;)l[f]=o(f);return l}z.exports=u},80531:(z,u,e)=>{var o=e(62705),f=e(29932),l=e(1469),c=e(33448),g=1/0,v=o?o.prototype:void 0,E=v?v.toString:void 0;function y(p){if(typeof p=="string")return p;if(l(p))return f(p,y)+"";if(c(p))return E?E.call(p):"";var O=p+"";return O=="0"&&1/p==-g?"-0":O}z.exports=y},27561:(z,u,e)=>{var o=e(67990),f=/^\s+/;function l(c){return c&&c.slice(0,o(c)+1).replace(f,"")}z.exports=l},7518:z=>{function u(e){return function(o){return e(o)}}z.exports=u},45652:(z,u,e)=>{var o=e(88668),f=e(47443),l=e(1196),c=e(74757),g=e(23593),v=e(21814),E=200;function y(p,O,S){var x=-1,T=f,_=p.length,d=!0,s=[],w=s;if(S)d=!1,T=l;else if(_>=E){var P=O?null:g(p);if(P)return v(P);d=!1,T=c,w=new o}else w=O?[]:s;e:for(;++x<_;){var I=p[x],D=O?O(I):I;if(I=S||I!==0?I:0,d&&D===D){for(var N=w.length;N--;)if(w[N]===D)continue e;O&&w.push(D),s.push(I)}else T(w,D,S)||(w!==s&&w.push(D),s.push(I))}return s}z.exports=y},74757:z=>{function u(e,o){return e.has(o)}z.exports=u},54290:(z,u,e)=>{var o=e(6557);function f(l){return typeof l=="function"?l:o}z.exports=f},71811:(z,u,e)=>{var o=e(1469),f=e(15403),l=e(55514),c=e(79833);function g(v,E){return o(v)?v:f(v,E)?[v]:l(c(v))}z.exports=g},40180:(z,u,e)=>{var o=e(14259);function f(l,c,g){var v=l.length;return g=g===void 0?v:g,!c&&g>=v?l:o(l,c,g)}z.exports=f},26393:(z,u,e)=>{var o=e(33448);function f(l,c){if(l!==c){var g=l!==void 0,v=l===null,E=l===l,y=o(l),p=c!==void 0,O=c===null,S=c===c,x=o(c);if(!O&&!x&&!y&&l>c||y&&p&&S&&!O&&!x||v&&p&&S||!g&&S||!E)return 1;if(!v&&!y&&!x&&l<c||x&&g&&E&&!v&&!y||O&&g&&E||!p&&E||!S)return-1}return 0}z.exports=f},85022:(z,u,e)=>{var o=e(26393);function f(l,c,g){for(var v=-1,E=l.criteria,y=c.criteria,p=E.length,O=g.length;++v<p;){var S=o(E[v],y[v]);if(S){if(v>=O)return S;var x=g[v];return S*(x=="desc"?-1:1)}}return l.index-c.index}z.exports=f},14429:(z,u,e)=>{var o=e(55639),f=o["__core-js_shared__"];z.exports=f},55189:(z,u,e)=>{var o=e(44174),f=e(81119),l=e(67206),c=e(1469);function g(v,E){return function(y,p){var O=c(y)?o:f,S=E?E():{};return O(y,v,l(p,2),S)}}z.exports=g},99291:(z,u,e)=>{var o=e(98612);function f(l,c){return function(g,v){if(g==null)return g;if(!o(g))return l(g,v);for(var E=g.length,y=c?E:-1,p=Object(g);(c?y--:++y<E)&&v(p[y],y,p)!==!1;);return g}}z.exports=f},25063:z=>{function u(e){return function(o,f,l){for(var c=-1,g=Object(o),v=l(o),E=v.length;E--;){var y=v[e?E:++c];if(f(g[y],y,g)===!1)break}return o}}z.exports=u},98805:(z,u,e)=>{var o=e(40180),f=e(62689),l=e(83140),c=e(79833);function g(v){return function(E){E=c(E);var y=f(E)?l(E):void 0,p=y?y[0]:E.charAt(0),O=y?o(y,1).join(""):E.slice(1);return p[v]()+O}}z.exports=g},23593:(z,u,e)=>{var o=e(58525),f=e(50308),l=e(21814),c=1/0,g=o&&1/l(new o([,-0]))[1]==c?function(v){return new o(v)}:f;z.exports=g},38777:(z,u,e)=>{var o=e(10852),f=function(){try{var l=o(Object,"defineProperty");return l({},"",{}),l}catch(c){}}();z.exports=f},67114:(z,u,e)=>{var o=e(88668),f=e(82908),l=e(74757),c=1,g=2;function v(E,y,p,O,S,x){var T=p&c,_=E.length,d=y.length;if(_!=d&&!(T&&d>_))return!1;var s=x.get(E),w=x.get(y);if(s&&w)return s==y&&w==E;var P=-1,I=!0,D=p&g?new o:void 0;for(x.set(E,y),x.set(y,E);++P<_;){var N=E[P],C=y[P];if(O)var A=T?O(C,N,P,y,E,x):O(N,C,P,E,y,x);if(A!==void 0){if(A)continue;I=!1;break}if(D){if(!f(y,function(L,U){if(!l(D,U)&&(N===L||S(N,L,p,O,x)))return D.push(U)})){I=!1;break}}else if(!(N===C||S(N,C,p,O,x))){I=!1;break}}return x.delete(E),x.delete(y),I}z.exports=v},18351:(z,u,e)=>{var o=e(62705),f=e(11149),l=e(77813),c=e(67114),g=e(68776),v=e(21814),E=1,y=2,p="[object Boolean]",O="[object Date]",S="[object Error]",x="[object Map]",T="[object Number]",_="[object RegExp]",d="[object Set]",s="[object String]",w="[object Symbol]",P="[object ArrayBuffer]",I="[object DataView]",D=o?o.prototype:void 0,N=D?D.valueOf:void 0;function C(A,L,U,W,G,$,q){switch(U){case I:if(A.byteLength!=L.byteLength||A.byteOffset!=L.byteOffset)return!1;A=A.buffer,L=L.buffer;case P:return!(A.byteLength!=L.byteLength||!$(new f(A),new f(L)));case p:case O:case T:return l(+A,+L);case S:return A.name==L.name&&A.message==L.message;case _:case s:return A==L+"";case x:var J=g;case d:var R=W&E;if(J||(J=v),A.size!=L.size&&!R)return!1;var j=q.get(A);if(j)return j==L;W|=y,q.set(A,L);var ie=c(J(A),J(L),W,G,$,q);return q.delete(A),ie;case w:if(N)return N.call(A)==N.call(L)}return!1}z.exports=C},16096:(z,u,e)=>{var o=e(58234),f=1,l=Object.prototype,c=l.hasOwnProperty;function g(v,E,y,p,O,S){var x=y&f,T=o(v),_=T.length,d=o(E),s=d.length;if(_!=s&&!x)return!1;for(var w=_;w--;){var P=T[w];if(!(x?P in E:c.call(E,P)))return!1}var I=S.get(v),D=S.get(E);if(I&&D)return I==E&&D==v;var N=!0;S.set(v,E),S.set(E,v);for(var C=x;++w<_;){P=T[w];var A=v[P],L=E[P];if(p)var U=x?p(L,A,P,E,v,S):p(A,L,P,v,E,S);if(!(U===void 0?A===L||O(A,L,y,p,S):U)){N=!1;break}C||(C=P=="constructor")}if(N&&!C){var W=v.constructor,G=E.constructor;W!=G&&"constructor"in v&&"constructor"in E&&!(typeof W=="function"&&W instanceof W&&typeof G=="function"&&G instanceof G)&&(N=!1)}return S.delete(v),S.delete(E),N}z.exports=g},99021:(z,u,e)=>{var o=e(85564),f=e(45357),l=e(30061);function c(g){return l(f(g,void 0,o),g+"")}z.exports=c},31957:(z,u,e)=>{var o=typeof e.g=="object"&&e.g&&e.g.Object===Object&&e.g;z.exports=o},58234:(z,u,e)=>{var o=e(68866),f=e(99551),l=e(3674);function c(g){return o(g,l,f)}z.exports=c},45050:(z,u,e)=>{var o=e(37019);function f(l,c){var g=l.__data__;return o(c)?g[typeof c=="string"?"string":"hash"]:g.map}z.exports=f},1499:(z,u,e)=>{var o=e(89162),f=e(3674);function l(c){for(var g=f(c),v=g.length;v--;){var E=g[v],y=c[E];g[v]=[E,y,o(y)]}return g}z.exports=l},10852:(z,u,e)=>{var o=e(28458),f=e(47801);function l(c,g){var v=f(c,g);return o(v)?v:void 0}z.exports=l},89607:(z,u,e)=>{var o=e(62705),f=Object.prototype,l=f.hasOwnProperty,c=f.toString,g=o?o.toStringTag:void 0;function v(E){var y=l.call(E,g),p=E[g];try{E[g]=void 0;var O=!0}catch(x){}var S=c.call(E);return O&&(y?E[g]=p:delete E[g]),S}z.exports=v},99551:(z,u,e)=>{var o=e(34963),f=e(70479),l=Object.prototype,c=l.propertyIsEnumerable,g=Object.getOwnPropertySymbols,v=g?function(E){return E==null?[]:(E=Object(E),o(g(E),function(y){return c.call(E,y)}))}:f;z.exports=v},64160:(z,u,e)=>{var o=e(18552),f=e(57071),l=e(53818),c=e(58525),g=e(70577),v=e(44239),E=e(80346),y="[object Map]",p="[object Object]",O="[object Promise]",S="[object Set]",x="[object WeakMap]",T="[object DataView]",_=E(o),d=E(f),s=E(l),w=E(c),P=E(g),I=v;(o&&I(new o(new ArrayBuffer(1)))!=T||f&&I(new f)!=y||l&&I(l.resolve())!=O||c&&I(new c)!=S||g&&I(new g)!=x)&&(I=function(D){var N=v(D),C=N==p?D.constructor:void 0,A=C?E(C):"";if(A)switch(A){case _:return T;case d:return y;case s:return O;case w:return S;case P:return x}return N}),z.exports=I},47801:z=>{function u(e,o){return e==null?void 0:e[o]}z.exports=u},222:(z,u,e)=>{var o=e(71811),f=e(35694),l=e(1469),c=e(65776),g=e(41780),v=e(40327);function E(y,p,O){p=o(p,y);for(var S=-1,x=p.length,T=!1;++S<x;){var _=v(p[S]);if(!(T=y!=null&&O(y,_)))break;y=y[_]}return T||++S!=x?T:(x=y==null?0:y.length,!!x&&g(x)&&c(_,x)&&(l(y)||f(y)))}z.exports=E},62689:z=>{var u="\\ud800-\\udfff",e="\\u0300-\\u036f",o="\\ufe20-\\ufe2f",f="\\u20d0-\\u20ff",l=e+o+f,c="\\ufe0e\\ufe0f",g="\\u200d",v=RegExp("["+g+u+l+c+"]");function E(y){return v.test(y)}z.exports=E},51789:(z,u,e)=>{var o=e(94536);function f(){this.__data__=o?o(null):{},this.size=0}z.exports=f},80401:z=>{function u(e){var o=this.has(e)&&delete this.__data__[e];return this.size-=o?1:0,o}z.exports=u},57667:(z,u,e)=>{var o=e(94536),f="__lodash_hash_undefined__",l=Object.prototype,c=l.hasOwnProperty;function g(v){var E=this.__data__;if(o){var y=E[v];return y===f?void 0:y}return c.call(E,v)?E[v]:void 0}z.exports=g},21327:(z,u,e)=>{var o=e(94536),f=Object.prototype,l=f.hasOwnProperty;function c(g){var v=this.__data__;return o?v[g]!==void 0:l.call(v,g)}z.exports=c},81866:(z,u,e)=>{var o=e(94536),f="__lodash_hash_undefined__";function l(c,g){var v=this.__data__;return this.size+=this.has(c)?0:1,v[c]=o&&g===void 0?f:g,this}z.exports=l},37285:(z,u,e)=>{var o=e(62705),f=e(35694),l=e(1469),c=o?o.isConcatSpreadable:void 0;function g(v){return l(v)||f(v)||!!(c&&v&&v[c])}z.exports=g},65776:z=>{var u=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function o(f,l){var c=typeof f;return l=l==null?u:l,!!l&&(c=="number"||c!="symbol"&&e.test(f))&&f>-1&&f%1==0&&f<l}z.exports=o},16612:(z,u,e)=>{var o=e(77813),f=e(98612),l=e(65776),c=e(13218);function g(v,E,y){if(!c(y))return!1;var p=typeof E;return(p=="number"?f(y)&&l(E,y.length):p=="string"&&E in y)?o(y[E],v):!1}z.exports=g},15403:(z,u,e)=>{var o=e(1469),f=e(33448),l=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c=/^\w*$/;function g(v,E){if(o(v))return!1;var y=typeof v;return y=="number"||y=="symbol"||y=="boolean"||v==null||f(v)?!0:c.test(v)||!l.test(v)||E!=null&&v in Object(E)}z.exports=g},37019:z=>{function u(e){var o=typeof e;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?e!=="__proto__":e===null}z.exports=u},15346:(z,u,e)=>{var o=e(14429),f=function(){var c=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}();function l(c){return!!f&&f in c}z.exports=l},25726:z=>{var u=Object.prototype;function e(o){var f=o&&o.constructor,l=typeof f=="function"&&f.prototype||u;return o===l}z.exports=e},89162:(z,u,e)=>{var o=e(13218);function f(l){return l===l&&!o(l)}z.exports=f},27040:z=>{function u(){this.__data__=[],this.size=0}z.exports=u},14125:(z,u,e)=>{var o=e(18470),f=Array.prototype,l=f.splice;function c(g){var v=this.__data__,E=o(v,g);if(E<0)return!1;var y=v.length-1;return E==y?v.pop():l.call(v,E,1),--this.size,!0}z.exports=c},82117:(z,u,e)=>{var o=e(18470);function f(l){var c=this.__data__,g=o(c,l);return g<0?void 0:c[g][1]}z.exports=f},67518:(z,u,e)=>{var o=e(18470);function f(l){return o(this.__data__,l)>-1}z.exports=f},54705:(z,u,e)=>{var o=e(18470);function f(l,c){var g=this.__data__,v=o(g,l);return v<0?(++this.size,g.push([l,c])):g[v][1]=c,this}z.exports=f},24785:(z,u,e)=>{var o=e(1989),f=e(38407),l=e(57071);function c(){this.size=0,this.__data__={hash:new o,map:new(l||f),string:new o}}z.exports=c},11285:(z,u,e)=>{var o=e(45050);function f(l){var c=o(this,l).delete(l);return this.size-=c?1:0,c}z.exports=f},96e3:(z,u,e)=>{var o=e(45050);function f(l){return o(this,l).get(l)}z.exports=f},49916:(z,u,e)=>{var o=e(45050);function f(l){return o(this,l).has(l)}z.exports=f},95265:(z,u,e)=>{var o=e(45050);function f(l,c){var g=o(this,l),v=g.size;return g.set(l,c),this.size+=g.size==v?0:1,this}z.exports=f},68776:z=>{function u(e){var o=-1,f=Array(e.size);return e.forEach(function(l,c){f[++o]=[c,l]}),f}z.exports=u},42634:z=>{function u(e,o){return function(f){return f==null?!1:f[e]===o&&(o!==void 0||e in Object(f))}}z.exports=u},24523:(z,u,e)=>{var o=e(88306),f=500;function l(c){var g=o(c,function(E){return v.size===f&&v.clear(),E}),v=g.cache;return g}z.exports=l},94536:(z,u,e)=>{var o=e(10852),f=o(Object,"create");z.exports=f},86916:(z,u,e)=>{var o=e(5569),f=o(Object.keys,Object);z.exports=f},31167:(z,u,e)=>{z=e.nmd(z);var o=e(31957),f=u&&!u.nodeType&&u,l=f&&!0&&z&&!z.nodeType&&z,c=l&&l.exports===f,g=c&&o.process,v=function(){try{var E=l&&l.require&&l.require("util").types;return E||g&&g.binding&&g.binding("util")}catch(y){}}();z.exports=v},2333:z=>{var u=Object.prototype,e=u.toString;function o(f){return e.call(f)}z.exports=o},5569:z=>{function u(e,o){return function(f){return e(o(f))}}z.exports=u},45357:(z,u,e)=>{var o=e(96874),f=Math.max;function l(c,g,v){return g=f(g===void 0?c.length-1:g,0),function(){for(var E=arguments,y=-1,p=f(E.length-g,0),O=Array(p);++y<p;)O[y]=E[g+y];y=-1;for(var S=Array(g+1);++y<g;)S[y]=E[y];return S[g]=v(O),o(c,this,S)}}z.exports=l},55639:(z,u,e)=>{var o=e(31957),f=typeof self=="object"&&self&&self.Object===Object&&self,l=o||f||Function("return this")();z.exports=l},90619:z=>{var u="__lodash_hash_undefined__";function e(o){return this.__data__.set(o,u),this}z.exports=e},72385:z=>{function u(e){return this.__data__.has(e)}z.exports=u},21814:z=>{function u(e){var o=-1,f=Array(e.size);return e.forEach(function(l){f[++o]=l}),f}z.exports=u},30061:(z,u,e)=>{var o=e(56560),f=e(21275),l=f(o);z.exports=l},21275:z=>{var u=800,e=16,o=Date.now;function f(l){var c=0,g=0;return function(){var v=o(),E=e-(v-g);if(g=v,E>0){if(++c>=u)return arguments[0]}else c=0;return l.apply(void 0,arguments)}}z.exports=f},37465:(z,u,e)=>{var o=e(38407);function f(){this.__data__=new o,this.size=0}z.exports=f},63779:z=>{function u(e){var o=this.__data__,f=o.delete(e);return this.size=o.size,f}z.exports=u},67599:z=>{function u(e){return this.__data__.get(e)}z.exports=u},44758:z=>{function u(e){return this.__data__.has(e)}z.exports=u},34309:(z,u,e)=>{var o=e(38407),f=e(57071),l=e(83369),c=200;function g(v,E){var y=this.__data__;if(y instanceof o){var p=y.__data__;if(!f||p.length<c-1)return p.push([v,E]),this.size=++y.size,this;y=this.__data__=new l(p)}return y.set(v,E),this.size=y.size,this}z.exports=g},42351:z=>{function u(e,o,f){for(var l=f-1,c=e.length;++l<c;)if(e[l]===o)return l;return-1}z.exports=u},83140:(z,u,e)=>{var o=e(44286),f=e(62689),l=e(676);function c(g){return f(g)?l(g):o(g)}z.exports=c},55514:(z,u,e)=>{var o=e(24523),f=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,l=/\\(\\)?/g,c=o(function(g){var v=[];return g.charCodeAt(0)===46&&v.push(""),g.replace(f,function(E,y,p,O){v.push(p?O.replace(l,"$1"):y||E)}),v});z.exports=c},40327:(z,u,e)=>{var o=e(33448),f=1/0;function l(c){if(typeof c=="string"||o(c))return c;var g=c+"";return g=="0"&&1/c==-f?"-0":g}z.exports=l},80346:z=>{var u=Function.prototype,e=u.toString;function o(f){if(f!=null){try{return e.call(f)}catch(l){}try{return f+""}catch(l){}}return""}z.exports=o},67990:z=>{var u=/\s/;function e(o){for(var f=o.length;f--&&u.test(o.charAt(f)););return f}z.exports=e},676:z=>{var u="\\ud800-\\udfff",e="\\u0300-\\u036f",o="\\ufe20-\\ufe2f",f="\\u20d0-\\u20ff",l=e+o+f,c="\\ufe0e\\ufe0f",g="["+u+"]",v="["+l+"]",E="\\ud83c[\\udffb-\\udfff]",y="(?:"+v+"|"+E+")",p="[^"+u+"]",O="(?:\\ud83c[\\udde6-\\uddff]){2}",S="[\\ud800-\\udbff][\\udc00-\\udfff]",x="\\u200d",T=y+"?",_="["+c+"]?",d="(?:"+x+"(?:"+[p,O,S].join("|")+")"+_+T+")*",s=_+T+d,w="(?:"+[p+v+"?",v,O,S,g].join("|")+")",P=RegExp(E+"(?="+E+")|"+w+s,"g");function I(D){return D.match(P)||[]}z.exports=I},48403:(z,u,e)=>{var o=e(79833),f=e(11700);function l(c){return f(o(c).toLowerCase())}z.exports=l},8400:(z,u,e)=>{var o=e(14259),f=e(16612),l=e(40554),c=Math.ceil,g=Math.max;function v(E,y,p){(p?f(E,y,p):y===void 0)?y=1:y=g(l(y),0);var O=E==null?0:E.length;if(!O||y<1)return[];for(var S=0,x=0,T=Array(c(O/y));S<O;)T[x++]=o(E,S,S+=y);return T}z.exports=v},39693:z=>{function u(e){for(var o=-1,f=e==null?0:e.length,l=0,c=[];++o<f;){var g=e[o];g&&(c[l++]=g)}return c}z.exports=u},75703:z=>{function u(e){return function(){return e}}z.exports=u},23279:(z,u,e)=>{var o=e(13218),f=e(7771),l=e(14841),c="Expected a function",g=Math.max,v=Math.min;function E(y,p,O){var S,x,T,_,d,s,w=0,P=!1,I=!1,D=!0;if(typeof y!="function")throw new TypeError(c);p=l(p)||0,o(O)&&(P=!!O.leading,I="maxWait"in O,T=I?g(l(O.maxWait)||0,p):T,D="trailing"in O?!!O.trailing:D);function N(J){var R=S,j=x;return S=x=void 0,w=J,_=y.apply(j,R),_}function C(J){return w=J,d=setTimeout(U,p),P?N(J):_}function A(J){var R=J-s,j=J-w,ie=p-R;return I?v(ie,T-j):ie}function L(J){var R=J-s,j=J-w;return s===void 0||R>=p||R<0||I&&j>=T}function U(){var J=f();if(L(J))return W(J);d=setTimeout(U,A(J))}function W(J){return d=void 0,D&&S?N(J):(S=x=void 0,_)}function G(){d!==void 0&&clearTimeout(d),w=0,S=s=x=d=void 0}function $(){return d===void 0?_:W(f())}function q(){var J=f(),R=L(J);if(S=arguments,x=this,s=J,R){if(d===void 0)return C(s);if(I)return clearTimeout(d),d=setTimeout(U,p),N(s)}return d===void 0&&(d=setTimeout(U,p)),_}return q.cancel=G,q.flush=$,q}z.exports=E},77813:z=>{function u(e,o){return e===o||e!==e&&o!==o}z.exports=u},7436:(z,u,e)=>{var o=e(41848),f=e(67206),l=e(40554),c=Math.max,g=Math.min;function v(E,y,p){var O=E==null?0:E.length;if(!O)return-1;var S=O-1;return p!==void 0&&(S=l(p),S=p<0?c(O+S,0):g(S,O-1)),o(E,f(y,3),S,!0)}z.exports=v},85564:(z,u,e)=>{var o=e(21078);function f(l){var c=l==null?0:l.length;return c?o(l,1):[]}z.exports=f},27361:(z,u,e)=>{var o=e(97786);function f(l,c,g){var v=l==null?void 0:o(l,c);return v===void 0?g:v}z.exports=f},7739:(z,u,e)=>{var o=e(89465),f=e(55189),l=Object.prototype,c=l.hasOwnProperty,g=f(function(v,E,y){c.call(v,y)?v[y].push(E):o(v,y,[E])});z.exports=g},79095:(z,u,e)=>{var o=e(13),f=e(222);function l(c,g){return c!=null&&f(c,g,o)}z.exports=l},6557:z=>{function u(e){return e}z.exports=u},35694:(z,u,e)=>{var o=e(9454),f=e(37005),l=Object.prototype,c=l.hasOwnProperty,g=l.propertyIsEnumerable,v=o(function(){return arguments}())?o:function(E){return f(E)&&c.call(E,"callee")&&!g.call(E,"callee")};z.exports=v},1469:z=>{var u=Array.isArray;z.exports=u},98612:(z,u,e)=>{var o=e(23560),f=e(41780);function l(c){return c!=null&&f(c.length)&&!o(c)}z.exports=l},29246:(z,u,e)=>{var o=e(98612),f=e(37005);function l(c){return f(c)&&o(c)}z.exports=l},44144:(z,u,e)=>{z=e.nmd(z);var o=e(55639),f=e(95062),l=u&&!u.nodeType&&u,c=l&&!0&&z&&!z.nodeType&&z,g=c&&c.exports===l,v=g?o.Buffer:void 0,E=v?v.isBuffer:void 0,y=E||f;z.exports=y},18446:(z,u,e)=>{var o=e(90939);function f(l,c){return o(l,c)}z.exports=f},23560:(z,u,e)=>{var o=e(44239),f=e(13218),l="[object AsyncFunction]",c="[object Function]",g="[object GeneratorFunction]",v="[object Proxy]";function E(y){if(!f(y))return!1;var p=o(y);return p==c||p==g||p==l||p==v}z.exports=E},41780:z=>{var u=9007199254740991;function e(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=u}z.exports=e},14293:z=>{function u(e){return e==null}z.exports=u},13218:z=>{function u(e){var o=typeof e;return e!=null&&(o=="object"||o=="function")}z.exports=u},37005:z=>{function u(e){return e!=null&&typeof e=="object"}z.exports=u},33448:(z,u,e)=>{var o=e(44239),f=e(37005),l="[object Symbol]";function c(g){return typeof g=="symbol"||f(g)&&o(g)==l}z.exports=c},36719:(z,u,e)=>{var o=e(38749),f=e(7518),l=e(31167),c=l&&l.isTypedArray,g=c?f(c):o;z.exports=g},3674:(z,u,e)=>{var o=e(14636),f=e(280),l=e(98612);function c(g){return l(g)?o(g):f(g)}z.exports=c},10928:z=>{function u(e){var o=e==null?0:e.length;return o?e[o-1]:void 0}z.exports=u},84753:(z,u,e)=>{var o=e(56029),f=e(53325),l=e(67206);function c(g,v){return g&&g.length?o(g,l(v,2),f):void 0}z.exports=c},88306:(z,u,e)=>{var o=e(83369),f="Expected a function";function l(c,g){if(typeof c!="function"||g!=null&&typeof g!="function")throw new TypeError(f);var v=function(){var E=arguments,y=g?g.apply(this,E):E[0],p=v.cache;if(p.has(y))return p.get(y);var O=c.apply(this,E);return v.cache=p.set(y,O)||p,O};return v.cache=new(l.Cache||o),v}l.Cache=o,z.exports=l},50308:z=>{function u(){}z.exports=u},7771:(z,u,e)=>{var o=e(55639),f=function(){return o.Date.now()};z.exports=f},43174:(z,u,e)=>{var o=e(55189),f=o(function(l,c,g){l[g?0:1].push(c)},function(){return[[],[]]});z.exports=f},78718:(z,u,e)=>{var o=e(25970),f=e(99021),l=f(function(c,g){return c==null?{}:o(c,g)});z.exports=l},39601:(z,u,e)=>{var o=e(40371),f=e(79152),l=e(15403),c=e(40327);function g(v){return l(v)?o(c(v)):f(v)}z.exports=g},89734:(z,u,e)=>{var o=e(21078),f=e(82689),l=e(5976),c=e(16612),g=l(function(v,E){if(v==null)return[];var y=E.length;return y>1&&c(v,E[0],E[1])?E=[]:y>2&&c(E[0],E[1],E[2])&&(E=[E[0]]),f(v,o(E,1),[])});z.exports=g},70479:z=>{function u(){return[]}z.exports=u},95062:z=>{function u(){return!1}z.exports=u},12297:(z,u,e)=>{var o=e(67762),f=e(6557);function l(c){return c&&c.length?o(c,f):0}z.exports=l},23493:(z,u,e)=>{var o=e(23279),f=e(13218),l="Expected a function";function c(g,v,E){var y=!0,p=!0;if(typeof g!="function")throw new TypeError(l);return f(E)&&(y="leading"in E?!!E.leading:y,p="trailing"in E?!!E.trailing:p),o(g,v,{leading:y,maxWait:v,trailing:p})}z.exports=c},98913:(z,u,e)=>{var o=e(22545),f=e(54290),l=e(40554),c=9007199254740991,g=4294967295,v=Math.min;function E(y,p){if(y=l(y),y<1||y>c)return[];var O=g,S=v(y,g);p=f(p),y-=g;for(var x=o(S,p);++O<y;)p(O);return x}z.exports=E},18601:(z,u,e)=>{var o=e(14841),f=1/0,l=17976931348623157e292;function c(g){if(!g)return g===0?g:0;if(g=o(g),g===f||g===-f){var v=g<0?-1:1;return v*l}return g===g?g:0}z.exports=c},40554:(z,u,e)=>{var o=e(18601);function f(l){var c=o(l),g=c%1;return c===c?g?c-g:c:0}z.exports=f},14841:(z,u,e)=>{var o=e(27561),f=e(13218),l=e(33448),c=0/0,g=/^[-+]0x[0-9a-f]+$/i,v=/^0b[01]+$/i,E=/^0o[0-7]+$/i,y=parseInt;function p(O){if(typeof O=="number")return O;if(l(O))return c;if(f(O)){var S=typeof O.valueOf=="function"?O.valueOf():O;O=f(S)?S+"":S}if(typeof O!="string")return O===0?O:+O;O=o(O);var x=v.test(O);return x||E.test(O)?y(O.slice(2),x?2:8):g.test(O)?c:+O}z.exports=p},79833:(z,u,e)=>{var o=e(80531);function f(l){return l==null?"":o(l)}z.exports=f},44908:(z,u,e)=>{var o=e(45652);function f(l){return l&&l.length?o(l):[]}z.exports=f},45578:(z,u,e)=>{var o=e(67206),f=e(45652);function l(c,g){return c&&c.length?f(c,o(g,2)):[]}z.exports=l},73955:(z,u,e)=>{var o=e(79833),f=0;function l(c){var g=++f;return o(c)+g}z.exports=l},11700:(z,u,e)=>{var o=e(98805),f=o("toUpperCase");z.exports=f},82569:(z,u,e)=>{var o=e(20731),f=e(5976),l=e(29246),c=f(function(g,v){return l(g)?o(g,v):[]});z.exports=c},87021:(z,u,e)=>{"use strict";e.d(u,{Z:()=>c});var o=e(6400),f={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"};const l=g=>g.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),c=(g,v)=>{const E=_=>{var d=_,{color:y="currentColor",size:p=24,strokeWidth:O=2,absoluteStrokeWidth:S,children:x}=d,T=hi(d,["color","size","strokeWidth","absoluteStrokeWidth","children"]);return(0,o.h)("svg",ur(Vo(ur({},f),{width:String(p),height:p,stroke:y,["stroke-width"]:S?Number(O)*24/Number(p):O,class:`lucide lucide-${l(g)}`}),T),[...v.map(([s,w])=>(0,o.h)(s,w)),...(0,o.toChildArray)(x)])};return E.displayName=`${g}`,E}},4675:(z,u,e)=>{"use strict";e.d(u,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("ArrowLeftRight",[["polyline",{points:"17 11 21 7 17 3",key:"l3l6r3"}],["line",{x1:"21",x2:"9",y1:"7",y2:"7",key:"ubux2p"}],["polyline",{points:"7 21 3 17 7 13",key:"lfumnw"}],["line",{x1:"15",x2:"3",y1:"17",y2:"17",key:"1iqtwg"}]])},66298:(z,u,e)=>{"use strict";e.d(u,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("ArrowUpRight",[["line",{x1:"7",x2:"17",y1:"17",y2:"7",key:"11kluq"}],["polyline",{points:"7 7 17 7 17 17",key:"blehsp"}]])},88812:(z,u,e)=>{"use strict";e.d(u,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"4.93",x2:"19.07",y1:"4.93",y2:"19.07",key:"1thnyu"}]])},18794:(z,u,e)=>{"use strict";e.d(u,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("BookmarkMinus",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}],["line",{x1:"15",x2:"9",y1:"10",y2:"10",key:"1gty7f"}]])},13808:(z,u,e)=>{"use strict";e.d(u,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]])},25380:(z,u,e)=>{"use strict";e.d(u,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]])},49336:(z,u,e)=>{"use strict";e.d(u,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("ChevronDown",[["polyline",{points:"6 9 12 15 18 9",key:"1do0m2"}]])},56743:(z,u,e)=>{"use strict";e.d(u,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("ChevronLeft",[["polyline",{points:"15 18 9 12 15 6",key:"kvxz59"}]])},2564:(z,u,e)=>{"use strict";e.d(u,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("ChevronRight",[["polyline",{points:"9 18 15 12 9 6",key:"1rtp27"}]])},71212:(z,u,e)=>{"use strict";e.d(u,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},23237:(z,u,e)=>{"use strict";e.d(u,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("Edit2",[["path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z",key:"2s2c1q"}]])},47641:(z,u,e)=>{"use strict";e.d(u,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("Edit",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z",key:"1cs3r3"}]])},65207:(z,u,e)=>{"use strict";e.d(u,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]])},67747:(z,u,e)=>{"use strict";e.d(u,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},77951:(z,u,e)=>{"use strict";e.d(u,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("FileVolume",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7.5L14.5 2H6a2 2 0 0 0-2 2v3",key:"am10z3"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m7 10-3 2H2v4h2l3 2v-8Z",key:"tazg57"}],["path",{d:"M11 11c.64.8 1 1.87 1 3s-.36 2.2-1 3",key:"1yej3m"}]])},5149:(z,u,e)=>{"use strict";e.d(u,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]])},8618:(z,u,e)=>{"use strict";e.d(u,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},19237:(z,u,e)=>{"use strict";e.d(u,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("ImagePlus",[["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7",key:"31hg93"}],["line",{x1:"16",x2:"22",y1:"5",y2:"5",key:"ez7e4s"}],["line",{x1:"19",x2:"19",y1:"2",y2:"8",key:"1gkr8c"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},65445:(z,u,e)=>{"use strict";e.d(u,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},99869:(z,u,e)=>{"use strict";e.d(u,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]])},13639:(z,u,e)=>{"use strict";e.d(u,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},67358:(z,u,e)=>{"use strict";e.d(u,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},7617:(z,u,e)=>{"use strict";e.d(u,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]])},95951:(z,u,e)=>{"use strict";e.d(u,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("Milestone",[["path",{d:"M18 6H5a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h13l4-3.5L18 6Z",key:"1mp5s7"}],["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M12 3v3",key:"1n5kay"}]])},80587:(z,u,e)=>{"use strict";e.d(u,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},9528:(z,u,e)=>{"use strict";e.d(u,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},32224:(z,u,e)=>{"use strict";e.d(u,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("Plus",[["line",{x1:"12",x2:"12",y1:"5",y2:"19",key:"pwfkuu"}],["line",{x1:"5",x2:"19",y1:"12",y2:"12",key:"13b5wn"}]])},74655:(z,u,e)=>{"use strict";e.d(u,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("RefreshCw",[["path",{d:"M21 2v6h-6",key:"1lwg0q"}],["path",{d:"M3 12a9 9 0 0 1 15-6.7L21 8",key:"vaktt2"}],["path",{d:"M3 22v-6h6",key:"6llvyv"}],["path",{d:"M21 12a9 9 0 0 1-15 6.7L3 16",key:"i52hsp"}]])},28596:(z,u,e)=>{"use strict";e.d(u,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("Send",[["line",{x1:"22",x2:"11",y1:"2",y2:"13",key:"2qtwb"}],["polygon",{points:"22 2 15 22 11 13 2 9 22 2",key:"12uapv"}]])},31131:(z,u,e)=>{"use strict";e.d(u,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]])},66440:(z,u,e)=>{"use strict";e.d(u,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]])},52066:(z,u,e)=>{"use strict";e.d(u,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]])},17048:(z,u,e)=>{"use strict";e.d(u,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]])},49770:(z,u,e)=>{"use strict";e.d(u,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},98961:(z,u,e)=>{"use strict";e.d(u,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]])},81108:(z,u,e)=>{"use strict";e.d(u,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"15",x2:"9",y1:"9",y2:"15",key:"f7djnv"}],["line",{x1:"9",x2:"15",y1:"9",y2:"15",key:"1shsy8"}]])},71375:(z,u,e)=>{"use strict";e.d(u,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("X",[["line",{x1:"18",x2:"6",y1:"6",y2:"18",key:"15jfxm"}],["line",{x1:"6",x2:"18",y1:"6",y2:"18",key:"d1lma3"}]])},61864:(z,u,e)=>{"use strict";e.d(u,{Z:()=>o});const o={pubTheme:"frontend-components-PubTheme-module__pubTheme--Vew50"}},19206:(z,u,e)=>{"use strict";e.d(u,{Z:()=>o});const o={reset:"frontend-pencraft-Box-module__reset--VfQY8","display-block":"frontend-pencraft-Box-module__display-block--lluJR","display-inline":"frontend-pencraft-Box-module__display-inline--UP8rE","display-inline-block":"frontend-pencraft-Box-module__display-inline-block--x7tGd","display-flex":"frontend-pencraft-Box-module__display-flex--ZqeZt","display-inline-flex":"frontend-pencraft-Box-module__display-inline-flex--ZE941","display-none":"frontend-pencraft-Box-module__display-none--DZ2wU","position-relative":"frontend-pencraft-Box-module__position-relative--QdxKA","flex-direction-column":"frontend-pencraft-Box-module__flex-direction-column--Rq7pk","flex-direction-row":"frontend-pencraft-Box-module__flex-direction-row--s2PZ1","flex-direction-row-reverse":"frontend-pencraft-Box-module__flex-direction-row-reverse--oFiiL","flex-direction-column-reverse":"frontend-pencraft-Box-module__flex-direction-column-reverse--thxnd","flex-wrap-nowrap":"frontend-pencraft-Box-module__flex-wrap-nowrap--WI0rj","flex-wrap-wrap":"frontend-pencraft-Box-module__flex-wrap-wrap--U7KAu","flex-wrap-wrap-reverse":"frontend-pencraft-Box-module__flex-wrap-wrap-reverse--dau9W","flex-justify-start":"frontend-pencraft-Box-module__flex-justify-start--_8fEd","flex-justify-space-between":"frontend-pencraft-Box-module__flex-justify-space-between--NvIcg","flex-justify-center":"frontend-pencraft-Box-module__flex-justify-center--SQPji","flex-justify-end":"frontend-pencraft-Box-module__flex-justify-end--lwKjM","flex-align-start":"frontend-pencraft-Box-module__flex-align-start--MkgIa","flex-align-end":"frontend-pencraft-Box-module__flex-align-end--_zZdC","flex-align-center":"frontend-pencraft-Box-module__flex-align-center--rSd6h","flex-align-stretch":"frontend-pencraft-Box-module__flex-align-stretch--g0Yna","flex-align-baseline":"frontend-pencraft-Box-module__flex-align-baseline--GQEEw","flex-align-self-start":"frontend-pencraft-Box-module__flex-align-self-start--QhlBL","flex-align-self-end":"frontend-pencraft-Box-module__flex-align-self-end--ygpwW","flex-align-self-center":"frontend-pencraft-Box-module__flex-align-self-center--XMhN_","flex-align-self-stretch":"frontend-pencraft-Box-module__flex-align-self-stretch--ZV59d","flex-align-self-baseline":"frontend-pencraft-Box-module__flex-align-self-baseline--omwPY","flex-gap-0":"frontend-pencraft-Box-module__flex-gap-0--WL4Xc","flex-gap-2":"frontend-pencraft-Box-module__flex-gap-2--i3DJs","flex-gap-4":"frontend-pencraft-Box-module__flex-gap-4--zeW5_","flex-gap-6":"frontend-pencraft-Box-module__flex-gap-6--lHgtr","flex-gap-8":"frontend-pencraft-Box-module__flex-gap-8--HFpIK","flex-gap-12":"frontend-pencraft-Box-module__flex-gap-12--rODKq","flex-gap-16":"frontend-pencraft-Box-module__flex-gap-16--TpblU","flex-gap-20":"frontend-pencraft-Box-module__flex-gap-20--WPlD2","flex-gap-24":"frontend-pencraft-Box-module__flex-gap-24--bAb43","flex-gap-32":"frontend-pencraft-Box-module__flex-gap-32--uRr14","flex-gap-36":"frontend-pencraft-Box-module__flex-gap-36--Kpg6P","flex-gap-40":"frontend-pencraft-Box-module__flex-gap-40--AvPvJ","flex-gap-48":"frontend-pencraft-Box-module__flex-gap-48--Sbb_i","flex-gap-56":"frontend-pencraft-Box-module__flex-gap-56--of5i3","flex-gap-64":"frontend-pencraft-Box-module__flex-gap-64--dzjmF","flex-gap-80":"frontend-pencraft-Box-module__flex-gap-80--jHDvi","flex-gap-96":"frontend-pencraft-Box-module__flex-gap-96--heAIr","flex-gap-120":"frontend-pencraft-Box-module__flex-gap-120--iB6Cx","padding-0":"frontend-pencraft-Box-module__padding-0--F3S1v","padding-4":"frontend-pencraft-Box-module__padding-4--KlLyn","padding-6":"frontend-pencraft-Box-module__padding-6--_Mjv2","padding-8":"frontend-pencraft-Box-module__padding-8--wF5Sz","padding-12":"frontend-pencraft-Box-module__padding-12--jTMsq","padding-16":"frontend-pencraft-Box-module__padding-16--n240L","padding-20":"frontend-pencraft-Box-module__padding-20--yVUtG","padding-24":"frontend-pencraft-Box-module__padding-24--ZJr5O","padding-32":"frontend-pencraft-Box-module__padding-32--IeG12","padding-40":"frontend-pencraft-Box-module__padding-40--IAcQ9","padding-48":"frontend-pencraft-Box-module__padding-48--aMnjo","padding-56":"frontend-pencraft-Box-module__padding-56--am1eN","padding-64":"frontend-pencraft-Box-module__padding-64--xeXXX","padding-80":"frontend-pencraft-Box-module__padding-80--th3sr","padding-120":"frontend-pencraft-Box-module__padding-120--RXYMO","padding-y-0":"frontend-pencraft-Box-module__padding-y-0--rxzTp","padding-y-4":"frontend-pencraft-Box-module__padding-y-4--dGugw","padding-y-6":"frontend-pencraft-Box-module__padding-y-6--taKGa","padding-y-8":"frontend-pencraft-Box-module__padding-y-8--exiCC","padding-y-12":"frontend-pencraft-Box-module__padding-y-12--JVW4L","padding-y-16":"frontend-pencraft-Box-module__padding-y-16--ohCEm","padding-y-20":"frontend-pencraft-Box-module__padding-y-20--FoUpX","padding-y-24":"frontend-pencraft-Box-module__padding-y-24--T7KvM","padding-y-32":"frontend-pencraft-Box-module__padding-y-32--tBjpu","padding-y-36":"frontend-pencraft-Box-module__padding-y-36--O9qPD","padding-y-40":"frontend-pencraft-Box-module__padding-y-40--uSHVb","padding-y-48":"frontend-pencraft-Box-module__padding-y-48--eNCBL","padding-y-56":"frontend-pencraft-Box-module__padding-y-56--oRNr_","padding-y-64":"frontend-pencraft-Box-module__padding-y-64--ft4ED","padding-y-80":"frontend-pencraft-Box-module__padding-y-80--bsHus","padding-y-120":"frontend-pencraft-Box-module__padding-y-120--_BaEr","padding-x-0":"frontend-pencraft-Box-module__padding-x-0--oMCXf","padding-x-4":"frontend-pencraft-Box-module__padding-x-4--KtJM6","padding-x-6":"frontend-pencraft-Box-module__padding-x-6--jB65n","padding-x-8":"frontend-pencraft-Box-module__padding-x-8--FGPm5","padding-x-12":"frontend-pencraft-Box-module__padding-x-12--uAeGi","padding-x-16":"frontend-pencraft-Box-module__padding-x-16--q3Pnm","padding-x-20":"frontend-pencraft-Box-module__padding-x-20--v_X8l","padding-x-24":"frontend-pencraft-Box-module__padding-x-24--ViY5j","padding-x-32":"frontend-pencraft-Box-module__padding-x-32--MSogp","padding-x-40":"frontend-pencraft-Box-module__padding-x-40--NnqyG","padding-x-48":"frontend-pencraft-Box-module__padding-x-48--HTG4n","padding-x-56":"frontend-pencraft-Box-module__padding-x-56--V6qbT","padding-x-64":"frontend-pencraft-Box-module__padding-x-64--J1cac","padding-x-80":"frontend-pencraft-Box-module__padding-x-80--J4j87","padding-x-120":"frontend-pencraft-Box-module__padding-x-120--ZPgFJ","padding-top-0":"frontend-pencraft-Box-module__padding-top-0--PRqVY","padding-top-4":"frontend-pencraft-Box-module__padding-top-4--x0RDa","padding-top-6":"frontend-pencraft-Box-module__padding-top-6--DGztk","padding-top-8":"frontend-pencraft-Box-module__padding-top-8--VHq_j","padding-top-12":"frontend-pencraft-Box-module__padding-top-12--RJQ3b","padding-top-16":"frontend-pencraft-Box-module__padding-top-16--fCxei","padding-top-20":"frontend-pencraft-Box-module__padding-top-20--bpJwI","padding-top-24":"frontend-pencraft-Box-module__padding-top-24--hC6Qh","padding-top-32":"frontend-pencraft-Box-module__padding-top-32--hE9Ly","padding-top-36":"frontend-pencraft-Box-module__padding-top-36--gzQCl","padding-top-40":"frontend-pencraft-Box-module__padding-top-40--uBMFI","padding-top-48":"frontend-pencraft-Box-module__padding-top-48--kMReU","padding-top-56":"frontend-pencraft-Box-module__padding-top-56--dczMQ","padding-top-64":"frontend-pencraft-Box-module__padding-top-64--cd1qd","padding-top-80":"frontend-pencraft-Box-module__padding-top-80--eZ0fE","padding-top-120":"frontend-pencraft-Box-module__padding-top-120--vfrci","padding-bottom-0":"frontend-pencraft-Box-module__padding-bottom-0--uJZ7B","padding-bottom-4":"frontend-pencraft-Box-module__padding-bottom-4--OFOny","padding-bottom-6":"frontend-pencraft-Box-module__padding-bottom-6--Tlz5i","padding-bottom-8":"frontend-pencraft-Box-module__padding-bottom-8--mTu10","padding-bottom-12":"frontend-pencraft-Box-module__padding-bottom-12--dTAvV","padding-bottom-16":"frontend-pencraft-Box-module__padding-bottom-16--KVxKv","padding-bottom-20":"frontend-pencraft-Box-module__padding-bottom-20--xSkS9","padding-bottom-24":"frontend-pencraft-Box-module__padding-bottom-24--drRLc","padding-bottom-32":"frontend-pencraft-Box-module__padding-bottom-32--aGRIB","padding-bottom-40":"frontend-pencraft-Box-module__padding-bottom-40--_oo6b","padding-bottom-48":"frontend-pencraft-Box-module__padding-bottom-48--ONDjp","padding-bottom-56":"frontend-pencraft-Box-module__padding-bottom-56--zLgG0","padding-bottom-64":"frontend-pencraft-Box-module__padding-bottom-64--jnone","padding-bottom-80":"frontend-pencraft-Box-module__padding-bottom-80--R2shQ","padding-bottom-120":"frontend-pencraft-Box-module__padding-bottom-120--xScwg","padding-left-0":"frontend-pencraft-Box-module__padding-left-0--_fdq5","padding-left-4":"frontend-pencraft-Box-module__padding-left-4--xHkhe","padding-left-6":"frontend-pencraft-Box-module__padding-left-6--i3yO2","padding-left-8":"frontend-pencraft-Box-module__padding-left-8--ci2Dl","padding-left-12":"frontend-pencraft-Box-module__padding-left-12--eE6bp","padding-left-16":"frontend-pencraft-Box-module__padding-left-16--BDsWV","padding-left-20":"frontend-pencraft-Box-module__padding-left-20--BD8wa","padding-left-24":"frontend-pencraft-Box-module__padding-left-24--b11Zo","padding-left-32":"frontend-pencraft-Box-module__padding-left-32--BAj7w","padding-left-40":"frontend-pencraft-Box-module__padding-left-40--b2JNE","padding-left-48":"frontend-pencraft-Box-module__padding-left-48--oHoKK","padding-left-56":"frontend-pencraft-Box-module__padding-left-56--pmJGh","padding-left-64":"frontend-pencraft-Box-module__padding-left-64--Ob2OF","padding-left-80":"frontend-pencraft-Box-module__padding-left-80--z2UJ5","padding-left-96":"frontend-pencraft-Box-module__padding-left-96--gfeL6","padding-left-120":"frontend-pencraft-Box-module__padding-left-120--EJgoJ","padding-right-0":"frontend-pencraft-Box-module__padding-right-0--yke0B","padding-right-4":"frontend-pencraft-Box-module__padding-right-4--hKLg1","padding-right-6":"frontend-pencraft-Box-module__padding-right-6--Lht9u","padding-right-8":"frontend-pencraft-Box-module__padding-right-8--smNvs","padding-right-12":"frontend-pencraft-Box-module__padding-right-12--_sPKw","padding-right-16":"frontend-pencraft-Box-module__padding-right-16--zD2yo","padding-right-20":"frontend-pencraft-Box-module__padding-right-20--YeNhQ","padding-right-24":"frontend-pencraft-Box-module__padding-right-24--KuK8G","padding-right-32":"frontend-pencraft-Box-module__padding-right-32--VV1h6","padding-right-40":"frontend-pencraft-Box-module__padding-right-40--oArMW","padding-right-48":"frontend-pencraft-Box-module__padding-right-48--N0JmY","padding-right-56":"frontend-pencraft-Box-module__padding-right-56--uXWcM","padding-right-64":"frontend-pencraft-Box-module__padding-right-64--gw8yC","padding-right-80":"frontend-pencraft-Box-module__padding-right-80--pjvSn","padding-right-120":"frontend-pencraft-Box-module__padding-right-120--q8k5G","display-mobile-block":"frontend-pencraft-Box-module__display-mobile-block--Aect2","display-mobile-inline":"frontend-pencraft-Box-module__display-mobile-inline--N1KZU","display-mobile-inline-block":"frontend-pencraft-Box-module__display-mobile-inline-block--XxyXq","display-mobile-flex":"frontend-pencraft-Box-module__display-mobile-flex--orVE9","display-mobile-inline-flex":"frontend-pencraft-Box-module__display-mobile-inline-flex--sD9mj","display-mobile-none":"frontend-pencraft-Box-module__display-mobile-none--BJhKW","flex-direction-mobile-column":"frontend-pencraft-Box-module__flex-direction-mobile-column--Mc9OW","flex-direction-mobile-row":"frontend-pencraft-Box-module__flex-direction-mobile-row--C4tyc","flex-direction-mobile-row-reverse":"frontend-pencraft-Box-module__flex-direction-mobile-row-reverse--TKJLF","flex-direction-mobile-column-reverse":"frontend-pencraft-Box-module__flex-direction-mobile-column-reverse--LYrMu","flex-wrap-mobile-nowrap":"frontend-pencraft-Box-module__flex-wrap-mobile-nowrap--O3kRJ","flex-wrap-mobile-wrap":"frontend-pencraft-Box-module__flex-wrap-mobile-wrap--ibIMl","flex-wrap-mobile-wrap-reverse":"frontend-pencraft-Box-module__flex-wrap-mobile-wrap-reverse--OAIbg","flex-justify-mobile-start":"frontend-pencraft-Box-module__flex-justify-mobile-start--j7ZWw","flex-justify-mobile-space-between":"frontend-pencraft-Box-module__flex-justify-mobile-space-between--rbTka","flex-justify-mobile-center":"frontend-pencraft-Box-module__flex-justify-mobile-center--mxdv8","flex-justify-mobile-end":"frontend-pencraft-Box-module__flex-justify-mobile-end--tCUqU","flex-align-mobile-start":"frontend-pencraft-Box-module__flex-align-mobile-start--VytyY","flex-align-mobile-end":"frontend-pencraft-Box-module__flex-align-mobile-end--jxhdF","flex-align-mobile-center":"frontend-pencraft-Box-module__flex-align-mobile-center--wCqEB","flex-align-mobile-stretch":"frontend-pencraft-Box-module__flex-align-mobile-stretch--dcRgL","flex-align-mobile-baseline":"frontend-pencraft-Box-module__flex-align-mobile-baseline--f2QMh","flex-gap-mobile-0":"frontend-pencraft-Box-module__flex-gap-mobile-0--rhTqq","flex-gap-mobile-2":"frontend-pencraft-Box-module__flex-gap-mobile-2--JjRRa","flex-gap-mobile-4":"frontend-pencraft-Box-module__flex-gap-mobile-4--mRU_f","flex-gap-mobile-6":"frontend-pencraft-Box-module__flex-gap-mobile-6--ILgAN","flex-gap-mobile-8":"frontend-pencraft-Box-module__flex-gap-mobile-8--KyRud","flex-gap-mobile-12":"frontend-pencraft-Box-module__flex-gap-mobile-12--cAee1","flex-gap-mobile-16":"frontend-pencraft-Box-module__flex-gap-mobile-16--oMFvQ","flex-gap-mobile-20":"frontend-pencraft-Box-module__flex-gap-mobile-20--Q7L1k","flex-gap-mobile-24":"frontend-pencraft-Box-module__flex-gap-mobile-24--gxEQk","flex-gap-mobile-32":"frontend-pencraft-Box-module__flex-gap-mobile-32--ltu7c","flex-gap-mobile-40":"frontend-pencraft-Box-module__flex-gap-mobile-40--S6ZC7","flex-gap-mobile-48":"frontend-pencraft-Box-module__flex-gap-mobile-48--klvz2","flex-gap-mobile-56":"frontend-pencraft-Box-module__flex-gap-mobile-56--OvGtj","flex-gap-mobile-64":"frontend-pencraft-Box-module__flex-gap-mobile-64--wMXeg","flex-gap-mobile-80":"frontend-pencraft-Box-module__flex-gap-mobile-80--dtOoW","flex-gap-mobile-96":"frontend-pencraft-Box-module__flex-gap-mobile-96--ZFddh","flex-gap-mobile-120":"frontend-pencraft-Box-module__flex-gap-mobile-120--FF8So","padding-mobile-0":"frontend-pencraft-Box-module__padding-mobile-0--pHHdL","padding-mobile-4":"frontend-pencraft-Box-module__padding-mobile-4--hhaLE","padding-mobile-6":"frontend-pencraft-Box-module__padding-mobile-6--ysaO9","padding-mobile-8":"frontend-pencraft-Box-module__padding-mobile-8--qBaDC","padding-mobile-12":"frontend-pencraft-Box-module__padding-mobile-12--yamxD","padding-mobile-16":"frontend-pencraft-Box-module__padding-mobile-16--WwNhz","padding-mobile-20":"frontend-pencraft-Box-module__padding-mobile-20--pdIFk","padding-mobile-24":"frontend-pencraft-Box-module__padding-mobile-24--dws4N","padding-mobile-32":"frontend-pencraft-Box-module__padding-mobile-32--q99bY","padding-mobile-40":"frontend-pencraft-Box-module__padding-mobile-40--N3CX8","padding-mobile-48":"frontend-pencraft-Box-module__padding-mobile-48--Zp2aA","padding-mobile-56":"frontend-pencraft-Box-module__padding-mobile-56--yaf6_","padding-mobile-64":"frontend-pencraft-Box-module__padding-mobile-64--QBktp","padding-mobile-80":"frontend-pencraft-Box-module__padding-mobile-80--mlEKm","padding-mobile-120":"frontend-pencraft-Box-module__padding-mobile-120--u2BT7","padding-y-mobile-0":"frontend-pencraft-Box-module__padding-y-mobile-0--l1XHn","padding-y-mobile-4":"frontend-pencraft-Box-module__padding-y-mobile-4--NGnYk","padding-y-mobile-6":"frontend-pencraft-Box-module__padding-y-mobile-6--e_Z74","padding-y-mobile-8":"frontend-pencraft-Box-module__padding-y-mobile-8--q24xz","padding-y-mobile-12":"frontend-pencraft-Box-module__padding-y-mobile-12--WcL2J","padding-y-mobile-16":"frontend-pencraft-Box-module__padding-y-mobile-16--dydMQ","padding-y-mobile-20":"frontend-pencraft-Box-module__padding-y-mobile-20--XCF1X","padding-y-mobile-24":"frontend-pencraft-Box-module__padding-y-mobile-24--b5BI9","padding-y-mobile-32":"frontend-pencraft-Box-module__padding-y-mobile-32--DdQKj","padding-y-mobile-40":"frontend-pencraft-Box-module__padding-y-mobile-40--ejJzM","padding-y-mobile-48":"frontend-pencraft-Box-module__padding-y-mobile-48--AcvqS","padding-y-mobile-56":"frontend-pencraft-Box-module__padding-y-mobile-56--jaNbX","padding-y-mobile-64":"frontend-pencraft-Box-module__padding-y-mobile-64--g85Ek","padding-y-mobile-80":"frontend-pencraft-Box-module__padding-y-mobile-80--guBcX","padding-y-mobile-120":"frontend-pencraft-Box-module__padding-y-mobile-120--cb6H3","padding-x-mobile-0":"frontend-pencraft-Box-module__padding-x-mobile-0--sLHt8","padding-x-mobile-4":"frontend-pencraft-Box-module__padding-x-mobile-4--D_vuF","padding-x-mobile-6":"frontend-pencraft-Box-module__padding-x-mobile-6--MK5v1","padding-x-mobile-8":"frontend-pencraft-Box-module__padding-x-mobile-8--SLqFj","padding-x-mobile-12":"frontend-pencraft-Box-module__padding-x-mobile-12--wQTg5","padding-x-mobile-16":"frontend-pencraft-Box-module__padding-x-mobile-16--qz0qN","padding-x-mobile-20":"frontend-pencraft-Box-module__padding-x-mobile-20--hhZQr","padding-x-mobile-24":"frontend-pencraft-Box-module__padding-x-mobile-24--voGHV","padding-x-mobile-32":"frontend-pencraft-Box-module__padding-x-mobile-32--UTs6w","padding-x-mobile-40":"frontend-pencraft-Box-module__padding-x-mobile-40--aJowh","padding-x-mobile-48":"frontend-pencraft-Box-module__padding-x-mobile-48--GBmBD","padding-x-mobile-56":"frontend-pencraft-Box-module__padding-x-mobile-56--DOGvg","padding-x-mobile-64":"frontend-pencraft-Box-module__padding-x-mobile-64--kCK6W","padding-x-mobile-80":"frontend-pencraft-Box-module__padding-x-mobile-80--blnxY","padding-x-mobile-120":"frontend-pencraft-Box-module__padding-x-mobile-120--rkiYK","padding-top-mobile-0":"frontend-pencraft-Box-module__padding-top-mobile-0--oJ6mc","padding-top-mobile-4":"frontend-pencraft-Box-module__padding-top-mobile-4--QomAL","padding-top-mobile-6":"frontend-pencraft-Box-module__padding-top-mobile-6--c6qnp","padding-top-mobile-8":"frontend-pencraft-Box-module__padding-top-mobile-8--aLZhy","padding-top-mobile-12":"frontend-pencraft-Box-module__padding-top-mobile-12--uwKuV","padding-top-mobile-16":"frontend-pencraft-Box-module__padding-top-mobile-16--fjFPO","padding-top-mobile-20":"frontend-pencraft-Box-module__padding-top-mobile-20--m6L88","padding-top-mobile-24":"frontend-pencraft-Box-module__padding-top-mobile-24--pNohc","padding-top-mobile-32":"frontend-pencraft-Box-module__padding-top-mobile-32--a0t_9","padding-top-mobile-40":"frontend-pencraft-Box-module__padding-top-mobile-40--HNzxh","padding-top-mobile-48":"frontend-pencraft-Box-module__padding-top-mobile-48--Oef7p","padding-top-mobile-56":"frontend-pencraft-Box-module__padding-top-mobile-56--YkvmY","padding-top-mobile-64":"frontend-pencraft-Box-module__padding-top-mobile-64--Pyh23","padding-top-mobile-80":"frontend-pencraft-Box-module__padding-top-mobile-80--IN5AZ","padding-top-mobile-120":"frontend-pencraft-Box-module__padding-top-mobile-120--QMG0v","padding-bottom-mobile-0":"frontend-pencraft-Box-module__padding-bottom-mobile-0--vznPS","padding-bottom-mobile-4":"frontend-pencraft-Box-module__padding-bottom-mobile-4--VMIm8","padding-bottom-mobile-6":"frontend-pencraft-Box-module__padding-bottom-mobile-6--LyDqa","padding-bottom-mobile-8":"frontend-pencraft-Box-module__padding-bottom-mobile-8--gCYaK","padding-bottom-mobile-12":"frontend-pencraft-Box-module__padding-bottom-mobile-12--jC0SK","padding-bottom-mobile-16":"frontend-pencraft-Box-module__padding-bottom-mobile-16--TDCHN","padding-bottom-mobile-20":"frontend-pencraft-Box-module__padding-bottom-mobile-20--KFFIi","padding-bottom-mobile-24":"frontend-pencraft-Box-module__padding-bottom-mobile-24--yZ5l3","padding-bottom-mobile-32":"frontend-pencraft-Box-module__padding-bottom-mobile-32--z_M2k","padding-bottom-mobile-40":"frontend-pencraft-Box-module__padding-bottom-mobile-40--KAzfp","padding-bottom-mobile-48":"frontend-pencraft-Box-module__padding-bottom-mobile-48--AxHJK","padding-bottom-mobile-56":"frontend-pencraft-Box-module__padding-bottom-mobile-56--L8HbC","padding-bottom-mobile-64":"frontend-pencraft-Box-module__padding-bottom-mobile-64--yY377","padding-bottom-mobile-80":"frontend-pencraft-Box-module__padding-bottom-mobile-80--jjWe_","padding-bottom-mobile-120":"frontend-pencraft-Box-module__padding-bottom-mobile-120--NMOpl","padding-left-mobile-0":"frontend-pencraft-Box-module__padding-left-mobile-0--rMgFb","padding-left-mobile-4":"frontend-pencraft-Box-module__padding-left-mobile-4--gRPK1","padding-left-mobile-6":"frontend-pencraft-Box-module__padding-left-mobile-6--F6a0d","padding-left-mobile-8":"frontend-pencraft-Box-module__padding-left-mobile-8--klUzH","padding-left-mobile-12":"frontend-pencraft-Box-module__padding-left-mobile-12--ZjRhu","padding-left-mobile-16":"frontend-pencraft-Box-module__padding-left-mobile-16--XZUYG","padding-left-mobile-20":"frontend-pencraft-Box-module__padding-left-mobile-20--cSAwz","padding-left-mobile-24":"frontend-pencraft-Box-module__padding-left-mobile-24--d6AYr","padding-left-mobile-32":"frontend-pencraft-Box-module__padding-left-mobile-32--lV0L6","padding-left-mobile-40":"frontend-pencraft-Box-module__padding-left-mobile-40--j1CUU","padding-left-mobile-48":"frontend-pencraft-Box-module__padding-left-mobile-48--fQOYm","padding-left-mobile-56":"frontend-pencraft-Box-module__padding-left-mobile-56--V3BCT","padding-left-mobile-64":"frontend-pencraft-Box-module__padding-left-mobile-64--mWcOm","padding-left-mobile-80":"frontend-pencraft-Box-module__padding-left-mobile-80--xZV_a","padding-left-mobile-120":"frontend-pencraft-Box-module__padding-left-mobile-120--rdhq4","padding-right-mobile-0":"frontend-pencraft-Box-module__padding-right-mobile-0--DVDzT","padding-right-mobile-4":"frontend-pencraft-Box-module__padding-right-mobile-4--MaDAB","padding-right-mobile-6":"frontend-pencraft-Box-module__padding-right-mobile-6--wZiyO","padding-right-mobile-8":"frontend-pencraft-Box-module__padding-right-mobile-8--VIDL8","padding-right-mobile-12":"frontend-pencraft-Box-module__padding-right-mobile-12--NBDZD","padding-right-mobile-16":"frontend-pencraft-Box-module__padding-right-mobile-16--PD1Dy","padding-right-mobile-20":"frontend-pencraft-Box-module__padding-right-mobile-20--V2Oc4","padding-right-mobile-24":"frontend-pencraft-Box-module__padding-right-mobile-24--L0KUi","padding-right-mobile-32":"frontend-pencraft-Box-module__padding-right-mobile-32--i7Z7o","padding-right-mobile-40":"frontend-pencraft-Box-module__padding-right-mobile-40--hvPRY","padding-right-mobile-48":"frontend-pencraft-Box-module__padding-right-mobile-48--zadfm","padding-right-mobile-56":"frontend-pencraft-Box-module__padding-right-mobile-56--CuM14","padding-right-mobile-64":"frontend-pencraft-Box-module__padding-right-mobile-64--MSA2_","padding-right-mobile-80":"frontend-pencraft-Box-module__padding-right-mobile-80--LUN5o","padding-right-mobile-120":"frontend-pencraft-Box-module__padding-right-mobile-120--KkeSn","border-transparent":"frontend-pencraft-Box-module__border-transparent--zPqIf","border-top-transparent":"frontend-pencraft-Box-module__border-top-transparent--NH9Pp","border-bottom-transparent":"frontend-pencraft-Box-module__border-bottom-transparent--spbbj","border-left-transparent":"frontend-pencraft-Box-module__border-left-transparent--KjBt0","border-right-transparent":"frontend-pencraft-Box-module__border-right-transparent--_TydC","border-y-transparent":"frontend-pencraft-Box-module__border-y-transparent--ONzvg","border-detail":"frontend-pencraft-Box-module__border-detail--MiH57","border-top-detail":"frontend-pencraft-Box-module__border-top-detail--W9Yi4","border-bottom-detail":"frontend-pencraft-Box-module__border-bottom-detail--SbXzV","border-left-detail":"frontend-pencraft-Box-module__border-left-detail--KXtc0","border-right-detail":"frontend-pencraft-Box-module__border-right-detail--VmAfT","border-y-detail":"frontend-pencraft-Box-module__border-y-detail--UQJY8","border-detail-themed":"frontend-pencraft-Box-module__border-detail-themed--Mv1k0","border-top-detail-themed":"frontend-pencraft-Box-module__border-top-detail-themed--e17yZ","border-bottom-detail-themed":"frontend-pencraft-Box-module__border-bottom-detail-themed--eVwFY","border-left-detail-themed":"frontend-pencraft-Box-module__border-left-detail-themed--SLWvx","border-right-detail-themed":"frontend-pencraft-Box-module__border-right-detail-themed--jYKzL","border-y-detail-themed":"frontend-pencraft-Box-module__border-y-detail-themed--qoWJu","border-detail-dashed":"frontend-pencraft-Box-module__border-detail-dashed--A7IFA","border-top-detail-dashed":"frontend-pencraft-Box-module__border-top-detail-dashed--O0bJ0","border-bottom-detail-dashed":"frontend-pencraft-Box-module__border-bottom-detail-dashed--iGmUH","border-left-detail-dashed":"frontend-pencraft-Box-module__border-left-detail-dashed--RRBPQ","border-right-detail-dashed":"frontend-pencraft-Box-module__border-right-detail-dashed--VlIJH","border-y-detail-dashed":"frontend-pencraft-Box-module__border-y-detail-dashed--CMeLF","border-radius-6":"frontend-pencraft-Box-module__border-radius-6--lsyIU","border-radius-12":"frontend-pencraft-Box-module__border-radius-12--AmQy9","border-radius-24":"frontend-pencraft-Box-module__border-radius-24--UdDSM","min-width-0":"frontend-pencraft-Box-module__min-width-0--MCJwG","min-height-0":"frontend-pencraft-Box-module__min-height-0--GO2ox","shadow-sm":"frontend-pencraft-Box-module__shadow-sm--diOyW","shadow-md":"frontend-pencraft-Box-module__shadow-md--iNIT9","shadow-lg":"frontend-pencraft-Box-module__shadow-lg--wyu_D","bg-primary":"frontend-pencraft-Box-module__bg-primary--mKqVL","bg-utility-tooltip":"frontend-pencraft-Box-module__bg-utility-tooltip--nYHb_","bg-secondary":"frontend-pencraft-Box-module__bg-secondary--Ub0gU","bg-elevated":"frontend-pencraft-Box-module__bg-elevated--Stdd7",flexGrow:"frontend-pencraft-Box-module__flexGrow--mx4xz",flexAuto:"frontend-pencraft-Box-module__flexAuto--CnX9I",flexFill:"frontend-pencraft-Box-module__flexFill--Bk7kX","overflowY-auto":"frontend-pencraft-Box-module__overflowY-auto--BWUQA","overflowX-auto":"frontend-pencraft-Box-module__overflowX-auto--XwpIO","overflowX-hidden":"frontend-pencraft-Box-module__overflowX-hidden--uRf50","scrollBar-hidden":"frontend-pencraft-Box-module__scrollBar-hidden--fzF31",ellipsis:"frontend-pencraft-Box-module__ellipsis--pBigN","sizing-border-box":"frontend-pencraft-Box-module__sizing-border-box--JDlFM","pullX-4":"frontend-pencraft-Box-module__pullX-4--mcuJr","pullX-6":"frontend-pencraft-Box-module__pullX-6--mt60z","pullX-8":"frontend-pencraft-Box-module__pullX-8--S5L_X","pullX-12":"frontend-pencraft-Box-module__pullX-12--q44Xm","pullX-16":"frontend-pencraft-Box-module__pullX-16--INTA6","pullX-20":"frontend-pencraft-Box-module__pullX-20--ZkA8j","pullX-24":"frontend-pencraft-Box-module__pullX-24--QGV4o","pullX-32":"frontend-pencraft-Box-module__pullX-32--GyMB2","pullX-40":"frontend-pencraft-Box-module__pullX-40--F0UAO","pullX-48":"frontend-pencraft-Box-module__pullX-48--xOl5I","pullX-56":"frontend-pencraft-Box-module__pullX-56--Ns28l","pullX-64":"frontend-pencraft-Box-module__pullX-64--hg4cI","pullX-80":"frontend-pencraft-Box-module__pullX-80--eSVAK","pullX-120":"frontend-pencraft-Box-module__pullX-120--M1no4"}},4924:(z,u,e)=>{"use strict";e.d(u,{Z:()=>o});const o={buttonBase:"frontend-pencraft-Button-module__buttonBase--T0hXz",button:"frontend-pencraft-Button-module__button--d6e9L",grow:"frontend-pencraft-Button-module__grow--PaHXm",size_small:"frontend-pencraft-Button-module__size_small--pFP3O",size_medium:"frontend-pencraft-Button-module__size_medium--PaDMH",size_large:"frontend-pencraft-Button-module__size_large--QbIQV",shadow_medium:"frontend-pencraft-Button-module__shadow_medium--iMIYK",iconButton:"frontend-pencraft-Button-module__iconButton--xpBoH frontend-pencraft-Button-module__buttonBase--T0hXz",size_24:"frontend-pencraft-Button-module__size_24--ydERA",size_32:"frontend-pencraft-Button-module__size_32--KERai",size_36:"frontend-pencraft-Button-module__size_36--VC9z1",size_40:"frontend-pencraft-Button-module__size_40--RASvV",size_48:"frontend-pencraft-Button-module__size_48--yVywS",size_56:"frontend-pencraft-Button-module__size_56--K4npu",rounded:"frontend-pencraft-Button-module__rounded--D6jfD","color_primary-text":"frontend-pencraft-Button-module__color_primary-text--xeutz",fill_borderless:"frontend-pencraft-Button-module__fill_borderless--atCUO",priority_primary:"frontend-pencraft-Button-module__priority_primary--RYgwz","priority_primary-theme":"frontend-pencraft-Button-module__priority_primary-theme--o7dw6","priority_secondary-theme":"frontend-pencraft-Button-module__priority_secondary-theme--YMjyc",priority_secondary:"frontend-pencraft-Button-module__priority_secondary--UEXV6",priority_destructive:"frontend-pencraft-Button-module__priority_destructive--kZRin",priority_twitter:"frontend-pencraft-Button-module__priority_twitter--dbj4H",priority_facebook:"frontend-pencraft-Button-module__priority_facebook--K6d1C",priority_media:"frontend-pencraft-Button-module__priority_media--aBYMP",fill_empty:"frontend-pencraft-Button-module__fill_empty--OPYgN",fill_filled:"frontend-pencraft-Button-module__fill_filled--ysyt0",outline_none:"frontend-pencraft-Button-module__outline_none--V76g2",fill_outline:"frontend-pencraft-Button-module__fill_outline--FmYR9",inverted:"frontend-pencraft-Button-module__inverted--BjUto",textButton:"frontend-pencraft-Button-module__textButton--wjDyp"}},28614:(z,u,e)=>{"use strict";e.d(u,{Z:()=>o});const o={reset:"frontend-pencraft-Text-module__reset--dW0zZ","align-left":"frontend-pencraft-Text-module__align-left--IURXw","align-center":"frontend-pencraft-Text-module__align-center--HMNAZ","align-right":"frontend-pencraft-Text-module__align-right--PcYkZ","size-10":"frontend-pencraft-Text-module__size-10--TjNsS","size-11":"frontend-pencraft-Text-module__size-11--k1e8b","size-12":"frontend-pencraft-Text-module__size-12--KorQF","size-13":"frontend-pencraft-Text-module__size-13--XwZ4Q","size-14":"frontend-pencraft-Text-module__size-14--Ume6q","size-16":"frontend-pencraft-Text-module__size-16--fFowu","size-18":"frontend-pencraft-Text-module__size-18--zqngu","size-20":"frontend-pencraft-Text-module__size-20--rvGME","size-24":"frontend-pencraft-Text-module__size-24--Nqjlj","size-28":"frontend-pencraft-Text-module__size-28--QPmK_","size-32":"frontend-pencraft-Text-module__size-32--oRWIM","size-36":"frontend-pencraft-Text-module__size-36--qcTKl","size-38":"frontend-pencraft-Text-module__size-38--VRHEY","line-height-16":"frontend-pencraft-Text-module__line-height-16--nRbFX","line-height-18":"frontend-pencraft-Text-module__line-height-18--Hqt45","line-height-20":"frontend-pencraft-Text-module__line-height-20--p0dP8","line-height-22":"frontend-pencraft-Text-module__line-height-22--fBCDb","line-height-24":"frontend-pencraft-Text-module__line-height-24--lgb2s","line-height-28":"frontend-pencraft-Text-module__line-height-28--NgO1Q","line-height-30":"frontend-pencraft-Text-module__line-height-30--I_4lx","line-height-32":"frontend-pencraft-Text-module__line-height-32--gncft","line-height-36":"frontend-pencraft-Text-module__line-height-36--XBUKs","line-height-40":"frontend-pencraft-Text-module__line-height-40--IuB7y","line-height-44":"frontend-pencraft-Text-module__line-height-44--FgZZF","weight-light":"frontend-pencraft-Text-module__weight-light--K3kAx","weight-normal":"frontend-pencraft-Text-module__weight-normal--s54Wf","weight-medium":"frontend-pencraft-Text-module__weight-medium--x7khA","weight-semibold":"frontend-pencraft-Text-module__weight-semibold--LJBj3","weight-bold":"frontend-pencraft-Text-module__weight-bold--Ps9DB","weight-extrabold":"frontend-pencraft-Text-module__weight-extrabold--MVDJb","font-display":"frontend-pencraft-Text-module__font-display--KlbfE","font-text":"frontend-pencraft-Text-module__font-text--QmNJR","font-serif":"frontend-pencraft-Text-module__font-serif--vDmr9","font-monospace":"frontend-pencraft-Text-module__font-monospace--d1JCK","font-meta":"frontend-pencraft-Text-module__font-meta--U_nxy","font-digit":"frontend-pencraft-Text-module__font-digit--AusNq","font-emoji":"frontend-pencraft-Text-module__font-emoji--vNv4r","font-pub-headings":"frontend-pencraft-Text-module__font-pub-headings--lbOZ2","font-pub-body":"frontend-pencraft-Text-module__font-pub-body--EYvh6","font-marketing":"frontend-pencraft-Text-module__font-marketing--alZiD","font-style-italic":"frontend-pencraft-Text-module__font-style-italic--pVGY_","color-primary":"frontend-pencraft-Text-module__color-primary--ud4Z0","color-secondary":"frontend-pencraft-Text-module__color-secondary--WRADg","color-tertiary":"frontend-pencraft-Text-module__color-tertiary--Ltr7B","color-success":"frontend-pencraft-Text-module__color-success--DEqmn","color-error":"frontend-pencraft-Text-module__color-error--cPex3","color-substack":"frontend-pencraft-Text-module__color-substack--OEE6X","color-bg-light":"frontend-pencraft-Text-module__color-bg-light--fXepy","color-pub-primary-text":"frontend-pencraft-Text-module__color-pub-primary-text--RzL7j","color-pub-secondary-text":"frontend-pencraft-Text-module__color-pub-secondary-text--OzRTa","color-pub-accent":"frontend-pencraft-Text-module__color-pub-accent--ENUEn","color-accent-red":"frontend-pencraft-Text-module__color-accent-red--XZxwi","color-accent-purple":"frontend-pencraft-Text-module__color-accent-purple--XfjiI","color-accent-blue":"frontend-pencraft-Text-module__color-accent-blue--yq1p7","transform-uppercase":"frontend-pencraft-Text-module__transform-uppercase--IDkUL",ellipsis:"frontend-pencraft-Text-module__ellipsis--K3mj1",nowrap:"frontend-pencraft-Text-module__nowrap--FFIJI",clamp:"frontend-pencraft-Text-module__clamp--a1dYM","clamp-1":"frontend-pencraft-Text-module__clamp-1--qD_7y","clamp-2":"frontend-pencraft-Text-module__clamp-2--kM7cV","clamp-3":"frontend-pencraft-Text-module__clamp-3--R6uR3","clamp-4":"frontend-pencraft-Text-module__clamp-4--UtLMJ","clamp-5":"frontend-pencraft-Text-module__clamp-5--jx7AR","clamp-8":"frontend-pencraft-Text-module__clamp-8--_w8kW","decoration-underline":"frontend-pencraft-Text-module__decoration-underline--sj8pE","decoration-none":"frontend-pencraft-Text-module__decoration-none--fSOnx","decoration-hover-underline":"frontend-pencraft-Text-module__decoration-hover-underline--BEYAn","decoration-line-through":"frontend-pencraft-Text-module__decoration-line-through--savXK","pb-0":"frontend-pencraft-Text-module__pb-0--oJ2zN","pb-4":"frontend-pencraft-Text-module__pb-4--zc_MG","pb-8":"frontend-pencraft-Text-module__pb-8--az5rk","pb-12":"frontend-pencraft-Text-module__pb-12--kc1Oe","pb-16":"frontend-pencraft-Text-module__pb-16--EmDlZ","pb-20":"frontend-pencraft-Text-module__pb-20--H2nTd","pb-24":"frontend-pencraft-Text-module__pb-24--lZquw","pb-28":"frontend-pencraft-Text-module__pb-28--FnB8w","pb-32":"frontend-pencraft-Text-module__pb-32--UAwHd","pl-0":"frontend-pencraft-Text-module__pl-0--M0tOT","pl-4":"frontend-pencraft-Text-module__pl-4--OU99o","pl-8":"frontend-pencraft-Text-module__pl-8--Utyb7","pl-12":"frontend-pencraft-Text-module__pl-12--YSRQc","pl-16":"frontend-pencraft-Text-module__pl-16--Qy2oa","pl-20":"frontend-pencraft-Text-module__pl-20--_jy5A","pl-24":"frontend-pencraft-Text-module__pl-24--CLAKz","pl-28":"frontend-pencraft-Text-module__pl-28--Px2EF","pl-32":"frontend-pencraft-Text-module__pl-32--vPigU","pr-0":"frontend-pencraft-Text-module__pr-0--iu9nM","pr-4":"frontend-pencraft-Text-module__pr-4--CxP4h","pr-8":"frontend-pencraft-Text-module__pr-8--RdjsS","pr-12":"frontend-pencraft-Text-module__pr-12--b4OPu","pr-16":"frontend-pencraft-Text-module__pr-16--Omg1z","pr-20":"frontend-pencraft-Text-module__pr-20--q5Liy","pr-24":"frontend-pencraft-Text-module__pr-24--DLrAp","pr-28":"frontend-pencraft-Text-module__pr-28--CzBqk","pr-32":"frontend-pencraft-Text-module__pr-32--fpeci","pt-0":"frontend-pencraft-Text-module__pt-0--gXXK4","pt-4":"frontend-pencraft-Text-module__pt-4--A76Ib","pt-8":"frontend-pencraft-Text-module__pt-8--UXpDH","pt-12":"frontend-pencraft-Text-module__pt-12--_3VHu","pt-16":"frontend-pencraft-Text-module__pt-16--Q_rgJ","pt-20":"frontend-pencraft-Text-module__pt-20--eahXO","pt-24":"frontend-pencraft-Text-module__pt-24--eHqeF","pt-28":"frontend-pencraft-Text-module__pt-28--y5gSe","pt-32":"frontend-pencraft-Text-module__pt-32--RCWsg",paragraph:"frontend-pencraft-Text-module__paragraph--xwgYU",body1:"frontend-pencraft-Text-module__body1--PZGPK",body2:"frontend-pencraft-Text-module__body2--OSJSf",body3:"frontend-pencraft-Text-module__body3--xcwfZ",body4:"frontend-pencraft-Text-module__body4--Pl3xY",meta:"frontend-pencraft-Text-module__meta--jzHdd",digit:"frontend-pencraft-Text-module__digit--Dssbw",marketingHeading1xl:"frontend-pencraft-Text-module__marketingHeading1xl--w2t25",marketingHeading1:"frontend-pencraft-Text-module__marketingHeading1--GilGQ",marketingHeading2:"frontend-pencraft-Text-module__marketingHeading2--Rv1Nh",marketingHeading3:"frontend-pencraft-Text-module__marketingHeading3--nhPu_",marketingHeading4:"frontend-pencraft-Text-module__marketingHeading4--fBhoA",marketingHeading5:"frontend-pencraft-Text-module__marketingHeading5--zmdSS",marketingQuote:"frontend-pencraft-Text-module__marketingQuote--kXKk3",marketingSubtitle:"frontend-pencraft-Text-module__marketingSubtitle--jIk8i",marketingBody:"frontend-pencraft-Text-module__marketingBody--i9R2n"}},51220:(z,u,e)=>{"use strict";e.d(u,{Z:()=>o});const o={input:"frontend-pencraft-unstable-Input-module__input--U6AH5",error:"frontend-pencraft-unstable-Input-module__error--P4ENV",textarea:"frontend-pencraft-unstable-Input-module__textarea--okhMK","font-text":"frontend-pencraft-unstable-Input-module__font-text--OxgAa","font-monospace":"frontend-pencraft-unstable-Input-module__font-monospace--yyu0R"}},28967:(z,u,e)=>{"use strict";e.d(u,{Z:()=>o});const o={variables:"frontend-reader2-FeedPage2-module__variables--ga9s4",page:"frontend-reader2-FeedPage2-module__page--OGZlq",title:"frontend-reader2-FeedPage2-module__title--JGHnF",miniInboxItem:"frontend-reader2-FeedPage2-module__miniInboxItem--NqC6C",newPillContainer:"frontend-reader2-FeedPage2-module__newPillContainer--TSf1w",newPill:"frontend-reader2-FeedPage2-module__newPill--xvF5p",hidden:"frontend-reader2-FeedPage2-module__hidden--ujYZU",facepile:"frontend-reader2-FeedPage2-module__facepile--HJOvk",face:"frontend-reader2-FeedPage2-module__face--ZRQCv",tabIcon:"frontend-reader2-FeedPage2-module__tabIcon--Qq5Ip",feedItem:"frontend-reader2-FeedPage2-module__feedItem--ef_eG",feedUnit:"frontend-reader2-FeedPage2-module__feedUnit--NOehd",showThreadGutter:"frontend-reader2-FeedPage2-module__showThreadGutter--KddYr",hasAvatar:"frontend-reader2-FeedPage2-module__hasAvatar--o1Y14",hasAction:"frontend-reader2-FeedPage2-module__hasAction--USoNb",seeMoreFade:"frontend-reader2-FeedPage2-module__seeMoreFade--ffgtP",seeMoreText:"frontend-reader2-FeedPage2-module__seeMoreText--f6HIr",timestamp:"frontend-reader2-FeedPage2-module__timestamp--vOvEZ",metaTimestamp:"frontend-reader2-FeedPage2-module__metaTimestamp--gFOjC",feedPermalinkUnit:"frontend-reader2-FeedPage2-module__feedPermalinkUnit--uQYlR",permalinkHeader:"frontend-reader2-FeedPage2-module__permalinkHeader--yqFA3",seeMoreReplies:"frontend-reader2-FeedPage2-module__seeMoreReplies--TOlVf",seeMoreThread:"frontend-reader2-FeedPage2-module__seeMoreThread--SvMtw",seeMoreThreadSegment:"frontend-reader2-FeedPage2-module__seeMoreThreadSegment--VoQIF",top:"frontend-reader2-FeedPage2-module__top--sGcdt",hasContext:"frontend-reader2-FeedPage2-module__hasContext--TwqeY",replyUnit:"frontend-reader2-FeedPage2-module__replyUnit--d10O2",quoteText:"frontend-reader2-FeedPage2-module__quoteText--ahbw_",quote:"frontend-reader2-FeedPage2-module__quote--Z5hGM",quoteBottom:"frontend-reader2-FeedPage2-module__quoteBottom--Z0bvr",quoteButton:"frontend-reader2-FeedPage2-module__quoteButton--nnVlK",feedCommentBody:"frontend-reader2-FeedPage2-module__feedCommentBody--igKQl",feedCommentBodyInner:"frontend-reader2-FeedPage2-module__feedCommentBodyInner--sF0AK",underlineLink:"frontend-reader2-FeedPage2-module__underlineLink--pGNvG",disabled:"frontend-reader2-FeedPage2-module__disabled--exFn7",peopleYouMayKnowContainer:"frontend-reader2-FeedPage2-module__peopleYouMayKnowContainer--F9cRd",peopleYouMayKnow:"frontend-reader2-FeedPage2-module__peopleYouMayKnow--asjI3",peopleYouMayKnowArrows:"frontend-reader2-FeedPage2-module__peopleYouMayKnowArrows--I0l3_",seeMore:"frontend-reader2-FeedPage2-module__seeMore--redfx",contextRow:"frontend-reader2-FeedPage2-module__contextRow--kyoQj",contextIcon:"frontend-reader2-FeedPage2-module__contextIcon--Mk5Pv",dot:"frontend-reader2-FeedPage2-module__dot--mrV5k",post:"frontend-reader2-FeedPage2-module__post--o1TR5",postImage:"frontend-reader2-FeedPage2-module__postImage--km4kb",linkImage:"frontend-reader2-FeedPage2-module__linkImage--XP4ld",mobile:"frontend-reader2-FeedPage2-module__mobile--C7yMj",linkImagePlaceholder:"frontend-reader2-FeedPage2-module__linkImagePlaceholder--oCLpB",actionRow:"frontend-reader2-FeedPage2-module__actionRow--CdCf4",actionButton:"frontend-reader2-FeedPage2-module__actionButton--K7BjS",permalink:"frontend-reader2-FeedPage2-module__permalink--w5EPY",heart:"frontend-reader2-FeedPage2-module__heart--JfP7W",more:"frontend-reader2-FeedPage2-module__more--olobi",shrink:"frontend-reader2-FeedPage2-module__shrink--VKuWI",digit:"frontend-reader2-FeedPage2-module__digit--uHKoF",like:"frontend-reader2-FeedPage2-module__like--Q2Xlr",active:"frontend-reader2-FeedPage2-module__active--fMYVL",reply:"frontend-reader2-FeedPage2-module__reply--pjYNC",restack:"frontend-reader2-FeedPage2-module__restack--gbucn",share:"frontend-reader2-FeedPage2-module__share--uhEYz",shortPostText:"frontend-reader2-FeedPage2-module__shortPostText--vek8q",large:"frontend-reader2-FeedPage2-module__large--WBjT8",stat:"frontend-reader2-FeedPage2-module__stat--Uyi9h",reportModal:"frontend-reader2-FeedPage2-module__reportModal--ynkJH",likeButton:"frontend-reader2-FeedPage2-module__likeButton--LvUVd",heartWrapper:"frontend-reader2-FeedPage2-module__heartWrapper--uhZEU",clickedOnce:"frontend-reader2-FeedPage2-module__clickedOnce--X3cwn",isLiked:"frontend-reader2-FeedPage2-module__isLiked--rpD60","heart-bounce":"frontend-reader2-FeedPage2-module__heart-bounce--ZFfaq",spark:"frontend-reader2-FeedPage2-module__spark--M19my","spark-burst":"frontend-reader2-FeedPage2-module__spark-burst--DdwB9",sparks:"frontend-reader2-FeedPage2-module__sparks--MDGJ3",ripple:"frontend-reader2-FeedPage2-module__ripple--ntUbt",userBadge:"frontend-reader2-FeedPage2-module__userBadge--z76kJ",mutedItem:"frontend-reader2-FeedPage2-module__mutedItem--zAMN6",desaturate:"frontend-reader2-FeedPage2-module__desaturate--nMKB1",unhideButton:"frontend-reader2-FeedPage2-module__unhideButton--lwW4T",viewHiddenRepliesButton:"frontend-reader2-FeedPage2-module__viewHiddenRepliesButton--Ids4f",hiddenRepliesSettingsButton:"frontend-reader2-FeedPage2-module__hiddenRepliesSettingsButton--gT41H",hiddenRepliesSettingsButtonIcon:"frontend-reader2-FeedPage2-module__hiddenRepliesSettingsButtonIcon--tfbag"}},7980:(z,u,e)=>{"use strict";e.d(u,{Z:()=>o});const o={avatarLink:"frontend-reader2-NewPost-module__avatarLink--k6p8g",inlineComposer:"frontend-reader2-NewPost-module__inlineComposer--Kcxrs",disabled:"frontend-reader2-NewPost-module__disabled--H5e3r",shareImageButton:"frontend-reader2-NewPost-module__shareImageButton--GEnD0",inlineComposerButton:"frontend-reader2-NewPost-module__inlineComposerButton--VqfS8",mobile:"frontend-reader2-NewPost-module__mobile--KoLCp",isDropping:"frontend-reader2-NewPost-module__isDropping--rlyUL",floatingComposer:"frontend-reader2-NewPost-module__floatingComposer--QzbSz",inputSpacer:"frontend-reader2-NewPost-module__inputSpacer--zsd8O",wordCountIndicator:"frontend-reader2-NewPost-module__wordCountIndicator--eN3TG",exceded:"frontend-reader2-NewPost-module__exceded--K2Uk0",composerModal:"frontend-reader2-NewPost-module__composerModal--i_mLl",setupProfileModalContent:"frontend-reader2-NewPost-module__setupProfileModalContent--CxnXw",modalColumn:"frontend-reader2-NewPost-module__modalColumn--e32_G",dropdownIcon:"frontend-reader2-NewPost-module__dropdownIcon--rxRtk",dropdownMenu:"frontend-reader2-NewPost-module__dropdownMenu--gtepK",pubRow:"frontend-reader2-NewPost-module__pubRow--cgSM7",pubName:"frontend-reader2-NewPost-module__pubName--sA2UJ",linkImage:"frontend-reader2-NewPost-module__linkImage--TodmF",imageContainer:"frontend-reader2-NewPost-module__imageContainer--A8VSd",attachmentContainer:"frontend-reader2-NewPost-module__attachmentContainer--oQMn_",removeImage:"frontend-reader2-NewPost-module__removeImage--nfnT8",removeAttachment:"frontend-reader2-NewPost-module__removeAttachment--fGdwq"}},95042:(z,u,e)=>{"use strict";e.d(u,{Z:()=>o});const o={root:"frontend-reader2-Notifications-module__root--Tsg8L",trigger:"frontend-reader2-Notifications-module__trigger--dMulo",badge:"frontend-reader2-Notifications-module__badge--B7mk_",circle:"frontend-reader2-Notifications-module__circle--Q8siW"}},27797:(z,u,e)=>{"use strict";e.d(u,{Z:()=>o});const o={card:"frontend-reader2-ProfileAndPublicationHoverCard-module__card--J_wFE",publicationPopover:"frontend-reader2-ProfileAndPublicationHoverCard-module__publicationPopover--U_ZvV",breakOut:"frontend-reader2-ProfileAndPublicationHoverCard-module__breakOut--mkCoL",hoverCardAvatar:"frontend-reader2-ProfileAndPublicationHoverCard-module__hoverCardAvatar--wb9DE frontend-reader2-ProfileAndPublicationHoverCard-module__breakOut--mkCoL",hoverCardTitle:"frontend-reader2-ProfileAndPublicationHoverCard-module__hoverCardTitle--l2ryd",writesCard:"frontend-reader2-ProfileAndPublicationHoverCard-module__writesCard--Kg6JT",hoverCardSeeAll:"frontend-reader2-ProfileAndPublicationHoverCard-module__hoverCardSeeAll--5trGx",profileHoverCardTarget:"frontend-reader2-ProfileAndPublicationHoverCard-module__profileHoverCardTarget--Od_YL",publicationHoverCardTarget:"frontend-reader2-ProfileAndPublicationHoverCard-module__publicationHoverCardTarget--UjFRs",inline:"frontend-reader2-ProfileAndPublicationHoverCard-module__inline--bEDYo",profileHoverCard:"frontend-reader2-ProfileAndPublicationHoverCard-module__profileHoverCard--k5sNi",publicationHoverCard:"frontend-reader2-ProfileAndPublicationHoverCard-module__publicationHoverCard--sCxL3",profileHoverCardHeader:"frontend-reader2-ProfileAndPublicationHoverCard-module__profileHoverCardHeader--WYI5h",profileHoverCardNameRow:"frontend-reader2-ProfileAndPublicationHoverCard-module__profileHoverCardNameRow--vDy1W",facepileFace:"frontend-reader2-ProfileAndPublicationHoverCard-module__facepileFace--bOm2O"}},33291:()=>{"use strict";var z={}},42441:(z,u,e)=>{var o;(function(f,l,c){if(!f)return;for(var g={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},v={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},E={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},y={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},p,O=1;O<20;++O)g[111+O]="f"+O;for(O=0;O<=9;++O)g[O+96]=O.toString();function S(L,U,W){if(L.addEventListener){L.addEventListener(U,W,!1);return}L.attachEvent("on"+U,W)}function x(L){if(L.type=="keypress"){var U=String.fromCharCode(L.which);return L.shiftKey||(U=U.toLowerCase()),U}return g[L.which]?g[L.which]:v[L.which]?v[L.which]:String.fromCharCode(L.which).toLowerCase()}function T(L,U){return L.sort().join(",")===U.sort().join(",")}function _(L){var U=[];return L.shiftKey&&U.push("shift"),L.altKey&&U.push("alt"),L.ctrlKey&&U.push("ctrl"),L.metaKey&&U.push("meta"),U}function d(L){if(L.preventDefault){L.preventDefault();return}L.returnValue=!1}function s(L){if(L.stopPropagation){L.stopPropagation();return}L.cancelBubble=!0}function w(L){return L=="shift"||L=="ctrl"||L=="alt"||L=="meta"}function P(){if(!p){p={};for(var L in g)L>95&&L<112||g.hasOwnProperty(L)&&(p[g[L]]=L)}return p}function I(L,U,W){return W||(W=P()[L]?"keydown":"keypress"),W=="keypress"&&U.length&&(W="keydown"),W}function D(L){return L==="+"?["+"]:(L=L.replace(/\+{2}/g,"+plus"),L.split("+"))}function N(L,U){var W,G,$,q=[];for(W=D(L),$=0;$<W.length;++$)G=W[$],y[G]&&(G=y[G]),U&&U!="keypress"&&E[G]&&(G=E[G],q.push("shift")),w(G)&&q.push(G);return U=I(G,q,U),{key:G,modifiers:q,action:U}}function C(L,U){return L===null||L===l?!1:L===U?!0:C(L.parentNode,U)}function A(L){var U=this;if(L=L||l,!(U instanceof A))return new A(L);U.target=L,U._callbacks={},U._directMap={};var W={},G,$=!1,q=!1,J=!1;function R(te){te=te||{};var Z=!1,re;for(re in W){if(te[re]){Z=!0;continue}W[re]=0}Z||(J=!1)}function j(te,Z,re,ae,se,be){var _e,pe,me=[],Te=re.type;if(!U._callbacks[te])return[];for(Te=="keyup"&&w(te)&&(Z=[te]),_e=0;_e<U._callbacks[te].length;++_e)if(pe=U._callbacks[te][_e],!(!ae&&pe.seq&&W[pe.seq]!=pe.level)&&Te==pe.action&&(Te=="keypress"&&!re.metaKey&&!re.ctrlKey||T(Z,pe.modifiers))){var ve=!ae&&pe.combo==se,ce=ae&&pe.seq==ae&&pe.level==be;(ve||ce)&&U._callbacks[te].splice(_e,1),me.push(pe)}return me}function ie(te,Z,re,ae){U.stopCallback(Z,Z.target||Z.srcElement,re,ae)||te(Z,re)===!1&&(d(Z),s(Z))}U._handleKey=function(te,Z,re){var ae=j(te,Z,re),se,be={},_e=0,pe=!1;for(se=0;se<ae.length;++se)ae[se].seq&&(_e=Math.max(_e,ae[se].level));for(se=0;se<ae.length;++se){if(ae[se].seq){if(ae[se].level!=_e)continue;pe=!0,be[ae[se].seq]=1,ie(ae[se].callback,re,ae[se].combo,ae[se].seq);continue}pe||ie(ae[se].callback,re,ae[se].combo)}var me=re.type=="keypress"&&q;re.type==J&&!w(te)&&!me&&R(be),q=pe&&re.type=="keydown"};function le(te){typeof te.which!="number"&&(te.which=te.keyCode);var Z=x(te);if(Z){if(te.type=="keyup"&&$===Z){$=!1;return}U.handleKey(Z,_(te),te)}}function ye(){clearTimeout(G),G=setTimeout(R,1e3)}function ue(te,Z,re,ae){W[te]=0;function se(Te){return function(){J=Te,++W[te],ye()}}function be(Te){ie(re,Te,te),ae!=="keyup"&&($=x(Te)),setTimeout(R,10)}for(var _e=0;_e<Z.length;++_e){var pe=_e+1===Z.length,me=pe?be:se(ae||N(Z[_e+1]).action);oe(Z[_e],me,ae,te,_e)}}function oe(te,Z,re,ae,se){U._directMap[te+":"+re]=Z,te=te.replace(/\s+/g," ");var be=te.split(" "),_e;if(be.length>1){ue(te,be,Z,re);return}_e=N(te,re),U._callbacks[_e.key]=U._callbacks[_e.key]||[],j(_e.key,_e.modifiers,{type:_e.action},ae,te,se),U._callbacks[_e.key][ae?"unshift":"push"]({callback:Z,modifiers:_e.modifiers,action:_e.action,seq:ae,level:se,combo:te})}U._bindMultiple=function(te,Z,re){for(var ae=0;ae<te.length;++ae)oe(te[ae],Z,re)},S(L,"keypress",le),S(L,"keydown",le),S(L,"keyup",le)}A.prototype.bind=function(L,U,W){var G=this;return L=L instanceof Array?L:[L],G._bindMultiple.call(G,L,U,W),G},A.prototype.unbind=function(L,U){var W=this;return W.bind.call(W,L,function(){},U)},A.prototype.trigger=function(L,U){var W=this;return W._directMap[L+":"+U]&&W._directMap[L+":"+U]({},L),W},A.prototype.reset=function(){var L=this;return L._callbacks={},L._directMap={},L},A.prototype.stopCallback=function(L,U){var W=this;return(" "+U.className+" ").indexOf(" mousetrap ")>-1||C(U,W.target)?!1:U.tagName=="INPUT"||U.tagName=="SELECT"||U.tagName=="TEXTAREA"||U.isContentEditable},A.prototype.handleKey=function(){var L=this;return L._handleKey.apply(L,arguments)},A.addKeycodes=function(L){for(var U in L)L.hasOwnProperty(U)&&(g[U]=L[U]);p=null},A.init=function(){var L=A(l);for(var U in L)U.charAt(0)!=="_"&&(A[U]=function(W){return function(){return L[W].apply(L,arguments)}}(U))},A.init(),f.Mousetrap=A,z.exports&&(z.exports=A),o=function(){return A}.call(u,e,u,z),o!==c&&(z.exports=o)})(typeof window!="undefined"?window:null,typeof window!="undefined"?document:null)},57824:z=>{var u=1e3,e=u*60,o=e*60,f=o*24,l=f*7,c=f*365.25;z.exports=function(p,O){O=O||{};var S=typeof p;if(S==="string"&&p.length>0)return g(p);if(S==="number"&&isFinite(p))return O.long?E(p):v(p);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(p))};function g(p){if(p=String(p),!(p.length>100)){var O=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(p);if(O){var S=parseFloat(O[1]),x=(O[2]||"ms").toLowerCase();switch(x){case"years":case"year":case"yrs":case"yr":case"y":return S*c;case"weeks":case"week":case"w":return S*l;case"days":case"day":case"d":return S*f;case"hours":case"hour":case"hrs":case"hr":case"h":return S*o;case"minutes":case"minute":case"mins":case"min":case"m":return S*e;case"seconds":case"second":case"secs":case"sec":case"s":return S*u;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return S;default:return}}}}function v(p){var O=Math.abs(p);return O>=f?Math.round(p/f)+"d":O>=o?Math.round(p/o)+"h":O>=e?Math.round(p/e)+"m":O>=u?Math.round(p/u)+"s":p+"ms"}function E(p){var O=Math.abs(p);return O>=f?y(p,O,f,"day"):O>=o?y(p,O,o,"hour"):O>=e?y(p,O,e,"minute"):O>=u?y(p,O,u,"second"):p+" ms"}function y(p,O,S,x){var T=O>=S*1.5;return Math.round(p/S)+" "+x+(T?"s":"")}},54125:z=>{/*!
 * mux-embed
 * @version 4.25.0
 * @copyright 2023 Mux, Inc
 */(function(){var u,e;u=this,e=function(){return function(){var o={80:function(c,g,v){c.exports=v(728).default},728:function(c,g,v){"use strict";v.d(g,{default:function(){return Di}});var E=v(48),y=v.n(E),p=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(rt){var Ge=16*Math.random()|0;return(rt==="x"?Ge:3&Ge|8).toString(16)})},O=function(){return("000000"+(Math.random()*Math.pow(36,6)<<0).toString(36)).slice(-6)},S=function(rt){return rt&&rt.nodeName!==void 0?(rt.muxId||(rt.muxId=rt.id||O()),rt.muxId):rt},x=function(rt){var Ge;rt&&rt.nodeName!==void 0?rt=S(Ge=rt):Ge=document.querySelector(rt);var Je=Ge&&Ge.nodeName?Ge.nodeName.toLowerCase():"";return[Ge,rt,Je]},T=v(640),_=v.n(T),d=_().methodFactory;_().methodFactory=function(rt,Ge,Je){var mt=d(rt,Ge,Je);return function(){for(var bt=["[mux]"],jt=0;jt<arguments.length;jt++)bt.push(arguments[jt]);mt.apply(void 0,bt)}},_().setLevel(_().getLevel());var s=_();function w(){return(y().doNotTrack||y().navigator&&y().navigator.doNotTrack)==="1"}var P={now:function(){var rt=y().performance,Ge=rt&&rt.timing,Je=Ge&&Ge.navigationStart,mt=typeof Je=="number"&&typeof rt.now=="function"?Je+rt.now():Date.now();return Math.round(mt)}},I=function(rt){return D(rt)[0]},D=function(rt){if(typeof rt!="string"||rt==="")return["localhost"];var Ge,Je=(rt.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/)||[])[4];return Je&&(Ge=(Je.match(/[^\.]+\.[^\.]+$/)||[])[0]),[Je,Ge]},N={exists:function(){var rt=y().performance;return(rt&&rt.timing)!==void 0},domContentLoadedEventEnd:function(){var rt=y().performance,Ge=rt&&rt.timing;return Ge&&Ge.domContentLoadedEventEnd},navigationStart:function(){var rt=y().performance,Ge=rt&&rt.timing;return Ge&&Ge.navigationStart}};function C(rt,Ge,Je){Je=Je===void 0?1:Je,rt[Ge]=rt[Ge]||0,rt[Ge]+=Je}var A=["x-request-id","cf-ray","x-amz-cf-id","x-akamai-request-id"],L=["x-cdn","content-type"].concat(A);function U(rt){var Ge={};return(rt=rt||"").trim().split(/[\r\n]+/).forEach(function(Je){if(Je){var mt=Je.split(": "),bt=mt.shift();bt&&(L.indexOf(bt.toLowerCase())>=0||bt.toLowerCase().indexOf("x-litix-")===0)&&(Ge[bt]=mt.join(": "))}}),Ge}function W(rt){if(rt){var Ge=A.find(function(Je){return rt[Je]!==void 0});return Ge?rt[Ge]:void 0}}var G=function(rt){var Ge={};for(var Je in rt){var mt=rt[Je];mt["DATA-ID"].search("io.litix.data.")!==-1&&(Ge[mt["DATA-ID"].replace("io.litix.data.","")]=mt.VALUE)}return Ge};function $(rt,Ge){var Je=Object.keys(rt);if(Object.getOwnPropertySymbols){var mt=Object.getOwnPropertySymbols(rt);Ge&&(mt=mt.filter(function(bt){return Object.getOwnPropertyDescriptor(rt,bt).enumerable})),Je.push.apply(Je,mt)}return Je}function q(rt){for(var Ge=1;Ge<arguments.length;Ge++){var Je=arguments[Ge]!=null?arguments[Ge]:{};Ge%2?$(Object(Je),!0).forEach(function(mt){J(rt,mt,Je[mt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(rt,Object.getOwnPropertyDescriptors(Je)):$(Object(Je)).forEach(function(mt){Object.defineProperty(rt,mt,Object.getOwnPropertyDescriptor(Je,mt))})}return rt}function J(rt,Ge,Je){return Ge in rt?Object.defineProperty(rt,Ge,{value:Je,enumerable:!0,configurable:!0,writable:!0}):rt[Ge]=Je,rt}var R=function(rt){if(!rt)return{};var Ge=N.navigationStart(),Je=rt.loading,mt=Je?Je.start:rt.trequest,bt=Je?Je.first:rt.tfirst,jt=Je?Je.end:rt.tload;return{bytesLoaded:rt.total,requestStart:Math.round(Ge+mt),responseStart:Math.round(Ge+bt),responseEnd:Math.round(Ge+jt)}},j=function(rt){if(rt&&typeof rt.getAllResponseHeaders=="function")return U(rt.getAllResponseHeaders())};function ie(rt,Ge){var Je=Object.keys(rt);if(Object.getOwnPropertySymbols){var mt=Object.getOwnPropertySymbols(rt);Ge&&(mt=mt.filter(function(bt){return Object.getOwnPropertyDescriptor(rt,bt).enumerable})),Je.push.apply(Je,mt)}return Je}function le(rt){for(var Ge=1;Ge<arguments.length;Ge++){var Je=arguments[Ge]!=null?arguments[Ge]:{};Ge%2?ie(Object(Je),!0).forEach(function(mt){ye(rt,mt,Je[mt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(rt,Object.getOwnPropertyDescriptors(Je)):ie(Object(Je)).forEach(function(mt){Object.defineProperty(rt,mt,Object.getOwnPropertyDescriptor(Je,mt))})}return rt}function ye(rt,Ge,Je){return Ge in rt?Object.defineProperty(rt,Ge,{value:Je,enumerable:!0,configurable:!0,writable:!0}):rt[Ge]=Je,rt}var ue=function(rt,Ge){if(!rt||typeof rt.getRequests!="function")return{};var Je=rt.getRequests({state:"executed"});if(Je.length===0)return{};var mt,bt=Je[Je.length-1],jt=I(bt.url),Bt=bt.url,sn=bt.bytesLoaded,Cn=new Date(bt.requestStartDate).getTime(),fn=new Date(bt.firstByteDate).getTime(),Bn=new Date(bt.requestEndDate).getTime(),Br=isNaN(bt.duration)?0:bt.duration,Or=typeof Ge.getMetricsFor=="function"?Ge.getMetricsFor(bt.mediaType).HttpList:Ge.getDashMetrics().getHttpRequests(bt.mediaType);return Or.length>0&&(mt=U(Or[Or.length-1]._responseHeaders||"")),{requestStart:Cn,requestResponseStart:fn,requestResponseEnd:Bn,requestBytesLoaded:sn,requestResponseHeaders:mt,requestMediaDuration:Br,requestHostname:jt,requestUrl:Bt,requestId:mt?W(mt):void 0}},oe=function(rt,Ge){var Je=Ge.getQualityFor(rt),mt=Ge.getCurrentTrackFor(rt).bitrateList;return mt?{currentLevel:Je,renditionWidth:mt[Je].width||null,renditionHeight:mt[Je].height||null,renditionBitrate:mt[Je].bandwidth}:{}},te=function(rt){var Ge;return(Ge=rt.match(/.*codecs\*?="(.*)"/))===null||Ge===void 0?void 0:Ge[1]};function Z(rt,Ge){for(var Je=0;Je<Ge.length;Je++){var mt=Ge[Je];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(rt,mt.key,mt)}}var re=0,ae=function(){function rt(){(function(bt,jt){if(!(bt instanceof jt))throw new TypeError("Cannot call a class as a function")})(this,rt)}var Ge,Je,mt;return Ge=rt,Je=[{key:"on",value:function(bt,jt,Bt){return jt._eventEmitterGuid=jt._eventEmitterGuid||++re,this._listeners=this._listeners||{},this._listeners[bt]=this._listeners[bt]||[],Bt&&(jt=jt.bind(Bt)),this._listeners[bt].push(jt),jt}},{key:"off",value:function(bt,jt){var Bt=this._listeners&&this._listeners[bt];Bt&&Bt.forEach(function(sn,Cn){sn._eventEmitterGuid===jt._eventEmitterGuid&&Bt.splice(Cn,1)})}},{key:"one",value:function(bt,jt,Bt){var sn=this;jt._eventEmitterGuid=jt._eventEmitterGuid||++re;var Cn=function fn(){sn.off(bt,fn),jt.apply(Bt||this,arguments)};Cn._eventEmitterGuid=jt._eventEmitterGuid,this.on(bt,Cn)}},{key:"emit",value:function(bt,jt){var Bt=this;if(this._listeners){jt=jt||{};var sn=this._listeners["before*"]||[],Cn=this._listeners[bt]||[],fn=this._listeners["after"+bt]||[],Bn=function(Br,Or){(Br=Br.slice()).forEach(function(Lr){Lr.call(Bt,{type:bt},Or)})};Bn(sn,jt),Bn(Cn,jt),Bn(fn,jt)}}}],Je&&Z(Ge.prototype,Je),mt&&Z(Ge,mt),Object.defineProperty(Ge,"prototype",{writable:!1}),rt}(),se=ae;function be(rt,Ge){for(var Je=0;Je<Ge.length;Je++){var mt=Ge[Je];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(rt,mt.key,mt)}}var _e=function(){function rt(bt){var jt=this;(function(Bt,sn){if(!(Bt instanceof sn))throw new TypeError("Cannot call a class as a function")})(this,rt),this.pm=bt,this._playbackHeartbeatInterval=null,this._playheadShouldBeProgressing=!1,bt.on("playing",function(){jt._playheadShouldBeProgressing=!0}),bt.on("play",this._startPlaybackHeartbeatInterval.bind(this)),bt.on("playing",this._startPlaybackHeartbeatInterval.bind(this)),bt.on("adbreakstart",this._startPlaybackHeartbeatInterval.bind(this)),bt.on("adplay",this._startPlaybackHeartbeatInterval.bind(this)),bt.on("adplaying",this._startPlaybackHeartbeatInterval.bind(this)),bt.on("seeking",this._startPlaybackHeartbeatInterval.bind(this)),bt.on("devicewake",this._startPlaybackHeartbeatInterval.bind(this)),bt.on("viewstart",this._startPlaybackHeartbeatInterval.bind(this)),bt.on("rebufferstart",this._startPlaybackHeartbeatInterval.bind(this)),bt.on("pause",this._stopPlaybackHeartbeatInterval.bind(this)),bt.on("ended",this._stopPlaybackHeartbeatInterval.bind(this)),bt.on("viewend",this._stopPlaybackHeartbeatInterval.bind(this)),bt.on("error",this._stopPlaybackHeartbeatInterval.bind(this)),bt.on("aderror",this._stopPlaybackHeartbeatInterval.bind(this)),bt.on("adpause",this._stopPlaybackHeartbeatInterval.bind(this)),bt.on("adended",this._stopPlaybackHeartbeatInterval.bind(this)),bt.on("adbreakend",this._stopPlaybackHeartbeatInterval.bind(this)),bt.on("seeked",function(){bt.data.player_is_paused?jt._stopPlaybackHeartbeatInterval():jt._startPlaybackHeartbeatInterval()}),bt.on("timeupdate",function(){jt._playbackHeartbeatInterval!==null&&bt.emit("playbackheartbeat")}),bt.on("devicesleep",function(Bt,sn){jt._playbackHeartbeatInterval!==null&&(y().clearInterval(jt._playbackHeartbeatInterval),bt.emit("playbackheartbeatend",{viewer_time:sn.viewer_time}),jt._playbackHeartbeatInterval=null)})}var Ge,Je,mt;return Ge=rt,(Je=[{key:"_startPlaybackHeartbeatInterval",value:function(){var bt=this;this._playbackHeartbeatInterval===null&&(this.pm.emit("playbackheartbeat"),this._playbackHeartbeatInterval=y().setInterval(function(){bt.pm.emit("playbackheartbeat")},this.pm.playbackHeartbeatTime))}},{key:"_stopPlaybackHeartbeatInterval",value:function(){this._playheadShouldBeProgressing=!1,this._playbackHeartbeatInterval!==null&&(y().clearInterval(this._playbackHeartbeatInterval),this.pm.emit("playbackheartbeatend"),this._playbackHeartbeatInterval=null)}}])&&be(Ge.prototype,Je),mt&&be(Ge,mt),Object.defineProperty(Ge,"prototype",{writable:!1}),rt}();function pe(rt,Ge){for(var Je=0;Je<Ge.length;Je++){var mt=Ge[Je];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(rt,mt.key,mt)}}function me(rt,Ge,Je){return Ge&&pe(rt.prototype,Ge),Je&&pe(rt,Je),Object.defineProperty(rt,"prototype",{writable:!1}),rt}var Te=me(function rt(Ge){var Je=this;(function(mt,bt){if(!(mt instanceof bt))throw new TypeError("Cannot call a class as a function")})(this,rt),Ge.on("viewinit",function(){Je.viewErrored=!1}),Ge.on("error",function(mt,bt){try{var jt=Ge.errorTranslator({player_error_code:bt.player_error_code,player_error_message:bt.player_error_message,player_error_context:bt.player_error_context});jt?(Ge.data.player_error_code=jt.player_error_code||bt.player_error_code,Ge.data.player_error_message=jt.player_error_message||bt.player_error_message,Ge.data.player_error_context=jt.player_error_context||bt.player_error_context,Je.viewErrored=!0):(delete Ge.data.player_error_code,delete Ge.data.player_error_message,delete Ge.data.player_error_context)}catch(Bt){Ge.mux.log.warn("Exception in error translator callback.",Bt),Je.viewErrored=!0}})});function ve(rt,Ge){for(var Je=0;Je<Ge.length;Je++){var mt=Ge[Je];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(rt,mt.key,mt)}}var ce=function(){function rt(bt){(function(jt,Bt){if(!(jt instanceof Bt))throw new TypeError("Cannot call a class as a function")})(this,rt),this.pm=bt,this._watchTimeTrackerLastCheckedTime=null,bt.on("playbackheartbeat",this._updateWatchTime.bind(this)),bt.on("playbackheartbeatend",this._clearWatchTimeState.bind(this))}var Ge,Je,mt;return Ge=rt,(Je=[{key:"_updateWatchTime",value:function(bt,jt){var Bt=jt.viewer_time;this._watchTimeTrackerLastCheckedTime===null&&(this._watchTimeTrackerLastCheckedTime=Bt),C(this.pm.data,"view_watch_time",Bt-this._watchTimeTrackerLastCheckedTime),this._watchTimeTrackerLastCheckedTime=Bt}},{key:"_clearWatchTimeState",value:function(bt,jt){this._updateWatchTime(bt,jt),this._watchTimeTrackerLastCheckedTime=null}}])&&ve(Ge.prototype,Je),mt&&ve(Ge,mt),Object.defineProperty(Ge,"prototype",{writable:!1}),rt}();function Le(rt,Ge){for(var Je=0;Je<Ge.length;Je++){var mt=Ge[Je];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(rt,mt.key,mt)}}var Ne=function(){function rt(bt){var jt=this;(function(Bt,sn){if(!(Bt instanceof sn))throw new TypeError("Cannot call a class as a function")})(this,rt),this.pm=bt,this._playbackTimeTrackerLastPlayheadPosition=-1,this._lastTime=P.now(),this._isAdPlaying=!1,bt.on("playbackheartbeat",this._updatePlaybackTime.bind(this)),bt.on("playbackheartbeatend",this._clearPlaybackTimeState.bind(this)),bt.on("seeking",this._clearPlaybackTimeState.bind(this)),bt.on("adplaying",function(){jt._isAdPlaying=!0}),bt.on("adended",function(){jt._isAdPlaying=!1}),bt.on("adpause",function(){jt._isAdPlaying=!1}),bt.on("adbreakstart",function(){jt._isAdPlaying=!1}),bt.on("adbreakend",function(){jt._isAdPlaying=!1}),bt.on("adplay",function(){jt._isAdPlaying=!1})}var Ge,Je,mt;return Ge=rt,(Je=[{key:"_updatePlaybackTime",value:function(){var bt=this.pm.data.player_playhead_time,jt=P.now(),Bt=-1;this._playbackTimeTrackerLastPlayheadPosition>=0&&bt>this._playbackTimeTrackerLastPlayheadPosition?Bt=bt-this._playbackTimeTrackerLastPlayheadPosition:this._isAdPlaying&&(Bt=jt-this._lastTime),Bt>0&&Bt<=1e3&&C(this.pm.data,"view_content_playback_time",Bt),this._playbackTimeTrackerLastPlayheadPosition=bt,this._lastTime=jt}},{key:"_clearPlaybackTimeState",value:function(){this._updatePlaybackTime(),this._playbackTimeTrackerLastPlayheadPosition=-1}}])&&Le(Ge.prototype,Je),mt&&Le(Ge,mt),Object.defineProperty(Ge,"prototype",{writable:!1}),rt}();function He(rt,Ge){for(var Je=0;Je<Ge.length;Je++){var mt=Ge[Je];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(rt,mt.key,mt)}}var ze=function(){function rt(bt){(function(Bt,sn){if(!(Bt instanceof sn))throw new TypeError("Cannot call a class as a function")})(this,rt),this.pm=bt;var jt=this._updatePlayheadTime.bind(this);bt.on("playbackheartbeat",jt),bt.on("playbackheartbeatend",jt),bt.on("timeupdate",jt),bt.on("destroy",function(){bt.off("timeupdate",jt)})}var Ge,Je,mt;return Ge=rt,(Je=[{key:"_updateMaxPlayheadPosition",value:function(){this.pm.data.view_max_playhead_position=this.pm.data.view_max_playhead_position===void 0?this.pm.data.player_playhead_time:Math.max(this.pm.data.view_max_playhead_position,this.pm.data.player_playhead_time)}},{key:"_updatePlayheadTime",value:function(bt,jt){var Bt=this,sn=function(){Bt.pm.currentFragmentPDT&&Bt.pm.currentFragmentStart&&(Bt.pm.data.player_program_time=Bt.pm.currentFragmentPDT+Bt.pm.data.player_playhead_time-Bt.pm.currentFragmentStart)};if(jt&&jt.player_playhead_time)this.pm.data.player_playhead_time=jt.player_playhead_time,sn(),this._updateMaxPlayheadPosition();else if(this.pm.getPlayheadTime){var Cn=this.pm.getPlayheadTime();Cn!==void 0&&(this.pm.data.player_playhead_time=Cn,sn(),this._updateMaxPlayheadPosition())}}}])&&He(Ge.prototype,Je),mt&&He(Ge,mt),Object.defineProperty(Ge,"prototype",{writable:!1}),rt}();function Xe(rt,Ge){for(var Je=0;Je<Ge.length;Je++){var mt=Ge[Je];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(rt,mt.key,mt)}}function _t(rt,Ge,Je){return Ge&&Xe(rt.prototype,Ge),Je&&Xe(rt,Je),Object.defineProperty(rt,"prototype",{writable:!1}),rt}var we=3e5,We=_t(function rt(Ge){if(function(jt,Bt){if(!(jt instanceof Bt))throw new TypeError("Cannot call a class as a function")}(this,rt),!Ge.disableRebufferTracking){var Je,mt=function(jt,Bt){bt(Bt),Je=void 0},bt=function(jt){if(Je){var Bt=jt.viewer_time-Je;C(Ge.data,"view_rebuffer_duration",Bt),Je=jt.viewer_time,Ge.data.view_rebuffer_duration>we&&(Ge.emit("viewend"),Ge.send("viewend"),Ge.mux.log.warn("Ending view after rebuffering for longer than ".concat(we,"ms, future events will be ignored unless a programchange or videochange occurs.")))}Ge.data.view_watch_time>=0&&Ge.data.view_rebuffer_count>0&&(Ge.data.view_rebuffer_frequency=Ge.data.view_rebuffer_count/Ge.data.view_watch_time,Ge.data.view_rebuffer_percentage=Ge.data.view_rebuffer_duration/Ge.data.view_watch_time)};Ge.on("playbackheartbeat",function(jt,Bt){return bt(Bt)}),Ge.on("rebufferstart",function(jt,Bt){Je||(C(Ge.data,"view_rebuffer_count",1),Je=Bt.viewer_time,Ge.one("rebufferend",mt))}),Ge.on("viewinit",function(){Je=void 0,Ge.off("rebufferend",mt)})}});function Ie(rt,Ge){for(var Je=0;Je<Ge.length;Je++){var mt=Ge[Je];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(rt,mt.key,mt)}}var tt=function(){function rt(bt){var jt=this;(function(Bt,sn){if(!(Bt instanceof sn))throw new TypeError("Cannot call a class as a function")})(this,rt),this.pm=bt,bt.disableRebufferTracking||bt.disablePlayheadRebufferTracking||(this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null,bt.on("playbackheartbeat",this._checkIfRebuffering.bind(this)),bt.on("playbackheartbeatend",this._cleanupRebufferTracker.bind(this)),bt.on("seeking",function(){jt._cleanupRebufferTracker(null,{viewer_time:P.now()})}))}var Ge,Je,mt;return Ge=rt,Je=[{key:"_checkIfRebuffering",value:function(bt,jt){if(this.pm.seekingTracker.isSeeking||this.pm.adTracker.isAdBreak||!this.pm.playbackHeartbeat._playheadShouldBeProgressing)this._cleanupRebufferTracker(bt,jt);else if(this._lastCheckedTime!==null)if(this._lastPlayheadTime===this.pm.data.player_playhead_time){var Bt=jt.viewer_time-this._lastPlayheadTimeUpdatedTime;typeof this.pm.sustainedRebufferThreshold=="number"&&Bt>=this.pm.sustainedRebufferThreshold&&(this._rebuffering||(this._rebuffering=!0,this.pm.emit("rebufferstart",{viewer_time:this._lastPlayheadTimeUpdatedTime}))),this._lastCheckedTime=jt.viewer_time}else this._cleanupRebufferTracker(bt,jt,!0);else this._prepareRebufferTrackerState(jt.viewer_time)}},{key:"_clearRebufferTrackerState",value:function(){this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null}},{key:"_prepareRebufferTrackerState",value:function(bt){this._lastCheckedTime=bt,this._lastPlayheadTime=this.pm.data.player_playhead_time,this._lastPlayheadTimeUpdatedTime=bt}},{key:"_cleanupRebufferTracker",value:function(bt,jt){var Bt=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(this._rebuffering)this._rebuffering=!1,this.pm.emit("rebufferend",{viewer_time:jt.viewer_time});else{if(this._lastCheckedTime===null)return;var sn=this.pm.data.player_playhead_time-this._lastPlayheadTime,Cn=jt.viewer_time-this._lastPlayheadTimeUpdatedTime;typeof this.pm.minimumRebufferDuration=="number"&&sn>0&&Cn-sn>this.pm.minimumRebufferDuration&&(this._lastCheckedTime=null,this.pm.emit("rebufferstart",{viewer_time:this._lastPlayheadTimeUpdatedTime}),this.pm.emit("rebufferend",{viewer_time:this._lastPlayheadTimeUpdatedTime+Cn-sn}))}Bt?this._prepareRebufferTrackerState(jt.viewer_time):this._clearRebufferTrackerState()}}],Je&&Ie(Ge.prototype,Je),mt&&Ie(Ge,mt),Object.defineProperty(Ge,"prototype",{writable:!1}),rt}(),et=tt;function ht(rt,Ge){for(var Je=0;Je<Ge.length;Je++){var mt=Ge[Je];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(rt,mt.key,mt)}}var vt=function(){function rt(bt){var jt=this;(function(Bt,sn){if(!(Bt instanceof sn))throw new TypeError("Cannot call a class as a function")})(this,rt),this.pm=bt,bt.on("viewinit",function(){var Bt=bt.data,sn=Bt.view_id;if(!Bt.view_program_changed){var Cn=function(fn,Bn){var Br=Bn.viewer_time;fn.type==="playing"&&bt.data.view_time_to_first_frame===void 0?jt.calculateTimeToFirstFrame(Br||P.now(),sn):fn.type!=="adplaying"||bt.data.view_time_to_first_frame!==void 0&&!jt._inPrerollPosition()||jt.calculateTimeToFirstFrame(Br||P.now(),sn)};bt.one("playing",Cn),bt.one("adplaying",Cn),bt.one("viewend",function(){bt.off("playing",Cn),bt.off("adplaying",Cn)})}})}var Ge,Je,mt;return Ge=rt,(Je=[{key:"_inPrerollPosition",value:function(){return this.pm.data.view_content_playback_time===void 0||this.pm.data.view_content_playback_time<=1e3}},{key:"calculateTimeToFirstFrame",value:function(bt,jt){jt===this.pm.data.view_id&&(this.pm.watchTimeTracker._updateWatchTime(null,{viewer_time:bt}),this.pm.data.view_time_to_first_frame=this.pm.data.view_watch_time,(this.pm.data.player_autoplay_on||this.pm.data.video_is_autoplay)&&this.NAVIGATION_START&&(this.pm.data.view_aggregate_startup_time=this.pm.data.view_start+this.pm.data.view_watch_time-this.NAVIGATION_START))}}])&&ht(Ge.prototype,Je),mt&&ht(Ge,mt),Object.defineProperty(Ge,"prototype",{writable:!1}),rt}();function Lt(rt,Ge){for(var Je=0;Je<Ge.length;Je++){var mt=Ge[Je];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(rt,mt.key,mt)}}function $t(rt,Ge,Je){return Ge&&Lt(rt.prototype,Ge),Je&&Lt(rt,Je),Object.defineProperty(rt,"prototype",{writable:!1}),rt}var yt=$t(function rt(Ge){var Je=this;(function(mt,bt){if(!(mt instanceof bt))throw new TypeError("Cannot call a class as a function")})(this,rt),Ge.on("viewinit",function(){Je._lastPlayheadPosition=-1}),["pause","rebufferstart","seeking","error","adbreakstart","hb"].forEach(function(mt){Ge.on(mt,function(){if(Je._lastPlayheadPosition>=0&&Ge.data.player_playhead_time>=0&&Je._lastPlayerWidth>=0&&Je._lastSourceWidth>0&&Je._lastPlayerHeight>=0&&Je._lastSourceHeight>0){var bt=Ge.data.player_playhead_time-Je._lastPlayheadPosition;if(bt<0)return void(Je._lastPlayheadPosition=-1);var jt=Math.min(Je._lastPlayerWidth/Je._lastSourceWidth,Je._lastPlayerHeight/Je._lastSourceHeight),Bt=Math.max(0,jt-1),sn=Math.max(0,1-jt);Ge.data.view_max_upscale_percentage=Math.max(Ge.data.view_max_upscale_percentage||0,Bt),Ge.data.view_max_downscale_percentage=Math.max(Ge.data.view_max_downscale_percentage||0,sn),C(Ge.data,"view_total_content_playback_time",bt),C(Ge.data,"view_total_upscaling",Bt*bt),C(Ge.data,"view_total_downscaling",sn*bt)}Je._lastPlayheadPosition=-1})}),["playing","hb"].forEach(function(mt){Ge.on(mt,function(){Je._lastPlayheadPosition=Ge.data.player_playhead_time,Je._lastPlayerWidth=Ge.data.player_width,Je._lastPlayerHeight=Ge.data.player_height,Je._lastSourceWidth=Ge.data.video_source_width,Je._lastSourceHeight=Ge.data.video_source_height})})});function he(rt,Ge){for(var Je=0;Je<Ge.length;Je++){var mt=Ge[Je];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(rt,mt.key,mt)}}function je(rt,Ge,Je){return Ge&&he(rt.prototype,Ge),Je&&he(rt,Je),Object.defineProperty(rt,"prototype",{writable:!1}),rt}var st=je(function rt(Ge){var Je=this;(function(mt,bt){if(!(mt instanceof bt))throw new TypeError("Cannot call a class as a function")})(this,rt),this.isSeeking=!1,Ge.on("seeking",function(mt,bt){Object.assign(Ge.data,bt),Je._lastSeekingTime=P.now(),Je.isSeeking===!1&&(Je.isSeeking=!0,Ge.send("seeking"))}),Ge.on("seeked",function(){Je.isSeeking=!1;var mt=Je._lastSeekingTime||P.now(),bt=P.now()-mt;C(Ge.data,"view_seek_count",1),C(Ge.data,"view_seek_duration",bt);var jt=Ge.data.view_max_seek_time||0;Ge.data.view_max_seek_time=Math.max(jt,bt)}),Ge.on("viewend",function(){Je.isSeeking=!1})});function De(rt,Ge){return function(Je){if(Array.isArray(Je))return Je}(rt)||function(Je,mt){var bt=Je==null?null:typeof Symbol!="undefined"&&Je[Symbol.iterator]||Je["@@iterator"];if(bt!=null){var jt,Bt,sn=[],Cn=!0,fn=!1;try{for(bt=bt.call(Je);!(Cn=(jt=bt.next()).done)&&(sn.push(jt.value),!mt||sn.length!==mt);Cn=!0);}catch(Bn){fn=!0,Bt=Bn}finally{try{Cn||bt.return==null||bt.return()}finally{if(fn)throw Bt}}return sn}}(rt,Ge)||function(Je,mt){if(Je){if(typeof Je=="string")return Be(Je,mt);var bt=Object.prototype.toString.call(Je).slice(8,-1);return bt==="Object"&&Je.constructor&&(bt=Je.constructor.name),bt==="Map"||bt==="Set"?Array.from(Je):bt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(bt)?Be(Je,mt):void 0}}(rt,Ge)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Be(rt,Ge){(Ge==null||Ge>rt.length)&&(Ge=rt.length);for(var Je=0,mt=new Array(Ge);Je<Ge;Je++)mt[Je]=rt[Je];return mt}function Ke(rt,Ge){for(var Je=0;Je<Ge.length;Je++){var mt=Ge[Je];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(rt,mt.key,mt)}}var it=function(rt,Ge){rt.push(Ge),rt.sort(function(Je,mt){return Je.viewer_time-mt.viewer_time})},Qe=["adbreakstart","adrequest","adresponse","adplay","adplaying","adpause","adended","adbreakend","aderror"],Ae=function(){function rt(bt){var jt=this;(function(sn,Cn){if(!(sn instanceof Cn))throw new TypeError("Cannot call a class as a function")})(this,rt),this.pm=bt,bt.on("viewinit",function(){jt.isAdBreak=!1,jt._currentAdRequestNumber=0,jt._currentAdResponseNumber=0,jt._adRequests=[],jt._adResponses=[],jt._adHasPlayed=!1,jt._wouldBeNewAdPlay=!0,jt._prerollPlayTime=void 0}),Qe.forEach(function(sn){return bt.on(sn,jt._updateAdData.bind(jt))});var Bt=function(){jt.isAdBreak=!1};bt.on("adbreakstart",function(){jt.isAdBreak=!0}),bt.on("play",Bt),bt.on("playing",Bt),bt.on("viewend",Bt),bt.on("adrequest",function(sn,Cn){Cn=Object.assign({ad_request_id:"generatedAdRequestId"+jt._currentAdRequestNumber++},Cn),it(jt._adRequests,Cn),C(bt.data,"view_ad_request_count"),jt.inPrerollPosition()&&(bt.data.view_preroll_requested=!0,jt._adHasPlayed||C(bt.data,"view_preroll_request_count"))}),bt.on("adresponse",function(sn,Cn){Cn=Object.assign({ad_request_id:"generatedAdRequestId"+jt._currentAdResponseNumber++},Cn),it(jt._adResponses,Cn);var fn=jt.findAdRequest(Cn.ad_request_id);fn&&C(bt.data,"view_ad_request_time",Math.max(0,Cn.viewer_time-fn.viewer_time))}),bt.on("adplay",function(sn,Cn){jt._adHasPlayed=!0,jt._wouldBeNewAdPlay&&(jt._wouldBeNewAdPlay=!1,C(bt.data,"view_ad_played_count")),jt.inPrerollPosition()&&!bt.data.view_preroll_played&&(bt.data.view_preroll_played=!0,jt._adRequests.length>0&&(bt.data.view_preroll_request_time=Math.max(0,Cn.viewer_time-jt._adRequests[0].viewer_time)),bt.data.view_start&&(bt.data.view_startup_preroll_request_time=Math.max(0,Cn.viewer_time-bt.data.view_start)),jt._prerollPlayTime=Cn.viewer_time)}),bt.on("adplaying",function(sn,Cn){jt.inPrerollPosition()&&bt.data.view_preroll_load_time===void 0&&jt._prerollPlayTime!==void 0&&(bt.data.view_preroll_load_time=Cn.viewer_time-jt._prerollPlayTime,bt.data.view_startup_preroll_load_time=Cn.viewer_time-jt._prerollPlayTime)}),bt.on("adended",function(){jt._wouldBeNewAdPlay=!0}),bt.on("aderror",function(){jt._wouldBeNewAdPlay=!0})}var Ge,Je,mt;return Ge=rt,(Je=[{key:"inPrerollPosition",value:function(){return this.pm.data.view_content_playback_time===void 0||this.pm.data.view_content_playback_time<=1e3}},{key:"findAdRequest",value:function(bt){for(var jt=0;jt<this._adRequests.length;jt++)if(this._adRequests[jt].ad_request_id===bt)return this._adRequests[jt]}},{key:"_updateAdData",value:function(bt,jt){if(this.inPrerollPosition()){if(!this.pm.data.view_preroll_ad_tag_hostname&&jt.ad_tag_url){var Bt=De(D(jt.ad_tag_url),2),sn=Bt[0],Cn=Bt[1];this.pm.data.view_preroll_ad_tag_domain=Cn,this.pm.data.view_preroll_ad_tag_hostname=sn}if(!this.pm.data.view_preroll_ad_asset_hostname&&jt.ad_asset_url){var fn=De(D(jt.ad_asset_url),2),Bn=fn[0],Br=fn[1];this.pm.data.view_preroll_ad_asset_domain=Br,this.pm.data.view_preroll_ad_asset_hostname=Bn}}this.pm.data.ad_asset_url=jt==null?void 0:jt.ad_asset_url,this.pm.data.ad_tag_url=jt==null?void 0:jt.ad_tag_url,this.pm.data.ad_creative_id=jt==null?void 0:jt.ad_creative_id,this.pm.data.ad_id=jt==null?void 0:jt.ad_id,this.pm.data.ad_universal_id=jt==null?void 0:jt.ad_universal_id}}])&&Ke(Ge.prototype,Je),mt&&Ke(Ge,mt),Object.defineProperty(Ge,"prototype",{writable:!1}),rt}();function H(rt,Ge){for(var Je=0;Je<Ge.length;Je++){var mt=Ge[Je];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(rt,mt.key,mt)}}function ee(rt,Ge,Je){return Ge&&H(rt.prototype,Ge),Je&&H(rt,Je),Object.defineProperty(rt,"prototype",{writable:!1}),rt}var de=ee(function rt(Ge){var Je,mt;(function(sn,Cn){if(!(sn instanceof Cn))throw new TypeError("Cannot call a class as a function")})(this,rt);var bt=function(){Ge.disableRebufferTracking||Je&&(C(Ge.data,"view_waiting_rebuffer_duration",P.now()-Je),Je=!1,y().clearInterval(mt))},jt=!1,Bt=function(){jt=!1,bt()};Ge.on("waiting",function(){jt&&(Ge.disableRebufferTracking||(C(Ge.data,"view_waiting_rebuffer_count",1),Je=P.now(),mt=y().setInterval(function(){if(Je){var sn=P.now();C(Ge.data,"view_waiting_rebuffer_duration",sn-Je),Je=sn}},250)))}),Ge.on("playing",function(){bt(),jt=!0}),Ge.on("pause",Bt),Ge.on("seeking",Bt)});function Ee(rt,Ge){for(var Je=0;Je<Ge.length;Je++){var mt=Ge[Je];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(rt,mt.key,mt)}}function Me(rt,Ge,Je){return Ge&&Ee(rt.prototype,Ge),Je&&Ee(rt,Je),Object.defineProperty(rt,"prototype",{writable:!1}),rt}var $e=Me(function rt(Ge){var Je=this;(function(jt,Bt){if(!(jt instanceof Bt))throw new TypeError("Cannot call a class as a function")})(this,rt);var mt=function(){Je.lastWallClockTime=P.now(),Ge.on("before*",bt)},bt=function(jt){var Bt=P.now(),sn=Je.lastWallClockTime;Je.lastWallClockTime=Bt,Bt-sn>3e4&&(Ge.emit("devicesleep",{viewer_time:sn}),Object.assign(Ge.data,{viewer_time:sn}),Ge.send("devicesleep"),Ge.emit("devicewake",{viewer_time:Bt}),Object.assign(Ge.data,{viewer_time:Bt}),Ge.send("devicewake"))};Ge.one("playbackheartbeat",mt),Ge.on("playbackheartbeatend",function(){Ge.off("before*",bt),Ge.one("playbackheartbeat",mt)})}),dt=v(375),ct=v(655),wt=v.n(ct),Mt="muxData",pn=function(){var rt;try{rt=dt.parse(wt().get(Mt)||"")}catch(Ge){rt={}}return rt},Mn=function(rt){try{wt().set(Mt,dt.stringify(rt),{expires:7300})}catch(Ge){}},$n=function(){var rt=pn();return rt.mux_viewer_id=rt.mux_viewer_id||p(),rt.msn=rt.msn||Math.random(),Mn(rt),{mux_viewer_id:rt.mux_viewer_id,mux_sample_number:rt.msn}};function mr(rt,Ge){var Je=Ge.beaconCollectionDomain,mt=Ge.beaconDomain;if(Je)return"https://"+Je;var bt=mt||"litix.io";return(rt=rt||"inferred").match(/^[a-z0-9]+$/)?"https://"+rt+"."+bt:"https://img.litix.io/a.gif"}var jn=function(){var rt;switch(dr()){case"cellular":rt="cellular";break;case"ethernet":rt="wired";break;case"wifi":rt="wifi";break;case void 0:break;default:rt="other"}return rt},dr=function(){var rt=y().navigator,Ge=rt&&(rt.connection||rt.mozConnection||rt.webkitConnection);return Ge&&Ge.type};jn.getConnectionFromAPI=dr;var nn=jn,jr=At({a:"env",b:"beacon",c:"custom",d:"ad",e:"event",f:"experiment",i:"internal",m:"mux",n:"response",p:"player",q:"request",r:"retry",s:"session",t:"timestamp",u:"viewer",v:"video",w:"page",x:"view",y:"sub"}),Dr=At({ad:"ad",ag:"aggregate",ap:"api",al:"application",ar:"architecture",as:"asset",au:"autoplay",av:"average",bi:"bitrate",br:"break",bw:"browser",by:"bytes",ca:"cached",cb:"cancel",cc:"codec",cd:"code",cg:"category",ch:"changed",cl:"canceled",cn:"config",co:"count",ce:"counter",cp:"complete",cr:"creative",ct:"content",cu:"current",cx:"connection",cz:"context",dg:"downscaling",dm:"domain",dn:"cdn",do:"downscale",dr:"drm",dp:"dropped",du:"duration",dv:"device",ec:"encoding",ed:"edge",en:"end",eg:"engine",em:"embed",er:"error",es:"errorcode",et:"errortext",ee:"event",ev:"events",ex:"expires",ep:"experiments",fa:"failed",fi:"first",fm:"family",ft:"format",fp:"fps",fq:"frequency",fr:"frame",fs:"fullscreen",ha:"has",hb:"holdback",he:"headers",ho:"host",hn:"hostname",ht:"height",id:"id",ii:"init",in:"instance",ip:"ip",is:"is",ke:"key",la:"language",lb:"labeled",le:"level",li:"live",ld:"loaded",lo:"load",ls:"lists",lt:"latency",ma:"max",md:"media",me:"message",mf:"manifest",mi:"mime",ml:"midroll",mm:"min",mn:"manufacturer",mo:"model",mx:"mux",ne:"newest",nm:"name",no:"number",on:"on",os:"os",pa:"paused",pb:"playback",pd:"producer",pe:"percentage",pf:"played",pg:"program",ph:"playhead",pi:"plugin",pl:"preroll",pn:"playing",po:"poster",pr:"preload",ps:"position",pt:"part",py:"property",ra:"rate",rd:"requested",re:"rebuffer",rf:"rendition",rm:"remote",ro:"ratio",rp:"response",rq:"request",rs:"requests",sa:"sample",se:"session",sk:"seek",sm:"stream",so:"source",sq:"sequence",sr:"series",st:"start",su:"startup",sv:"server",sw:"software",ta:"tag",tc:"tech",te:"text",tg:"target",th:"throughput",ti:"time",tl:"total",to:"to",tt:"title",ty:"type",ug:"upscaling",un:"universal",up:"upscale",ur:"url",us:"user",va:"variant",vd:"viewed",vi:"video",ve:"version",vw:"view",vr:"viewer",wd:"width",wa:"watch",wt:"waiting"});function At(rt){var Ge={};for(var Je in rt)rt.hasOwnProperty(Je)&&(Ge[rt[Je]]=Je);return Ge}function Wt(rt){var Ge={},Je={};return Object.keys(rt).forEach(function(mt){var bt=!1;if(rt.hasOwnProperty(mt)&&rt[mt]!==void 0){var jt=mt.split("_"),Bt=jt[0],sn=jr[Bt];sn||(s.info("Data key word `"+jt[0]+"` not expected in "+mt),sn=Bt+"_"),jt.splice(1).forEach(function(Cn){Cn==="url"&&(bt=!0),Dr[Cn]?sn+=Dr[Cn]:Number(Cn)&&Math.floor(Number(Cn))===Number(Cn)?sn+=Cn:(s.info("Data key word `"+Cn+"` not expected in "+mt),sn+="_"+Cn+"_")}),bt?Je[sn]=rt[mt]:Ge[sn]=rt[mt]}}),Object.assign(Ge,Je)}var Zt={maxBeaconSize:300,maxQueueLength:3600,baseTimeBetweenBeacons:1e4,maxPayloadKBSize:500},_n=["hb","requestcompleted","requestfailed","requestcanceled"],Kn="https://img.litix.io",wr=function(rt){var Ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this._beaconUrl=rt||Kn,this._eventQueue=[],this._postInFlight=!1,this._failureCount=0,this._sendTimeout=!1,this._options=Object.assign({},Zt,Ge)};wr.prototype.queueEvent=function(rt,Ge){var Je=Object.assign({},Ge);return(this._eventQueue.length<=this._options.maxQueueLength||rt==="eventrateexceeded")&&(this._eventQueue.push(Je),this._sendTimeout||this._startBeaconSending(),this._eventQueue.length<=this._options.maxQueueLength)},wr.prototype.flushEvents=function(){var rt=arguments.length>0&&arguments[0]!==void 0&&arguments[0];rt&&this._eventQueue.length===1?this._eventQueue.pop():(this._eventQueue.length&&this._sendBeaconQueue(),this._startBeaconSending())},wr.prototype.destroy=function(){var rt=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.destroyed=!0,rt?this._clearBeaconQueue():this.flushEvents(),y().clearTimeout(this._sendTimeout)},wr.prototype._clearBeaconQueue=function(){var rt=this._eventQueue.length>this._options.maxBeaconSize?this._eventQueue.length-this._options.maxBeaconSize:0,Ge=this._eventQueue.slice(rt);rt>0&&Object.assign(Ge[Ge.length-1],Wt({mux_view_message:"event queue truncated"}));var Je=this._createPayload(Ge);no(this._beaconUrl,Je,!0,function(){})},wr.prototype._sendBeaconQueue=function(){var rt=this;if(!this._postInFlight){var Ge=this._eventQueue.slice(0,this._options.maxBeaconSize);this._eventQueue=this._eventQueue.slice(this._options.maxBeaconSize),this._postInFlight=!0;var Je=this._createPayload(Ge),mt=P.now();no(this._beaconUrl,Je,!1,function(bt,jt){jt?(rt._eventQueue=Ge.concat(rt._eventQueue),rt._failureCount+=1,s.info("Error sending beacon: "+jt)):rt._failureCount=0,rt._roundTripTime=P.now()-mt,rt._postInFlight=!1})}},wr.prototype._getNextBeaconTime=function(){if(!this._failureCount)return this._options.baseTimeBetweenBeacons;var rt=Math.pow(2,this._failureCount-1);return(1+(rt*=Math.random()))*this._options.baseTimeBetweenBeacons},wr.prototype._startBeaconSending=function(){var rt=this;y().clearTimeout(this._sendTimeout),this.destroyed||(this._sendTimeout=y().setTimeout(function(){rt._eventQueue.length&&rt._sendBeaconQueue(),rt._startBeaconSending()},this._getNextBeaconTime()))},wr.prototype._createPayload=function(rt){var Ge,Je,mt,bt=this,jt={transmission_timestamp:Math.round(P.now())};this._roundTripTime&&(jt.rtt_ms=Math.round(this._roundTripTime));var Bt=function(){Ge=JSON.stringify({metadata:jt,events:Je||rt}),mt=Ge.length/1024},sn=function(){return mt<=bt._options.maxPayloadKBSize};return Bt(),sn()||(s.info("Payload size is too big ("+mt+" kb). Removing unnecessary events."),Je=rt.filter(function(Cn){return _n.indexOf(Cn.e)===-1}),Bt()),sn()||(s.info("Payload size still too big ("+mt+" kb). Cropping fields.."),Je.forEach(function(Cn){for(var fn in Cn){var Bn=Cn[fn];typeof Bn=="string"&&Bn.length>51200&&(Cn[fn]=Bn.substring(0,51200))}}),Bt()),Ge};var Nr=function(rt){return rt.length<=57344},no=function(rt,Ge,Je,mt){if(Je&&navigator&&navigator.sendBeacon&&navigator.sendBeacon(rt,Ge))mt();else if(y().fetch)y().fetch(rt,{method:"POST",body:Ge,headers:{"Content-Type":"text/plain"},keepalive:Nr(Ge)}).then(function(jt){return mt(null,jt.ok?null:"Error")}).catch(function(jt){return mt(null,jt)});else{if(y().XMLHttpRequest){var bt=new(y()).XMLHttpRequest;return bt.onreadystatechange=function(){if(bt.readyState===4)return mt(null,bt.status!==200?"error":void 0)},bt.open("POST",rt),bt.setRequestHeader("Content-Type","text/plain"),void bt.send(Ge)}mt()}},Jr=wr;function $r(rt,Ge){return function(Je){if(Array.isArray(Je))return Je}(rt)||function(Je,mt){var bt=Je==null?null:typeof Symbol!="undefined"&&Je[Symbol.iterator]||Je["@@iterator"];if(bt!=null){var jt,Bt,sn=[],Cn=!0,fn=!1;try{for(bt=bt.call(Je);!(Cn=(jt=bt.next()).done)&&(sn.push(jt.value),!mt||sn.length!==mt);Cn=!0);}catch(Bn){fn=!0,Bt=Bn}finally{try{Cn||bt.return==null||bt.return()}finally{if(fn)throw Bt}}return sn}}(rt,Ge)||function(Je,mt){if(Je){if(typeof Je=="string")return bo(Je,mt);var bt=Object.prototype.toString.call(Je).slice(8,-1);return bt==="Object"&&Je.constructor&&(bt=Je.constructor.name),bt==="Map"||bt==="Set"?Array.from(Je):bt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(bt)?bo(Je,mt):void 0}}(rt,Ge)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function bo(rt,Ge){(Ge==null||Ge>rt.length)&&(Ge=rt.length);for(var Je=0,mt=new Array(Ge);Je<Ge;Je++)mt[Je]=rt[Je];return mt}function mo(rt,Ge){var Je=Object.keys(rt);if(Object.getOwnPropertySymbols){var mt=Object.getOwnPropertySymbols(rt);Ge&&(mt=mt.filter(function(bt){return Object.getOwnPropertyDescriptor(rt,bt).enumerable})),Je.push.apply(Je,mt)}return Je}function So(rt){for(var Ge=1;Ge<arguments.length;Ge++){var Je=arguments[Ge]!=null?arguments[Ge]:{};Ge%2?mo(Object(Je),!0).forEach(function(mt){po(rt,mt,Je[mt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(rt,Object.getOwnPropertyDescriptors(Je)):mo(Object(Je)).forEach(function(mt){Object.defineProperty(rt,mt,Object.getOwnPropertyDescriptor(Je,mt))})}return rt}function go(rt){return go=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ge){return typeof Ge}:function(Ge){return Ge&&typeof Symbol=="function"&&Ge.constructor===Symbol&&Ge!==Symbol.prototype?"symbol":typeof Ge},go(rt)}function Eo(rt,Ge){if(!(rt instanceof Ge))throw new TypeError("Cannot call a class as a function")}function ro(rt,Ge){for(var Je=0;Je<Ge.length;Je++){var mt=Ge[Je];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(rt,mt.key,mt)}}function po(rt,Ge,Je){return Ge in rt?Object.defineProperty(rt,Ge,{value:Je,enumerable:!0,configurable:!0,writable:!0}):rt[Ge]=Je,rt}var wo=["env_key","view_id","view_sequence_number","player_sequence_number","beacon_domain","player_playhead_time","viewer_time","mux_api_version","event","video_id","player_instance_id"],ko=["adplay","adplaying","adpause","adfirstquartile","admidpoint","adthirdquartile","adended","adresponse"],ei=["viewstart","error","ended","viewend"],Do=function(){function rt(bt,jt){var Bt,sn,Cn,fn,Bn,Br,Or,Lr,Fe,Oe,ke,qe,Pt,Ct,Ot,Dt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Eo(this,rt),po(this,"previousBeaconData",null),po(this,"lastEventTime",0),po(this,"rateLimited",!1),this.mux=bt,this.envKey=jt,this.options=Dt,this.eventQueue=new Jr(mr(this.envKey,this.options)),this.sampleRate=(Bt=this.options.sampleRate)!==null&&Bt!==void 0?Bt:1,this.disableCookies=(sn=this.options.disableCookies)!==null&&sn!==void 0&&sn,this.respectDoNotTrack=(Cn=this.options.respectDoNotTrack)!==null&&Cn!==void 0&&Cn,this.previousBeaconData=null,this.lastEventTime=0,this.rateLimited=!1,this.pageLevelData={mux_api_version:this.mux.API_VERSION,mux_embed:this.mux.NAME,mux_embed_version:this.mux.VERSION,viewer_application_name:(fn=this.options.platform)===null||fn===void 0?void 0:fn.name,viewer_application_version:(Bn=this.options.platform)===null||Bn===void 0?void 0:Bn.version,viewer_application_engine:(Br=this.options.platform)===null||Br===void 0?void 0:Br.layout,viewer_device_name:(Or=this.options.platform)===null||Or===void 0?void 0:Or.product,viewer_device_category:"",viewer_device_manufacturer:(Lr=this.options.platform)===null||Lr===void 0?void 0:Lr.manufacturer,viewer_os_family:(Fe=this.options.platform)===null||Fe===void 0||(Oe=Fe.os)===null||Oe===void 0?void 0:Oe.family,viewer_os_architecture:(ke=this.options.platform)===null||ke===void 0||(qe=ke.os)===null||qe===void 0?void 0:qe.architecture,viewer_os_version:(Pt=this.options.platform)===null||Pt===void 0||(Ct=Pt.os)===null||Ct===void 0?void 0:Ct.version,viewer_connection_type:nn(),page_url:y()===null||y()===void 0||(Ot=y().location)===null||Ot===void 0?void 0:Ot.href},this.viewerData=this.disableCookies?{}:$n()}var Ge,Je,mt;return Ge=rt,(Je=[{key:"send",value:function(bt,jt){var Bt;if(bt&&jt!=null&&jt.view_id){if(this.respectDoNotTrack&&w())return s.info("Not sending `"+bt+"` because Do Not Track is enabled");if(!jt||go(jt)!=="object")return s.error("A data object was expected in send() but was not provided");var sn,Cn,fn=this.disableCookies?{}:(sn=pn(),Cn=P.now(),sn.session_start&&(sn.sst=sn.session_start,delete sn.session_start),sn.session_id&&(sn.sid=sn.session_id,delete sn.session_id),sn.session_expires&&(sn.sex=sn.session_expires,delete sn.session_expires),(!sn.sex||sn.sex<Cn)&&(sn.sid=p(),sn.sst=Cn),sn.sex=Cn+15e5,Mn(sn),{session_id:sn.sid,session_start:sn.sst,session_expires:sn.sex}),Bn=So(So(So(So(So({},this.pageLevelData),jt),fn),this.viewerData),{},{event:bt,env_key:this.envKey});Bn.user_id&&(Bn.viewer_user_id=Bn.user_id,delete Bn.user_id);var Br=((Bt=Bn.mux_sample_number)!==null&&Bt!==void 0?Bt:0)>=this.sampleRate,Or=Wt(this._deduplicateBeaconData(bt,Bn));if(this.lastEventTime=this.mux.utils.now(),Br)return s.info("Not sending event due to sample rate restriction",bt,Bn,Or);if(this.envKey||s.info("Missing environment key (envKey) - beacons will be dropped if the video source is not a valid mux video URL",bt,Bn,Or),!this.rateLimited){if(s.info("Sending event",bt,Bn,Or),this.rateLimited=!this.eventQueue.queueEvent(bt,Or),this.mux.WINDOW_UNLOADING&&bt==="viewend")this.eventQueue.destroy(!0);else if(this.mux.WINDOW_HIDDEN&&bt==="hb"?this.eventQueue.flushEvents(!0):ei.indexOf(bt)>=0&&this.eventQueue.flushEvents(),this.rateLimited)return Bn.event="eventrateexceeded",Or=Wt(Bn),this.eventQueue.queueEvent(Bn.event,Or),s.error("Beaconing disabled due to rate limit.")}}}},{key:"destroy",value:function(){this.eventQueue.destroy(!1)}},{key:"_deduplicateBeaconData",value:function(bt,jt){var Bt=this,sn={},Cn=jt.view_id;if(Cn==="-1"||bt==="viewstart"||bt==="viewend"||!this.previousBeaconData||this.mux.utils.now()-this.lastEventTime>=6e5)sn=So({},jt),Cn&&(this.previousBeaconData=sn),Cn&&bt==="viewend"&&(this.previousBeaconData=null);else{var fn=bt.indexOf("request")===0;Object.entries(jt).forEach(function(Bn){var Br=$r(Bn,2),Or=Br[0],Lr=Br[1];Bt.previousBeaconData&&(Lr!==Bt.previousBeaconData[Or]||wo.indexOf(Or)>-1||Bt.objectHasChanged(fn,Or,Lr,Bt.previousBeaconData[Or])||Bt.eventRequiresKey(bt,Or))&&(sn[Or]=Lr,Bt.previousBeaconData[Or]=Lr)})}return sn}},{key:"objectHasChanged",value:function(bt,jt,Bt,sn){return!(!bt||jt.indexOf("request_")!==0||jt!=="request_response_headers"&&go(Bt)==="object"&&go(sn)==="object"&&Object.keys(Bt||{}).length===Object.keys(sn||{}).length)}},{key:"eventRequiresKey",value:function(bt,jt){return bt==="renditionchange"&&jt.indexOf("video_source_")===0||!(jt.indexOf("ad_id")!==0||!ko.includes(bt))}}])&&ro(Ge.prototype,Je),mt&&ro(Ge,mt),Object.defineProperty(Ge,"prototype",{writable:!1}),rt}();function Uo(rt,Ge){for(var Je=0;Je<Ge.length;Je++){var mt=Ge[Je];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(rt,mt.key,mt)}}function mn(rt,Ge,Je){return Ge&&Uo(rt.prototype,Ge),Je&&Uo(rt,Je),Object.defineProperty(rt,"prototype",{writable:!1}),rt}var Dn=mn(function rt(Ge){(function(fn,Bn){if(!(fn instanceof Bn))throw new TypeError("Cannot call a class as a function")})(this,rt);var Je=0,mt=0,bt=0,jt=0,Bt=0,sn=0,Cn=0;Ge.on("requestcompleted",function(fn,Bn){var Br,Or,Lr=Bn.request_start,Fe=Bn.request_response_start,Oe=Bn.request_response_end,ke=Bn.request_bytes_loaded;if(jt++,Fe?(Br=Fe-(Lr!=null?Lr:0),Or=(Oe!=null?Oe:0)-Fe):Or=(Oe!=null?Oe:0)-(Lr!=null?Lr:0),Or>0&&ke&&ke>0){var qe=ke/Or*8e3;Bt++,mt+=ke,bt+=Or,Ge.data.view_min_request_throughput=Math.min(Ge.data.view_min_request_throughput||1/0,qe),Ge.data.view_average_request_throughput=mt/bt*8e3,Ge.data.view_request_count=jt,Br>0&&(Je+=Br,Ge.data.view_max_request_latency=Math.max(Ge.data.view_max_request_latency||0,Br),Ge.data.view_average_request_latency=Je/Bt)}}),Ge.on("requestfailed",function(fn,Bn){jt++,sn++,Ge.data.view_request_count=jt,Ge.data.view_request_failed_count=sn}),Ge.on("requestcanceled",function(fn,Bn){jt++,Cn++,Ge.data.view_request_count=jt,Ge.data.view_request_canceled_count=Cn})});function Wn(rt,Ge){for(var Je=0;Je<Ge.length;Je++){var mt=Ge[Je];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(rt,mt.key,mt)}}function Hn(rt,Ge,Je){return Ge&&Wn(rt.prototype,Ge),Je&&Wn(rt,Je),Object.defineProperty(rt,"prototype",{writable:!1}),rt}var vr=Hn(function rt(Ge){var Je=this;(function(mt,bt){if(!(mt instanceof bt))throw new TypeError("Cannot call a class as a function")})(this,rt),Ge.on("before*",function(mt,bt){var jt=bt.viewer_time,Bt=P.now(),sn=Je._lastEventTime;if(Je._lastEventTime=Bt,sn&&Bt-sn>36e5){var Cn=Object.keys(Ge.data).reduce(function(fn,Bn){return Bn.indexOf("video_")===0?Object.assign(fn,function(Br,Or,Lr){return Or in Br?Object.defineProperty(Br,Or,{value:Lr,enumerable:!0,configurable:!0,writable:!0}):Br[Or]=Lr,Br}({},Bn,Ge.data[Bn])):fn},{});Ge.mux.log.info("Received event after at least an hour inactivity, creating a new view"),Ge.emit("viewinit",Object.assign({viewer_time:jt},Cn)),Ge.playbackHeartbeat._playheadShouldBeProgressing&&mt.type!=="play"&&mt.type!=="adbreakstart"&&(Ge.emit("play",{viewer_time:jt}),mt.type!=="playing"&&Ge.emit("playing",{viewer_time:jt}))}})});function tr(rt){return tr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ge){return typeof Ge}:function(Ge){return Ge&&typeof Symbol=="function"&&Ge.constructor===Symbol&&Ge!==Symbol.prototype?"symbol":typeof Ge},tr(rt)}function pr(rt,Ge){return function(Je){if(Array.isArray(Je))return Je}(rt)||function(Je,mt){var bt=Je==null?null:typeof Symbol!="undefined"&&Je[Symbol.iterator]||Je["@@iterator"];if(bt!=null){var jt,Bt,sn=[],Cn=!0,fn=!1;try{for(bt=bt.call(Je);!(Cn=(jt=bt.next()).done)&&(sn.push(jt.value),!mt||sn.length!==mt);Cn=!0);}catch(Bn){fn=!0,Bt=Bn}finally{try{Cn||bt.return==null||bt.return()}finally{if(fn)throw Bt}}return sn}}(rt,Ge)||function(Je,mt){if(Je){if(typeof Je=="string")return kt(Je,mt);var bt=Object.prototype.toString.call(Je).slice(8,-1);return bt==="Object"&&Je.constructor&&(bt=Je.constructor.name),bt==="Map"||bt==="Set"?Array.from(Je):bt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(bt)?kt(Je,mt):void 0}}(rt,Ge)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function kt(rt,Ge){(Ge==null||Ge>rt.length)&&(Ge=rt.length);for(var Je=0,mt=new Array(Ge);Je<Ge;Je++)mt[Je]=rt[Je];return mt}function Vt(rt,Ge){for(var Je=0;Je<Ge.length;Je++){var mt=Ge[Je];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(rt,mt.key,mt)}}function en(rt,Ge){return en=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Je,mt){return Je.__proto__=mt,Je},en(rt,Ge)}function dn(rt){var Ge=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Je){return!1}}();return function(){var Je,mt=Rn(rt);if(Ge){var bt=Rn(this).constructor;Je=Reflect.construct(mt,arguments,bt)}else Je=mt.apply(this,arguments);return Nn(this,Je)}}function Nn(rt,Ge){if(Ge&&(tr(Ge)==="object"||typeof Ge=="function"))return Ge;if(Ge!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return An(rt)}function An(rt){if(rt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return rt}function Rn(rt){return Rn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Ge){return Ge.__proto__||Object.getPrototypeOf(Ge)},Rn(rt)}var ft=["viewstart","ended","loadstart","pause","play","playing","ratechange","waiting","adplay","adpause","adended","aderror","adplaying","adrequest","adresponse","adbreakstart","adbreakend","adfirstquartile","admidpoint","adthirdquartile","rebufferstart","rebufferend","seeked","error","hb","requestcompleted","requestfailed","requestcanceled","renditionchange"],Rt=function(rt){(function(Bt,sn){if(typeof sn!="function"&&sn!==null)throw new TypeError("Super expression must either be null or a function");Bt.prototype=Object.create(sn&&sn.prototype,{constructor:{value:Bt,writable:!0,configurable:!0}}),Object.defineProperty(Bt,"prototype",{writable:!1}),sn&&en(Bt,sn)})(jt,rt);var Ge,Je,mt,bt=dn(jt);function jt(Bt,sn,Cn){var fn;(function(Fe,Oe){if(!(Fe instanceof Oe))throw new TypeError("Cannot call a class as a function")})(this,jt),(fn=bt.call(this)).DOM_CONTENT_LOADED_EVENT_END=N.domContentLoadedEventEnd(),fn.NAVIGATION_START=N.navigationStart(),fn.mux=Bt,fn.id=sn,(Cn=Object.assign({debug:!1,minimumRebufferDuration:250,sustainedRebufferThreshold:1e3,playbackHeartbeatTime:25,beaconDomain:"litix.io",sampleRate:1,disableCookies:!1,respectDoNotTrack:!1,disableRebufferTracking:!1,disablePlayheadRebufferTracking:!1,errorTranslator:function(Fe){return Fe}},Cn)).data=Cn.data||{},Cn.data.property_key&&(Cn.data.env_key=Cn.data.property_key,delete Cn.data.property_key),s.setLevel(Cn.debug?"debug":"warn"),fn.getPlayheadTime=Cn.getPlayheadTime,fn.getStateData=Cn.getStateData||function(){return{}},fn.getAdData=Cn.getAdData||function(){},fn.minimumRebufferDuration=Cn.minimumRebufferDuration,fn.sustainedRebufferThreshold=Cn.sustainedRebufferThreshold,fn.playbackHeartbeatTime=Cn.playbackHeartbeatTime,fn.disableRebufferTracking=Cn.disableRebufferTracking,fn.disableRebufferTracking&&fn.mux.log.warn("Disabling rebuffer tracking. This should only be used in specific circumstances as a last resort when your player is known to unreliably track rebuffering."),fn.disablePlayheadRebufferTracking=Cn.disablePlayheadRebufferTracking,fn.errorTranslator=Cn.errorTranslator,fn.playbackEventDispatcher=new Do(Bt,Cn.data.env_key,Cn),fn.data={player_instance_id:p(),mux_sample_rate:Cn.sampleRate,beacon_domain:Cn.beaconCollectionDomain?Cn.beaconCollectionDomain:Cn.beaconDomain},fn.data.view_sequence_number=1,fn.data.player_sequence_number=1,fn.oldEmit=fn.emit,fn.emit=function(Fe,Oe){Oe=Object.assign({viewer_time:this.mux.utils.now()},Oe),this.oldEmit(Fe,Oe)};var Bn=function(){this.data.view_start===void 0&&(this.data.view_start=this.mux.utils.now(),this.emit("viewstart"))}.bind(An(fn));fn.on("viewinit",function(Fe,Oe){this._resetVideoData(),this._resetViewData(),this._resetErrorData(),this._updateStateData(),Object.assign(this.data,Oe),this._initializeViewData(),this.one("play",Bn),this.one("adbreakstart",Bn)});var Br=function(Fe){this.emit("viewend"),this.send("viewend"),this.emit("viewinit",Fe)}.bind(An(fn));if(fn.on("videochange",function(Fe,Oe){Br(Oe)}),fn.on("programchange",function(Fe,Oe){this.data.player_is_paused&&this.mux.log.warn("The `programchange` event is intended to be used when the content changes mid playback without the video source changing, however the video is not currently playing. If the video source is changing please use the videochange event otherwise you will lose startup time information."),Br(Object.assign(Oe,{view_program_changed:!0})),Bn(),this.emit("play"),this.emit("playing")}),fn.on("fragmentchange",function(Fe,Oe){this.currentFragmentPDT=Oe.currentFragmentPDT,this.currentFragmentStart=Oe.currentFragmentStart}),fn.on("destroy",fn.destroy),typeof window!="undefined"&&typeof window.addEventListener=="function"&&typeof window.removeEventListener=="function"){var Or=function(){var Fe=fn.data.view_start!==void 0;fn.mux.WINDOW_HIDDEN=document.visibilityState==="hidden",Fe&&fn.mux.WINDOW_HIDDEN&&(fn.data.player_is_paused||fn.emit("hb"))};window.addEventListener("visibilitychange",Or,!1);var Lr=function(Fe){Fe.persisted||fn.destroy()};window.addEventListener("pagehide",Lr,!1),fn.on("destroy",function(){window.removeEventListener("visibilitychange",Or),window.removeEventListener("pagehide",Lr)})}return fn.on("playerready",function(Fe,Oe){Object.assign(this.data,Oe)}),ft.forEach(function(Fe){fn.on(Fe,function(Oe,ke){Fe.indexOf("ad")!==0&&this._updateStateData(),Object.assign(this.data,ke),this._sanitizeData()}),fn.on("after"+Fe,function(){(Fe!=="error"||this.errorTracker.viewErrored)&&this.send(Fe)})}),fn.on("viewend",function(Fe,Oe){Object.assign(fn.data,Oe)}),fn.one("playerready",function(Fe){var Oe=this.mux.utils.now();this.data.player_init_time&&(this.data.player_startup_time=Oe-this.data.player_init_time),!this.mux.PLAYER_TRACKED&&this.NAVIGATION_START&&(this.mux.PLAYER_TRACKED=!0,(this.data.player_init_time||this.DOM_CONTENT_LOADED_EVENT_END)&&(this.data.page_load_time=Math.min(this.data.player_init_time||1/0,this.DOM_CONTENT_LOADED_EVENT_END||1/0)-this.NAVIGATION_START)),this.send("playerready"),delete this.data.player_startup_time,delete this.data.page_load_time}),fn.longResumeTracker=new vr(An(fn)),fn.errorTracker=new Te(An(fn)),new $e(An(fn)),fn.seekingTracker=new st(An(fn)),fn.playheadTime=new ze(An(fn)),fn.playbackHeartbeat=new _e(An(fn)),new yt(An(fn)),fn.watchTimeTracker=new ce(An(fn)),new Ne(An(fn)),fn.adTracker=new Ae(An(fn)),new et(An(fn)),new We(An(fn)),new vt(An(fn)),new de(An(fn)),new Dn(An(fn)),Cn.hlsjs&&fn.addHLSJS(Cn),Cn.dashjs&&fn.addDashJS(Cn),fn.emit("viewinit",Cn.data),fn}return Ge=jt,Je=[{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.data.view_start!==void 0&&(this.emit("viewend"),this.send("viewend")),this.playbackEventDispatcher.destroy(),this.removeHLSJS(),this.removeDashJS(),window.clearTimeout(this._heartBeatTimeout))}},{key:"send",value:function(Bt){if(this.data.view_id){var sn=Object.assign({},this.data);if(sn.video_source_is_live===void 0&&(sn.player_source_duration===1/0||sn.video_source_duration===1/0?sn.video_source_is_live=!0:(sn.player_source_duration>0||sn.video_source_duration>0)&&(sn.video_source_is_live=!1)),sn.video_source_is_live||["player_program_time","player_manifest_newest_program_time","player_live_edge_program_time","player_program_time","video_holdback","video_part_holdback","video_target_duration","video_part_target_duration"].forEach(function(Br){sn[Br]=void 0}),sn.video_source_url=sn.video_source_url||sn.player_source_url,sn.video_source_url){var Cn=pr(D(sn.video_source_url),2),fn=Cn[0],Bn=Cn[1];sn.video_source_domain=Bn,sn.video_source_hostname=fn}delete sn.ad_request_id,this.playbackEventDispatcher.send(Bt,sn),this.data.view_sequence_number++,this.data.player_sequence_number++,this._restartHeartBeat(),Bt==="viewend"&&delete this.data.view_id}}},{key:"_updateStateData",value:function(){Object.assign(this.data,this.getStateData()),this.playheadTime._updatePlayheadTime(),this._sanitizeData()}},{key:"_sanitizeData",value:function(){var Bt=this;["player_width","player_height","video_source_width","video_source_height","player_playhead_time","video_source_bitrate"].forEach(function(sn){var Cn=parseInt(Bt.data[sn],10);Bt.data[sn]=isNaN(Cn)?void 0:Cn}),["player_source_url","video_source_url"].forEach(function(sn){if(Bt.data[sn]){var Cn=Bt.data[sn].toLowerCase();Cn.indexOf("data:")!==0&&Cn.indexOf("blob:")!==0||(Bt.data[sn]="MSE style URL")}})}},{key:"_resetVideoData",value:function(Bt,sn){var Cn=this;Object.keys(this.data).forEach(function(fn){fn.indexOf("video_")===0&&delete Cn.data[fn]})}},{key:"_resetViewData",value:function(){var Bt=this;Object.keys(this.data).forEach(function(sn){sn.indexOf("view_")===0&&delete Bt.data[sn]}),this.data.view_sequence_number=1}},{key:"_resetErrorData",value:function(Bt,sn){delete this.data.player_error_code,delete this.data.player_error_message}},{key:"_initializeViewData",value:function(){var Bt=this,sn=this.data.view_id=p(),Cn=function(){sn===Bt.data.view_id&&C(Bt.data,"player_view_count",1)};this.data.player_is_paused?this.one("play",Cn):Cn()}},{key:"_restartHeartBeat",value:function(){var Bt=this;window.clearTimeout(this._heartBeatTimeout),this.errorTracker.viewErrored||(this._heartBeatTimeout=window.setTimeout(function(){Bt.data.player_is_paused||Bt.emit("hb")},1e4))}},{key:"addHLSJS",value:function(Bt){Bt.hlsjs?this.hlsjs?this.mux.log.warn("An instance of HLS.js is already being monitored for this player."):(this.hlsjs=Bt.hlsjs,function(sn,Cn,fn){var Bn=arguments.length>4?arguments[4]:void 0,Br=sn.log,Or=sn.utils.secondsToMs,Lr=function(Yt){var Jt,Qt=parseInt(Bn.version);return Qt===1&&Yt.programDateTime!==null&&(Jt=Yt.programDateTime),Qt===0&&Yt.pdt!==null&&(Jt=Yt.pdt),Jt};if(N.exists()){var Fe=function(Yt,Jt){return sn.emit(Cn,Yt,Jt)},Oe=function(Yt,Jt){var Qt=Jt.levels,on=Jt.audioTracks,Sn=Jt.url,Zn=Jt.stats,sr=Jt.networkDetails,Sr=Jt.sessionData,yr={},qr={};Qt.forEach(function(Io,ot){yr[ot]={width:Io.width,height:Io.height,bitrate:Io.bitrate,attrs:Io.attrs}}),on.forEach(function(Io,ot){qr[ot]={name:Io.name,language:Io.lang,bitrate:Io.bitrate}});var uo=R(Zn),ho=uo.bytesLoaded,Ao=uo.requestStart,Yo=uo.responseStart,$o=uo.responseEnd;Fe("requestcompleted",q(q({},G(Sr)),{},{request_event_type:Yt,request_bytes_loaded:ho,request_start:Ao,request_response_start:Yo,request_response_end:$o,request_type:"manifest",request_hostname:I(Sn),request_response_headers:j(sr),request_rendition_lists:{media:yr,audio:qr,video:{}}}))};fn.on(Bn.Events.MANIFEST_LOADED,Oe);var ke=function(Yt,Jt){var Qt=Jt.details,on=Jt.level,Sn=Jt.networkDetails,Zn=Jt.stats,sr=R(Zn),Sr=sr.bytesLoaded,yr=sr.requestStart,qr=sr.responseStart,uo=sr.responseEnd,ho=Qt.fragments[Qt.fragments.length-1],Ao=Lr(ho)+Or(ho.duration);Fe("requestcompleted",{request_event_type:Yt,request_bytes_loaded:Sr,request_start:yr,request_response_start:qr,request_response_end:uo,request_current_level:on,request_type:"manifest",request_hostname:I(Qt.url),request_response_headers:j(Sn),video_holdback:Qt.holdBack&&Or(Qt.holdBack),video_part_holdback:Qt.partHoldBack&&Or(Qt.partHoldBack),video_part_target_duration:Qt.partTarget&&Or(Qt.partTarget),video_target_duration:Qt.targetduration&&Or(Qt.targetduration),video_source_is_live:Qt.live,player_manifest_newest_program_time:isNaN(Ao)?void 0:Ao})};fn.on(Bn.Events.LEVEL_LOADED,ke);var qe=function(Yt,Jt){var Qt=Jt.details,on=Jt.networkDetails,Sn=Jt.stats,Zn=R(Sn),sr=Zn.bytesLoaded,Sr=Zn.requestStart,yr=Zn.responseStart,qr=Zn.responseEnd;Fe("requestcompleted",{request_event_type:Yt,request_bytes_loaded:sr,request_start:Sr,request_response_start:yr,request_response_end:qr,request_type:"manifest",request_hostname:I(Qt.url),request_response_headers:j(on)})};fn.on(Bn.Events.AUDIO_TRACK_LOADED,qe);var Pt=function(Yt,Jt){var Qt=Jt.stats,on=Jt.networkDetails,Sn=Jt.frag;Qt=Qt||Sn.stats;var Zn=R(Qt),sr=Zn.bytesLoaded,Sr=Zn.requestStart,yr=Zn.responseStart,qr=Zn.responseEnd,uo=on?j(on):void 0,ho={request_event_type:Yt,request_bytes_loaded:sr,request_start:Sr,request_response_start:yr,request_response_end:qr,request_hostname:on?I(on.responseURL):void 0,request_id:uo?W(uo):void 0,request_response_headers:uo,request_media_duration:Sn.duration,request_url:on==null?void 0:on.responseURL};Sn.type==="main"?(ho.request_type="media",ho.request_current_level=Sn.level,ho.request_video_width=(fn.levels[Sn.level]||{}).width,ho.request_video_height=(fn.levels[Sn.level]||{}).height,ho.request_labeled_bitrate=(fn.levels[Sn.level]||{}).bitrate):ho.request_type=Sn.type,Fe("requestcompleted",ho)};fn.on(Bn.Events.FRAG_LOADED,Pt);var Ct=function(Yt,Jt){var Qt=Jt.frag,on=Qt.start,Sn={currentFragmentPDT:Lr(Qt),currentFragmentStart:Or(on)};Fe("fragmentchange",Sn)};fn.on(Bn.Events.FRAG_CHANGED,Ct);var Ot=function(Yt,Jt){var Qt=Jt.type,on=Jt.details,Sn=Jt.response,Zn=Jt.fatal,sr=Jt.frag,Sr=Jt.networkDetails,yr=(sr==null?void 0:sr.url)||Jt.url||"",qr=Sr?j(Sr):void 0;if(on!==Bn.ErrorDetails.MANIFEST_LOAD_ERROR&&on!==Bn.ErrorDetails.MANIFEST_LOAD_TIMEOUT&&on!==Bn.ErrorDetails.FRAG_LOAD_ERROR&&on!==Bn.ErrorDetails.FRAG_LOAD_TIMEOUT&&on!==Bn.ErrorDetails.LEVEL_LOAD_ERROR&&on!==Bn.ErrorDetails.LEVEL_LOAD_TIMEOUT&&on!==Bn.ErrorDetails.AUDIO_TRACK_LOAD_ERROR&&on!==Bn.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT&&on!==Bn.ErrorDetails.SUBTITLE_LOAD_ERROR&&on!==Bn.ErrorDetails.SUBTITLE_LOAD_TIMEOUT&&on!==Bn.ErrorDetails.KEY_LOAD_ERROR&&on!==Bn.ErrorDetails.KEY_LOAD_TIMEOUT||Fe("requestfailed",{request_error:on,request_url:yr,request_hostname:I(yr),request_id:qr?W(qr):void 0,request_type:on===Bn.ErrorDetails.FRAG_LOAD_ERROR||on===Bn.ErrorDetails.FRAG_LOAD_TIMEOUT?"media":on===Bn.ErrorDetails.AUDIO_TRACK_LOAD_ERROR||on===Bn.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT?"audio":on===Bn.ErrorDetails.SUBTITLE_LOAD_ERROR||on===Bn.ErrorDetails.SUBTITLE_LOAD_TIMEOUT?"subtitle":on===Bn.ErrorDetails.KEY_LOAD_ERROR||on===Bn.ErrorDetails.KEY_LOAD_TIMEOUT?"encryption":"manifest",request_error_code:Sn==null?void 0:Sn.code,request_error_text:Sn==null?void 0:Sn.text}),Zn){var uo,ho="".concat(yr?"url: ".concat(yr,`
`):"")+"".concat(Sn&&(Sn.code||Sn.text)?"response: ".concat(Sn.code,", ").concat(Sn.text,`
`):"")+"".concat(Jt.reason?"failure reason: ".concat(Jt.reason,`
`):"")+"".concat(Jt.level?"level: ".concat(Jt.level,`
`):"")+"".concat(Jt.parent?"parent stream controller: ".concat(Jt.parent,`
`):"")+"".concat(Jt.buffer?"buffer length: ".concat(Jt.buffer,`
`):"")+"".concat(Jt.error?"error: ".concat(Jt.error,`
`):"")+"".concat(Jt.event?"event: ".concat(Jt.event,`
`):"")+"".concat(Jt.err?"error message: ".concat((uo=Jt.err)===null||uo===void 0?void 0:uo.message,`
`):"");Fe("error",{player_error_code:Qt,player_error_message:on,player_error_context:ho})}};fn.on(Bn.Events.ERROR,Ot);var Dt=function(Yt,Jt){var Qt=Jt.frag,on=Qt&&Qt._url||"";Fe("requestcanceled",{request_event_type:Yt,request_url:on,request_type:"media",request_hostname:I(on)})};fn.on(Bn.Events.FRAG_LOAD_EMERGENCY_ABORTED,Dt);var Xt=function(Yt,Jt){var Qt=Jt.level,on=fn.levels[Qt];if(on&&on.attrs&&on.attrs.BANDWIDTH){var Sn,Zn=on.attrs.BANDWIDTH,sr=parseFloat(on.attrs["FRAME-RATE"]);isNaN(sr)||(Sn=sr),Zn?Fe("renditionchange",{video_source_fps:Sn,video_source_bitrate:Zn,video_source_width:on.width,video_source_height:on.height,video_source_rendition_name:on.name,video_source_codec:on==null?void 0:on.videoCodec}):Br.warn("missing BANDWIDTH from HLS manifest parsed by HLS.js")}};fn.on(Bn.Events.LEVEL_SWITCHED,Xt),fn._stopMuxMonitor=function(){fn.off(Bn.Events.MANIFEST_LOADED,Oe),fn.off(Bn.Events.LEVEL_LOADED,ke),fn.off(Bn.Events.AUDIO_TRACK_LOADED,qe),fn.off(Bn.Events.FRAG_LOADED,Pt),fn.off(Bn.Events.FRAG_CHANGED,Ct),fn.off(Bn.Events.ERROR,Ot),fn.off(Bn.Events.FRAG_LOAD_EMERGENCY_ABORTED,Dt),fn.off(Bn.Events.LEVEL_SWITCHED,Xt),fn.off(Bn.Events.DESTROYING,fn._stopMuxMonitor),delete fn._stopMuxMonitor},fn.on(Bn.Events.DESTROYING,fn._stopMuxMonitor)}else Br.warn("performance timing not supported. Not tracking HLS.js.")}(this.mux,this.id,Bt.hlsjs,{},Bt.Hls||window.Hls)):this.mux.log.warn("You must pass a valid hlsjs instance in order to track it.")}},{key:"removeHLSJS",value:function(){var Bt;this.hlsjs&&((Bt=this.hlsjs)&&typeof Bt._stopMuxMonitor=="function"&&Bt._stopMuxMonitor(),this.hlsjs=void 0)}},{key:"addDashJS",value:function(Bt){Bt.dashjs?this.dashjs?this.mux.log.warn("An instance of Dash.js is already being monitored for this player."):(this.dashjs=Bt.dashjs,function(sn,Cn,fn){var Bn=sn.log;if(fn&&fn.on){var Br=function(Dt,Xt){return sn.emit(Cn,Dt,Xt)},Or=function(Dt){var Xt=Dt.type,Yt=(Dt.data||{}).url;Br("requestcompleted",{request_event_type:Xt,request_start:0,request_response_start:0,request_response_end:0,request_bytes_loaded:-1,request_type:"manifest",request_hostname:I(Yt),request_url:Yt})};fn.on("manifestLoaded",Or);var Lr={},Fe=function(Dt){var Xt=Dt.type,Yt=Dt.fragmentModel,Jt=(Dt.chunk||{}).mediaInfo||{},Qt=Jt.type,on=Jt.bitrateList,Sn={};(on=on||[]).forEach(function($o,Io){Sn[Io]={},Sn[Io].width=$o.width,Sn[Io].height=$o.height,Sn[Io].bitrate=$o.bandwidth,Sn[Io].attrs={}}),Qt==="video"?Lr.video=Sn:Qt==="audio"?Lr.audio=Sn:Lr.media=Sn;var Zn=ue(Yt,fn),sr=Zn.requestStart,Sr=Zn.requestResponseStart,yr=Zn.requestResponseEnd,qr=Zn.requestResponseHeaders,uo=Zn.requestMediaDuration,ho=Zn.requestHostname,Ao=Zn.requestUrl,Yo=Zn.requestId;Br("requestcompleted",{request_event_type:Xt,request_start:sr,request_response_start:Sr,request_response_end:yr,request_bytes_loaded:-1,request_type:Qt+"_init",request_response_headers:qr,request_hostname:ho,request_id:Yo,request_url:Ao,request_media_duration:uo,request_rendition_lists:Lr})};fn.on("initFragmentLoaded",Fe);var Oe=function(Dt){var Xt=Dt.type,Yt=Dt.fragmentModel,Jt=Dt.chunk||{},Qt=Jt.mediaInfo,on=Jt.start,Sn=(Qt||{}).type,Zn=ue(Yt,fn),sr=Zn.requestStart,Sr=Zn.requestResponseStart,yr=Zn.requestResponseEnd,qr=Zn.requestBytesLoaded,uo=Zn.requestResponseHeaders,ho=Zn.requestMediaDuration,Ao=Zn.requestHostname,Yo=Zn.requestUrl,$o=Zn.requestId,Io=oe(Sn,fn),ot=Io.currentLevel,lt=Io.renditionWidth,St=Io.renditionHeight,an=Io.renditionBitrate;Br("requestcompleted",{request_event_type:Xt,request_start:sr,request_response_start:Sr,request_response_end:yr,request_bytes_loaded:qr,request_type:Sn,request_response_headers:uo,request_hostname:Ao,request_id:$o,request_url:Yo,request_media_start_time:on,request_media_duration:ho,request_current_level:ot,request_labeled_bitrate:an,request_video_width:lt,request_video_height:St})};fn.on("mediaFragmentLoaded",Oe);var ke={video:void 0,audio:void 0,totalBitrate:void 0},qe=function(){if(ke.video&&typeof ke.video.bitrate=="number"){if(ke.video.width&&ke.video.height){var Dt=ke.video.bitrate;return ke.audio&&typeof ke.audio.bitrate=="number"&&(Dt+=ke.audio.bitrate),Dt!==ke.totalBitrate?(ke.totalBitrate=Dt,{video_source_bitrate:Dt,video_source_height:ke.video.height,video_source_width:ke.video.width,video_source_codec:te(ke.video.codec)}):void 0}Bn.warn("have bitrate info for video but missing width/height")}},Pt=function(Dt,Xt,Yt){if(typeof Dt.newQuality=="number"){var Jt=Dt.mediaType;if(Jt==="audio"||Jt==="video"){var Qt=fn.getBitrateInfoListFor(Jt).find(function(Sn){return Sn.qualityIndex===Dt.newQuality});if(Qt&&typeof Qt.bitrate=="number"){ke[Jt]=le(le({},Qt),{},{codec:fn.getCurrentTrackFor(Jt).codec});var on=qe();on&&Br("renditionchange",on)}else Bn.warn("missing bitrate info for ".concat(Jt))}}else Bn.warn("missing evt.newQuality in qualityChangeRendered event",Dt)};fn.on("qualityChangeRendered",Pt);var Ct=function(Dt){var Xt=Dt.request,Yt=Dt.mediaType;Br("requestcanceled",{request_event_type:(Xt=Xt||{}).type+"_"+Xt.action,request_url:Xt.url,request_type:Yt,request_hostname:I(Xt.url)})};fn.on("fragmentLoadingAbandoned",Ct);var Ot=function(Dt){var Xt,Yt,Jt=Dt.error,Qt=(Jt==null||(Xt=Jt.data)===null||Xt===void 0?void 0:Xt.request)||{},on=(Jt==null||(Yt=Jt.data)===null||Yt===void 0?void 0:Yt.response)||{};(Jt==null?void 0:Jt.code)===27&&Br("requestfailed",{request_error:Qt.type+"_"+Qt.action,request_url:Qt.url,request_hostname:I(Qt.url),request_type:Qt.mediaType,request_error_code:on.status,request_error_text:on.statusText});var Sn="".concat(Qt!=null&&Qt.url?"url: ".concat(Qt.url,`
`):"")+"".concat(on!=null&&on.status||on!=null&&on.statusText?"response: ".concat(on==null?void 0:on.status,", ").concat(on==null?void 0:on.statusText,`
`):"");Br("error",{player_error_code:Jt==null?void 0:Jt.code,player_error_message:Jt==null?void 0:Jt.message,player_error_context:Sn})};fn.on("error",Ot),fn._stopMuxMonitor=function(){fn.off("manifestLoaded",Or),fn.off("initFragmentLoaded",Fe),fn.off("mediaFragmentLoaded",Oe),fn.off("qualityChangeRendered",Pt),fn.off("error",Ot),fn.off("fragmentLoadingAbandoned",Ct),delete fn._stopMuxMonitor}}else Bn.warn("Invalid dash.js player reference. Monitoring blocked.")}(this.mux,this.id,Bt.dashjs)):this.mux.log.warn("You must pass a valid dashjs instance in order to track it.")}},{key:"removeDashJS",value:function(){var Bt;this.dashjs&&((Bt=this.dashjs)&&typeof Bt._stopMuxMonitor=="function"&&Bt._stopMuxMonitor(),this.dashjs=void 0)}}],Je&&Vt(Ge.prototype,Je),mt&&Vt(Ge,mt),Object.defineProperty(Ge,"prototype",{writable:!1}),jt}(se),zt=Rt,tn=v(153),vn=v.n(tn);function un(rt){return un=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ge){return typeof Ge}:function(Ge){return Ge&&typeof Symbol=="function"&&Ge.constructor===Symbol&&Ge!==Symbol.prototype?"symbol":typeof Ge},un(rt)}function wn(rt,Ge){return function(Je){if(Array.isArray(Je))return Je}(rt)||function(Je,mt){var bt=Je==null?null:typeof Symbol!="undefined"&&Je[Symbol.iterator]||Je["@@iterator"];if(bt!=null){var jt,Bt,sn=[],Cn=!0,fn=!1;try{for(bt=bt.call(Je);!(Cn=(jt=bt.next()).done)&&(sn.push(jt.value),!mt||sn.length!==mt);Cn=!0);}catch(Bn){fn=!0,Bt=Bn}finally{try{Cn||bt.return==null||bt.return()}finally{if(fn)throw Bt}}return sn}}(rt,Ge)||function(Je,mt){if(Je){if(typeof Je=="string")return Un(Je,mt);var bt=Object.prototype.toString.call(Je).slice(8,-1);return bt==="Object"&&Je.constructor&&(bt=Je.constructor.name),bt==="Map"||bt==="Set"?Array.from(Je):bt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(bt)?Un(Je,mt):void 0}}(rt,Ge)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Un(rt,Ge){(Ge==null||Ge>rt.length)&&(Ge=rt.length);for(var Je=0,mt=new Array(Ge);Je<Ge;Je++)mt[Je]=rt[Je];return mt}var Cr,Hr=["loadstart","pause","play","playing","seeking","seeked","timeupdate","ratechange","stalled","waiting","error","ended"],Ur={1:"MEDIA_ERR_ABORTED",2:"MEDIA_ERR_NETWORK",3:"MEDIA_ERR_DECODE",4:"MEDIA_ERR_SRC_NOT_SUPPORTED"};y()&&y().WeakMap&&(Cr=new WeakMap);var Ar="#EXT-X-TARGETDURATION",oo="#EXT-X-PART-INF",vo="#EXT-X-SERVER-CONTROL",ti="#EXTINF",ni="#EXT-X-PROGRAM-DATE-TIME",Co="#EXT-X-VERSION",Fo="#EXT-X-SESSION-DATA",yo=function(rt){return this.buffer="",this.manifest={segments:[],serverControl:{},sessionData:{}},this.currentUri={},this.process(rt),this.manifest};yo.prototype.process=function(rt){var Ge;for(this.buffer+=rt,Ge=this.buffer.indexOf(`
`);Ge>-1;Ge=this.buffer.indexOf(`
`))this.processLine(this.buffer.substring(0,Ge)),this.buffer=this.buffer.substring(Ge+1)},yo.prototype.processLine=function(rt){var Ge=rt.indexOf(":"),Je=ui(rt,Ge),mt=Je[0],bt=Je.length===2?ai(Je[1]):void 0;if(mt[0]!=="#")this.currentUri.uri=mt,this.manifest.segments.push(this.currentUri),this.manifest.targetDuration&&!("duration"in this.currentUri)&&(this.currentUri.duration=this.manifest.targetDuration),this.currentUri={};else switch(mt){case Ar:if(!isFinite(bt)||bt<0)return;this.manifest.targetDuration=bt,this.setHoldBack();break;case oo:Wo(this.manifest,Je),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),this.setHoldBack();break;case vo:Wo(this.manifest,Je),this.setHoldBack();break;case ti:bt===0?this.currentUri.duration=.01:bt>0&&(this.currentUri.duration=bt);break;case ni:var jt=bt,Bt=new Date(jt);this.manifest.dateTimeString||(this.manifest.dateTimeString=jt,this.manifest.dateTimeObject=Bt),this.currentUri.dateTimeString=jt,this.currentUri.dateTimeObject=Bt;break;case Co:Wo(this.manifest,Je);break;case Fo:var sn=Mi(Je[1]),Cn=G(sn);Object.assign(this.manifest.sessionData,Cn)}},yo.prototype.setHoldBack=function(){var rt=this.manifest,Ge=rt.serverControl,Je=rt.targetDuration,mt=rt.partTargetDuration;if(Ge){var bt="holdBack",jt="partHoldBack",Bt=Je&&3*Je,sn=mt&&2*mt;Je&&!Ge.hasOwnProperty(bt)&&(Ge[bt]=Bt),Bt&&Ge[bt]<Bt&&(Ge[bt]=Bt),mt&&!Ge.hasOwnProperty(jt)&&(Ge[jt]=3*mt),mt&&Ge[jt]<sn&&(Ge[jt]=sn)}};var Wo=function(rt,Ge){var Je,mt=Li(Ge[0].replace("#EXT-X-",""));pi(Ge[1])?(Je={},Je=Object.assign(Oi(Ge[1]),Je)):Je=ai(Ge[1]),rt[mt]=Je},Li=function(rt){return rt.toLowerCase().replace(/-(\w)/g,function(Ge){return Ge[1].toUpperCase()})},ai=function(rt){if(rt.toLowerCase()==="yes"||rt.toLowerCase()==="no")return rt.toLowerCase()==="yes";var Ge=rt.indexOf(":")!==-1?rt:parseFloat(rt);return isNaN(Ge)?rt:Ge},mi=function(rt){var Ge={},Je=rt.split("=");return Je.length>1&&(Ge[Li(Je[0])]=ai(Je[1])),Ge},Oi=function(rt){for(var Ge=rt.split(","),Je={},mt=0;Ge.length>mt;mt++){var bt=Ge[mt],jt=mi(bt);Je=Object.assign(jt,Je)}return Je},pi=function(rt){return rt.indexOf("=")>-1},ui=function(rt,Ge){return Ge===-1?[rt]:[rt.substring(0,Ge),rt.substring(Ge+1)]},Mi=function(rt){var Ge={};if(rt){var Je=rt.search(",");return[rt.slice(0,Je),rt.slice(Je+1)].forEach(function(mt,bt){for(var jt=mt.replace(/['"]+/g,"").split("="),Bt=0;Bt<jt.length;Bt++)jt[Bt]==="DATA-ID"&&(Ge["DATA-ID"]=jt[1-Bt]),jt[Bt]==="VALUE"&&(Ge.VALUE=jt[1-Bt])}),{data:Ge}}},Bi=yo,_i={safeCall:function(rt,Ge,Je,mt){var bt=mt;if(rt&&typeof rt[Ge]=="function")try{bt=rt[Ge].apply(rt,Je)}catch(jt){s.info("safeCall error",jt)}return bt},safeIncrement:C,getComputedStyle:function(rt,Ge){var Je;if(rt&&Ge&&y()&&typeof y().getComputedStyle=="function")return Cr&&Cr.has(rt)&&(Je=Cr.get(rt)),Je||(Je=y().getComputedStyle(rt,null),Cr&&Cr.set(rt,Je)),Je.getPropertyValue(Ge)},secondsToMs:function(rt){return Math.floor(1e3*rt)},assign:Object.assign,headersStringToObject:U,cdnHeadersToRequestId:W,extractHostnameAndDomain:D,extractHostname:I,manifestParser:Bi,generateShortID:O,generateUUID:p,now:P.now},gi={PLAYER_READY:"playerready",VIEW_INIT:"viewinit",VIDEO_CHANGE:"videochange",PLAY:"play",PAUSE:"pause",PLAYING:"playing",TIME_UPDATE:"timeupdate",SEEKING:"seeking",SEEKED:"seeked",REBUFFER_START:"rebufferstart",REBUFFER_END:"rebufferend",ERROR:"error",ENDED:"ended",RENDITION_CHANGE:"renditionchange",ORIENTATION_CHANGE:"orientationchange",AD_REQUEST:"adrequest",AD_RESPONSE:"adresponse",AD_BREAK_START:"adbreakstart",AD_PLAY:"adplay",AD_PLAYING:"adplaying",AD_PAUSE:"adpause",AD_FIRST_QUARTILE:"adfirstquartile",AD_MID_POINT:"admidpoint",AD_THIRD_QUARTILE:"adthirdquartile",AD_ENDED:"adended",AD_BREAK_END:"adbreakend",AD_ERROR:"aderror",REQUEST_COMPLETED:"requestcompleted",REQUEST_FAILED:"requestfailed",REQUEST_CANCELLED:"requestcanceled"};function vi(rt,Ge){return function(Je){if(Array.isArray(Je))return Je}(rt)||function(Je,mt){var bt=Je==null?null:typeof Symbol!="undefined"&&Je[Symbol.iterator]||Je["@@iterator"];if(bt!=null){var jt,Bt,sn=[],Cn=!0,fn=!1;try{for(bt=bt.call(Je);!(Cn=(jt=bt.next()).done)&&(sn.push(jt.value),!mt||sn.length!==mt);Cn=!0);}catch(Bn){fn=!0,Bt=Bn}finally{try{Cn||bt.return==null||bt.return()}finally{if(fn)throw Bt}}return sn}}(rt,Ge)||function(Je,mt){if(Je){if(typeof Je=="string")return si(Je,mt);var bt=Object.prototype.toString.call(Je).slice(8,-1);return bt==="Object"&&Je.constructor&&(bt=Je.constructor.name),bt==="Map"||bt==="Set"?Array.from(Je):bt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(bt)?si(Je,mt):void 0}}(rt,Ge)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function si(rt,Ge){(Ge==null||Ge>rt.length)&&(Ge=rt.length);for(var Je=0,mt=new Array(Ge);Je<Ge;Je++)mt[Je]=rt[Je];return mt}var xo={},ri=function rt(Ge){var Je=arguments;typeof Ge=="string"?rt.hasOwnProperty(Ge)?y().setTimeout(function(){Je=Array.prototype.splice.call(Je,1),rt[Ge].apply(null,Je)},0):s.warn("`"+Ge+"` is an unknown task"):typeof Ge=="function"?y().setTimeout(function(){Ge(rt)},0):s.warn("`"+Ge+"` is invalid.")},Si={loaded:P.now(),NAME:"mux-embed",VERSION:"4.25.0",API_VERSION:"2.1",PLAYER_TRACKED:!1,monitor:function(rt,Ge){return function(Je,mt,bt){var jt=wn(x(mt),3),Bt=jt[0],sn=jt[1],Cn=jt[2],fn=Je.log,Bn=Je.utils.getComputedStyle,Br=Je.utils.secondsToMs;if(!Bt)return fn.error("No element was found with the `"+sn+"` query selector.");if(Cn!=="video"&&Cn!=="audio")return fn.error("The element of `"+sn+"` was not a media element.");Bt.mux&&(Bt.mux.destroy(),delete Bt.mux,fn.warn("Already monitoring this video element, replacing existing event listeners")),(bt=Object.assign({automaticErrorTracking:!0},bt)).data=Object.assign({player_software:"HTML5 Video Element",player_mux_plugin_name:"VideoElementMonitor",player_mux_plugin_version:Je.VERSION},bt.data),bt.getPlayheadTime=function(){return Br(Bt.currentTime)},bt.getStateData=function(){var Lr,Fe,Oe=this.hlsjs&&this.hlsjs.url,ke=this.dashjs&&un(this.dashjs.getSource==="function")&&this.dashjs.getSource(),qe={player_is_paused:Bt.paused,player_playhead_time:Br(Bt.currentTime),player_width:parseInt(Bn(Bt,"width")),player_height:parseInt(Bn(Bt,"height")),player_autoplay_on:Bt.autoplay,player_preload_on:Bt.preload,player_language_code:Bt.lang,player_is_fullscreen:vn()&&!!(vn().fullscreenElement||vn().webkitFullscreenElement||vn().mozFullScreenElement||vn().msFullscreenElement),video_poster_url:Bt.poster,video_source_url:Oe||ke||Bt.currentSrc,video_source_duration:Br(Bt.duration),video_source_height:Bt.videoHeight,video_source_width:Bt.videoWidth,view_dropped_frame_count:(Lr=Bt)===null||Lr===void 0||(Fe=Lr.getVideoPlaybackQuality)===null||Fe===void 0?void 0:Fe.call(Lr).droppedVideoFrames},Pt=bt.getPlayheadTime();if(Bt.getStartDate&&Pt>0){var Ct=Bt.getStartDate();if(Ct&&typeof Ct.getTime=="function"&&Ct.getTime()){var Ot=Ct.getTime();if(qe.player_program_time=Ot+Pt,Bt.seekable.length>0){var Dt=Ot+Bt.seekable.end(Bt.seekable.length-1);qe.player_live_edge_program_time=Dt}}}return qe},Bt.mux=Bt.mux||{},Bt.mux.deleted=!1,Bt.mux.emit=function(Lr,Fe){Je.emit(sn,Lr,Fe)};var Or=function(){fn.error("The monitor for this video element has already been destroyed.")};Bt.mux.destroy=function(){Object.keys(Bt.mux.listeners).forEach(function(Lr){Bt.removeEventListener(Lr,Bt.mux.listeners[Lr],!1)}),delete Bt.mux.listeners,Bt.mux.destroy=Or,Bt.mux.swapElement=Or,Bt.mux.emit=Or,Bt.mux.addHLSJS=Or,Bt.mux.addDashJS=Or,Bt.mux.removeHLSJS=Or,Bt.mux.removeDashJS=Or,Bt.mux.deleted=!0,Je.emit(sn,"destroy")},Bt.mux.swapElement=function(Lr){var Fe=wn(x(Lr),3),Oe=Fe[0],ke=Fe[1],qe=Fe[2];return Oe?qe!=="video"&&qe!=="audio"?Je.log.error("The element of `"+ke+"` was not a media element."):(Oe.muxId=Bt.muxId,delete Bt.muxId,Oe.mux=Oe.mux||{},Oe.mux.listeners=Object.assign({},Bt.mux.listeners),delete Bt.mux.listeners,Object.keys(Oe.mux.listeners).forEach(function(Pt){Bt.removeEventListener(Pt,Oe.mux.listeners[Pt],!1),Oe.addEventListener(Pt,Oe.mux.listeners[Pt],!1)}),Oe.mux.swapElement=Bt.mux.swapElement,Oe.mux.destroy=Bt.mux.destroy,delete Bt.mux,void(Bt=Oe)):Je.log.error("No element was found with the `"+ke+"` query selector.")},Bt.mux.addHLSJS=function(Lr){Je.addHLSJS(sn,Lr)},Bt.mux.addDashJS=function(Lr){Je.addDashJS(sn,Lr)},Bt.mux.removeHLSJS=function(){Je.removeHLSJS(sn)},Bt.mux.removeDashJS=function(){Je.removeDashJS(sn)},Je.init(sn,bt),Je.emit(sn,"playerready"),Bt.paused||(Je.emit(sn,"play"),Bt.readyState>2&&Je.emit(sn,"playing")),Bt.mux.listeners={},Hr.forEach(function(Lr){(Lr!=="error"||bt.automaticErrorTracking)&&(Bt.mux.listeners[Lr]=function(){var Fe={};if(Lr==="error"){if(!Bt.error||Bt.error.code===1)return;Fe.player_error_code=Bt.error.code,Fe.player_error_message=Ur[Bt.error.code]||Bt.error.message}Je.emit(sn,Lr,Fe)},Bt.addEventListener(Lr,Bt.mux.listeners[Lr],!1))})}(ri,rt,Ge)},destroyMonitor:function(rt){var Ge=vi(x(rt),1)[0];Ge&&Ge.mux&&typeof Ge.mux.destroy=="function"?Ge.mux.destroy():s.error("A video element monitor for `"+rt+"` has not been initialized via `mux.monitor`.")},addHLSJS:function(rt,Ge){var Je=S(rt);xo[Je]?xo[Je].addHLSJS(Ge):s.error("A monitor for `"+Je+"` has not been initialized.")},addDashJS:function(rt,Ge){var Je=S(rt);xo[Je]?xo[Je].addDashJS(Ge):s.error("A monitor for `"+Je+"` has not been initialized.")},removeHLSJS:function(rt){var Ge=S(rt);xo[Ge]?xo[Ge].removeHLSJS():s.error("A monitor for `"+Ge+"` has not been initialized.")},removeDashJS:function(rt){var Ge=S(rt);xo[Ge]?xo[Ge].removeDashJS():s.error("A monitor for `"+Ge+"` has not been initialized.")},init:function(rt,Ge){w()&&Ge&&Ge.respectDoNotTrack&&s.info("The browser's Do Not Track flag is enabled - Mux beaconing is disabled.");var Je=S(rt);xo[Je]=new zt(ri,Je,Ge)},emit:function(rt,Ge,Je){var mt=S(rt);xo[mt]?(xo[mt].emit(Ge,Je),Ge==="destroy"&&delete xo[mt]):s.error("A monitor for `"+mt+"` has not been initialized.")},checkDoNotTrack:w,log:s,utils:_i,events:gi,WINDOW_HIDDEN:!1,WINDOW_UNLOADING:!1};Object.assign(ri,Si),y()!==void 0&&typeof y().addEventListener=="function"&&y().addEventListener("pagehide",function(rt){rt.persisted||(ri.WINDOW_UNLOADING=!0)},!1);var Di=ri},655:function(c,g,v){var E,y;function p(O){return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},p(O);/*!
 * JavaScript Cookie v2.1.3
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */}(function(O){var S=!1;if((y=typeof(E=O)=="function"?E.call(g,v,g,c):E)===void 0||(c.exports=y),S=!0,p(g)==="object"&&(c.exports=O(),S=!0),!S){var x=window.Cookies,T=window.Cookies=O();T.noConflict=function(){return window.Cookies=x,T}}})(function(){var O=function(){for(var S=0,x={};S<arguments.length;S++){var T=arguments[S];for(var _ in T)x[_]=T[_]}return x};return function S(x){function T(_,d,s){var w;if(typeof document!="undefined"){if(arguments.length>1){if(typeof(s=O({path:"/"},T.defaults,s)).expires=="number"){var P=new Date;P.setMilliseconds(P.getMilliseconds()+864e5*s.expires),s.expires=P}try{w=JSON.stringify(d),/^[\{\[]/.test(w)&&(d=w)}catch(U){}return d=x.write?x.write(d,_):encodeURIComponent(String(d)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),_=(_=(_=encodeURIComponent(String(_))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape),document.cookie=[_,"=",d,s.expires?"; expires="+s.expires.toUTCString():"",s.path?"; path="+s.path:"",s.domain?"; domain="+s.domain:"",s.secure?"; secure":""].join("")}_||(w={});for(var I=document.cookie?document.cookie.split("; "):[],D=/(%[0-9A-Z]{2})+/g,N=0;N<I.length;N++){var C=I[N].split("="),A=C.slice(1).join("=");A.charAt(0)==='"'&&(A=A.slice(1,-1));try{var L=C[0].replace(D,decodeURIComponent);if(A=x.read?x.read(A,L):x(A,L)||A.replace(D,decodeURIComponent),this.json)try{A=JSON.parse(A)}catch(U){}if(_===L){w=A;break}_||(w[L]=A)}catch(U){}}return w}}return T.set=T,T.get=function(_){return T.call(T,_)},T.getJSON=function(){return T.apply({json:!0},[].slice.call(arguments))},T.defaults={},T.remove=function(_,d){T(_,"",O(d,{expires:-1}))},T.withConverter=S,T}(function(){})})},153:function(c,g,v){var E,y=v.g!==void 0?v.g:typeof window!="undefined"?window:{},p=v(558);typeof document!="undefined"?E=document:(E=y["__GLOBAL_DOCUMENT_CACHE@4"])||(E=y["__GLOBAL_DOCUMENT_CACHE@4"]=p),c.exports=E},48:function(c,g,v){var E;E=typeof window!="undefined"?window:v.g!==void 0?v.g:typeof self!="undefined"?self:{},c.exports=E},640:function(c,g,v){var E,y;(function(p,O){"use strict";E=function(){var S=function(){},x="undefined",T=typeof window!==x&&typeof window.navigator!==x&&/Trident\/|MSIE /.test(window.navigator.userAgent),_=["trace","debug","info","warn","error"];function d(U,W){var G=U[W];if(typeof G.bind=="function")return G.bind(U);try{return Function.prototype.bind.call(G,U)}catch($){return function(){return Function.prototype.apply.apply(G,[U,arguments])}}}function s(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function w(U){return U==="debug"&&(U="log"),typeof console!==x&&(U==="trace"&&T?s:console[U]!==void 0?d(console,U):console.log!==void 0?d(console,"log"):S)}function P(U,W){for(var G=0;G<_.length;G++){var $=_[G];this[$]=G<U?S:this.methodFactory($,U,W)}this.log=this.debug}function I(U,W,G){return function(){typeof console!==x&&(P.call(this,W,G),this[U].apply(this,arguments))}}function D(U,W,G){return w(U)||I.apply(this,arguments)}function N(U,W,G){var $,q=this;W=W==null?"WARN":W;var J="loglevel";function R(ye){var ue=(_[ye]||"silent").toUpperCase();if(typeof window!==x&&J){try{return void(window.localStorage[J]=ue)}catch(oe){}try{window.document.cookie=encodeURIComponent(J)+"="+ue+";"}catch(oe){}}}function j(){var ye;if(typeof window!==x&&J){try{ye=window.localStorage[J]}catch(te){}if(typeof ye===x)try{var ue=window.document.cookie,oe=ue.indexOf(encodeURIComponent(J)+"=");oe!==-1&&(ye=/^([^;]+)/.exec(ue.slice(oe))[1])}catch(te){}return q.levels[ye]===void 0&&(ye=void 0),ye}}function ie(){if(typeof window!==x&&J){try{return void window.localStorage.removeItem(J)}catch(ye){}try{window.document.cookie=encodeURIComponent(J)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(ye){}}}typeof U=="string"?J+=":"+U:typeof U=="symbol"&&(J=void 0),q.name=U,q.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},q.methodFactory=G||D,q.getLevel=function(){return $},q.setLevel=function(ye,ue){if(typeof ye=="string"&&q.levels[ye.toUpperCase()]!==void 0&&(ye=q.levels[ye.toUpperCase()]),!(typeof ye=="number"&&ye>=0&&ye<=q.levels.SILENT))throw"log.setLevel() called with invalid level: "+ye;if($=ye,ue!==!1&&R(ye),P.call(q,ye,U),typeof console===x&&ye<q.levels.SILENT)return"No console available for logging"},q.setDefaultLevel=function(ye){W=ye,j()||q.setLevel(ye,!1)},q.resetLevel=function(){q.setLevel(W,!1),ie()},q.enableAll=function(ye){q.setLevel(q.levels.TRACE,ye)},q.disableAll=function(ye){q.setLevel(q.levels.SILENT,ye)};var le=j();le==null&&(le=W),q.setLevel(le,!1)}var C=new N,A={};C.getLogger=function(U){if(typeof U!="symbol"&&typeof U!="string"||U==="")throw new TypeError("You must supply a name when creating a logger.");var W=A[U];return W||(W=A[U]=new N(U,C.getLevel(),C.methodFactory)),W};var L=typeof window!==x?window.log:void 0;return C.noConflict=function(){return typeof window!==x&&window.log===C&&(window.log=L),C},C.getLoggers=function(){return A},C.default=C,C},(y=typeof E=="function"?E.call(g,v,g,c):E)===void 0||(c.exports=y)})()},375:function(c,g){"use strict";var v=Object.prototype.hasOwnProperty;function E(p){try{return decodeURIComponent(p.replace(/\+/g," "))}catch(O){return null}}function y(p){try{return encodeURIComponent(p)}catch(O){return null}}g.stringify=function(p,O){O=O||"";var S,x,T=[];for(x in typeof O!="string"&&(O="?"),p)if(v.call(p,x)){if((S=p[x])||S!=null&&!isNaN(S)||(S=""),x=y(x),S=y(S),x===null||S===null)continue;T.push(x+"="+S)}return T.length?O+T.join("&"):""},g.parse=function(p){for(var O,S=/([^=?#&]+)=?([^&]*)/g,x={};O=S.exec(p);){var T=E(O[1]),_=E(O[2]);T===null||_===null||T in x||(x[T]=_)}return x}},558:function(){}},f={};function l(c){var g=f[c];if(g!==void 0)return g.exports;var v=f[c]={exports:{}};return o[c].call(v.exports,v,v.exports,l),v.exports}return l.n=function(c){var g=c&&c.__esModule?function(){return c.default}:function(){return c};return l.d(g,{a:g}),g},l.d=function(c,g){for(var v in g)l.o(g,v)&&!l.o(c,v)&&Object.defineProperty(c,v,{enumerable:!0,get:g[v]})},l.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(c){if(typeof window=="object")return window}}(),l.o=function(c,g){return Object.prototype.hasOwnProperty.call(c,g)},l(80)}()},z.exports=e()})()},27418:z=>{"use strict";/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var u=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function f(c){if(c==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(c)}function l(){try{if(!Object.assign)return!1;var c=new String("abc");if(c[5]="de",Object.getOwnPropertyNames(c)[0]==="5")return!1;for(var g={},v=0;v<10;v++)g["_"+String.fromCharCode(v)]=v;var E=Object.getOwnPropertyNames(g).map(function(p){return g[p]});if(E.join("")!=="0123456789")return!1;var y={};return"abcdefghijklmnopqrst".split("").forEach(function(p){y[p]=p}),Object.keys(Object.assign({},y)).join("")==="abcdefghijklmnopqrst"}catch(p){return!1}}z.exports=l()?Object.assign:function(c,g){for(var v,E=f(c),y,p=1;p<arguments.length;p++){v=Object(arguments[p]);for(var O in v)e.call(v,O)&&(E[O]=v[O]);if(u){y=u(v);for(var S=0;S<y.length;S++)o.call(v,y[S])&&(E[y[S]]=v[y[S]])}}return E}},70631:(z,u,e)=>{var o=typeof Map=="function"&&Map.prototype,f=Object.getOwnPropertyDescriptor&&o?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,l=o&&f&&typeof f.get=="function"?f.get:null,c=o&&Map.prototype.forEach,g=typeof Set=="function"&&Set.prototype,v=Object.getOwnPropertyDescriptor&&g?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,E=g&&v&&typeof v.get=="function"?v.get:null,y=g&&Set.prototype.forEach,p=typeof WeakMap=="function"&&WeakMap.prototype,O=p?WeakMap.prototype.has:null,S=typeof WeakSet=="function"&&WeakSet.prototype,x=S?WeakSet.prototype.has:null,T=typeof WeakRef=="function"&&WeakRef.prototype,_=T?WeakRef.prototype.deref:null,d=Boolean.prototype.valueOf,s=Object.prototype.toString,w=Function.prototype.toString,P=String.prototype.match,I=String.prototype.slice,D=String.prototype.replace,N=String.prototype.toUpperCase,C=String.prototype.toLowerCase,A=RegExp.prototype.test,L=Array.prototype.concat,U=Array.prototype.join,W=Array.prototype.slice,G=Math.floor,$=typeof BigInt=="function"?BigInt.prototype.valueOf:null,q=Object.getOwnPropertySymbols,J=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,R=typeof Symbol=="function"&&typeof Symbol.iterator=="object",j=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===R||"symbol")?Symbol.toStringTag:null,ie=Object.prototype.propertyIsEnumerable,le=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(Be){return Be.__proto__}:null);function ye(Be,Ke){if(Be===1/0||Be===-1/0||Be!==Be||Be&&Be>-1e3&&Be<1e3||A.call(/e/,Ke))return Ke;var it=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof Be=="number"){var Qe=Be<0?-G(-Be):G(Be);if(Qe!==Be){var Ae=String(Qe),H=I.call(Ke,Ae.length+1);return D.call(Ae,it,"$&_")+"."+D.call(D.call(H,/([0-9]{3})/g,"$&_"),/_$/,"")}}return D.call(Ke,it,"$&_")}var ue=e(24654),oe=ue.custom,te=ve(oe)?oe:null;z.exports=function Be(Ke,it,Qe,Ae){var H=it||{};if(Ne(H,"quoteStyle")&&H.quoteStyle!=="single"&&H.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Ne(H,"maxStringLength")&&(typeof H.maxStringLength=="number"?H.maxStringLength<0&&H.maxStringLength!==1/0:H.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var ee=Ne(H,"customInspect")?H.customInspect:!0;if(typeof ee!="boolean"&&ee!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Ne(H,"indent")&&H.indent!==null&&H.indent!=="	"&&!(parseInt(H.indent,10)===H.indent&&H.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Ne(H,"numericSeparator")&&typeof H.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var de=H.numericSeparator;if(typeof Ke=="undefined")return"undefined";if(Ke===null)return"null";if(typeof Ke=="boolean")return Ke?"true":"false";if(typeof Ke=="string")return ht(Ke,H);if(typeof Ke=="number"){if(Ke===0)return 1/0/Ke>0?"0":"-0";var Ee=String(Ke);return de?ye(Ke,Ee):Ee}if(typeof Ke=="bigint"){var Me=String(Ke)+"n";return de?ye(Ke,Me):Me}var $e=typeof H.depth=="undefined"?5:H.depth;if(typeof Qe=="undefined"&&(Qe=0),Qe>=$e&&$e>0&&typeof Ke=="object")return ae(Ke)?"[Array]":"[Object]";var dt=je(H,Qe);if(typeof Ae=="undefined")Ae=[];else if(Xe(Ae,Ke)>=0)return"[Circular]";function ct(wr,Nr,no){if(Nr&&(Ae=W.call(Ae),Ae.push(Nr)),no){var Jr={depth:H.depth};return Ne(H,"quoteStyle")&&(Jr.quoteStyle=H.quoteStyle),Be(wr,Jr,Qe+1,Ae)}return Be(wr,H,Qe+1,Ae)}if(typeof Ke=="function"&&!be(Ke)){var wt=ze(Ke),Mt=De(Ke,ct);return"[Function"+(wt?": "+wt:" (anonymous)")+"]"+(Mt.length>0?" { "+U.call(Mt,", ")+" }":"")}if(ve(Ke)){var pn=R?D.call(String(Ke),/^(Symbol\(.*\))_[^)]*$/,"$1"):J.call(Ke);return typeof Ke=="object"&&!R?Lt(pn):pn}if(et(Ke)){for(var Mn="<"+C.call(String(Ke.nodeName)),$n=Ke.attributes||[],mr=0;mr<$n.length;mr++)Mn+=" "+$n[mr].name+"="+Z(re($n[mr].value),"double",H);return Mn+=">",Ke.childNodes&&Ke.childNodes.length&&(Mn+="..."),Mn+="</"+C.call(String(Ke.nodeName))+">",Mn}if(ae(Ke)){if(Ke.length===0)return"[]";var jn=De(Ke,ct);return dt&&!he(jn)?"["+st(jn,dt)+"]":"[ "+U.call(jn,", ")+" ]"}if(_e(Ke)){var dr=De(Ke,ct);return!("cause"in Error.prototype)&&"cause"in Ke&&!ie.call(Ke,"cause")?"{ ["+String(Ke)+"] "+U.call(L.call("[cause]: "+ct(Ke.cause),dr),", ")+" }":dr.length===0?"["+String(Ke)+"]":"{ ["+String(Ke)+"] "+U.call(dr,", ")+" }"}if(typeof Ke=="object"&&ee){if(te&&typeof Ke[te]=="function"&&ue)return ue(Ke,{depth:$e-Qe});if(ee!=="symbol"&&typeof Ke.inspect=="function")return Ke.inspect()}if(_t(Ke)){var nn=[];return c&&c.call(Ke,function(wr,Nr){nn.push(ct(Nr,Ke,!0)+" => "+ct(wr,Ke))}),yt("Map",l.call(Ke),nn,dt)}if(Ie(Ke)){var jr=[];return y&&y.call(Ke,function(wr){jr.push(ct(wr,Ke))}),yt("Set",E.call(Ke),jr,dt)}if(we(Ke))return $t("WeakMap");if(tt(Ke))return $t("WeakSet");if(We(Ke))return $t("WeakRef");if(me(Ke))return Lt(ct(Number(Ke)));if(ce(Ke))return Lt(ct($.call(Ke)));if(Te(Ke))return Lt(d.call(Ke));if(pe(Ke))return Lt(ct(String(Ke)));if(!se(Ke)&&!be(Ke)){var Dr=De(Ke,ct),At=le?le(Ke)===Object.prototype:Ke instanceof Object||Ke.constructor===Object,Wt=Ke instanceof Object?"":"null prototype",Zt=!At&&j&&Object(Ke)===Ke&&j in Ke?I.call(He(Ke),8,-1):Wt?"Object":"",_n=At||typeof Ke.constructor!="function"?"":Ke.constructor.name?Ke.constructor.name+" ":"",Kn=_n+(Zt||Wt?"["+U.call(L.call([],Zt||[],Wt||[]),": ")+"] ":"");return Dr.length===0?Kn+"{}":dt?Kn+"{"+st(Dr,dt)+"}":Kn+"{ "+U.call(Dr,", ")+" }"}return String(Ke)};function Z(Be,Ke,it){var Qe=(it.quoteStyle||Ke)==="double"?'"':"'";return Qe+Be+Qe}function re(Be){return D.call(String(Be),/"/g,"&quot;")}function ae(Be){return He(Be)==="[object Array]"&&(!j||!(typeof Be=="object"&&j in Be))}function se(Be){return He(Be)==="[object Date]"&&(!j||!(typeof Be=="object"&&j in Be))}function be(Be){return He(Be)==="[object RegExp]"&&(!j||!(typeof Be=="object"&&j in Be))}function _e(Be){return He(Be)==="[object Error]"&&(!j||!(typeof Be=="object"&&j in Be))}function pe(Be){return He(Be)==="[object String]"&&(!j||!(typeof Be=="object"&&j in Be))}function me(Be){return He(Be)==="[object Number]"&&(!j||!(typeof Be=="object"&&j in Be))}function Te(Be){return He(Be)==="[object Boolean]"&&(!j||!(typeof Be=="object"&&j in Be))}function ve(Be){if(R)return Be&&typeof Be=="object"&&Be instanceof Symbol;if(typeof Be=="symbol")return!0;if(!Be||typeof Be!="object"||!J)return!1;try{return J.call(Be),!0}catch(Ke){}return!1}function ce(Be){if(!Be||typeof Be!="object"||!$)return!1;try{return $.call(Be),!0}catch(Ke){}return!1}var Le=Object.prototype.hasOwnProperty||function(Be){return Be in this};function Ne(Be,Ke){return Le.call(Be,Ke)}function He(Be){return s.call(Be)}function ze(Be){if(Be.name)return Be.name;var Ke=P.call(w.call(Be),/^function\s*([\w$]+)/);return Ke?Ke[1]:null}function Xe(Be,Ke){if(Be.indexOf)return Be.indexOf(Ke);for(var it=0,Qe=Be.length;it<Qe;it++)if(Be[it]===Ke)return it;return-1}function _t(Be){if(!l||!Be||typeof Be!="object")return!1;try{l.call(Be);try{E.call(Be)}catch(Ke){return!0}return Be instanceof Map}catch(Ke){}return!1}function we(Be){if(!O||!Be||typeof Be!="object")return!1;try{O.call(Be,O);try{x.call(Be,x)}catch(Ke){return!0}return Be instanceof WeakMap}catch(Ke){}return!1}function We(Be){if(!_||!Be||typeof Be!="object")return!1;try{return _.call(Be),!0}catch(Ke){}return!1}function Ie(Be){if(!E||!Be||typeof Be!="object")return!1;try{E.call(Be);try{l.call(Be)}catch(Ke){return!0}return Be instanceof Set}catch(Ke){}return!1}function tt(Be){if(!x||!Be||typeof Be!="object")return!1;try{x.call(Be,x);try{O.call(Be,O)}catch(Ke){return!0}return Be instanceof WeakSet}catch(Ke){}return!1}function et(Be){return!Be||typeof Be!="object"?!1:typeof HTMLElement!="undefined"&&Be instanceof HTMLElement?!0:typeof Be.nodeName=="string"&&typeof Be.getAttribute=="function"}function ht(Be,Ke){if(Be.length>Ke.maxStringLength){var it=Be.length-Ke.maxStringLength,Qe="... "+it+" more character"+(it>1?"s":"");return ht(I.call(Be,0,Ke.maxStringLength),Ke)+Qe}var Ae=D.call(D.call(Be,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,vt);return Z(Ae,"single",Ke)}function vt(Be){var Ke=Be.charCodeAt(0),it={8:"b",9:"t",10:"n",12:"f",13:"r"}[Ke];return it?"\\"+it:"\\x"+(Ke<16?"0":"")+N.call(Ke.toString(16))}function Lt(Be){return"Object("+Be+")"}function $t(Be){return Be+" { ? }"}function yt(Be,Ke,it,Qe){var Ae=Qe?st(it,Qe):U.call(it,", ");return Be+" ("+Ke+") {"+Ae+"}"}function he(Be){for(var Ke=0;Ke<Be.length;Ke++)if(Xe(Be[Ke],`
`)>=0)return!1;return!0}function je(Be,Ke){var it;if(Be.indent==="	")it="	";else if(typeof Be.indent=="number"&&Be.indent>0)it=U.call(Array(Be.indent+1)," ");else return null;return{base:it,prev:U.call(Array(Ke+1),it)}}function st(Be,Ke){if(Be.length===0)return"";var it=`
`+Ke.prev+Ke.base;return it+U.call(Be,","+it)+`
`+Ke.prev}function De(Be,Ke){var it=ae(Be),Qe=[];if(it){Qe.length=Be.length;for(var Ae=0;Ae<Be.length;Ae++)Qe[Ae]=Ne(Be,Ae)?Ke(Be[Ae],Be):""}var H=typeof q=="function"?q(Be):[],ee;if(R){ee={};for(var de=0;de<H.length;de++)ee["$"+H[de]]=H[de]}for(var Ee in Be)Ne(Be,Ee)&&(it&&String(Number(Ee))===Ee&&Ee<Be.length||R&&ee["$"+Ee]instanceof Symbol||(A.call(/[^\w$]/,Ee)?Qe.push(Ke(Ee,Be)+": "+Ke(Be[Ee],Be)):Qe.push(Ee+": "+Ke(Be[Ee],Be))));if(typeof q=="function")for(var Me=0;Me<H.length;Me++)ie.call(Be,H[Me])&&Qe.push("["+Ke(H[Me])+"]: "+Ke(Be[H[Me]],Be));return Qe}},79430:function(z,u){var e,o,f;(function(l,c){o=[],e=c,f=typeof e=="function"?e.apply(u,o):e,f!==void 0&&(z.exports=f)})(this,function(){return function(l){function c(C){return C===" "||C==="	"||C===`
`||C==="\f"||C==="\r"}function g(C){var A,L=C.exec(l.substring(P));if(L)return A=L[0],P+=A.length,A}for(var v=l.length,E=/^[ \t\n\r\u000c]+/,y=/^[, \t\n\r\u000c]+/,p=/^[^ \t\n\r\u000c]+/,O=/[,]+$/,S=/^\d+$/,x=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,T,_,d,s,w,P=0,I=[];;){if(g(y),P>=v)return I;T=g(p),_=[],T.slice(-1)===","?(T=T.replace(O,""),N()):D()}function D(){for(g(E),d="",s="in descriptor";;){if(w=l.charAt(P),s==="in descriptor")if(c(w))d&&(_.push(d),d="",s="after descriptor");else if(w===","){P+=1,d&&_.push(d),N();return}else if(w==="(")d=d+w,s="in parens";else if(w===""){d&&_.push(d),N();return}else d=d+w;else if(s==="in parens")if(w===")")d=d+w,s="in descriptor";else if(w===""){_.push(d),N();return}else d=d+w;else if(s==="after descriptor"&&!c(w))if(w===""){N();return}else s="in descriptor",P-=1;P+=1}}function N(){var C=!1,A,L,U,W,G={},$,q,J,R,j;for(W=0;W<_.length;W++)$=_[W],q=$[$.length-1],J=$.substring(0,$.length-1),R=parseInt(J,10),j=parseFloat(J),S.test(J)&&q==="w"?((A||L)&&(C=!0),R===0?C=!0:A=R):x.test(J)&&q==="x"?((A||L||U)&&(C=!0),j<0?C=!0:L=j):S.test(J)&&q==="h"?((U||L)&&(C=!0),R===0?C=!0:U=R):C=!0;C?console&&console.log&&console.log("Invalid srcset descriptor found in '"+l+"' at '"+$+"'."):(G.url=T,A&&(G.w=A),L&&(G.d=L),U&&(G.h=U),I.push(G))}}})},74241:z=>{var u=String,e=function(){return{isColorSupported:!1,reset:u,bold:u,dim:u,italic:u,underline:u,inverse:u,hidden:u,strikethrough:u,black:u,red:u,green:u,yellow:u,blue:u,magenta:u,cyan:u,white:u,gray:u,bgBlack:u,bgRed:u,bgGreen:u,bgYellow:u,bgBlue:u,bgMagenta:u,bgCyan:u,bgWhite:u}};z.exports=e(),z.exports.createColors=e},41353:(z,u,e)=>{"use strict";let o=e(21019);class f extends o{constructor(c){super(c),this.type="atrule"}append(...c){return this.proxyOf.nodes||(this.nodes=[]),super.append(...c)}prepend(...c){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...c)}}z.exports=f,f.default=f,o.registerAtRule(f)},69932:(z,u,e)=>{"use strict";let o=e(65631);class f extends o{constructor(c){super(c),this.type="comment"}}z.exports=f,f.default=f},21019:(z,u,e)=>{"use strict";let{isClean:o,my:f}=e(65513),l=e(94258),c=e(69932),g=e(65631),v,E,y,p;function O(T){return T.map(_=>(_.nodes&&(_.nodes=O(_.nodes)),delete _.source,_))}function S(T){if(T[o]=!1,T.proxyOf.nodes)for(let _ of T.proxyOf.nodes)S(_)}class x extends g{push(_){return _.parent=this,this.proxyOf.nodes.push(_),this}each(_){if(!this.proxyOf.nodes)return;let d=this.getIterator(),s,w;for(;this.indexes[d]<this.proxyOf.nodes.length&&(s=this.indexes[d],w=_(this.proxyOf.nodes[s],s),w!==!1);)this.indexes[d]+=1;return delete this.indexes[d],w}walk(_){return this.each((d,s)=>{let w;try{w=_(d,s)}catch(P){throw d.addToError(P)}return w!==!1&&d.walk&&(w=d.walk(_)),w})}walkDecls(_,d){return d?_ instanceof RegExp?this.walk((s,w)=>{if(s.type==="decl"&&_.test(s.prop))return d(s,w)}):this.walk((s,w)=>{if(s.type==="decl"&&s.prop===_)return d(s,w)}):(d=_,this.walk((s,w)=>{if(s.type==="decl")return d(s,w)}))}walkRules(_,d){return d?_ instanceof RegExp?this.walk((s,w)=>{if(s.type==="rule"&&_.test(s.selector))return d(s,w)}):this.walk((s,w)=>{if(s.type==="rule"&&s.selector===_)return d(s,w)}):(d=_,this.walk((s,w)=>{if(s.type==="rule")return d(s,w)}))}walkAtRules(_,d){return d?_ instanceof RegExp?this.walk((s,w)=>{if(s.type==="atrule"&&_.test(s.name))return d(s,w)}):this.walk((s,w)=>{if(s.type==="atrule"&&s.name===_)return d(s,w)}):(d=_,this.walk((s,w)=>{if(s.type==="atrule")return d(s,w)}))}walkComments(_){return this.walk((d,s)=>{if(d.type==="comment")return _(d,s)})}append(..._){for(let d of _){let s=this.normalize(d,this.last);for(let w of s)this.proxyOf.nodes.push(w)}return this.markDirty(),this}prepend(..._){_=_.reverse();for(let d of _){let s=this.normalize(d,this.first,"prepend").reverse();for(let w of s)this.proxyOf.nodes.unshift(w);for(let w in this.indexes)this.indexes[w]=this.indexes[w]+s.length}return this.markDirty(),this}cleanRaws(_){if(super.cleanRaws(_),this.nodes)for(let d of this.nodes)d.cleanRaws(_)}insertBefore(_,d){let s=this.index(_),w=s===0?"prepend":!1,P=this.normalize(d,this.proxyOf.nodes[s],w).reverse();s=this.index(_);for(let D of P)this.proxyOf.nodes.splice(s,0,D);let I;for(let D in this.indexes)I=this.indexes[D],s<=I&&(this.indexes[D]=I+P.length);return this.markDirty(),this}insertAfter(_,d){let s=this.index(_),w=this.normalize(d,this.proxyOf.nodes[s]).reverse();s=this.index(_);for(let I of w)this.proxyOf.nodes.splice(s+1,0,I);let P;for(let I in this.indexes)P=this.indexes[I],s<P&&(this.indexes[I]=P+w.length);return this.markDirty(),this}removeChild(_){_=this.index(_),this.proxyOf.nodes[_].parent=void 0,this.proxyOf.nodes.splice(_,1);let d;for(let s in this.indexes)d=this.indexes[s],d>=_&&(this.indexes[s]=d-1);return this.markDirty(),this}removeAll(){for(let _ of this.proxyOf.nodes)_.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}replaceValues(_,d,s){return s||(s=d,d={}),this.walkDecls(w=>{d.props&&!d.props.includes(w.prop)||d.fast&&!w.value.includes(d.fast)||(w.value=w.value.replace(_,s))}),this.markDirty(),this}every(_){return this.nodes.every(_)}some(_){return this.nodes.some(_)}index(_){return typeof _=="number"?_:(_.proxyOf&&(_=_.proxyOf),this.proxyOf.nodes.indexOf(_))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}normalize(_,d){if(typeof _=="string")_=O(v(_).nodes);else if(Array.isArray(_)){_=_.slice(0);for(let w of _)w.parent&&w.parent.removeChild(w,"ignore")}else if(_.type==="root"&&this.type!=="document"){_=_.nodes.slice(0);for(let w of _)w.parent&&w.parent.removeChild(w,"ignore")}else if(_.type)_=[_];else if(_.prop){if(typeof _.value=="undefined")throw new Error("Value field is missed in node creation");typeof _.value!="string"&&(_.value=String(_.value)),_=[new l(_)]}else if(_.selector)_=[new E(_)];else if(_.name)_=[new y(_)];else if(_.text)_=[new c(_)];else throw new Error("Unknown node type in node creation");return _.map(w=>(w[f]||x.rebuild(w),w=w.proxyOf,w.parent&&w.parent.removeChild(w),w[o]&&S(w),typeof w.raws.before=="undefined"&&d&&typeof d.raws.before!="undefined"&&(w.raws.before=d.raws.before.replace(/\S/g,"")),w.parent=this.proxyOf,w))}getProxyProcessor(){return{set(_,d,s){return _[d]===s||(_[d]=s,(d==="name"||d==="params"||d==="selector")&&_.markDirty()),!0},get(_,d){return d==="proxyOf"?_:_[d]?d==="each"||typeof d=="string"&&d.startsWith("walk")?(...s)=>_[d](...s.map(w=>typeof w=="function"?(P,I)=>w(P.toProxy(),I):w)):d==="every"||d==="some"?s=>_[d]((w,...P)=>s(w.toProxy(),...P)):d==="root"?()=>_.root().toProxy():d==="nodes"?_.nodes.map(s=>s.toProxy()):d==="first"||d==="last"?_[d].toProxy():_[d]:_[d]}}}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let _=this.lastEach;return this.indexes[_]=0,_}}x.registerParse=T=>{v=T},x.registerRule=T=>{E=T},x.registerAtRule=T=>{y=T},x.registerRoot=T=>{p=T},z.exports=x,x.default=x,x.rebuild=T=>{T.type==="atrule"?Object.setPrototypeOf(T,y.prototype):T.type==="rule"?Object.setPrototypeOf(T,E.prototype):T.type==="decl"?Object.setPrototypeOf(T,l.prototype):T.type==="comment"?Object.setPrototypeOf(T,c.prototype):T.type==="root"&&Object.setPrototypeOf(T,p.prototype),T[f]=!0,T.nodes&&T.nodes.forEach(_=>{x.rebuild(_)})}},42671:(z,u,e)=>{"use strict";let o=e(74241),f=e(22868);class l extends Error{constructor(g,v,E,y,p,O){super(g),this.name="CssSyntaxError",this.reason=g,p&&(this.file=p),y&&(this.source=y),O&&(this.plugin=O),typeof v!="undefined"&&typeof E!="undefined"&&(typeof v=="number"?(this.line=v,this.column=E):(this.line=v.line,this.column=v.column,this.endLine=E.line,this.endColumn=E.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,l)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line!="undefined"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(g){if(!this.source)return"";let v=this.source;g==null&&(g=o.isColorSupported),f&&g&&(v=f(v));let E=v.split(/\r?\n/),y=Math.max(this.line-3,0),p=Math.min(this.line+2,E.length),O=String(p).length,S,x;if(g){let{bold:T,red:_,gray:d}=o.createColors(!0);S=s=>T(_(s)),x=s=>d(s)}else S=x=T=>T;return E.slice(y,p).map((T,_)=>{let d=y+1+_,s=" "+(" "+d).slice(-O)+" | ";if(d===this.line){let w=x(s.replace(/\d/g," "))+T.slice(0,this.column-1).replace(/[^\t]/g," ");return S(">")+x(s)+T+`
 `+w+S("^")}return" "+x(s)+T}).join(`
`)}toString(){let g=this.showSourceCode();return g&&(g=`

`+g+`
`),this.name+": "+this.message+g}}z.exports=l,l.default=l},94258:(z,u,e)=>{"use strict";let o=e(65631);class f extends o{constructor(c){c&&typeof c.value!="undefined"&&typeof c.value!="string"&&(c=Vo(ur({},c),{value:String(c.value)})),super(c),this.type="decl"}get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}}z.exports=f,f.default=f},26461:(z,u,e)=>{"use strict";let o=e(21019),f,l;class c extends o{constructor(v){super(ur({type:"document"},v)),this.nodes||(this.nodes=[])}toResult(v={}){return new f(new l,this,v).stringify()}}c.registerLazyResult=g=>{f=g},c.registerProcessor=g=>{l=g},z.exports=c,c.default=c},50250:(z,u,e)=>{"use strict";let o=e(94258),f=e(47981),l=e(69932),c=e(41353),g=e(5995),v=e(41025),E=e(31675);function y(p,O){if(Array.isArray(p))return p.map(d=>y(d));let T=p,{inputs:S}=T,x=hi(T,["inputs"]);if(S){O=[];for(let d of S){let s=Vo(ur({},d),{__proto__:g.prototype});s.map&&(s.map=Vo(ur({},s.map),{__proto__:f.prototype})),O.push(s)}}if(x.nodes&&(x.nodes=p.nodes.map(d=>y(d,O))),x.source){let _=x.source,{inputId:d}=_,s=hi(_,["inputId"]);x.source=s,d!=null&&(x.source.input=O[d])}if(x.type==="root")return new v(x);if(x.type==="decl")return new o(x);if(x.type==="rule")return new E(x);if(x.type==="comment")return new l(x);if(x.type==="atrule")return new c(x);throw new Error("Unknown node type: "+p.type)}z.exports=y,y.default=y},5995:(z,u,e)=>{"use strict";let{SourceMapConsumer:o,SourceMapGenerator:f}=e(70209),{fileURLToPath:l,pathToFileURL:c}=e(87414),{resolve:g,isAbsolute:v}=e(99830),{nanoid:E}=e(62961),y=e(22868),p=e(42671),O=e(47981),S=Symbol("fromOffsetCache"),x=!!(o&&f),T=!!(g&&v);class _{constructor(s,w={}){if(s===null||typeof s=="undefined"||typeof s=="object"&&!s.toString)throw new Error(`PostCSS received ${s} instead of CSS string`);if(this.css=s.toString(),this.css[0]==="\uFEFF"||this.css[0]==="\uFFFE"?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,w.from&&(!T||/^\w+:\/\//.test(w.from)||v(w.from)?this.file=w.from:this.file=g(w.from)),T&&x){let P=new O(this.css,w);if(P.text){this.map=P;let I=P.consumer().file;!this.file&&I&&(this.file=this.mapResolve(I))}}this.file||(this.id="<input css "+E(6)+">"),this.map&&(this.map.file=this.from)}fromOffset(s){let w,P;if(this[S])P=this[S];else{let D=this.css.split(`
`);P=new Array(D.length);let N=0;for(let C=0,A=D.length;C<A;C++)P[C]=N,N+=D[C].length+1;this[S]=P}w=P[P.length-1];let I=0;if(s>=w)I=P.length-1;else{let D=P.length-2,N;for(;I<D;)if(N=I+(D-I>>1),s<P[N])D=N-1;else if(s>=P[N+1])I=N+1;else{I=N;break}}return{line:I+1,col:s-P[I]+1}}error(s,w,P,I={}){let D,N,C;if(w&&typeof w=="object"){let L=w,U=P;if(typeof L.offset=="number"){let W=this.fromOffset(L.offset);w=W.line,P=W.col}else w=L.line,P=L.column;if(typeof U.offset=="number"){let W=this.fromOffset(U.offset);N=W.line,C=W.col}else N=U.line,C=U.column}else if(!P){let L=this.fromOffset(w);w=L.line,P=L.col}let A=this.origin(w,P,N,C);return A?D=new p(s,A.endLine===void 0?A.line:{line:A.line,column:A.column},A.endLine===void 0?A.column:{line:A.endLine,column:A.endColumn},A.source,A.file,I.plugin):D=new p(s,N===void 0?w:{line:w,column:P},N===void 0?P:{line:N,column:C},this.css,this.file,I.plugin),D.input={line:w,column:P,endLine:N,endColumn:C,source:this.css},this.file&&(c&&(D.input.url=c(this.file).toString()),D.input.file=this.file),D}origin(s,w,P,I){if(!this.map)return!1;let D=this.map.consumer(),N=D.originalPositionFor({line:s,column:w});if(!N.source)return!1;let C;typeof P=="number"&&(C=D.originalPositionFor({line:P,column:I}));let A;v(N.source)?A=c(N.source):A=new URL(N.source,this.map.consumer().sourceRoot||c(this.map.mapFile));let L={url:A.toString(),line:N.line,column:N.column,endLine:C&&C.line,endColumn:C&&C.column};if(A.protocol==="file:")if(l)L.file=l(A);else throw new Error("file: protocol is not available in this PostCSS build");let U=D.sourceContentFor(N.source);return U&&(L.source=U),L}mapResolve(s){return/^\w+:\/\//.test(s)?s:g(this.map.consumer().sourceRoot||this.map.root||".",s)}get from(){return this.file||this.id}toJSON(){let s={};for(let w of["hasBOM","css","file","id"])this[w]!=null&&(s[w]=this[w]);return this.map&&(s.map=ur({},this.map),s.map.consumerCache&&(s.map.consumerCache=void 0)),s}}z.exports=_,_.default=_,y&&y.registerInput&&y.registerInput(_)},21939:(z,u,e)=>{"use strict";let{isClean:o,my:f}=e(65513),l=e(48505),c=e(67088),g=e(21019),v=e(26461),E=e(72448),y=e(83632),p=e(66939),O=e(41025);const S={document:"Document",root:"Root",atrule:"AtRule",rule:"Rule",decl:"Declaration",comment:"Comment"},x={postcssPlugin:!0,prepare:!0,Once:!0,Document:!0,Root:!0,Declaration:!0,Rule:!0,AtRule:!0,Comment:!0,DeclarationExit:!0,RuleExit:!0,AtRuleExit:!0,CommentExit:!0,RootExit:!0,DocumentExit:!0,OnceExit:!0},T={postcssPlugin:!0,prepare:!0,Once:!0},_=0;function d(N){return typeof N=="object"&&typeof N.then=="function"}function s(N){let C=!1,A=S[N.type];return N.type==="decl"?C=N.prop.toLowerCase():N.type==="atrule"&&(C=N.name.toLowerCase()),C&&N.append?[A,A+"-"+C,_,A+"Exit",A+"Exit-"+C]:C?[A,A+"-"+C,A+"Exit",A+"Exit-"+C]:N.append?[A,_,A+"Exit"]:[A,A+"Exit"]}function w(N){let C;return N.type==="document"?C=["Document",_,"DocumentExit"]:N.type==="root"?C=["Root",_,"RootExit"]:C=s(N),{node:N,events:C,eventIndex:0,visitors:[],visitorIndex:0,iterator:0}}function P(N){return N[o]=!1,N.nodes&&N.nodes.forEach(C=>P(C)),N}let I={};class D{constructor(C,A,L){this.stringified=!1,this.processed=!1;let U;if(typeof A=="object"&&A!==null&&(A.type==="root"||A.type==="document"))U=P(A);else if(A instanceof D||A instanceof y)U=P(A.root),A.map&&(typeof L.map=="undefined"&&(L.map={}),L.map.inline||(L.map.inline=!1),L.map.prev=A.map);else{let W=p;L.syntax&&(W=L.syntax.parse),L.parser&&(W=L.parser),W.parse&&(W=W.parse);try{U=W(A,L)}catch(G){this.processed=!0,this.error=G}U&&!U[f]&&g.rebuild(U)}this.result=new y(C,U,L),this.helpers=Vo(ur({},I),{result:this.result,postcss:I}),this.plugins=this.processor.plugins.map(W=>typeof W=="object"&&W.prepare?ur(ur({},W),W.prepare(this.result)):W)}get[Symbol.toStringTag](){return"LazyResult"}get processor(){return this.result.processor}get opts(){return this.result.opts}get css(){return this.stringify().css}get content(){return this.stringify().content}get map(){return this.stringify().map}get root(){return this.sync().root}get messages(){return this.sync().messages}warnings(){return this.sync().warnings()}toString(){return this.css}then(C,A){return this.async().then(C,A)}catch(C){return this.async().catch(C)}finally(C){return this.async().then(C,C)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let C of this.plugins){let A=this.runOnRoot(C);if(d(A))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let C=this.result.root;for(;!C[o];)C[o]=!0,this.walkSync(C);if(this.listeners.OnceExit)if(C.type==="document")for(let A of C.nodes)this.visitSync(this.listeners.OnceExit,A);else this.visitSync(this.listeners.OnceExit,C)}return this.result}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let C=this.result.opts,A=c;C.syntax&&(A=C.syntax.stringify),C.stringifier&&(A=C.stringifier),A.stringify&&(A=A.stringify);let U=new l(A,this.result.root,this.result.opts).generate();return this.result.css=U[0],this.result.map=U[1],this.result}walkSync(C){C[o]=!0;let A=s(C);for(let L of A)if(L===_)C.nodes&&C.each(U=>{U[o]||this.walkSync(U)});else{let U=this.listeners[L];if(U&&this.visitSync(U,C.toProxy()))return}}visitSync(C,A){for(let[L,U]of C){this.result.lastPlugin=L;let W;try{W=U(A,this.helpers)}catch(G){throw this.handleError(G,A.proxyOf)}if(A.type!=="root"&&A.type!=="document"&&!A.parent)return!0;if(d(W))throw this.getAsyncError()}}runOnRoot(C){this.result.lastPlugin=C;try{if(typeof C=="object"&&C.Once){if(this.result.root.type==="document"){let A=this.result.root.nodes.map(L=>C.Once(L,this.helpers));return d(A[0])?Promise.all(A):A}return C.Once(this.result.root,this.helpers)}else if(typeof C=="function")return C(this.result.root,this.result)}catch(A){throw this.handleError(A)}}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(C,A){let L=this.result.lastPlugin;try{A&&A.addToError(C),this.error=C,C.name==="CssSyntaxError"&&!C.plugin?(C.plugin=L.postcssPlugin,C.setMessage()):L.postcssVersion}catch(U){console&&console.error&&console.error(U)}return C}runAsync(){return Mu(this,null,function*(){this.plugin=0;for(let C=0;C<this.plugins.length;C++){let A=this.plugins[C],L=this.runOnRoot(A);if(d(L))try{yield L}catch(U){throw this.handleError(U)}}if(this.prepareVisitors(),this.hasListener){let C=this.result.root;for(;!C[o];){C[o]=!0;let A=[w(C)];for(;A.length>0;){let L=this.visitTick(A);if(d(L))try{yield L}catch(U){let W=A[A.length-1].node;throw this.handleError(U,W)}}}if(this.listeners.OnceExit)for(let[A,L]of this.listeners.OnceExit){this.result.lastPlugin=A;try{if(C.type==="document"){let U=C.nodes.map(W=>L(W,this.helpers));yield Promise.all(U)}else yield L(C,this.helpers)}catch(U){throw this.handleError(U)}}}return this.processed=!0,this.stringify()})}prepareVisitors(){this.listeners={};let C=(A,L,U)=>{this.listeners[L]||(this.listeners[L]=[]),this.listeners[L].push([A,U])};for(let A of this.plugins)if(typeof A=="object")for(let L in A){if(!x[L]&&/^[A-Z]/.test(L))throw new Error(`Unknown event ${L} in ${A.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!T[L])if(typeof A[L]=="object")for(let U in A[L])U==="*"?C(A,L,A[L][U]):C(A,L+"-"+U.toLowerCase(),A[L][U]);else typeof A[L]=="function"&&C(A,L,A[L])}this.hasListener=Object.keys(this.listeners).length>0}visitTick(C){let A=C[C.length-1],{node:L,visitors:U}=A;if(L.type!=="root"&&L.type!=="document"&&!L.parent){C.pop();return}if(U.length>0&&A.visitorIndex<U.length){let[G,$]=U[A.visitorIndex];A.visitorIndex+=1,A.visitorIndex===U.length&&(A.visitors=[],A.visitorIndex=0),this.result.lastPlugin=G;try{return $(L.toProxy(),this.helpers)}catch(q){throw this.handleError(q,L)}}if(A.iterator!==0){let G=A.iterator,$;for(;$=L.nodes[L.indexes[G]];)if(L.indexes[G]+=1,!$[o]){$[o]=!0,C.push(w($));return}A.iterator=0,delete L.indexes[G]}let W=A.events;for(;A.eventIndex<W.length;){let G=W[A.eventIndex];if(A.eventIndex+=1,G===_){L.nodes&&L.nodes.length&&(L[o]=!0,A.iterator=L.getIterator());return}else if(this.listeners[G]){A.visitors=this.listeners[G];return}}C.pop()}}D.registerPostcss=N=>{I=N},z.exports=D,D.default=D,O.registerLazyResult(D),v.registerLazyResult(D)},54715:z=>{"use strict";let u={split(e,o,f){let l=[],c="",g=!1,v=0,E=!1,y="",p=!1;for(let O of e)p?p=!1:O==="\\"?p=!0:E?O===y&&(E=!1):O==='"'||O==="'"?(E=!0,y=O):O==="("?v+=1:O===")"?v>0&&(v-=1):v===0&&o.includes(O)&&(g=!0),g?(c!==""&&l.push(c.trim()),c="",g=!1):c+=O;return(f||c!=="")&&l.push(c.trim()),l},space(e){let o=[" ",`
`,"	"];return u.split(e,o)},comma(e){return u.split(e,[","],!0)}};z.exports=u,u.default=u},48505:(z,u,e)=>{"use strict";let{SourceMapConsumer:o,SourceMapGenerator:f}=e(70209),{dirname:l,resolve:c,relative:g,sep:v}=e(99830),{pathToFileURL:E}=e(87414),y=e(5995),p=!!(o&&f),O=!!(l&&c&&g&&v);class S{constructor(T,_,d,s){this.stringify=T,this.mapOpts=d.map||{},this.root=_,this.opts=d,this.css=s,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute}isMap(){return typeof this.opts.map!="undefined"?!!this.opts.map:this.previous().length>0}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(T=>{if(T.source&&T.source.input.map){let _=T.source.input.map;this.previousMaps.includes(_)||this.previousMaps.push(_)}});else{let T=new y(this.css,this.opts);T.map&&this.previousMaps.push(T.map)}return this.previousMaps}isInline(){if(typeof this.mapOpts.inline!="undefined")return this.mapOpts.inline;let T=this.mapOpts.annotation;return typeof T!="undefined"&&T!==!0?!1:this.previous().length?this.previous().some(_=>_.inline):!0}isSourcesContent(){return typeof this.mapOpts.sourcesContent!="undefined"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(T=>T.withContent()):!0}clearAnnotation(){if(this.mapOpts.annotation!==!1)if(this.root){let T;for(let _=this.root.nodes.length-1;_>=0;_--)T=this.root.nodes[_],T.type==="comment"&&T.text.indexOf("# sourceMappingURL=")===0&&this.root.removeChild(_)}else this.css&&(this.css=this.css.replace(/(\n)?\/\*#[\S\s]*?\*\/$/gm,""))}setSourcesContent(){let T={};if(this.root)this.root.walk(_=>{if(_.source){let d=_.source.input.from;if(d&&!T[d]){T[d]=!0;let s=this.usesFileUrls?this.toFileUrl(d):this.toUrl(this.path(d));this.map.setSourceContent(s,_.source.input.css)}}});else if(this.css){let _=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(_,this.css)}}applyPrevMaps(){for(let T of this.previous()){let _=this.toUrl(this.path(T.file)),d=T.root||l(T.file),s;this.mapOpts.sourcesContent===!1?(s=new o(T.text),s.sourcesContent&&(s.sourcesContent=s.sourcesContent.map(()=>null))):s=T.consumer(),this.map.applySourceMap(s,_,this.toUrl(this.path(d)))}}isAnnotation(){return this.isInline()?!0:typeof this.mapOpts.annotation!="undefined"?this.mapOpts.annotation:this.previous().length?this.previous().some(T=>T.annotation):!0}toBase64(T){return Buffer?Buffer.from(T).toString("base64"):window.btoa(unescape(encodeURIComponent(T)))}addAnnotation(){let T;this.isInline()?T="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?T=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?T=this.mapOpts.annotation(this.opts.to,this.root):T=this.outputFile()+".map";let _=`
`;this.css.includes(`\r
`)&&(_=`\r
`),this.css+=_+"/*# sourceMappingURL="+T+" */"}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let T=this.previous()[0].consumer();T.file=this.outputFile(),this.map=f.fromSourceMap(T)}else this.map=new f({file:this.outputFile()}),this.map.addMapping({source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>",generated:{line:1,column:0},original:{line:1,column:0}});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}path(T){if(T.indexOf("<")===0||/^\w+:\/\//.test(T)||this.mapOpts.absolute)return T;let _=this.opts.to?l(this.opts.to):".";return typeof this.mapOpts.annotation=="string"&&(_=l(c(_,this.mapOpts.annotation))),T=g(_,T),T}toUrl(T){return v==="\\"&&(T=T.replace(/\\/g,"/")),encodeURI(T).replace(/[#?]/g,encodeURIComponent)}toFileUrl(T){if(E)return E(T).toString();throw new Error("`map.absolute` option is not available in this PostCSS build")}sourcePath(T){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(T.source.input.from):this.toUrl(this.path(T.source.input.from))}generateString(){this.css="",this.map=new f({file:this.outputFile()});let T=1,_=1,d="<no source>",s={source:"",generated:{line:0,column:0},original:{line:0,column:0}},w,P;this.stringify(this.root,(I,D,N)=>{if(this.css+=I,D&&N!=="end"&&(s.generated.line=T,s.generated.column=_-1,D.source&&D.source.start?(s.source=this.sourcePath(D),s.original.line=D.source.start.line,s.original.column=D.source.start.column-1,this.map.addMapping(s)):(s.source=d,s.original.line=1,s.original.column=0,this.map.addMapping(s))),w=I.match(/\n/g),w?(T+=w.length,P=I.lastIndexOf(`
`),_=I.length-P):_+=I.length,D&&N!=="start"){let C=D.parent||{raws:{}};(!(D.type==="decl"||D.type==="atrule"&&!D.nodes)||D!==C.last||C.raws.semicolon)&&(D.source&&D.source.end?(s.source=this.sourcePath(D),s.original.line=D.source.end.line,s.original.column=D.source.end.column-1,s.generated.line=T,s.generated.column=_-2,this.map.addMapping(s)):(s.source=d,s.original.line=1,s.original.column=0,s.generated.line=T,s.generated.column=_-1,this.map.addMapping(s)))}})}generate(){if(this.clearAnnotation(),O&&p&&this.isMap())return this.generateMap();{let T="";return this.stringify(this.root,_=>{T+=_}),[T]}}}z.exports=S},47647:(z,u,e)=>{"use strict";let o=e(48505),f=e(67088),l=e(72448),c=e(66939);const g=e(83632);class v{constructor(y,p,O){p=p.toString(),this.stringified=!1,this._processor=y,this._css=p,this._opts=O,this._map=void 0;let S,x=f;this.result=new g(this._processor,S,this._opts),this.result.css=p;let T=this;Object.defineProperty(this.result,"root",{get(){return T.root}});let _=new o(x,S,this._opts,p);if(_.isMap()){let[d,s]=_.generate();d&&(this.result.css=d),s&&(this.result.map=s)}}get[Symbol.toStringTag](){return"NoWorkResult"}get processor(){return this.result.processor}get opts(){return this.result.opts}get css(){return this.result.css}get content(){return this.result.css}get map(){return this.result.map}get root(){if(this._root)return this._root;let y,p=c;try{y=p(this._css,this._opts)}catch(O){this.error=O}if(this.error)throw this.error;return this._root=y,y}get messages(){return[]}warnings(){return[]}toString(){return this._css}then(y,p){return this.async().then(y,p)}catch(y){return this.async().catch(y)}finally(y){return this.async().then(y,y)}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}sync(){if(this.error)throw this.error;return this.result}}z.exports=v,v.default=v},65631:(z,u,e)=>{"use strict";let{isClean:o,my:f}=e(65513),l=e(42671),c=e(1062),g=e(67088);function v(y,p){let O=new y.constructor;for(let S in y){if(!Object.prototype.hasOwnProperty.call(y,S)||S==="proxyCache")continue;let x=y[S],T=typeof x;S==="parent"&&T==="object"?p&&(O[S]=p):S==="source"?O[S]=x:Array.isArray(x)?O[S]=x.map(_=>v(_,O)):(T==="object"&&x!==null&&(x=v(x)),O[S]=x)}return O}class E{constructor(p={}){this.raws={},this[o]=!1,this[f]=!0;for(let O in p)if(O==="nodes"){this.nodes=[];for(let S of p[O])typeof S.clone=="function"?this.append(S.clone()):this.append(S)}else this[O]=p[O]}error(p,O={}){if(this.source){let{start:S,end:x}=this.rangeBy(O);return this.source.input.error(p,{line:S.line,column:S.column},{line:x.line,column:x.column},O)}return new l(p)}warn(p,O,S){let x={node:this};for(let T in S)x[T]=S[T];return p.warn(O,x)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}toString(p=g){p.stringify&&(p=p.stringify);let O="";return p(this,S=>{O+=S}),O}assign(p={}){for(let O in p)this[O]=p[O];return this}clone(p={}){let O=v(this);for(let S in p)O[S]=p[S];return O}cloneBefore(p={}){let O=this.clone(p);return this.parent.insertBefore(this,O),O}cloneAfter(p={}){let O=this.clone(p);return this.parent.insertAfter(this,O),O}replaceWith(...p){if(this.parent){let O=this,S=!1;for(let x of p)x===this?S=!0:S?(this.parent.insertAfter(O,x),O=x):this.parent.insertBefore(O,x);S||this.remove()}return this}next(){if(!this.parent)return;let p=this.parent.index(this);return this.parent.nodes[p+1]}prev(){if(!this.parent)return;let p=this.parent.index(this);return this.parent.nodes[p-1]}before(p){return this.parent.insertBefore(this,p),this}after(p){return this.parent.insertAfter(this,p),this}root(){let p=this;for(;p.parent&&p.parent.type!=="document";)p=p.parent;return p}raw(p,O){return new c().raw(this,p,O)}cleanRaws(p){delete this.raws.before,delete this.raws.after,p||delete this.raws.between}toJSON(p,O){let S={},x=O==null;O=O||new Map;let T=0;for(let _ in this){if(!Object.prototype.hasOwnProperty.call(this,_)||_==="parent"||_==="proxyCache")continue;let d=this[_];if(Array.isArray(d))S[_]=d.map(s=>typeof s=="object"&&s.toJSON?s.toJSON(null,O):s);else if(typeof d=="object"&&d.toJSON)S[_]=d.toJSON(null,O);else if(_==="source"){let s=O.get(d.input);s==null&&(s=T,O.set(d.input,T),T++),S[_]={inputId:s,start:d.start,end:d.end}}else S[_]=d}return x&&(S.inputs=[...O.keys()].map(_=>_.toJSON())),S}positionInside(p){let O=this.toString(),S=this.source.start.column,x=this.source.start.line;for(let T=0;T<p;T++)O[T]===`
`?(S=1,x+=1):S+=1;return{line:x,column:S}}positionBy(p){let O=this.source.start;if(p.index)O=this.positionInside(p.index);else if(p.word){let S=this.toString().indexOf(p.word);S!==-1&&(O=this.positionInside(S))}return O}rangeBy(p){let O={line:this.source.start.line,column:this.source.start.column},S=this.source.end?{line:this.source.end.line,column:this.source.end.column+1}:{line:O.line,column:O.column+1};if(p.word){let x=this.toString().indexOf(p.word);x!==-1&&(O=this.positionInside(x),S=this.positionInside(x+p.word.length))}else p.start?O={line:p.start.line,column:p.start.column}:p.index&&(O=this.positionInside(p.index)),p.end?S={line:p.end.line,column:p.end.column}:p.endIndex?S=this.positionInside(p.endIndex):p.index&&(S=this.positionInside(p.index+1));return(S.line<O.line||S.line===O.line&&S.column<=O.column)&&(S={line:O.line,column:O.column+1}),{start:O,end:S}}getProxyProcessor(){return{set(p,O,S){return p[O]===S||(p[O]=S,(O==="prop"||O==="value"||O==="name"||O==="params"||O==="important"||O==="text")&&p.markDirty()),!0},get(p,O){return O==="proxyOf"?p:O==="root"?()=>p.root().toProxy():p[O]}}}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}addToError(p){if(p.postcssNode=this,p.stack&&this.source&&/\n\s{4}at /.test(p.stack)){let O=this.source;p.stack=p.stack.replace(/\n\s{4}at /,`$&${O.input.from}:${O.start.line}:${O.start.column}$&`)}return p}markDirty(){if(this[o]){this[o]=!1;let p=this;for(;p=p.parent;)p[o]=!1}}get proxyOf(){return this}}z.exports=E,E.default=E},66939:(z,u,e)=>{"use strict";let o=e(21019),f=e(68867),l=e(5995);function c(g,v){let E=new l(g,v),y=new f(E);try{y.parse()}catch(p){throw p}return y.root}z.exports=c,c.default=c,o.registerParse(c)},68867:(z,u,e)=>{"use strict";let o=e(94258),f=e(83852),l=e(69932),c=e(41353),g=e(41025),v=e(31675);const E={empty:!0,space:!0};function y(O){for(let S=O.length-1;S>=0;S--){let x=O[S],T=x[3]||x[2];if(T)return T}}class p{constructor(S){this.input=S,this.root=new g,this.current=this.root,this.spaces="",this.semicolon=!1,this.customProperty=!1,this.createTokenizer(),this.root.source={input:S,start:{offset:0,line:1,column:1}}}createTokenizer(){this.tokenizer=f(this.input)}parse(){let S;for(;!this.tokenizer.endOfFile();)switch(S=this.tokenizer.nextToken(),S[0]){case"space":this.spaces+=S[1];break;case";":this.freeSemicolon(S);break;case"}":this.end(S);break;case"comment":this.comment(S);break;case"at-word":this.atrule(S);break;case"{":this.emptyRule(S);break;default:this.other(S);break}this.endFile()}comment(S){let x=new l;this.init(x,S[2]),x.source.end=this.getPosition(S[3]||S[2]);let T=S[1].slice(2,-2);if(/^\s*$/.test(T))x.text="",x.raws.left=T,x.raws.right="";else{let _=T.match(/^(\s*)([^]*\S)(\s*)$/);x.text=_[2],x.raws.left=_[1],x.raws.right=_[3]}}emptyRule(S){let x=new v;this.init(x,S[2]),x.selector="",x.raws.between="",this.current=x}other(S){let x=!1,T=null,_=!1,d=null,s=[],w=S[1].startsWith("--"),P=[],I=S;for(;I;){if(T=I[0],P.push(I),T==="("||T==="[")d||(d=I),s.push(T==="("?")":"]");else if(w&&_&&T==="{")d||(d=I),s.push("}");else if(s.length===0)if(T===";")if(_){this.decl(P,w);return}else break;else if(T==="{"){this.rule(P);return}else if(T==="}"){this.tokenizer.back(P.pop()),x=!0;break}else T===":"&&(_=!0);else T===s[s.length-1]&&(s.pop(),s.length===0&&(d=null));I=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(x=!0),s.length>0&&this.unclosedBracket(d),x&&_){if(!w)for(;P.length&&(I=P[P.length-1][0],!(I!=="space"&&I!=="comment"));)this.tokenizer.back(P.pop());this.decl(P,w)}else this.unknownWord(P)}rule(S){S.pop();let x=new v;this.init(x,S[0][2]),x.raws.between=this.spacesAndCommentsFromEnd(S),this.raw(x,"selector",S),this.current=x}decl(S,x){let T=new o;this.init(T,S[0][2]);let _=S[S.length-1];for(_[0]===";"&&(this.semicolon=!0,S.pop()),T.source.end=this.getPosition(_[3]||_[2]||y(S));S[0][0]!=="word";)S.length===1&&this.unknownWord(S),T.raws.before+=S.shift()[1];for(T.source.start=this.getPosition(S[0][2]),T.prop="";S.length;){let I=S[0][0];if(I===":"||I==="space"||I==="comment")break;T.prop+=S.shift()[1]}T.raws.between="";let d;for(;S.length;)if(d=S.shift(),d[0]===":"){T.raws.between+=d[1];break}else d[0]==="word"&&/\w/.test(d[1])&&this.unknownWord([d]),T.raws.between+=d[1];(T.prop[0]==="_"||T.prop[0]==="*")&&(T.raws.before+=T.prop[0],T.prop=T.prop.slice(1));let s=[],w;for(;S.length&&(w=S[0][0],!(w!=="space"&&w!=="comment"));)s.push(S.shift());this.precheckMissedSemicolon(S);for(let I=S.length-1;I>=0;I--){if(d=S[I],d[1].toLowerCase()==="!important"){T.important=!0;let D=this.stringFrom(S,I);D=this.spacesFromEnd(S)+D,D!==" !important"&&(T.raws.important=D);break}else if(d[1].toLowerCase()==="important"){let D=S.slice(0),N="";for(let C=I;C>0;C--){let A=D[C][0];if(N.trim().indexOf("!")===0&&A!=="space")break;N=D.pop()[1]+N}N.trim().indexOf("!")===0&&(T.important=!0,T.raws.important=N,S=D)}if(d[0]!=="space"&&d[0]!=="comment")break}S.some(I=>I[0]!=="space"&&I[0]!=="comment")&&(T.raws.between+=s.map(I=>I[1]).join(""),s=[]),this.raw(T,"value",s.concat(S),x),T.value.includes(":")&&!x&&this.checkMissedSemicolon(S)}atrule(S){let x=new c;x.name=S[1].slice(1),x.name===""&&this.unnamedAtrule(x,S),this.init(x,S[2]);let T,_,d,s=!1,w=!1,P=[],I=[];for(;!this.tokenizer.endOfFile();){if(S=this.tokenizer.nextToken(),T=S[0],T==="("||T==="["?I.push(T==="("?")":"]"):T==="{"&&I.length>0?I.push("}"):T===I[I.length-1]&&I.pop(),I.length===0)if(T===";"){x.source.end=this.getPosition(S[2]),this.semicolon=!0;break}else if(T==="{"){w=!0;break}else if(T==="}"){if(P.length>0){for(d=P.length-1,_=P[d];_&&_[0]==="space";)_=P[--d];_&&(x.source.end=this.getPosition(_[3]||_[2]))}this.end(S);break}else P.push(S);else P.push(S);if(this.tokenizer.endOfFile()){s=!0;break}}x.raws.between=this.spacesAndCommentsFromEnd(P),P.length?(x.raws.afterName=this.spacesAndCommentsFromStart(P),this.raw(x,"params",P),s&&(S=P[P.length-1],x.source.end=this.getPosition(S[3]||S[2]),this.spaces=x.raws.between,x.raws.between="")):(x.raws.afterName="",x.params=""),w&&(x.nodes=[],this.current=x)}end(S){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(S[2]),this.current=this.current.parent):this.unexpectedClose(S)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces}freeSemicolon(S){if(this.spaces+=S[1],this.current.nodes){let x=this.current.nodes[this.current.nodes.length-1];x&&x.type==="rule"&&!x.raws.ownSemicolon&&(x.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(S){let x=this.input.fromOffset(S);return{offset:S,line:x.line,column:x.col}}init(S,x){this.current.push(S),S.source={start:this.getPosition(x),input:this.input},S.raws.before=this.spaces,this.spaces="",S.type!=="comment"&&(this.semicolon=!1)}raw(S,x,T,_){let d,s,w=T.length,P="",I=!0,D,N;for(let C=0;C<w;C+=1)d=T[C],s=d[0],s==="space"&&C===w-1&&!_?I=!1:s==="comment"?(N=T[C-1]?T[C-1][0]:"empty",D=T[C+1]?T[C+1][0]:"empty",!E[N]&&!E[D]?P.slice(-1)===","?I=!1:P+=d[1]:I=!1):P+=d[1];if(!I){let C=T.reduce((A,L)=>A+L[1],"");S.raws[x]={value:P,raw:C}}S[x]=P}spacesAndCommentsFromEnd(S){let x,T="";for(;S.length&&(x=S[S.length-1][0],!(x!=="space"&&x!=="comment"));)T=S.pop()[1]+T;return T}spacesAndCommentsFromStart(S){let x,T="";for(;S.length&&(x=S[0][0],!(x!=="space"&&x!=="comment"));)T+=S.shift()[1];return T}spacesFromEnd(S){let x,T="";for(;S.length&&(x=S[S.length-1][0],x==="space");)T=S.pop()[1]+T;return T}stringFrom(S,x){let T="";for(let _=x;_<S.length;_++)T+=S[_][1];return S.splice(x,S.length-x),T}colon(S){let x=0,T,_,d;for(let[s,w]of S.entries()){if(T=w,_=T[0],_==="("&&(x+=1),_===")"&&(x-=1),x===0&&_===":")if(!d)this.doubleColon(T);else{if(d[0]==="word"&&d[1]==="progid")continue;return s}d=T}return!1}unclosedBracket(S){throw this.input.error("Unclosed bracket",{offset:S[2]},{offset:S[2]+1})}unknownWord(S){throw this.input.error("Unknown word",{offset:S[0][2]},{offset:S[0][2]+S[0][1].length})}unexpectedClose(S){throw this.input.error("Unexpected }",{offset:S[2]},{offset:S[2]+1})}unclosedBlock(){let S=this.current.source.start;throw this.input.error("Unclosed block",S.line,S.column)}doubleColon(S){throw this.input.error("Double colon",{offset:S[2]},{offset:S[2]+S[1].length})}unnamedAtrule(S,x){throw this.input.error("At-rule without name",{offset:x[2]},{offset:x[2]+x[1].length})}precheckMissedSemicolon(){}checkMissedSemicolon(S){let x=this.colon(S);if(x===!1)return;let T=0,_;for(let d=x-1;d>=0&&(_=S[d],!(_[0]!=="space"&&(T+=1,T===2)));d--);throw this.input.error("Missed semicolon",_[0]==="word"?_[3]+1:_[2])}}z.exports=p},50020:(z,u,e)=>{"use strict";let o=e(42671),f=e(94258),l=e(21939),c=e(21019),g=e(71723),v=e(67088),E=e(50250),y=e(26461),p=e(11728),O=e(69932),S=e(41353),x=e(83632),T=e(5995),_=e(66939),d=e(54715),s=e(31675),w=e(41025),P=e(65631);function I(...D){return D.length===1&&Array.isArray(D[0])&&(D=D[0]),new g(D)}I.plugin=function(N,C){let A=!1;function L(...W){console&&console.warn&&!A&&(A=!0,console.warn(N+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(N+`: \u91CC\u9762 postcss.plugin \u88AB\u5F03\u7528. \u8FC1\u79FB\u6307\u5357:
https://www.w3ctech.com/topic/2226`));let G=C(...W);return G.postcssPlugin=N,G.postcssVersion=new g().version,G}let U;return Object.defineProperty(L,"postcss",{get(){return U||(U=L()),U}}),L.process=function(W,G,$){return I([L($)]).process(W,G)},L},I.stringify=v,I.parse=_,I.fromJSON=E,I.list=d,I.comment=D=>new O(D),I.atRule=D=>new S(D),I.decl=D=>new f(D),I.rule=D=>new s(D),I.root=D=>new w(D),I.document=D=>new y(D),I.CssSyntaxError=o,I.Declaration=f,I.Container=c,I.Processor=g,I.Document=y,I.Comment=O,I.Warning=p,I.AtRule=S,I.Result=x,I.Input=T,I.Rule=s,I.Root=w,I.Node=P,l.registerPostcss(I),z.exports=I,I.default=I},47981:(z,u,e)=>{"use strict";let{SourceMapConsumer:o,SourceMapGenerator:f}=e(70209),{existsSync:l,readFileSync:c}=e(14777),{dirname:g,join:v}=e(99830);function E(p){return Buffer?Buffer.from(p,"base64").toString():window.atob(p)}class y{constructor(O,S){if(S.map===!1)return;this.loadAnnotation(O),this.inline=this.startWith(this.annotation,"data:");let x=S.map?S.map.prev:void 0,T=this.loadMap(S.from,x);!this.mapFile&&S.from&&(this.mapFile=S.from),this.mapFile&&(this.root=g(this.mapFile)),T&&(this.text=T)}consumer(){return this.consumerCache||(this.consumerCache=new o(this.text)),this.consumerCache}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}startWith(O,S){return O?O.substr(0,S.length)===S:!1}getAnnotationURL(O){return O.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}loadAnnotation(O){let S=O.match(/\/\*\s*# sourceMappingURL=/gm);if(!S)return;let x=O.lastIndexOf(S.pop()),T=O.indexOf("*/",x);x>-1&&T>-1&&(this.annotation=this.getAnnotationURL(O.substring(x,T)))}decodeInline(O){let S=/^data:application\/json;charset=utf-?8;base64,/,x=/^data:application\/json;base64,/,T=/^data:application\/json;charset=utf-?8,/,_=/^data:application\/json,/;if(T.test(O)||_.test(O))return decodeURIComponent(O.substr(RegExp.lastMatch.length));if(S.test(O)||x.test(O))return E(O.substr(RegExp.lastMatch.length));let d=O.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+d)}loadFile(O){if(this.root=g(O),l(O))return this.mapFile=O,c(O,"utf-8").toString().trim()}loadMap(O,S){if(S===!1)return!1;if(S){if(typeof S=="string")return S;if(typeof S=="function"){let x=S(O);if(x){let T=this.loadFile(x);if(!T)throw new Error("Unable to load previous source map: "+x.toString());return T}}else{if(S instanceof o)return f.fromSourceMap(S).toString();if(S instanceof f)return S.toString();if(this.isMap(S))return JSON.stringify(S);throw new Error("Unsupported previous source map format: "+S.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let x=this.annotation;return O&&(x=v(g(O),x)),this.loadFile(x)}}}isMap(O){return typeof O!="object"?!1:typeof O.mappings=="string"||typeof O._mappings=="string"||Array.isArray(O.sections)}}z.exports=y,y.default=y},71723:(z,u,e)=>{"use strict";let o=e(47647),f=e(21939),l=e(26461),c=e(41025);class g{constructor(E=[]){this.version="8.4.24",this.plugins=this.normalize(E)}use(E){return this.plugins=this.plugins.concat(this.normalize([E])),this}process(E,y={}){return this.plugins.length===0&&typeof y.parser=="undefined"&&typeof y.stringifier=="undefined"&&typeof y.syntax=="undefined"?new o(this,E,y):new f(this,E,y)}normalize(E){let y=[];for(let p of E)if(p.postcss===!0?p=p():p.postcss&&(p=p.postcss),typeof p=="object"&&Array.isArray(p.plugins))y=y.concat(p.plugins);else if(typeof p=="object"&&p.postcssPlugin)y.push(p);else if(typeof p=="function")y.push(p);else if(!(typeof p=="object"&&(p.parse||p.stringify)))throw new Error(p+" is not a PostCSS plugin");return y}}z.exports=g,g.default=g,c.registerProcessor(g),l.registerProcessor(g)},83632:(z,u,e)=>{"use strict";let o=e(11728);class f{constructor(c,g,v){this.processor=c,this.messages=[],this.root=g,this.opts=v,this.css=void 0,this.map=void 0}toString(){return this.css}warn(c,g={}){g.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(g.plugin=this.lastPlugin.postcssPlugin);let v=new o(c,g);return this.messages.push(v),v}warnings(){return this.messages.filter(c=>c.type==="warning")}get content(){return this.css}}z.exports=f,f.default=f},41025:(z,u,e)=>{"use strict";let o=e(21019),f,l;class c extends o{constructor(v){super(v),this.type="root",this.nodes||(this.nodes=[])}removeChild(v,E){let y=this.index(v);return!E&&y===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[y].raws.before),super.removeChild(v)}normalize(v,E,y){let p=super.normalize(v);if(E){if(y==="prepend")this.nodes.length>1?E.raws.before=this.nodes[1].raws.before:delete E.raws.before;else if(this.first!==E)for(let O of p)O.raws.before=E.raws.before}return p}toResult(v={}){return new f(new l,this,v).stringify()}}c.registerLazyResult=g=>{f=g},c.registerProcessor=g=>{l=g},z.exports=c,c.default=c,o.registerRoot(c)},31675:(z,u,e)=>{"use strict";let o=e(21019),f=e(54715);class l extends o{constructor(g){super(g),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return f.comma(this.selector)}set selectors(g){let v=this.selector?this.selector.match(/,\s*/):null,E=v?v[0]:","+this.raw("between","beforeOpen");this.selector=g.join(E)}}z.exports=l,l.default=l,o.registerRule(l)},1062:z=>{"use strict";const u={colon:": ",indent:"    ",beforeDecl:`
`,beforeRule:`
`,beforeOpen:" ",beforeClose:`
`,beforeComment:`
`,after:`
`,emptyBody:"",commentLeft:" ",commentRight:" ",semicolon:!1};function e(f){return f[0].toUpperCase()+f.slice(1)}class o{constructor(l){this.builder=l}stringify(l,c){if(!this[l.type])throw new Error("Unknown AST node type "+l.type+". Maybe you need to change PostCSS stringifier.");this[l.type](l,c)}document(l){this.body(l)}root(l){this.body(l),l.raws.after&&this.builder(l.raws.after)}comment(l){let c=this.raw(l,"left","commentLeft"),g=this.raw(l,"right","commentRight");this.builder("/*"+c+l.text+g+"*/",l)}decl(l,c){let g=this.raw(l,"between","colon"),v=l.prop+g+this.rawValue(l,"value");l.important&&(v+=l.raws.important||" !important"),c&&(v+=";"),this.builder(v,l)}rule(l){this.block(l,this.rawValue(l,"selector")),l.raws.ownSemicolon&&this.builder(l.raws.ownSemicolon,l,"end")}atrule(l,c){let g="@"+l.name,v=l.params?this.rawValue(l,"params"):"";if(typeof l.raws.afterName!="undefined"?g+=l.raws.afterName:v&&(g+=" "),l.nodes)this.block(l,g+v);else{let E=(l.raws.between||"")+(c?";":"");this.builder(g+v+E,l)}}body(l){let c=l.nodes.length-1;for(;c>0&&l.nodes[c].type==="comment";)c-=1;let g=this.raw(l,"semicolon");for(let v=0;v<l.nodes.length;v++){let E=l.nodes[v],y=this.raw(E,"before");y&&this.builder(y),this.stringify(E,c!==v||g)}}block(l,c){let g=this.raw(l,"between","beforeOpen");this.builder(c+g+"{",l,"start");let v;l.nodes&&l.nodes.length?(this.body(l),v=this.raw(l,"after")):v=this.raw(l,"after","emptyBody"),v&&this.builder(v),this.builder("}",l,"end")}raw(l,c,g){let v;if(g||(g=c),c&&(v=l.raws[c],typeof v!="undefined"))return v;let E=l.parent;if(g==="before"&&(!E||E.type==="root"&&E.first===l||E&&E.type==="document"))return"";if(!E)return u[g];let y=l.root();if(y.rawCache||(y.rawCache={}),typeof y.rawCache[g]!="undefined")return y.rawCache[g];if(g==="before"||g==="after")return this.beforeAfter(l,g);{let p="raw"+e(g);this[p]?v=this[p](y,l):y.walk(O=>{if(v=O.raws[c],typeof v!="undefined")return!1})}return typeof v=="undefined"&&(v=u[g]),y.rawCache[g]=v,v}rawSemicolon(l){let c;return l.walk(g=>{if(g.nodes&&g.nodes.length&&g.last.type==="decl"&&(c=g.raws.semicolon,typeof c!="undefined"))return!1}),c}rawEmptyBody(l){let c;return l.walk(g=>{if(g.nodes&&g.nodes.length===0&&(c=g.raws.after,typeof c!="undefined"))return!1}),c}rawIndent(l){if(l.raws.indent)return l.raws.indent;let c;return l.walk(g=>{let v=g.parent;if(v&&v!==l&&v.parent&&v.parent===l&&typeof g.raws.before!="undefined"){let E=g.raws.before.split(`
`);return c=E[E.length-1],c=c.replace(/\S/g,""),!1}}),c}rawBeforeComment(l,c){let g;return l.walkComments(v=>{if(typeof v.raws.before!="undefined")return g=v.raws.before,g.includes(`
`)&&(g=g.replace(/[^\n]+$/,"")),!1}),typeof g=="undefined"?g=this.raw(c,null,"beforeDecl"):g&&(g=g.replace(/\S/g,"")),g}rawBeforeDecl(l,c){let g;return l.walkDecls(v=>{if(typeof v.raws.before!="undefined")return g=v.raws.before,g.includes(`
`)&&(g=g.replace(/[^\n]+$/,"")),!1}),typeof g=="undefined"?g=this.raw(c,null,"beforeRule"):g&&(g=g.replace(/\S/g,"")),g}rawBeforeRule(l){let c;return l.walk(g=>{if(g.nodes&&(g.parent!==l||l.first!==g)&&typeof g.raws.before!="undefined")return c=g.raws.before,c.includes(`
`)&&(c=c.replace(/[^\n]+$/,"")),!1}),c&&(c=c.replace(/\S/g,"")),c}rawBeforeClose(l){let c;return l.walk(g=>{if(g.nodes&&g.nodes.length>0&&typeof g.raws.after!="undefined")return c=g.raws.after,c.includes(`
`)&&(c=c.replace(/[^\n]+$/,"")),!1}),c&&(c=c.replace(/\S/g,"")),c}rawBeforeOpen(l){let c;return l.walk(g=>{if(g.type!=="decl"&&(c=g.raws.between,typeof c!="undefined"))return!1}),c}rawColon(l){let c;return l.walkDecls(g=>{if(typeof g.raws.between!="undefined")return c=g.raws.between.replace(/[^\s:]/g,""),!1}),c}beforeAfter(l,c){let g;l.type==="decl"?g=this.raw(l,null,"beforeDecl"):l.type==="comment"?g=this.raw(l,null,"beforeComment"):c==="before"?g=this.raw(l,null,"beforeRule"):g=this.raw(l,null,"beforeClose");let v=l.parent,E=0;for(;v&&v.type!=="root";)E+=1,v=v.parent;if(g.includes(`
`)){let y=this.raw(l,null,"indent");if(y.length)for(let p=0;p<E;p++)g+=y}return g}rawValue(l,c){let g=l[c],v=l.raws[c];return v&&v.value===g?v.raw:g}}z.exports=o,o.default=o},67088:(z,u,e)=>{"use strict";let o=e(1062);function f(l,c){new o(c).stringify(l)}z.exports=f,f.default=f},65513:z=>{"use strict";z.exports.isClean=Symbol("isClean"),z.exports.my=Symbol("my")},83852:z=>{"use strict";const u="'".charCodeAt(0),e='"'.charCodeAt(0),o="\\".charCodeAt(0),f="/".charCodeAt(0),l=`
`.charCodeAt(0),c=" ".charCodeAt(0),g="\f".charCodeAt(0),v="	".charCodeAt(0),E="\r".charCodeAt(0),y="[".charCodeAt(0),p="]".charCodeAt(0),O="(".charCodeAt(0),S=")".charCodeAt(0),x="{".charCodeAt(0),T="}".charCodeAt(0),_=";".charCodeAt(0),d="*".charCodeAt(0),s=":".charCodeAt(0),w="@".charCodeAt(0),P=/[\t\n\f\r "#'()/;[\\\]{}]/g,I=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,D=/.[\n"'(/\\]/,N=/[\da-f]/i;z.exports=function(A,L={}){let U=A.css.valueOf(),W=L.ignoreErrors,G,$,q,J,R,j,ie,le,ye,ue,oe=U.length,te=0,Z=[],re=[];function ae(){return te}function se(me){throw A.error("Unclosed "+me,te)}function be(){return re.length===0&&te>=oe}function _e(me){if(re.length)return re.pop();if(te>=oe)return;let Te=me?me.ignoreUnclosed:!1;switch(G=U.charCodeAt(te),G){case l:case c:case v:case E:case g:{$=te;do $+=1,G=U.charCodeAt($);while(G===c||G===l||G===v||G===E||G===g);ue=["space",U.slice(te,$)],te=$-1;break}case y:case p:case x:case T:case s:case _:case S:{let ve=String.fromCharCode(G);ue=[ve,ve,te];break}case O:{if(le=Z.length?Z.pop()[1]:"",ye=U.charCodeAt(te+1),le==="url"&&ye!==u&&ye!==e&&ye!==c&&ye!==l&&ye!==v&&ye!==g&&ye!==E){$=te;do{if(j=!1,$=U.indexOf(")",$+1),$===-1)if(W||Te){$=te;break}else se("bracket");for(ie=$;U.charCodeAt(ie-1)===o;)ie-=1,j=!j}while(j);ue=["brackets",U.slice(te,$+1),te,$],te=$}else $=U.indexOf(")",te+1),J=U.slice(te,$+1),$===-1||D.test(J)?ue=["(","(",te]:(ue=["brackets",J,te,$],te=$);break}case u:case e:{q=G===u?"'":'"',$=te;do{if(j=!1,$=U.indexOf(q,$+1),$===-1)if(W||Te){$=te+1;break}else se("string");for(ie=$;U.charCodeAt(ie-1)===o;)ie-=1,j=!j}while(j);ue=["string",U.slice(te,$+1),te,$],te=$;break}case w:{P.lastIndex=te+1,P.test(U),P.lastIndex===0?$=U.length-1:$=P.lastIndex-2,ue=["at-word",U.slice(te,$+1),te,$],te=$;break}case o:{for($=te,R=!0;U.charCodeAt($+1)===o;)$+=1,R=!R;if(G=U.charCodeAt($+1),R&&G!==f&&G!==c&&G!==l&&G!==v&&G!==E&&G!==g&&($+=1,N.test(U.charAt($)))){for(;N.test(U.charAt($+1));)$+=1;U.charCodeAt($+1)===c&&($+=1)}ue=["word",U.slice(te,$+1),te,$],te=$;break}default:{G===f&&U.charCodeAt(te+1)===d?($=U.indexOf("*/",te+2)+1,$===0&&(W||Te?$=U.length:se("comment")),ue=["comment",U.slice(te,$+1),te,$],te=$):(I.lastIndex=te+1,I.test(U),I.lastIndex===0?$=U.length-1:$=I.lastIndex-2,ue=["word",U.slice(te,$+1),te,$],Z.push(ue),te=$);break}}return te++,ue}function pe(me){re.push(me)}return{back:pe,nextToken:_e,endOfFile:be,position:ae}}},72448:z=>{"use strict";let u={};z.exports=function(o){u[o]||(u[o]=!0,typeof console!="undefined"&&console.warn&&console.warn(o))}},11728:z=>{"use strict";class u{constructor(o,f={}){if(this.type="warning",this.text=o,f.node&&f.node.source){let l=f.node.rangeBy(f);this.line=l.start.line,this.column=l.start.column,this.endLine=l.end.line,this.endColumn=l.end.column}for(let l in f)this[l]=f[l]}toString(){return this.node?this.node.error(this.text,{plugin:this.plugin,index:this.index,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}}z.exports=u,u.default=u},53836:(z,u,e)=>{u.__esModule=!0;var o=function(){function Z(re,ae){for(var se=0;se<ae.length;se++){var be=ae[se];be.enumerable=be.enumerable||!1,be.configurable=!0,"value"in be&&(be.writable=!0),Object.defineProperty(re,be.key,be)}}return function(re,ae,se){return ae&&Z(re.prototype,ae),se&&Z(re,se),re}}(),f=Object.assign||function(Z){for(var re=1;re<arguments.length;re++){var ae=arguments[re];for(var se in ae)Object.prototype.hasOwnProperty.call(ae,se)&&(Z[se]=ae[se])}return Z},l=e(6400),c=e(98278),g=S(c),v=e(10251),E=S(v),y=e(27418),p=S(y),O=e(7937);function S(Z){return Z&&Z.__esModule?Z:{default:Z}}function x(Z,re){if(!(Z instanceof re))throw new TypeError("Cannot call a class as a function")}function T(Z,re){if(!Z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return re&&(typeof re=="object"||typeof re=="function")?re:Z}function _(Z,re){if(typeof re!="function"&&re!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof re);Z.prototype=Object.create(re&&re.prototype,{constructor:{value:Z,enumerable:!1,writable:!0,configurable:!0}}),re&&(Object.setPrototypeOf?Object.setPrototypeOf(Z,re):Z.__proto__=re)}function d(Z,re,ae){return re in Z?Object.defineProperty(Z,re,{value:ae,enumerable:!0,configurable:!0,writable:!0}):Z[re]=ae,Z}var s="data-preact-helmet",w=function(re){return String(re).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},P=function(re,ae){for(var se=re.length-1;se>=0;se--){var be=re[se];if(be[ae])return be[ae]}return null},I=function(re){var ae=P(re,"title"),se=P(re,"titleTemplate");if(se&&ae)return se.replace(/%s/g,function(){return ae});var be=P(re,"defaultTitle");return ae||be||""},D=function(re){return P(re,"onChangeClientState")||function(){}},N=function(re,ae){return ae.filter(function(se){return typeof se[re]!="undefined"}).map(function(se){return se[re]}).reduce(function(se,be){return f({},se,be)},{})},C=function(re,ae){return ae.filter(function(se){return typeof se[O.TAG_NAMES.BASE]!="undefined"}).map(function(se){return se[O.TAG_NAMES.BASE]}).reverse().reduce(function(se,be){if(!se.length)for(var _e=Object.keys(be),pe=0;pe<_e.length;pe++){var me=_e[pe],Te=me.toLowerCase();if(re.indexOf(Te)!==-1&&be[Te])return se.concat(be)}return se},[])},A=function(re,ae,se){var be={};return se.filter(function(_e){return typeof _e[re]!="undefined"}).map(function(_e){return _e[re]}).reverse().reduce(function(_e,pe){var me={};pe.filter(function(Ne){for(var He=void 0,ze=Object.keys(Ne),Xe=0;Xe<ze.length;Xe++){var _t=ze[Xe],we=_t.toLowerCase();ae.indexOf(we)!==-1&&!(He===O.TAG_PROPERTIES.REL&&Ne[He].toLowerCase()==="canonical")&&!(we===O.TAG_PROPERTIES.REL&&Ne[we].toLowerCase()==="stylesheet")&&(He=we),ae.indexOf(_t)!==-1&&(_t===O.TAG_PROPERTIES.INNER_HTML||_t===O.TAG_PROPERTIES.CSS_TEXT||_t===O.TAG_PROPERTIES.ITEM_PROP)&&(He=_t)}if(!He||!Ne[He])return!1;var We=Ne[He].toLowerCase();return be[He]||(be[He]={}),me[He]||(me[He]={}),be[He][We]?!1:(me[He][We]=!0,!0)}).reverse().forEach(function(Ne){return _e.push(Ne)});for(var Te=Object.keys(me),ve=0;ve<Te.length;ve++){var ce=Te[ve],Le=(0,p.default)({},be[ce],me[ce]);be[ce]=Le}return _e},[]).reverse()},L=function(re,ae){document.title=re||document.title,U(O.TAG_NAMES.TITLE,ae)},U=function(re,ae){for(var se=document.getElementsByTagName(re)[0],be=se.getAttribute(s),_e=be?be.split(","):[],pe=[].concat(_e),me=Object.keys(ae),Te=0;Te<me.length;Te++){var ve=me[Te],ce=ae[ve]||"";se.setAttribute(ve,ce),_e.indexOf(ve)===-1&&_e.push(ve);var Le=pe.indexOf(ve);Le!==-1&&pe.splice(Le,1)}for(var Ne=pe.length-1;Ne>=0;Ne--)se.removeAttribute(pe[Ne]);_e.length===pe.length?se.removeAttribute(s):se.setAttribute(s,_e.join(","))},W=function(re,ae){var se=document.head||document.querySelector("head"),be=se.querySelectorAll(re+"["+s+"]"),_e=Array.prototype.slice.call(be),pe=[],me=void 0;return ae&&ae.length&&ae.forEach(function(Te){var ve=document.createElement(re);for(var ce in Te)if(Te.hasOwnProperty(ce))if(ce==="innerHTML")ve.innerHTML=Te.innerHTML;else if(ce==="cssText")ve.styleSheet?ve.styleSheet.cssText=Te.cssText:ve.appendChild(document.createTextNode(Te.cssText));else{var Le=typeof Te[ce]=="undefined"?"":Te[ce];ve.setAttribute(ce,Le)}ve.setAttribute(s,"true"),_e.some(function(Ne,He){return me=He,ve.isEqualNode(Ne)})?_e.splice(me,1):pe.push(ve)}),_e.forEach(function(Te){return Te.parentNode.removeChild(Te)}),pe.forEach(function(Te){return se.appendChild(Te)}),{oldTags:_e,newTags:pe}},G=function(re){return Object.keys(re).reduce(function(ae,se){var be=typeof re[se]!="undefined"?se+'="'+re[se]+'"':""+se;return ae?ae+" "+be:be},"")},$=function(re,ae,se){var be=G(se);return be?"<"+re+" "+s+" "+be+">"+w(ae)+"</"+re+">":"<"+re+" "+s+">"+w(ae)+"</"+re+">"},q=function(re,ae){return ae.reduce(function(se,be){var _e=Object.keys(be).filter(function(Te){return!(Te==="innerHTML"||Te==="cssText")}).reduce(function(Te,ve){var ce=typeof be[ve]=="undefined"?ve:ve+'="'+w(be[ve])+'"';return Te?Te+" "+ce:ce},""),pe=be.innerHTML||be.cssText||"",me=[O.TAG_NAMES.NOSCRIPT,O.TAG_NAMES.SCRIPT,O.TAG_NAMES.STYLE].indexOf(re)===-1;return se+"<"+re+" "+s+" "+_e+(me?">":">"+pe+"</"+re+">")},"")},J=function(re,ae,se){var be=d({key:ae},s,!0),_e=Object.keys(se).reduce(function(pe,me){return pe[me]=se[me],pe},be);return[(0,l.h)(O.TAG_NAMES.TITLE,_e,ae)]},R=function(re,ae){return ae.map(function(se,be){var _e=d({key:be},s,!0);return Object.keys(se).forEach(function(pe){var me=pe;if(me==="innerHTML"||me==="cssText"){var Te=se.innerHTML||se.cssText;_e.dangerouslySetInnerHTML={__html:Te}}else _e[me]=se[pe]}),(0,l.h)(re,_e)})},j=function(re,ae){switch(re){case O.TAG_NAMES.TITLE:return{toComponent:function(){return J(re,ae.title,ae.titleAttributes)},toString:function(){return $(re,ae.title,ae.titleAttributes)}};case O.TAG_NAMES.HTML:return{toComponent:function(){return ae},toString:function(){return G(ae)}};default:return{toComponent:function(){return R(re,ae)},toString:function(){return q(re,ae)}}}},ie=function(re){var ae=re.htmlAttributes,se=re.title,be=re.titleAttributes,_e=re.baseTag,pe=re.metaTags,me=re.linkTags,Te=re.scriptTags,ve=re.noscriptTags,ce=re.styleTags;return{htmlAttributes:j(O.TAG_NAMES.HTML,ae),title:j(O.TAG_NAMES.TITLE,{title:se,titleAttributes:be}),base:j(O.TAG_NAMES.BASE,_e),meta:j(O.TAG_NAMES.META,pe),link:j(O.TAG_NAMES.LINK,me),script:j(O.TAG_NAMES.SCRIPT,Te),noscript:j(O.TAG_NAMES.NOSCRIPT,ve),style:j(O.TAG_NAMES.STYLE,ce)}},le=function(re){var ae,se;return se=ae=function(be){_(_e,be);function _e(){return x(this,_e),T(this,(_e.__proto__||Object.getPrototypeOf(_e)).apply(this,arguments))}return o(_e,[{key:"shouldComponentUpdate",value:function(me){var Te=f({},me);return(!Te.children||!Te.children.length)&&delete Te.children,!(0,E.default)(this.props,Te)}},{key:"render",value:function(){return(0,l.h)(re,this.props)}}],[{key:"canUseDOM",set:function(me){re.canUseDOM=me}}]),_e}(l.Component),ae.peek=re.peek,ae.rewind=function(){var be=re.rewind();return be||(be=ie({htmlAttributes:{},title:"",titleAttributes:{},baseTag:[],metaTags:[],linkTags:[],scriptTags:[],noscriptTags:[],styleTags:[]})),be},se},ye=function(re){return{htmlAttributes:N(O.TAG_NAMES.HTML,re),title:I(re),titleAttributes:N("titleAttributes",re),baseTag:C([O.TAG_PROPERTIES.HREF],re),metaTags:A(O.TAG_NAMES.META,[O.TAG_PROPERTIES.NAME,O.TAG_PROPERTIES.CHARSET,O.TAG_PROPERTIES.HTTPEQUIV,O.TAG_PROPERTIES.PROPERTY,O.TAG_PROPERTIES.ITEM_PROP],re),linkTags:A(O.TAG_NAMES.LINK,[O.TAG_PROPERTIES.REL,O.TAG_PROPERTIES.HREF],re),scriptTags:A(O.TAG_NAMES.SCRIPT,[O.TAG_PROPERTIES.SRC,O.TAG_PROPERTIES.INNER_HTML],re),noscriptTags:A(O.TAG_NAMES.NOSCRIPT,[O.TAG_PROPERTIES.INNER_HTML],re),styleTags:A(O.TAG_NAMES.STYLE,[O.TAG_PROPERTIES.CSS_TEXT],re),onChangeClientState:D(re)}},ue=function(re){var ae=re.htmlAttributes,se=re.title,be=re.titleAttributes,_e=re.baseTag,pe=re.metaTags,me=re.linkTags,Te=re.scriptTags,ve=re.noscriptTags,ce=re.styleTags,Le=re.onChangeClientState;U("html",ae),L(se,be);var Ne={baseTag:W(O.TAG_NAMES.BASE,_e),metaTags:W(O.TAG_NAMES.META,pe),linkTags:W(O.TAG_NAMES.LINK,me),scriptTags:W(O.TAG_NAMES.SCRIPT,Te),noscriptTags:W(O.TAG_NAMES.NOSCRIPT,ve),styleTags:W(O.TAG_NAMES.STYLE,ce)},He={},ze={};Object.keys(Ne).forEach(function(Xe){var _t=Ne[Xe],we=_t.newTags,We=_t.oldTags;we.length&&(He[Xe]=we),We.length&&(ze[Xe]=Ne[Xe].oldTags)}),Le(re,He,ze)},oe=function(){return null},te=(0,g.default)(ye,ue,ie)(oe);u.default=le(te),z.exports=u.default},7937:(z,u)=>{u.__esModule=!0;var e=u.TAG_NAMES={HTML:"htmlAttributes",TITLE:"title",BASE:"base",META:"meta",LINK:"link",SCRIPT:"script",NOSCRIPT:"noscript",STYLE:"style"},o=u.TAG_PROPERTIES={NAME:"name",CHARSET:"charset",HTTPEQUIV:"http-equiv",REL:"rel",HREF:"href",PROPERTY:"property",SRC:"src",INNER_HTML:"innerHTML",CSS_TEXT:"cssText",ITEM_PROP:"itemprop"},f=u.PREACT_TAG_MAP={charset:"charSet","http-equiv":"httpEquiv",itemprop:"itemProp",class:"className"}},20042:(z,u,e)=>{"use strict";e.r(u),e.d(u,{Link:()=>G,Route:()=>$,Router:()=>W,default:()=>q,exec:()=>c,getCurrentUrl:()=>s,route:()=>w,subscribers:()=>T});var o=e(6400),f={};function l(J,R){for(var j in R)J[j]=R[j];return J}function c(J,R,j){var ie=/(?:\?([^#]*))?(#.*)?$/,le=J.match(ie),ye={},ue;if(le&&le[1])for(var oe=le[1].split("&"),te=0;te<oe.length;te++){var Z=oe[te].split("=");ye[decodeURIComponent(Z[0])]=decodeURIComponent(Z.slice(1).join("="))}J=E(J.replace(ie,"")),R=E(R||"");for(var re=Math.max(J.length,R.length),ae=0;ae<re;ae++)if(R[ae]&&R[ae].charAt(0)===":"){var se=R[ae].replace(/(^:|[+*?]+$)/g,""),be=(R[ae].match(/[+*?]+$/)||f)[0]||"",_e=~be.indexOf("+"),pe=~be.indexOf("*"),me=J[ae]||"";if(!me&&!pe&&(be.indexOf("?")<0||_e)){ue=!1;break}if(ye[se]=decodeURIComponent(me),_e||pe){ye[se]=J.slice(ae).map(decodeURIComponent).join("/");break}}else if(R[ae]!==J[ae]){ue=!1;break}return j.default!==!0&&ue===!1?!1:ye}function g(J,R){return J.rank<R.rank?1:J.rank>R.rank?-1:J.index-R.index}function v(J,R){return J.index=R,J.rank=O(J),J.props}function E(J){return J.replace(/(^\/+|\/+$)/g,"").split("/")}function y(J){return J.charAt(0)==":"?1+"*+?".indexOf(J.charAt(J.length-1))||4:5}function p(J){return E(J).map(y).join("")}function O(J){return J.props.default?0:p(J.props.path)}var S=null,x=[],T=[],_={};function d(J,R){R===void 0&&(R="push"),S&&S[R]?S[R](J):typeof history!="undefined"&&history[R+"State"]&&history[R+"State"](null,null,J)}function s(){var J;return S&&S.location?J=S.location:S&&S.getCurrentLocation?J=S.getCurrentLocation():J=typeof location!="undefined"?location:_,""+(J.pathname||"")+(J.search||"")}function w(J,R){return R===void 0&&(R=!1),typeof J!="string"&&J.url&&(R=J.replace,J=J.url),P(J)&&d(J,R?"replace":"push"),I(J)}function P(J){for(var R=x.length;R--;)if(x[R].canRoute(J))return!0;return!1}function I(J){for(var R=!1,j=0;j<x.length;j++)x[j].routeTo(J)===!0&&(R=!0);for(var ie=T.length;ie--;)T[ie](J);return R}function D(J){if(!(!J||!J.getAttribute)){var R=J.getAttribute("href"),j=J.getAttribute("target");if(!(!R||!R.match(/^\//g)||j&&!j.match(/^_?self$/i)))return w(R)}}function N(J){if(!(J.ctrlKey||J.metaKey||J.altKey||J.shiftKey||J.button!==0))return D(J.currentTarget||J.target||this),C(J)}function C(J){return J&&(J.stopImmediatePropagation&&J.stopImmediatePropagation(),J.stopPropagation&&J.stopPropagation(),J.preventDefault()),!1}function A(J){if(!(J.ctrlKey||J.metaKey||J.altKey||J.shiftKey||J.button!==0)){var R=J.target;do if(String(R.nodeName).toUpperCase()==="A"&&R.getAttribute("href")){if(R.hasAttribute("native"))return;if(D(R))return C(J)}while(R=R.parentNode)}}var L=!1;function U(){L||(typeof addEventListener=="function"&&(S||addEventListener("popstate",function(){I(s())}),addEventListener("click",A)),L=!0)}var W=function(J){function R(j){J.call(this,j),j.history&&(S=j.history),this.state={url:j.url||s()},U()}return J&&(R.__proto__=J),R.prototype=Object.create(J&&J.prototype),R.prototype.constructor=R,R.prototype.shouldComponentUpdate=function(ie){return ie.static!==!0?!0:ie.url!==this.props.url||ie.onChange!==this.props.onChange},R.prototype.canRoute=function(ie){var le=(0,o.toChildArray)(this.props.children);return this.getMatchingChildren(le,ie,!1).length>0},R.prototype.routeTo=function(ie){this.setState({url:ie});var le=this.canRoute(ie);return this.updating||this.forceUpdate(),le},R.prototype.componentWillMount=function(){x.push(this),this.updating=!0},R.prototype.componentDidMount=function(){var ie=this;S&&(this.unlisten=S.listen(function(le){ie.routeTo(""+(le.pathname||"")+(le.search||""))})),this.updating=!1},R.prototype.componentWillUnmount=function(){typeof this.unlisten=="function"&&this.unlisten(),x.splice(x.indexOf(this),1)},R.prototype.componentWillUpdate=function(){this.updating=!0},R.prototype.componentDidUpdate=function(){this.updating=!1},R.prototype.getMatchingChildren=function(ie,le,ye){return ie.filter(v).sort(g).map(function(ue){var oe=c(le,ue.props.path,ue.props);if(oe){if(ye!==!1){var te={url:le,matches:oe};return l(te,oe),delete te.ref,delete te.key,(0,o.cloneElement)(ue,te)}return ue}}).filter(Boolean)},R.prototype.render=function(ie,le){var ye=ie.children,ue=ie.onChange,oe=le.url,te=this.getMatchingChildren((0,o.toChildArray)(ye),oe,!0),Z=te[0]||null,re=this.previousUrl;return oe!==re&&(this.previousUrl=oe,typeof ue=="function"&&ue({router:this,url:oe,previous:re,active:te,current:Z})),Z},R}(o.Component),G=function(J){return(0,o.createElement)("a",l({onClick:N},J))},$=function(J){return(0,o.createElement)(J.component,J)};W.subscribers=T,W.getCurrentUrl=s,W.route=w,W.Router=W,W.Route=$,W.Link=G,W.exec=c;const q=W},56232:(z,u,e)=>{"use strict";var o;o={value:!0},o=u.qE=void 0;var f=Object.assign||function(S){for(var x=1;x<arguments.length;x++){var T=arguments[x];for(var _ in T)Object.prototype.hasOwnProperty.call(T,_)&&(S[_]=T[_])}return S},l=e(6400),c=e(20042);function g(S,x){var T={};for(var _ in S)x.indexOf(_)>=0||Object.prototype.hasOwnProperty.call(S,_)&&(T[_]=S[_]);return T}function v(S,x){if(!(S instanceof x))throw new TypeError("Cannot call a class as a function")}function E(S,x){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:S}function y(S,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);S.prototype=Object.create(x&&x.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(S,x):S.__proto__=x)}var p=u.qE=function(S){y(x,S);function x(){var T,_,d;v(this,x);for(var s=arguments.length,w=Array(s),P=0;P<s;P++)w[P]=arguments[P];return d=(T=(_=E(this,S.call.apply(S,[this].concat(w))),_),_.update=function(I){_.nextUrl=I,_.setState({})},T),E(_,d)}return x.prototype.componentDidMount=function(){c.subscribers.push(this.update)},x.prototype.componentWillUnmount=function(){c.subscribers.splice(c.subscribers.indexOf(this.update)>>>0,1)},x.prototype.render=function(_){var d=this.nextUrl||(0,c.getCurrentUrl)(),s=d.replace(/\?.+$/,"");return this.nextUrl=null,_.children({url:d,path:s,matches:(0,c.exec)(s,_.path,{})!==!1})},x}(l.Component),O=function(x){var T=x.activeClassName,_=x.path,d=g(x,["activeClassName","path"]);return(0,l.h)(p,{path:_||d.href},function(s){var w=s.matches;return(0,l.h)(c.Link,f({},d,{class:[d.class||d.className,w&&T].filter(Boolean).join(" ")}))})};o=O,o=p,p.Link=O},98278:(z,u,e)=>{"use strict";var o=e(6400);function f(v,E){var y={};for(var p in v)E.indexOf(p)>=0||Object.prototype.hasOwnProperty.call(v,p)&&(y[p]=v[p]);return y}function l(v,E){if(!(v instanceof E))throw new TypeError("Cannot call a class as a function")}function c(v,E){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:v}function g(v,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);v.prototype=Object.create(E&&E.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(v,E):v.__proto__=E)}z.exports=function(E,y,p){if(typeof E!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof y!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof p!="undefined"&&typeof p!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function O(x){return x.displayName||x.name||"Component"}return function(T){if(typeof T!="function")throw new Error("Expected WrappedComponent to be a React component.");var _=[],d=void 0;function s(){d=E(_.map(function(P){return P.props})),w.canUseDOM?y(d):p&&(d=p(d))}var w=function(P){g(I,P);function I(){return l(this,I),c(this,P.apply(this,arguments))}return I.peek=function(){return d},I.rewind=function(){if(I.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var N=d;return d=void 0,_=[],N},I.prototype.shouldComponentUpdate=function(N){var C=N.children,A=f(N,["children"]);return C&&C.length&&(A.children=C),S(A,this.props)},I.prototype.componentWillMount=function(){_.push(this),s()},I.prototype.componentDidUpdate=function(){s()},I.prototype.componentWillUnmount=function(){var N=_.indexOf(this);_.splice(N,1),s()},I.prototype.render=function(){return(0,o.h)(T,this.props)},I}(o.Component);return w.displayName="SideEffect("+O(T)+")",w.canUseDOM=!!(typeof window!="undefined"&&window.document&&window.document.createElement),w};function S(x,T){for(var _ in x)if(!(_ in T))return!0;for(var d in T)if(x[d]!==T[d])return!0;return!1}}},98661:(z,u,e)=>{"use strict";e.r(u),e.d(u,{Children:()=>x,Component:()=>o.Component,Fragment:()=>o.Fragment,PureComponent:()=>v,StrictMode:()=>Ne,Suspense:()=>w,SuspenseList:()=>D,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:()=>se,cloneElement:()=>me,createContext:()=>o.createContext,createElement:()=>o.createElement,createFactory:()=>_e,createPortal:()=>L,createRef:()=>o.createRef,default:()=>We,findDOMNode:()=>ve,flushSync:()=>Le,forwardRef:()=>O,hydrate:()=>j,isValidElement:()=>pe,lazy:()=>I,memo:()=>E,render:()=>R,startTransition:()=>He,unmountComponentAtNode:()=>Te,unstable_batchedUpdates:()=>ce,useCallback:()=>f.I4,useContext:()=>f.qp,useDebugValue:()=>f.Qb,useDeferredValue:()=>ze,useEffect:()=>f.d4,useErrorBoundary:()=>f.cO,useId:()=>f.Me,useImperativeHandle:()=>f.aP,useInsertionEffect:()=>_t,useLayoutEffect:()=>f.bt,useMemo:()=>f.Ye,useReducer:()=>f._Y,useRef:()=>f.sO,useState:()=>f.eJ,useSyncExternalStore:()=>we,useTransition:()=>Xe,version:()=>be});var o=e(6400),f=e(30396);function l(Ie,tt){for(var et in tt)Ie[et]=tt[et];return Ie}function c(Ie,tt){for(var et in Ie)if(et!=="__source"&&!(et in tt))return!0;for(var ht in tt)if(ht!=="__source"&&Ie[ht]!==tt[ht])return!0;return!1}function g(Ie,tt){return Ie===tt&&(Ie!==0||1/Ie==1/tt)||Ie!=Ie&&tt!=tt}function v(Ie){this.props=Ie}function E(Ie,tt){function et(vt){var Lt=this.props.ref,$t=Lt==vt.ref;return!$t&&Lt&&(Lt.call?Lt(null):Lt.current=null),tt?!tt(this.props,vt)||!$t:c(this.props,vt)}function ht(vt){return this.shouldComponentUpdate=et,(0,o.createElement)(Ie,vt)}return ht.displayName="Memo("+(Ie.displayName||Ie.name)+")",ht.prototype.isReactComponent=!0,ht.__f=!0,ht}(v.prototype=new o.Component).isPureReactComponent=!0,v.prototype.shouldComponentUpdate=function(Ie,tt){return c(this.props,Ie)||c(this.state,tt)};var y=o.options.__b;o.options.__b=function(Ie){Ie.type&&Ie.type.__f&&Ie.ref&&(Ie.props.ref=Ie.ref,Ie.ref=null),y&&y(Ie)};var p=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function O(Ie){function tt(et){var ht=l({},et);return delete ht.ref,Ie(ht,et.ref||null)}return tt.$$typeof=p,tt.render=tt,tt.prototype.isReactComponent=tt.__f=!0,tt.displayName="ForwardRef("+(Ie.displayName||Ie.name)+")",tt}var S=function(Ie,tt){return Ie==null?null:(0,o.toChildArray)((0,o.toChildArray)(Ie).map(tt))},x={map:S,forEach:S,count:function(Ie){return Ie?(0,o.toChildArray)(Ie).length:0},only:function(Ie){var tt=(0,o.toChildArray)(Ie);if(tt.length!==1)throw"Children.only";return tt[0]},toArray:o.toChildArray},T=o.options.__e;o.options.__e=function(Ie,tt,et,ht){if(Ie.then){for(var vt,Lt=tt;Lt=Lt.__;)if((vt=Lt.__c)&&vt.__c)return tt.__e==null&&(tt.__e=et.__e,tt.__k=et.__k),vt.__c(Ie,tt)}T(Ie,tt,et,ht)};var _=o.options.unmount;function d(Ie,tt,et){return Ie&&(Ie.__c&&Ie.__c.__H&&(Ie.__c.__H.__.forEach(function(ht){typeof ht.__c=="function"&&ht.__c()}),Ie.__c.__H=null),(Ie=l({},Ie)).__c!=null&&(Ie.__c.__P===et&&(Ie.__c.__P=tt),Ie.__c=null),Ie.__k=Ie.__k&&Ie.__k.map(function(ht){return d(ht,tt,et)})),Ie}function s(Ie,tt,et){return Ie&&(Ie.__v=null,Ie.__k=Ie.__k&&Ie.__k.map(function(ht){return s(ht,tt,et)}),Ie.__c&&Ie.__c.__P===tt&&(Ie.__e&&et.insertBefore(Ie.__e,Ie.__d),Ie.__c.__e=!0,Ie.__c.__P=et)),Ie}function w(){this.__u=0,this.t=null,this.__b=null}function P(Ie){var tt=Ie.__.__c;return tt&&tt.__a&&tt.__a(Ie)}function I(Ie){var tt,et,ht;function vt(Lt){if(tt||(tt=Ie()).then(function($t){et=$t.default||$t},function($t){ht=$t}),ht)throw ht;if(!et)throw tt;return(0,o.createElement)(et,Lt)}return vt.displayName="Lazy",vt.__f=!0,vt}function D(){this.u=null,this.o=null}o.options.unmount=function(Ie){var tt=Ie.__c;tt&&tt.__R&&tt.__R(),tt&&Ie.__h===!0&&(Ie.type=null),_&&_(Ie)},(w.prototype=new o.Component).__c=function(Ie,tt){var et=tt.__c,ht=this;ht.t==null&&(ht.t=[]),ht.t.push(et);var vt=P(ht.__v),Lt=!1,$t=function(){Lt||(Lt=!0,et.__R=null,vt?vt(yt):yt())};et.__R=$t;var yt=function(){if(!--ht.__u){if(ht.state.__a){var je=ht.state.__a;ht.__v.__k[0]=s(je,je.__c.__P,je.__c.__O)}var st;for(ht.setState({__a:ht.__b=null});st=ht.t.pop();)st.forceUpdate()}},he=tt.__h===!0;ht.__u++||he||ht.setState({__a:ht.__b=ht.__v.__k[0]}),Ie.then($t,$t)},w.prototype.componentWillUnmount=function(){this.t=[]},w.prototype.render=function(Ie,tt){if(this.__b){if(this.__v.__k){var et=document.createElement("div"),ht=this.__v.__k[0].__c;this.__v.__k[0]=d(this.__b,et,ht.__O=ht.__P)}this.__b=null}var vt=tt.__a&&(0,o.createElement)(o.Fragment,null,Ie.fallback);return vt&&(vt.__h=null),[(0,o.createElement)(o.Fragment,null,tt.__a?null:Ie.children),vt]};var N=function(Ie,tt,et){if(++et[1]===et[0]&&Ie.o.delete(tt),Ie.props.revealOrder&&(Ie.props.revealOrder[0]!=="t"||!Ie.o.size))for(et=Ie.u;et;){for(;et.length>3;)et.pop()();if(et[1]<et[0])break;Ie.u=et=et[2]}};function C(Ie){return this.getChildContext=function(){return Ie.context},Ie.children}function A(Ie){var tt=this,et=Ie.i;tt.componentWillUnmount=function(){(0,o.render)(null,tt.l),tt.l=null,tt.i=null},tt.i&&tt.i!==et&&tt.componentWillUnmount(),Ie.__v?(tt.l||(tt.i=et,tt.l={nodeType:1,parentNode:et,childNodes:[],appendChild:function(ht){this.childNodes.push(ht),tt.i.appendChild(ht)},insertBefore:function(ht,vt){this.childNodes.push(ht),tt.i.appendChild(ht)},removeChild:function(ht){this.childNodes.splice(this.childNodes.indexOf(ht)>>>1,1),tt.i.removeChild(ht)}}),(0,o.render)((0,o.createElement)(C,{context:tt.context},Ie.__v),tt.l)):tt.l&&tt.componentWillUnmount()}function L(Ie,tt){var et=(0,o.createElement)(A,{__v:Ie,i:tt});return et.containerInfo=tt,et}(D.prototype=new o.Component).__a=function(Ie){var tt=this,et=P(tt.__v),ht=tt.o.get(Ie);return ht[0]++,function(vt){var Lt=function(){tt.props.revealOrder?(ht.push(vt),N(tt,Ie,ht)):vt()};et?et(Lt):Lt()}},D.prototype.render=function(Ie){this.u=null,this.o=new Map;var tt=(0,o.toChildArray)(Ie.children);Ie.revealOrder&&Ie.revealOrder[0]==="b"&&tt.reverse();for(var et=tt.length;et--;)this.o.set(tt[et],this.u=[1,0,this.u]);return Ie.children},D.prototype.componentDidUpdate=D.prototype.componentDidMount=function(){var Ie=this;this.o.forEach(function(tt,et){N(Ie,et,tt)})};var U=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,W=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,G=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,$=/[A-Z0-9]/g,q=typeof document!="undefined",J=function(Ie){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(Ie)};function R(Ie,tt,et){return tt.__k==null&&(tt.textContent=""),(0,o.render)(Ie,tt),typeof et=="function"&&et(),Ie?Ie.__c:null}function j(Ie,tt,et){return(0,o.hydrate)(Ie,tt),typeof et=="function"&&et(),Ie?Ie.__c:null}o.Component.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(Ie){Object.defineProperty(o.Component.prototype,Ie,{configurable:!0,get:function(){return this["UNSAFE_"+Ie]},set:function(tt){Object.defineProperty(this,Ie,{configurable:!0,writable:!0,value:tt})}})});var ie=o.options.event;function le(){}function ye(){return this.cancelBubble}function ue(){return this.defaultPrevented}o.options.event=function(Ie){return ie&&(Ie=ie(Ie)),Ie.persist=le,Ie.isPropagationStopped=ye,Ie.isDefaultPrevented=ue,Ie.nativeEvent=Ie};var oe,te={configurable:!0,get:function(){return this.class}},Z=o.options.vnode;o.options.vnode=function(Ie){var tt=Ie.type,et=Ie.props,ht=et;if(typeof tt=="string"){for(var vt in ht={},et){var Lt=et[vt];if(!(vt==="value"&&"defaultValue"in et&&Lt==null||q&&vt==="children"&&tt==="noscript")){var $t=vt.toLowerCase();vt==="defaultValue"&&"value"in et&&et.value==null?vt="value":vt==="download"&&Lt===!0?Lt="":$t==="ondoubleclick"?vt="ondblclick":$t!=="onchange"||tt!=="input"&&tt!=="textarea"||J(et.type)?$t==="onfocus"?vt="onfocusin":$t==="onblur"?vt="onfocusout":G.test(vt)?vt=$t:tt.indexOf("-")===-1&&W.test(vt)?vt=vt.replace($,"-$&").toLowerCase():Lt===null&&(Lt=void 0):$t=vt="oninput",$t==="oninput"&&ht[vt=$t]&&(vt="oninputCapture"),ht[vt]=Lt}}tt=="select"&&ht.multiple&&Array.isArray(ht.value)&&(ht.value=(0,o.toChildArray)(et.children).forEach(function(yt){yt.props.selected=ht.value.indexOf(yt.props.value)!=-1})),tt=="select"&&ht.defaultValue!=null&&(ht.value=(0,o.toChildArray)(et.children).forEach(function(yt){yt.props.selected=ht.multiple?ht.defaultValue.indexOf(yt.props.value)!=-1:ht.defaultValue==yt.props.value})),Ie.props=ht,et.class!=et.className&&(te.enumerable="className"in et,et.className!=null&&(ht.class=et.className),Object.defineProperty(ht,"className",te))}Ie.$$typeof=U,Z&&Z(Ie)};var re=o.options.__r;o.options.__r=function(Ie){re&&re(Ie),oe=Ie.__c};var ae=o.options.diffed;o.options.diffed=function(Ie){ae&&ae(Ie);var tt=Ie.props,et=Ie.__e;et!=null&&Ie.type==="textarea"&&"value"in tt&&tt.value!==et.value&&(et.value=tt.value==null?"":tt.value),oe=null};var se={ReactCurrentDispatcher:{current:{readContext:function(Ie){return oe.__n[Ie.__c].props.value}}}},be="17.0.2";function _e(Ie){return o.createElement.bind(null,Ie)}function pe(Ie){return!!Ie&&Ie.$$typeof===U}function me(Ie){return pe(Ie)?o.cloneElement.apply(null,arguments):Ie}function Te(Ie){return!!Ie.__k&&((0,o.render)(null,Ie),!0)}function ve(Ie){return Ie&&(Ie.base||Ie.nodeType===1&&Ie)||null}var ce=function(Ie,tt){return Ie(tt)},Le=function(Ie,tt){return Ie(tt)},Ne=o.Fragment;function He(Ie){Ie()}function ze(Ie){return Ie}function Xe(){return[!1,He]}var _t=f.bt;function we(Ie,tt){var et=tt(),ht=(0,f.eJ)({h:{__:et,v:tt}}),vt=ht[0].h,Lt=ht[1];return(0,f.bt)(function(){vt.__=et,vt.v=tt,g(vt.__,tt())||Lt({h:vt})},[Ie,et,tt]),(0,f.d4)(function(){return g(vt.__,vt.v())||Lt({h:vt}),Ie(function(){g(vt.__,vt.v())||Lt({h:vt})})},[Ie]),et}var We={useState:f.eJ,useId:f.Me,useReducer:f._Y,useEffect:f.d4,useLayoutEffect:f.bt,useInsertionEffect:_t,useTransition:Xe,useDeferredValue:ze,useSyncExternalStore:we,startTransition:He,useRef:f.sO,useImperativeHandle:f.aP,useMemo:f.Ye,useCallback:f.I4,useContext:f.qp,useDebugValue:f.Qb,version:"17.0.2",Children:x,render:R,hydrate:j,unmountComponentAtNode:Te,createPortal:L,createElement:o.createElement,createContext:o.createContext,createFactory:_e,cloneElement:me,createRef:o.createRef,Fragment:o.Fragment,isValidElement:pe,findDOMNode:ve,Component:o.Component,PureComponent:v,memo:E,forwardRef:O,flushSync:Le,unstable_batchedUpdates:ce,StrictMode:Ne,Suspense:w,SuspenseList:D,lazy:I,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:se}},14369:(z,u,e)=>{"use strict";e.r(u),e.d(u,{addHookName:()=>f});var o=e(6400);function f(l,c){return o.options.__a&&o.options.__a(c),l}typeof window!="undefined"&&window.__PREACT_DEVTOOLS__&&window.__PREACT_DEVTOOLS__.attachPreact("10.13.1",o.options,{Fragment:o.Fragment,Component:o.Component})},6400:(z,u,e)=>{"use strict";e.r(u),e.d(u,{Component:()=>I,Fragment:()=>P,cloneElement:()=>se,createContext:()=>be,createElement:()=>d,createRef:()=>w,h:()=>d,hydrate:()=>ae,isValidElement:()=>c,options:()=>f,render:()=>re,toChildArray:()=>W});var o,f,l,c,g,v,E,y,p,O={},S=[],x=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function T(_e,pe){for(var me in pe)_e[me]=pe[me];return _e}function _(_e){var pe=_e.parentNode;pe&&pe.removeChild(_e)}function d(_e,pe,me){var Te,ve,ce,Le={};for(ce in pe)ce=="key"?Te=pe[ce]:ce=="ref"?ve=pe[ce]:Le[ce]=pe[ce];if(arguments.length>2&&(Le.children=arguments.length>3?o.call(arguments,2):me),typeof _e=="function"&&_e.defaultProps!=null)for(ce in _e.defaultProps)Le[ce]===void 0&&(Le[ce]=_e.defaultProps[ce]);return s(_e,Le,Te,ve,null)}function s(_e,pe,me,Te,ve){var ce={type:_e,props:pe,key:me,ref:Te,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:ve==null?++l:ve};return ve==null&&f.vnode!=null&&f.vnode(ce),ce}function w(){return{current:null}}function P(_e){return _e.children}function I(_e,pe){this.props=_e,this.context=pe}function D(_e,pe){if(pe==null)return _e.__?D(_e.__,_e.__.__k.indexOf(_e)+1):null;for(var me;pe<_e.__k.length;pe++)if((me=_e.__k[pe])!=null&&me.__e!=null)return me.__e;return typeof _e.type=="function"?D(_e):null}function N(_e){var pe,me;if((_e=_e.__)!=null&&_e.__c!=null){for(_e.__e=_e.__c.base=null,pe=0;pe<_e.__k.length;pe++)if((me=_e.__k[pe])!=null&&me.__e!=null){_e.__e=_e.__c.base=me.__e;break}return N(_e)}}function C(_e){(!_e.__d&&(_e.__d=!0)&&g.push(_e)&&!A.__r++||v!==f.debounceRendering)&&((v=f.debounceRendering)||E)(A)}function A(){var _e,pe,me,Te,ve,ce,Le,Ne;for(g.sort(y);_e=g.shift();)_e.__d&&(pe=g.length,Te=void 0,ve=void 0,Le=(ce=(me=_e).__v).__e,(Ne=me.__P)&&(Te=[],(ve=T({},ce)).__v=ce.__v+1,le(Ne,ce,ve,me.__n,Ne.ownerSVGElement!==void 0,ce.__h!=null?[Le]:null,Te,Le==null?D(ce):Le,ce.__h),ye(Te,ce),ce.__e!=Le&&N(ce)),g.length>pe&&g.sort(y));A.__r=0}function L(_e,pe,me,Te,ve,ce,Le,Ne,He,ze){var Xe,_t,we,We,Ie,tt,et,ht=Te&&Te.__k||S,vt=ht.length;for(me.__k=[],Xe=0;Xe<pe.length;Xe++)if((We=me.__k[Xe]=(We=pe[Xe])==null||typeof We=="boolean"||typeof We=="function"?null:typeof We=="string"||typeof We=="number"||typeof We=="bigint"?s(null,We,null,null,We):Array.isArray(We)?s(P,{children:We},null,null,null):We.__b>0?s(We.type,We.props,We.key,We.ref?We.ref:null,We.__v):We)!=null){if(We.__=me,We.__b=me.__b+1,(we=ht[Xe])===null||we&&We.key==we.key&&We.type===we.type)ht[Xe]=void 0;else for(_t=0;_t<vt;_t++){if((we=ht[_t])&&We.key==we.key&&We.type===we.type){ht[_t]=void 0;break}we=null}le(_e,We,we=we||O,ve,ce,Le,Ne,He,ze),Ie=We.__e,(_t=We.ref)&&we.ref!=_t&&(et||(et=[]),we.ref&&et.push(we.ref,null,We),et.push(_t,We.__c||Ie,We)),Ie!=null?(tt==null&&(tt=Ie),typeof We.type=="function"&&We.__k===we.__k?We.__d=He=U(We,He,_e):He=G(_e,We,we,ht,Ie,He),typeof me.type=="function"&&(me.__d=He)):He&&we.__e==He&&He.parentNode!=_e&&(He=D(we))}for(me.__e=tt,Xe=vt;Xe--;)ht[Xe]!=null&&(typeof me.type=="function"&&ht[Xe].__e!=null&&ht[Xe].__e==me.__d&&(me.__d=$(Te).nextSibling),te(ht[Xe],ht[Xe]));if(et)for(Xe=0;Xe<et.length;Xe++)oe(et[Xe],et[++Xe],et[++Xe])}function U(_e,pe,me){for(var Te,ve=_e.__k,ce=0;ve&&ce<ve.length;ce++)(Te=ve[ce])&&(Te.__=_e,pe=typeof Te.type=="function"?U(Te,pe,me):G(me,Te,Te,ve,Te.__e,pe));return pe}function W(_e,pe){return pe=pe||[],_e==null||typeof _e=="boolean"||(Array.isArray(_e)?_e.some(function(me){W(me,pe)}):pe.push(_e)),pe}function G(_e,pe,me,Te,ve,ce){var Le,Ne,He;if(pe.__d!==void 0)Le=pe.__d,pe.__d=void 0;else if(me==null||ve!=ce||ve.parentNode==null)e:if(ce==null||ce.parentNode!==_e)_e.appendChild(ve),Le=null;else{for(Ne=ce,He=0;(Ne=Ne.nextSibling)&&He<Te.length;He+=1)if(Ne==ve)break e;_e.insertBefore(ve,ce),Le=ce}return Le!==void 0?Le:ve.nextSibling}function $(_e){var pe,me,Te;if(_e.type==null||typeof _e.type=="string")return _e.__e;if(_e.__k){for(pe=_e.__k.length-1;pe>=0;pe--)if((me=_e.__k[pe])&&(Te=$(me)))return Te}return null}function q(_e,pe,me,Te,ve){var ce;for(ce in me)ce==="children"||ce==="key"||ce in pe||R(_e,ce,null,me[ce],Te);for(ce in pe)ve&&typeof pe[ce]!="function"||ce==="children"||ce==="key"||ce==="value"||ce==="checked"||me[ce]===pe[ce]||R(_e,ce,pe[ce],me[ce],Te)}function J(_e,pe,me){pe[0]==="-"?_e.setProperty(pe,me==null?"":me):_e[pe]=me==null?"":typeof me!="number"||x.test(pe)?me:me+"px"}function R(_e,pe,me,Te,ve){var ce;e:if(pe==="style")if(typeof me=="string")_e.style.cssText=me;else{if(typeof Te=="string"&&(_e.style.cssText=Te=""),Te)for(pe in Te)me&&pe in me||J(_e.style,pe,"");if(me)for(pe in me)Te&&me[pe]===Te[pe]||J(_e.style,pe,me[pe])}else if(pe[0]==="o"&&pe[1]==="n")ce=pe!==(pe=pe.replace(/Capture$/,"")),pe=pe.toLowerCase()in _e?pe.toLowerCase().slice(2):pe.slice(2),_e.l||(_e.l={}),_e.l[pe+ce]=me,me?Te||_e.addEventListener(pe,ce?ie:j,ce):_e.removeEventListener(pe,ce?ie:j,ce);else if(pe!=="dangerouslySetInnerHTML"){if(ve)pe=pe.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(pe!=="width"&&pe!=="height"&&pe!=="href"&&pe!=="list"&&pe!=="form"&&pe!=="tabIndex"&&pe!=="download"&&pe in _e)try{_e[pe]=me==null?"":me;break e}catch(Le){}typeof me=="function"||(me==null||me===!1&&pe.indexOf("-")==-1?_e.removeAttribute(pe):_e.setAttribute(pe,me))}}function j(_e){return this.l[_e.type+!1](f.event?f.event(_e):_e)}function ie(_e){return this.l[_e.type+!0](f.event?f.event(_e):_e)}function le(_e,pe,me,Te,ve,ce,Le,Ne,He){var ze,Xe,_t,we,We,Ie,tt,et,ht,vt,Lt,$t,yt,he,je,st=pe.type;if(pe.constructor!==void 0)return null;me.__h!=null&&(He=me.__h,Ne=pe.__e=me.__e,pe.__h=null,ce=[Ne]),(ze=f.__b)&&ze(pe);try{e:if(typeof st=="function"){if(et=pe.props,ht=(ze=st.contextType)&&Te[ze.__c],vt=ze?ht?ht.props.value:ze.__:Te,me.__c?tt=(Xe=pe.__c=me.__c).__=Xe.__E:("prototype"in st&&st.prototype.render?pe.__c=Xe=new st(et,vt):(pe.__c=Xe=new I(et,vt),Xe.constructor=st,Xe.render=Z),ht&&ht.sub(Xe),Xe.props=et,Xe.state||(Xe.state={}),Xe.context=vt,Xe.__n=Te,_t=Xe.__d=!0,Xe.__h=[],Xe._sb=[]),Xe.__s==null&&(Xe.__s=Xe.state),st.getDerivedStateFromProps!=null&&(Xe.__s==Xe.state&&(Xe.__s=T({},Xe.__s)),T(Xe.__s,st.getDerivedStateFromProps(et,Xe.__s))),we=Xe.props,We=Xe.state,Xe.__v=pe,_t)st.getDerivedStateFromProps==null&&Xe.componentWillMount!=null&&Xe.componentWillMount(),Xe.componentDidMount!=null&&Xe.__h.push(Xe.componentDidMount);else{if(st.getDerivedStateFromProps==null&&et!==we&&Xe.componentWillReceiveProps!=null&&Xe.componentWillReceiveProps(et,vt),!Xe.__e&&Xe.shouldComponentUpdate!=null&&Xe.shouldComponentUpdate(et,Xe.__s,vt)===!1||pe.__v===me.__v){for(pe.__v!==me.__v&&(Xe.props=et,Xe.state=Xe.__s,Xe.__d=!1),Xe.__e=!1,pe.__e=me.__e,pe.__k=me.__k,pe.__k.forEach(function(De){De&&(De.__=pe)}),Lt=0;Lt<Xe._sb.length;Lt++)Xe.__h.push(Xe._sb[Lt]);Xe._sb=[],Xe.__h.length&&Le.push(Xe);break e}Xe.componentWillUpdate!=null&&Xe.componentWillUpdate(et,Xe.__s,vt),Xe.componentDidUpdate!=null&&Xe.__h.push(function(){Xe.componentDidUpdate(we,We,Ie)})}if(Xe.context=vt,Xe.props=et,Xe.__P=_e,$t=f.__r,yt=0,"prototype"in st&&st.prototype.render){for(Xe.state=Xe.__s,Xe.__d=!1,$t&&$t(pe),ze=Xe.render(Xe.props,Xe.state,Xe.context),he=0;he<Xe._sb.length;he++)Xe.__h.push(Xe._sb[he]);Xe._sb=[]}else do Xe.__d=!1,$t&&$t(pe),ze=Xe.render(Xe.props,Xe.state,Xe.context),Xe.state=Xe.__s;while(Xe.__d&&++yt<25);Xe.state=Xe.__s,Xe.getChildContext!=null&&(Te=T(T({},Te),Xe.getChildContext())),_t||Xe.getSnapshotBeforeUpdate==null||(Ie=Xe.getSnapshotBeforeUpdate(we,We)),je=ze!=null&&ze.type===P&&ze.key==null?ze.props.children:ze,L(_e,Array.isArray(je)?je:[je],pe,me,Te,ve,ce,Le,Ne,He),Xe.base=pe.__e,pe.__h=null,Xe.__h.length&&Le.push(Xe),tt&&(Xe.__E=Xe.__=null),Xe.__e=!1}else ce==null&&pe.__v===me.__v?(pe.__k=me.__k,pe.__e=me.__e):pe.__e=ue(me.__e,pe,me,Te,ve,ce,Le,He);(ze=f.diffed)&&ze(pe)}catch(De){pe.__v=null,(He||ce!=null)&&(pe.__e=Ne,pe.__h=!!He,ce[ce.indexOf(Ne)]=null),f.__e(De,pe,me)}}function ye(_e,pe){f.__c&&f.__c(pe,_e),_e.some(function(me){try{_e=me.__h,me.__h=[],_e.some(function(Te){Te.call(me)})}catch(Te){f.__e(Te,me.__v)}})}function ue(_e,pe,me,Te,ve,ce,Le,Ne){var He,ze,Xe,_t=me.props,we=pe.props,We=pe.type,Ie=0;if(We==="svg"&&(ve=!0),ce!=null){for(;Ie<ce.length;Ie++)if((He=ce[Ie])&&"setAttribute"in He==!!We&&(We?He.localName===We:He.nodeType===3)){_e=He,ce[Ie]=null;break}}if(_e==null){if(We===null)return document.createTextNode(we);_e=ve?document.createElementNS("http://www.w3.org/2000/svg",We):document.createElement(We,we.is&&we),ce=null,Ne=!1}if(We===null)_t===we||Ne&&_e.data===we||(_e.data=we);else{if(ce=ce&&o.call(_e.childNodes),ze=(_t=me.props||O).dangerouslySetInnerHTML,Xe=we.dangerouslySetInnerHTML,!Ne){if(ce!=null)for(_t={},Ie=0;Ie<_e.attributes.length;Ie++)_t[_e.attributes[Ie].name]=_e.attributes[Ie].value;(Xe||ze)&&(Xe&&(ze&&Xe.__html==ze.__html||Xe.__html===_e.innerHTML)||(_e.innerHTML=Xe&&Xe.__html||""))}if(q(_e,we,_t,ve,Ne),Xe)pe.__k=[];else if(Ie=pe.props.children,L(_e,Array.isArray(Ie)?Ie:[Ie],pe,me,Te,ve&&We!=="foreignObject",ce,Le,ce?ce[0]:me.__k&&D(me,0),Ne),ce!=null)for(Ie=ce.length;Ie--;)ce[Ie]!=null&&_(ce[Ie]);Ne||("value"in we&&(Ie=we.value)!==void 0&&(Ie!==_e.value||We==="progress"&&!Ie||We==="option"&&Ie!==_t.value)&&R(_e,"value",Ie,_t.value,!1),"checked"in we&&(Ie=we.checked)!==void 0&&Ie!==_e.checked&&R(_e,"checked",Ie,_t.checked,!1))}return _e}function oe(_e,pe,me){try{typeof _e=="function"?_e(pe):_e.current=pe}catch(Te){f.__e(Te,me)}}function te(_e,pe,me){var Te,ve;if(f.unmount&&f.unmount(_e),(Te=_e.ref)&&(Te.current&&Te.current!==_e.__e||oe(Te,null,pe)),(Te=_e.__c)!=null){if(Te.componentWillUnmount)try{Te.componentWillUnmount()}catch(ce){f.__e(ce,pe)}Te.base=Te.__P=null,_e.__c=void 0}if(Te=_e.__k)for(ve=0;ve<Te.length;ve++)Te[ve]&&te(Te[ve],pe,me||typeof _e.type!="function");me||_e.__e==null||_(_e.__e),_e.__=_e.__e=_e.__d=void 0}function Z(_e,pe,me){return this.constructor(_e,me)}function re(_e,pe,me){var Te,ve,ce;f.__&&f.__(_e,pe),ve=(Te=typeof me=="function")?null:me&&me.__k||pe.__k,ce=[],le(pe,_e=(!Te&&me||pe).__k=d(P,null,[_e]),ve||O,O,pe.ownerSVGElement!==void 0,!Te&&me?[me]:ve?null:pe.firstChild?o.call(pe.childNodes):null,ce,!Te&&me?me:ve?ve.__e:pe.firstChild,Te),ye(ce,_e)}function ae(_e,pe){re(_e,pe,ae)}function se(_e,pe,me){var Te,ve,ce,Le=T({},_e.props);for(ce in pe)ce=="key"?Te=pe[ce]:ce=="ref"?ve=pe[ce]:Le[ce]=pe[ce];return arguments.length>2&&(Le.children=arguments.length>3?o.call(arguments,2):me),s(_e.type,Le,Te||_e.key,ve||_e.ref,null)}function be(_e,pe){var me={__c:pe="__cC"+p++,__:_e,Consumer:function(Te,ve){return Te.children(ve)},Provider:function(Te){var ve,ce;return this.getChildContext||(ve=[],(ce={})[pe]=this,this.getChildContext=function(){return ce},this.shouldComponentUpdate=function(Le){this.props.value!==Le.value&&ve.some(function(Ne){Ne.__e=!0,C(Ne)})},this.sub=function(Le){ve.push(Le);var Ne=Le.componentWillUnmount;Le.componentWillUnmount=function(){ve.splice(ve.indexOf(Le),1),Ne&&Ne.call(Le)}}),Te.children}};return me.Provider.__=me.Consumer.contextType=me}o=S.slice,f={__e:function(_e,pe,me,Te){for(var ve,ce,Le;pe=pe.__;)if((ve=pe.__c)&&!ve.__)try{if((ce=ve.constructor)&&ce.getDerivedStateFromError!=null&&(ve.setState(ce.getDerivedStateFromError(_e)),Le=ve.__d),ve.componentDidCatch!=null&&(ve.componentDidCatch(_e,Te||{}),Le=ve.__d),Le)return ve.__E=ve}catch(Ne){_e=Ne}throw _e}},l=0,c=function(_e){return _e!=null&&_e.constructor===void 0},I.prototype.setState=function(_e,pe){var me;me=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=T({},this.state),typeof _e=="function"&&(_e=_e(T({},me),this.props)),_e&&T(me,_e),_e!=null&&this.__v&&(pe&&this._sb.push(pe),C(this))},I.prototype.forceUpdate=function(_e){this.__v&&(this.__e=!0,_e&&this.__h.push(_e),C(this))},I.prototype.render=P,g=[],E=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,y=function(_e,pe){return _e.__v.__b-pe.__v.__b},A.__r=0,p=0},30396:(z,u,e)=>{"use strict";e.d(u,{I4:()=>C,Me:()=>W,Qb:()=>L,Ye:()=>N,_Y:()=>s,aP:()=>D,bt:()=>P,cO:()=>U,d4:()=>w,eJ:()=>d,qp:()=>A,sO:()=>I});var o=e(6400),f,l,c,g,v=0,E=[],y=[],p=o.options.__b,O=o.options.__r,S=o.options.diffed,x=o.options.__c,T=o.options.unmount;function _(le,ye){o.options.__h&&o.options.__h(l,le,v||ye),v=0;var ue=l.__H||(l.__H={__:[],__h:[]});return le>=ue.__.length&&ue.__.push({__V:y}),ue.__[le]}function d(le){return v=1,s(ie,le)}function s(le,ye,ue){var oe=_(f++,2);if(oe.t=le,!oe.__c&&(oe.__=[ue?ue(ye):ie(void 0,ye),function(ae){var se=oe.__N?oe.__N[0]:oe.__[0],be=oe.t(se,ae);se!==be&&(oe.__N=[be,oe.__[1]],oe.__c.setState({}))}],oe.__c=l,!l.u)){var te=function(ae,se,be){if(!oe.__c.__H)return!0;var _e=oe.__c.__H.__.filter(function(me){return me.__c});if(_e.every(function(me){return!me.__N}))return!Z||Z.call(this,ae,se,be);var pe=!1;return _e.forEach(function(me){if(me.__N){var Te=me.__[0];me.__=me.__N,me.__N=void 0,Te!==me.__[0]&&(pe=!0)}}),!(!pe&&oe.__c.props===ae)&&(!Z||Z.call(this,ae,se,be))};l.u=!0;var Z=l.shouldComponentUpdate,re=l.componentWillUpdate;l.componentWillUpdate=function(ae,se,be){if(this.__e){var _e=Z;Z=void 0,te(ae,se,be),Z=_e}re&&re.call(this,ae,se,be)},l.shouldComponentUpdate=te}return oe.__N||oe.__}function w(le,ye){var ue=_(f++,3);!o.options.__s&&j(ue.__H,ye)&&(ue.__=le,ue.i=ye,l.__H.__h.push(ue))}function P(le,ye){var ue=_(f++,4);!o.options.__s&&j(ue.__H,ye)&&(ue.__=le,ue.i=ye,l.__h.push(ue))}function I(le){return v=5,N(function(){return{current:le}},[])}function D(le,ye,ue){v=6,P(function(){return typeof le=="function"?(le(ye()),function(){return le(null)}):le?(le.current=ye(),function(){return le.current=null}):void 0},ue==null?ue:ue.concat(le))}function N(le,ye){var ue=_(f++,7);return j(ue.__H,ye)?(ue.__V=le(),ue.i=ye,ue.__h=le,ue.__V):ue.__}function C(le,ye){return v=8,N(function(){return le},ye)}function A(le){var ye=l.context[le.__c],ue=_(f++,9);return ue.c=le,ye?(ue.__==null&&(ue.__=!0,ye.sub(l)),ye.props.value):le.__}function L(le,ye){o.options.useDebugValue&&o.options.useDebugValue(ye?ye(le):le)}function U(le){var ye=_(f++,10),ue=d();return ye.__=le,l.componentDidCatch||(l.componentDidCatch=function(oe,te){ye.__&&ye.__(oe,te),ue[1](oe)}),[ue[0],function(){ue[1](void 0)}]}function W(){var le=_(f++,11);if(!le.__){for(var ye=l.__v;ye!==null&&!ye.__m&&ye.__!==null;)ye=ye.__;var ue=ye.__m||(ye.__m=[0,0]);le.__="P"+ue[0]+"-"+ue[1]++}return le.__}function G(){for(var le;le=E.shift();)if(le.__P&&le.__H)try{le.__H.__h.forEach(J),le.__H.__h.forEach(R),le.__H.__h=[]}catch(ye){le.__H.__h=[],o.options.__e(ye,le.__v)}}o.options.__b=function(le){l=null,p&&p(le)},o.options.__r=function(le){O&&O(le),f=0;var ye=(l=le.__c).__H;ye&&(c===l?(ye.__h=[],l.__h=[],ye.__.forEach(function(ue){ue.__N&&(ue.__=ue.__N),ue.__V=y,ue.__N=ue.i=void 0})):(ye.__h.forEach(J),ye.__h.forEach(R),ye.__h=[])),c=l},o.options.diffed=function(le){S&&S(le);var ye=le.__c;ye&&ye.__H&&(ye.__H.__h.length&&(E.push(ye)!==1&&g===o.options.requestAnimationFrame||((g=o.options.requestAnimationFrame)||q)(G)),ye.__H.__.forEach(function(ue){ue.i&&(ue.__H=ue.i),ue.__V!==y&&(ue.__=ue.__V),ue.i=void 0,ue.__V=y})),c=l=null},o.options.__c=function(le,ye){ye.some(function(ue){try{ue.__h.forEach(J),ue.__h=ue.__h.filter(function(oe){return!oe.__||R(oe)})}catch(oe){ye.some(function(te){te.__h&&(te.__h=[])}),ye=[],o.options.__e(oe,ue.__v)}}),x&&x(le,ye)},o.options.unmount=function(le){T&&T(le);var ye,ue=le.__c;ue&&ue.__H&&(ue.__H.__.forEach(function(oe){try{J(oe)}catch(te){ye=te}}),ue.__H=void 0,ye&&o.options.__e(ye,ue.__v))};var $=typeof requestAnimationFrame=="function";function q(le){var ye,ue=function(){clearTimeout(oe),$&&cancelAnimationFrame(ye),setTimeout(le)},oe=setTimeout(ue,100);$&&(ye=requestAnimationFrame(ue))}function J(le){var ye=l,ue=le.__c;typeof ue=="function"&&(le.__c=void 0,ue()),l=ye}function R(le){var ye=l;le.__c=le.__(),l=ye}function j(le,ye){return!le||le.length!==ye.length||ye.some(function(ue,oe){return ue!==le[oe]})}function ie(le,ye){return typeof ye=="function"?ye(le):ye}},92703:(z,u,e)=>{"use strict";var o=e(50414);function f(){}function l(){}l.resetWarningCache=f,z.exports=function(){function c(E,y,p,O,S,x){if(x!==o){var T=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw T.name="Invariant Violation",T}}c.isRequired=c;function g(){return c}var v={array:c,bigint:c,bool:c,func:c,number:c,object:c,string:c,symbol:c,any:c,arrayOf:g,element:c,elementType:c,instanceOf:g,node:c,objectOf:g,oneOf:g,oneOfType:g,shape:g,exact:g,checkPropTypes:l,resetWarningCache:f};return v.PropTypes=v,v}},45697:(z,u,e)=>{if(!1)var o,f;else z.exports=e(92703)()},50414:z=>{"use strict";var u="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";z.exports=u},74971:function(z,u,e){z=e.nmd(z);var o;/*! https://mths.be/punycode v1.3.2 by @mathias */(function(f){var l=u&&!u.nodeType&&u,c=z&&!z.nodeType&&z,g=typeof e.g=="object"&&e.g;(g.global===g||g.window===g||g.self===g)&&(f=g);var v,E=2147483647,y=36,p=1,O=26,S=38,x=700,T=72,_=128,d="-",s=/^xn--/,w=/[^\x20-\x7E]/,P=/[\x2E\u3002\uFF0E\uFF61]/g,I={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},D=y-p,N=Math.floor,C=String.fromCharCode,A;function L(ue){throw RangeError(I[ue])}function U(ue,oe){for(var te=ue.length,Z=[];te--;)Z[te]=oe(ue[te]);return Z}function W(ue,oe){var te=ue.split("@"),Z="";te.length>1&&(Z=te[0]+"@",ue=te[1]),ue=ue.replace(P,".");var re=ue.split("."),ae=U(re,oe).join(".");return Z+ae}function G(ue){for(var oe=[],te=0,Z=ue.length,re,ae;te<Z;)re=ue.charCodeAt(te++),re>=55296&&re<=56319&&te<Z?(ae=ue.charCodeAt(te++),(ae&64512)==56320?oe.push(((re&1023)<<10)+(ae&1023)+65536):(oe.push(re),te--)):oe.push(re);return oe}function $(ue){return U(ue,function(oe){var te="";return oe>65535&&(oe-=65536,te+=C(oe>>>10&1023|55296),oe=56320|oe&1023),te+=C(oe),te}).join("")}function q(ue){return ue-48<10?ue-22:ue-65<26?ue-65:ue-97<26?ue-97:y}function J(ue,oe){return ue+22+75*(ue<26)-((oe!=0)<<5)}function R(ue,oe,te){var Z=0;for(ue=te?N(ue/x):ue>>1,ue+=N(ue/oe);ue>D*O>>1;Z+=y)ue=N(ue/D);return N(Z+(D+1)*ue/(ue+S))}function j(ue){var oe=[],te=ue.length,Z,re=0,ae=_,se=T,be,_e,pe,me,Te,ve,ce,Le,Ne;for(be=ue.lastIndexOf(d),be<0&&(be=0),_e=0;_e<be;++_e)ue.charCodeAt(_e)>=128&&L("not-basic"),oe.push(ue.charCodeAt(_e));for(pe=be>0?be+1:0;pe<te;){for(me=re,Te=1,ve=y;pe>=te&&L("invalid-input"),ce=q(ue.charCodeAt(pe++)),(ce>=y||ce>N((E-re)/Te))&&L("overflow"),re+=ce*Te,Le=ve<=se?p:ve>=se+O?O:ve-se,!(ce<Le);ve+=y)Ne=y-Le,Te>N(E/Ne)&&L("overflow"),Te*=Ne;Z=oe.length+1,se=R(re-me,Z,me==0),N(re/Z)>E-ae&&L("overflow"),ae+=N(re/Z),re%=Z,oe.splice(re++,0,ae)}return $(oe)}function ie(ue){var oe,te,Z,re,ae,se,be,_e,pe,me,Te,ve=[],ce,Le,Ne,He;for(ue=G(ue),ce=ue.length,oe=_,te=0,ae=T,se=0;se<ce;++se)Te=ue[se],Te<128&&ve.push(C(Te));for(Z=re=ve.length,re&&ve.push(d);Z<ce;){for(be=E,se=0;se<ce;++se)Te=ue[se],Te>=oe&&Te<be&&(be=Te);for(Le=Z+1,be-oe>N((E-te)/Le)&&L("overflow"),te+=(be-oe)*Le,oe=be,se=0;se<ce;++se)if(Te=ue[se],Te<oe&&++te>E&&L("overflow"),Te==oe){for(_e=te,pe=y;me=pe<=ae?p:pe>=ae+O?O:pe-ae,!(_e<me);pe+=y)He=_e-me,Ne=y-me,ve.push(C(J(me+He%Ne,0))),_e=N(He/Ne);ve.push(C(J(_e,0))),ae=R(te,Le,Z==re),te=0,++Z}++te,++oe}return ve.join("")}function le(ue){return W(ue,function(oe){return s.test(oe)?j(oe.slice(4).toLowerCase()):oe})}function ye(ue){return W(ue,function(oe){return w.test(oe)?"xn--"+ie(oe):oe})}v={version:"1.3.2",ucs2:{decode:G,encode:$},decode:j,encode:ie,toASCII:ye,toUnicode:le},o=function(){return v}.call(u,e,u,z),o!==void 0&&(z.exports=o)})(this)},92592:(z,u,e)=>{const o=e(47138),f=e(95115),l=e(6907),c=e(93776);function g(v,E,y,p,O){const S=[].slice.call(arguments,1),x=S.length,T=typeof S[x-1]=="function";if(!T&&!o())throw new Error("Callback required as last argument");if(T){if(x<2)throw new Error("Too few arguments provided");x===2?(O=y,y=E,E=p=void 0):x===3&&(E.getContext&&typeof O=="undefined"?(O=p,p=void 0):(O=p,p=y,y=E,E=void 0))}else{if(x<1)throw new Error("Too few arguments provided");return x===1?(y=E,E=p=void 0):x===2&&!E.getContext&&(p=y,y=E,E=void 0),new Promise(function(_,d){try{const s=f.create(y,p);_(v(s,E,p))}catch(s){d(s)}})}try{const _=f.create(y,p);O(null,v(_,E,p))}catch(_){O(_)}}u.create=f.create,u.toCanvas=g.bind(null,l.render),u.toDataURL=g.bind(null,l.renderToDataURL),u.toString=g.bind(null,function(v,E,y){return c.render(v,y)})},47138:z=>{z.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}},21845:(z,u,e)=>{const o=e(10242).getSymbolSize;u.getRowColCoords=function(l){if(l===1)return[];const c=Math.floor(l/7)+2,g=o(l),v=g===145?26:Math.ceil((g-13)/(2*c-2))*2,E=[g-7];for(let y=1;y<c-1;y++)E[y]=E[y-1]-v;return E.push(6),E.reverse()},u.getPositions=function(l){const c=[],g=u.getRowColCoords(l),v=g.length;for(let E=0;E<v;E++)for(let y=0;y<v;y++)E===0&&y===0||E===0&&y===v-1||E===v-1&&y===0||c.push([g[E],g[y]]);return c}},8260:(z,u,e)=>{const o=e(76910),f=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function l(c){this.mode=o.ALPHANUMERIC,this.data=c}l.getBitsLength=function(g){return 11*Math.floor(g/2)+6*(g%2)},l.prototype.getLength=function(){return this.data.length},l.prototype.getBitsLength=function(){return l.getBitsLength(this.data.length)},l.prototype.write=function(g){let v;for(v=0;v+2<=this.data.length;v+=2){let E=f.indexOf(this.data[v])*45;E+=f.indexOf(this.data[v+1]),g.put(E,11)}this.data.length%2&&g.put(f.indexOf(this.data[v]),6)},z.exports=l},97245:z=>{function u(){this.buffer=[],this.length=0}u.prototype={get:function(e){const o=Math.floor(e/8);return(this.buffer[o]>>>7-e%8&1)===1},put:function(e,o){for(let f=0;f<o;f++)this.putBit((e>>>o-f-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const o=Math.floor(this.length/8);this.buffer.length<=o&&this.buffer.push(0),e&&(this.buffer[o]|=128>>>this.length%8),this.length++}},z.exports=u},73280:z=>{function u(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}u.prototype.set=function(e,o,f,l){const c=e*this.size+o;this.data[c]=f,l&&(this.reservedBit[c]=!0)},u.prototype.get=function(e,o){return this.data[e*this.size+o]},u.prototype.xor=function(e,o,f){this.data[e*this.size+o]^=f},u.prototype.isReserved=function(e,o){return this.reservedBit[e*this.size+o]},z.exports=u},43424:(z,u,e)=>{const o=e(62378),f=e(76910);function l(c){this.mode=f.BYTE,typeof c=="string"&&(c=o(c)),this.data=new Uint8Array(c)}l.getBitsLength=function(g){return g*8},l.prototype.getLength=function(){return this.data.length},l.prototype.getBitsLength=function(){return l.getBitsLength(this.data.length)},l.prototype.write=function(c){for(let g=0,v=this.data.length;g<v;g++)c.put(this.data[g],8)},z.exports=l},35393:(z,u,e)=>{const o=e(64908),f=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],l=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];u.getBlocksCount=function(g,v){switch(v){case o.L:return f[(g-1)*4+0];case o.M:return f[(g-1)*4+1];case o.Q:return f[(g-1)*4+2];case o.H:return f[(g-1)*4+3];default:return}},u.getTotalCodewordsCount=function(g,v){switch(v){case o.L:return l[(g-1)*4+0];case o.M:return l[(g-1)*4+1];case o.Q:return l[(g-1)*4+2];case o.H:return l[(g-1)*4+3];default:return}}},64908:(z,u)=>{u.L={bit:1},u.M={bit:0},u.Q={bit:3},u.H={bit:2};function e(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"l":case"low":return u.L;case"m":case"medium":return u.M;case"q":case"quartile":return u.Q;case"h":case"high":return u.H;default:throw new Error("Unknown EC Level: "+o)}}u.isValid=function(f){return f&&typeof f.bit!="undefined"&&f.bit>=0&&f.bit<4},u.from=function(f,l){if(u.isValid(f))return f;try{return e(f)}catch(c){return l}}},76526:(z,u,e)=>{const o=e(10242).getSymbolSize,f=7;u.getPositions=function(c){const g=o(c);return[[0,0],[g-f,0],[0,g-f]]}},61642:(z,u,e)=>{const o=e(10242),f=1335,l=21522,c=o.getBCHDigit(f);u.getEncodedBits=function(v,E){const y=v.bit<<3|E;let p=y<<10;for(;o.getBCHDigit(p)-c>=0;)p^=f<<o.getBCHDigit(p)-c;return(y<<10|p)^l}},69729:(z,u)=>{const e=new Uint8Array(512),o=new Uint8Array(256);(function(){let l=1;for(let c=0;c<255;c++)e[c]=l,o[l]=c,l<<=1,l&256&&(l^=285);for(let c=255;c<512;c++)e[c]=e[c-255]})(),u.log=function(l){if(l<1)throw new Error("log("+l+")");return o[l]},u.exp=function(l){return e[l]},u.mul=function(l,c){return l===0||c===0?0:e[o[l]+o[c]]}},51018:(z,u,e)=>{const o=e(76910),f=e(10242);function l(c){this.mode=o.KANJI,this.data=c}l.getBitsLength=function(g){return g*13},l.prototype.getLength=function(){return this.data.length},l.prototype.getBitsLength=function(){return l.getBitsLength(this.data.length)},l.prototype.write=function(c){let g;for(g=0;g<this.data.length;g++){let v=f.toSJIS(this.data[g]);if(v>=33088&&v<=40956)v-=33088;else if(v>=57408&&v<=60351)v-=49472;else throw new Error("Invalid SJIS character: "+this.data[g]+`
Make sure your charset is UTF-8`);v=(v>>>8&255)*192+(v&255),c.put(v,13)}},z.exports=l},27126:(z,u)=>{u.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};u.isValid=function(l){return l!=null&&l!==""&&!isNaN(l)&&l>=0&&l<=7},u.from=function(l){return u.isValid(l)?parseInt(l,10):void 0},u.getPenaltyN1=function(l){const c=l.size;let g=0,v=0,E=0,y=null,p=null;for(let O=0;O<c;O++){v=E=0,y=p=null;for(let S=0;S<c;S++){let x=l.get(O,S);x===y?v++:(v>=5&&(g+=e.N1+(v-5)),y=x,v=1),x=l.get(S,O),x===p?E++:(E>=5&&(g+=e.N1+(E-5)),p=x,E=1)}v>=5&&(g+=e.N1+(v-5)),E>=5&&(g+=e.N1+(E-5))}return g},u.getPenaltyN2=function(l){const c=l.size;let g=0;for(let v=0;v<c-1;v++)for(let E=0;E<c-1;E++){const y=l.get(v,E)+l.get(v,E+1)+l.get(v+1,E)+l.get(v+1,E+1);(y===4||y===0)&&g++}return g*e.N2},u.getPenaltyN3=function(l){const c=l.size;let g=0,v=0,E=0;for(let y=0;y<c;y++){v=E=0;for(let p=0;p<c;p++)v=v<<1&2047|l.get(y,p),p>=10&&(v===1488||v===93)&&g++,E=E<<1&2047|l.get(p,y),p>=10&&(E===1488||E===93)&&g++}return g*e.N3},u.getPenaltyN4=function(l){let c=0;const g=l.data.length;for(let E=0;E<g;E++)c+=l.data[E];return Math.abs(Math.ceil(c*100/g/5)-10)*e.N4};function o(f,l,c){switch(f){case u.Patterns.PATTERN000:return(l+c)%2===0;case u.Patterns.PATTERN001:return l%2===0;case u.Patterns.PATTERN010:return c%3===0;case u.Patterns.PATTERN011:return(l+c)%3===0;case u.Patterns.PATTERN100:return(Math.floor(l/2)+Math.floor(c/3))%2===0;case u.Patterns.PATTERN101:return l*c%2+l*c%3===0;case u.Patterns.PATTERN110:return(l*c%2+l*c%3)%2===0;case u.Patterns.PATTERN111:return(l*c%3+(l+c)%2)%2===0;default:throw new Error("bad maskPattern:"+f)}}u.applyMask=function(l,c){const g=c.size;for(let v=0;v<g;v++)for(let E=0;E<g;E++)c.isReserved(E,v)||c.xor(E,v,o(l,E,v))},u.getBestMask=function(l,c){const g=Object.keys(u.Patterns).length;let v=0,E=1/0;for(let y=0;y<g;y++){c(y),u.applyMask(y,l);const p=u.getPenaltyN1(l)+u.getPenaltyN2(l)+u.getPenaltyN3(l)+u.getPenaltyN4(l);u.applyMask(y,l),p<E&&(E=p,v=y)}return v}},76910:(z,u,e)=>{const o=e(43114),f=e(7007);u.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},u.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},u.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},u.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},u.MIXED={bit:-1},u.getCharCountIndicator=function(g,v){if(!g.ccBits)throw new Error("Invalid mode: "+g);if(!o.isValid(v))throw new Error("Invalid version: "+v);return v>=1&&v<10?g.ccBits[0]:v<27?g.ccBits[1]:g.ccBits[2]},u.getBestModeForData=function(g){return f.testNumeric(g)?u.NUMERIC:f.testAlphanumeric(g)?u.ALPHANUMERIC:f.testKanji(g)?u.KANJI:u.BYTE},u.toString=function(g){if(g&&g.id)return g.id;throw new Error("Invalid mode")},u.isValid=function(g){return g&&g.bit&&g.ccBits};function l(c){if(typeof c!="string")throw new Error("Param is not a string");switch(c.toLowerCase()){case"numeric":return u.NUMERIC;case"alphanumeric":return u.ALPHANUMERIC;case"kanji":return u.KANJI;case"byte":return u.BYTE;default:throw new Error("Unknown mode: "+c)}}u.from=function(g,v){if(u.isValid(g))return g;try{return l(g)}catch(E){return v}}},41085:(z,u,e)=>{const o=e(76910);function f(l){this.mode=o.NUMERIC,this.data=l.toString()}f.getBitsLength=function(c){return 10*Math.floor(c/3)+(c%3?c%3*3+1:0)},f.prototype.getLength=function(){return this.data.length},f.prototype.getBitsLength=function(){return f.getBitsLength(this.data.length)},f.prototype.write=function(c){let g,v,E;for(g=0;g+3<=this.data.length;g+=3)v=this.data.substr(g,3),E=parseInt(v,10),c.put(E,10);const y=this.data.length-g;y>0&&(v=this.data.substr(g),E=parseInt(v,10),c.put(E,y*3+1))},z.exports=f},26143:(z,u,e)=>{const o=e(69729);u.mul=function(l,c){const g=new Uint8Array(l.length+c.length-1);for(let v=0;v<l.length;v++)for(let E=0;E<c.length;E++)g[v+E]^=o.mul(l[v],c[E]);return g},u.mod=function(l,c){let g=new Uint8Array(l);for(;g.length-c.length>=0;){const v=g[0];for(let y=0;y<c.length;y++)g[y]^=o.mul(c[y],v);let E=0;for(;E<g.length&&g[E]===0;)E++;g=g.slice(E)}return g},u.generateECPolynomial=function(l){let c=new Uint8Array([1]);for(let g=0;g<l;g++)c=u.mul(c,new Uint8Array([1,o.exp(g)]));return c}},95115:(z,u,e)=>{const o=e(10242),f=e(64908),l=e(97245),c=e(73280),g=e(21845),v=e(76526),E=e(27126),y=e(35393),p=e(52882),O=e(23103),S=e(61642),x=e(76910),T=e(16130);function _(A,L){const U=A.size,W=v.getPositions(L);for(let G=0;G<W.length;G++){const $=W[G][0],q=W[G][1];for(let J=-1;J<=7;J++)if(!($+J<=-1||U<=$+J))for(let R=-1;R<=7;R++)q+R<=-1||U<=q+R||(J>=0&&J<=6&&(R===0||R===6)||R>=0&&R<=6&&(J===0||J===6)||J>=2&&J<=4&&R>=2&&R<=4?A.set($+J,q+R,!0,!0):A.set($+J,q+R,!1,!0))}}function d(A){const L=A.size;for(let U=8;U<L-8;U++){const W=U%2===0;A.set(U,6,W,!0),A.set(6,U,W,!0)}}function s(A,L){const U=g.getPositions(L);for(let W=0;W<U.length;W++){const G=U[W][0],$=U[W][1];for(let q=-2;q<=2;q++)for(let J=-2;J<=2;J++)q===-2||q===2||J===-2||J===2||q===0&&J===0?A.set(G+q,$+J,!0,!0):A.set(G+q,$+J,!1,!0)}}function w(A,L){const U=A.size,W=O.getEncodedBits(L);let G,$,q;for(let J=0;J<18;J++)G=Math.floor(J/3),$=J%3+U-8-3,q=(W>>J&1)===1,A.set(G,$,q,!0),A.set($,G,q,!0)}function P(A,L,U){const W=A.size,G=S.getEncodedBits(L,U);let $,q;for($=0;$<15;$++)q=(G>>$&1)===1,$<6?A.set($,8,q,!0):$<8?A.set($+1,8,q,!0):A.set(W-15+$,8,q,!0),$<8?A.set(8,W-$-1,q,!0):$<9?A.set(8,15-$-1+1,q,!0):A.set(8,15-$-1,q,!0);A.set(W-8,8,1,!0)}function I(A,L){const U=A.size;let W=-1,G=U-1,$=7,q=0;for(let J=U-1;J>0;J-=2)for(J===6&&J--;;){for(let R=0;R<2;R++)if(!A.isReserved(G,J-R)){let j=!1;q<L.length&&(j=(L[q]>>>$&1)===1),A.set(G,J-R,j),$--,$===-1&&(q++,$=7)}if(G+=W,G<0||U<=G){G-=W,W=-W;break}}}function D(A,L,U){const W=new l;U.forEach(function(R){W.put(R.mode.bit,4),W.put(R.getLength(),x.getCharCountIndicator(R.mode,A)),R.write(W)});const G=o.getSymbolTotalCodewords(A),$=y.getTotalCodewordsCount(A,L),q=(G-$)*8;for(W.getLengthInBits()+4<=q&&W.put(0,4);W.getLengthInBits()%8!==0;)W.putBit(0);const J=(q-W.getLengthInBits())/8;for(let R=0;R<J;R++)W.put(R%2?17:236,8);return N(W,A,L)}function N(A,L,U){const W=o.getSymbolTotalCodewords(L),G=y.getTotalCodewordsCount(L,U),$=W-G,q=y.getBlocksCount(L,U),J=W%q,R=q-J,j=Math.floor(W/q),ie=Math.floor($/q),le=ie+1,ye=j-ie,ue=new p(ye);let oe=0;const te=new Array(q),Z=new Array(q);let re=0;const ae=new Uint8Array(A.buffer);for(let me=0;me<q;me++){const Te=me<R?ie:le;te[me]=ae.slice(oe,oe+Te),Z[me]=ue.encode(te[me]),oe+=Te,re=Math.max(re,Te)}const se=new Uint8Array(W);let be=0,_e,pe;for(_e=0;_e<re;_e++)for(pe=0;pe<q;pe++)_e<te[pe].length&&(se[be++]=te[pe][_e]);for(_e=0;_e<ye;_e++)for(pe=0;pe<q;pe++)se[be++]=Z[pe][_e];return se}function C(A,L,U,W){let G;if(Array.isArray(A))G=T.fromArray(A);else if(typeof A=="string"){let j=L;if(!j){const ie=T.rawSplit(A);j=O.getBestVersionForData(ie,U)}G=T.fromString(A,j||40)}else throw new Error("Invalid data");const $=O.getBestVersionForData(G,U);if(!$)throw new Error("The amount of data is too big to be stored in a QR Code");if(!L)L=$;else if(L<$)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+$+`.
`);const q=D(L,U,G),J=o.getSymbolSize(L),R=new c(J);return _(R,L),d(R),s(R,L),P(R,U,0),L>=7&&w(R,L),I(R,q),isNaN(W)&&(W=E.getBestMask(R,P.bind(null,R,U))),E.applyMask(W,R),P(R,U,W),{modules:R,version:L,errorCorrectionLevel:U,maskPattern:W,segments:G}}u.create=function(L,U){if(typeof L=="undefined"||L==="")throw new Error("No input text");let W=f.M,G,$;return typeof U!="undefined"&&(W=f.from(U.errorCorrectionLevel,f.M),G=O.from(U.version),$=E.from(U.maskPattern),U.toSJISFunc&&o.setToSJISFunction(U.toSJISFunc)),C(L,G,W,$)}},52882:(z,u,e)=>{const o=e(26143);function f(l){this.genPoly=void 0,this.degree=l,this.degree&&this.initialize(this.degree)}f.prototype.initialize=function(c){this.degree=c,this.genPoly=o.generateECPolynomial(this.degree)},f.prototype.encode=function(c){if(!this.genPoly)throw new Error("Encoder not initialized");const g=new Uint8Array(c.length+this.degree);g.set(c);const v=o.mod(g,this.genPoly),E=this.degree-v.length;if(E>0){const y=new Uint8Array(this.degree);return y.set(v,E),y}return v},z.exports=f},7007:(z,u)=>{const e="[0-9]+",o="[A-Z $%*+\\-./:]+";let f="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";f=f.replace(/u/g,"\\u");const l="(?:(?![A-Z0-9 $%*+\\-./:]|"+f+`)(?:.|[\r
]))+`;u.KANJI=new RegExp(f,"g"),u.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),u.BYTE=new RegExp(l,"g"),u.NUMERIC=new RegExp(e,"g"),u.ALPHANUMERIC=new RegExp(o,"g");const c=new RegExp("^"+f+"$"),g=new RegExp("^"+e+"$"),v=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");u.testKanji=function(y){return c.test(y)},u.testNumeric=function(y){return g.test(y)},u.testAlphanumeric=function(y){return v.test(y)}},16130:(z,u,e)=>{const o=e(76910),f=e(41085),l=e(8260),c=e(43424),g=e(51018),v=e(7007),E=e(10242),y=e(65987);function p(w){return unescape(encodeURIComponent(w)).length}function O(w,P,I){const D=[];let N;for(;(N=w.exec(I))!==null;)D.push({data:N[0],index:N.index,mode:P,length:N[0].length});return D}function S(w){const P=O(v.NUMERIC,o.NUMERIC,w),I=O(v.ALPHANUMERIC,o.ALPHANUMERIC,w);let D,N;return E.isKanjiModeEnabled()?(D=O(v.BYTE,o.BYTE,w),N=O(v.KANJI,o.KANJI,w)):(D=O(v.BYTE_KANJI,o.BYTE,w),N=[]),P.concat(I,D,N).sort(function(A,L){return A.index-L.index}).map(function(A){return{data:A.data,mode:A.mode,length:A.length}})}function x(w,P){switch(P){case o.NUMERIC:return f.getBitsLength(w);case o.ALPHANUMERIC:return l.getBitsLength(w);case o.KANJI:return g.getBitsLength(w);case o.BYTE:return c.getBitsLength(w)}}function T(w){return w.reduce(function(P,I){const D=P.length-1>=0?P[P.length-1]:null;return D&&D.mode===I.mode?(P[P.length-1].data+=I.data,P):(P.push(I),P)},[])}function _(w){const P=[];for(let I=0;I<w.length;I++){const D=w[I];switch(D.mode){case o.NUMERIC:P.push([D,{data:D.data,mode:o.ALPHANUMERIC,length:D.length},{data:D.data,mode:o.BYTE,length:D.length}]);break;case o.ALPHANUMERIC:P.push([D,{data:D.data,mode:o.BYTE,length:D.length}]);break;case o.KANJI:P.push([D,{data:D.data,mode:o.BYTE,length:p(D.data)}]);break;case o.BYTE:P.push([{data:D.data,mode:o.BYTE,length:p(D.data)}])}}return P}function d(w,P){const I={},D={start:{}};let N=["start"];for(let C=0;C<w.length;C++){const A=w[C],L=[];for(let U=0;U<A.length;U++){const W=A[U],G=""+C+U;L.push(G),I[G]={node:W,lastCount:0},D[G]={};for(let $=0;$<N.length;$++){const q=N[$];I[q]&&I[q].node.mode===W.mode?(D[q][G]=x(I[q].lastCount+W.length,W.mode)-x(I[q].lastCount,W.mode),I[q].lastCount+=W.length):(I[q]&&(I[q].lastCount=W.length),D[q][G]=x(W.length,W.mode)+4+o.getCharCountIndicator(W.mode,P))}}N=L}for(let C=0;C<N.length;C++)D[N[C]].end=0;return{map:D,table:I}}function s(w,P){let I;const D=o.getBestModeForData(w);if(I=o.from(P,D),I!==o.BYTE&&I.bit<D.bit)throw new Error('"'+w+'" cannot be encoded with mode '+o.toString(I)+`.
 Suggested mode is: `+o.toString(D));switch(I===o.KANJI&&!E.isKanjiModeEnabled()&&(I=o.BYTE),I){case o.NUMERIC:return new f(w);case o.ALPHANUMERIC:return new l(w);case o.KANJI:return new g(w);case o.BYTE:return new c(w)}}u.fromArray=function(P){return P.reduce(function(I,D){return typeof D=="string"?I.push(s(D,null)):D.data&&I.push(s(D.data,D.mode)),I},[])},u.fromString=function(P,I){const D=S(P,E.isKanjiModeEnabled()),N=_(D),C=d(N,I),A=y.find_path(C.map,"start","end"),L=[];for(let U=1;U<A.length-1;U++)L.push(C.table[A[U]].node);return u.fromArray(T(L))},u.rawSplit=function(P){return u.fromArray(S(P,E.isKanjiModeEnabled()))}},10242:(z,u)=>{let e;const o=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];u.getSymbolSize=function(l){if(!l)throw new Error('"version" cannot be null or undefined');if(l<1||l>40)throw new Error('"version" should be in range from 1 to 40');return l*4+17},u.getSymbolTotalCodewords=function(l){return o[l]},u.getBCHDigit=function(f){let l=0;for(;f!==0;)l++,f>>>=1;return l},u.setToSJISFunction=function(l){if(typeof l!="function")throw new Error('"toSJISFunc" is not a valid function.');e=l},u.isKanjiModeEnabled=function(){return typeof e!="undefined"},u.toSJIS=function(l){return e(l)}},43114:(z,u)=>{u.isValid=function(o){return!isNaN(o)&&o>=1&&o<=40}},23103:(z,u,e)=>{const o=e(10242),f=e(35393),l=e(64908),c=e(76910),g=e(43114),v=7973,E=o.getBCHDigit(v);function y(x,T,_){for(let d=1;d<=40;d++)if(T<=u.getCapacity(d,_,x))return d}function p(x,T){return c.getCharCountIndicator(x,T)+4}function O(x,T){let _=0;return x.forEach(function(d){const s=p(d.mode,T);_+=s+d.getBitsLength()}),_}function S(x,T){for(let _=1;_<=40;_++)if(O(x,_)<=u.getCapacity(_,T,c.MIXED))return _}u.from=function(T,_){return g.isValid(T)?parseInt(T,10):_},u.getCapacity=function(T,_,d){if(!g.isValid(T))throw new Error("Invalid QR Code version");typeof d=="undefined"&&(d=c.BYTE);const s=o.getSymbolTotalCodewords(T),w=f.getTotalCodewordsCount(T,_),P=(s-w)*8;if(d===c.MIXED)return P;const I=P-p(d,T);switch(d){case c.NUMERIC:return Math.floor(I/10*3);case c.ALPHANUMERIC:return Math.floor(I/11*2);case c.KANJI:return Math.floor(I/13);case c.BYTE:default:return Math.floor(I/8)}},u.getBestVersionForData=function(T,_){let d;const s=l.from(_,l.M);if(Array.isArray(T)){if(T.length>1)return S(T,s);if(T.length===0)return 1;d=T[0]}else d=T;return y(d.mode,d.getLength(),s)},u.getEncodedBits=function(T){if(!g.isValid(T)||T<7)throw new Error("Invalid QR Code version");let _=T<<12;for(;o.getBCHDigit(_)-E>=0;)_^=v<<o.getBCHDigit(_)-E;return T<<12|_}},6907:(z,u,e)=>{const o=e(89653);function f(c,g,v){c.clearRect(0,0,g.width,g.height),g.style||(g.style={}),g.height=v,g.width=v,g.style.height=v+"px",g.style.width=v+"px"}function l(){try{return document.createElement("canvas")}catch(c){throw new Error("You need to specify a canvas element")}}u.render=function(g,v,E){let y=E,p=v;typeof y=="undefined"&&(!v||!v.getContext)&&(y=v,v=void 0),v||(p=l()),y=o.getOptions(y);const O=o.getImageWidth(g.modules.size,y),S=p.getContext("2d"),x=S.createImageData(O,O);return o.qrToImageData(x.data,g,y),f(S,p,O),S.putImageData(x,0,0),p},u.renderToDataURL=function(g,v,E){let y=E;typeof y=="undefined"&&(!v||!v.getContext)&&(y=v,v=void 0),y||(y={});const p=u.render(g,v,y),O=y.type||"image/png",S=y.rendererOpts||{};return p.toDataURL(O,S.quality)}},93776:(z,u,e)=>{const o=e(89653);function f(g,v){const E=g.a/255,y=v+'="'+g.hex+'"';return E<1?y+" "+v+'-opacity="'+E.toFixed(2).slice(1)+'"':y}function l(g,v,E){let y=g+v;return typeof E!="undefined"&&(y+=" "+E),y}function c(g,v,E){let y="",p=0,O=!1,S=0;for(let x=0;x<g.length;x++){const T=Math.floor(x%v),_=Math.floor(x/v);!T&&!O&&(O=!0),g[x]?(S++,x>0&&T>0&&g[x-1]||(y+=O?l("M",T+E,.5+_+E):l("m",p,0),p=0,O=!1),T+1<v&&g[x+1]||(y+=l("h",S),S=0)):p++}return y}u.render=function(v,E,y){const p=o.getOptions(E),O=v.modules.size,S=v.modules.data,x=O+p.margin*2,T=p.color.light.a?"<path "+f(p.color.light,"fill")+' d="M0 0h'+x+"v"+x+'H0z"/>':"",_="<path "+f(p.color.dark,"stroke")+' d="'+c(S,O,p.margin)+'"/>',d='viewBox="0 0 '+x+" "+x+'"',w='<svg xmlns="http://www.w3.org/2000/svg" '+(p.width?'width="'+p.width+'" height="'+p.width+'" ':"")+d+' shape-rendering="crispEdges">'+T+_+`</svg>
`;return typeof y=="function"&&y(null,w),w}},89653:(z,u)=>{function e(o){if(typeof o=="number"&&(o=o.toString()),typeof o!="string")throw new Error("Color should be defined as hex string");let f=o.slice().replace("#","").split("");if(f.length<3||f.length===5||f.length>8)throw new Error("Invalid hex color: "+o);(f.length===3||f.length===4)&&(f=Array.prototype.concat.apply([],f.map(function(c){return[c,c]}))),f.length===6&&f.push("F","F");const l=parseInt(f.join(""),16);return{r:l>>24&255,g:l>>16&255,b:l>>8&255,a:l&255,hex:"#"+f.slice(0,6).join("")}}u.getOptions=function(f){f||(f={}),f.color||(f.color={});const l=typeof f.margin=="undefined"||f.margin===null||f.margin<0?4:f.margin,c=f.width&&f.width>=21?f.width:void 0,g=f.scale||4;return{width:c,scale:c?4:g,margin:l,color:{dark:e(f.color.dark||"#000000ff"),light:e(f.color.light||"#ffffffff")},type:f.type,rendererOpts:f.rendererOpts||{}}},u.getScale=function(f,l){return l.width&&l.width>=f+l.margin*2?l.width/(f+l.margin*2):l.scale},u.getImageWidth=function(f,l){const c=u.getScale(f,l);return Math.floor((f+l.margin*2)*c)},u.qrToImageData=function(f,l,c){const g=l.modules.size,v=l.modules.data,E=u.getScale(g,c),y=Math.floor((g+c.margin*2)*E),p=c.margin*E,O=[c.color.light,c.color.dark];for(let S=0;S<y;S++)for(let x=0;x<y;x++){let T=(S*y+x)*4,_=c.color.light;if(S>=p&&x>=p&&S<y-p&&x<y-p){const d=Math.floor((S-p)/E),s=Math.floor((x-p)/E);_=O[v[d*g+s]?1:0]}f[T++]=_.r,f[T++]=_.g,f[T++]=_.b,f[T]=_.a}}},55798:z=>{"use strict";var u=String.prototype.replace,e=/%20/g,o={RFC1738:"RFC1738",RFC3986:"RFC3986"};z.exports={default:o.RFC3986,formatters:{RFC1738:function(f){return u.call(f,e,"+")},RFC3986:function(f){return String(f)}},RFC1738:o.RFC1738,RFC3986:o.RFC3986}},80129:(z,u,e)=>{"use strict";var o=e(58261),f=e(55235),l=e(55798);z.exports={formats:l,parse:f,stringify:o}},55235:(z,u,e)=>{"use strict";var o=e(12769),f=Object.prototype.hasOwnProperty,l=Array.isArray,c={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:o.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},g=function(T){return T.replace(/&#(\d+);/g,function(_,d){return String.fromCharCode(parseInt(d,10))})},v=function(T,_){return T&&typeof T=="string"&&_.comma&&T.indexOf(",")>-1?T.split(","):T},E="utf8=%26%2310003%3B",y="utf8=%E2%9C%93",p=function(_,d){var s={},w=d.ignoreQueryPrefix?_.replace(/^\?/,""):_,P=d.parameterLimit===1/0?void 0:d.parameterLimit,I=w.split(d.delimiter,P),D=-1,N,C=d.charset;if(d.charsetSentinel)for(N=0;N<I.length;++N)I[N].indexOf("utf8=")===0&&(I[N]===y?C="utf-8":I[N]===E&&(C="iso-8859-1"),D=N,N=I.length);for(N=0;N<I.length;++N)if(N!==D){var A=I[N],L=A.indexOf("]="),U=L===-1?A.indexOf("="):L+1,W,G;U===-1?(W=d.decoder(A,c.decoder,C,"key"),G=d.strictNullHandling?null:""):(W=d.decoder(A.slice(0,U),c.decoder,C,"key"),G=o.maybeMap(v(A.slice(U+1),d),function($){return d.decoder($,c.decoder,C,"value")})),G&&d.interpretNumericEntities&&C==="iso-8859-1"&&(G=g(G)),A.indexOf("[]=")>-1&&(G=l(G)?[G]:G),f.call(s,W)?s[W]=o.combine(s[W],G):s[W]=G}return s},O=function(T,_,d,s){for(var w=s?_:v(_,d),P=T.length-1;P>=0;--P){var I,D=T[P];if(D==="[]"&&d.parseArrays)I=[].concat(w);else{I=d.plainObjects?Object.create(null):{};var N=D.charAt(0)==="["&&D.charAt(D.length-1)==="]"?D.slice(1,-1):D,C=parseInt(N,10);!d.parseArrays&&N===""?I={0:w}:!isNaN(C)&&D!==N&&String(C)===N&&C>=0&&d.parseArrays&&C<=d.arrayLimit?(I=[],I[C]=w):N!=="__proto__"&&(I[N]=w)}w=I}return w},S=function(_,d,s,w){if(_){var P=s.allowDots?_.replace(/\.([^.[]+)/g,"[$1]"):_,I=/(\[[^[\]]*])/,D=/(\[[^[\]]*])/g,N=s.depth>0&&I.exec(P),C=N?P.slice(0,N.index):P,A=[];if(C){if(!s.plainObjects&&f.call(Object.prototype,C)&&!s.allowPrototypes)return;A.push(C)}for(var L=0;s.depth>0&&(N=D.exec(P))!==null&&L<s.depth;){if(L+=1,!s.plainObjects&&f.call(Object.prototype,N[1].slice(1,-1))&&!s.allowPrototypes)return;A.push(N[1])}return N&&A.push("["+P.slice(N.index)+"]"),O(A,d,s,w)}},x=function(_){if(!_)return c;if(_.decoder!==null&&_.decoder!==void 0&&typeof _.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof _.charset!="undefined"&&_.charset!=="utf-8"&&_.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var d=typeof _.charset=="undefined"?c.charset:_.charset;return{allowDots:typeof _.allowDots=="undefined"?c.allowDots:!!_.allowDots,allowPrototypes:typeof _.allowPrototypes=="boolean"?_.allowPrototypes:c.allowPrototypes,allowSparse:typeof _.allowSparse=="boolean"?_.allowSparse:c.allowSparse,arrayLimit:typeof _.arrayLimit=="number"?_.arrayLimit:c.arrayLimit,charset:d,charsetSentinel:typeof _.charsetSentinel=="boolean"?_.charsetSentinel:c.charsetSentinel,comma:typeof _.comma=="boolean"?_.comma:c.comma,decoder:typeof _.decoder=="function"?_.decoder:c.decoder,delimiter:typeof _.delimiter=="string"||o.isRegExp(_.delimiter)?_.delimiter:c.delimiter,depth:typeof _.depth=="number"||_.depth===!1?+_.depth:c.depth,ignoreQueryPrefix:_.ignoreQueryPrefix===!0,interpretNumericEntities:typeof _.interpretNumericEntities=="boolean"?_.interpretNumericEntities:c.interpretNumericEntities,parameterLimit:typeof _.parameterLimit=="number"?_.parameterLimit:c.parameterLimit,parseArrays:_.parseArrays!==!1,plainObjects:typeof _.plainObjects=="boolean"?_.plainObjects:c.plainObjects,strictNullHandling:typeof _.strictNullHandling=="boolean"?_.strictNullHandling:c.strictNullHandling}};z.exports=function(T,_){var d=x(_);if(T===""||T===null||typeof T=="undefined")return d.plainObjects?Object.create(null):{};for(var s=typeof T=="string"?p(T,d):T,w=d.plainObjects?Object.create(null):{},P=Object.keys(s),I=0;I<P.length;++I){var D=P[I],N=S(D,s[D],d,typeof T=="string");w=o.merge(w,N,d)}return d.allowSparse===!0?w:o.compact(w)}},58261:(z,u,e)=>{"use strict";var o=e(37478),f=e(12769),l=e(55798),c=Object.prototype.hasOwnProperty,g={brackets:function(P){return P+"[]"},comma:"comma",indices:function(P,I){return P+"["+I+"]"},repeat:function(P){return P}},v=Array.isArray,E=String.prototype.split,y=Array.prototype.push,p=function(w,P){y.apply(w,v(P)?P:[P])},O=Date.prototype.toISOString,S=l.default,x={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:f.encode,encodeValuesOnly:!1,format:S,formatter:l.formatters[S],indices:!1,serializeDate:function(P){return O.call(P)},skipNulls:!1,strictNullHandling:!1},T=function(P){return typeof P=="string"||typeof P=="number"||typeof P=="boolean"||typeof P=="symbol"||typeof P=="bigint"},_={},d=function w(P,I,D,N,C,A,L,U,W,G,$,q,J,R,j,ie){for(var le=P,ye=ie,ue=0,oe=!1;(ye=ye.get(_))!==void 0&&!oe;){var te=ye.get(P);if(ue+=1,typeof te!="undefined"){if(te===ue)throw new RangeError("Cyclic object value");oe=!0}typeof ye.get(_)=="undefined"&&(ue=0)}if(typeof U=="function"?le=U(I,le):le instanceof Date?le=$(le):D==="comma"&&v(le)&&(le=f.maybeMap(le,function(He){return He instanceof Date?$(He):He})),le===null){if(C)return L&&!R?L(I,x.encoder,j,"key",q):I;le=""}if(T(le)||f.isBuffer(le)){if(L){var Z=R?I:L(I,x.encoder,j,"key",q);if(D==="comma"&&R){for(var re=E.call(String(le),","),ae="",se=0;se<re.length;++se)ae+=(se===0?"":",")+J(L(re[se],x.encoder,j,"value",q));return[J(Z)+(N&&v(le)&&re.length===1?"[]":"")+"="+ae]}return[J(Z)+"="+J(L(le,x.encoder,j,"value",q))]}return[J(I)+"="+J(String(le))]}var be=[];if(typeof le=="undefined")return be;var _e;if(D==="comma"&&v(le))_e=[{value:le.length>0?le.join(",")||null:void 0}];else if(v(U))_e=U;else{var pe=Object.keys(le);_e=W?pe.sort(W):pe}for(var me=N&&v(le)&&le.length===1?I+"[]":I,Te=0;Te<_e.length;++Te){var ve=_e[Te],ce=typeof ve=="object"&&typeof ve.value!="undefined"?ve.value:le[ve];if(!(A&&ce===null)){var Le=v(le)?typeof D=="function"?D(me,ve):me:me+(G?"."+ve:"["+ve+"]");ie.set(P,ue);var Ne=o();Ne.set(_,ie),p(be,w(ce,Le,D,N,C,A,L,U,W,G,$,q,J,R,j,Ne))}}return be},s=function(P){if(!P)return x;if(P.encoder!==null&&typeof P.encoder!="undefined"&&typeof P.encoder!="function")throw new TypeError("Encoder has to be a function.");var I=P.charset||x.charset;if(typeof P.charset!="undefined"&&P.charset!=="utf-8"&&P.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var D=l.default;if(typeof P.format!="undefined"){if(!c.call(l.formatters,P.format))throw new TypeError("Unknown format option provided.");D=P.format}var N=l.formatters[D],C=x.filter;return(typeof P.filter=="function"||v(P.filter))&&(C=P.filter),{addQueryPrefix:typeof P.addQueryPrefix=="boolean"?P.addQueryPrefix:x.addQueryPrefix,allowDots:typeof P.allowDots=="undefined"?x.allowDots:!!P.allowDots,charset:I,charsetSentinel:typeof P.charsetSentinel=="boolean"?P.charsetSentinel:x.charsetSentinel,delimiter:typeof P.delimiter=="undefined"?x.delimiter:P.delimiter,encode:typeof P.encode=="boolean"?P.encode:x.encode,encoder:typeof P.encoder=="function"?P.encoder:x.encoder,encodeValuesOnly:typeof P.encodeValuesOnly=="boolean"?P.encodeValuesOnly:x.encodeValuesOnly,filter:C,format:D,formatter:N,serializeDate:typeof P.serializeDate=="function"?P.serializeDate:x.serializeDate,skipNulls:typeof P.skipNulls=="boolean"?P.skipNulls:x.skipNulls,sort:typeof P.sort=="function"?P.sort:null,strictNullHandling:typeof P.strictNullHandling=="boolean"?P.strictNullHandling:x.strictNullHandling}};z.exports=function(w,P){var I=w,D=s(P),N,C;typeof D.filter=="function"?(C=D.filter,I=C("",I)):v(D.filter)&&(C=D.filter,N=C);var A=[];if(typeof I!="object"||I===null)return"";var L;P&&P.arrayFormat in g?L=P.arrayFormat:P&&"indices"in P?L=P.indices?"indices":"repeat":L="indices";var U=g[L];if(P&&"commaRoundTrip"in P&&typeof P.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var W=U==="comma"&&P&&P.commaRoundTrip;N||(N=Object.keys(I)),D.sort&&N.sort(D.sort);for(var G=o(),$=0;$<N.length;++$){var q=N[$];D.skipNulls&&I[q]===null||p(A,d(I[q],q,U,W,D.strictNullHandling,D.skipNulls,D.encode?D.encoder:null,D.filter,D.sort,D.allowDots,D.serializeDate,D.format,D.formatter,D.encodeValuesOnly,D.charset,G))}var J=A.join(D.delimiter),R=D.addQueryPrefix===!0?"?":"";return D.charsetSentinel&&(D.charset==="iso-8859-1"?R+="utf8=%26%2310003%3B&":R+="utf8=%E2%9C%93&"),J.length>0?R+J:""}},12769:(z,u,e)=>{"use strict";var o=e(55798),f=Object.prototype.hasOwnProperty,l=Array.isArray,c=function(){for(var s=[],w=0;w<256;++w)s.push("%"+((w<16?"0":"")+w.toString(16)).toUpperCase());return s}(),g=function(w){for(;w.length>1;){var P=w.pop(),I=P.obj[P.prop];if(l(I)){for(var D=[],N=0;N<I.length;++N)typeof I[N]!="undefined"&&D.push(I[N]);P.obj[P.prop]=D}}},v=function(w,P){for(var I=P&&P.plainObjects?Object.create(null):{},D=0;D<w.length;++D)typeof w[D]!="undefined"&&(I[D]=w[D]);return I},E=function s(w,P,I){if(!P)return w;if(typeof P!="object"){if(l(w))w.push(P);else if(w&&typeof w=="object")(I&&(I.plainObjects||I.allowPrototypes)||!f.call(Object.prototype,P))&&(w[P]=!0);else return[w,P];return w}if(!w||typeof w!="object")return[w].concat(P);var D=w;return l(w)&&!l(P)&&(D=v(w,I)),l(w)&&l(P)?(P.forEach(function(N,C){if(f.call(w,C)){var A=w[C];A&&typeof A=="object"&&N&&typeof N=="object"?w[C]=s(A,N,I):w.push(N)}else w[C]=N}),w):Object.keys(P).reduce(function(N,C){var A=P[C];return f.call(N,C)?N[C]=s(N[C],A,I):N[C]=A,N},D)},y=function(w,P){return Object.keys(P).reduce(function(I,D){return I[D]=P[D],I},w)},p=function(s,w,P){var I=s.replace(/\+/g," ");if(P==="iso-8859-1")return I.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(I)}catch(D){return I}},O=function(w,P,I,D,N){if(w.length===0)return w;var C=w;if(typeof w=="symbol"?C=Symbol.prototype.toString.call(w):typeof w!="string"&&(C=String(w)),I==="iso-8859-1")return escape(C).replace(/%u[0-9a-f]{4}/gi,function(W){return"%26%23"+parseInt(W.slice(2),16)+"%3B"});for(var A="",L=0;L<C.length;++L){var U=C.charCodeAt(L);if(U===45||U===46||U===95||U===126||U>=48&&U<=57||U>=65&&U<=90||U>=97&&U<=122||N===o.RFC1738&&(U===40||U===41)){A+=C.charAt(L);continue}if(U<128){A=A+c[U];continue}if(U<2048){A=A+(c[192|U>>6]+c[128|U&63]);continue}if(U<55296||U>=57344){A=A+(c[224|U>>12]+c[128|U>>6&63]+c[128|U&63]);continue}L+=1,U=65536+((U&1023)<<10|C.charCodeAt(L)&1023),A+=c[240|U>>18]+c[128|U>>12&63]+c[128|U>>6&63]+c[128|U&63]}return A},S=function(w){for(var P=[{obj:{o:w},prop:"o"}],I=[],D=0;D<P.length;++D)for(var N=P[D],C=N.obj[N.prop],A=Object.keys(C),L=0;L<A.length;++L){var U=A[L],W=C[U];typeof W=="object"&&W!==null&&I.indexOf(W)===-1&&(P.push({obj:C,prop:U}),I.push(W))}return g(P),w},x=function(w){return Object.prototype.toString.call(w)==="[object RegExp]"},T=function(w){return!w||typeof w!="object"?!1:!!(w.constructor&&w.constructor.isBuffer&&w.constructor.isBuffer(w))},_=function(w,P){return[].concat(w,P)},d=function(w,P){if(l(w)){for(var I=[],D=0;D<w.length;D+=1)I.push(P(w[D]));return I}return P(w)};z.exports={arrayToObject:v,assign:y,combine:_,compact:S,decode:p,encode:O,isBuffer:T,isRegExp:x,maybeMap:d,merge:E}},62587:z=>{"use strict";function u(e,o){return Object.prototype.hasOwnProperty.call(e,o)}z.exports=function(e,o,f,l){o=o||"&",f=f||"=";var c={};if(typeof e!="string"||e.length===0)return c;var g=/\+/g;e=e.split(o);var v=1e3;l&&typeof l.maxKeys=="number"&&(v=l.maxKeys);var E=e.length;v>0&&E>v&&(E=v);for(var y=0;y<E;++y){var p=e[y].replace(g,"%20"),O=p.indexOf(f),S,x,T,_;O>=0?(S=p.substr(0,O),x=p.substr(O+1)):(S=p,x=""),T=decodeURIComponent(S),_=decodeURIComponent(x),u(c,T)?Array.isArray(c[T])?c[T].push(_):c[T]=[c[T],_]:c[T]=_}return c}},12361:z=>{"use strict";var u=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};z.exports=function(e,o,f,l){return o=o||"&",f=f||"=",e===null&&(e=void 0),typeof e=="object"?Object.keys(e).map(function(c){var g=encodeURIComponent(u(c))+f;return Array.isArray(e[c])?e[c].map(function(v){return g+encodeURIComponent(u(v))}).join(o):g+encodeURIComponent(u(e[c]))}).join(o):l?encodeURIComponent(u(l))+f+encodeURIComponent(u(e)):""}},17673:(z,u,e)=>{"use strict";u.decode=u.parse=e(62587),u.encode=u.stringify=e(12361)},35639:(z,u,e)=>{"use strict";var o;o={value:!0};var f=Object.assign||function(D){for(var N=1;N<arguments.length;N++){var C=arguments[N];for(var A in C)Object.prototype.hasOwnProperty.call(C,A)&&(D[A]=C[A])}return D},l=function(){function D(N,C){for(var A=0;A<C.length;A++){var L=C[A];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(N,L.key,L)}}return function(N,C,A){return C&&D(N.prototype,C),A&&D(N,A),N}}(),c=e(98661),g=y(c),v=e(45697),E=y(v);function y(D){return D&&D.__esModule?D:{default:D}}function p(D,N){var C={};for(var A in D)N.indexOf(A)>=0||Object.prototype.hasOwnProperty.call(D,A)&&(C[A]=D[A]);return C}function O(D,N){if(!(D instanceof N))throw new TypeError("Cannot call a class as a function")}function S(D,N){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:D}function x(D,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);D.prototype=Object.create(N&&N.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(D,N):D.__proto__=N)}var T={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},_=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],d=function(N){return _.forEach(function(C){return delete N[C]}),N},s=function(N,C){C.style.fontSize=N.fontSize,C.style.fontFamily=N.fontFamily,C.style.fontWeight=N.fontWeight,C.style.fontStyle=N.fontStyle,C.style.letterSpacing=N.letterSpacing,C.style.textTransform=N.textTransform},w=typeof window!="undefined"&&window.navigator?/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent):!1,P=function(){return w?"_"+Math.random().toString(36).substr(2,12):void 0},I=function(D){x(N,D),l(N,null,[{key:"getDerivedStateFromProps",value:function(A,L){var U=A.id;return U!==L.prevId?{inputId:U||P(),prevId:U}:null}}]);function N(C){O(this,N);var A=S(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,C));return A.inputRef=function(L){A.input=L,typeof A.props.inputRef=="function"&&A.props.inputRef(L)},A.placeHolderSizerRef=function(L){A.placeHolderSizer=L},A.sizerRef=function(L){A.sizer=L},A.state={inputWidth:C.minWidth,inputId:C.id||P(),prevId:C.id},A}return l(N,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"componentDidUpdate",value:function(A,L){L.inputWidth!==this.state.inputWidth&&typeof this.props.onAutosize=="function"&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(!(!this.mounted||!window.getComputedStyle)){var A=this.input&&window.getComputedStyle(this.input);A&&(s(A,this.sizer),this.placeHolderSizer&&s(A,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(!(!this.mounted||!this.sizer||typeof this.sizer.scrollWidth=="undefined")){var A=void 0;this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?A=Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:A=this.sizer.scrollWidth+2;var L=this.props.type==="number"&&this.props.extraWidth===void 0?16:parseInt(this.props.extraWidth)||0;A+=L,A<this.props.minWidth&&(A=this.props.minWidth),A!==this.state.inputWidth&&this.setState({inputWidth:A})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var A=this.props.injectStyles;return w&&A?g.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var A=[this.props.defaultValue,this.props.value,""].reduce(function(G,$){return G!=null?G:$}),L=f({},this.props.style);L.display||(L.display="inline-block");var U=f({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),W=p(this.props,[]);return d(W),W.className=this.props.inputClassName,W.id=this.state.inputId,W.style=U,g.default.createElement("div",{className:this.props.className,style:L},this.renderStyles(),g.default.createElement("input",f({},W,{ref:this.inputRef})),g.default.createElement("div",{ref:this.sizerRef,style:T},A),this.props.placeholder?g.default.createElement("div",{ref:this.placeHolderSizerRef,style:T},this.props.placeholder):null)}}]),N}(c.Component);I.propTypes={className:E.default.string,defaultValue:E.default.any,extraWidth:E.default.oneOfType([E.default.number,E.default.string]),id:E.default.string,injectStyles:E.default.bool,inputClassName:E.default.string,inputRef:E.default.func,inputStyle:E.default.object,minWidth:E.default.oneOfType([E.default.number,E.default.string]),onAutosize:E.default.func,onChange:E.default.func,placeholder:E.default.string,placeholderIsMinWidth:E.default.bool,style:E.default.object,value:E.default.any},I.defaultProps={minWidth:1,injectStyles:!0},u.Z=I},62372:(z,u,e)=>{"use strict";e.d(u,{XI:()=>je,sJ:()=>He});var o=e(98661);function f(De,Be){for(var Ke=0;Ke<Be.length;Ke++){var it=Be[Ke];it.enumerable=it.enumerable||!1,it.configurable=!0,"value"in it&&(it.writable=!0),Object.defineProperty(De,it.key,it)}}function l(De,Be,Ke){return Be&&f(De.prototype,Be),Ke&&f(De,Ke),De}function c(){return c=Object.assign||function(De){for(var Be=1;Be<arguments.length;Be++){var Ke=arguments[Be];for(var it in Ke)Object.prototype.hasOwnProperty.call(Ke,it)&&(De[it]=Ke[it])}return De},c.apply(this,arguments)}function g(De,Be){De.prototype=Object.create(Be.prototype),De.prototype.constructor=De,v(De,Be)}function v(De,Be){return v=Object.setPrototypeOf||function(it,Qe){return it.__proto__=Qe,it},v(De,Be)}function E(De,Be){if(De==null)return{};var Ke={},it=Object.keys(De),Qe,Ae;for(Ae=0;Ae<it.length;Ae++)Qe=it[Ae],!(Be.indexOf(Qe)>=0)&&(Ke[Qe]=De[Qe]);return Ke}function y(De,Be){if(De){if(typeof De=="string")return p(De,Be);var Ke=Object.prototype.toString.call(De).slice(8,-1);if(Ke==="Object"&&De.constructor&&(Ke=De.constructor.name),Ke==="Map"||Ke==="Set")return Array.from(De);if(Ke==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ke))return p(De,Be)}}function p(De,Be){(Be==null||Be>De.length)&&(Be=De.length);for(var Ke=0,it=new Array(Be);Ke<Be;Ke++)it[Ke]=De[Ke];return it}function O(De,Be){var Ke=typeof Symbol!="undefined"&&De[Symbol.iterator]||De["@@iterator"];if(Ke)return(Ke=Ke.call(De)).next.bind(Ke);if(Array.isArray(De)||(Ke=y(De))||Be&&De&&typeof De.length=="number"){Ke&&(De=Ke);var it=0;return function(){return it>=De.length?{done:!0}:{done:!1,value:De[it++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S(De){var Be=(0,o.useRef)(null);function Ke(it){!it||it===Be.current||(Be.current=it,De(it))}return Ke}function x(De){var Be=(0,o.useRef)(De);return(0,o.useMemo)(function(){function Ke(Qe){typeof Qe=="function"?Be.current=Qe(Be.current):Be.current=Qe}function it(){return Be.current}return[it,Ke]},[])}function T(){var De=(0,o.useRef)([]);return(0,o.useMemo)(function(){function Be(){return De.current.length>0}function Ke(){for(var Qe=O(De.current),Ae;!(Ae=Qe()).done;){var H=Ae.value;H()}De.current=[]}function it(Qe){De.current.push(Qe)}return{hasEventSubscriptions:Be,removeAllEventSubscriptions:Ke,addEventSubscription:it}},[])}var _=typeof window!="undefined"?o.useLayoutEffect:o.useEffect;function d(De,Be){var Ke=(0,o.useRef)(De);return Be?(Ke.current=De,Ke):(Ke.current=null,Ke)}var s={top:0,left:0,right:1,bottom:1,width:1,height:1};function w(De){var Be=De===void 0?{}:De,Ke=Be.enabled,it=Ke===void 0?!0:Ke,Qe=Be.preventDefault,Ae=Qe===void 0?!0:Qe,H=useRef(null),ee=useState(s),de=ee[0],Ee=ee[1];function Me(){Ee(s)}var $e=de!==s;function dt(ct){if(it){Ae&&ct.preventDefault();var wt=ct.clientX,Mt=ct.clientY;Ee({top:Mt,left:wt,width:1,height:1,right:wt+1,bottom:Mt+1})}}return{hasMousePosition:$e,resetMousePosition:Me,handleMouseEvent:dt,trigger:{getBounds:function(){return de},getParent:H.current?function(){return H.current}:void 0},parentRef:H}}function P(De){return parseFloat(De.replace("px",""))}function I(De,Be,Ke){return De<Be?Be:De>Ke?Ke:De}function D(De){return De!=null}function N(){for(var De=arguments.length,Be=new Array(De),Ke=0;Ke<De;Ke++)Be[Ke]=arguments[Ke];return function(it){for(var Qe=O(Be),Ae;!(Ae=Qe()).done;){var H=Ae.value;H&&(typeof H=="function"?H(it):H.current=it)}}}function C(De,Be){if(typeof De!="undefined")return Be||De.ResizeObserver}function A(De,Be){var Ke=[];if(!De||!Be||De===document.body)return Ke;var it=Be.getComputedStyle(De),Qe=it.overflow,Ae=it.overflowX,H=it.overflowY;return[Qe,Ae,H].some(function(ee){return["auto","scroll"].includes(ee)})&&Ke.push(De),[].concat(Ke,A(De.parentElement,Be))}function L(De){return"react-laag: Could not find a valid reference for the "+De+` element. There might be 2 causes:
   - Make sure that the 'ref' is set correctly on the `+De+` element when isOpen: true. Also make sure your component forwards the ref with "forwardRef()".
   - Make sure that you are actually rendering the `+De+" when the isOpen prop is set to true"}function U(De){var Be=De.enabled,Ke=De.onChange,it=De.environment,Qe=De.ResizeObserverPolyfill,Ae=De.overflowContainer,H=De.triggerOption,ee=C(it,Qe);(0,o.useEffect)(function(){},[ee]);var de=(0,o.useRef)(null),Ee=!!H,Me=x({scrollContainers:[],trigger:null,layer:null}),$e=Me[0],dt=Me[1],ct=T(),wt=ct.hasEventSubscriptions,Mt=ct.addEventSubscription,pn=ct.removeAllEventSubscriptions,Mn=(0,o.useCallback)(function(){var At=$e(),Wt=At.layer,Zt=At.trigger,_n=At.scrollContainers,Kn=_n[0];if(!Wt)throw new Error(L("layer"));if(!Zt&&!Ee)throw new Error(L("trigger"));var wr={top:0,left:0};if(Kn){var Nr=Kn.scrollLeft,no=Kn.scrollTop;wr={top:no,left:Nr}}else{var Jr=it.scrollX,$r=it.scrollY;wr={top:$r,left:Jr}}var bo={left:0,top:0};if(Kn){var mo=it.getComputedStyle(Kn),So=mo.borderLeftWidth,go=mo.borderTopWidth;bo={left:P(So)||0,top:P(go)||0}}Ke({layer:Wt,trigger:Zt,scrollContainers:_n,arrow:de.current},wr,bo)},[$e,Ke,it,de,Ee]),$n=(0,o.useCallback)(function(){var At=$e(),Wt=At.trigger,Zt=At.layer,_n=At.scrollContainers;if(!Zt)throw new Error(L("layer"));if(!Wt&&!Ee)throw new Error(L("trigger"));if(ee){for(var Kn=!1,wr=function(){if(!Kn){Kn=!0;return}Mn()},Nr=new ee(wr),no=0,Jr=[Wt,Zt,document.body];no<Jr.length;no++){var $r=Jr[no];$r&&Nr.observe($r)}Mt(function(){for(var Eo=0,ro=[Wt,Zt,document.body];Eo<ro.length;Eo++){var po=ro[Eo];po&&Nr.unobserve(po)}Nr.disconnect()})}for(var bo=[it].concat(_n),mo=function(){var ro=go.value;ro.addEventListener("scroll",Mn),Mt(function(){return ro.removeEventListener("scroll",Mn)})},So=O(bo),go;!(go=So()).done;)mo()},[$e,Mt,Mn,it,ee,Ee]),mr=(0,o.useCallback)(function(Dr,At){Be&&Dr&&Dr!==At&&(pn(),$n(),Mn())},[pn,$n,Mn,Be]),jn=S((0,o.useCallback)(function(Dr){var At=$e(),Wt=At.layer;dt(function(Zt){return c({},Zt,{layer:Dr})}),mr(Wt,Dr)},[$e,dt,mr])),dr=(0,o.useCallback)(function(At){var Wt=A(At,it),Zt=Wt[0];if(Zt){var _n=it.getComputedStyle(Zt).position,Kn=["relative","absolute","fixed"].includes(_n)||Ae;Kn||(Zt.style.position="relative")}return Wt},[it,Ae]),nn=S((0,o.useCallback)(function(Dr){var At=dr(Dr),Wt=$e(),Zt=Wt.trigger;dt(function(_n){return c({},_n,{trigger:Dr,scrollContainers:At})}),mr(Zt,Dr)},[$e,dt,mr,dr])),jr=H==null||H.getParent==null?void 0:H.getParent();return _(function(){jr&&dt(function(Dr){return c({},Dr,{scrollContainers:dr(jr)})})},[jr,dt,dr]),_(function(){return Be&&(wt()||$n()),function(){wt()&&pn()}},[Be,wt,$n,pn]),_(function(){Be&&Mn()}),{triggerRef:nn,layerRef:jn,arrowRef:de,closestScrollContainer:$e().scrollContainers[0]||null}}var W=(0,o.createContext)({});function G(De){var Be=De.children,Ke=De.registrations,it=(0,o.useCallback)(function(Ae){return Ke.current.add(Ae),function(){return Ke.current.delete(Ae)}},[Ke]);return(0,o.createElement)(W.Provider,{value:it},Be)}function $(De,Be){for(var Ke=O(De),it;!(it=Ke()).done;){var Qe=it.value.shouldCloseWhenClickedOutside;if(!Qe(Be))return!1}return!0}function q(De){var Be=De.isOpen,Ke=De.onOutsideClick,it=De.onParentClose,Qe=(0,o.useRef)(null),Ae=(0,o.useRef)(null),H=(0,o.useRef)(new Set),ee=(0,o.useContext)(W),de=(0,o.useCallback)(function(Me){var $e=Me.target,dt=Qe.current&&Qe.current.contains($e),ct=Ae.current&&Ae.current.contains($e),wt=$(H.current,Me);return ct&&wt&&H.current.forEach(function(Mt){var pn=Mt.closeChild;return pn()}),!dt&&!ct&&wt},[Qe,Ae,H]);return(0,o.useEffect)(function(){if(typeof ee=="function")return ee({shouldCloseWhenClickedOutside:de,closeChild:function(){it&&it()}})},[ee,de,it,H]),(0,o.useEffect)(function(){var Ee=typeof ee=="function",Me=!Be||!Ke||Ee;if(Me)return;function $e(dt){de(dt)&&Ke()}return document.addEventListener("click",$e,!0),function(){return document.removeEventListener("click",$e,!0)}},[Be,Ke,de,ee]),(0,o.useEffect)(function(){Be||H.current.forEach(function(Ee){var Me=Ee.closeChild;return Me()})},[Be]),{closeOnOutsideClickRefs:{trigger:Qe,layer:Ae},registrations:H}}var J=["bottom-start","bottom-end","bottom-center","top-start","top-center","top-end","left-end","left-center","left-start","right-end","right-center","right-start","center"],R={top:"bottom",left:"right",bottom:"top",right:"left",center:"center"},j=function(){function De(Ke,it,Qe,Ae,H,ee,de,Ee,Me){this.prop=void 0,this.opposite=void 0,this.isHorizontal=void 0,this.sizeProp=void 0,this.oppositeSizeProp=void 0,this.cssProp=void 0,this.oppositeCssProp=void 0,this.isCenter=void 0,this.isPush=void 0,this.prop=Ke,this.opposite=it,this.isHorizontal=Qe,this.sizeProp=Ae,this.oppositeSizeProp=H,this.cssProp=ee,this.oppositeCssProp=de,this.isCenter=Ee,this.isPush=Me}var Be=De.prototype;return Be.factor=function(it){return it*(this.isPush?1:-1)},Be.isOppositeDirection=function(it){return this.isHorizontal!==it.isHorizontal},De}();function ie(De,Be){Be===void 0&&(Be=!0);var Ke=["left","right"].includes(De);return new j(De,Be?ie(R[De],!1):null,Ke,Ke?"width":"height",Ke?"height":"width",Ke?"left":"top",Ke?"top":"left",De==="center",!["right","bottom"].includes(De))}var le={top:ie("top"),bottom:ie("bottom"),left:ie("left"),right:ie("right")},ye=c({},le,{center:ie("center")}),ue=["top","left","bottom","right"],oe=function(){function De(Be){return this.top=void 0,this.left=void 0,this.right=void 0,this.bottom=void 0,Object.assign(this,Be)}return De.mergeSmallestSides=function(Ke){var it=Ke[0],Qe=Ke.slice(1);if(!it)throw new Error("Please provide at least 1 bounds objects in order to merge");for(var Ae=Object.fromEntries(ue.map(function(dt){return[dt,it[dt]]})),H=O(Qe),ee;!(ee=H()).done;)for(var de=ee.value,Ee=O(ue),Me;!(Me=Ee()).done;){var $e=Me.value;Ae[$e]=Math.min(Ae[$e],de[$e])}return new De(Ae)},l(De,[{key:"allSidesArePositive",get:function(){var Ke=this;return ue.every(function(it){return Ke[it]>=0})}},{key:"negativeSides",get:function(){var Ke=this;return Object.fromEntries(ue.filter(function(it){return Ke[it]<0}).map(function(it){return[it,Ke[it]]}))}}]),De}();function te(){for(var De=arguments.length,Be=new Array(De),Ke=0;Ke<De;Ke++)Be[Ke]=arguments[Ke];return Be.reduce(function(it,Qe){return it+(Qe?P(Qe):0)},0)}function Z(De){var Be=De.top,Ke=De.left,it=De.right,Qe=De.bottom,Ae=De.width,H=De.height;return{top:Be,left:Ke,right:it,bottom:Qe,width:Ae,height:H}}var re={top:0,left:0,right:0,bottom:0,width:0,height:0},ae=function(){De.create=function(it){return new De(it)},De.fromElement=function(it,Qe){Qe===void 0&&(Qe={});var Ae=Qe,H=Ae.withTransform,ee=H===void 0?!0:H,de=Ae.environment,Ee=de===void 0?window:de,Me=Ae.withScrollbars,$e=Me===void 0?!0:Me,dt=Z(it.getBoundingClientRect()),ct=new De(dt);if(!ee){var wt=Ee.getComputedStyle(it),Mt=wt.width,pn=wt.height,Mn=wt.boxSizing,$n=wt.borderLeft,mr=wt.borderRight,jn=wt.borderTop,dr=wt.borderBottom,nn=wt.paddingLeft,jr=wt.paddingRight,Dr=wt.paddingTop,At=wt.paddingBottom,Wt=Mn==="border-box"?P(Mt):te(Mt,$n,mr,nn,jr),Zt=Mn==="border-box"?P(pn):te(pn,jn,dr,Dr,At);ct=new De(c({},ct,{width:Wt,height:Zt}))}if(!$e){var _n=ct.width-it.clientWidth,Kn=ct.height-it.clientHeight;return ct.substract({right:_n,bottom:Kn})}return ct},De.empty=function(){return new De},De.fromWindow=function(it){var Qe,Ae=(Qe=it==null?void 0:it.document.scrollingElement)!=null?Qe:it==null?void 0:it.document.documentElement,H=Ae!=null?Ae:{},ee=H.clientWidth,de=ee===void 0?0:ee,Ee=H.clientHeight,Me=Ee===void 0?0:Ee;return new De({width:de,height:Me,right:de,bottom:Me})};function De(Ke){return Ke===void 0&&(Ke={}),this.top=void 0,this.left=void 0,this.right=void 0,this.bottom=void 0,this.width=void 0,this.height=void 0,Object.assign(this,re,Ke)}var Be=De.prototype;return Be.toObject=function(){return Z(this)},Be.merge=function(it){var Qe=this.toObject();return new De(c({},Qe,typeof it=="function"?it(Qe):it))},Be.substract=function(it){for(var Qe=this.toObject(),Ae=Object.entries(it),H=0,ee=Ae;H<ee.length;H++){var de=ee[H],Ee=de[0],Me=de[1];if(Ee in le){var $e=le[Ee];Qe[Ee]+=$e.factor(Me),Qe[$e.isHorizontal?"width":"height"]-=Me}else Qe[Ee]-=Me||0}return new De(Qe)},Be.offsetsTo=function(it){return new oe({top:it.top-this.top,bottom:this.bottom-it.bottom,left:it.left-this.left,right:this.right-it.right})},Be.mapSides=function(it){for(var Qe=this.toObject(),Ae=Object.values(le),H=0,ee=Ae;H<ee.length;H++){var de=ee[H];Qe[de.prop]=it(de,Qe[de.prop])}return new De(Qe)},l(De,[{key:"surface",get:function(){return this.width*this.height}}]),De}(),se=function(){function De(Ke,it,Qe,Ae,H){this.primary=void 0,this.secondary=void 0,this.offsets=void 0,this.subjectsBounds=void 0,this._cachedLayerBounds=null,this._cachedContainerOffsets=null,this.primary=Ke,this.secondary=it,this.offsets=H,this.setSubjectsBounds(Qe,Ae)}var Be=De.prototype;return Be.setSubjectsBounds=function(it,Qe){if(!Qe){this.subjectsBounds=it;return}var Ae=typeof Qe=="function"?Qe(this.primary.prop):Qe;this.subjectsBounds=it.merge({layer:c({},it.layer,Ae)})},Be.getLayerBounds=function(it){if(it===void 0&&(it=0),this._cachedLayerBounds&&it===0)return this._cachedLayerBounds;var Qe=this.primary,Ae=this.secondary,H=this.subjectsBounds,ee=H.trigger,de=H.layer,Ee=H.arrow,Me=Qe.isHorizontal,$e=Qe.oppositeCssProp,dt=Qe.oppositeSizeProp,ct=Qe.prop,wt=Qe.opposite,Mt=ae.empty();Mt[wt.prop]=ee[ct]-Qe.factor(this.offsets.trigger),Mt[ct]=Mt[wt.prop]-Qe.factor(de[Qe.sizeProp]);var pn=this.offsets.arrow*2,Mn=ee[$e]-(de[dt]-Ee[dt])+pn,$n=ee[$e]+(ee[dt]-Ee[dt])-pn;if(Ae.isPush||(Mn+=de[dt],$n+=de[dt]),Ae.isCenter){var mr=(Me?le.top:le.left).prop,jn=(Me?le.bottom:le.right).prop;Mt[mr]=I(ee[mr]+ee[dt]/2-de[dt]/2+it,Mn,$n),Mt[jn]=Mt[mr]+de[dt]}else{var dr=Ae,nn=ee[dr.prop],jr=nn<Mn?Mn-nn:nn>$n?$n-nn:0;Mt[dr.prop]=I(nn+it+jr,Mn,$n),Mt[dr.opposite.prop]=Mt[dr.prop]+Ae.factor(de[dt])}Mt.width=Mt.right-Mt.left,Mt.height=Mt.bottom-Mt.top;var Dr=ae.create(Mt);return it===0&&(this._cachedLayerBounds=Dr),Dr},Be.getLayerCollisionBounds=function(){var it=this.offsets.container;return this.getLayerBounds().mapSides(function(Qe,Ae){return Ae-=Qe.factor(it)}).merge(function(Qe){var Ae=Qe.width,H=Qe.height;return{width:Ae+it*2,height:H+it*2}})},Be.getContainerOffsets=function(it){if(this._cachedContainerOffsets&&!it)return this._cachedContainerOffsets;var Qe=this.subjectsBounds.merge({layer:it||this.getLayerCollisionBounds()}),Ae=oe.mergeSmallestSides(Qe.layerOffsetsToScrollContainers);return it||(this._cachedContainerOffsets=Ae),Ae},l(De,[{key:"type",get:function(){return this.primary.prop+"-"+(this.secondary.prop==="center"?"center":["bottom","right"].includes(this.secondary.prop)?"end":"start")}},{key:"triggerIsBigger",get:function(){var it=this.secondary.isHorizontal,Qe=this.subjectsBounds,Ae=Qe.triggerHasBiggerWidth,H=Qe.triggerHasBiggerHeight;return it&&Ae||!it&&H}},{key:"fitsContainer",get:function(){return this.getContainerOffsets().allSidesArePositive}},{key:"visibleSurface",get:function(){var it=this.getLayerBounds(),Qe=this.getContainerOffsets(it),Ae=Qe.negativeSides;for(var H in Ae)Ae[H]=-Ae[H];return it.substract(Ae).surface}},{key:"secondaryOffsetSide",get:function(){var it,Qe,Ae=this,H=this.getContainerOffsets(),ee=(it=(Qe=Object.entries(H.negativeSides).map(function(Ee){var Me=Ee[0],$e=Ee[1];return[le[Me],$e]}).filter(function(Ee){var Me=Ee[0];return Ae.primary.isOppositeDirection(Me)}).sort(function(Ee,Me){var $e=Ee[1],dt=Me[1];return dt-$e}))==null?void 0:Qe[0])!=null?it:[],de=ee[0];return de||null}}]),De}(),be=function(De){g(Be,De);function Be(){return De.apply(this,arguments)||this}var Ke=Be.prototype;return Ke.getLayerBounds=function(){var Qe=this.subjectsBounds,Ae=Qe.trigger,H=Qe.layer,ee=ae.empty();return ee.top=Ae.top+Ae.height/2-H.height/2,ee.bottom=ee.top+H.height,ee.left=Ae.left+Ae.width/2-H.width/2,ee.right=ee.left+H.width,ee.width=ee.right-ee.left,ee.height=ee.bottom-ee.top,ee},Be}(se);function _e(De,Be,Ke){var it=De.layer,Qe=De.trigger,Ae=De.arrow,H=Be.primary.oppositeSizeProp,ee=Be.primary.isHorizontal?["top","bottom"]:["left","right"],de=ee[0],Ee=ee[1],Me=it[de]+it[H]/2-Qe[de]-Ae[H]/2-Ke,$e=it[Ee]-it[H]/2-Qe[Ee]+Ae[H]/2+Ke;return(Me<0?-Me:0)+($e>0?-$e:0)}var pe={position:"absolute",willChange:"top, left",left:null,right:null,top:null,bottom:null};function me(De,Be,Ke){var it;if(Be.primary.isCenter)return pe;var Qe=De.layer,Ae=De.trigger,H=De.arrow,ee=Be.primary.oppositeSizeProp,de=Ae[ee]>Qe[ee],Ee=Ke+H[ee]/2,Me=Qe[ee]-H[ee]/2-Ke,$e=_e(De,Be,Ke),dt=Be.primary.prop,ct=Be.primary.oppositeCssProp,wt=de?Qe[ee]/2+$e:Ae[ct]+Ae[ee]/2-Qe[ct];return c({},pe,(it={},it[dt]="100%",it[ct]=I(wt,Ee,Me),it))}var Te=function(){function De(Ke,it,Qe){this.placements=void 0,this.config=void 0,this.subjectsBounds=void 0,this.placements=Ke,this.config=it,this.subjectsBounds=Qe}De.getSidesFromPlacementType=function(it){var Qe=it.split("-"),Ae=Qe[0],H=Qe[1],ee=le[Ae],de;return H==="center"?de=ye.center:ee.isHorizontal?de=H==="start"?ye.top:ye.bottom:de=H==="start"?ye.left:ye.right,[ee,de]},De.create=function(it,Qe){var Ae={arrow:Qe.arrowOffset,container:Qe.containerOffset,trigger:Qe.triggerOffset};function H(ee){ee===void 0&&(ee=Qe.placement);var de=De.getSidesFromPlacementType(ee),Ee=de[0],Me=de[1],$e=le[Ee.isHorizontal?Qe.preferY:Qe.preferX],dt=!Ee.isHorizontal&&it.triggerHasBiggerWidth||Ee.isHorizontal&&it.triggerHasBiggerHeight;function ct(Mt,pn){return new se(Mt,pn,it,Qe.layerDimensions,Ae)}var wt=[];return wt[0]=ct(Ee,Me),wt[1]=ct(Ee,Me.isCenter?$e:ye.center),wt[2]=ct(Ee,ye[(Me.opposite.isCenter?$e.opposite:Me.opposite).prop]),wt[3]=ct($e,dt?Ee:ye[Ee.opposite.prop]),wt[4]=ct($e,ye.center),wt[5]=ct($e,dt?ye[Ee.opposite.prop]:Ee),wt[6]=ct(le[$e.opposite.prop],dt?Ee:ye[Ee.opposite.prop]),wt[7]=ct(le[$e.opposite.prop],ye.center),wt[8]=ct(le[$e.opposite.prop],dt?ye[Ee.opposite.prop]:Ee),wt[9]=ct(le[Ee.opposite.prop],Me),wt[10]=ct(le[Ee.opposite.prop],Me.isCenter?$e:ye.center),wt[11]=ct(le[Ee.opposite.prop],ye[(Me.opposite.isCenter?$e.opposite:Me.opposite).prop]),wt=wt.filter(function(Mt){return Mt.type===Qe.placement||Qe.possiblePlacements.includes(Mt.type)}),wt}return Qe.placement==="center"?new De([new be(ye.center,ye.center,it,Qe.layerDimensions,Ae)].concat(H(Qe.preferY+"-"+Qe.preferX)),Qe,it):new De(H(),Qe,it)};var Be=De.prototype;return Be.filterPlacementsBySide=function(it){return this.placements.filter(function(Qe){return Qe.primary===it})},Be.findFirstPlacementThatFits=function(){return this.placements.find(function(it){return it.fitsContainer})},Be.placementWithBiggestVisibleSurface=function(){var it=this.placements.map(function(Ae){return{placement:Ae,surface:Ae.visibleSurface}}).sort(function(Ae,H){return H.surface-Ae.surface}),Qe=it[0].placement;return Qe},Be.findSuitablePlacement=function(){return this.config.auto?this.findFirstPlacementThatFits()||this.placementWithBiggestVisibleSurface():this.placements[0]},Be.getSecondaryOffset=function(it){var Qe=this.config,Ae=Qe.auto,H=Qe.snap;if(!Ae||H||it instanceof be)return 0;var ee=this.filterPlacementsBySide(it.primary),de=ee.indexOf(it)===0;if(de&&it.fitsContainer)return 0;var Ee=ee.find(function(Mt){return!Mt.fitsContainer});if(!Ee)return 0;var Me=Ee.secondaryOffsetSide;if(!Me)return 0;var $e=it.getContainerOffsets(),dt=it.secondary,ct;it.triggerIsBigger||Ee===it?ct=Me.isPush?-1:1:ct=dt===ye.left||[ye.top,ye.center].includes(dt)&&Me.isPush?-1:1;var wt=$e[Me.prop];return wt*ct},Be.getStyles=function(it,Qe,Ae,H){var ee={willChange:"top, left, width, height"},de=me(this.subjectsBounds.merge({layer:it}),Qe,this.config.arrowOffset),Ee=this.config.overflowContainer?c({},ee,{position:"fixed",top:it.top,left:it.left}):c({},ee,{position:"absolute",top:it.top-this.subjectsBounds.parent.top+Ae.top-H.top,left:it.left-this.subjectsBounds.parent.left+Ae.left-H.left});return{arrow:de,layer:Ee}},Be.getHasDisappeared=function(it){var Qe=this.config.overflowContainer?this.subjectsBounds.trigger:it,Ae=oe.mergeSmallestSides(this.subjectsBounds.offsetsToScrollContainers(Qe,!0)),H=Object.entries(Ae.negativeSides),ee=H.some(function(de){var Ee=de[0],Me=de[1],$e=le[Ee];return Me<=-Qe[$e.sizeProp]});return ee?"full":Ae.allSidesArePositive?null:"partial"},Be.result=function(it,Qe){var Ae=this.findSuitablePlacement(),H=this.getSecondaryOffset(Ae),ee=Ae.getLayerBounds(H),de=this.getStyles(ee,Ae,it,Qe),Ee=Ae.primary.prop;return{styles:de,layerSide:Ee,placement:Ae,layerBounds:ee,hasDisappeared:this.getHasDisappeared(ee)}},De}(),ve=function(){function De(Ke,it){this.overflowContainer=void 0,this.trigger=void 0,this.layer=void 0,this.arrow=void 0,this.parent=void 0,this.window=void 0,this.scrollContainers=void 0,this.overflowContainer=it,Object.assign(this,Ke)}De.create=function(it,Qe,Ae,H,ee,de,Ee,Me){var $e=ae.fromWindow(it);return new De({layer:ae.fromElement(Qe,{environment:it,withTransform:!1}),trigger:Me?ae.create(Z(Me())):ae.fromElement(Ae),arrow:ee?ae.fromElement(ee):ae.empty(),parent:H?ae.fromElement(H):$e,window:$e,scrollContainers:[$e].concat(de.map(function(dt){return ae.fromElement(dt,{withScrollbars:!1})}))},Ee)};var Be=De.prototype;return Be.merge=function(it){return new De(c({},this,it),this.overflowContainer)},Be.offsetsToScrollContainers=function(it,Qe){Qe===void 0&&(Qe=!1);var Ae=this.overflowContainer&&!Qe?[this.window]:this.scrollContainers;return Ae.map(function(H){return H.offsetsTo(it)})},l(De,[{key:"layerOffsetsToScrollContainers",get:function(){return this.offsetsToScrollContainers(this.layer)}},{key:"triggerHasBiggerWidth",get:function(){return this.trigger.width>this.layer.width}},{key:"triggerHasBiggerHeight",get:function(){return this.trigger.height>this.layer.height}}]),De}(),ce=null;function Le(De){typeof document!="undefined"&&(typeof De=="function"?ce=De():typeof De=="string"?ce=document.getElementById(De):ce=De)}var Ne={auto:!1,arrowOffset:0,containerOffset:10,triggerOffset:0,overflowContainer:!0,placement:"top-center",possiblePlacements:J,preferX:"right",preferY:"bottom",snap:!1,container:void 0,trigger:void 0};function He(De){var Be,Ke=De.isOpen,it=Ke===void 0?!1:Ke,Qe=De.overflowContainer,Ae=Qe===void 0?Ne.overflowContainer:Qe,H=De.environment,ee=H===void 0?typeof window!="undefined"?window:void 0:H,de=De.ResizeObserver,Ee=De.placement,Me=Ee===void 0?Ne.placement:Ee,$e=De.possiblePlacements,dt=$e===void 0?Ne.possiblePlacements:$e,ct=De.preferX,wt=ct===void 0?Ne.preferX:ct,Mt=De.preferY,pn=Mt===void 0?Ne.preferY:Mt,Mn=De.auto,$n=Mn===void 0?Ne.auto:Mn,mr=De.snap,jn=mr===void 0?Ne.snap:mr,dr=De.triggerOffset,nn=dr===void 0?Ne.triggerOffset:dr,jr=De.containerOffset,Dr=jr===void 0?Ne.containerOffset:jr,At=De.arrowOffset,Wt=At===void 0?Ne.arrowOffset:At,Zt=De.container,_n=Zt===void 0?Ne.container:Zt,Kn=De.layerDimensions,wr=Kn===void 0?null:Kn,Nr=De.onDisappear,no=De.onOutsideClick,Jr=De.onParentClose,$r=De.trigger,bo=(0,o.useState)(function(){return{layerSide:Me==="center"?"center":Te.getSidesFromPlacementType(Me)[0].prop,styles:{layer:{position:Ae?"fixed":"absolute",top:0,left:0},arrow:{position:"absolute",top:0,left:0}}}}),mo=bo[0],So=bo[1],go=(0,o.useRef)(null),Eo=d(mo,it),ro=(0,o.useRef)({cancelled:!1});(0,o.useEffect)(function(){return function(){ro.current.cancelled=!0}},[]);var po=(0,o.useCallback)(function(tr,pr,kt){var Vt=tr.arrow,en=tr.layer,dn=tr.scrollContainers,Nn=tr.trigger,An=dn[0],Rn=ve.create(ee,en,Nn,An,Vt,dn,Ae,$r==null?void 0:$r.getBounds),ft={placement:Me,possiblePlacements:dt,auto:$n,layerDimensions:wr,arrowOffset:Wt,containerOffset:Dr,triggerOffset:nn,preferX:wt,preferY:pn,snap:jn,overflowContainer:Ae},Rt=Te.create(Rn,ft).result(pr,kt),zt=Rt.hasDisappeared,tn=Rt.layerSide,vn=Rt.styles,un={layerSide:tn,styles:vn};if(!Eo.current||ze(Eo.current,un)){Eo.current=un,ro.current.cancelled=!0;var wn={cancelled:!1};ro.current=wn,Promise.resolve().then(function(){wn.cancelled||So(un)})}D(zt)&&D(Nr)&&Nr(zt)},[Wt,$n,Dr,ee,wr,Nr,Ae,Me,dt,wt,pn,jn,nn,Eo,$r]),wo=U({ResizeObserverPolyfill:de,environment:ee,enabled:it,overflowContainer:Ae,onChange:po,triggerOption:$r}),ko=wo.triggerRef,ei=wo.layerRef,Do=wo.arrowRef,Uo=wo.closestScrollContainer,mn=q({isOpen:it,onOutsideClick:no,onParentClose:Jr}),Dn=mn.closeOnOutsideClickRefs,Wn=mn.registrations,Hn={triggerProps:$r?{}:{ref:N(ko,Dn.trigger,go)},layerProps:{ref:N(ei,Dn.layer),style:mo.styles.layer},arrowProps:{ref:Do,style:mo.styles.arrow,layerSide:mo.layerSide},layerSide:mo.layerSide,triggerBounds:it?$r?$r.getBounds():(Be=go.current)==null?void 0:Be.getBoundingClientRect():null,renderLayer:function(tr){return typeof document!="undefined"?(0,o.createPortal)((0,o.createElement)(G,{registrations:Wn,children:tr}),Ae||!Uo?_t(_n):Uo):null}};return Hn}function ze(De,Be){if(De.layerSide!==Be.layerSide)return!0;for(var Ke=["position","top","left","right","bottom"],it=0,Qe=Ke;it<Qe.length;it++){var Ae=Qe[it];if(De.styles.layer[Ae]!==Be.styles.layer[Ae]||De.styles.arrow[Ae]!==Be.styles.arrow[Ae])return!0}return!1}var Xe="layers";function _t(De){var Be;if(typeof De=="function"){if(Be=De(),!Be||!(Be instanceof HTMLElement))throw new Error("react-laag: You've passed a function to the 'container' prop, but it returned no valid HTMLElement")}else if(De instanceof HTMLElement)Be=De;else if(typeof De=="string"){if(Be=document.getElementById(De),!Be)throw new Error("react-laag: You've passed element with id '"+De+"' to the 'container' prop, but it returned no valid HTMLElement")}else{if(ce instanceof HTMLElement)return ce;Be=document.getElementById(Xe),Be||(Be=document.createElement("div"),Be.id=Xe,Be.style.cssText=`
        position: absolute;
        top: 0px;
        left: 0px;
        right: 0px;
      `,document.body.appendChild(Be))}return Be}var we=null,We="left",Ie="top",tt="bottom",et="right";function ht(De,Be){return Math.tan(De*(Math.PI/180))*Be}function vt(De,Be,Ke,it){var Qe,Ae=(Qe={},Qe[tt]="0 "+-it+" "+Be+" "+De,Qe[Ie]="0 0 "+Be+" "+(De+it),Qe[et]=-it+" 0 "+De+" "+Be,Qe[We]="0 0 "+(De+it)+" "+Be,Qe);return Ae[Ke.prop]}function Lt(De,Be,Ke,it,Qe){var Ae,H,ee,de=it/10*De*2,Ee=(Ae={},Ae[tt]=[0,De],Ae[Ie]=[0,0],Ae[et]=[De,Be],Ae[We]=[0,Be],Ae)[Ke.prop].join(" "),Me=Ke.isHorizontal?"V 0":"H "+Be,$e=Be/2,dt=Be/2+ht(Qe,De/8),ct=De/8,wt=(H={},H[tt]=["C",dt,ct,$e+de,0,$e,0],H[Ie]=["C",dt,De-ct,$e+de,De,$e,De],H[et]=["C",ct,Be-dt,0,$e-de,0,$e],H[We]=["C",De-ct,Be-dt,De,$e-de,De,$e],H)[Ke.prop].join(" "),Mt=Be/2-ht(Qe,De/8),pn=De/8,Mn=(ee={},ee[tt]=["C",$e-de,0,Mt,pn,Ee],ee[Ie]=["C",$e-de,De,Mt,De-pn,Ee],ee[et]=["C",0,$e+de,pn,Be-Mt,Ee],ee[We]=["C",De,$e+de,De-pn,Be-Mt,Ee],ee)[Ke.prop].join(" ");return["M",Ee,Me,wt,Mn].join(" ")}function $t(De,Be,Ke,it,Qe){var Ae=ht(Qe,Ke),H=it.isPush?[0,Ke]:[De,De-Ke],ee=H[0],de=H[1];return it.isHorizontal?["M",ee,Ke,"V",Be-Ke,"L",de,Be-Ke-Ae,"V",Ae+Ke,"Z"].join(" "):["M",Ke,ee,"H",Be-Ke,"L",Be-Ke-Ae,de,"H",Ae+Ke,"Z"].join(" ")}var yt=null,he;(function(De){De[De.ENTERING=0]="ENTERING",De[De.LEAVING=1]="LEAVING",De[De.IDLE=2]="IDLE"})(he||(he={}));function je(De){var Be=De===void 0?{}:De,Ke=Be.delayEnter,it=Ke===void 0?0:Ke,Qe=Be.delayLeave,Ae=Qe===void 0?0:Qe,H=Be.hideOnScroll,ee=H===void 0?!0:H,de=(0,o.useState)(!1),Ee=de[0],Me=de[1],$e=(0,o.useRef)(null),dt=(0,o.useRef)(he.IDLE),ct=(0,o.useRef)(!1),wt=(0,o.useCallback)(function(){clearTimeout($e.current),$e.current=null,dt.current=he.IDLE},[]);function Mt(){dt.current===he.LEAVING&&$e.current&&wt(),!Ee&&(dt.current=he.ENTERING,$e.current=window.setTimeout(function(){Me(!0),$e.current=null,dt.current=he.IDLE},it))}function pn($n,mr){if(dt.current===he.ENTERING&&$e.current&&wt(),!!Ee){if(mr){Me(!1),$e.current=null,dt.current=he.IDLE;return}dt.current=he.LEAVING,$e.current=window.setTimeout(function(){Me(!1),$e.current=null,dt.current=he.IDLE},Ae)}}(0,o.useEffect)(function(){function $n(){Ee&&ee&&(wt(),Me(!1))}return window.addEventListener("scroll",$n,!0),function(){window.removeEventListener("scroll",$n,!0),$e.current&&clearTimeout($e.current)}},[Ee,ee,wt]);var Mn={onMouseEnter:Mt,onMouseLeave:pn,onTouchStart:function(){ct.current=!1},onTouchMove:function(){ct.current=!0},onTouchEnd:function(){!ct.current&&!Ee&&Me(!0),ct.current=!1}};return[Ee,Mn,function(){return pn(null,!0)}]}function st(De){var Be=De.isOpen,Ke=De.children,it=useState({isOpenInternal:Be,isLeaving:!1}),Qe=it[0],Ae=it[1],H=useRef(!1);return useEffect(function(){Be?Ae({isOpenInternal:!0,isLeaving:!1}):H.current&&Ae({isOpenInternal:!1,isLeaving:!0})},[Be,Ae]),useEffect(function(){},[Ke]),useEffect(function(){H.current=!0},[]),!Be&&!Qe.isOpenInternal&&!Qe.isLeaving?null:Ke(Qe.isOpenInternal,function(){Qe.isOpenInternal||Ae(function(ee){return c({},ee,{isLeaving:!1})})},Qe.isLeaving)}},1852:function(z,u,e){(function(o,f){z.exports=f(e(98661))})(typeof self!="undefined"?self:this,function(o){return function(f){function l(g){if(c[g])return c[g].exports;var v=c[g]={i:g,l:!1,exports:{}};return f[g].call(v.exports,v,v.exports,l),v.l=!0,v.exports}var c={};return l.m=f,l.c=c,l.d=function(g,v,E){l.o(g,v)||Object.defineProperty(g,v,{configurable:!1,enumerable:!0,get:E})},l.n=function(g){var v=g&&g.__esModule?function(){return g.default}:function(){return g};return l.d(v,"a",v),v},l.o=function(g,v){return Object.prototype.hasOwnProperty.call(g,v)},l.p="",l(l.s=7)}([function(f,l,c){"use strict";function g($,q){return O($)||p($,q)||E($,q)||v()}function v(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E($,q){if($){if(typeof $=="string")return y($,q);var J=Object.prototype.toString.call($).slice(8,-1);return J==="Object"&&$.constructor&&(J=$.constructor.name),J==="Map"||J==="Set"?Array.from($):J==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(J)?y($,q):void 0}}function y($,q){(q==null||q>$.length)&&(q=$.length);for(var J=0,R=new Array(q);J<q;J++)R[J]=$[J];return R}function p($,q){if(typeof Symbol!="undefined"&&Symbol.iterator in Object($)){var J=[],R=!0,j=!1,ie=void 0;try{for(var le,ye=$[Symbol.iterator]();!(R=(le=ye.next()).done)&&(J.push(le.value),!q||J.length!==q);R=!0);}catch(ue){j=!0,ie=ue}finally{try{R||ye.return==null||ye.return()}finally{if(j)throw ie}}return J}}function O($){if(Array.isArray($))return $}var S=c(1),x=c.n(S),T=c(8),_=c.n(T),d=c(2),s=c(10),w=c.n(s),P=c(3),I=c(6),D=function($){return $.query||Object(P.a)($)},N=function($){if(!$)return null;var q=Object.keys($);return q.length===0?null:q.reduce(function(J,R){return J[Object(d.a)(R)]=$[R],J},{})},C=function(){var $=x.a.useRef(!1);return x.a.useEffect(function(){$.current=!0},[]),$.current},A=function($){var q=x.a.useContext(I.a),J=function(){return N($)||N(q)},R=x.a.useState(J),j=g(R,2),ie=j[0],le=j[1];return x.a.useEffect(function(){var ye=J();w()(ie,ye)||le(ye)},[$,q]),ie},L=function($){var q=function(){return D($)},J=x.a.useState(q),R=g(J,2),j=R[0],ie=R[1];return x.a.useEffect(function(){var le=q();j!==le&&ie(le)},[$]),j},U=function($,q){var J=function(){return _()($,q||{},!!q)},R=x.a.useState(J),j=g(R,2),ie=j[0],le=j[1],ye=C();return x.a.useEffect(function(){return ye&&le(J()),function(){ie.dispose()}},[$,q]),ie},W=function($){var q=x.a.useState($.matches),J=g(q,2),R=J[0],j=J[1];return x.a.useEffect(function(){var ie=function(){j($.matches)};return $.addListener(ie),ie(),function(){$.removeListener(ie)}},[$]),R},G=function($,q,J){var R=A(q),j=L($);if(!j)throw new Error("Invalid or missing MediaQuery!");var ie=U(j,R),le=W(ie),ye=C();return x.a.useEffect(function(){ye&&J&&J(le)},[le]),le};l.a=G},function(f,l){f.exports=o},function(f,l,c){"use strict";function g(O){return"-"+O.toLowerCase()}function v(O){if(p.hasOwnProperty(O))return p[O];var S=O.replace(E,g);return p[O]=y.test(S)?"-"+S:S}var E=/[A-Z]/g,y=/^ms-/,p={};l.a=v},function(f,l,c){"use strict";var g=c(2),v=c(11),E=function(S){return"not ".concat(S)},y=function(S,x){var T=Object(g.a)(S);return typeof x=="number"&&(x="".concat(x,"px")),x===!0?T:x===!1?E(T):"(".concat(T,": ").concat(x,")")},p=function(S){return S.join(" and ")},O=function(S){var x=[];return Object.keys(v.a.all).forEach(function(T){var _=S[T];_!=null&&x.push(y(T,_))}),p(x)};l.a=O},function(f,l,c){"use strict";f.exports=c(13)},function(f,l,c){"use strict";f.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(f,l,c){"use strict";var g=c(1),v=c.n(g),E=v.a.createContext();l.a=E},function(f,l,c){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var g=c(0),v=c(17),E=c(3),y=c(6);c.d(l,"default",function(){return v.a}),c.d(l,"useMediaQuery",function(){return g.a}),c.d(l,"toQuery",function(){return E.a}),c.d(l,"Context",function(){return y.a})},function(f,l,c){"use strict";function g(p,O,S){function x(P){w&&w.addListener(P)}function T(P){w&&w.removeListener(P)}function _(P){s.matches=P.matches,s.media=P.media}function d(){w&&w.removeListener(_)}var s=this;if(y&&!S){var w=y.call(window,p);this.matches=w.matches,this.media=w.media,w.addListener(_)}else this.matches=E(p,O),this.media=p;this.addListener=x,this.removeListener=T,this.dispose=d}function v(p,O,S){return new g(p,O,S)}var E=c(9).match,y=typeof window!="undefined"?window.matchMedia:null;f.exports=v},function(f,l,c){"use strict";function g(d,s){return v(d).some(function(w){var P=w.inverse,I=w.type==="all"||s.type===w.type;if(I&&P||!I&&!P)return!1;var D=w.expressions.every(function(N){var C=N.feature,A=N.modifier,L=N.value,U=s[C];if(!U)return!1;switch(C){case"orientation":case"scan":return U.toLowerCase()===L.toLowerCase();case"width":case"height":case"device-width":case"device-height":L=p(L),U=p(U);break;case"resolution":L=y(L),U=y(U);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":L=E(L),U=E(U);break;case"grid":case"color":case"color-index":case"monochrome":L=parseInt(L,10)||1,U=parseInt(U,10)||0}switch(A){case"min":return U>=L;case"max":return U<=L;default:return U===L}});return D&&!P||!D&&P})}function v(d){return d.split(",").map(function(s){s=s.trim();var w=s.match(O),P=w[1],I=w[2],D=w[3]||"",N={};return N.inverse=!!P&&P.toLowerCase()==="not",N.type=I?I.toLowerCase():"all",D=D.match(/\([^\)]+\)/g)||[],N.expressions=D.map(function(C){var A=C.match(S),L=A[1].toLowerCase().match(x);return{modifier:L[1],feature:L[2],value:A[2]}}),N})}function E(d){var s,w=Number(d);return w||(s=d.match(/^(\d+)\s*\/\s*(\d+)$/),w=s[1]/s[2]),w}function y(d){var s=parseFloat(d);switch(String(d).match(_)[1]){case"dpcm":return s/2.54;case"dppx":return 96*s;default:return s}}function p(d){var s=parseFloat(d);switch(String(d).match(T)[1]){case"em":case"rem":return 16*s;case"cm":return 96*s/2.54;case"mm":return 96*s/2.54/10;case"in":return 96*s;case"pt":return 72*s;case"pc":return 72*s/12;default:return s}}l.match=g,l.parse=v;var O=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,S=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,x=/^(?:(min|max)-)?(.+)/,T=/(em|rem|px|cm|mm|in|pt|pc)?$/,_=/(dpi|dpcm|dppx)?$/},function(f,l,c){"use strict";function g(v,E){if(v===E)return!0;if(!v||!E)return!1;var y=Object.keys(v),p=Object.keys(E),O=y.length;if(p.length!==O)return!1;for(var S=0;S<O;S++){var x=y[S];if(v[x]!==E[x]||!Object.prototype.hasOwnProperty.call(E,x))return!1}return!0}f.exports=g},function(f,l,c){"use strict";function g(d,s){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(d);s&&(P=P.filter(function(I){return Object.getOwnPropertyDescriptor(d,I).enumerable})),w.push.apply(w,P)}return w}function v(d){for(var s=1;s<arguments.length;s++){var w=arguments[s]!=null?arguments[s]:{};s%2?g(Object(w),!0).forEach(function(P){E(d,P,w[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):g(Object(w)).forEach(function(P){Object.defineProperty(d,P,Object.getOwnPropertyDescriptor(w,P))})}return d}function E(d,s,w){return s in d?Object.defineProperty(d,s,{value:w,enumerable:!0,configurable:!0,writable:!0}):d[s]=w,d}var y=c(12),p=c.n(y),O=p.a.oneOfType([p.a.string,p.a.number]),S={orientation:p.a.oneOf(["portrait","landscape"]),scan:p.a.oneOf(["progressive","interlace"]),aspectRatio:p.a.string,deviceAspectRatio:p.a.string,height:O,deviceHeight:O,width:O,deviceWidth:O,color:p.a.bool,colorIndex:p.a.bool,monochrome:p.a.bool,resolution:O},x=v({minAspectRatio:p.a.string,maxAspectRatio:p.a.string,minDeviceAspectRatio:p.a.string,maxDeviceAspectRatio:p.a.string,minHeight:O,maxHeight:O,minDeviceHeight:O,maxDeviceHeight:O,minWidth:O,maxWidth:O,minDeviceWidth:O,maxDeviceWidth:O,minColor:p.a.number,maxColor:p.a.number,minColorIndex:p.a.number,maxColorIndex:p.a.number,minMonochrome:p.a.number,maxMonochrome:p.a.number,minResolution:O,maxResolution:O},S),T={all:p.a.bool,grid:p.a.bool,aural:p.a.bool,braille:p.a.bool,handheld:p.a.bool,print:p.a.bool,projection:p.a.bool,screen:p.a.bool,tty:p.a.bool,tv:p.a.bool,embossed:p.a.bool},_=v(v({},T),x);S.type=Object.keys(T),l.a={all:_,types:T,matchers:S,features:x}},function(f,l,c){var g=c(4);f.exports=c(14)(g.isElement,!0)},function(f,l,c){"use strict";(function(){function g(ze){return typeof ze=="string"||typeof ze=="function"||ze===A||ze===q||ze===U||ze===L||ze===R||ze===j||typeof ze=="object"&&ze!==null&&(ze.$$typeof===le||ze.$$typeof===ie||ze.$$typeof===W||ze.$$typeof===G||ze.$$typeof===J||ze.$$typeof===ue||ze.$$typeof===oe||ze.$$typeof===te||ze.$$typeof===ye)}function v(ze){if(typeof ze=="object"&&ze!==null){var Xe=ze.$$typeof;switch(Xe){case N:var _t=ze.type;switch(_t){case $:case q:case A:case U:case L:case R:return _t;default:var we=_t&&_t.$$typeof;switch(we){case G:case J:case le:case ie:case W:return we;default:return Xe}}case C:return Xe}}}function E(ze){return He||(He=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),y(ze)||v(ze)===$}function y(ze){return v(ze)===q}function p(ze){return v(ze)===G}function O(ze){return v(ze)===W}function S(ze){return typeof ze=="object"&&ze!==null&&ze.$$typeof===N}function x(ze){return v(ze)===J}function T(ze){return v(ze)===A}function _(ze){return v(ze)===le}function d(ze){return v(ze)===ie}function s(ze){return v(ze)===C}function w(ze){return v(ze)===U}function P(ze){return v(ze)===L}function I(ze){return v(ze)===R}var D=typeof Symbol=="function"&&Symbol.for,N=D?Symbol.for("react.element"):60103,C=D?Symbol.for("react.portal"):60106,A=D?Symbol.for("react.fragment"):60107,L=D?Symbol.for("react.strict_mode"):60108,U=D?Symbol.for("react.profiler"):60114,W=D?Symbol.for("react.provider"):60109,G=D?Symbol.for("react.context"):60110,$=D?Symbol.for("react.async_mode"):60111,q=D?Symbol.for("react.concurrent_mode"):60111,J=D?Symbol.for("react.forward_ref"):60112,R=D?Symbol.for("react.suspense"):60113,j=D?Symbol.for("react.suspense_list"):60120,ie=D?Symbol.for("react.memo"):60115,le=D?Symbol.for("react.lazy"):60116,ye=D?Symbol.for("react.block"):60121,ue=D?Symbol.for("react.fundamental"):60117,oe=D?Symbol.for("react.responder"):60118,te=D?Symbol.for("react.scope"):60119,Z=$,re=q,ae=G,se=W,be=N,_e=J,pe=A,me=le,Te=ie,ve=C,ce=U,Le=L,Ne=R,He=!1;l.AsyncMode=Z,l.ConcurrentMode=re,l.ContextConsumer=ae,l.ContextProvider=se,l.Element=be,l.ForwardRef=_e,l.Fragment=pe,l.Lazy=me,l.Memo=Te,l.Portal=ve,l.Profiler=ce,l.StrictMode=Le,l.Suspense=Ne,l.isAsyncMode=E,l.isConcurrentMode=y,l.isContextConsumer=p,l.isContextProvider=O,l.isElement=S,l.isForwardRef=x,l.isFragment=T,l.isLazy=_,l.isMemo=d,l.isPortal=s,l.isProfiler=w,l.isStrictMode=P,l.isSuspense=I,l.isValidElementType=g,l.typeOf=v})()},function(f,l,c){"use strict";function g(){return null}var v=c(4),E=c(15),y=c(5),p=c(16),O=Function.call.bind(Object.prototype.hasOwnProperty),S=function(){};S=function(x){var T="Warning: "+x;typeof console!="undefined"&&console.error(T);try{throw new Error(T)}catch(_){}},f.exports=function(x,T){function _(ue){var oe=ue&&(j&&ue[j]||ue[ie]);if(typeof oe=="function")return oe}function d(ue,oe){return ue===oe?ue!==0||1/ue==1/oe:ue!==ue&&oe!==oe}function s(ue){this.message=ue,this.stack=""}function w(ue){function oe(ae,se,be,_e,pe,me,Te){if(_e=_e||le,me=me||be,Te!==y){if(T){var ve=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw ve.name="Invariant Violation",ve}if(typeof console!="undefined"){var ce=_e+":"+be;!te[ce]&&Z<3&&(S("You are manually calling a React.PropTypes validation function for the `"+me+"` prop on `"+_e+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),te[ce]=!0,Z++)}}return se[be]==null?ae?new s(se[be]===null?"The "+pe+" `"+me+"` is marked as required in `"+_e+"`, but its value is `null`.":"The "+pe+" `"+me+"` is marked as required in `"+_e+"`, but its value is `undefined`."):null:ue(se,be,_e,pe,me)}var te={},Z=0,re=oe.bind(null,!1);return re.isRequired=oe.bind(null,!0),re}function P(ue){function oe(te,Z,re,ae,se,be){var _e=te[Z];return $(_e)!==ue?new s("Invalid "+ae+" `"+se+"` of type `"+q(_e)+"` supplied to `"+re+"`, expected `"+ue+"`."):null}return w(oe)}function I(ue){function oe(te,Z,re,ae,se){if(typeof ue!="function")return new s("Property `"+se+"` of component `"+re+"` has invalid PropType notation inside arrayOf.");var be=te[Z];if(!Array.isArray(be))return new s("Invalid "+ae+" `"+se+"` of type `"+$(be)+"` supplied to `"+re+"`, expected an array.");for(var _e=0;_e<be.length;_e++){var pe=ue(be,_e,re,ae,se+"["+_e+"]",y);if(pe instanceof Error)return pe}return null}return w(oe)}function D(ue){function oe(te,Z,re,ae,se){if(!(te[Z]instanceof ue)){var be=ue.name||le;return new s("Invalid "+ae+" `"+se+"` of type `"+R(te[Z])+"` supplied to `"+re+"`, expected instance of `"+be+"`.")}return null}return w(oe)}function N(ue){function oe(te,Z,re,ae,se){for(var be=te[Z],_e=0;_e<ue.length;_e++)if(d(be,ue[_e]))return null;var pe=JSON.stringify(ue,function(me,Te){return q(Te)==="symbol"?String(Te):Te});return new s("Invalid "+ae+" `"+se+"` of value `"+String(be)+"` supplied to `"+re+"`, expected one of "+pe+".")}return Array.isArray(ue)?w(oe):(S(arguments.length>1?"Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).":"Invalid argument supplied to oneOf, expected an array."),g)}function C(ue){function oe(te,Z,re,ae,se){if(typeof ue!="function")return new s("Property `"+se+"` of component `"+re+"` has invalid PropType notation inside objectOf.");var be=te[Z],_e=$(be);if(_e!=="object")return new s("Invalid "+ae+" `"+se+"` of type `"+_e+"` supplied to `"+re+"`, expected an object.");for(var pe in be)if(O(be,pe)){var me=ue(be,pe,re,ae,se+"."+pe,y);if(me instanceof Error)return me}return null}return w(oe)}function A(ue){function oe(re,ae,se,be,_e){for(var pe=0;pe<ue.length;pe++)if((0,ue[pe])(re,ae,se,be,_e,y)==null)return null;return new s("Invalid "+be+" `"+_e+"` supplied to `"+se+"`.")}if(!Array.isArray(ue))return S("Invalid argument supplied to oneOfType, expected an instance of array."),g;for(var te=0;te<ue.length;te++){var Z=ue[te];if(typeof Z!="function")return S("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+J(Z)+" at index "+te+"."),g}return w(oe)}function L(ue){function oe(te,Z,re,ae,se){var be=te[Z],_e=$(be);if(_e!=="object")return new s("Invalid "+ae+" `"+se+"` of type `"+_e+"` supplied to `"+re+"`, expected `object`.");for(var pe in ue){var me=ue[pe];if(me){var Te=me(be,pe,re,ae,se+"."+pe,y);if(Te)return Te}}return null}return w(oe)}function U(ue){function oe(te,Z,re,ae,se){var be=te[Z],_e=$(be);if(_e!=="object")return new s("Invalid "+ae+" `"+se+"` of type `"+_e+"` supplied to `"+re+"`, expected `object`.");var pe=E({},te[Z],ue);for(var me in pe){var Te=ue[me];if(!Te)return new s("Invalid "+ae+" `"+se+"` key `"+me+"` supplied to `"+re+"`.\nBad object: "+JSON.stringify(te[Z],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(ue),null,"  "));var ve=Te(be,me,re,ae,se+"."+me,y);if(ve)return ve}return null}return w(oe)}function W(ue){switch(typeof ue){case"number":case"string":case"undefined":return!0;case"boolean":return!ue;case"object":if(Array.isArray(ue))return ue.every(W);if(ue===null||x(ue))return!0;var oe=_(ue);if(!oe)return!1;var te,Z=oe.call(ue);if(oe!==ue.entries){for(;!(te=Z.next()).done;)if(!W(te.value))return!1}else for(;!(te=Z.next()).done;){var re=te.value;if(re&&!W(re[1]))return!1}return!0;default:return!1}}function G(ue,oe){return ue==="symbol"||!!oe&&(oe["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&oe instanceof Symbol)}function $(ue){var oe=typeof ue;return Array.isArray(ue)?"array":ue instanceof RegExp?"object":G(oe,ue)?"symbol":oe}function q(ue){if(ue==null)return""+ue;var oe=$(ue);if(oe==="object"){if(ue instanceof Date)return"date";if(ue instanceof RegExp)return"regexp"}return oe}function J(ue){var oe=q(ue);switch(oe){case"array":case"object":return"an "+oe;case"boolean":case"date":case"regexp":return"a "+oe;default:return oe}}function R(ue){return ue.constructor&&ue.constructor.name?ue.constructor.name:le}var j=typeof Symbol=="function"&&Symbol.iterator,ie="@@iterator",le="<<anonymous>>",ye={array:P("array"),bool:P("boolean"),func:P("function"),number:P("number"),object:P("object"),string:P("string"),symbol:P("symbol"),any:function(){return w(g)}(),arrayOf:I,element:function(){function ue(oe,te,Z,re,ae){var se=oe[te];return x(se)?null:new s("Invalid "+re+" `"+ae+"` of type `"+$(se)+"` supplied to `"+Z+"`, expected a single ReactElement.")}return w(ue)}(),elementType:function(){function ue(oe,te,Z,re,ae){var se=oe[te];return v.isValidElementType(se)?null:new s("Invalid "+re+" `"+ae+"` of type `"+$(se)+"` supplied to `"+Z+"`, expected a single ReactElement type.")}return w(ue)}(),instanceOf:D,node:function(){function ue(oe,te,Z,re,ae){return W(oe[te])?null:new s("Invalid "+re+" `"+ae+"` supplied to `"+Z+"`, expected a ReactNode.")}return w(ue)}(),objectOf:C,oneOf:N,oneOfType:A,shape:L,exact:U};return s.prototype=Error.prototype,ye.checkPropTypes=p,ye.resetWarningCache=p.resetWarningCache,ye.PropTypes=ye,ye}},function(f,l,c){"use strict";function g(p){if(p==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(p)}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var v=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable;f.exports=function(){try{if(!Object.assign)return!1;var p=new String("abc");if(p[5]="de",Object.getOwnPropertyNames(p)[0]==="5")return!1;for(var O={},S=0;S<10;S++)O["_"+String.fromCharCode(S)]=S;if(Object.getOwnPropertyNames(O).map(function(T){return O[T]}).join("")!=="0123456789")return!1;var x={};return"abcdefghijklmnopqrst".split("").forEach(function(T){x[T]=T}),Object.keys(Object.assign({},x)).join("")==="abcdefghijklmnopqrst"}catch(T){return!1}}()?Object.assign:function(p,O){for(var S,x,T=g(p),_=1;_<arguments.length;_++){S=Object(arguments[_]);for(var d in S)E.call(S,d)&&(T[d]=S[d]);if(v){x=v(S);for(var s=0;s<x.length;s++)y.call(S,x[s])&&(T[x[s]]=S[x[s]])}}return T}},function(f,l,c){"use strict";function g(O,S,x,T,_){for(var d in O)if(p(O,d)){var s;try{if(typeof O[d]!="function"){var w=Error((T||"React class")+": "+x+" type `"+d+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof O[d]+"`.");throw w.name="Invariant Violation",w}s=O[d](S,d,T,x,null,E)}catch(I){s=I}if(!s||s instanceof Error||v((T||"React class")+": type specification of "+x+" `"+d+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof s+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),s instanceof Error&&!(s.message in y)){y[s.message]=!0;var P=_?_():"";v("Failed "+x+" type: "+s.message+(P!=null?P:""))}}}var v=function(){},E=c(5),y={},p=Function.call.bind(Object.prototype.hasOwnProperty);v=function(O){var S="Warning: "+O;typeof console!="undefined"&&console.error(S);try{throw new Error(S)}catch(x){}},g.resetWarningCache=function(){y={}},f.exports=g},function(f,l,c){"use strict";function g(p,O){if(p==null)return{};var S,x,T=v(p,O);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(p);for(x=0;x<_.length;x++)S=_[x],O.indexOf(S)>=0||Object.prototype.propertyIsEnumerable.call(p,S)&&(T[S]=p[S])}return T}function v(p,O){if(p==null)return{};var S,x,T={},_=Object.keys(p);for(x=0;x<_.length;x++)S=_[x],O.indexOf(S)>=0||(T[S]=p[S]);return T}function E(p){var O=p.children,S=p.device,x=p.onChange,T=g(p,["children","device","onChange"]),_=Object(y.a)(T,S,x);return typeof O=="function"?O(_):_?O:null}l.a=E;var y=c(0)}])})},91036:(z,u,e)=>{const o=e(35106),f=e(22997),{klona:l}=e(23059),{isPlainObject:c}=e(10977),g=e(9996),v=e(79430),{parse:E}=e(50020),y=e(8575),p=["img","audio","video","picture","svg","object","map","iframe","embed"],O=["script","style"];function S(I,D){I&&Object.keys(I).forEach(function(N){D(I[N],N)})}function x(I,D){return{}.hasOwnProperty.call(I,D)}function T(I,D){const N=[];return S(I,function(C){D(C)&&N.push(C)}),N}function _(I){for(const D in I)if(x(I,D))return!1;return!0}function d(I){return I.map(function(D){if(!D.url)throw new Error("URL missing");return D.url+(D.w?` ${D.w}w`:"")+(D.h?` ${D.h}h`:"")+(D.d?` ${D.d}x`:"")}).join(", ")}z.exports=w;const s=/^[^\0\t\n\f\r /<=>]+$/;function w(I,D,N){let C="",A="";function L(me,Te){const ve=this;this.tag=me,this.attribs=Te||{},this.tagPosition=C.length,this.text="",this.mediaChildren=[],this.updateParentNodeText=function(){if(j.length){const ce=j[j.length-1];ce.text+=ve.text}},this.updateParentNodeMediaChildren=function(){j.length&&p.includes(this.tag)&&j[j.length-1].mediaChildren.push(this.tag)}}D?(D=Object.assign({},w.defaults,D),D.parser?D.parser=Object.assign({},P,D.parser):D.parser=P):(D=w.defaults,D.parser=P),O.forEach(function(me){D.allowedTags&&D.allowedTags.indexOf(me)>-1&&!D.allowVulnerableTags&&console.warn(`

\u26A0\uFE0F Your \`allowedTags\` option includes, \`${me}\`, which is inherently
vulnerable to XSS attacks. Please remove it from \`allowedTags\`.
Or, to disable this warning, add the \`allowVulnerableTags\` option
and ensure you are accounting for this risk.

`)});const U=D.nonTextTags||["script","style","textarea","option"];let W,G;D.allowedAttributes&&(W={},G={},S(D.allowedAttributes,function(me,Te){W[Te]=[];const ve=[];me.forEach(function(ce){typeof ce=="string"&&ce.indexOf("*")>=0?ve.push(f(ce).replace(/\\\*/g,".*")):W[Te].push(ce)}),G[Te]=new RegExp("^("+ve.join("|")+")$")}));const $={};S(D.allowedClasses,function(me,Te){W&&(x(W,Te)||(W[Te]=[]),W[Te].push("class")),$[Te]=me});const q={};let J;S(D.transformTags,function(me,Te){let ve;typeof me=="function"?ve=me:typeof me=="string"&&(ve=w.simpleTransform(me)),Te==="*"?J=ve:q[Te]=ve});let R,j,ie,le,ye,ue,oe=!1;Z();const te=new o.Parser({onopentag:function(me,Te){if(D.enforceHtmlBoundary&&me==="html"&&Z(),ye){ue++;return}const ve=new L(me,Te);j.push(ve);let ce=!1;const Le=!!ve.text;let Ne;if(x(q,me)&&(Ne=q[me](me,Te),ve.attribs=Te=Ne.attribs,Ne.text!==void 0&&(ve.innerText=Ne.text),me!==Ne.tagName&&(ve.name=me=Ne.tagName,le[R]=Ne.tagName)),J&&(Ne=J(me,Te),ve.attribs=Te=Ne.attribs,me!==Ne.tagName&&(ve.name=me=Ne.tagName,le[R]=Ne.tagName)),(D.allowedTags&&D.allowedTags.indexOf(me)===-1||D.disallowedTagsMode==="recursiveEscape"&&!_(ie)||D.nestingLimit!=null&&R>=D.nestingLimit)&&(ce=!0,ie[R]=!0,D.disallowedTagsMode==="discard"&&U.indexOf(me)!==-1&&(ye=!0,ue=1),ie[R]=!0),R++,ce){if(D.disallowedTagsMode==="discard")return;A=C,C=""}C+="<"+me,(!W||x(W,me)||W["*"])&&S(Te,function(He,ze){if(!s.test(ze)){delete ve.attribs[ze];return}let Xe,_t=!1;if(!W||x(W,me)&&W[me].indexOf(ze)!==-1||W["*"]&&W["*"].indexOf(ze)!==-1||x(G,me)&&G[me].test(ze)||G["*"]&&G["*"].test(ze))_t=!0;else if(W&&W[me]){for(const we of W[me])if(c(we)&&we.name&&we.name===ze){_t=!0;let We="";if(we.multiple===!0){const Ie=He.split(" ");for(const tt of Ie)we.values.indexOf(tt)!==-1&&(We===""?We=tt:We+=" "+tt)}else we.values.indexOf(He)>=0&&(We=He);He=We}}if(_t){if(D.allowedSchemesAppliedToAttributes.indexOf(ze)!==-1&&ae(me,He)){delete ve.attribs[ze];return}if(me==="iframe"&&ze==="src"){let we=!0;try{if(Xe=y.parse(He,!1,!0),Xe&&Xe.host===null&&Xe.protocol===null)we=x(D,"allowIframeRelativeUrls")?D.allowIframeRelativeUrls:!D.allowedIframeHostnames&&!D.allowedIframeDomains;else if(D.allowedIframeHostnames||D.allowedIframeDomains){const Ie=(D.allowedIframeHostnames||[]).find(function(et){return et===Xe.hostname}),tt=(D.allowedIframeDomains||[]).find(function(et){return Xe.hostname===et||Xe.hostname.endsWith(`.${et}`)});we=Ie||tt}}catch(We){we=!1}if(!we){delete ve.attribs[ze];return}}if(ze==="srcset")try{if(Xe=v(He),Xe.forEach(function(we){ae("srcset",we.url)&&(we.evil=!0)}),Xe=T(Xe,function(we){return!we.evil}),Xe.length)He=d(T(Xe,function(we){return!we.evil})),ve.attribs[ze]=He;else{delete ve.attribs[ze];return}}catch(we){delete ve.attribs[ze];return}if(ze==="class"){const we=$[me],We=$["*"];if(we&&We?He=pe(He,g(we,We)):He=pe(He,we||We),!He.length){delete ve.attribs[ze];return}}if(ze==="style")try{const we=E(me+" {"+He+"}"),We=se(we,D.allowedStyles);if(He=be(We),He.length===0){delete ve.attribs[ze];return}}catch(we){delete ve.attribs[ze];return}C+=" "+ze,He&&He.length&&(C+='="'+re(He,!0)+'"')}else delete ve.attribs[ze]}),D.selfClosing.indexOf(me)!==-1?C+=" />":(C+=">",ve.innerText&&!Le&&!D.textFilter&&(C+=re(ve.innerText),oe=!0)),ce&&(C=A+re(C),A="")},ontext:function(me){if(ye)return;const Te=j[j.length-1];let ve;if(Te&&(ve=Te.tag,me=Te.innerText!==void 0?Te.innerText:me),D.disallowedTagsMode==="discard"&&(ve==="script"||ve==="style"))C+=me;else{const ce=re(me,!1);D.textFilter&&!oe?C+=D.textFilter(ce,ve):oe||(C+=ce)}if(j.length){const ce=j[j.length-1];ce.text+=me}},onclosetag:function(me){if(ye)if(ue--,!ue)ye=!1;else return;const Te=j.pop();if(!Te)return;ye=D.enforceHtmlBoundary?me==="html":!1,R--;const ve=ie[R];if(ve){if(delete ie[R],D.disallowedTagsMode==="discard"){Te.updateParentNodeText();return}A=C,C=""}if(le[R]&&(me=le[R],delete le[R]),D.exclusiveFilter&&D.exclusiveFilter(Te)){C=C.substr(0,Te.tagPosition);return}if(Te.updateParentNodeMediaChildren(),Te.updateParentNodeText(),D.selfClosing.indexOf(me)!==-1){ve&&(C=A,A="");return}C+="</"+me+">",ve&&(C=A+re(C),A="")}},D.parser);return te.write(I),te.end(),C;function Z(){C="",R=0,j=[],ie={},le={},ye=!1,ue=0}function re(me,Te){return typeof me!="string"&&(me=me+""),D.parser.decodeEntities&&(me=me.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),Te&&(me=me.replace(/"/g,"&quot;"))),me=me.replace(/&(?![a-zA-Z0-9#]{1,20};)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),Te&&(me=me.replace(/"/g,"&quot;")),me}function ae(me,Te){Te=Te.replace(/[\x00-\x20]+/g,""),Te=Te.replace(/<!--.*?-->/g,"");const ve=Te.match(/^([a-zA-Z]+):/);if(!ve)return Te.match(/^[/\\]{2}/)?!D.allowProtocolRelative:!1;const ce=ve[1].toLowerCase();return x(D.allowedSchemesByTag,me)?D.allowedSchemesByTag[me].indexOf(ce)===-1:!D.allowedSchemes||D.allowedSchemes.indexOf(ce)===-1}function se(me,Te){if(!Te)return me;const ve=l(me),ce=me.nodes[0];let Le;return Te[ce.selector]&&Te["*"]?Le=g(Te[ce.selector],Te["*"]):Le=Te[ce.selector]||Te["*"],Le&&(ve.nodes[0].nodes=ce.nodes.reduce(_e(Le),[])),ve}function be(me){return me.nodes[0].nodes.reduce(function(Te,ve){return Te.push(ve.prop+":"+ve.value),Te},[]).join(";")}function _e(me){return function(Te,ve){return x(me,ve.prop)&&me[ve.prop].some(function(Le){return Le.test(ve.value)})&&Te.push(ve),Te}}function pe(me,Te){return Te?(me=me.split(/\s+/),me.filter(function(ve){return Te.indexOf(ve)!==-1}).join(" ")):me}}const P={decodeEntities:!0};w.defaults={allowedTags:["address","article","aside","footer","header","h1","h2","h3","h4","h5","h6","hgroup","main","nav","section","blockquote","dd","div","dl","dt","figcaption","figure","hr","li","main","ol","p","pre","ul","a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","rb","rp","rt","rtc","ruby","s","samp","small","span","strong","sub","sup","time","u","var","wbr","caption","col","colgroup","table","tbody","td","tfoot","th","thead","tr"],disallowedTagsMode:"discard",allowedAttributes:{a:["href","name","target"],img:["src"]},selfClosing:["img","br","hr","area","base","basefont","input","link","meta"],allowedSchemes:["http","https","ftp","mailto","tel"],allowedSchemesByTag:{},allowedSchemesAppliedToAttributes:["href","src","cite"],allowProtocolRelative:!0,enforceHtmlBoundary:!1},w.simpleTransform=function(I,D,N){return N=N===void 0?!0:N,D=D||{},function(C,A){let L;if(N)for(L in D)A[L]=D[L];else A=D;return{tagName:I,attribs:A}}}},22997:z=>{"use strict";z.exports=u=>{if(typeof u!="string")throw new TypeError("Expected a string");return u.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}},16691:function(z,u,e){"use strict";var o=this&&this.__extends||function(){var g=function(v,E){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,p){y.__proto__=p}||function(y,p){for(var O in p)p.hasOwnProperty(O)&&(y[O]=p[O])},g(v,E)};return function(v,E){g(v,E);function y(){this.constructor=v}v.prototype=E===null?Object.create(E):(y.prototype=E.prototype,new y)}}(),f=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(u,"__esModule",{value:!0});var l=f(e(90819)),c=function(g){o(v,g);function v(E){E===void 0&&(E={});var y=g.call(this,function(p){for(var O,S=[],x=1;x<arguments.length;x++)S[x-1]=arguments[x];y.events.push([p].concat(S)),y._cbs[p]&&(O=y._cbs)[p].apply(O,S)})||this;return y._cbs=E,y.events=[],y}return v.prototype.onreset=function(){this.events=[],this._cbs.onreset&&this._cbs.onreset()},v.prototype.restart=function(){var E;this._cbs.onreset&&this._cbs.onreset();for(var y=0;y<this.events.length;y++){var p=this.events[y],O=p[0],S=p.slice(1);this._cbs[O]&&(E=this._cbs)[O].apply(E,S)}},v}(l.default);u.CollectingHandler=c},57613:function(z,u,e){"use strict";var o=this&&this.__extends||function(){var s=function(w,P){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,D){I.__proto__=D}||function(I,D){for(var N in D)D.hasOwnProperty(N)&&(I[N]=D[N])},s(w,P)};return function(w,P){s(w,P);function I(){this.constructor=w}w.prototype=P===null?Object.create(P):(I.prototype=P.prototype,new I)}}(),f=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},l=this&&this.__importStar||function(s){if(s&&s.__esModule)return s;var w={};if(s!=null)for(var P in s)Object.hasOwnProperty.call(s,P)&&(w[P]=s[P]);return w.default=s,w};Object.defineProperty(u,"__esModule",{value:!0});var c=f(e(47915)),g=l(e(89432)),v=e(16666),E=function(s){o(w,s);function w(P,I){var D=this;return typeof P=="object"&&P!==null&&(P=void 0,I=P),D=s.call(this,P,I)||this,D}return w.prototype.onend=function(){var P={},I=p(T,this.dom);if(I)if(I.name==="feed"){var D=I.children;P.type="atom",x(P,"id","id",D),x(P,"title","title",D);var N=S("href",p("link",D));N&&(P.link=N),x(P,"description","subtitle",D);var C=O("updated",D);C&&(P.updated=new Date(C)),x(P,"author","email",D,!0),P.items=y("entry",D).map(function(A){var L={},U=A.children;x(L,"id","id",U),x(L,"title","title",U);var W=S("href",p("link",U));W&&(L.link=W);var G=O("summary",U)||O("content",U);G&&(L.description=G);var $=O("updated",U);return $&&(L.pubDate=new Date($)),L})}else{var D=p("channel",I.children).children;P.type=I.name.substr(0,3),P.id="",x(P,"title","title",D),x(P,"link","link",D),x(P,"description","description",D);var C=O("lastBuildDate",D);C&&(P.updated=new Date(C)),x(P,"author","managingEditor",D,!0),P.items=y("item",I.children).map(function(U){var W={},G=U.children;x(W,"id","guid",G),x(W,"title","title",G),x(W,"link","link",G),x(W,"description","description",G);var $=O("pubDate",G);return $&&(W.pubDate=new Date($)),W})}this.feed=P,this.handleCallback(I?null:Error("couldn't find root of feed"))},w}(c.default);u.FeedHandler=E;function y(s,w){return g.getElementsByTagName(s,w,!0)}function p(s,w){return g.getElementsByTagName(s,w,!0,1)[0]}function O(s,w,P){return P===void 0&&(P=!1),g.getText(g.getElementsByTagName(s,w,P,1)).trim()}function S(s,w){if(!w)return null;var P=w.attribs;return P[s]}function x(s,w,P,I,D){D===void 0&&(D=!1);var N=O(P,I,D);N&&(s[w]=N)}function T(s){return s==="rss"||s==="feed"||s==="rdf:RDF"}var _={xmlMode:!0};function d(s,w){w===void 0&&(w=_);var P=new E(w);return new v.Parser(P,w).end(s),P.feed}u.parseFeed=d},90819:(z,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0});var e=function(){function o(f){this._func=f}return o.prototype.onattribute=function(f,l){this._func("onattribute",f,l)},o.prototype.oncdatastart=function(){this._func("oncdatastart")},o.prototype.oncdataend=function(){this._func("oncdataend")},o.prototype.ontext=function(f){this._func("ontext",f)},o.prototype.onprocessinginstruction=function(f,l){this._func("onprocessinginstruction",f,l)},o.prototype.oncomment=function(f){this._func("oncomment",f)},o.prototype.oncommentend=function(){this._func("oncommentend")},o.prototype.onclosetag=function(f){this._func("onclosetag",f)},o.prototype.onopentag=function(f,l){this._func("onopentag",f,l)},o.prototype.onopentagname=function(f){this._func("onopentagname",f)},o.prototype.onerror=function(f){this._func("onerror",f)},o.prototype.onend=function(){this._func("onend")},o.prototype.onparserinit=function(f){this._func("onparserinit",f)},o.prototype.onreset=function(){this._func("onreset")},o}();u.default=e},16666:function(z,u,e){"use strict";var o=this&&this.__extends||function(){var T=function(_,d){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,w){s.__proto__=w}||function(s,w){for(var P in w)w.hasOwnProperty(P)&&(s[P]=w[P])},T(_,d)};return function(_,d){T(_,d);function s(){this.constructor=_}_.prototype=d===null?Object.create(d):(s.prototype=d.prototype,new s)}}(),f=this&&this.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(u,"__esModule",{value:!0});var l=f(e(10034)),c=e(17187),g=new Set(["input","option","optgroup","select","button","datalist","textarea"]),v=new Set(["p"]),E={tr:new Set(["tr","th","td"]),th:new Set(["th"]),td:new Set(["thead","th","td"]),body:new Set(["head","link","script"]),li:new Set(["li"]),p:v,h1:v,h2:v,h3:v,h4:v,h5:v,h6:v,select:g,input:g,output:g,button:g,datalist:g,textarea:g,option:new Set(["option"]),optgroup:new Set(["optgroup","option"]),dd:new Set(["dt","dd"]),dt:new Set(["dt","dd"]),address:v,article:v,aside:v,blockquote:v,details:v,div:v,dl:v,fieldset:v,figcaption:v,figure:v,footer:v,form:v,header:v,hr:v,main:v,nav:v,ol:v,pre:v,section:v,table:v,ul:v,rt:new Set(["rt","rp"]),rp:new Set(["rt","rp"]),tbody:new Set(["thead","tbody"]),tfoot:new Set(["thead","tbody"])},y=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),p=new Set(["math","svg"]),O=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),S=/\s|\//,x=function(T){o(_,T);function _(d,s){var w=T.call(this)||this;return w._tagname="",w._attribname="",w._attribvalue="",w._attribs=null,w._stack=[],w._foreignContext=[],w.startIndex=0,w.endIndex=null,w.parseChunk=_.prototype.write,w.done=_.prototype.end,w._options=s||{},w._cbs=d||{},w._tagname="",w._attribname="",w._attribvalue="",w._attribs=null,w._stack=[],w._foreignContext=[],w.startIndex=0,w.endIndex=null,w._lowerCaseTagNames="lowerCaseTags"in w._options?!!w._options.lowerCaseTags:!w._options.xmlMode,w._lowerCaseAttributeNames="lowerCaseAttributeNames"in w._options?!!w._options.lowerCaseAttributeNames:!w._options.xmlMode,w._tokenizer=new(w._options.Tokenizer||l.default)(w._options,w),w._cbs.onparserinit&&w._cbs.onparserinit(w),w}return _.prototype._updatePosition=function(d){this.endIndex===null?this._tokenizer._sectionStart<=d?this.startIndex=0:this.startIndex=this._tokenizer._sectionStart-d:this.startIndex=this.endIndex+1,this.endIndex=this._tokenizer.getAbsoluteIndex()},_.prototype.ontext=function(d){this._updatePosition(1),this.endIndex--,this._cbs.ontext&&this._cbs.ontext(d)},_.prototype.onopentagname=function(d){if(this._lowerCaseTagNames&&(d=d.toLowerCase()),this._tagname=d,!this._options.xmlMode&&Object.prototype.hasOwnProperty.call(E,d))for(var s=void 0;E[d].has(s=this._stack[this._stack.length-1]);this.onclosetag(s));(this._options.xmlMode||!y.has(d))&&(this._stack.push(d),p.has(d)?this._foreignContext.push(!0):O.has(d)&&this._foreignContext.push(!1)),this._cbs.onopentagname&&this._cbs.onopentagname(d),this._cbs.onopentag&&(this._attribs={})},_.prototype.onopentagend=function(){this._updatePosition(1),this._attribs&&(this._cbs.onopentag&&this._cbs.onopentag(this._tagname,this._attribs),this._attribs=null),!this._options.xmlMode&&this._cbs.onclosetag&&y.has(this._tagname)&&this._cbs.onclosetag(this._tagname),this._tagname=""},_.prototype.onclosetag=function(d){if(this._updatePosition(1),this._lowerCaseTagNames&&(d=d.toLowerCase()),(p.has(d)||O.has(d))&&this._foreignContext.pop(),this._stack.length&&(this._options.xmlMode||!y.has(d))){var s=this._stack.lastIndexOf(d);if(s!==-1)if(this._cbs.onclosetag)for(s=this._stack.length-s;s--;)this._cbs.onclosetag(this._stack.pop());else this._stack.length=s;else d==="p"&&!this._options.xmlMode&&(this.onopentagname(d),this._closeCurrentTag())}else!this._options.xmlMode&&(d==="br"||d==="p")&&(this.onopentagname(d),this._closeCurrentTag())},_.prototype.onselfclosingtag=function(){this._options.xmlMode||this._options.recognizeSelfClosing||this._foreignContext[this._foreignContext.length-1]?this._closeCurrentTag():this.onopentagend()},_.prototype._closeCurrentTag=function(){var d=this._tagname;this.onopentagend(),this._stack[this._stack.length-1]===d&&(this._cbs.onclosetag&&this._cbs.onclosetag(d),this._stack.pop())},_.prototype.onattribname=function(d){this._lowerCaseAttributeNames&&(d=d.toLowerCase()),this._attribname=d},_.prototype.onattribdata=function(d){this._attribvalue+=d},_.prototype.onattribend=function(){this._cbs.onattribute&&this._cbs.onattribute(this._attribname,this._attribvalue),this._attribs&&!Object.prototype.hasOwnProperty.call(this._attribs,this._attribname)&&(this._attribs[this._attribname]=this._attribvalue),this._attribname="",this._attribvalue=""},_.prototype._getInstructionName=function(d){var s=d.search(S),w=s<0?d:d.substr(0,s);return this._lowerCaseTagNames&&(w=w.toLowerCase()),w},_.prototype.ondeclaration=function(d){if(this._cbs.onprocessinginstruction){var s=this._getInstructionName(d);this._cbs.onprocessinginstruction("!"+s,"!"+d)}},_.prototype.onprocessinginstruction=function(d){if(this._cbs.onprocessinginstruction){var s=this._getInstructionName(d);this._cbs.onprocessinginstruction("?"+s,"?"+d)}},_.prototype.oncomment=function(d){this._updatePosition(4),this._cbs.oncomment&&this._cbs.oncomment(d),this._cbs.oncommentend&&this._cbs.oncommentend()},_.prototype.oncdata=function(d){this._updatePosition(1),this._options.xmlMode||this._options.recognizeCDATA?(this._cbs.oncdatastart&&this._cbs.oncdatastart(),this._cbs.ontext&&this._cbs.ontext(d),this._cbs.oncdataend&&this._cbs.oncdataend()):this.oncomment("[CDATA["+d+"]]")},_.prototype.onerror=function(d){this._cbs.onerror&&this._cbs.onerror(d)},_.prototype.onend=function(){if(this._cbs.onclosetag)for(var d=this._stack.length;d>0;this._cbs.onclosetag(this._stack[--d]));this._cbs.onend&&this._cbs.onend()},_.prototype.reset=function(){this._cbs.onreset&&this._cbs.onreset(),this._tokenizer.reset(),this._tagname="",this._attribname="",this._attribs=null,this._stack=[],this._cbs.onparserinit&&this._cbs.onparserinit(this)},_.prototype.parseComplete=function(d){this.reset(),this.end(d)},_.prototype.write=function(d){this._tokenizer.write(d)},_.prototype.end=function(d){this._tokenizer.end(d)},_.prototype.pause=function(){this._tokenizer.pause()},_.prototype.resume=function(){this._tokenizer.resume()},_}(c.EventEmitter);u.Parser=x},10034:function(z,u,e){"use strict";var o=this&&this.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};Object.defineProperty(u,"__esModule",{value:!0});var f=o(e(26)),l=o(e(59323)),c=o(e(29591)),g=o(e(2586));function v(R){return R===" "||R===`
`||R==="	"||R==="\f"||R==="\r"}function E(R,j,ie){var le=R.toLowerCase();return R===le?function(ye,ue){ue===le?ye._state=j:(ye._state=ie,ye._index--)}:function(ye,ue){ue===le||ue===R?ye._state=j:(ye._state=ie,ye._index--)}}function y(R,j){var ie=R.toLowerCase();return function(le,ye){ye===ie||ye===R?le._state=j:(le._state=3,le._index--)}}var p=E("C",23,16),O=E("D",24,16),S=E("A",25,16),x=E("T",26,16),T=E("A",27,16),_=y("R",34),d=y("I",35),s=y("P",36),w=y("T",37),P=E("R",39,1),I=E("I",40,1),D=E("P",41,1),N=E("T",42,1),C=y("Y",44),A=y("L",45),L=y("E",46),U=E("Y",48,1),W=E("L",49,1),G=E("E",50,1),$=E("#",52,53),q=E("X",55,54),J=function(){function R(j,ie){this._state=1,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=1,this._special=1,this._running=!0,this._ended=!1,this._cbs=ie,this._xmlMode=!!(j&&j.xmlMode),this._decodeEntities=!!(j&&j.decodeEntities)}return R.prototype.reset=function(){this._state=1,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=1,this._special=1,this._running=!0,this._ended=!1},R.prototype._stateText=function(j){j==="<"?(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._state=2,this._sectionStart=this._index):this._decodeEntities&&this._special===1&&j==="&"&&(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._baseState=1,this._state=51,this._sectionStart=this._index)},R.prototype._stateBeforeTagName=function(j){j==="/"?this._state=5:j==="<"?(this._cbs.ontext(this._getSection()),this._sectionStart=this._index):j===">"||this._special!==1||v(j)?this._state=1:j==="!"?(this._state=15,this._sectionStart=this._index+1):j==="?"?(this._state=17,this._sectionStart=this._index+1):(this._state=!this._xmlMode&&(j==="s"||j==="S")?31:3,this._sectionStart=this._index)},R.prototype._stateInTagName=function(j){(j==="/"||j===">"||v(j))&&(this._emitToken("onopentagname"),this._state=8,this._index--)},R.prototype._stateBeforeClosingTagName=function(j){v(j)||(j===">"?this._state=1:this._special!==1?j==="s"||j==="S"?this._state=32:(this._state=1,this._index--):(this._state=6,this._sectionStart=this._index))},R.prototype._stateInClosingTagName=function(j){(j===">"||v(j))&&(this._emitToken("onclosetag"),this._state=7,this._index--)},R.prototype._stateAfterClosingTagName=function(j){j===">"&&(this._state=1,this._sectionStart=this._index+1)},R.prototype._stateBeforeAttributeName=function(j){j===">"?(this._cbs.onopentagend(),this._state=1,this._sectionStart=this._index+1):j==="/"?this._state=4:v(j)||(this._state=9,this._sectionStart=this._index)},R.prototype._stateInSelfClosingTag=function(j){j===">"?(this._cbs.onselfclosingtag(),this._state=1,this._sectionStart=this._index+1):v(j)||(this._state=8,this._index--)},R.prototype._stateInAttributeName=function(j){(j==="="||j==="/"||j===">"||v(j))&&(this._cbs.onattribname(this._getSection()),this._sectionStart=-1,this._state=10,this._index--)},R.prototype._stateAfterAttributeName=function(j){j==="="?this._state=11:j==="/"||j===">"?(this._cbs.onattribend(),this._state=8,this._index--):v(j)||(this._cbs.onattribend(),this._state=9,this._sectionStart=this._index)},R.prototype._stateBeforeAttributeValue=function(j){j==='"'?(this._state=12,this._sectionStart=this._index+1):j==="'"?(this._state=13,this._sectionStart=this._index+1):v(j)||(this._state=14,this._sectionStart=this._index,this._index--)},R.prototype._stateInAttributeValueDoubleQuotes=function(j){j==='"'?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=8):this._decodeEntities&&j==="&"&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=51,this._sectionStart=this._index)},R.prototype._stateInAttributeValueSingleQuotes=function(j){j==="'"?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=8):this._decodeEntities&&j==="&"&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=51,this._sectionStart=this._index)},R.prototype._stateInAttributeValueNoQuotes=function(j){v(j)||j===">"?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=8,this._index--):this._decodeEntities&&j==="&"&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=51,this._sectionStart=this._index)},R.prototype._stateBeforeDeclaration=function(j){this._state=j==="["?22:j==="-"?18:16},R.prototype._stateInDeclaration=function(j){j===">"&&(this._cbs.ondeclaration(this._getSection()),this._state=1,this._sectionStart=this._index+1)},R.prototype._stateInProcessingInstruction=function(j){j===">"&&(this._cbs.onprocessinginstruction(this._getSection()),this._state=1,this._sectionStart=this._index+1)},R.prototype._stateBeforeComment=function(j){j==="-"?(this._state=19,this._sectionStart=this._index+1):this._state=16},R.prototype._stateInComment=function(j){j==="-"&&(this._state=20)},R.prototype._stateAfterComment1=function(j){j==="-"?this._state=21:this._state=19},R.prototype._stateAfterComment2=function(j){j===">"?(this._cbs.oncomment(this._buffer.substring(this._sectionStart,this._index-2)),this._state=1,this._sectionStart=this._index+1):j!=="-"&&(this._state=19)},R.prototype._stateBeforeCdata6=function(j){j==="["?(this._state=28,this._sectionStart=this._index+1):(this._state=16,this._index--)},R.prototype._stateInCdata=function(j){j==="]"&&(this._state=29)},R.prototype._stateAfterCdata1=function(j){j==="]"?this._state=30:this._state=28},R.prototype._stateAfterCdata2=function(j){j===">"?(this._cbs.oncdata(this._buffer.substring(this._sectionStart,this._index-2)),this._state=1,this._sectionStart=this._index+1):j!=="]"&&(this._state=28)},R.prototype._stateBeforeSpecial=function(j){j==="c"||j==="C"?this._state=33:j==="t"||j==="T"?this._state=43:(this._state=3,this._index--)},R.prototype._stateBeforeSpecialEnd=function(j){this._special===2&&(j==="c"||j==="C")?this._state=38:this._special===3&&(j==="t"||j==="T")?this._state=47:this._state=1},R.prototype._stateBeforeScript5=function(j){(j==="/"||j===">"||v(j))&&(this._special=2),this._state=3,this._index--},R.prototype._stateAfterScript5=function(j){j===">"||v(j)?(this._special=1,this._state=6,this._sectionStart=this._index-6,this._index--):this._state=1},R.prototype._stateBeforeStyle4=function(j){(j==="/"||j===">"||v(j))&&(this._special=3),this._state=3,this._index--},R.prototype._stateAfterStyle4=function(j){j===">"||v(j)?(this._special=1,this._state=6,this._sectionStart=this._index-5,this._index--):this._state=1},R.prototype._parseNamedEntityStrict=function(){if(this._sectionStart+1<this._index){var j=this._buffer.substring(this._sectionStart+1,this._index),ie=this._xmlMode?g.default:l.default;Object.prototype.hasOwnProperty.call(ie,j)&&(this._emitPartial(ie[j]),this._sectionStart=this._index+1)}},R.prototype._parseLegacyEntity=function(){var j=this._sectionStart+1,ie=this._index-j;for(ie>6&&(ie=6);ie>=2;){var le=this._buffer.substr(j,ie);if(Object.prototype.hasOwnProperty.call(c.default,le)){this._emitPartial(c.default[le]),this._sectionStart+=ie+1;return}else ie--}},R.prototype._stateInNamedEntity=function(j){j===";"?(this._parseNamedEntityStrict(),this._sectionStart+1<this._index&&!this._xmlMode&&this._parseLegacyEntity(),this._state=this._baseState):(j<"a"||j>"z")&&(j<"A"||j>"Z")&&(j<"0"||j>"9")&&(this._xmlMode||this._sectionStart+1===this._index||(this._baseState!==1?j!=="="&&this._parseNamedEntityStrict():this._parseLegacyEntity()),this._state=this._baseState,this._index--)},R.prototype._decodeNumericEntity=function(j,ie){var le=this._sectionStart+j;if(le!==this._index){var ye=this._buffer.substring(le,this._index),ue=parseInt(ye,ie);this._emitPartial(f.default(ue)),this._sectionStart=this._index}else this._sectionStart--;this._state=this._baseState},R.prototype._stateInNumericEntity=function(j){j===";"?(this._decodeNumericEntity(2,10),this._sectionStart++):(j<"0"||j>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(2,10),this._index--)},R.prototype._stateInHexEntity=function(j){j===";"?(this._decodeNumericEntity(3,16),this._sectionStart++):(j<"a"||j>"f")&&(j<"A"||j>"F")&&(j<"0"||j>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(3,16),this._index--)},R.prototype._cleanup=function(){this._sectionStart<0?(this._buffer="",this._bufferOffset+=this._index,this._index=0):this._running&&(this._state===1?(this._sectionStart!==this._index&&this._cbs.ontext(this._buffer.substr(this._sectionStart)),this._buffer="",this._bufferOffset+=this._index,this._index=0):this._sectionStart===this._index?(this._buffer="",this._bufferOffset+=this._index,this._index=0):(this._buffer=this._buffer.substr(this._sectionStart),this._index-=this._sectionStart,this._bufferOffset+=this._sectionStart),this._sectionStart=0)},R.prototype.write=function(j){this._ended&&this._cbs.onerror(Error(".write() after done!")),this._buffer+=j,this._parse()},R.prototype._parse=function(){for(;this._index<this._buffer.length&&this._running;){var j=this._buffer.charAt(this._index);this._state===1?this._stateText(j):this._state===12?this._stateInAttributeValueDoubleQuotes(j):this._state===9?this._stateInAttributeName(j):this._state===19?this._stateInComment(j):this._state===8?this._stateBeforeAttributeName(j):this._state===3?this._stateInTagName(j):this._state===6?this._stateInClosingTagName(j):this._state===2?this._stateBeforeTagName(j):this._state===10?this._stateAfterAttributeName(j):this._state===13?this._stateInAttributeValueSingleQuotes(j):this._state===11?this._stateBeforeAttributeValue(j):this._state===5?this._stateBeforeClosingTagName(j):this._state===7?this._stateAfterClosingTagName(j):this._state===31?this._stateBeforeSpecial(j):this._state===20?this._stateAfterComment1(j):this._state===14?this._stateInAttributeValueNoQuotes(j):this._state===4?this._stateInSelfClosingTag(j):this._state===16?this._stateInDeclaration(j):this._state===15?this._stateBeforeDeclaration(j):this._state===21?this._stateAfterComment2(j):this._state===18?this._stateBeforeComment(j):this._state===32?this._stateBeforeSpecialEnd(j):this._state===38?P(this,j):this._state===39?I(this,j):this._state===40?D(this,j):this._state===33?_(this,j):this._state===34?d(this,j):this._state===35?s(this,j):this._state===36?w(this,j):this._state===37?this._stateBeforeScript5(j):this._state===41?N(this,j):this._state===42?this._stateAfterScript5(j):this._state===43?C(this,j):this._state===28?this._stateInCdata(j):this._state===44?A(this,j):this._state===45?L(this,j):this._state===46?this._stateBeforeStyle4(j):this._state===47?U(this,j):this._state===48?W(this,j):this._state===49?G(this,j):this._state===50?this._stateAfterStyle4(j):this._state===17?this._stateInProcessingInstruction(j):this._state===53?this._stateInNamedEntity(j):this._state===22?p(this,j):this._state===51?$(this,j):this._state===23?O(this,j):this._state===24?S(this,j):this._state===29?this._stateAfterCdata1(j):this._state===30?this._stateAfterCdata2(j):this._state===25?x(this,j):this._state===26?T(this,j):this._state===27?this._stateBeforeCdata6(j):this._state===55?this._stateInHexEntity(j):this._state===54?this._stateInNumericEntity(j):this._state===52?q(this,j):this._cbs.onerror(Error("unknown _state"),this._state),this._index++}this._cleanup()},R.prototype.pause=function(){this._running=!1},R.prototype.resume=function(){this._running=!0,this._index<this._buffer.length&&this._parse(),this._ended&&this._finish()},R.prototype.end=function(j){this._ended&&this._cbs.onerror(Error(".end() after done!")),j&&this.write(j),this._ended=!0,this._running&&this._finish()},R.prototype._finish=function(){this._sectionStart<this._index&&this._handleTrailingData(),this._cbs.onend()},R.prototype._handleTrailingData=function(){var j=this._buffer.substr(this._sectionStart);this._state===28||this._state===29||this._state===30?this._cbs.oncdata(j):this._state===19||this._state===20||this._state===21?this._cbs.oncomment(j):this._state===53&&!this._xmlMode?(this._parseLegacyEntity(),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):this._state===54&&!this._xmlMode?(this._decodeNumericEntity(2,10),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):this._state===55&&!this._xmlMode?(this._decodeNumericEntity(3,16),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):this._state!==3&&this._state!==8&&this._state!==11&&this._state!==10&&this._state!==9&&this._state!==13&&this._state!==12&&this._state!==14&&this._state!==6&&this._cbs.ontext(j)},R.prototype.getAbsoluteIndex=function(){return this._bufferOffset+this._index},R.prototype._getSection=function(){return this._buffer.substring(this._sectionStart,this._index)},R.prototype._emitToken=function(j){this._cbs[j](this._getSection()),this._sectionStart=-1},R.prototype._emitPartial=function(j){this._baseState!==1?this._cbs.onattribdata(j):this._cbs.ontext(j)},R}();u.default=J},35106:function(z,u,e){"use strict";function o(S){for(var x in S)u.hasOwnProperty(x)||(u[x]=S[x])}var f=this&&this.__importStar||function(S){if(S&&S.__esModule)return S;var x={};if(S!=null)for(var T in S)Object.hasOwnProperty.call(S,T)&&(x[T]=S[T]);return x.default=S,x};Object.defineProperty(u,"__esModule",{value:!0});var l=e(16666);u.Parser=l.Parser;var c=e(47915);u.DomHandler=c.DomHandler,u.DefaultHandler=c.DomHandler;function g(S,x){var T=new c.DomHandler(void 0,x);return new l.Parser(T,x).end(S),T.dom}u.parseDOM=g;function v(S,x,T){var _=new c.DomHandler(S,x,T);return new l.Parser(_,x)}u.createDomStream=v;var E=e(10034);u.Tokenizer=E.default;var y=f(e(99960));u.ElementType=y,u.EVENTS={attribute:2,cdatastart:0,cdataend:0,text:1,processinginstruction:2,comment:1,commentend:0,closetag:1,opentag:2,opentagname:1,error:1,end:0},o(e(57613)),o(e(18036)),o(e(16691));var p=f(e(89432));u.DomUtils=p;var O=e(57613);u.RssHandler=O.FeedHandler},10977:(z,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0});/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function e(f){return Object.prototype.toString.call(f)==="[object Object]"}function o(f){var l,c;return e(f)===!1?!1:(l=f.constructor,l===void 0?!0:(c=l.prototype,!(e(c)===!1||c.hasOwnProperty("isPrototypeOf")===!1)))}u.isPlainObject=o},37478:(z,u,e)=>{"use strict";var o=e(40210),f=e(21924),l=e(70631),c=o("%TypeError%"),g=o("%WeakMap%",!0),v=o("%Map%",!0),E=f("WeakMap.prototype.get",!0),y=f("WeakMap.prototype.set",!0),p=f("WeakMap.prototype.has",!0),O=f("Map.prototype.get",!0),S=f("Map.prototype.set",!0),x=f("Map.prototype.has",!0),T=function(w,P){for(var I=w,D;(D=I.next)!==null;I=D)if(D.key===P)return I.next=D.next,D.next=w.next,w.next=D,D},_=function(w,P){var I=T(w,P);return I&&I.value},d=function(w,P,I){var D=T(w,P);D?D.value=I:w.next={key:P,next:w.next,value:I}},s=function(w,P){return!!T(w,P)};z.exports=function(){var P,I,D,N={assert:function(C){if(!N.has(C))throw new c("Side channel does not contain "+l(C))},get:function(C){if(g&&C&&(typeof C=="object"||typeof C=="function")){if(P)return E(P,C)}else if(v){if(I)return O(I,C)}else if(D)return _(D,C)},has:function(C){if(g&&C&&(typeof C=="object"||typeof C=="function")){if(P)return p(P,C)}else if(v){if(I)return x(I,C)}else if(D)return s(D,C);return!1},set:function(C,A){g&&C&&(typeof C=="object"||typeof C=="function")?(P||(P=new g),y(P,C,A)):v?(I||(I=new v),S(I,C,A)):(D||(D={key:{},next:null}),d(D,C,A))}};return N}},79546:(z,u,e)=>{var o=e(62195),f=[e(39627),e(58855),e(45580),e(8728)],l=[];z.exports=o.createStore(f,l)},62195:(z,u,e)=>{var o=e(69078),f=o.slice,l=o.pluck,c=o.each,g=o.bind,v=o.create,E=o.isList,y=o.isFunction,p=o.isObject;z.exports={createStore:x};var O={version:"2.0.12",enabled:!1,get:function(T,_){var d=this.storage.read(this._namespacePrefix+T);return this._deserialize(d,_)},set:function(T,_){return _===void 0?this.remove(T):(this.storage.write(this._namespacePrefix+T,this._serialize(_)),_)},remove:function(T){this.storage.remove(this._namespacePrefix+T)},each:function(T){var _=this;this.storage.each(function(d,s){T.call(_,_._deserialize(d),(s||"").replace(_._namespaceRegexp,""))})},clearAll:function(){this.storage.clearAll()},hasNamespace:function(T){return this._namespacePrefix=="__storejs_"+T+"_"},createStore:function(){return x.apply(this,arguments)},addPlugin:function(T){this._addPlugin(T)},namespace:function(T){return x(this.storage,this.plugins,T)}};function S(){var T=typeof console=="undefined"?null:console;if(T){var _=T.warn?T.warn:T.log;_.apply(T,arguments)}}function x(T,_,d){d||(d=""),T&&!E(T)&&(T=[T]),_&&!E(_)&&(_=[_]);var s=d?"__storejs_"+d+"_":"",w=d?new RegExp("^"+s):null,P=/^[a-zA-Z0-9_\-]*$/;if(!P.test(d))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var I={_namespacePrefix:s,_namespaceRegexp:w,_testStorage:function(N){try{var C="__storejs__test__";N.write(C,C);var A=N.read(C)===C;return N.remove(C),A}catch(L){return!1}},_assignPluginFnProp:function(N,C){var A=this[C];this[C]=function(){var U=f(arguments,0),W=this;function G(){if(A)return c(arguments,function(q,J){U[J]=q}),A.apply(W,U)}var $=[G].concat(U);return N.apply(W,$)}},_serialize:function(N){return JSON.stringify(N)},_deserialize:function(N,C){if(!N)return C;var A="";try{A=JSON.parse(N)}catch(L){A=N}return A!==void 0?A:C},_addStorage:function(N){this.enabled||this._testStorage(N)&&(this.storage=N,this.enabled=!0)},_addPlugin:function(N){var C=this;if(E(N)){c(N,function(U){C._addPlugin(U)});return}var A=l(this.plugins,function(U){return N===U});if(!A){if(this.plugins.push(N),!y(N))throw new Error("Plugins must be function values that return objects");var L=N.call(this);if(!p(L))throw new Error("Plugins must return an object of function properties");c(L,function(U,W){if(!y(U))throw new Error("Bad plugin property: "+W+" from plugin "+N.name+". Plugins should only return functions.");C._assignPluginFnProp(U,W)})}},addStorage:function(N){S("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(N)}},D=v(I,O,{plugins:[]});return D.raw={},c(D,function(N,C){y(N)&&(D.raw[C]=g(D,N))}),c(T,function(N){D._addStorage(N)}),c(_,function(N){D._addPlugin(N)}),D}},69078:(z,u,e)=>{var o=g(),f=v(),l=E(),c=typeof window!="undefined"?window:e.g;z.exports={assign:o,create:f,trim:l,bind:y,slice:p,each:O,map:S,pluck:x,isList:T,isFunction:_,isObject:d,Global:c};function g(){return Object.assign?Object.assign:function(w,P,I,D){for(var N=1;N<arguments.length;N++)O(Object(arguments[N]),function(C,A){w[A]=C});return w}}function v(){if(Object.create)return function(P,I,D,N){var C=p(arguments,1);return o.apply(this,[Object.create(P)].concat(C))};{let w=function(){};var s=w;return function(I,D,N,C){var A=p(arguments,1);return w.prototype=I,o.apply(this,[new w].concat(A))}}}function E(){return String.prototype.trim?function(w){return String.prototype.trim.call(w)}:function(w){return w.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}function y(s,w){return function(){return w.apply(s,Array.prototype.slice.call(arguments,0))}}function p(s,w){return Array.prototype.slice.call(s,w||0)}function O(s,w){x(s,function(P,I){return w(P,I),!1})}function S(s,w){var P=T(s)?[]:{};return x(s,function(I,D){return P[D]=w(I,D),!1}),P}function x(s,w){if(T(s)){for(var P=0;P<s.length;P++)if(w(s[P],P))return s[P]}else for(var I in s)if(s.hasOwnProperty(I)&&w(s[I],I))return s[I]}function T(s){return s!=null&&typeof s!="function"&&typeof s.length=="number"}function _(s){return s&&{}.toString.call(s)==="[object Function]"}function d(s){return s&&{}.toString.call(s)==="[object Object]"}},45580:(z,u,e)=>{var o=e(69078),f=o.Global,l=o.trim;z.exports={name:"cookieStorage",read:g,write:E,each:v,remove:y,clearAll:p};var c=f.document;function g(S){if(!S||!O(S))return null;var x="(?:^|.*;\\s*)"+escape(S).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(c.cookie.replace(new RegExp(x),"$1"))}function v(S){for(var x=c.cookie.split(/; ?/g),T=x.length-1;T>=0;T--)if(l(x[T])){var _=x[T].split("="),d=unescape(_[0]),s=unescape(_[1]);S(s,d)}}function E(S,x){S&&(c.cookie=escape(S)+"="+escape(x)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/")}function y(S){!S||!O(S)||(c.cookie=escape(S)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function p(){v(function(S,x){y(x)})}function O(S){return new RegExp("(?:^|;\\s*)"+escape(S).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(c.cookie)}},39627:(z,u,e)=>{var o=e(69078),f=o.Global;z.exports={name:"localStorage",read:c,write:g,each:v,remove:E,clearAll:y};function l(){return f.localStorage}function c(p){return l().getItem(p)}function g(p,O){return l().setItem(p,O)}function v(p){for(var O=l().length-1;O>=0;O--){var S=l().key(O);p(c(S),S)}}function E(p){return l().removeItem(p)}function y(){return l().clear()}},8728:z=>{z.exports={name:"memoryStorage",read:e,write:o,each:f,remove:l,clearAll:c};var u={};function e(g){return u[g]}function o(g,v){u[g]=v}function f(g){for(var v in u)u.hasOwnProperty(v)&&g(u[v],v)}function l(g){delete u[g]}function c(g){u={}}},58855:(z,u,e)=>{var o=e(69078),f=o.Global;z.exports={name:"sessionStorage",read:c,write:g,each:v,remove:E,clearAll:y};function l(){return f.sessionStorage}function c(p){return l().getItem(p)}function g(p,O){return l().setItem(p,O)}function v(p){for(var O=l().length-1;O>=0;O--){var S=l().key(O);p(c(S),S)}}function E(p){return l().removeItem(p)}function y(){return l().clear()}},37903:z=>{"use strict";function u(v){return l(v)||f(v)||o(v)||e()}function e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o(v,E){if(v){if(typeof v=="string")return c(v,E);var y=Object.prototype.toString.call(v).slice(8,-1);if(y==="Object"&&v.constructor&&(y=v.constructor.name),y==="Map"||y==="Set")return Array.from(v);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return c(v,E)}}function f(v){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(v))return Array.from(v)}function l(v){if(Array.isArray(v))return c(v)}function c(v,E){(E==null||E>v.length)&&(E=v.length);for(var y=0,p=new Array(E);y<E;y++)p[y]=v[y];return p}function g(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert","disableTLSCerts"].forEach(function(v){g.prototype[v]=function(){for(var E=arguments.length,y=new Array(E),p=0;p<E;p++)y[p]=arguments[p];return this._defaults.push({fn:v,args:y}),this}}),g.prototype._setDefaults=function(v){this._defaults.forEach(function(E){v[E.fn].apply(v,u(E.args))})},z.exports=g},80569:(z,u,e)=>{"use strict";function o(N){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?o=function(A){return typeof A}:o=function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},o(N)}var f;typeof window!="undefined"?f=window:typeof self=="undefined"?(console.warn("Using browser-only version of superagent in non-browser environment"),f=void 0):f=self;var l=e(98767),c=e(4445),g=e(80129),v=e(28899),E=e(54960),y=e(81097),p=e(37903);function O(){}z.exports=function(N,C){return typeof C=="function"?new u.Request("GET",N).end(C):arguments.length===1?new u.Request("GET",N):new u.Request(N,C)},u=z.exports;var S=u;u.Request=I,S.getXHR=function(){if(f.XMLHttpRequest&&(!f.location||f.location.protocol!=="file:"||!f.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(N){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(N){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(N){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(N){}throw new Error("Browser-only version of superagent could not find XHR")};var x="".trim?function(N){return N.trim()}:function(N){return N.replace(/(^\s*|\s*$)/g,"")};function T(N){if(!E(N))return N;var C=[];for(var A in N)Object.prototype.hasOwnProperty.call(N,A)&&_(C,A,N[A]);return C.join("&")}function _(N,C,A){if(A!==void 0){if(A===null){N.push(encodeURI(C));return}if(Array.isArray(A))A.forEach(function(U){_(N,C,U)});else if(E(A))for(var L in A)Object.prototype.hasOwnProperty.call(A,L)&&_(N,"".concat(C,"[").concat(L,"]"),A[L]);else N.push(encodeURI(C)+"="+encodeURIComponent(A))}}S.serializeObject=T;function d(N){for(var C={},A=N.split("&"),L,U,W=0,G=A.length;W<G;++W)L=A[W],U=L.indexOf("="),U===-1?C[decodeURIComponent(L)]="":C[decodeURIComponent(L.slice(0,U))]=decodeURIComponent(L.slice(U+1));return C}S.parseString=d,S.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},S.serialize={"application/x-www-form-urlencoded":g.stringify,"application/json":c},S.parse={"application/x-www-form-urlencoded":d,"application/json":JSON.parse};function s(N){for(var C=N.split(/\r?\n/),A={},L,U,W,G,$=0,q=C.length;$<q;++$)U=C[$],L=U.indexOf(":"),L!==-1&&(W=U.slice(0,L).toLowerCase(),G=x(U.slice(L+1)),A[W]=G);return A}function w(N){return/[/+]json($|[^-\w])/i.test(N)}function P(N){this.req=N,this.xhr=this.req.xhr,this.text=this.req.method!=="HEAD"&&(this.xhr.responseType===""||this.xhr.responseType==="text")||typeof this.xhr.responseType=="undefined"?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var C=this.xhr.status;C===1223&&(C=204),this._setStatusProperties(C),this.headers=s(this.xhr.getAllResponseHeaders()),this.header=this.headers,this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),this.text===null&&N._responseType?this.body=this.xhr.response:this.body=this.req.method==="HEAD"?null:this._parseBody(this.text?this.text:this.xhr.response)}y(P.prototype),P.prototype._parseBody=function(N){var C=S.parse[this.type];return this.req._parser?this.req._parser(this,N):(!C&&w(this.type)&&(C=S.parse["application/json"]),C&&N&&(N.length>0||N instanceof Object)?C(N):null)},P.prototype.toError=function(){var N=this.req,C=N.method,A=N.url,L="cannot ".concat(C," ").concat(A," (").concat(this.status,")"),U=new Error(L);return U.status=this.status,U.method=C,U.url=A,U},S.Response=P;function I(N,C){var A=this;this._query=this._query||[],this.method=N,this.url=C,this.header={},this._header={},this.on("end",function(){var L=null,U=null;try{U=new P(A)}catch(G){return L=new Error("Parser is unable to parse the response"),L.parse=!0,L.original=G,A.xhr?(L.rawResponse=typeof A.xhr.responseType=="undefined"?A.xhr.responseText:A.xhr.response,L.status=A.xhr.status?A.xhr.status:null,L.statusCode=L.status):(L.rawResponse=null,L.status=null),A.callback(L)}A.emit("response",U);var W;try{A._isResponseOK(U)||(W=new Error(U.statusText||U.text||"Unsuccessful HTTP response"))}catch(G){W=G}W?(W.original=L,W.response=U,W.status=U.status,A.callback(W,U)):A.callback(null,U)})}l(I.prototype),v(I.prototype),I.prototype.type=function(N){return this.set("Content-Type",S.types[N]||N),this},I.prototype.accept=function(N){return this.set("Accept",S.types[N]||N),this},I.prototype.auth=function(N,C,A){arguments.length===1&&(C=""),o(C)==="object"&&C!==null&&(A=C,C=""),A||(A={type:typeof btoa=="function"?"basic":"auto"});var L=function(W){if(typeof btoa=="function")return btoa(W);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(N,C,A,L)},I.prototype.query=function(N){return typeof N!="string"&&(N=T(N)),N&&this._query.push(N),this},I.prototype.attach=function(N,C,A){if(C){if(this._data)throw new Error("superagent can't mix .send() and .attach()");this._getFormData().append(N,C,A||C.name)}return this},I.prototype._getFormData=function(){return this._formData||(this._formData=new f.FormData),this._formData},I.prototype.callback=function(N,C){if(this._shouldRetry(N,C))return this._retry();var A=this._callback;this.clearTimeout(),N&&(this._maxRetries&&(N.retries=this._retries-1),this.emit("error",N)),A(N,C)},I.prototype.crossDomainError=function(){var N=new Error(`Request has been terminated
Possible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.`);N.crossDomain=!0,N.status=this.status,N.method=this.method,N.url=this.url,this.callback(N)},I.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},I.prototype.ca=I.prototype.agent,I.prototype.buffer=I.prototype.ca,I.prototype.write=function(){throw new Error("Streaming is not supported in browser version of superagent")},I.prototype.pipe=I.prototype.write,I.prototype._isHost=function(N){return N&&o(N)==="object"&&!Array.isArray(N)&&Object.prototype.toString.call(N)!=="[object Object]"},I.prototype.end=function(N){this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=N||O,this._finalizeQueryString(),this._end()},I.prototype._setUploadTimeout=function(){var N=this;this._uploadTimeout&&!this._uploadTimeoutTimer&&(this._uploadTimeoutTimer=setTimeout(function(){N._timeoutError("Upload timeout of ",N._uploadTimeout,"ETIMEDOUT")},this._uploadTimeout))},I.prototype._end=function(){if(this._aborted)return this.callback(new Error("The request has been aborted even before .end() was called"));var N=this;this.xhr=S.getXHR();var C=this.xhr,A=this._formData||this._data;this._setTimeouts(),C.onreadystatechange=function(){var $=C.readyState;if($>=2&&N._responseTimeoutTimer&&clearTimeout(N._responseTimeoutTimer),$===4){var q;try{q=C.status}catch(J){q=0}if(!q)return N.timedout||N._aborted?void 0:N.crossDomainError();N.emit("end")}};var L=function(q,J){J.total>0&&(J.percent=J.loaded/J.total*100,J.percent===100&&clearTimeout(N._uploadTimeoutTimer)),J.direction=q,N.emit("progress",J)};if(this.hasListeners("progress"))try{C.addEventListener("progress",L.bind(null,"download")),C.upload&&C.upload.addEventListener("progress",L.bind(null,"upload"))}catch($){}C.upload&&this._setUploadTimeout();try{this.username&&this.password?C.open(this.method,this.url,!0,this.username,this.password):C.open(this.method,this.url,!0)}catch($){return this.callback($)}if(this._withCredentials&&(C.withCredentials=!0),!this._formData&&this.method!=="GET"&&this.method!=="HEAD"&&typeof A!="string"&&!this._isHost(A)){var U=this._header["content-type"],W=this._serializer||S.serialize[U?U.split(";")[0]:""];!W&&w(U)&&(W=S.serialize["application/json"]),W&&(A=W(A))}for(var G in this.header)this.header[G]!==null&&Object.prototype.hasOwnProperty.call(this.header,G)&&C.setRequestHeader(G,this.header[G]);this._responseType&&(C.responseType=this._responseType),this.emit("request",this),C.send(typeof A=="undefined"?null:A)},S.agent=function(){return new p},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach(function(N){p.prototype[N.toLowerCase()]=function(C,A){var L=new S.Request(N,C);return this._setDefaults(L),A&&L.end(A),L}}),p.prototype.del=p.prototype.delete,S.get=function(N,C,A){var L=S("GET",N);return typeof C=="function"&&(A=C,C=null),C&&L.query(C),A&&L.end(A),L},S.head=function(N,C,A){var L=S("HEAD",N);return typeof C=="function"&&(A=C,C=null),C&&L.query(C),A&&L.end(A),L},S.options=function(N,C,A){var L=S("OPTIONS",N);return typeof C=="function"&&(A=C,C=null),C&&L.send(C),A&&L.end(A),L};function D(N,C,A){var L=S("DELETE",N);return typeof C=="function"&&(A=C,C=null),C&&L.send(C),A&&L.end(A),L}S.del=D,S.delete=D,S.patch=function(N,C,A){var L=S("PATCH",N);return typeof C=="function"&&(A=C,C=null),C&&L.send(C),A&&L.end(A),L},S.post=function(N,C,A){var L=S("POST",N);return typeof C=="function"&&(A=C,C=null),C&&L.send(C),A&&L.end(A),L},S.put=function(N,C,A){var L=S("PUT",N);return typeof C=="function"&&(A=C,C=null),C&&L.send(C),A&&L.end(A),L}},54960:z=>{"use strict";function u(o){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?u=function(l){return typeof l}:u=function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},u(o)}function e(o){return o!==null&&u(o)==="object"}z.exports=e},28899:(z,u,e)=>{"use strict";function o(E){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?o=function(p){return typeof p}:o=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},o(E)}var f=e(54960);z.exports=l;function l(E){if(E)return c(E)}function c(E){for(var y in l.prototype)Object.prototype.hasOwnProperty.call(l.prototype,y)&&(E[y]=l.prototype[y]);return E}l.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),clearTimeout(this._uploadTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,delete this._uploadTimeoutTimer,this},l.prototype.parse=function(E){return this._parser=E,this},l.prototype.responseType=function(E){return this._responseType=E,this},l.prototype.serialize=function(E){return this._serializer=E,this},l.prototype.timeout=function(E){if(!E||o(E)!=="object")return this._timeout=E,this._responseTimeout=0,this._uploadTimeout=0,this;for(var y in E)if(Object.prototype.hasOwnProperty.call(E,y))switch(y){case"deadline":this._timeout=E.deadline;break;case"response":this._responseTimeout=E.response;break;case"upload":this._uploadTimeout=E.upload;break;default:console.warn("Unknown timeout option",y)}return this},l.prototype.retry=function(E,y){return(arguments.length===0||E===!0)&&(E=1),E<=0&&(E=0),this._maxRetries=E,this._retries=0,this._retryCallback=y,this};var g=new Set(["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"]),v=new Set([408,413,429,500,502,503,504,521,522,524]);l.prototype._shouldRetry=function(E,y){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var p=this._retryCallback(E,y);if(p===!0)return!0;if(p===!1)return!1}catch(O){console.error(O)}return!!(y&&y.status&&v.has(y.status)||E&&(E.code&&g.has(E.code)||E.timeout&&E.code==="ECONNABORTED"||E.crossDomain))},l.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this.timedoutError=null,this._end()},l.prototype.then=function(E,y){var p=this;if(!this._fullfilledPromise){var O=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(S,x){O.on("abort",function(){if(!(p._maxRetries&&p._maxRetries>p._retries)){if(p.timedout&&p.timedoutError){x(p.timedoutError);return}var T=new Error("Aborted");T.code="ABORTED",T.status=p.status,T.method=p.method,T.url=p.url,x(T)}}),O.end(function(T,_){T?x(T):S(_)})})}return this._fullfilledPromise.then(E,y)},l.prototype.catch=function(E){return this.then(void 0,E)},l.prototype.use=function(E){return E(this),this},l.prototype.ok=function(E){if(typeof E!="function")throw new Error("Callback required");return this._okCallback=E,this},l.prototype._isResponseOK=function(E){return E?this._okCallback?this._okCallback(E):E.status>=200&&E.status<300:!1},l.prototype.get=function(E){return this._header[E.toLowerCase()]},l.prototype.getHeader=l.prototype.get,l.prototype.set=function(E,y){if(f(E)){for(var p in E)Object.prototype.hasOwnProperty.call(E,p)&&this.set(p,E[p]);return this}return this._header[E.toLowerCase()]=y,this.header[E]=y,this},l.prototype.unset=function(E){return delete this._header[E.toLowerCase()],delete this.header[E],this},l.prototype.field=function(E,y){if(E==null)throw new Error(".field(name, val) name can not be empty");if(this._data)throw new Error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");if(f(E)){for(var p in E)Object.prototype.hasOwnProperty.call(E,p)&&this.field(p,E[p]);return this}if(Array.isArray(y)){for(var O in y)Object.prototype.hasOwnProperty.call(y,O)&&this.field(E,y[O]);return this}if(y==null)throw new Error(".field(name, val) val can not be empty");return typeof y=="boolean"&&(y=String(y)),this._getFormData().append(E,y),this},l.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)},l.prototype._auth=function(E,y,p,O){switch(p.type){case"basic":this.set("Authorization","Basic ".concat(O("".concat(E,":").concat(y))));break;case"auto":this.username=E,this.password=y;break;case"bearer":this.set("Authorization","Bearer ".concat(E));break;default:break}return this},l.prototype.withCredentials=function(E){return E===void 0&&(E=!0),this._withCredentials=E,this},l.prototype.redirects=function(E){return this._maxRedirects=E,this},l.prototype.maxResponseSize=function(E){if(typeof E!="number")throw new TypeError("Invalid argument");return this._maxResponseSize=E,this},l.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},l.prototype.send=function(E){var y=f(E),p=this._header["content-type"];if(this._formData)throw new Error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");if(y&&!this._data)Array.isArray(E)?this._data=[]:this._isHost(E)||(this._data={});else if(E&&this._data&&this._isHost(this._data))throw new Error("Can't merge these send calls");if(y&&f(this._data))for(var O in E)Object.prototype.hasOwnProperty.call(E,O)&&(this._data[O]=E[O]);else typeof E=="string"?(p||this.type("form"),p=this._header["content-type"],p&&(p=p.toLowerCase().trim()),p==="application/x-www-form-urlencoded"?this._data=this._data?"".concat(this._data,"&").concat(E):E:this._data=(this._data||"")+E):this._data=E;return!y||this._isHost(E)?this:(p||this.type("json"),this)},l.prototype.sortQuery=function(E){return this._sort=typeof E=="undefined"?!0:E,this},l.prototype._finalizeQueryString=function(){var E=this._query.join("&");if(E&&(this.url+=(this.url.includes("?")?"&":"?")+E),this._query.length=0,this._sort){var y=this.url.indexOf("?");if(y>=0){var p=this.url.slice(y+1).split("&");typeof this._sort=="function"?p.sort(this._sort):p.sort(),this.url=this.url.slice(0,y)+"?"+p.join("&")}}},l.prototype._appendQueryString=function(){console.warn("Unsupported")},l.prototype._timeoutError=function(E,y,p){if(!this._aborted){var O=new Error("".concat(E+y,"ms exceeded"));O.timeout=y,O.code="ECONNABORTED",O.errno=p,this.timedout=!0,this.timedoutError=O,this.abort(),this.callback(O)}},l.prototype._setTimeouts=function(){var E=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){E._timeoutError("Timeout of ",E._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){E._timeoutError("Response timeout of ",E._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}},81097:(z,u,e)=>{"use strict";var o=e(64506);z.exports=f;function f(c){if(c)return l(c)}function l(c){for(var g in f.prototype)Object.prototype.hasOwnProperty.call(f.prototype,g)&&(c[g]=f.prototype[g]);return c}f.prototype.get=function(c){return this.header[c.toLowerCase()]},f.prototype._setHeaderProperties=function(c){var g=c["content-type"]||"";this.type=o.type(g);var v=o.params(g);for(var E in v)Object.prototype.hasOwnProperty.call(v,E)&&(this[E]=v[E]);this.links={};try{c.link&&(this.links=o.parseLinks(c.link))}catch(y){}},f.prototype._setStatusProperties=function(c){var g=c/100|0;this.statusCode=c,this.status=this.statusCode,this.statusType=g,this.info=g===1,this.ok=g===2,this.redirect=g===3,this.clientError=g===4,this.serverError=g===5,this.error=g===4||g===5?this.toError():!1,this.created=c===201,this.accepted=c===202,this.noContent=c===204,this.badRequest=c===400,this.unauthorized=c===401,this.notAcceptable=c===406,this.forbidden=c===403,this.notFound=c===404,this.unprocessableEntity=c===422}},64506:(z,u)=>{"use strict";function e(l,c){var g;if(typeof Symbol=="undefined"||l[Symbol.iterator]==null){if(Array.isArray(l)||(g=o(l))||c&&l&&typeof l.length=="number"){g&&(l=g);var v=0,E=function(){};return{s:E,n:function(){return v>=l.length?{done:!0}:{done:!1,value:l[v++]}},e:function(x){throw x},f:E}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var y=!0,p=!1,O;return{s:function(){g=l[Symbol.iterator]()},n:function(){var x=g.next();return y=x.done,x},e:function(x){p=!0,O=x},f:function(){try{!y&&g.return!=null&&g.return()}finally{if(p)throw O}}}}function o(l,c){if(l){if(typeof l=="string")return f(l,c);var g=Object.prototype.toString.call(l).slice(8,-1);if(g==="Object"&&l.constructor&&(g=l.constructor.name),g==="Map"||g==="Set")return Array.from(l);if(g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return f(l,c)}}function f(l,c){(c==null||c>l.length)&&(c=l.length);for(var g=0,v=new Array(c);g<c;g++)v[g]=l[g];return v}u.type=function(l){return l.split(/ *; */).shift()},u.params=function(l){var c={},g=e(l.split(/ *; */)),v;try{for(g.s();!(v=g.n()).done;){var E=v.value,y=E.split(/ *= */),p=y.shift(),O=y.shift();p&&O&&(c[p]=O)}}catch(S){g.e(S)}finally{g.f()}return c},u.parseLinks=function(l){var c={},g=e(l.split(/ *, */)),v;try{for(g.s();!(v=g.n()).done;){var E=v.value,y=E.split(/ *; */),p=y[0].slice(1,-1),O=y[1].split(/ *= */)[1].slice(1,-1);c[O]=p}}catch(S){g.e(S)}finally{g.f()}return c},u.cleanHeader=function(l,c){return delete l["content-type"],delete l["content-length"],delete l["transfer-encoding"],delete l.host,c&&(delete l.authorization,delete l.cookie),l}},79253:(z,u,e)=>{"use strict";e.d(u,{ZP:()=>Io});function o(ot){if(ot==null)return window;if(ot.toString()!=="[object Window]"){var lt=ot.ownerDocument;return lt&&lt.defaultView||window}return ot}function f(ot){var lt=o(ot).Element;return ot instanceof lt||ot instanceof Element}function l(ot){var lt=o(ot).HTMLElement;return ot instanceof lt||ot instanceof HTMLElement}function c(ot){if(typeof ShadowRoot=="undefined")return!1;var lt=o(ot).ShadowRoot;return ot instanceof lt||ot instanceof ShadowRoot}var g=Math.max,v=Math.min,E=Math.round;function y(ot,lt){lt===void 0&&(lt=!1);var St=ot.getBoundingClientRect(),an=1,gn=1;if(l(ot)&&lt){var On=ot.offsetHeight,xn=ot.offsetWidth;xn>0&&(an=E(St.width)/xn||1),On>0&&(gn=E(St.height)/On||1)}return{width:St.width/an,height:St.height/gn,top:St.top/gn,right:St.right/an,bottom:St.bottom/gn,left:St.left/an,x:St.left/an,y:St.top/gn}}function p(ot){var lt=o(ot),St=lt.pageXOffset,an=lt.pageYOffset;return{scrollLeft:St,scrollTop:an}}function O(ot){return{scrollLeft:ot.scrollLeft,scrollTop:ot.scrollTop}}function S(ot){return ot===o(ot)||!l(ot)?p(ot):O(ot)}function x(ot){return ot?(ot.nodeName||"").toLowerCase():null}function T(ot){return((f(ot)?ot.ownerDocument:ot.document)||window.document).documentElement}function _(ot){return y(T(ot)).left+p(ot).scrollLeft}function d(ot){return o(ot).getComputedStyle(ot)}function s(ot){var lt=d(ot),St=lt.overflow,an=lt.overflowX,gn=lt.overflowY;return/auto|scroll|overlay|hidden/.test(St+gn+an)}function w(ot){var lt=ot.getBoundingClientRect(),St=E(lt.width)/ot.offsetWidth||1,an=E(lt.height)/ot.offsetHeight||1;return St!==1||an!==1}function P(ot,lt,St){St===void 0&&(St=!1);var an=l(lt),gn=l(lt)&&w(lt),On=T(lt),xn=y(ot,gn),Fn={scrollLeft:0,scrollTop:0},zn={x:0,y:0};return(an||!an&&!St)&&((x(lt)!=="body"||s(On))&&(Fn=S(lt)),l(lt)?(zn=y(lt,!0),zn.x+=lt.clientLeft,zn.y+=lt.clientTop):On&&(zn.x=_(On))),{x:xn.left+Fn.scrollLeft-zn.x,y:xn.top+Fn.scrollTop-zn.y,width:xn.width,height:xn.height}}function I(ot){var lt=y(ot),St=ot.offsetWidth,an=ot.offsetHeight;return Math.abs(lt.width-St)<=1&&(St=lt.width),Math.abs(lt.height-an)<=1&&(an=lt.height),{x:ot.offsetLeft,y:ot.offsetTop,width:St,height:an}}function D(ot){return x(ot)==="html"?ot:ot.assignedSlot||ot.parentNode||(c(ot)?ot.host:null)||T(ot)}function N(ot){return["html","body","#document"].indexOf(x(ot))>=0?ot.ownerDocument.body:l(ot)&&s(ot)?ot:N(D(ot))}function C(ot,lt){var St;lt===void 0&&(lt=[]);var an=N(ot),gn=an===((St=ot.ownerDocument)==null?void 0:St.body),On=o(an),xn=gn?[On].concat(On.visualViewport||[],s(an)?an:[]):an,Fn=lt.concat(xn);return gn?Fn:Fn.concat(C(D(xn)))}function A(ot){return["table","td","th"].indexOf(x(ot))>=0}function L(ot){return!l(ot)||d(ot).position==="fixed"?null:ot.offsetParent}function U(ot){var lt=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,St=navigator.userAgent.indexOf("Trident")!==-1;if(St&&l(ot)){var an=d(ot);if(an.position==="fixed")return null}for(var gn=D(ot);l(gn)&&["html","body"].indexOf(x(gn))<0;){var On=d(gn);if(On.transform!=="none"||On.perspective!=="none"||On.contain==="paint"||["transform","perspective"].indexOf(On.willChange)!==-1||lt&&On.willChange==="filter"||lt&&On.filter&&On.filter!=="none")return gn;gn=gn.parentNode}return null}function W(ot){for(var lt=o(ot),St=L(ot);St&&A(St)&&d(St).position==="static";)St=L(St);return St&&(x(St)==="html"||x(St)==="body"&&d(St).position==="static")?lt:St||U(ot)||lt}var G="top",$="bottom",q="right",J="left",R="auto",j=[G,$,q,J],ie="start",le="end",ye="clippingParents",ue="viewport",oe="popper",te="reference",Z=j.reduce(function(ot,lt){return ot.concat([lt+"-"+ie,lt+"-"+le])},[]),re=[].concat(j,[R]).reduce(function(ot,lt){return ot.concat([lt,lt+"-"+ie,lt+"-"+le])},[]),ae="beforeRead",se="read",be="afterRead",_e="beforeMain",pe="main",me="afterMain",Te="beforeWrite",ve="write",ce="afterWrite",Le=[ae,se,be,_e,pe,me,Te,ve,ce];function Ne(ot){var lt=new Map,St=new Set,an=[];ot.forEach(function(On){lt.set(On.name,On)});function gn(On){St.add(On.name);var xn=[].concat(On.requires||[],On.requiresIfExists||[]);xn.forEach(function(Fn){if(!St.has(Fn)){var zn=lt.get(Fn);zn&&gn(zn)}}),an.push(On)}return ot.forEach(function(On){St.has(On.name)||gn(On)}),an}function He(ot){var lt=Ne(ot);return Le.reduce(function(St,an){return St.concat(lt.filter(function(gn){return gn.phase===an}))},[])}function ze(ot){var lt;return function(){return lt||(lt=new Promise(function(St){Promise.resolve().then(function(){lt=void 0,St(ot())})})),lt}}function Xe(ot){var lt=ot.reduce(function(St,an){var gn=St[an.name];return St[an.name]=gn?Object.assign({},gn,an,{options:Object.assign({},gn.options,an.options),data:Object.assign({},gn.data,an.data)}):an,St},{});return Object.keys(lt).map(function(St){return lt[St]})}var _t="Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.",we="Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.",We={placement:"bottom",modifiers:[],strategy:"absolute"};function Ie(){for(var ot=arguments.length,lt=new Array(ot),St=0;St<ot;St++)lt[St]=arguments[St];return!lt.some(function(an){return!(an&&typeof an.getBoundingClientRect=="function")})}function tt(ot){ot===void 0&&(ot={});var lt=ot,St=lt.defaultModifiers,an=St===void 0?[]:St,gn=lt.defaultOptions,On=gn===void 0?We:gn;return function(Fn,zn,br){br===void 0&&(br=On);var ir={placement:"bottom",orderedModifiers:[],options:Object.assign({},We,On),modifiersData:{},elements:{reference:Fn,popper:zn},attributes:{},styles:{}},Zr=[],Xr=!1,Tr={state:ir,setOptions:function(gr){var Vr=typeof gr=="function"?gr(ir.options):gr;xr(),ir.options=Object.assign({},On,ir.options,Vr),ir.scrollParents={reference:f(Fn)?C(Fn):Fn.contextElement?C(Fn.contextElement):[],popper:C(zn)};var Yr=He(Xe([].concat(an,ir.options.modifiers)));if(ir.orderedModifiers=Yr.filter(function(Q){return Q.enabled}),!1)var V,K,ne,fe,xe,Re,nt;return kr(),Tr.update()},forceUpdate:function(){if(!Xr){var gr=ir.elements,Vr=gr.reference,Yr=gr.popper;if(Ie(Vr,Yr)){ir.rects={reference:P(Vr,W(Yr),ir.options.strategy==="fixed"),popper:I(Yr)},ir.reset=!1,ir.placement=ir.options.placement,ir.orderedModifiers.forEach(function(Q){return ir.modifiersData[Q.name]=Object.assign({},Q.data)});for(var V=0,K=0;K<ir.orderedModifiers.length;K++){if(ir.reset===!0){ir.reset=!1,K=-1;continue}var ne=ir.orderedModifiers[K],fe=ne.fn,xe=ne.options,Re=xe===void 0?{}:xe,nt=ne.name;typeof fe=="function"&&(ir=fe({state:ir,options:Re,name:nt,instance:Tr})||ir)}}}},update:ze(function(){return new Promise(function(Mr){Tr.forceUpdate(),Mr(ir)})}),destroy:function(){xr(),Xr=!0}};if(!Ie(Fn,zn))return Tr;Tr.setOptions(br).then(function(Mr){!Xr&&br.onFirstUpdate&&br.onFirstUpdate(Mr)});function kr(){ir.orderedModifiers.forEach(function(Mr){var gr=Mr.name,Vr=Mr.options,Yr=Vr===void 0?{}:Vr,V=Mr.effect;if(typeof V=="function"){var K=V({state:ir,name:gr,instance:Tr,options:Yr}),ne=function(){};Zr.push(K||ne)}})}function xr(){Zr.forEach(function(Mr){return Mr()}),Zr=[]}return Tr}}var et=null,ht={passive:!0};function vt(ot){var lt=ot.state,St=ot.instance,an=ot.options,gn=an.scroll,On=gn===void 0?!0:gn,xn=an.resize,Fn=xn===void 0?!0:xn,zn=o(lt.elements.popper),br=[].concat(lt.scrollParents.reference,lt.scrollParents.popper);return On&&br.forEach(function(ir){ir.addEventListener("scroll",St.update,ht)}),Fn&&zn.addEventListener("resize",St.update,ht),function(){On&&br.forEach(function(ir){ir.removeEventListener("scroll",St.update,ht)}),Fn&&zn.removeEventListener("resize",St.update,ht)}}const Lt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:vt,data:{}};function $t(ot){return ot.split("-")[0]}function yt(ot){return ot.split("-")[1]}function he(ot){return["top","bottom"].indexOf(ot)>=0?"x":"y"}function je(ot){var lt=ot.reference,St=ot.element,an=ot.placement,gn=an?$t(an):null,On=an?yt(an):null,xn=lt.x+lt.width/2-St.width/2,Fn=lt.y+lt.height/2-St.height/2,zn;switch(gn){case G:zn={x:xn,y:lt.y-St.height};break;case $:zn={x:xn,y:lt.y+lt.height};break;case q:zn={x:lt.x+lt.width,y:Fn};break;case J:zn={x:lt.x-St.width,y:Fn};break;default:zn={x:lt.x,y:lt.y}}var br=gn?he(gn):null;if(br!=null){var ir=br==="y"?"height":"width";switch(On){case ie:zn[br]=zn[br]-(lt[ir]/2-St[ir]/2);break;case le:zn[br]=zn[br]+(lt[ir]/2-St[ir]/2);break;default:}}return zn}function st(ot){var lt=ot.state,St=ot.name;lt.modifiersData[St]=je({reference:lt.rects.reference,element:lt.rects.popper,strategy:"absolute",placement:lt.placement})}const De={name:"popperOffsets",enabled:!0,phase:"read",fn:st,data:{}};var Be={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ke(ot){var lt=ot.x,St=ot.y,an=window,gn=an.devicePixelRatio||1;return{x:E(lt*gn)/gn||0,y:E(St*gn)/gn||0}}function it(ot){var lt,St=ot.popper,an=ot.popperRect,gn=ot.placement,On=ot.variation,xn=ot.offsets,Fn=ot.position,zn=ot.gpuAcceleration,br=ot.adaptive,ir=ot.roundOffsets,Zr=ot.isFixed,Xr=xn.x,Tr=Xr===void 0?0:Xr,kr=xn.y,xr=kr===void 0?0:kr,Mr=typeof ir=="function"?ir({x:Tr,y:xr}):{x:Tr,y:xr};Tr=Mr.x,xr=Mr.y;var gr=xn.hasOwnProperty("x"),Vr=xn.hasOwnProperty("y"),Yr=J,V=G,K=window;if(br){var ne=W(St),fe="clientHeight",xe="clientWidth";if(ne===o(St)&&(ne=T(St),d(ne).position!=="static"&&Fn==="absolute"&&(fe="scrollHeight",xe="scrollWidth")),ne=ne,gn===G||(gn===J||gn===q)&&On===le){V=$;var Re=Zr&&K.visualViewport?K.visualViewport.height:ne[fe];xr-=Re-an.height,xr*=zn?1:-1}if(gn===J||(gn===G||gn===$)&&On===le){Yr=q;var nt=Zr&&K.visualViewport?K.visualViewport.width:ne[xe];Tr-=nt-an.width,Tr*=zn?1:-1}}var Q=Object.assign({position:Fn},br&&Be),Pe=ir===!0?Ke({x:Tr,y:xr}):{x:Tr,y:xr};if(Tr=Pe.x,xr=Pe.y,zn){var Ze;return Object.assign({},Q,(Ze={},Ze[V]=Vr?"0":"",Ze[Yr]=gr?"0":"",Ze.transform=(K.devicePixelRatio||1)<=1?"translate("+Tr+"px, "+xr+"px)":"translate3d("+Tr+"px, "+xr+"px, 0)",Ze))}return Object.assign({},Q,(lt={},lt[V]=Vr?xr+"px":"",lt[Yr]=gr?Tr+"px":"",lt.transform="",lt))}function Qe(ot){var lt=ot.state,St=ot.options,an=St.gpuAcceleration,gn=an===void 0?!0:an,On=St.adaptive,xn=On===void 0?!0:On,Fn=St.roundOffsets,zn=Fn===void 0?!0:Fn;if(!1)var br;var ir={placement:$t(lt.placement),variation:yt(lt.placement),popper:lt.elements.popper,popperRect:lt.rects.popper,gpuAcceleration:gn,isFixed:lt.options.strategy==="fixed"};lt.modifiersData.popperOffsets!=null&&(lt.styles.popper=Object.assign({},lt.styles.popper,it(Object.assign({},ir,{offsets:lt.modifiersData.popperOffsets,position:lt.options.strategy,adaptive:xn,roundOffsets:zn})))),lt.modifiersData.arrow!=null&&(lt.styles.arrow=Object.assign({},lt.styles.arrow,it(Object.assign({},ir,{offsets:lt.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:zn})))),lt.attributes.popper=Object.assign({},lt.attributes.popper,{"data-popper-placement":lt.placement})}const Ae={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Qe,data:{}};function H(ot){var lt=ot.state;Object.keys(lt.elements).forEach(function(St){var an=lt.styles[St]||{},gn=lt.attributes[St]||{},On=lt.elements[St];!l(On)||!x(On)||(Object.assign(On.style,an),Object.keys(gn).forEach(function(xn){var Fn=gn[xn];Fn===!1?On.removeAttribute(xn):On.setAttribute(xn,Fn===!0?"":Fn)}))})}function ee(ot){var lt=ot.state,St={popper:{position:lt.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(lt.elements.popper.style,St.popper),lt.styles=St,lt.elements.arrow&&Object.assign(lt.elements.arrow.style,St.arrow),function(){Object.keys(lt.elements).forEach(function(an){var gn=lt.elements[an],On=lt.attributes[an]||{},xn=Object.keys(lt.styles.hasOwnProperty(an)?lt.styles[an]:St[an]),Fn=xn.reduce(function(zn,br){return zn[br]="",zn},{});!l(gn)||!x(gn)||(Object.assign(gn.style,Fn),Object.keys(On).forEach(function(zn){gn.removeAttribute(zn)}))})}}const de={name:"applyStyles",enabled:!0,phase:"write",fn:H,effect:ee,requires:["computeStyles"]};function Ee(ot,lt,St){var an=$t(ot),gn=[J,G].indexOf(an)>=0?-1:1,On=typeof St=="function"?St(Object.assign({},lt,{placement:ot})):St,xn=On[0],Fn=On[1];return xn=xn||0,Fn=(Fn||0)*gn,[J,q].indexOf(an)>=0?{x:Fn,y:xn}:{x:xn,y:Fn}}function Me(ot){var lt=ot.state,St=ot.options,an=ot.name,gn=St.offset,On=gn===void 0?[0,0]:gn,xn=re.reduce(function(ir,Zr){return ir[Zr]=Ee(Zr,lt.rects,On),ir},{}),Fn=xn[lt.placement],zn=Fn.x,br=Fn.y;lt.modifiersData.popperOffsets!=null&&(lt.modifiersData.popperOffsets.x+=zn,lt.modifiersData.popperOffsets.y+=br),lt.modifiersData[an]=xn}const $e={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Me};var dt={left:"right",right:"left",bottom:"top",top:"bottom"};function ct(ot){return ot.replace(/left|right|bottom|top/g,function(lt){return dt[lt]})}var wt={start:"end",end:"start"};function Mt(ot){return ot.replace(/start|end/g,function(lt){return wt[lt]})}function pn(ot){var lt=o(ot),St=T(ot),an=lt.visualViewport,gn=St.clientWidth,On=St.clientHeight,xn=0,Fn=0;return an&&(gn=an.width,On=an.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(xn=an.offsetLeft,Fn=an.offsetTop)),{width:gn,height:On,x:xn+_(ot),y:Fn}}function Mn(ot){var lt,St=T(ot),an=p(ot),gn=(lt=ot.ownerDocument)==null?void 0:lt.body,On=g(St.scrollWidth,St.clientWidth,gn?gn.scrollWidth:0,gn?gn.clientWidth:0),xn=g(St.scrollHeight,St.clientHeight,gn?gn.scrollHeight:0,gn?gn.clientHeight:0),Fn=-an.scrollLeft+_(ot),zn=-an.scrollTop;return d(gn||St).direction==="rtl"&&(Fn+=g(St.clientWidth,gn?gn.clientWidth:0)-On),{width:On,height:xn,x:Fn,y:zn}}function $n(ot,lt){var St=lt.getRootNode&&lt.getRootNode();if(ot.contains(lt))return!0;if(St&&c(St)){var an=lt;do{if(an&&ot.isSameNode(an))return!0;an=an.parentNode||an.host}while(an)}return!1}function mr(ot){return Object.assign({},ot,{left:ot.x,top:ot.y,right:ot.x+ot.width,bottom:ot.y+ot.height})}function jn(ot){var lt=y(ot);return lt.top=lt.top+ot.clientTop,lt.left=lt.left+ot.clientLeft,lt.bottom=lt.top+ot.clientHeight,lt.right=lt.left+ot.clientWidth,lt.width=ot.clientWidth,lt.height=ot.clientHeight,lt.x=lt.left,lt.y=lt.top,lt}function dr(ot,lt){return lt===ue?mr(pn(ot)):f(lt)?jn(lt):mr(Mn(T(ot)))}function nn(ot){var lt=C(D(ot)),St=["absolute","fixed"].indexOf(d(ot).position)>=0,an=St&&l(ot)?W(ot):ot;return f(an)?lt.filter(function(gn){return f(gn)&&$n(gn,an)&&x(gn)!=="body"}):[]}function jr(ot,lt,St){var an=lt==="clippingParents"?nn(ot):[].concat(lt),gn=[].concat(an,[St]),On=gn[0],xn=gn.reduce(function(Fn,zn){var br=dr(ot,zn);return Fn.top=g(br.top,Fn.top),Fn.right=v(br.right,Fn.right),Fn.bottom=v(br.bottom,Fn.bottom),Fn.left=g(br.left,Fn.left),Fn},dr(ot,On));return xn.width=xn.right-xn.left,xn.height=xn.bottom-xn.top,xn.x=xn.left,xn.y=xn.top,xn}function Dr(){return{top:0,right:0,bottom:0,left:0}}function At(ot){return Object.assign({},Dr(),ot)}function Wt(ot,lt){return lt.reduce(function(St,an){return St[an]=ot,St},{})}function Zt(ot,lt){lt===void 0&&(lt={});var St=lt,an=St.placement,gn=an===void 0?ot.placement:an,On=St.boundary,xn=On===void 0?ye:On,Fn=St.rootBoundary,zn=Fn===void 0?ue:Fn,br=St.elementContext,ir=br===void 0?oe:br,Zr=St.altBoundary,Xr=Zr===void 0?!1:Zr,Tr=St.padding,kr=Tr===void 0?0:Tr,xr=At(typeof kr!="number"?kr:Wt(kr,j)),Mr=ir===oe?te:oe,gr=ot.rects.popper,Vr=ot.elements[Xr?Mr:ir],Yr=jr(f(Vr)?Vr:Vr.contextElement||T(ot.elements.popper),xn,zn),V=y(ot.elements.reference),K=je({reference:V,element:gr,strategy:"absolute",placement:gn}),ne=mr(Object.assign({},gr,K)),fe=ir===oe?ne:V,xe={top:Yr.top-fe.top+xr.top,bottom:fe.bottom-Yr.bottom+xr.bottom,left:Yr.left-fe.left+xr.left,right:fe.right-Yr.right+xr.right},Re=ot.modifiersData.offset;if(ir===oe&&Re){var nt=Re[gn];Object.keys(xe).forEach(function(Q){var Pe=[q,$].indexOf(Q)>=0?1:-1,Ze=[G,$].indexOf(Q)>=0?"y":"x";xe[Q]+=nt[Ze]*Pe})}return xe}function _n(ot,lt){lt===void 0&&(lt={});var St=lt,an=St.placement,gn=St.boundary,On=St.rootBoundary,xn=St.padding,Fn=St.flipVariations,zn=St.allowedAutoPlacements,br=zn===void 0?re:zn,ir=yt(an),Zr=ir?Fn?Z:Z.filter(function(kr){return yt(kr)===ir}):j,Xr=Zr.filter(function(kr){return br.indexOf(kr)>=0});Xr.length===0&&(Xr=Zr);var Tr=Xr.reduce(function(kr,xr){return kr[xr]=Zt(ot,{placement:xr,boundary:gn,rootBoundary:On,padding:xn})[$t(xr)],kr},{});return Object.keys(Tr).sort(function(kr,xr){return Tr[kr]-Tr[xr]})}function Kn(ot){if($t(ot)===R)return[];var lt=ct(ot);return[Mt(ot),lt,Mt(lt)]}function wr(ot){var lt=ot.state,St=ot.options,an=ot.name;if(!lt.modifiersData[an]._skip){for(var gn=St.mainAxis,On=gn===void 0?!0:gn,xn=St.altAxis,Fn=xn===void 0?!0:xn,zn=St.fallbackPlacements,br=St.padding,ir=St.boundary,Zr=St.rootBoundary,Xr=St.altBoundary,Tr=St.flipVariations,kr=Tr===void 0?!0:Tr,xr=St.allowedAutoPlacements,Mr=lt.options.placement,gr=$t(Mr),Vr=gr===Mr,Yr=zn||(Vr||!kr?[ct(Mr)]:Kn(Mr)),V=[Mr].concat(Yr).reduce(function(Ir,zo){return Ir.concat($t(zo)===R?_n(lt,{placement:zo,boundary:ir,rootBoundary:Zr,padding:br,flipVariations:kr,allowedAutoPlacements:xr}):zo)},[]),K=lt.rects.reference,ne=lt.rects.popper,fe=new Map,xe=!0,Re=V[0],nt=0;nt<V.length;nt++){var Q=V[nt],Pe=$t(Q),Ze=yt(Q)===ie,ut=[G,$].indexOf(Pe)>=0,It=ut?"width":"height",Ft=Zt(lt,{placement:Q,boundary:ir,rootBoundary:Zr,altBoundary:Xr,padding:br}),Ht=ut?Ze?q:J:Ze?$:G;K[It]>ne[It]&&(Ht=ct(Ht));var hn=ct(Ht),Kt=[];if(On&&Kt.push(Ft[Pe]<=0),Fn&&Kt.push(Ft[Ht]<=0,Ft[hn]<=0),Kt.every(function(Ir){return Ir})){Re=Q,xe=!1;break}fe.set(Q,Kt)}if(xe)for(var Pr=kr?3:1,co=function(zo){var ki=V.find(function(Ki){var Qr=fe.get(Ki);if(Qr)return Qr.slice(0,zo).every(function($i){return $i})});if(ki)return Re=ki,"break"},eo=Pr;eo>0;eo--){var Rr=co(eo);if(Rr==="break")break}lt.placement!==Re&&(lt.modifiersData[an]._skip=!0,lt.placement=Re,lt.reset=!0)}}const Nr={name:"flip",enabled:!0,phase:"main",fn:wr,requiresIfExists:["offset"],data:{_skip:!1}};function no(ot){return ot==="x"?"y":"x"}function Jr(ot,lt,St){return g(ot,v(lt,St))}function $r(ot,lt,St){var an=Jr(ot,lt,St);return an>St?St:an}function bo(ot){var lt=ot.state,St=ot.options,an=ot.name,gn=St.mainAxis,On=gn===void 0?!0:gn,xn=St.altAxis,Fn=xn===void 0?!1:xn,zn=St.boundary,br=St.rootBoundary,ir=St.altBoundary,Zr=St.padding,Xr=St.tether,Tr=Xr===void 0?!0:Xr,kr=St.tetherOffset,xr=kr===void 0?0:kr,Mr=Zt(lt,{boundary:zn,rootBoundary:br,padding:Zr,altBoundary:ir}),gr=$t(lt.placement),Vr=yt(lt.placement),Yr=!Vr,V=he(gr),K=no(V),ne=lt.modifiersData.popperOffsets,fe=lt.rects.reference,xe=lt.rects.popper,Re=typeof xr=="function"?xr(Object.assign({},lt.rects,{placement:lt.placement})):xr,nt=typeof Re=="number"?{mainAxis:Re,altAxis:Re}:Object.assign({mainAxis:0,altAxis:0},Re),Q=lt.modifiersData.offset?lt.modifiersData.offset[lt.placement]:null,Pe={x:0,y:0};if(ne){if(On){var Ze,ut=V==="y"?G:J,It=V==="y"?$:q,Ft=V==="y"?"height":"width",Ht=ne[V],hn=Ht+Mr[ut],Kt=Ht-Mr[It],Pr=Tr?-xe[Ft]/2:0,co=Vr===ie?fe[Ft]:xe[Ft],eo=Vr===ie?-xe[Ft]:-fe[Ft],Rr=lt.elements.arrow,Ir=Tr&&Rr?I(Rr):{width:0,height:0},zo=lt.modifiersData["arrow#persistent"]?lt.modifiersData["arrow#persistent"].padding:Dr(),ki=zo[ut],Ki=zo[It],Qr=Jr(0,fe[Ft],Ir[Ft]),$i=Yr?fe[Ft]/2-Pr-Qr-ki-nt.mainAxis:co-Qr-ki-nt.mainAxis,Ui=Yr?-fe[Ft]/2+Pr+Qr+Ki+nt.mainAxis:eo+Qr+Ki+nt.mainAxis,_a=lt.elements.arrow&&W(lt.elements.arrow),Ls=_a?V==="y"?_a.clientTop||0:_a.clientLeft||0:0,Ha=(Ze=Q==null?void 0:Q[V])!=null?Ze:0,ga=Ht+$i-Ha-Ls,Bs=Ht+Ui-Ha,us=Jr(Tr?v(hn,ga):hn,Ht,Tr?g(Kt,Bs):Kt);ne[V]=us,Pe[V]=us-Ht}if(Fn){var ks,Fi=V==="x"?G:J,zi=V==="x"?$:q,Oo=ne[K],va=K==="y"?"height":"width",cs=Oo+Mr[Fi],Ma=Oo-Mr[zi],ds=[G,J].indexOf(gr)!==-1,Us=(ks=Q==null?void 0:Q[K])!=null?ks:0,Fs=ds?cs:Oo-fe[va]-xe[va]-Us+nt.altAxis,fs=ds?Oo+fe[va]+xe[va]-Us-nt.altAxis:Ma,js=Tr&&ds?$r(Fs,Oo,fs):Jr(Tr?Fs:cs,Oo,Tr?fs:Ma);ne[K]=js,Pe[K]=js-Oo}lt.modifiersData[an]=Pe}}const mo={name:"preventOverflow",enabled:!0,phase:"main",fn:bo,requiresIfExists:["offset"]};var So=function(lt,St){return lt=typeof lt=="function"?lt(Object.assign({},St.rects,{placement:St.placement})):lt,At(typeof lt!="number"?lt:Wt(lt,j))};function go(ot){var lt,St=ot.state,an=ot.name,gn=ot.options,On=St.elements.arrow,xn=St.modifiersData.popperOffsets,Fn=$t(St.placement),zn=he(Fn),br=[J,q].indexOf(Fn)>=0,ir=br?"height":"width";if(!(!On||!xn)){var Zr=So(gn.padding,St),Xr=I(On),Tr=zn==="y"?G:J,kr=zn==="y"?$:q,xr=St.rects.reference[ir]+St.rects.reference[zn]-xn[zn]-St.rects.popper[ir],Mr=xn[zn]-St.rects.reference[zn],gr=W(On),Vr=gr?zn==="y"?gr.clientHeight||0:gr.clientWidth||0:0,Yr=xr/2-Mr/2,V=Zr[Tr],K=Vr-Xr[ir]-Zr[kr],ne=Vr/2-Xr[ir]/2+Yr,fe=Jr(V,ne,K),xe=zn;St.modifiersData[an]=(lt={},lt[xe]=fe,lt.centerOffset=fe-ne,lt)}}function Eo(ot){var lt=ot.state,St=ot.options,an=St.element,gn=an===void 0?"[data-popper-arrow]":an;gn!=null&&(typeof gn=="string"&&(gn=lt.elements.popper.querySelector(gn),!gn)||$n(lt.elements.popper,gn)&&(lt.elements.arrow=gn))}const ro={name:"arrow",enabled:!0,phase:"main",fn:go,effect:Eo,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function po(ot,lt,St){return St===void 0&&(St={x:0,y:0}),{top:ot.top-lt.height-St.y,right:ot.right-lt.width+St.x,bottom:ot.bottom-lt.height+St.y,left:ot.left-lt.width-St.x}}function wo(ot){return[G,q,$,J].some(function(lt){return ot[lt]>=0})}function ko(ot){var lt=ot.state,St=ot.name,an=lt.rects.reference,gn=lt.rects.popper,On=lt.modifiersData.preventOverflow,xn=Zt(lt,{elementContext:"reference"}),Fn=Zt(lt,{altBoundary:!0}),zn=po(xn,an),br=po(Fn,gn,On),ir=wo(zn),Zr=wo(br);lt.modifiersData[St]={referenceClippingOffsets:zn,popperEscapeOffsets:br,isReferenceHidden:ir,hasPopperEscaped:Zr},lt.attributes.popper=Object.assign({},lt.attributes.popper,{"data-popper-reference-hidden":ir,"data-popper-escaped":Zr})}var Do=[Lt,De,Ae,de,$e,Nr,mo,ro,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:ko}],Uo=tt({defaultModifiers:Do}),mn='<svg width="16" height="6" xmlns="http://www.w3.org/2000/svg"><path d="M0 6s1.796-.013 4.67-3.615C5.851.9 6.93.006 8 0c1.07-.006 2.148.887 3.343 2.385C14.233 6.005 16 6 16 6H0z"></svg>',Dn="tippy-box",Wn="tippy-content",Hn="tippy-backdrop",vr="tippy-arrow",tr="tippy-svg-arrow",pr={passive:!0,capture:!0},kt=function(){return document.body};function Vt(ot,lt){return{}.hasOwnProperty.call(ot,lt)}function en(ot,lt,St){if(Array.isArray(ot)){var an=ot[lt];return an==null?Array.isArray(St)?St[lt]:St:an}return ot}function dn(ot,lt){var St={}.toString.call(ot);return St.indexOf("[object")===0&&St.indexOf(lt+"]")>-1}function Nn(ot,lt){return typeof ot=="function"?ot.apply(void 0,lt):ot}function An(ot,lt){if(lt===0)return ot;var St;return function(an){clearTimeout(St),St=setTimeout(function(){ot(an)},lt)}}function Rn(ot,lt){var St=Object.assign({},ot);return lt.forEach(function(an){delete St[an]}),St}function ft(ot){return ot.split(/\s+/).filter(Boolean)}function Rt(ot){return[].concat(ot)}function zt(ot,lt){ot.indexOf(lt)===-1&&ot.push(lt)}function tn(ot){return ot.filter(function(lt,St){return ot.indexOf(lt)===St})}function vn(ot){return ot.split("-")[0]}function un(ot){return[].slice.call(ot)}function wn(ot){return Object.keys(ot).reduce(function(lt,St){return ot[St]!==void 0&&(lt[St]=ot[St]),lt},{})}function Un(){return document.createElement("div")}function Cr(ot){return["Element","Fragment"].some(function(lt){return dn(ot,lt)})}function Hr(ot){return dn(ot,"NodeList")}function Ur(ot){return dn(ot,"MouseEvent")}function Ar(ot){return!!(ot&&ot._tippy&&ot._tippy.reference===ot)}function oo(ot){return Cr(ot)?[ot]:Hr(ot)?un(ot):Array.isArray(ot)?ot:un(document.querySelectorAll(ot))}function vo(ot,lt){ot.forEach(function(St){St&&(St.style.transitionDuration=lt+"ms")})}function ti(ot,lt){ot.forEach(function(St){St&&St.setAttribute("data-state",lt)})}function ni(ot){var lt,St=Rt(ot),an=St[0];return an!=null&&(lt=an.ownerDocument)!=null&&lt.body?an.ownerDocument:document}function Co(ot,lt){var St=lt.clientX,an=lt.clientY;return ot.every(function(gn){var On=gn.popperRect,xn=gn.popperState,Fn=gn.props,zn=Fn.interactiveBorder,br=vn(xn.placement),ir=xn.modifiersData.offset;if(!ir)return!0;var Zr=br==="bottom"?ir.top.y:0,Xr=br==="top"?ir.bottom.y:0,Tr=br==="right"?ir.left.x:0,kr=br==="left"?ir.right.x:0,xr=On.top-an+Zr>zn,Mr=an-On.bottom-Xr>zn,gr=On.left-St+Tr>zn,Vr=St-On.right-kr>zn;return xr||Mr||gr||Vr})}function Fo(ot,lt,St){var an=lt+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(gn){ot[an](gn,St)})}function yo(ot,lt){for(var St=lt;St;){var an;if(ot.contains(St))return!0;St=St.getRootNode==null||(an=St.getRootNode())==null?void 0:an.host}return!1}var Wo={isTouch:!1},Li=0;function ai(){Wo.isTouch||(Wo.isTouch=!0,window.performance&&document.addEventListener("mousemove",mi))}function mi(){var ot=performance.now();ot-Li<20&&(Wo.isTouch=!1,document.removeEventListener("mousemove",mi)),Li=ot}function Oi(){var ot=document.activeElement;if(Ar(ot)){var lt=ot._tippy;ot.blur&&!lt.state.isVisible&&ot.blur()}}function pi(){document.addEventListener("touchstart",ai,pr),window.addEventListener("blur",Oi)}var ui=typeof window!="undefined"&&typeof document!="undefined",Mi=ui?!!window.msCrypto:!1;function Bi(ot){var lt=ot==="destroy"?"n already-":" ";return[ot+"() was called on a"+lt+"destroyed instance. This is a no-op but","indicates a potential memory leak."].join(" ")}function _i(ot){var lt=/[ \t]{2,}/g,St=/^[ \t]*/gm;return ot.replace(lt," ").replace(St,"").trim()}function gi(ot){return _i(`
  %ctippy.js

  %c`+_i(ot)+`

  %c\u{1F477}\u200D This is a development-only message. It will be removed in production.
  `)}function vi(ot){return[gi(ot),"color: #00C584; font-size: 1.3em; font-weight: bold;","line-height: 1.5","color: #a6a095;"]}var si;function xo(){si=new Set}function ri(ot,lt){if(ot&&!si.has(lt)){var St;si.add(lt),(St=console).warn.apply(St,vi(lt))}}function Si(ot,lt){if(ot&&!si.has(lt)){var St;si.add(lt),(St=console).error.apply(St,vi(lt))}}function Di(ot){var lt=!ot,St=Object.prototype.toString.call(ot)==="[object Object]"&&!ot.addEventListener;Si(lt,["tippy() was passed","`"+String(ot)+"`","as its targets (first) argument. Valid types are: String, Element,","Element[], or NodeList."].join(" ")),Si(St,["tippy() was passed a plain object which is not supported as an argument","for virtual positioning. Use props.getReferenceClientRect instead."].join(" "))}var rt={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Ge={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Je=Object.assign({appendTo:kt,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},rt,Ge),mt=Object.keys(Je),bt=function(lt){var St=Object.keys(lt);St.forEach(function(an){Je[an]=lt[an]})};function jt(ot){var lt=ot.plugins||[],St=lt.reduce(function(an,gn){var On=gn.name,xn=gn.defaultValue;if(On){var Fn;an[On]=ot[On]!==void 0?ot[On]:(Fn=Je[On])!=null?Fn:xn}return an},{});return Object.assign({},ot,St)}function Bt(ot,lt){var St=lt?Object.keys(jt(Object.assign({},Je,{plugins:lt}))):mt,an=St.reduce(function(gn,On){var xn=(ot.getAttribute("data-tippy-"+On)||"").trim();if(!xn)return gn;if(On==="content")gn[On]=xn;else try{gn[On]=JSON.parse(xn)}catch(Fn){gn[On]=xn}return gn},{});return an}function sn(ot,lt){var St=Object.assign({},lt,{content:Nn(lt.content,[ot])},lt.ignoreAttributes?{}:Bt(ot,lt.plugins));return St.aria=Object.assign({},Je.aria,St.aria),St.aria={expanded:St.aria.expanded==="auto"?lt.interactive:St.aria.expanded,content:St.aria.content==="auto"?lt.interactive?null:"describedby":St.aria.content},St}function Cn(ot,lt){ot===void 0&&(ot={}),lt===void 0&&(lt=[]);var St=Object.keys(ot);St.forEach(function(an){var gn=Rn(Je,Object.keys(rt)),On=!Vt(gn,an);On&&(On=lt.filter(function(xn){return xn.name===an}).length===0),ri(On,["`"+an+"`","is not a valid prop. You may have spelled it incorrectly, or if it's","a plugin, forgot to pass it in an array as props.plugins.",`

`,`All props: https://atomiks.github.io/tippyjs/v6/all-props/
`,"Plugins: https://atomiks.github.io/tippyjs/v6/plugins/"].join(" "))})}var fn=function(){return"innerHTML"};function Bn(ot,lt){ot[fn()]=lt}function Br(ot){var lt=Un();return ot===!0?lt.className=vr:(lt.className=tr,Cr(ot)?lt.appendChild(ot):Bn(lt,ot)),lt}function Or(ot,lt){Cr(lt.content)?(Bn(ot,""),ot.appendChild(lt.content)):typeof lt.content!="function"&&(lt.allowHTML?Bn(ot,lt.content):ot.textContent=lt.content)}function Lr(ot){var lt=ot.firstElementChild,St=un(lt.children);return{box:lt,content:St.find(function(an){return an.classList.contains(Wn)}),arrow:St.find(function(an){return an.classList.contains(vr)||an.classList.contains(tr)}),backdrop:St.find(function(an){return an.classList.contains(Hn)})}}function Fe(ot){var lt=Un(),St=Un();St.className=Dn,St.setAttribute("data-state","hidden"),St.setAttribute("tabindex","-1");var an=Un();an.className=Wn,an.setAttribute("data-state","hidden"),Or(an,ot.props),lt.appendChild(St),St.appendChild(an),gn(ot.props,ot.props);function gn(On,xn){var Fn=Lr(lt),zn=Fn.box,br=Fn.content,ir=Fn.arrow;xn.theme?zn.setAttribute("data-theme",xn.theme):zn.removeAttribute("data-theme"),typeof xn.animation=="string"?zn.setAttribute("data-animation",xn.animation):zn.removeAttribute("data-animation"),xn.inertia?zn.setAttribute("data-inertia",""):zn.removeAttribute("data-inertia"),zn.style.maxWidth=typeof xn.maxWidth=="number"?xn.maxWidth+"px":xn.maxWidth,xn.role?zn.setAttribute("role",xn.role):zn.removeAttribute("role"),(On.content!==xn.content||On.allowHTML!==xn.allowHTML)&&Or(br,ot.props),xn.arrow?ir?On.arrow!==xn.arrow&&(zn.removeChild(ir),zn.appendChild(Br(xn.arrow))):zn.appendChild(Br(xn.arrow)):ir&&zn.removeChild(ir)}return{popper:lt,onUpdate:gn}}Fe.$$tippy=!0;var Oe=1,ke=[],qe=[];function Pt(ot,lt){var St=sn(ot,Object.assign({},Je,jt(wn(lt)))),an,gn,On,xn=!1,Fn=!1,zn=!1,br=!1,ir,Zr,Xr,Tr=[],kr=An(ga,St.interactiveDebounce),xr,Mr=Oe++,gr=null,Vr=tn(St.plugins),Yr={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},V={id:Mr,reference:ot,popper:Un(),popperInstance:gr,props:St,state:Yr,plugins:Vr,clearDelayTimeouts:Fs,setProps:fs,setContent:js,show:Ed,hide:Du,hideWithInteractivity:wd,enable:ds,disable:Us,unmount:Cd,destroy:sh};if(!St.render)return V;var K=St.render(V),ne=K.popper,fe=K.onUpdate;ne.setAttribute("data-tippy-root",""),ne.id="tippy-"+V.id,V.popper=ne,ot._tippy=V,ne._tippy=V;var xe=Vr.map(function(Gn){return Gn.fn(V)}),Re=ot.hasAttribute("aria-expanded");return _a(),Pr(),Ht(),hn("onCreate",[V]),St.showOnCreate&&cs(),ne.addEventListener("mouseenter",function(){V.props.interactive&&V.state.isVisible&&V.clearDelayTimeouts()}),ne.addEventListener("mouseleave",function(){V.props.interactive&&V.props.trigger.indexOf("mouseenter")>=0&&ut().addEventListener("mousemove",kr)}),V;function nt(){var Gn=V.props.touch;return Array.isArray(Gn)?Gn:[Gn,0]}function Q(){return nt()[0]==="hold"}function Pe(){var Gn;return!!((Gn=V.props.render)!=null&&Gn.$$tippy)}function Ze(){return xr||ot}function ut(){var Gn=Ze().parentNode;return Gn?ni(Gn):document}function It(){return Lr(ne)}function Ft(Gn){return V.state.isMounted&&!V.state.isVisible||Wo.isTouch||ir&&ir.type==="focus"?0:en(V.props.delay,Gn?0:1,Je.delay)}function Ht(Gn){Gn===void 0&&(Gn=!1),ne.style.pointerEvents=V.props.interactive&&!Gn?"":"none",ne.style.zIndex=""+V.props.zIndex}function hn(Gn,Wr,io){if(io===void 0&&(io=!0),xe.forEach(function(To){To[Gn]&&To[Gn].apply(To,Wr)}),io){var No;(No=V.props)[Gn].apply(No,Wr)}}function Kt(){var Gn=V.props.aria;if(Gn.content){var Wr="aria-"+Gn.content,io=ne.id,No=Rt(V.props.triggerTarget||ot);No.forEach(function(To){var Ti=To.getAttribute(Wr);if(V.state.isVisible)To.setAttribute(Wr,Ti?Ti+" "+io:io);else{var Gi=Ti&&Ti.replace(io,"").trim();Gi?To.setAttribute(Wr,Gi):To.removeAttribute(Wr)}})}}function Pr(){if(!(Re||!V.props.aria.expanded)){var Gn=Rt(V.props.triggerTarget||ot);Gn.forEach(function(Wr){V.props.interactive?Wr.setAttribute("aria-expanded",V.state.isVisible&&Wr===Ze()?"true":"false"):Wr.removeAttribute("aria-expanded")})}}function co(){ut().removeEventListener("mousemove",kr),ke=ke.filter(function(Gn){return Gn!==kr})}function eo(Gn){if(!(Wo.isTouch&&(zn||Gn.type==="mousedown"))){var Wr=Gn.composedPath&&Gn.composedPath()[0]||Gn.target;if(!(V.props.interactive&&yo(ne,Wr))){if(Rt(V.props.triggerTarget||ot).some(function(io){return yo(io,Wr)})){if(Wo.isTouch||V.state.isVisible&&V.props.trigger.indexOf("click")>=0)return}else hn("onClickOutside",[V,Gn]);V.props.hideOnClick===!0&&(V.clearDelayTimeouts(),V.hide(),Fn=!0,setTimeout(function(){Fn=!1}),V.state.isMounted||ki())}}}function Rr(){zn=!0}function Ir(){zn=!1}function zo(){var Gn=ut();Gn.addEventListener("mousedown",eo,!0),Gn.addEventListener("touchend",eo,pr),Gn.addEventListener("touchstart",Ir,pr),Gn.addEventListener("touchmove",Rr,pr)}function ki(){var Gn=ut();Gn.removeEventListener("mousedown",eo,!0),Gn.removeEventListener("touchend",eo,pr),Gn.removeEventListener("touchstart",Ir,pr),Gn.removeEventListener("touchmove",Rr,pr)}function Ki(Gn,Wr){$i(Gn,function(){!V.state.isVisible&&ne.parentNode&&ne.parentNode.contains(ne)&&Wr()})}function Qr(Gn,Wr){$i(Gn,Wr)}function $i(Gn,Wr){var io=It().box;function No(To){To.target===io&&(Fo(io,"remove",No),Wr())}if(Gn===0)return Wr();Fo(io,"remove",Zr),Fo(io,"add",No),Zr=No}function Ui(Gn,Wr,io){io===void 0&&(io=!1);var No=Rt(V.props.triggerTarget||ot);No.forEach(function(To){To.addEventListener(Gn,Wr,io),Tr.push({node:To,eventType:Gn,handler:Wr,options:io})})}function _a(){Q()&&(Ui("touchstart",Ha,{passive:!0}),Ui("touchend",Bs,{passive:!0})),ft(V.props.trigger).forEach(function(Gn){if(Gn!=="manual")switch(Ui(Gn,Ha),Gn){case"mouseenter":Ui("mouseleave",Bs);break;case"focus":Ui(Mi?"focusout":"blur",us);break;case"focusin":Ui("focusout",us);break}})}function Ls(){Tr.forEach(function(Gn){var Wr=Gn.node,io=Gn.eventType,No=Gn.handler,To=Gn.options;Wr.removeEventListener(io,No,To)}),Tr=[]}function Ha(Gn){var Wr,io=!1;if(!(!V.state.isEnabled||ks(Gn)||Fn)){var No=((Wr=ir)==null?void 0:Wr.type)==="focus";ir=Gn,xr=Gn.currentTarget,Pr(),!V.state.isVisible&&Ur(Gn)&&ke.forEach(function(To){return To(Gn)}),Gn.type==="click"&&(V.props.trigger.indexOf("mouseenter")<0||xn)&&V.props.hideOnClick!==!1&&V.state.isVisible?io=!0:cs(Gn),Gn.type==="click"&&(xn=!io),io&&!No&&Ma(Gn)}}function ga(Gn){var Wr=Gn.target,io=Ze().contains(Wr)||ne.contains(Wr);if(!(Gn.type==="mousemove"&&io)){var No=va().concat(ne).map(function(To){var Ti,Gi=To._tippy,Da=(Ti=Gi.popperInstance)==null?void 0:Ti.state;return Da?{popperRect:To.getBoundingClientRect(),popperState:Da,props:St}:null}).filter(Boolean);Co(No,Gn)&&(co(),Ma(Gn))}}function Bs(Gn){var Wr=ks(Gn)||V.props.trigger.indexOf("click")>=0&&xn;if(!Wr){if(V.props.interactive){V.hideWithInteractivity(Gn);return}Ma(Gn)}}function us(Gn){V.props.trigger.indexOf("focusin")<0&&Gn.target!==Ze()||V.props.interactive&&Gn.relatedTarget&&ne.contains(Gn.relatedTarget)||Ma(Gn)}function ks(Gn){return Wo.isTouch?Q()!==Gn.type.indexOf("touch")>=0:!1}function Fi(){zi();var Gn=V.props,Wr=Gn.popperOptions,io=Gn.placement,No=Gn.offset,To=Gn.getReferenceClientRect,Ti=Gn.moveTransition,Gi=Pe()?Lr(ne).arrow:null,Da=To?{getBoundingClientRect:To,contextElement:To.contextElement||Ze()}:ot,Au={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Ws){var Va=Ws.state;if(Pe()){var Od=It(),vl=Od.box;["placement","reference-hidden","escaped"].forEach(function(ps){ps==="placement"?vl.setAttribute("data-placement",Va.placement):Va.attributes.popper["data-popper-"+ps]?vl.setAttribute("data-"+ps,""):vl.removeAttribute("data-"+ps)}),Va.attributes.popper={}}}},Aa=[{name:"offset",options:{offset:No}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Ti}},Au];Pe()&&Gi&&Aa.push({name:"arrow",options:{element:Gi,padding:3}}),Aa.push.apply(Aa,(Wr==null?void 0:Wr.modifiers)||[]),V.popperInstance=Uo(Da,ne,Object.assign({},Wr,{placement:io,onFirstUpdate:Xr,modifiers:Aa}))}function zi(){V.popperInstance&&(V.popperInstance.destroy(),V.popperInstance=null)}function Oo(){var Gn=V.props.appendTo,Wr,io=Ze();V.props.interactive&&Gn===kt||Gn==="parent"?Wr=io.parentNode:Wr=Nn(Gn,[io]),Wr.contains(ne)||Wr.appendChild(ne),V.state.isMounted=!0,Fi()}function va(){return un(ne.querySelectorAll("[data-tippy-root]"))}function cs(Gn){V.clearDelayTimeouts(),Gn&&hn("onTrigger",[V,Gn]),zo();var Wr=Ft(!0),io=nt(),No=io[0],To=io[1];Wo.isTouch&&No==="hold"&&To&&(Wr=To),Wr?an=setTimeout(function(){V.show()},Wr):V.show()}function Ma(Gn){if(V.clearDelayTimeouts(),hn("onUntrigger",[V,Gn]),!V.state.isVisible){ki();return}if(!(V.props.trigger.indexOf("mouseenter")>=0&&V.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(Gn.type)>=0&&xn)){var Wr=Ft(!1);Wr?gn=setTimeout(function(){V.state.isVisible&&V.hide()},Wr):On=requestAnimationFrame(function(){V.hide()})}}function ds(){V.state.isEnabled=!0}function Us(){V.hide(),V.state.isEnabled=!1}function Fs(){clearTimeout(an),clearTimeout(gn),cancelAnimationFrame(On)}function fs(Gn){if(!V.state.isDestroyed){hn("onBeforeUpdate",[V,Gn]),Ls();var Wr=V.props,io=sn(ot,Object.assign({},Wr,wn(Gn),{ignoreAttributes:!0}));V.props=io,_a(),Wr.interactiveDebounce!==io.interactiveDebounce&&(co(),kr=An(ga,io.interactiveDebounce)),Wr.triggerTarget&&!io.triggerTarget?Rt(Wr.triggerTarget).forEach(function(No){No.removeAttribute("aria-expanded")}):io.triggerTarget&&ot.removeAttribute("aria-expanded"),Pr(),Ht(),fe&&fe(Wr,io),V.popperInstance&&(Fi(),va().forEach(function(No){requestAnimationFrame(No._tippy.popperInstance.forceUpdate)})),hn("onAfterUpdate",[V,Gn])}}function js(Gn){V.setProps({content:Gn})}function Ed(){var Gn=V.state.isVisible,Wr=V.state.isDestroyed,io=!V.state.isEnabled,No=Wo.isTouch&&!V.props.touch,To=en(V.props.duration,0,Je.duration);if(!(Gn||Wr||io||No)&&!Ze().hasAttribute("disabled")&&(hn("onShow",[V],!1),V.props.onShow(V)!==!1)){if(V.state.isVisible=!0,Pe()&&(ne.style.visibility="visible"),Ht(),zo(),V.state.isMounted||(ne.style.transition="none"),Pe()){var Ti=It(),Gi=Ti.box,Da=Ti.content;vo([Gi,Da],0)}Xr=function(){var Aa;if(!(!V.state.isVisible||br)){if(br=!0,ne.offsetHeight,ne.style.transition=V.props.moveTransition,Pe()&&V.props.animation){var Nu=It(),Ws=Nu.box,Va=Nu.content;vo([Ws,Va],To),ti([Ws,Va],"visible")}Kt(),Pr(),zt(qe,V),(Aa=V.popperInstance)==null||Aa.forceUpdate(),hn("onMount",[V]),V.props.animation&&Pe()&&Qr(To,function(){V.state.isShown=!0,hn("onShown",[V])})}},Oo()}}function Du(){var Gn=!V.state.isVisible,Wr=V.state.isDestroyed,io=!V.state.isEnabled,No=en(V.props.duration,1,Je.duration);if(!(Gn||Wr||io)&&(hn("onHide",[V],!1),V.props.onHide(V)!==!1)){if(V.state.isVisible=!1,V.state.isShown=!1,br=!1,xn=!1,Pe()&&(ne.style.visibility="hidden"),co(),ki(),Ht(!0),Pe()){var To=It(),Ti=To.box,Gi=To.content;V.props.animation&&(vo([Ti,Gi],No),ti([Ti,Gi],"hidden"))}Kt(),Pr(),V.props.animation?Pe()&&Ki(No,V.unmount):V.unmount()}}function wd(Gn){ut().addEventListener("mousemove",kr),zt(ke,kr),kr(Gn)}function Cd(){V.state.isVisible&&V.hide(),V.state.isMounted&&(zi(),va().forEach(function(Gn){Gn._tippy.unmount()}),ne.parentNode&&ne.parentNode.removeChild(ne),qe=qe.filter(function(Gn){return Gn!==V}),V.state.isMounted=!1,hn("onHidden",[V]))}function sh(){V.state.isDestroyed||(V.clearDelayTimeouts(),V.unmount(),Ls(),delete ot._tippy,V.state.isDestroyed=!0,hn("onDestroy",[V]))}}function Ct(ot,lt){lt===void 0&&(lt={});var St=Je.plugins.concat(lt.plugins||[]);pi();var an=Object.assign({},lt,{plugins:St}),gn=oo(ot);if(!1)var On,xn;var Fn=gn.reduce(function(zn,br){var ir=br&&Pt(br,an);return ir&&zn.push(ir),zn},[]);return Cr(ot)?Fn[0]:Fn}Ct.defaultProps=Je,Ct.setDefaultProps=bt,Ct.currentInput=Wo;var Ot=function(lt){var St=lt===void 0?{}:lt,an=St.exclude,gn=St.duration;qe.forEach(function(On){var xn=!1;if(an&&(xn=Ar(an)?On.reference===an:On.popper===an.popper),!xn){var Fn=On.props.duration;On.setProps({duration:gn}),On.hide(),On.state.isDestroyed||On.setProps({duration:Fn})}})},Dt=Object.assign({},de,{effect:function(lt){var St=lt.state,an={popper:{position:St.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(St.elements.popper.style,an.popper),St.styles=an,St.elements.arrow&&Object.assign(St.elements.arrow.style,an.arrow)}}),Xt=function(lt,St){var an;St===void 0&&(St={});var gn=lt,On=[],xn=[],Fn,zn=St.overrides,br=[],ir=!1;function Zr(){xn=gn.map(function(V){return Rt(V.props.triggerTarget||V.reference)}).reduce(function(V,K){return V.concat(K)},[])}function Xr(){On=gn.map(function(V){return V.reference})}function Tr(V){gn.forEach(function(K){V?K.enable():K.disable()})}function kr(V){return gn.map(function(K){var ne=K.setProps;return K.setProps=function(fe){ne(fe),K.reference===Fn&&V.setProps(fe)},function(){K.setProps=ne}})}function xr(V,K){var ne=xn.indexOf(K);if(K!==Fn){Fn=K;var fe=(zn||[]).concat("content").reduce(function(xe,Re){return xe[Re]=gn[ne].props[Re],xe},{});V.setProps(Object.assign({},fe,{getReferenceClientRect:typeof fe.getReferenceClientRect=="function"?fe.getReferenceClientRect:function(){var xe;return(xe=On[ne])==null?void 0:xe.getBoundingClientRect()}}))}}Tr(!1),Xr(),Zr();var Mr={fn:function(){return{onDestroy:function(){Tr(!0)},onHidden:function(){Fn=null},onClickOutside:function(ne){ne.props.showOnCreate&&!ir&&(ir=!0,Fn=null)},onShow:function(ne){ne.props.showOnCreate&&!ir&&(ir=!0,xr(ne,On[0]))},onTrigger:function(ne,fe){xr(ne,fe.currentTarget)}}}},gr=Ct(Un(),Object.assign({},Rn(St,["overrides"]),{plugins:[Mr].concat(St.plugins||[]),triggerTarget:xn,popperOptions:Object.assign({},St.popperOptions,{modifiers:[].concat(((an=St.popperOptions)==null?void 0:an.modifiers)||[],[Dt])})})),Vr=gr.show;gr.show=function(V){if(Vr(),!Fn&&V==null)return xr(gr,On[0]);if(!(Fn&&V==null)){if(typeof V=="number")return On[V]&&xr(gr,On[V]);if(gn.indexOf(V)>=0){var K=V.reference;return xr(gr,K)}if(On.indexOf(V)>=0)return xr(gr,V)}},gr.showNext=function(){var V=On[0];if(!Fn)return gr.show(0);var K=On.indexOf(Fn);gr.show(On[K+1]||V)},gr.showPrevious=function(){var V=On[On.length-1];if(!Fn)return gr.show(V);var K=On.indexOf(Fn),ne=On[K-1]||V;gr.show(ne)};var Yr=gr.setProps;return gr.setProps=function(V){zn=V.overrides||zn,Yr(V)},gr.setInstances=function(V){Tr(!0),br.forEach(function(K){return K()}),gn=V,Tr(!1),Xr(),Zr(),br=kr(gr),gr.setProps({triggerTarget:xn})},br=kr(gr),gr},Yt={mouseover:"mouseenter",focusin:"focus",click:"click"};function Jt(ot,lt){var St=[],an=[],gn=!1,On=lt.target,xn=Rn(lt,["target"]),Fn=Object.assign({},xn,{trigger:"manual",touch:!1}),zn=Object.assign({touch:Je.touch},xn,{showOnCreate:!0}),br=Ct(ot,Fn),ir=Rt(br);function Zr(Mr){if(!(!Mr.target||gn)){var gr=Mr.target.closest(On);if(gr){var Vr=gr.getAttribute("data-tippy-trigger")||lt.trigger||Je.trigger;if(!gr._tippy&&!(Mr.type==="touchstart"&&typeof zn.touch=="boolean")&&!(Mr.type!=="touchstart"&&Vr.indexOf(Yt[Mr.type])<0)){var Yr=Ct(gr,zn);Yr&&(an=an.concat(Yr))}}}}function Xr(Mr,gr,Vr,Yr){Yr===void 0&&(Yr=!1),Mr.addEventListener(gr,Vr,Yr),St.push({node:Mr,eventType:gr,handler:Vr,options:Yr})}function Tr(Mr){var gr=Mr.reference;Xr(gr,"touchstart",Zr,pr),Xr(gr,"mouseover",Zr),Xr(gr,"focusin",Zr),Xr(gr,"click",Zr)}function kr(){St.forEach(function(Mr){var gr=Mr.node,Vr=Mr.eventType,Yr=Mr.handler,V=Mr.options;gr.removeEventListener(Vr,Yr,V)}),St=[]}function xr(Mr){var gr=Mr.destroy,Vr=Mr.enable,Yr=Mr.disable;Mr.destroy=function(V){V===void 0&&(V=!0),V&&an.forEach(function(K){K.destroy()}),an=[],kr(),gr()},Mr.enable=function(){Vr(),an.forEach(function(V){return V.enable()}),gn=!1},Mr.disable=function(){Yr(),an.forEach(function(V){return V.disable()}),gn=!0},Tr(Mr)}return ir.forEach(xr),br}var Qt={name:"animateFill",defaultValue:!1,fn:function(lt){var St;if(!((St=lt.props.render)!=null&&St.$$tippy))return{};var an=Lr(lt.popper),gn=an.box,On=an.content,xn=lt.props.animateFill?on():null;return{onCreate:function(){xn&&(gn.insertBefore(xn,gn.firstElementChild),gn.setAttribute("data-animatefill",""),gn.style.overflow="hidden",lt.setProps({arrow:!1,animation:"shift-away"}))},onMount:function(){if(xn){var zn=gn.style.transitionDuration,br=Number(zn.replace("ms",""));On.style.transitionDelay=Math.round(br/10)+"ms",xn.style.transitionDuration=zn,ti([xn],"visible")}},onShow:function(){xn&&(xn.style.transitionDuration="0ms")},onHide:function(){xn&&ti([xn],"hidden")}}}};function on(){var ot=Un();return ot.className=Hn,ti([ot],"hidden"),ot}var Sn={clientX:0,clientY:0},Zn=[];function sr(ot){var lt=ot.clientX,St=ot.clientY;Sn={clientX:lt,clientY:St}}function Sr(ot){ot.addEventListener("mousemove",sr)}function yr(ot){ot.removeEventListener("mousemove",sr)}var qr={name:"followCursor",defaultValue:!1,fn:function(lt){var St=lt.reference,an=ni(lt.props.triggerTarget||St),gn=!1,On=!1,xn=!0,Fn=lt.props;function zn(){return lt.props.followCursor==="initial"&&lt.state.isVisible}function br(){an.addEventListener("mousemove",Xr)}function ir(){an.removeEventListener("mousemove",Xr)}function Zr(){gn=!0,lt.setProps({getReferenceClientRect:null}),gn=!1}function Xr(xr){var Mr=xr.target?St.contains(xr.target):!0,gr=lt.props.followCursor,Vr=xr.clientX,Yr=xr.clientY,V=St.getBoundingClientRect(),K=Vr-V.left,ne=Yr-V.top;(Mr||!lt.props.interactive)&&lt.setProps({getReferenceClientRect:function(){var xe=St.getBoundingClientRect(),Re=Vr,nt=Yr;gr==="initial"&&(Re=xe.left+K,nt=xe.top+ne);var Q=gr==="horizontal"?xe.top:nt,Pe=gr==="vertical"?xe.right:Re,Ze=gr==="horizontal"?xe.bottom:nt,ut=gr==="vertical"?xe.left:Re;return{width:Pe-ut,height:Ze-Q,top:Q,right:Pe,bottom:Ze,left:ut}}})}function Tr(){lt.props.followCursor&&(Zn.push({instance:lt,doc:an}),Sr(an))}function kr(){Zn=Zn.filter(function(xr){return xr.instance!==lt}),Zn.filter(function(xr){return xr.doc===an}).length===0&&yr(an)}return{onCreate:Tr,onDestroy:kr,onBeforeUpdate:function(){Fn=lt.props},onAfterUpdate:function(Mr,gr){var Vr=gr.followCursor;gn||Vr!==void 0&&Fn.followCursor!==Vr&&(kr(),Vr?(Tr(),lt.state.isMounted&&!On&&!zn()&&br()):(ir(),Zr()))},onMount:function(){lt.props.followCursor&&!On&&(xn&&(Xr(Sn),xn=!1),zn()||br())},onTrigger:function(Mr,gr){Ur(gr)&&(Sn={clientX:gr.clientX,clientY:gr.clientY}),On=gr.type==="focus"},onHidden:function(){lt.props.followCursor&&(Zr(),ir(),xn=!0)}}}};function uo(ot,lt){var St;return{popperOptions:Object.assign({},ot.popperOptions,{modifiers:[].concat((((St=ot.popperOptions)==null?void 0:St.modifiers)||[]).filter(function(an){var gn=an.name;return gn!==lt.name}),[lt])})}}var ho={name:"inlinePositioning",defaultValue:!1,fn:function(lt){var St=lt.reference;function an(){return!!lt.props.inlinePositioning}var gn,On=-1,xn=!1,Fn=[],zn={name:"tippyInlinePositioning",enabled:!0,phase:"afterWrite",fn:function(Tr){var kr=Tr.state;an()&&(Fn.indexOf(kr.placement)!==-1&&(Fn=[]),gn!==kr.placement&&Fn.indexOf(kr.placement)===-1&&(Fn.push(kr.placement),lt.setProps({getReferenceClientRect:function(){return br(kr.placement)}})),gn=kr.placement)}};function br(Xr){return Ao(vn(Xr),St.getBoundingClientRect(),un(St.getClientRects()),On)}function ir(Xr){xn=!0,lt.setProps(Xr),xn=!1}function Zr(){xn||ir(uo(lt.props,zn))}return{onCreate:Zr,onAfterUpdate:Zr,onTrigger:function(Tr,kr){if(Ur(kr)){var xr=un(lt.reference.getClientRects()),Mr=xr.find(function(Vr){return Vr.left-2<=kr.clientX&&Vr.right+2>=kr.clientX&&Vr.top-2<=kr.clientY&&Vr.bottom+2>=kr.clientY}),gr=xr.indexOf(Mr);On=gr>-1?gr:On}},onHidden:function(){On=-1}}}};function Ao(ot,lt,St,an){if(St.length<2||ot===null)return lt;if(St.length===2&&an>=0&&St[0].left>St[1].right)return St[an]||lt;switch(ot){case"top":case"bottom":{var gn=St[0],On=St[St.length-1],xn=ot==="top",Fn=gn.top,zn=On.bottom,br=xn?gn.left:On.left,ir=xn?gn.right:On.right,Zr=ir-br,Xr=zn-Fn;return{top:Fn,bottom:zn,left:br,right:ir,width:Zr,height:Xr}}case"left":case"right":{var Tr=Math.min.apply(Math,St.map(function(ne){return ne.left})),kr=Math.max.apply(Math,St.map(function(ne){return ne.right})),xr=St.filter(function(ne){return ot==="left"?ne.left===Tr:ne.right===kr}),Mr=xr[0].top,gr=xr[xr.length-1].bottom,Vr=Tr,Yr=kr,V=Yr-Vr,K=gr-Mr;return{top:Mr,bottom:gr,left:Vr,right:Yr,width:V,height:K}}default:return lt}}var Yo={name:"sticky",defaultValue:!1,fn:function(lt){var St=lt.reference,an=lt.popper;function gn(){return lt.popperInstance?lt.popperInstance.state.elements.reference:St}function On(br){return lt.props.sticky===!0||lt.props.sticky===br}var xn=null,Fn=null;function zn(){var br=On("reference")?gn().getBoundingClientRect():null,ir=On("popper")?an.getBoundingClientRect():null;(br&&$o(xn,br)||ir&&$o(Fn,ir))&&lt.popperInstance&&lt.popperInstance.update(),xn=br,Fn=ir,lt.state.isMounted&&requestAnimationFrame(zn)}return{onMount:function(){lt.props.sticky&&zn()}}}};function $o(ot,lt){return ot&&lt?ot.top!==lt.top||ot.right!==lt.right||ot.bottom!==lt.bottom||ot.left!==lt.left:!0}Ct.setDefaultProps({render:Fe});const Io=Ct},8575:(z,u,e)=>{var o=e(74971);u.parse=w,u.resolve=I,u.resolveObject=D,u.format=P,u.Url=f;function f(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var l=/^([a-z0-9.+-]+:)/i,c=/:[0-9]*$/,g=["<",">",'"',"`"," ","\r",`
`,"	"],v=["{","}","|","\\","^","`"].concat(g),E=["'"].concat(v),y=["%","/","?",";","#"].concat(E),p=["/","?","#"],O=255,S=/^[a-z0-9A-Z_-]{0,63}$/,x=/^([a-z0-9A-Z_-]{0,63})(.*)$/,T={javascript:!0,"javascript:":!0},_={javascript:!0,"javascript:":!0},d={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},s=e(17673);function w(U,W,G){if(U&&C(U)&&U instanceof f)return U;var $=new f;return $.parse(U,W,G),$}f.prototype.parse=function(U,W,G){if(!N(U))throw new TypeError("Parameter 'url' must be a string, not "+typeof U);var $=U;$=$.trim();var q=l.exec($);if(q){q=q[0];var J=q.toLowerCase();this.protocol=J,$=$.substr(q.length)}if(G||q||$.match(/^\/\/[^@\/]+@[^@\/]+/)){var R=$.substr(0,2)==="//";R&&!(q&&_[q])&&($=$.substr(2),this.slashes=!0)}if(!_[q]&&(R||q&&!d[q])){for(var j=-1,ie=0;ie<p.length;ie++){var le=$.indexOf(p[ie]);le!==-1&&(j===-1||le<j)&&(j=le)}var ye,ue;j===-1?ue=$.lastIndexOf("@"):ue=$.lastIndexOf("@",j),ue!==-1&&(ye=$.slice(0,ue),$=$.slice(ue+1),this.auth=decodeURIComponent(ye)),j=-1;for(var ie=0;ie<y.length;ie++){var le=$.indexOf(y[ie]);le!==-1&&(j===-1||le<j)&&(j=le)}j===-1&&(j=$.length),this.host=$.slice(0,j),$=$.slice(j),this.parseHost(),this.hostname=this.hostname||"";var oe=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!oe)for(var te=this.hostname.split(/\./),ie=0,Z=te.length;ie<Z;ie++){var re=te[ie];if(re&&!re.match(S)){for(var ae="",se=0,be=re.length;se<be;se++)re.charCodeAt(se)>127?ae+="x":ae+=re[se];if(!ae.match(S)){var _e=te.slice(0,ie),pe=te.slice(ie+1),me=re.match(x);me&&(_e.push(me[1]),pe.unshift(me[2])),pe.length&&($="/"+pe.join(".")+$),this.hostname=_e.join(".");break}}}if(this.hostname.length>O?this.hostname="":this.hostname=this.hostname.toLowerCase(),!oe){for(var Te=this.hostname.split("."),ve=[],ie=0;ie<Te.length;++ie){var ce=Te[ie];ve.push(ce.match(/[^A-Za-z0-9_-]/)?"xn--"+o.encode(ce):ce)}this.hostname=ve.join(".")}var Le=this.port?":"+this.port:"",Ne=this.hostname||"";this.host=Ne+Le,this.href+=this.host,oe&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),$[0]!=="/"&&($="/"+$))}if(!T[J])for(var ie=0,Z=E.length;ie<Z;ie++){var He=E[ie],ze=encodeURIComponent(He);ze===He&&(ze=escape(He)),$=$.split(He).join(ze)}var Xe=$.indexOf("#");Xe!==-1&&(this.hash=$.substr(Xe),$=$.slice(0,Xe));var _t=$.indexOf("?");if(_t!==-1?(this.search=$.substr(_t),this.query=$.substr(_t+1),W&&(this.query=s.parse(this.query)),$=$.slice(0,_t)):W&&(this.search="",this.query={}),$&&(this.pathname=$),d[J]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Le=this.pathname||"",ce=this.search||"";this.path=Le+ce}return this.href=this.format(),this};function P(U){return N(U)&&(U=w(U)),U instanceof f?U.format():f.prototype.format.call(U)}f.prototype.format=function(){var U=this.auth||"";U&&(U=encodeURIComponent(U),U=U.replace(/%3A/i,":"),U+="@");var W=this.protocol||"",G=this.pathname||"",$=this.hash||"",q=!1,J="";this.host?q=U+this.host:this.hostname&&(q=U+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(q+=":"+this.port)),this.query&&C(this.query)&&Object.keys(this.query).length&&(J=s.stringify(this.query));var R=this.search||J&&"?"+J||"";return W&&W.substr(-1)!==":"&&(W+=":"),this.slashes||(!W||d[W])&&q!==!1?(q="//"+(q||""),G&&G.charAt(0)!=="/"&&(G="/"+G)):q||(q=""),$&&$.charAt(0)!=="#"&&($="#"+$),R&&R.charAt(0)!=="?"&&(R="?"+R),G=G.replace(/[?#]/g,function(j){return encodeURIComponent(j)}),R=R.replace("#","%23"),W+q+G+R+$};function I(U,W){return w(U,!1,!0).resolve(W)}f.prototype.resolve=function(U){return this.resolveObject(w(U,!1,!0)).format()};function D(U,W){return U?w(U,!1,!0).resolveObject(W):W}f.prototype.resolveObject=function(U){if(N(U)){var W=new f;W.parse(U,!1,!0),U=W}var G=new f;if(Object.keys(this).forEach(function(be){G[be]=this[be]},this),G.hash=U.hash,U.href==="")return G.href=G.format(),G;if(U.slashes&&!U.protocol)return Object.keys(U).forEach(function(be){be!=="protocol"&&(G[be]=U[be])}),d[G.protocol]&&G.hostname&&!G.pathname&&(G.path=G.pathname="/"),G.href=G.format(),G;if(U.protocol&&U.protocol!==G.protocol){if(!d[U.protocol])return Object.keys(U).forEach(function(be){G[be]=U[be]}),G.href=G.format(),G;if(G.protocol=U.protocol,!U.host&&!_[U.protocol]){for(var ye=(U.pathname||"").split("/");ye.length&&!(U.host=ye.shift()););U.host||(U.host=""),U.hostname||(U.hostname=""),ye[0]!==""&&ye.unshift(""),ye.length<2&&ye.unshift(""),G.pathname=ye.join("/")}else G.pathname=U.pathname;if(G.search=U.search,G.query=U.query,G.host=U.host||"",G.auth=U.auth,G.hostname=U.hostname||U.host,G.port=U.port,G.pathname||G.search){var $=G.pathname||"",q=G.search||"";G.path=$+q}return G.slashes=G.slashes||U.slashes,G.href=G.format(),G}var J=G.pathname&&G.pathname.charAt(0)==="/",R=U.host||U.pathname&&U.pathname.charAt(0)==="/",j=R||J||G.host&&U.pathname,ie=j,le=G.pathname&&G.pathname.split("/")||[],ye=U.pathname&&U.pathname.split("/")||[],ue=G.protocol&&!d[G.protocol];if(ue&&(G.hostname="",G.port=null,G.host&&(le[0]===""?le[0]=G.host:le.unshift(G.host)),G.host="",U.protocol&&(U.hostname=null,U.port=null,U.host&&(ye[0]===""?ye[0]=U.host:ye.unshift(U.host)),U.host=null),j=j&&(ye[0]===""||le[0]==="")),R)G.host=U.host||U.host===""?U.host:G.host,G.hostname=U.hostname||U.hostname===""?U.hostname:G.hostname,G.search=U.search,G.query=U.query,le=ye;else if(ye.length)le||(le=[]),le.pop(),le=le.concat(ye),G.search=U.search,G.query=U.query;else if(!L(U.search)){if(ue){G.hostname=G.host=le.shift();var oe=G.host&&G.host.indexOf("@")>0?G.host.split("@"):!1;oe&&(G.auth=oe.shift(),G.host=G.hostname=oe.shift())}return G.search=U.search,G.query=U.query,(!A(G.pathname)||!A(G.search))&&(G.path=(G.pathname?G.pathname:"")+(G.search?G.search:"")),G.href=G.format(),G}if(!le.length)return G.pathname=null,G.search?G.path="/"+G.search:G.path=null,G.href=G.format(),G;for(var te=le.slice(-1)[0],Z=(G.host||U.host)&&(te==="."||te==="..")||te==="",re=0,ae=le.length;ae>=0;ae--)te=le[ae],te=="."?le.splice(ae,1):te===".."?(le.splice(ae,1),re++):re&&(le.splice(ae,1),re--);if(!j&&!ie)for(;re--;re)le.unshift("..");j&&le[0]!==""&&(!le[0]||le[0].charAt(0)!=="/")&&le.unshift(""),Z&&le.join("/").substr(-1)!=="/"&&le.push("");var se=le[0]===""||le[0]&&le[0].charAt(0)==="/";if(ue){G.hostname=G.host=se?"":le.length?le.shift():"";var oe=G.host&&G.host.indexOf("@")>0?G.host.split("@"):!1;oe&&(G.auth=oe.shift(),G.host=G.hostname=oe.shift())}return j=j||G.host&&le.length,j&&!se&&le.unshift(""),le.length?G.pathname=le.join("/"):(G.pathname=null,G.path=null),(!A(G.pathname)||!A(G.search))&&(G.path=(G.pathname?G.pathname:"")+(G.search?G.search:"")),G.auth=U.auth||G.auth,G.slashes=G.slashes||U.slashes,G.href=G.format(),G},f.prototype.parseHost=function(){var U=this.host,W=c.exec(U);W&&(W=W[0],W!==":"&&(this.port=W.substr(1)),U=U.substr(0,U.length-W.length)),U&&(this.hostname=U)};function N(U){return typeof U=="string"}function C(U){return typeof U=="object"&&U!==null}function A(U){return U===null}function L(U){return U==null}},53250:(z,u,e)=>{"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o=e(98661);function f(x,T){return x===T&&(x!==0||1/x===1/T)||x!==x&&T!==T}var l=typeof Object.is=="function"?Object.is:f,c=o.useState,g=o.useEffect,v=o.useLayoutEffect,E=o.useDebugValue;function y(x,T){var _=T(),d=c({inst:{value:_,getSnapshot:T}}),s=d[0].inst,w=d[1];return v(function(){s.value=_,s.getSnapshot=T,p(s)&&w({inst:s})},[x,_,T]),g(function(){return p(s)&&w({inst:s}),x(function(){p(s)&&w({inst:s})})},[x]),E(_),_}function p(x){var T=x.getSnapshot;x=x.value;try{var _=T();return!l(x,_)}catch(d){return!0}}function O(x,T){return T()}var S=typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"?O:y;u.useSyncExternalStore=o.useSyncExternalStore!==void 0?o.useSyncExternalStore:S},61688:(z,u,e)=>{"use strict";z.exports=e(53250)},45327:z=>{for(var u=[],e=0;e<256;++e)u[e]=(e+256).toString(16).substr(1);function o(f,l){var c=l||0,g=u;return g[f[c++]]+g[f[c++]]+g[f[c++]]+g[f[c++]]+"-"+g[f[c++]]+g[f[c++]]+"-"+g[f[c++]]+g[f[c++]]+"-"+g[f[c++]]+g[f[c++]]+"-"+g[f[c++]]+g[f[c++]]+g[f[c++]]+g[f[c++]]+g[f[c++]]+g[f[c++]]}z.exports=o},85217:z=>{var u=typeof crypto!="undefined"&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&msCrypto.getRandomValues.bind(msCrypto);if(u){var e=new Uint8Array(16);z.exports=function(){return u(e),e}}else{var o=new Array(16);z.exports=function(){for(var l=0,c;l<16;l++)l&3||(c=Math.random()*4294967296),o[l]=c>>>((l&3)<<3)&255;return o}}},71171:(z,u,e)=>{var o=e(85217),f=e(45327);function l(c,g,v){var E=g&&v||0;typeof c=="string"&&(g=c==="binary"?new Array(16):null,c=null),c=c||{};var y=c.random||(c.rng||o)();if(y[6]=y[6]&15|64,y[8]=y[8]&63|128,g)for(var p=0;p<16;++p)g[E+p]=y[p];return g||f(y)}z.exports=l},93235:(z,u,e)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.default=c;var o=f(e(65571));function f(g){return g&&g.__esModule?g:{default:g}}function l(g){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?l=function(E){return typeof E}:l=function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},l(g)}function c(g,v){(0,o.default)(g);var E,y;l(v)==="object"?(E=v.min||0,y=v.max):(E=arguments[1],y=arguments[2]);var p=encodeURI(g).split(/%..|./).length-1;return p>=E&&(typeof y=="undefined"||p<=y)}z.exports=u.default,z.exports.default=u.default},83868:(z,u,e)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.default=s;var o=v(e(65571)),f=v(e(84808)),l=v(e(93235)),c=v(e(10221)),g=v(e(61028));function v(w){return w&&w.__esModule?w:{default:w}}var E={allow_display_name:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0,blacklisted_chars:"",ignore_max_length:!1,host_blacklist:[]},y=/^([^\x00-\x1F\x7F-\x9F\cX]+)</i,p=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,O=/^[a-z\d]+$/,S=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,x=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,T=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i,_=254;function d(w){var P=w.replace(/^"(.+)"$/,"$1");if(!P.trim())return!1;var I=/[\.";<>]/.test(P);if(I){if(P===w)return!1;var D=P.split('"').length===P.split('\\"').length;if(!D)return!1}return!0}function s(w,P){if((0,o.default)(w),P=(0,f.default)(P,E),P.require_display_name||P.allow_display_name){var I=w.match(y);if(I){var D=I[1];if(w=w.replace(D,"").replace(/(^<|>$)/g,""),D.endsWith(" ")&&(D=D.substr(0,D.length-1)),!d(D))return!1}else if(P.require_display_name)return!1}if(!P.ignore_max_length&&w.length>_)return!1;var N=w.split("@"),C=N.pop(),A=C.toLowerCase();if(P.host_blacklist.includes(A))return!1;var L=N.join("@");if(P.domain_specific_validation&&(A==="gmail.com"||A==="googlemail.com")){L=L.toLowerCase();var U=L.split("+")[0];if(!(0,l.default)(U.replace(/\./g,""),{min:6,max:30}))return!1;for(var W=U.split("."),G=0;G<W.length;G++)if(!O.test(W[G]))return!1}if(P.ignore_max_length===!1&&(!(0,l.default)(L,{max:64})||!(0,l.default)(C,{max:254})))return!1;if(!(0,c.default)(C,{require_tld:P.require_tld})){if(!P.allow_ip_domain)return!1;if(!(0,g.default)(C)){if(!C.startsWith("[")||!C.endsWith("]"))return!1;var $=C.substr(1,C.length-2);if($.length===0||!(0,g.default)($))return!1}}if(L[0]==='"')return L=L.slice(1,L.length-1),P.allow_utf8_local_part?T.test(L):S.test(L);for(var q=P.allow_utf8_local_part?x:p,J=L.split("."),R=0;R<J.length;R++)if(!q.test(J[R]))return!1;return!(P.blacklisted_chars&&L.search(new RegExp("[".concat(P.blacklisted_chars,"]+"),"g"))!==-1)}z.exports=u.default,z.exports.default=u.default},10221:(z,u,e)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.default=g;var o=l(e(65571)),f=l(e(84808));function l(v){return v&&v.__esModule?v:{default:v}}var c={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1,allow_wildcard:!1};function g(v,E){(0,o.default)(v),E=(0,f.default)(E,c),E.allow_trailing_dot&&v[v.length-1]==="."&&(v=v.substring(0,v.length-1)),E.allow_wildcard===!0&&v.indexOf("*.")===0&&(v=v.substring(2));var y=v.split("."),p=y[y.length-1];return E.require_tld&&(y.length<2||!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(p)||/\s/.test(p))||!E.allow_numeric_tld&&/^\d+$/.test(p)?!1:y.every(function(O){return!(O.length>63||!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(O)||/[\uff01-\uff5e]/.test(O)||/^-|-$/.test(O)||!E.allow_underscores&&/_/.test(O))})}z.exports=u.default,z.exports.default=u.default},61028:(z,u,e)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.default=y;var o=f(e(65571));function f(p){return p&&p.__esModule?p:{default:p}}var l="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",c="(".concat(l,"[.]){3}").concat(l),g=new RegExp("^".concat(c,"$")),v="(?:[0-9a-fA-F]{1,4})",E=new RegExp("^("+"(?:".concat(v,":){7}(?:").concat(v,"|:)|")+"(?:".concat(v,":){6}(?:").concat(c,"|:").concat(v,"|:)|")+"(?:".concat(v,":){5}(?::").concat(c,"|(:").concat(v,"){1,2}|:)|")+"(?:".concat(v,":){4}(?:(:").concat(v,"){0,1}:").concat(c,"|(:").concat(v,"){1,3}|:)|")+"(?:".concat(v,":){3}(?:(:").concat(v,"){0,2}:").concat(c,"|(:").concat(v,"){1,4}|:)|")+"(?:".concat(v,":){2}(?:(:").concat(v,"){0,3}:").concat(c,"|(:").concat(v,"){1,5}|:)|")+"(?:".concat(v,":){1}(?:(:").concat(v,"){0,4}:").concat(c,"|(:").concat(v,"){1,6}|:)|")+"(?::((?::".concat(v,"){0,5}:").concat(c,"|(?::").concat(v,"){1,7}|:))")+")(%[0-9a-zA-Z-.:]{1,})?$");function y(p){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if((0,o.default)(p),O=String(O),!O)return y(p,4)||y(p,6);if(O==="4"){if(!g.test(p))return!1;var S=p.split(".").sort(function(x,T){return x-T});return S[3]<=255}return O==="6"?!!E.test(p):!1}z.exports=u.default,z.exports.default=u.default},65571:(z,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.default=o;function e(f){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(c){return typeof c}:e=function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},e(f)}function o(f){var l=typeof f=="string"||f instanceof String;if(!l){var c=e(f);throw f===null?c="null":c==="object"&&(c=f.constructor.name),new TypeError("Expected a string but received a ".concat(c))}}z.exports=u.default,z.exports.default=u.default},84808:(z,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.default=e;function e(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=arguments.length>1?arguments[1]:void 0;for(var l in f)typeof o[l]=="undefined"&&(o[l]=f[l]);return o}z.exports=u.default,z.exports.default=u.default},24654:()=>{},22868:()=>{},14777:()=>{},99830:()=>{},70209:()=>{},87414:()=>{},18036:()=>{},62961:z=>{let u="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",e=(f,l=21)=>(c=l)=>{let g="",v=c;for(;v--;)g+=f[Math.random()*f.length|0];return g},o=(f=21)=>{let l="",c=f;for(;c--;)l+=u[Math.random()*64|0];return l};z.exports={nanoid:o,customAlphabet:e}},39516:(z,u,e)=>{"use strict";e.d(u,{d:()=>T,f:()=>p});var o=e(98661),f=e(19946),l=e(12351),c=e(16723),g=e(23784),v=e(73781);let E=(0,o.createContext)(null);function y(){let _=(0,o.useContext)(E);if(_===null){let d=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(d,y),d}return _}function p(){let[_,d]=(0,o.useState)([]);return[_.length>0?_.join(" "):void 0,(0,o.useMemo)(()=>function(s){let w=(0,v.z)(I=>(d(D=>[...D,I]),()=>d(D=>{let N=D.slice(),C=N.indexOf(I);return C!==-1&&N.splice(C,1),N}))),P=(0,o.useMemo)(()=>({register:w,slot:s.slot,name:s.name,props:s.props}),[w,s.slot,s.name,s.props]);return o.default.createElement(E.Provider,{value:P},s.children)},[d])]}let O="p";function S(_,d){let s=(0,f.M)(),C=_,{id:w=`headlessui-description-${s}`}=C,P=hi(C,["id"]),I=y(),D=(0,g.T)(d);(0,c.e)(()=>I.register(w),[w,I.register]);let N=Vo(ur({ref:D},I.props),{id:w});return(0,l.sY)({ourProps:N,theirProps:P,slot:I.slot||{},defaultTag:O,name:I.name||"Description"})}let x=(0,l.yV)(S),T=Object.assign(x,{})},13599:(z,u,e)=>{"use strict";e.d(u,{V:()=>Rn});var o=e(98661),f=e(32984),l=e(12351),c=e(23784),g=e(61363),v=e(64103),E=e(19946),y=e(82180),p=e(46045),O=e(77896);function S(ft){return O.O.isServer?null:ft instanceof Node?ft.ownerDocument:ft!=null&&ft.hasOwnProperty("current")&&ft.current instanceof Node?ft.current.ownerDocument:document}let x=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(ft=>`${ft}:not([tabindex='-1'])`).join(",");var T=(ft=>(ft[ft.First=1]="First",ft[ft.Previous=2]="Previous",ft[ft.Next=4]="Next",ft[ft.Last=8]="Last",ft[ft.WrapAround=16]="WrapAround",ft[ft.NoScroll=32]="NoScroll",ft))(T||{}),_=(ft=>(ft[ft.Error=0]="Error",ft[ft.Overflow=1]="Overflow",ft[ft.Success=2]="Success",ft[ft.Underflow=3]="Underflow",ft))(_||{}),d=(ft=>(ft[ft.Previous=-1]="Previous",ft[ft.Next=1]="Next",ft))(d||{});function s(ft=document.body){return ft==null?[]:Array.from(ft.querySelectorAll(x)).sort((Rt,zt)=>Math.sign((Rt.tabIndex||Number.MAX_SAFE_INTEGER)-(zt.tabIndex||Number.MAX_SAFE_INTEGER)))}var w=(ft=>(ft[ft.Strict=0]="Strict",ft[ft.Loose=1]="Loose",ft))(w||{});function P(ft,Rt=0){var zt;return ft===((zt=S(ft))==null?void 0:zt.body)?!1:(0,f.E)(Rt,{[0](){return ft.matches(x)},[1](){let tn=ft;for(;tn!==null;){if(tn.matches(x))return!0;tn=tn.parentElement}return!1}})}function I(ft){let Rt=m(ft);b().nextFrame(()=>{Rt&&!P(Rt.activeElement,0)&&N(ft)})}var D=(ft=>(ft[ft.Keyboard=0]="Keyboard",ft[ft.Mouse=1]="Mouse",ft))(D||{});typeof window!="undefined"&&typeof document!="undefined"&&(document.addEventListener("keydown",ft=>{ft.metaKey||ft.altKey||ft.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",ft=>{ft.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:ft.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function N(ft){ft==null||ft.focus({preventScroll:!0})}let C=["textarea","input"].join(",");function A(ft){var Rt,zt;return(zt=(Rt=ft==null?void 0:ft.matches)==null?void 0:Rt.call(ft,C))!=null?zt:!1}function L(ft,Rt=zt=>zt){return ft.slice().sort((zt,tn)=>{let vn=Rt(zt),un=Rt(tn);if(vn===null||un===null)return 0;let wn=vn.compareDocumentPosition(un);return wn&Node.DOCUMENT_POSITION_FOLLOWING?-1:wn&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function U(ft,Rt){return W(s(),Rt,{relativeTo:ft})}function W(ft,Rt,{sorted:zt=!0,relativeTo:tn=null,skipElements:vn=[]}={}){let un=Array.isArray(ft)?ft.length>0?ft[0].ownerDocument:document:ft.ownerDocument,wn=Array.isArray(ft)?zt?L(ft):ft:s(ft);vn.length>0&&wn.length>1&&(wn=wn.filter(vo=>!vn.includes(vo))),tn=tn!=null?tn:un.activeElement;let Un=(()=>{if(Rt&5)return 1;if(Rt&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),Cr=(()=>{if(Rt&1)return 0;if(Rt&2)return Math.max(0,wn.indexOf(tn))-1;if(Rt&4)return Math.max(0,wn.indexOf(tn))+1;if(Rt&8)return wn.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),Hr=Rt&32?{preventScroll:!0}:{},Ur=0,Ar=wn.length,oo;do{if(Ur>=Ar||Ur+Ar<=0)return 0;let vo=Cr+Ur;if(Rt&16)vo=(vo+Ar)%Ar;else{if(vo<0)return 3;if(vo>=Ar)return 1}oo=wn[vo],oo==null||oo.focus(Hr),Ur+=Un}while(oo!==un.activeElement);return Rt&6&&A(oo)&&oo.select(),2}var G=e(73781),$=e(3855);function q(ft,Rt,zt){let tn=(0,$.E)(Rt);(0,o.useEffect)(()=>{function vn(un){tn.current(un)}return window.addEventListener(ft,vn,zt),()=>window.removeEventListener(ft,vn,zt)},[ft,zt])}var J=(ft=>(ft[ft.Forwards=0]="Forwards",ft[ft.Backwards=1]="Backwards",ft))(J||{});function R(){let ft=(0,o.useRef)(0);return q("keydown",Rt=>{Rt.key==="Tab"&&(ft.current=Rt.shiftKey?1:0)},!0),ft}var j=e(14879);function ie(...ft){return(0,o.useMemo)(()=>S(...ft),[...ft])}function le(ft,Rt,zt,tn){let vn=(0,$.E)(zt);(0,o.useEffect)(()=>{ft=ft!=null?ft:window;function un(wn){vn.current(wn)}return ft.addEventListener(Rt,un,tn),()=>ft.removeEventListener(Rt,un,tn)},[ft,Rt,tn])}var ye=e(81021);function ue(ft,Rt){let zt=(0,o.useRef)([]),tn=(0,G.z)(ft);(0,o.useEffect)(()=>{let vn=[...zt.current];for(let[un,wn]of Rt.entries())if(zt.current[un]!==wn){let Un=tn(Rt,vn);return zt.current=Rt,Un}},[tn,...Rt])}var oe=e(94192);function te(ft){function Rt(){document.readyState!=="loading"&&(ft(),document.removeEventListener("DOMContentLoaded",Rt))}typeof window!="undefined"&&typeof document!="undefined"&&(document.addEventListener("DOMContentLoaded",Rt),Rt())}function Z(ft){let Rt=(0,G.z)(ft),zt=(0,o.useRef)(!1);(0,o.useEffect)(()=>(zt.current=!1,()=>{zt.current=!0,(0,ye.Y)(()=>{zt.current&&Rt()})}),[Rt])}function re(ft){if(!ft)return new Set;if(typeof ft=="function")return new Set(ft());let Rt=new Set;for(let zt of ft.current)zt.current instanceof HTMLElement&&Rt.add(zt.current);return Rt}let ae="div";var se=(ft=>(ft[ft.None=1]="None",ft[ft.InitialFocus=2]="InitialFocus",ft[ft.TabLock=4]="TabLock",ft[ft.FocusLock=8]="FocusLock",ft[ft.RestoreFocus=16]="RestoreFocus",ft[ft.All=30]="All",ft))(se||{});function be(ft,Rt){let zt=(0,o.useRef)(null),tn=(0,c.T)(zt,Rt),ni=ft,{initialFocus:vn,containers:un,features:wn=30}=ni,Un=hi(ni,["initialFocus","containers","features"]);(0,y.H)()||(wn=1);let Cr=ie(zt);ve({ownerDocument:Cr},!!(wn&16));let Hr=ce({ownerDocument:Cr,container:zt,initialFocus:vn},!!(wn&2));Le({ownerDocument:Cr,container:zt,containers:un,previousActiveElement:Hr},!!(wn&8));let Ur=R(),Ar=(0,G.z)(Co=>{let Fo=zt.current;Fo&&(yo=>yo())(()=>{(0,f.E)(Ur.current,{[J.Forwards]:()=>{W(Fo,T.First,{skipElements:[Co.relatedTarget]})},[J.Backwards]:()=>{W(Fo,T.Last,{skipElements:[Co.relatedTarget]})}})})}),oo=(0,oe.G)(),vo=(0,o.useRef)(!1),ti={ref:tn,onKeyDown(Co){Co.key=="Tab"&&(vo.current=!0,oo.requestAnimationFrame(()=>{vo.current=!1}))},onBlur(Co){let Fo=re(un);zt.current instanceof HTMLElement&&Fo.add(zt.current);let yo=Co.relatedTarget;yo instanceof HTMLElement&&yo.dataset.headlessuiFocusGuard!=="true"&&(Ne(Fo,yo)||(vo.current?W(zt.current,(0,f.E)(Ur.current,{[J.Forwards]:()=>T.Next,[J.Backwards]:()=>T.Previous})|T.WrapAround,{relativeTo:Co.target}):Co.target instanceof HTMLElement&&N(Co.target)))}};return o.default.createElement(o.default.Fragment,null,!!(wn&4)&&o.default.createElement(p._,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:Ar,features:p.A.Focusable}),(0,l.sY)({ourProps:ti,theirProps:Un,defaultTag:ae,name:"FocusTrap"}),!!(wn&4)&&o.default.createElement(p._,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:Ar,features:p.A.Focusable}))}let _e=(0,l.yV)(be),pe=Object.assign(_e,{features:se}),me=[];te(()=>{function ft(Rt){Rt.target instanceof HTMLElement&&Rt.target!==document.body&&me[0]!==Rt.target&&(me.unshift(Rt.target),me=me.filter(zt=>zt!=null&&zt.isConnected),me.splice(10))}window.addEventListener("click",ft,{capture:!0}),window.addEventListener("mousedown",ft,{capture:!0}),window.addEventListener("focus",ft,{capture:!0}),document.body.addEventListener("click",ft,{capture:!0}),document.body.addEventListener("mousedown",ft,{capture:!0}),document.body.addEventListener("focus",ft,{capture:!0})});function Te(ft=!0){let Rt=(0,o.useRef)(me.slice());return ue(([zt],[tn])=>{tn===!0&&zt===!1&&(0,ye.Y)(()=>{Rt.current.splice(0)}),tn===!1&&zt===!0&&(Rt.current=me.slice())},[ft,me,Rt]),(0,G.z)(()=>{var zt;return(zt=Rt.current.find(tn=>tn!=null&&tn.isConnected))!=null?zt:null})}function ve({ownerDocument:ft},Rt){let zt=Te(Rt);ue(()=>{Rt||(ft==null?void 0:ft.activeElement)===(ft==null?void 0:ft.body)&&N(zt())},[Rt]),Z(()=>{Rt&&N(zt())})}function ce({ownerDocument:ft,container:Rt,initialFocus:zt},tn){let vn=(0,o.useRef)(null),un=(0,j.t)();return ue(()=>{if(!tn)return;let wn=Rt.current;wn&&(0,ye.Y)(()=>{if(!un.current)return;let Un=ft==null?void 0:ft.activeElement;if(zt!=null&&zt.current){if((zt==null?void 0:zt.current)===Un){vn.current=Un;return}}else if(wn.contains(Un)){vn.current=Un;return}zt!=null&&zt.current?N(zt.current):W(wn,T.First)===_.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),vn.current=ft==null?void 0:ft.activeElement})},[tn]),vn}function Le({ownerDocument:ft,container:Rt,containers:zt,previousActiveElement:tn},vn){let un=(0,j.t)();le(ft==null?void 0:ft.defaultView,"focus",wn=>{if(!vn||!un.current)return;let Un=re(zt);Rt.current instanceof HTMLElement&&Un.add(Rt.current);let Cr=tn.current;if(!Cr)return;let Hr=wn.target;Hr&&Hr instanceof HTMLElement?Ne(Un,Hr)?(tn.current=Hr,N(Hr)):(wn.preventDefault(),wn.stopPropagation(),N(Cr)):N(tn.current)},!0)}function Ne(ft,Rt){for(let zt of ft)if(zt.contains(Rt))return!0;return!1}var He=e(16723);let ze=(0,o.createContext)(!1);function Xe(){return(0,o.useContext)(ze)}function _t(ft){return o.default.createElement(ze.Provider,{value:ft.force},ft.children)}function we(ft){let Rt=Xe(),zt=(0,o.useContext)(et),tn=ie(ft),[vn,un]=(0,o.useState)(()=>{if(!Rt&&zt!==null||O.O.isServer)return null;let wn=tn==null?void 0:tn.getElementById("headlessui-portal-root");if(wn)return wn;if(tn===null)return null;let Un=tn.createElement("div");return Un.setAttribute("id","headlessui-portal-root"),tn.body.appendChild(Un)});return(0,o.useEffect)(()=>{vn!==null&&(tn!=null&&tn.body.contains(vn)||tn==null||tn.body.appendChild(vn))},[vn,tn]),(0,o.useEffect)(()=>{Rt||zt!==null&&un(zt.current)},[zt,un,Rt]),vn}let We=o.Fragment;function Ie(ft,Rt){let zt=ft,tn=(0,o.useRef)(null),vn=(0,c.T)((0,c.h)(Ur=>{tn.current=Ur}),Rt),un=ie(tn),wn=we(tn),[Un]=(0,o.useState)(()=>{var Ur;return O.O.isServer?null:(Ur=un==null?void 0:un.createElement("div"))!=null?Ur:null}),Cr=(0,o.useContext)(vt),Hr=(0,y.H)();return(0,He.e)(()=>{!wn||!Un||wn.contains(Un)||(Un.setAttribute("data-headlessui-portal",""),wn.appendChild(Un))},[wn,Un]),(0,He.e)(()=>{if(Un&&Cr)return Cr.register(Un)},[Cr,Un]),Z(()=>{var Ur;!wn||!Un||(Un instanceof Node&&wn.contains(Un)&&wn.removeChild(Un),wn.childNodes.length<=0&&((Ur=wn.parentElement)==null||Ur.removeChild(wn)))}),Hr?!wn||!Un?null:(0,o.createPortal)((0,l.sY)({ourProps:{ref:vn},theirProps:zt,defaultTag:We,name:"Portal"}),Un):null}let tt=o.Fragment,et=(0,o.createContext)(null);function ht(ft,Rt){let un=ft,{target:zt}=un,tn=hi(un,["target"]),vn={ref:(0,c.T)(Rt)};return o.default.createElement(et.Provider,{value:zt},(0,l.sY)({ourProps:vn,theirProps:tn,defaultTag:tt,name:"Popover.Group"}))}let vt=(0,o.createContext)(null);function Lt(){let ft=(0,o.useContext)(vt),Rt=(0,o.useRef)([]),zt=(0,G.z)(un=>(Rt.current.push(un),ft&&ft.register(un),()=>tn(un))),tn=(0,G.z)(un=>{let wn=Rt.current.indexOf(un);wn!==-1&&Rt.current.splice(wn,1),ft&&ft.unregister(un)}),vn=(0,o.useMemo)(()=>({register:zt,unregister:tn,portals:Rt}),[zt,tn,Rt]);return[Rt,(0,o.useMemo)(()=>function({children:un}){return o.default.createElement(vt.Provider,{value:vn},un)},[vn])]}let $t=(0,l.yV)(Ie),yt=(0,l.yV)(ht),he=Object.assign($t,{Group:yt});var je=e(39516),st=e(16567);let De=(0,o.createContext)(()=>{});De.displayName="StackContext";var Be=(ft=>(ft[ft.Add=0]="Add",ft[ft.Remove=1]="Remove",ft))(Be||{});function Ke(){return(0,o.useContext)(De)}function it({children:ft,onUpdate:Rt,type:zt,element:tn,enabled:vn}){let un=Ke(),wn=(0,G.z)((...Un)=>{Rt==null||Rt(...Un),un(...Un)});return(0,He.e)(()=>{let Un=vn===void 0||vn===!0;return Un&&wn(0,zt,tn),()=>{Un&&wn(1,zt,tn)}},[wn,zt,tn,vn]),o.default.createElement(De.Provider,{value:wn},ft)}function Qe(ft,Rt,zt){let tn=(0,$.E)(Rt);(0,o.useEffect)(()=>{function vn(un){tn.current(un)}return document.addEventListener(ft,vn,zt),()=>document.removeEventListener(ft,vn,zt)},[ft,zt])}function Ae(ft,Rt,zt=!0){let tn=(0,o.useRef)(!1);(0,o.useEffect)(()=>{requestAnimationFrame(()=>{tn.current=zt})},[zt]);function vn(wn,Un){if(!tn.current||wn.defaultPrevented)return;let Cr=Un(wn);if(Cr===null||!Cr.getRootNode().contains(Cr))return;let Hr=function Ur(Ar){return typeof Ar=="function"?Ur(Ar()):Array.isArray(Ar)||Ar instanceof Set?Ar:[Ar]}(ft);for(let Ur of Hr){if(Ur===null)continue;let Ar=Ur instanceof HTMLElement?Ur:Ur.current;if(Ar!=null&&Ar.contains(Cr)||wn.composed&&wn.composedPath().includes(Ar))return}return!P(Cr,w.Loose)&&Cr.tabIndex!==-1&&wn.preventDefault(),Rt(wn,Cr)}let un=(0,o.useRef)(null);Qe("mousedown",wn=>{var Un,Cr;tn.current&&(un.current=((Cr=(Un=wn.composedPath)==null?void 0:Un.call(wn))==null?void 0:Cr[0])||wn.target)},!0),Qe("click",wn=>{un.current&&(vn(wn,()=>un.current),un.current=null)},!0),q("blur",wn=>vn(wn,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function H(ft,Rt){return ft===Rt&&(ft!==0||1/ft===1/Rt)||ft!==ft&&Rt!==Rt}const ee=typeof Object.is=="function"?Object.is:H,{useState:de,useEffect:Ee,useLayoutEffect:Me,useDebugValue:$e}=o;let dt=null,ct=null;function wt(ft,Rt,zt){const tn=Rt(),[{inst:vn},un]=de({inst:{value:tn,getSnapshot:Rt}});return Me(()=>{vn.value=tn,vn.getSnapshot=Rt,Mt(vn)&&un({inst:vn})},[ft,tn,Rt]),Ee(()=>(Mt(vn)&&un({inst:vn}),ft(()=>{Mt(vn)&&un({inst:vn})})),[ft]),$e(tn),tn}function Mt(ft){const Rt=ft.getSnapshot,zt=ft.value;try{const tn=Rt();return!ee(zt,tn)}catch(tn){return!0}}function pn(ft,Rt,zt){return Rt()}const Mn=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",$n=!Mn,mr=$n?pn:wt,jn=(ft=>ft.useSyncExternalStore)(o);function dr(ft){return jn(ft.subscribe,ft.getSnapshot,ft.getSnapshot)}var nn=e(9362);function jr(ft,Rt){let zt=ft(),tn=new Set;return{getSnapshot(){return zt},subscribe(vn){return tn.add(vn),()=>tn.delete(vn)},dispatch(vn,...un){let wn=Rt[vn].call(zt,...un);wn&&(zt=wn,tn.forEach(Un=>Un()))}}}function Dr(){let ft;return{before({doc:Rt}){var zt;let tn=Rt.documentElement;ft=((zt=Rt.defaultView)!=null?zt:window).innerWidth-tn.clientWidth},after({doc:Rt,d:zt}){let tn=Rt.documentElement,vn=tn.clientWidth-tn.offsetWidth,un=ft-vn;zt.style(tn,"paddingRight",`${un}px`)}}}function At(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Wt(){return/Android/gi.test(window.navigator.userAgent)}function Zt(){return At()||Wt()}function _n(){if(!At())return{};let ft;return{before(){ft=window.pageYOffset},after({doc:Rt,d:zt,meta:tn}){function vn(wn){return tn.containers.flatMap(Un=>Un()).some(Un=>Un.contains(wn))}zt.style(Rt.body,"marginTop",`-${ft}px`),window.scrollTo(0,0);let un=null;zt.addEventListener(Rt,"click",wn=>{if(wn.target instanceof HTMLElement)try{let Un=wn.target.closest("a");if(!Un)return;let{hash:Cr}=new URL(Un.href),Hr=Rt.querySelector(Cr);Hr&&!vn(Hr)&&(un=Hr)}catch(Un){}},!0),zt.addEventListener(Rt,"touchmove",wn=>{wn.target instanceof HTMLElement&&!vn(wn.target)&&wn.preventDefault()},{passive:!1}),zt.add(()=>{window.scrollTo(0,window.pageYOffset+ft),un&&un.isConnected&&(un.scrollIntoView({block:"nearest"}),un=null)})}}}function Kn(){return{before({doc:ft,d:Rt}){Rt.style(ft.documentElement,"overflow","hidden")}}}function wr(ft){let Rt={};for(let zt of ft)Object.assign(Rt,zt(Rt));return Rt}let Nr=jr(()=>new Map,{PUSH(ft,Rt){var zt;let tn=(zt=this.get(ft))!=null?zt:{doc:ft,count:0,d:(0,nn.k)(),meta:new Set};return tn.count++,tn.meta.add(Rt),this.set(ft,tn),this},POP(ft,Rt){let zt=this.get(ft);return zt&&(zt.count--,zt.meta.delete(Rt)),this},SCROLL_PREVENT({doc:ft,d:Rt,meta:zt}){let tn={doc:ft,d:Rt,meta:wr(zt)},vn=[_n(),Dr(),Kn()];vn.forEach(({before:un})=>un==null?void 0:un(tn)),vn.forEach(({after:un})=>un==null?void 0:un(tn))},SCROLL_ALLOW({d:ft}){ft.dispose()},TEARDOWN({doc:ft}){this.delete(ft)}});Nr.subscribe(()=>{let ft=Nr.getSnapshot(),Rt=new Map;for(let[zt]of ft)Rt.set(zt,zt.documentElement.style.overflow);for(let zt of ft.values()){let tn=Rt.get(zt.doc)==="hidden",vn=zt.count!==0;(vn&&!tn||!vn&&tn)&&Nr.dispatch(zt.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",zt),zt.count===0&&Nr.dispatch("TEARDOWN",zt)}});function no(ft,Rt,zt){let tn=dr(Nr),vn=ft?tn.get(ft):void 0,un=vn?vn.count>0:!1;return(0,He.e)(()=>{if(!(!ft||!Rt))return Nr.dispatch("PUSH",ft,zt),()=>Nr.dispatch("POP",ft,zt)},[Rt,ft]),un}let Jr=new Map,$r=new Map;function bo(ft,Rt=!0){(0,He.e)(()=>{var zt;if(!Rt)return;let tn=typeof ft=="function"?ft():ft.current;if(!tn)return;function vn(){var wn;if(!tn)return;let Un=(wn=$r.get(tn))!=null?wn:1;if(Un===1?$r.delete(tn):$r.set(tn,Un-1),Un!==1)return;let Cr=Jr.get(tn);Cr&&(Cr["aria-hidden"]===null?tn.removeAttribute("aria-hidden"):tn.setAttribute("aria-hidden",Cr["aria-hidden"]),tn.inert=Cr.inert,Jr.delete(tn))}let un=(zt=$r.get(tn))!=null?zt:0;return $r.set(tn,un+1),un!==0||(Jr.set(tn,{"aria-hidden":tn.getAttribute("aria-hidden"),inert:tn.inert}),tn.setAttribute("aria-hidden","true"),tn.inert=!0),vn},[ft,Rt])}function mo({defaultContainers:ft=[],portals:Rt}={}){let zt=(0,o.useRef)(null),tn=ie(zt),vn=(0,G.z)(()=>{var un;let wn=[];for(let Un of ft)Un!==null&&(Un instanceof HTMLElement?wn.push(Un):"current"in Un&&Un.current instanceof HTMLElement&&wn.push(Un.current));if(Rt!=null&&Rt.current)for(let Un of Rt.current)wn.push(Un);for(let Un of(un=tn==null?void 0:tn.querySelectorAll("html > *, body > *"))!=null?un:[])Un!==document.body&&Un!==document.head&&Un instanceof HTMLElement&&Un.id!=="headlessui-portal-root"&&(Un.contains(zt.current)||wn.some(Cr=>Un.contains(Cr))||wn.push(Un));return wn});return{resolveContainers:vn,contains:(0,G.z)(un=>vn().some(wn=>wn.contains(un))),mainTreeNodeRef:zt,MainTreeNode:(0,o.useMemo)(()=>function(){return o.default.createElement(p._,{features:p.A.Hidden,ref:zt})},[zt])}}var So=(ft=>(ft[ft.Open=0]="Open",ft[ft.Closed=1]="Closed",ft))(So||{}),go=(ft=>(ft[ft.SetTitleId=0]="SetTitleId",ft))(go||{});let Eo={[0](ft,Rt){return ft.titleId===Rt.id?ft:Vo(ur({},ft),{titleId:Rt.id})}},ro=(0,o.createContext)(null);ro.displayName="DialogContext";function po(ft){let Rt=(0,o.useContext)(ro);if(Rt===null){let zt=new Error(`<${ft} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(zt,po),zt}return Rt}function wo(ft,Rt,zt=()=>[document.body]){no(ft,Rt,tn=>{var vn;return{containers:[...(vn=tn.containers)!=null?vn:[],zt]}})}function ko(ft,Rt){return(0,f.E)(Rt.type,Eo,ft,Rt)}let ei="div",Do=l.AN.RenderStrategy|l.AN.Static;function Uo(ft,Rt){var zt;let tn=(0,E.M)(),fn=ft,{id:vn=`headlessui-dialog-${tn}`,open:un,onClose:wn,initialFocus:Un,__demoMode:Cr=!1}=fn,Hr=hi(fn,["id","open","onClose","initialFocus","__demoMode"]),[Ur,Ar]=(0,o.useState)(0),oo=(0,st.oJ)();un===void 0&&oo!==null&&(un=(oo&st.ZM.Open)===st.ZM.Open);let vo=(0,o.useRef)(null),ti=(0,c.T)(vo,Rt),ni=ie(vo),Co=ft.hasOwnProperty("open")||oo!==null,Fo=ft.hasOwnProperty("onClose");if(!Co&&!Fo)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!Co)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!Fo)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof un!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${un}`);if(typeof wn!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${wn}`);let yo=un?0:1,[Wo,Li]=(0,o.useReducer)(ko,{titleId:null,descriptionId:null,panelRef:(0,o.createRef)()}),ai=(0,G.z)(()=>wn(!1)),mi=(0,G.z)(Bn=>Li({type:0,id:Bn})),Oi=(0,y.H)()?Cr?!1:yo===0:!1,pi=Ur>1,ui=(0,o.useContext)(ro)!==null,[Mi,Bi]=Lt(),{resolveContainers:_i,mainTreeNodeRef:gi,MainTreeNode:vi}=mo({portals:Mi,defaultContainers:[(zt=Wo.panelRef.current)!=null?zt:vo.current]}),si=pi?"parent":"leaf",xo=oo!==null?(oo&st.ZM.Closing)===st.ZM.Closing:!1,ri=(()=>ui||xo?!1:Oi)(),Si=(0,o.useCallback)(()=>{var Bn,Br;return(Br=Array.from((Bn=ni==null?void 0:ni.querySelectorAll("body > *"))!=null?Bn:[]).find(Or=>Or.id==="headlessui-portal-root"?!1:Or.contains(gi.current)&&Or instanceof HTMLElement))!=null?Br:null},[gi]);bo(Si,ri);let Di=(()=>pi?!0:Oi)(),rt=(0,o.useCallback)(()=>{var Bn,Br;return(Br=Array.from((Bn=ni==null?void 0:ni.querySelectorAll("[data-headlessui-portal]"))!=null?Bn:[]).find(Or=>Or.contains(gi.current)&&Or instanceof HTMLElement))!=null?Br:null},[gi]);bo(rt,Di);let Ge=(()=>!(!Oi||pi))();Ae(_i,ai,Ge);let Je=(()=>!(pi||yo!==0))();le(ni==null?void 0:ni.defaultView,"keydown",Bn=>{Je&&(Bn.defaultPrevented||Bn.key===g.R.Escape&&(Bn.preventDefault(),Bn.stopPropagation(),ai()))});let mt=(()=>!(xo||yo!==0||ui))();wo(ni,mt,_i),(0,o.useEffect)(()=>{if(yo!==0||!vo.current)return;let Bn=new ResizeObserver(Br=>{for(let Or of Br){let Lr=Or.target.getBoundingClientRect();Lr.x===0&&Lr.y===0&&Lr.width===0&&Lr.height===0&&ai()}});return Bn.observe(vo.current),()=>Bn.disconnect()},[yo,vo,ai]);let[bt,jt]=(0,je.f)(),Bt=(0,o.useMemo)(()=>[{dialogState:yo,close:ai,setTitleId:mi},Wo],[yo,Wo,ai,mi]),sn=(0,o.useMemo)(()=>({open:yo===0}),[yo]),Cn={ref:ti,id:vn,role:"dialog","aria-modal":yo===0?!0:void 0,"aria-labelledby":Wo.titleId,"aria-describedby":bt};return o.default.createElement(it,{type:"Dialog",enabled:yo===0,element:vo,onUpdate:(0,G.z)((Bn,Br)=>{Br==="Dialog"&&(0,f.E)(Bn,{[Be.Add]:()=>Ar(Or=>Or+1),[Be.Remove]:()=>Ar(Or=>Or-1)})})},o.default.createElement(_t,{force:!0},o.default.createElement(he,null,o.default.createElement(ro.Provider,{value:Bt},o.default.createElement(he.Group,{target:vo},o.default.createElement(_t,{force:!1},o.default.createElement(jt,{slot:sn,name:"Dialog.Description"},o.default.createElement(pe,{initialFocus:Un,containers:_i,features:Oi?(0,f.E)(si,{parent:pe.features.RestoreFocus,leaf:pe.features.All&~pe.features.FocusLock}):pe.features.None},o.default.createElement(Bi,null,(0,l.sY)({ourProps:Cn,theirProps:Hr,slot:sn,defaultTag:ei,features:Do,visible:yo===0,name:"Dialog"}))))))))),o.default.createElement(vi,null))}let mn="div";function Dn(ft,Rt){let zt=(0,E.M)(),Ur=ft,{id:tn=`headlessui-dialog-overlay-${zt}`}=Ur,vn=hi(Ur,["id"]),[{dialogState:un,close:wn}]=po("Dialog.Overlay"),Un=(0,c.T)(Rt),Cr=(0,G.z)(Ar=>{if(Ar.target===Ar.currentTarget){if((0,v.P)(Ar.currentTarget))return Ar.preventDefault();Ar.preventDefault(),Ar.stopPropagation(),wn()}}),Hr=(0,o.useMemo)(()=>({open:un===0}),[un]);return(0,l.sY)({ourProps:{ref:Un,id:tn,"aria-hidden":!0,onClick:Cr},theirProps:vn,slot:Hr,defaultTag:mn,name:"Dialog.Overlay"})}let Wn="div";function Hn(ft,Rt){let zt=(0,E.M)(),Hr=ft,{id:tn=`headlessui-dialog-backdrop-${zt}`}=Hr,vn=hi(Hr,["id"]),[{dialogState:un},wn]=po("Dialog.Backdrop"),Un=(0,c.T)(Rt);(0,o.useEffect)(()=>{if(wn.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[wn.panelRef]);let Cr=(0,o.useMemo)(()=>({open:un===0}),[un]);return o.default.createElement(_t,{force:!0},o.default.createElement(he,null,(0,l.sY)({ourProps:{ref:Un,id:tn,"aria-hidden":!0},theirProps:vn,slot:Cr,defaultTag:Wn,name:"Dialog.Backdrop"})))}let vr="div";function tr(ft,Rt){let zt=(0,E.M)(),Ur=ft,{id:tn=`headlessui-dialog-panel-${zt}`}=Ur,vn=hi(Ur,["id"]),[{dialogState:un},wn]=po("Dialog.Panel"),Un=(0,c.T)(Rt,wn.panelRef),Cr=(0,o.useMemo)(()=>({open:un===0}),[un]),Hr=(0,G.z)(Ar=>{Ar.stopPropagation()});return(0,l.sY)({ourProps:{ref:Un,id:tn,onClick:Hr},theirProps:vn,slot:Cr,defaultTag:vr,name:"Dialog.Panel"})}let pr="h2";function kt(ft,Rt){let zt=(0,E.M)(),Hr=ft,{id:tn=`headlessui-dialog-title-${zt}`}=Hr,vn=hi(Hr,["id"]),[{dialogState:un,setTitleId:wn}]=po("Dialog.Title"),Un=(0,c.T)(Rt);(0,o.useEffect)(()=>(wn(tn),()=>wn(null)),[tn,wn]);let Cr=(0,o.useMemo)(()=>({open:un===0}),[un]);return(0,l.sY)({ourProps:{ref:Un,id:tn},theirProps:vn,slot:Cr,defaultTag:pr,name:"Dialog.Title"})}let Vt=(0,l.yV)(Uo),en=(0,l.yV)(Hn),dn=(0,l.yV)(tr),Nn=(0,l.yV)(Dn),An=(0,l.yV)(kt),Rn=Object.assign(Vt,{Backdrop:en,Panel:dn,Overlay:Nn,Title:An,Description:je.d})},61363:(z,u,e)=>{"use strict";e.d(u,{R:()=>o});var o=(f=>(f.Space=" ",f.Enter="Enter",f.Escape="Escape",f.Backspace="Backspace",f.Delete="Delete",f.ArrowLeft="ArrowLeft",f.ArrowUp="ArrowUp",f.ArrowRight="ArrowRight",f.ArrowDown="ArrowDown",f.Home="Home",f.End="End",f.PageUp="PageUp",f.PageDown="PageDown",f.Tab="Tab",f))(o||{})},5285:(z,u,e)=>{"use strict";e.d(u,{u:()=>ae});var o=e(98661),f=e(12351),l=e(16567),c=e(32984),g=e(14879),v=e(16723),E=e(3855),y=e(82180),p=e(23784);function O(se){let be={called:!1};return(..._e)=>{if(!be.called)return be.called=!0,se(..._e)}}var S=e(9362);function x(se,...be){se&&be.length>0&&se.classList.add(...be)}function T(se,...be){se&&be.length>0&&se.classList.remove(...be)}function _(se,be){let _e=(0,S.k)();if(!se)return _e.dispose;let{transitionDuration:pe,transitionDelay:me}=getComputedStyle(se),[Te,ve]=[pe,me].map(Le=>{let[Ne=0]=Le.split(",").filter(Boolean).map(He=>He.includes("ms")?parseFloat(He):parseFloat(He)*1e3).sort((He,ze)=>ze-He);return Ne}),ce=Te+ve;if(ce!==0){_e.group(Ne=>{Ne.setTimeout(()=>{be(),Ne.dispose()},ce),Ne.addEventListener(se,"transitionrun",He=>{He.target===He.currentTarget&&Ne.dispose()})});let Le=_e.addEventListener(se,"transitionend",Ne=>{Ne.target===Ne.currentTarget&&(be(),Le())})}else be();return _e.add(()=>be()),_e.dispose}function d(se,be,_e,pe){let me=_e?"enter":"leave",Te=(0,S.k)(),ve=pe!==void 0?O(pe):()=>{};me==="enter"&&(se.removeAttribute("hidden"),se.style.display="");let ce=(0,c.E)(me,{enter:()=>be.enter,leave:()=>be.leave}),Le=(0,c.E)(me,{enter:()=>be.enterTo,leave:()=>be.leaveTo}),Ne=(0,c.E)(me,{enter:()=>be.enterFrom,leave:()=>be.leaveFrom});return T(se,...be.enter,...be.enterTo,...be.enterFrom,...be.leave,...be.leaveFrom,...be.leaveTo,...be.entered),x(se,...ce,...Ne),Te.nextFrame(()=>{T(se,...Ne),x(se,...Le),_(se,()=>(T(se,...ce),x(se,...be.entered),ve()))}),Te.dispose}var s=e(94192);function w({container:se,direction:be,classes:_e,onStart:pe,onStop:me}){let Te=(0,g.t)(),ve=(0,s.G)(),ce=(0,E.E)(be);(0,v.e)(()=>{let Le=(0,S.k)();ve.add(Le.dispose);let Ne=se.current;if(Ne&&ce.current!=="idle"&&Te.current)return Le.dispose(),pe.current(ce.current),Le.add(d(Ne,_e.current,ce.current==="enter",()=>{Le.dispose(),me.current(ce.current)})),Le.dispose},[be])}var P=e(73781),I=e(44067);function D(se=0){let[be,_e]=(0,o.useState)(se),pe=(0,g.t)(),me=(0,o.useCallback)(Le=>{pe.current&&_e(Ne=>Ne|Le)},[be,pe]),Te=(0,o.useCallback)(Le=>!!(be&Le),[be]),ve=(0,o.useCallback)(Le=>{pe.current&&_e(Ne=>Ne&~Le)},[_e,pe]),ce=(0,o.useCallback)(Le=>{pe.current&&_e(Ne=>Ne^Le)},[_e]);return{flags:be,addFlag:me,hasFlag:Te,removeFlag:ve,toggleFlag:ce}}function N(se=""){return se.split(" ").filter(be=>be.trim().length>1)}let C=(0,o.createContext)(null);C.displayName="TransitionContext";var A=(se=>(se.Visible="visible",se.Hidden="hidden",se))(A||{});function L(){let se=(0,o.useContext)(C);if(se===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return se}function U(){let se=(0,o.useContext)(W);if(se===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return se}let W=(0,o.createContext)(null);W.displayName="NestingContext";function G(se){return"children"in se?G(se.children):se.current.filter(({el:be})=>be.current!==null).filter(({state:be})=>be==="visible").length>0}function $(se,be){let _e=(0,E.E)(se),pe=(0,o.useRef)([]),me=(0,g.t)(),Te=(0,s.G)(),ve=(0,P.z)((_t,we=f.l4.Hidden)=>{let We=pe.current.findIndex(({el:Ie})=>Ie===_t);We!==-1&&((0,c.E)(we,{[f.l4.Unmount](){pe.current.splice(We,1)},[f.l4.Hidden](){pe.current[We].state="hidden"}}),Te.microTask(()=>{var Ie;!G(pe)&&me.current&&((Ie=_e.current)==null||Ie.call(_e))}))}),ce=(0,P.z)(_t=>{let we=pe.current.find(({el:We})=>We===_t);return we?we.state!=="visible"&&(we.state="visible"):pe.current.push({el:_t,state:"visible"}),()=>ve(_t,f.l4.Unmount)}),Le=(0,o.useRef)([]),Ne=(0,o.useRef)(Promise.resolve()),He=(0,o.useRef)({enter:[],leave:[],idle:[]}),ze=(0,P.z)((_t,we,We)=>{Le.current.splice(0),be&&(be.chains.current[we]=be.chains.current[we].filter(([Ie])=>Ie!==_t)),be==null||be.chains.current[we].push([_t,new Promise(Ie=>{Le.current.push(Ie)})]),be==null||be.chains.current[we].push([_t,new Promise(Ie=>{Promise.all(He.current[we].map(([tt,et])=>et)).then(()=>Ie())})]),we==="enter"?Ne.current=Ne.current.then(()=>be==null?void 0:be.wait.current).then(()=>We(we)):We(we)}),Xe=(0,P.z)((_t,we,We)=>{Promise.all(He.current[we].splice(0).map(([Ie,tt])=>tt)).then(()=>{var Ie;(Ie=Le.current.shift())==null||Ie()}).then(()=>We(we))});return(0,o.useMemo)(()=>({children:pe,register:ce,unregister:ve,onStart:ze,onStop:Xe,wait:Ne,chains:He}),[ce,ve,pe,ze,Xe,He,Ne])}function q(){}let J=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function R(se){var be;let _e={};for(let pe of J)_e[pe]=(be=se[pe])!=null?be:q;return _e}function j(se){let be=(0,o.useRef)(R(se));return(0,o.useEffect)(()=>{be.current=R(se)},[se]),be}let ie="div",le=f.AN.RenderStrategy;function ye(se,be){let Me=se,{beforeEnter:_e,afterEnter:pe,beforeLeave:me,afterLeave:Te,enter:ve,enterFrom:ce,enterTo:Le,entered:Ne,leave:He,leaveFrom:ze,leaveTo:Xe}=Me,_t=hi(Me,["beforeEnter","afterEnter","beforeLeave","afterLeave","enter","enterFrom","enterTo","entered","leave","leaveFrom","leaveTo"]),we=(0,o.useRef)(null),We=(0,p.T)(we,be),Ie=_t.unmount?f.l4.Unmount:f.l4.Hidden,{show:tt,appear:et,initial:ht}=L(),[vt,Lt]=(0,o.useState)(tt?"visible":"hidden"),$t=U(),{register:yt,unregister:he}=$t,je=(0,o.useRef)(null);(0,o.useEffect)(()=>yt(we),[yt,we]),(0,o.useEffect)(()=>{if(Ie===f.l4.Hidden&&we.current){if(tt&&vt!=="visible"){Lt("visible");return}return(0,c.E)(vt,{hidden:()=>he(we),visible:()=>yt(we)})}},[vt,we,yt,he,tt,Ie]);let st=(0,E.E)({enter:N(ve),enterFrom:N(ce),enterTo:N(Le),entered:N(Ne),leave:N(He),leaveFrom:N(ze),leaveTo:N(Xe)}),De=j({beforeEnter:_e,afterEnter:pe,beforeLeave:me,afterLeave:Te}),Be=(0,y.H)();(0,o.useEffect)(()=>{if(Be&&vt==="visible"&&we.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[we,vt,Be]);let Ke=ht&&!et,it=(()=>!Be||Ke||je.current===tt?"idle":tt?"enter":"leave")(),Qe=D(0),Ae=(0,P.z)($e=>(0,c.E)($e,{enter:()=>{Qe.addFlag(l.ZM.Opening),De.current.beforeEnter()},leave:()=>{Qe.addFlag(l.ZM.Closing),De.current.beforeLeave()},idle:()=>{}})),H=(0,P.z)($e=>(0,c.E)($e,{enter:()=>{Qe.removeFlag(l.ZM.Opening),De.current.afterEnter()},leave:()=>{Qe.removeFlag(l.ZM.Closing),De.current.afterLeave()},idle:()=>{}})),ee=$(()=>{Lt("hidden"),he(we)},$t);w({container:we,classes:st,direction:it,onStart:(0,E.E)($e=>{ee.onStart(we,$e,Ae)}),onStop:(0,E.E)($e=>{ee.onStop(we,$e,H),$e==="leave"&&!G(ee)&&(Lt("hidden"),he(we))})}),(0,o.useEffect)(()=>{Ke&&(Ie===f.l4.Hidden?je.current=null:je.current=tt)},[tt,Ke,vt]);let de=_t,Ee={ref:We};return et&&tt&&ht&&(de=Vo(ur({},de),{className:(0,I.A)(_t.className,...st.current.enter,...st.current.enterFrom)})),o.default.createElement(W.Provider,{value:ee},o.default.createElement(l.up,{value:(0,c.E)(vt,{visible:l.ZM.Open,hidden:l.ZM.Closed})|Qe.flags},(0,f.sY)({ourProps:Ee,theirProps:de,defaultTag:ie,features:le,visible:vt==="visible",name:"Transition.Child"})))}function ue(se,be){let ht=se,{show:_e,appear:pe=!1,unmount:me}=ht,Te=hi(ht,["show","appear","unmount"]),ve=(0,o.useRef)(null),ce=(0,p.T)(ve,be);(0,y.H)();let Le=(0,l.oJ)();if(_e===void 0&&Le!==null&&(_e=(Le&l.ZM.Open)===l.ZM.Open),![!0,!1].includes(_e))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[Ne,He]=(0,o.useState)(_e?"visible":"hidden"),ze=$(()=>{He("hidden")}),[Xe,_t]=(0,o.useState)(!0),we=(0,o.useRef)([_e]);(0,v.e)(()=>{Xe!==!1&&we.current[we.current.length-1]!==_e&&(we.current.push(_e),_t(!1))},[we,_e]);let We=(0,o.useMemo)(()=>({show:_e,appear:pe,initial:Xe}),[_e,pe,Xe]);(0,o.useEffect)(()=>{if(_e)He("visible");else if(!G(ze))He("hidden");else{let vt=ve.current;if(!vt)return;let Lt=vt.getBoundingClientRect();Lt.x===0&&Lt.y===0&&Lt.width===0&&Lt.height===0&&He("hidden")}},[_e,ze]);let Ie={unmount:me},tt=(0,P.z)(()=>{var vt;Xe&&_t(!1),(vt=se.beforeEnter)==null||vt.call(se)}),et=(0,P.z)(()=>{var vt;Xe&&_t(!1),(vt=se.beforeLeave)==null||vt.call(se)});return o.default.createElement(W.Provider,{value:ze},o.default.createElement(C.Provider,{value:We},(0,f.sY)({ourProps:Vo(ur({},Ie),{as:o.Fragment,children:o.default.createElement(Z,Vo(ur(ur({ref:ce},Ie),Te),{beforeEnter:tt,beforeLeave:et}))}),theirProps:{},defaultTag:o.Fragment,features:le,visible:Ne==="visible",name:"Transition"})))}function oe(se,be){let _e=(0,o.useContext)(C)!==null,pe=(0,l.oJ)()!==null;return o.default.createElement(o.default.Fragment,null,!_e&&pe?o.default.createElement(te,ur({ref:be},se)):o.default.createElement(Z,ur({ref:be},se)))}let te=(0,f.yV)(ue),Z=(0,f.yV)(ye),re=(0,f.yV)(oe),ae=Object.assign(te,{Child:re,Root:te})},94192:(z,u,e)=>{"use strict";e.d(u,{G:()=>l});var o=e(98661),f=e(9362);function l(){let[c]=(0,o.useState)(f.k);return(0,o.useEffect)(()=>()=>c.dispose(),[c]),c}},73781:(z,u,e)=>{"use strict";e.d(u,{z:()=>l});var o=e(98661),f=e(3855);let l=function(c){let g=(0,f.E)(c);return o.default.useCallback((...v)=>g.current(...v),[g])}},19946:(z,u,e)=>{"use strict";e.d(u,{M:()=>v});var o=e(98661),f=e(16723),l=e(82180),c=e(77896),g;let v=(g=o.default.useId)!=null?g:function(){let E=(0,l.H)(),[y,p]=o.default.useState(E?()=>c.O.nextId():null);return(0,f.e)(()=>{y===null&&p(c.O.nextId())},[y]),y!=null?""+y:void 0}},14879:(z,u,e)=>{"use strict";e.d(u,{t:()=>l});var o=e(98661),f=e(16723);function l(){let c=(0,o.useRef)(!1);return(0,f.e)(()=>(c.current=!0,()=>{c.current=!1}),[]),c}},16723:(z,u,e)=>{"use strict";e.d(u,{e:()=>l});var o=e(98661),f=e(77896);let l=(c,g)=>{f.O.isServer?(0,o.useEffect)(c,g):(0,o.useLayoutEffect)(c,g)}},3855:(z,u,e)=>{"use strict";e.d(u,{E:()=>l});var o=e(98661),f=e(16723);function l(c){let g=(0,o.useRef)(c);return(0,f.e)(()=>{g.current=c},[c]),g}},82180:(z,u,e)=>{"use strict";e.d(u,{H:()=>l});var o=e(98661),f=e(77896);function l(){let[c,g]=(0,o.useState)(f.O.isHandoffComplete);return c&&f.O.isHandoffComplete===!1&&g(!1),(0,o.useEffect)(()=>{c!==!0&&g(!0)},[c]),(0,o.useEffect)(()=>f.O.handoff(),[]),c}},23784:(z,u,e)=>{"use strict";e.d(u,{T:()=>g,h:()=>c});var o=e(98661),f=e(73781);let l=Symbol();function c(v,E=!0){return Object.assign(v,{[l]:E})}function g(...v){let E=(0,o.useRef)(v);(0,o.useEffect)(()=>{E.current=v},[v]);let y=(0,f.z)(p=>{for(let O of E.current)O!=null&&(typeof O=="function"?O(p):O.current=p)});return v.every(p=>p==null||(p==null?void 0:p[l]))?void 0:y}},46045:(z,u,e)=>{"use strict";e.d(u,{A:()=>l,_:()=>g});var o=e(12351);let f="div";var l=(v=>(v[v.None=1]="None",v[v.Focusable=2]="Focusable",v[v.Hidden=4]="Hidden",v))(l||{});function c(v,E){let S=v,{features:y=1}=S,p=hi(S,["features"]),O={ref:E,"aria-hidden":(y&2)===2?!0:void 0,style:ur({position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},(y&4)===4&&(y&2)!==2&&{display:"none"})};return(0,o.sY)({ourProps:O,theirProps:p,slot:{},defaultTag:f,name:"Hidden"})}let g=(0,o.yV)(c)},16567:(z,u,e)=>{"use strict";e.d(u,{ZM:()=>l,oJ:()=>c,up:()=>g});var o=e(98661);let f=(0,o.createContext)(null);f.displayName="OpenClosedContext";var l=(v=>(v[v.Open=1]="Open",v[v.Closed=2]="Closed",v[v.Closing=4]="Closing",v[v.Opening=8]="Opening",v))(l||{});function c(){return(0,o.useContext)(f)}function g({value:v,children:E}){return o.default.createElement(f.Provider,{value:v},E)}},64103:(z,u,e)=>{"use strict";e.d(u,{P:()=>o});function o(l){let c=l.parentElement,g=null;for(;c&&!(c instanceof HTMLFieldSetElement);)c instanceof HTMLLegendElement&&(g=c),c=c.parentElement;let v=(c==null?void 0:c.getAttribute("disabled"))==="";return v&&f(g)?!1:v}function f(l){if(!l)return!1;let c=l.previousElementSibling;for(;c!==null;){if(c instanceof HTMLLegendElement)return!1;c=c.previousElementSibling}return!0}},44067:(z,u,e)=>{"use strict";e.d(u,{A:()=>o});function o(...f){return f.filter(Boolean).join(" ")}},9362:(z,u,e)=>{"use strict";e.d(u,{k:()=>f});var o=e(81021);function f(){let l=[],c={addEventListener(g,v,E,y){return g.addEventListener(v,E,y),c.add(()=>g.removeEventListener(v,E,y))},requestAnimationFrame(...g){let v=requestAnimationFrame(...g);return c.add(()=>cancelAnimationFrame(v))},nextFrame(...g){return c.requestAnimationFrame(()=>c.requestAnimationFrame(...g))},setTimeout(...g){let v=setTimeout(...g);return c.add(()=>clearTimeout(v))},microTask(...g){let v={current:!0};return(0,o.Y)(()=>{v.current&&g[0]()}),c.add(()=>{v.current=!1})},style(g,v,E){let y=g.style.getPropertyValue(v);return Object.assign(g.style,{[v]:E}),this.add(()=>{Object.assign(g.style,{[v]:y})})},group(g){let v=f();return g(v),this.add(()=>v.dispose())},add(g){return l.push(g),()=>{let v=l.indexOf(g);if(v>=0)for(let E of l.splice(v,1))E()}},dispose(){for(let g of l.splice(0))g()}};return c}},77896:(z,u,e)=>{"use strict";e.d(u,{O:()=>g});var o=Object.defineProperty,f=(v,E,y)=>E in v?o(v,E,{enumerable:!0,configurable:!0,writable:!0,value:y}):v[E]=y,l=(v,E,y)=>(f(v,typeof E!="symbol"?E+"":E,y),y);class c{constructor(){l(this,"current",this.detect()),l(this,"handoffState","pending"),l(this,"currentId",0)}set(E){this.current!==E&&(this.handoffState="pending",this.currentId=0,this.current=E)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window=="undefined"||typeof document=="undefined"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}}let g=new c},32984:(z,u,e)=>{"use strict";e.d(u,{E:()=>o});function o(f,l,...c){if(f in l){let v=l[f];return typeof v=="function"?v(...c):v}let g=new Error(`Tried to handle "${f}" but there is no handler defined. Only defined handlers are: ${Object.keys(l).map(v=>`"${v}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(g,o),g}},81021:(z,u,e)=>{"use strict";e.d(u,{Y:()=>o});function o(f){typeof queueMicrotask=="function"?queueMicrotask(f):Promise.resolve().then(f).catch(l=>setTimeout(()=>{throw l}))}},12351:(z,u,e)=>{"use strict";e.d(u,{AN:()=>c,l4:()=>g,sY:()=>v,yV:()=>O});var o=e(98661),f=e(44067),l=e(32984),c=(T=>(T[T.None=0]="None",T[T.RenderStrategy=1]="RenderStrategy",T[T.Static=2]="Static",T))(c||{}),g=(T=>(T[T.Unmount=0]="Unmount",T[T.Hidden=1]="Hidden",T))(g||{});function v({ourProps:T,theirProps:_,slot:d,defaultTag:s,features:w,visible:P=!0,name:I}){let D=p(_,T);if(P)return E(D,d,s,I);let N=w!=null?w:0;if(N&2){let C=D,{static:L=!1}=C,U=hi(C,["static"]);if(L)return E(U,d,s,I)}if(N&1){let A=D,{unmount:L=!0}=A,U=hi(A,["unmount"]);return(0,l.E)(L?0:1,{[0](){return null},[1](){return E(Vo(ur({},U),{hidden:!0,style:{display:"none"}}),d,s,I)}})}return E(D,d,s,I)}function E(T,_={},d,s){let L=x(T,["unmount","static"]),{as:w=d,children:P,refName:I="ref"}=L,D=hi(L,["as","children","refName"]),N=T.ref!==void 0?{[I]:T.ref}:{},C=typeof P=="function"?P(_):P;"className"in D&&D.className&&typeof D.className=="function"&&(D.className=D.className(_));let A={};if(_){let U=!1,W=[];for(let[G,$]of Object.entries(_))typeof $=="boolean"&&(U=!0),$===!0&&W.push(G);U&&(A["data-headlessui-state"]=W.join(" "))}if(w===o.Fragment&&Object.keys(S(D)).length>0){if(!(0,o.isValidElement)(C)||Array.isArray(C)&&C.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${s} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(D).map($=>`  - ${$}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map($=>`  - ${$}`).join(`
`)].join(`
`));let U=C.props,W=typeof(U==null?void 0:U.className)=="function"?(...$)=>(0,f.A)(U==null?void 0:U.className(...$),D.className):(0,f.A)(U==null?void 0:U.className,D.className),G=W?{className:W}:{};return(0,o.cloneElement)(C,Object.assign({},p(C.props,S(x(D,["ref"]))),A,N,y(C.ref,N.ref),G))}return(0,o.createElement)(w,Object.assign({},x(D,["ref"]),w!==o.Fragment&&N,w!==o.Fragment&&A),C)}function y(...T){return{ref:T.every(_=>_==null)?void 0:_=>{for(let d of T)d!=null&&(typeof d=="function"?d(_):d.current=_)}}}function p(...T){var _;if(T.length===0)return{};if(T.length===1)return T[0];let d={},s={};for(let w of T)for(let P in w)P.startsWith("on")&&typeof w[P]=="function"?((_=s[P])!=null||(s[P]=[]),s[P].push(w[P])):d[P]=w[P];if(d.disabled||d["aria-disabled"])return Object.assign(d,Object.fromEntries(Object.keys(s).map(w=>[w,void 0])));for(let w in s)Object.assign(d,{[w](P,...I){let D=s[w];for(let N of D){if((P instanceof Event||(P==null?void 0:P.nativeEvent)instanceof Event)&&P.defaultPrevented)return;N(P,...I)}}});return d}function O(T){var _;return Object.assign((0,o.forwardRef)(T),{displayName:(_=T.displayName)!=null?_:T.name})}function S(T){let _=Object.assign({},T);for(let d in _)_[d]===void 0&&delete _[d];return _}function x(T,_=[]){let d=Object.assign({},T);for(let s of _)s in d&&delete d[s];return d}},5865:(z,u,e)=>{"use strict";e.d(u,{AW:()=>ei,Cf:()=>Di,DK:()=>sn,DS:()=>Je,EG:()=>Rt,Jo:()=>$r,K9:()=>Cn,ML:()=>Si,NB:()=>jt,Ov:()=>fn,P1:()=>d,QC:()=>vr,S0:()=>mt,XP:()=>bo,_4:()=>Uo,b5:()=>go,hj:()=>se,pr:()=>zt,tI:()=>pr,u9:()=>Dn,vc:()=>bt,xh:()=>yt,zK:()=>Ge});var o=e(2376),f=e(84348),l=e(60440),c=e(87823),g=e(16560),v=e(25804),E=e(53833);function y(Fe){const{state:Oe,transaction:ke}=Fe;let{selection:qe}=ke,{doc:Pt}=ke,{storedMarks:Ct}=ke;return Vo(ur({},Oe),{apply:Oe.apply.bind(Oe),applyTransaction:Oe.applyTransaction.bind(Oe),filterTransaction:Oe.filterTransaction,plugins:Oe.plugins,schema:Oe.schema,reconfigure:Oe.reconfigure.bind(Oe),toJSON:Oe.toJSON.bind(Oe),get storedMarks(){return Ct},get selection(){return qe},get doc(){return Pt},get tr(){return qe=ke.selection,Pt=ke.doc,Ct=ke.storedMarks,ke}})}class p{constructor(Oe){this.editor=Oe.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=Oe.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:Oe,editor:ke,state:qe}=this,{view:Pt}=ke,{tr:Ct}=qe,Ot=this.buildProps(Ct);return Object.fromEntries(Object.entries(Oe).map(([Dt,Xt])=>[Dt,(...Jt)=>{const Qt=Xt(...Jt)(Ot);return!Ct.getMeta("preventDispatch")&&!this.hasCustomState&&Pt.dispatch(Ct),Qt}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(Oe,ke=!0){const{rawCommands:qe,editor:Pt,state:Ct}=this,{view:Ot}=Pt,Dt=[],Xt=!!Oe,Yt=Oe||Ct.tr,Jt=()=>(!Xt&&ke&&!Yt.getMeta("preventDispatch")&&!this.hasCustomState&&Ot.dispatch(Yt),Dt.every(on=>on===!0)),Qt=Vo(ur({},Object.fromEntries(Object.entries(qe).map(([on,Sn])=>[on,(...sr)=>{const Sr=this.buildProps(Yt,ke),yr=Sn(...sr)(Sr);return Dt.push(yr),Qt}]))),{run:Jt});return Qt}createCan(Oe){const{rawCommands:ke,state:qe}=this,Pt=!1,Ct=Oe||qe.tr,Ot=this.buildProps(Ct,Pt),Dt=Object.fromEntries(Object.entries(ke).map(([Xt,Yt])=>[Xt,(...Jt)=>Yt(...Jt)(Vo(ur({},Ot),{dispatch:void 0}))]));return Vo(ur({},Dt),{chain:()=>this.createChain(Ct,Pt)})}buildProps(Oe,ke=!0){const{rawCommands:qe,editor:Pt,state:Ct}=this,{view:Ot}=Pt,Dt={tr:Oe,editor:Pt,view:Ot,state:y({state:Ct,transaction:Oe}),dispatch:ke?()=>{}:void 0,chain:()=>this.createChain(Oe,ke),can:()=>this.createCan(Oe),get commands(){return Object.fromEntries(Object.entries(qe).map(([Xt,Yt])=>[Xt,(...Jt)=>Yt(...Jt)(Dt)]))}};return Dt}}class O{constructor(){this.callbacks={}}on(Oe,ke){return this.callbacks[Oe]||(this.callbacks[Oe]=[]),this.callbacks[Oe].push(ke),this}emit(Oe,...ke){const qe=this.callbacks[Oe];return qe&&qe.forEach(Pt=>Pt.apply(this,ke)),this}off(Oe,ke){const qe=this.callbacks[Oe];return qe&&(ke?this.callbacks[Oe]=qe.filter(Pt=>Pt!==ke):delete this.callbacks[Oe]),this}removeAllListeners(){this.callbacks={}}}function S(Fe,Oe,ke){return Fe.config[Oe]===void 0&&Fe.parent?S(Fe.parent,Oe,ke):typeof Fe.config[Oe]=="function"?Fe.config[Oe].bind(Vo(ur({},ke),{parent:Fe.parent?S(Fe.parent,Oe,ke):null})):Fe.config[Oe]}function x(Fe){const Oe=Fe.filter(Pt=>Pt.type==="extension"),ke=Fe.filter(Pt=>Pt.type==="node"),qe=Fe.filter(Pt=>Pt.type==="mark");return{baseExtensions:Oe,nodeExtensions:ke,markExtensions:qe}}function T(Fe){const Oe=[],{nodeExtensions:ke,markExtensions:qe}=x(Fe),Pt=[...ke,...qe],Ct={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return Fe.forEach(Ot=>{const Dt={name:Ot.name,options:Ot.options,storage:Ot.storage},Xt=S(Ot,"addGlobalAttributes",Dt);if(!Xt)return;Xt().forEach(Jt=>{Jt.types.forEach(Qt=>{Object.entries(Jt.attributes).forEach(([on,Sn])=>{Oe.push({type:Qt,name:on,attribute:ur(ur({},Ct),Sn)})})})})}),Pt.forEach(Ot=>{const Dt={name:Ot.name,options:Ot.options,storage:Ot.storage},Xt=S(Ot,"addAttributes",Dt);if(!Xt)return;const Yt=Xt();Object.entries(Yt).forEach(([Jt,Qt])=>{const on=ur(ur({},Ct),Qt);typeof(on==null?void 0:on.default)=="function"&&(on.default=on.default()),on!=null&&on.isRequired&&(on==null?void 0:on.default)===void 0&&delete on.default,Oe.push({type:Ot.name,name:Jt,attribute:on})})}),Oe}function _(Fe,Oe){if(typeof Fe=="string"){if(!Oe.nodes[Fe])throw Error(`There is no node type named '${Fe}'. Maybe you forgot to add the extension?`);return Oe.nodes[Fe]}return Fe}function d(...Fe){return Fe.filter(Oe=>!!Oe).reduce((Oe,ke)=>{const qe=ur({},Oe);return Object.entries(ke).forEach(([Pt,Ct])=>{if(!qe[Pt]){qe[Pt]=Ct;return}if(Pt==="class"){const Dt=Ct?Ct.split(" "):[],Xt=qe[Pt]?qe[Pt].split(" "):[],Yt=Dt.filter(Jt=>!Xt.includes(Jt));qe[Pt]=[...Xt,...Yt].join(" ")}else Pt==="style"?qe[Pt]=[qe[Pt],Ct].join("; "):qe[Pt]=Ct}),qe},{})}function s(Fe,Oe){return Oe.filter(ke=>ke.attribute.rendered).map(ke=>ke.attribute.renderHTML?ke.attribute.renderHTML(Fe.attrs)||{}:{[ke.name]:Fe.attrs[ke.name]}).reduce((ke,qe)=>d(ke,qe),{})}function w(Fe){return typeof Fe=="function"}function P(Fe,Oe=void 0,...ke){return w(Fe)?Oe?Fe.bind(Oe)(...ke):Fe(...ke):Fe}function I(Fe={}){return Object.keys(Fe).length===0&&Fe.constructor===Object}function D(Fe){return typeof Fe!="string"?Fe:Fe.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(Fe):Fe==="true"?!0:Fe==="false"?!1:Fe}function N(Fe,Oe){return Fe.style?Fe:Vo(ur({},Fe),{getAttrs:ke=>{const qe=Fe.getAttrs?Fe.getAttrs(ke):Fe.attrs;if(qe===!1)return!1;const Pt=Oe.reduce((Ct,Ot)=>{const Dt=Ot.attribute.parseHTML?Ot.attribute.parseHTML(ke):D(ke.getAttribute(Ot.name));return Dt==null?Ct:Vo(ur({},Ct),{[Ot.name]:Dt})},{});return ur(ur({},qe),Pt)}})}function C(Fe){return Object.fromEntries(Object.entries(Fe).filter(([Oe,ke])=>Oe==="attrs"&&I(ke)?!1:ke!=null))}function A(Fe,Oe){var ke;const qe=T(Fe),{nodeExtensions:Pt,markExtensions:Ct}=x(Fe),Ot=(ke=Pt.find(Yt=>S(Yt,"topNode")))===null||ke===void 0?void 0:ke.name,Dt=Object.fromEntries(Pt.map(Yt=>{const Jt=qe.filter(yr=>yr.type===Yt.name),Qt={name:Yt.name,options:Yt.options,storage:Yt.storage,editor:Oe},on=Fe.reduce((yr,qr)=>{const uo=S(qr,"extendNodeSchema",Qt);return ur(ur({},yr),uo?uo(Yt):{})},{}),Sn=C(Vo(ur({},on),{content:P(S(Yt,"content",Qt)),marks:P(S(Yt,"marks",Qt)),group:P(S(Yt,"group",Qt)),inline:P(S(Yt,"inline",Qt)),atom:P(S(Yt,"atom",Qt)),selectable:P(S(Yt,"selectable",Qt)),draggable:P(S(Yt,"draggable",Qt)),code:P(S(Yt,"code",Qt)),defining:P(S(Yt,"defining",Qt)),isolating:P(S(Yt,"isolating",Qt)),attrs:Object.fromEntries(Jt.map(yr=>{var qr;return[yr.name,{default:(qr=yr==null?void 0:yr.attribute)===null||qr===void 0?void 0:qr.default}]}))})),Zn=P(S(Yt,"parseHTML",Qt));Zn&&(Sn.parseDOM=Zn.map(yr=>N(yr,Jt)));const sr=S(Yt,"renderHTML",Qt);sr&&(Sn.toDOM=yr=>sr({node:yr,HTMLAttributes:s(yr,Jt)}));const Sr=S(Yt,"renderText",Qt);return Sr&&(Sn.toText=Sr),[Yt.name,Sn]})),Xt=Object.fromEntries(Ct.map(Yt=>{const Jt=qe.filter(Sr=>Sr.type===Yt.name),Qt={name:Yt.name,options:Yt.options,storage:Yt.storage,editor:Oe},on=Fe.reduce((Sr,yr)=>{const qr=S(yr,"extendMarkSchema",Qt);return ur(ur({},Sr),qr?qr(Yt):{})},{}),Sn=C(Vo(ur({},on),{inclusive:P(S(Yt,"inclusive",Qt)),excludes:P(S(Yt,"excludes",Qt)),group:P(S(Yt,"group",Qt)),spanning:P(S(Yt,"spanning",Qt)),code:P(S(Yt,"code",Qt)),attrs:Object.fromEntries(Jt.map(Sr=>{var yr;return[Sr.name,{default:(yr=Sr==null?void 0:Sr.attribute)===null||yr===void 0?void 0:yr.default}]}))})),Zn=P(S(Yt,"parseHTML",Qt));Zn&&(Sn.parseDOM=Zn.map(Sr=>N(Sr,Jt)));const sr=S(Yt,"renderHTML",Qt);return sr&&(Sn.toDOM=Sr=>sr({mark:Sr,HTMLAttributes:s(Sr,Jt)})),[Yt.name,Sn]}));return new c.V_({topNode:Ot,nodes:Dt,marks:Xt})}function L(Fe,Oe){return Oe.nodes[Fe]||Oe.marks[Fe]||null}function U(Fe,Oe){return Array.isArray(Oe)?Oe.some(ke=>(typeof ke=="string"?ke:ke.name)===Fe.name):Oe}const W=(Fe,Oe=500)=>{let ke="";const qe=Fe.parentOffset;return Fe.parent.nodesBetween(Math.max(0,qe-Oe),qe,(Pt,Ct,Ot,Dt)=>{var Xt,Yt;const Jt=((Yt=(Xt=Pt.type.spec).toText)===null||Yt===void 0?void 0:Yt.call(Xt,{node:Pt,pos:Ct,parent:Ot,index:Dt}))||Pt.textContent||"%leaf%";ke+=Jt.slice(0,Math.max(0,qe-Ct))}),ke};function G(Fe){return Object.prototype.toString.call(Fe)==="[object RegExp]"}class ${constructor(Oe){this.find=Oe.find,this.handler=Oe.handler}}const q=(Fe,Oe)=>{if(G(Oe))return Oe.exec(Fe);const ke=Oe(Fe);if(!ke)return null;const qe=[ke.text];return qe.index=ke.index,qe.input=Fe,qe.data=ke.data,ke.replaceWith&&(ke.text.includes(ke.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),qe.push(ke.replaceWith)),qe};function J(Fe){var Oe;const{editor:ke,from:qe,to:Pt,text:Ct,rules:Ot,plugin:Dt}=Fe,{view:Xt}=ke;if(Xt.composing)return!1;const Yt=Xt.state.doc.resolve(qe);if(Yt.parent.type.spec.code||!((Oe=Yt.nodeBefore||Yt.nodeAfter)===null||Oe===void 0)&&Oe.marks.find(on=>on.type.spec.code))return!1;let Jt=!1;const Qt=W(Yt)+Ct;return Ot.forEach(on=>{if(Jt)return;const Sn=q(Qt,on.find);if(!Sn)return;const Zn=Xt.state.tr,sr=y({state:Xt.state,transaction:Zn}),Sr={from:qe-(Sn[0].length-Ct.length),to:Pt},{commands:yr,chain:qr,can:uo}=new p({editor:ke,state:sr});on.handler({state:sr,range:Sr,match:Sn,commands:yr,chain:qr,can:uo})===null||!Zn.steps.length||(Zn.setMeta(Dt,{transform:Zn,from:qe,to:Pt,text:Ct}),Xt.dispatch(Zn),Jt=!0)}),Jt}function R(Fe){const{editor:Oe,rules:ke}=Fe,qe=new o.Sy({state:{init(){return null},apply(Pt,Ct){const Ot=Pt.getMeta(qe);return Ot||(Pt.selectionSet||Pt.docChanged?null:Ct)}},props:{handleTextInput(Pt,Ct,Ot,Dt){return J({editor:Oe,from:Ct,to:Ot,text:Dt,rules:ke,plugin:qe})},handleDOMEvents:{compositionend:Pt=>(setTimeout(()=>{const{$cursor:Ct}=Pt.state.selection;Ct&&J({editor:Oe,from:Ct.pos,to:Ct.pos,text:"",rules:ke,plugin:qe})}),!1)},handleKeyDown(Pt,Ct){if(Ct.key!=="Enter")return!1;const{$cursor:Ot}=Pt.state.selection;return Ot?J({editor:Oe,from:Ot.pos,to:Ot.pos,text:`
`,rules:ke,plugin:qe}):!1}},isInputRules:!0});return qe}function j(Fe){return typeof Fe=="number"}class ie{constructor(Oe){this.find=Oe.find,this.handler=Oe.handler}}const le=(Fe,Oe)=>{if(G(Oe))return[...Fe.matchAll(Oe)];const ke=Oe(Fe);return ke?ke.map(qe=>{const Pt=[qe.text];return Pt.index=qe.index,Pt.input=Fe,Pt.data=qe.data,qe.replaceWith&&(qe.text.includes(qe.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),Pt.push(qe.replaceWith)),Pt}):[]};function ye(Fe){const{editor:Oe,state:ke,from:qe,to:Pt,rule:Ct}=Fe,{commands:Ot,chain:Dt,can:Xt}=new p({editor:Oe,state:ke}),Yt=[];return ke.doc.nodesBetween(qe,Pt,(Qt,on)=>{if(!Qt.isTextblock||Qt.type.spec.code)return;const Sn=Math.max(qe,on),Zn=Math.min(Pt,on+Qt.content.size),sr=Qt.textBetween(Sn-on,Zn-on,void 0,"\uFFFC");le(sr,Ct.find).forEach(yr=>{if(yr.index===void 0)return;const qr=Sn+yr.index+1,uo=qr+yr[0].length,ho={from:ke.tr.mapping.map(qr),to:ke.tr.mapping.map(uo)},Ao=Ct.handler({state:ke,range:ho,match:yr,commands:Ot,chain:Dt,can:Xt});Yt.push(Ao)})}),Yt.every(Qt=>Qt!==null)}function ue(Fe){const{editor:Oe,rules:ke}=Fe;let qe=null,Pt=!1,Ct=!1;return ke.map(Dt=>new o.Sy({view(Xt){const Yt=Jt=>{var Qt;qe=!((Qt=Xt.dom.parentElement)===null||Qt===void 0)&&Qt.contains(Jt.target)?Xt.dom.parentElement:null};return window.addEventListener("dragstart",Yt),{destroy(){window.removeEventListener("dragstart",Yt)}}},props:{handleDOMEvents:{drop:Xt=>(Ct=qe===Xt.dom.parentElement,!1),paste:(Xt,Yt)=>{var Jt;const Qt=(Jt=Yt.clipboardData)===null||Jt===void 0?void 0:Jt.getData("text/html");return Pt=!!(Qt!=null&&Qt.includes("data-pm-slice")),!1}}},appendTransaction:(Xt,Yt,Jt)=>{const Qt=Xt[0],on=Qt.getMeta("uiEvent")==="paste"&&!Pt,Sn=Qt.getMeta("uiEvent")==="drop"&&!Ct;if(!on&&!Sn)return;const Zn=Yt.doc.content.findDiffStart(Jt.doc.content),sr=Yt.doc.content.findDiffEnd(Jt.doc.content);if(!j(Zn)||!sr||Zn===sr.b)return;const Sr=Jt.tr,yr=y({state:Jt,transaction:Sr});if(!(!ye({editor:Oe,state:yr,from:Math.max(Zn-1,0),to:sr.b-1,rule:Dt})||!Sr.steps.length))return Sr}}))}function oe(Fe){const Oe=Fe.filter((ke,qe)=>Fe.indexOf(ke)!==qe);return[...new Set(Oe)]}class te{constructor(Oe,ke){this.splittableMarks=[],this.editor=ke,this.extensions=te.resolve(Oe),this.schema=A(this.extensions,ke),this.extensions.forEach(qe=>{var Pt;this.editor.extensionStorage[qe.name]=qe.storage;const Ct={name:qe.name,options:qe.options,storage:qe.storage,editor:this.editor,type:L(qe.name,this.schema)};qe.type==="mark"&&(!((Pt=P(S(qe,"keepOnSplit",Ct)))!==null&&Pt!==void 0)||Pt)&&this.splittableMarks.push(qe.name);const Ot=S(qe,"onBeforeCreate",Ct);Ot&&this.editor.on("beforeCreate",Ot);const Dt=S(qe,"onCreate",Ct);Dt&&this.editor.on("create",Dt);const Xt=S(qe,"onUpdate",Ct);Xt&&this.editor.on("update",Xt);const Yt=S(qe,"onSelectionUpdate",Ct);Yt&&this.editor.on("selectionUpdate",Yt);const Jt=S(qe,"onTransaction",Ct);Jt&&this.editor.on("transaction",Jt);const Qt=S(qe,"onFocus",Ct);Qt&&this.editor.on("focus",Qt);const on=S(qe,"onBlur",Ct);on&&this.editor.on("blur",on);const Sn=S(qe,"onDestroy",Ct);Sn&&this.editor.on("destroy",Sn)})}static resolve(Oe){const ke=te.sort(te.flatten(Oe)),qe=oe(ke.map(Pt=>Pt.name));return qe.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${qe.map(Pt=>`'${Pt}'`).join(", ")}]. This can lead to issues.`),ke}static flatten(Oe){return Oe.map(ke=>{const qe={name:ke.name,options:ke.options,storage:ke.storage},Pt=S(ke,"addExtensions",qe);return Pt?[ke,...this.flatten(Pt())]:ke}).flat(10)}static sort(Oe){return Oe.sort((qe,Pt)=>{const Ct=S(qe,"priority")||100,Ot=S(Pt,"priority")||100;return Ct>Ot?-1:Ct<Ot?1:0})}get commands(){return this.extensions.reduce((Oe,ke)=>{const qe={name:ke.name,options:ke.options,storage:ke.storage,editor:this.editor,type:L(ke.name,this.schema)},Pt=S(ke,"addCommands",qe);return Pt?ur(ur({},Oe),Pt()):Oe},{})}get plugins(){const{editor:Oe}=this,ke=te.sort([...this.extensions].reverse()),qe=[],Pt=[],Ct=ke.map(Ot=>{const Dt={name:Ot.name,options:Ot.options,storage:Ot.storage,editor:Oe,type:L(Ot.name,this.schema)},Xt=[],Yt=S(Ot,"addKeyboardShortcuts",Dt);let Jt={};if(Ot.type==="mark"&&Ot.config.exitable&&(Jt.ArrowRight=()=>bt.handleExit({editor:Oe,mark:Ot})),Yt){const sr=Object.fromEntries(Object.entries(Yt()).map(([Sr,yr])=>[Sr,()=>yr({editor:Oe})]));Jt=ur(ur({},Jt),sr)}const Qt=(0,l.h)(Jt);Xt.push(Qt);const on=S(Ot,"addInputRules",Dt);U(Ot,Oe.options.enableInputRules)&&on&&qe.push(...on());const Sn=S(Ot,"addPasteRules",Dt);U(Ot,Oe.options.enablePasteRules)&&Sn&&Pt.push(...Sn());const Zn=S(Ot,"addProseMirrorPlugins",Dt);if(Zn){const sr=Zn();Xt.push(...sr)}return Xt}).flat();return[R({editor:Oe,rules:qe}),...ue({editor:Oe,rules:Pt}),...Ct]}get attributes(){return T(this.extensions)}get nodeViews(){const{editor:Oe}=this,{nodeExtensions:ke}=x(this.extensions);return Object.fromEntries(ke.filter(qe=>!!S(qe,"addNodeView")).map(qe=>{const Pt=this.attributes.filter(Xt=>Xt.type===qe.name),Ct={name:qe.name,options:qe.options,storage:qe.storage,editor:Oe,type:_(qe.name,this.schema)},Ot=S(qe,"addNodeView",Ct);if(!Ot)return[];const Dt=(Xt,Yt,Jt,Qt)=>{const on=s(Xt,Pt);return Ot()({editor:Oe,node:Xt,getPos:Jt,decorations:Qt,HTMLAttributes:on,extension:qe})};return[qe.name,Dt]}))}}function Z(Fe){return Object.prototype.toString.call(Fe).slice(8,-1)}function re(Fe){return Z(Fe)!=="Object"?!1:Fe.constructor===Object&&Object.getPrototypeOf(Fe)===Object.prototype}function ae(Fe,Oe){const ke=ur({},Fe);return re(Fe)&&re(Oe)&&Object.keys(Oe).forEach(qe=>{re(Oe[qe])?qe in Fe?ke[qe]=ae(Fe[qe],Oe[qe]):Object.assign(ke,{[qe]:Oe[qe]}):Object.assign(ke,{[qe]:Oe[qe]})}),ke}class se{constructor(Oe={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=ur(ur({},this.config),Oe),this.name=this.config.name,Oe.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=P(S(this,"addOptions",{name:this.name}))),this.storage=P(S(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(Oe={}){return new se(Oe)}configure(Oe={}){const ke=this.extend();return ke.options=ae(this.options,Oe),ke.storage=P(S(ke,"addStorage",{name:ke.name,options:ke.options})),ke}extend(Oe={}){const ke=new se(Oe);return ke.parent=this,this.child=ke,ke.name=Oe.name?Oe.name:ke.parent.name,Oe.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${ke.name}".`),ke.options=P(S(ke,"addOptions",{name:ke.name})),ke.storage=P(S(ke,"addStorage",{name:ke.name,options:ke.options})),ke}}function be(Fe,Oe,ke){const{from:qe,to:Pt}=Oe,{blockSeparator:Ct=`

`,textSerializers:Ot={}}=ke||{};let Dt="",Xt=!0;return Fe.nodesBetween(qe,Pt,(Yt,Jt,Qt,on)=>{var Sn;const Zn=Ot==null?void 0:Ot[Yt.type.name];Zn?(Yt.isBlock&&!Xt&&(Dt+=Ct,Xt=!0),Qt&&(Dt+=Zn({node:Yt,pos:Jt,parent:Qt,index:on,range:Oe}))):Yt.isText?(Dt+=(Sn=Yt==null?void 0:Yt.text)===null||Sn===void 0?void 0:Sn.slice(Math.max(qe,Jt)-Jt,Pt-Jt),Xt=!1):Yt.isBlock&&!Xt&&(Dt+=Ct,Xt=!0)}),Dt}function _e(Fe){return Object.fromEntries(Object.entries(Fe.nodes).filter(([,Oe])=>Oe.spec.toText).map(([Oe,ke])=>[Oe,ke.spec.toText]))}const pe=se.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new o.Sy({key:new o.H$("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:Fe}=this,{state:Oe,schema:ke}=Fe,{doc:qe,selection:Pt}=Oe,{ranges:Ct}=Pt,Ot=Math.min(...Ct.map(Jt=>Jt.$from.pos)),Dt=Math.max(...Ct.map(Jt=>Jt.$to.pos)),Xt=_e(ke);return be(qe,{from:Ot,to:Dt},{textSerializers:Xt})}}})]}}),me=()=>({editor:Fe,view:Oe})=>(requestAnimationFrame(()=>{var ke;Fe.isDestroyed||(Oe.dom.blur(),(ke=window==null?void 0:window.getSelection())===null||ke===void 0||ke.removeAllRanges())}),!0),Te=(Fe=!1)=>({commands:Oe})=>Oe.setContent("",Fe),ve=()=>({state:Fe,tr:Oe,dispatch:ke})=>{const{selection:qe}=Oe,{ranges:Pt}=qe;return ke&&Pt.forEach(({$from:Ct,$to:Ot})=>{Fe.doc.nodesBetween(Ct.pos,Ot.pos,(Dt,Xt)=>{if(Dt.type.isText)return;const{doc:Yt,mapping:Jt}=Oe,Qt=Yt.resolve(Jt.map(Xt)),on=Yt.resolve(Jt.map(Xt+Dt.nodeSize)),Sn=Qt.blockRange(on);if(!Sn)return;const Zn=(0,g.k9)(Sn);if(Dt.type.isTextblock){const{defaultType:sr}=Qt.parent.contentMatchAt(Qt.index());Oe.setNodeMarkup(Sn.start,sr)}(Zn||Zn===0)&&Oe.lift(Sn,Zn)})}),!0},ce=Fe=>Oe=>Fe(Oe),Le=()=>({state:Fe,dispatch:Oe})=>(0,v.mD)(Fe,Oe),Ne=(Fe,Oe)=>({editor:ke,tr:qe})=>{const{state:Pt}=ke,Ct=Pt.doc.slice(Fe.from,Fe.to);qe.deleteRange(Fe.from,Fe.to);const Ot=qe.mapping.map(Oe);return qe.insert(Ot,Ct.content),qe.setSelection(new o.Bs(qe.doc.resolve(Ot-1))),!0},He=()=>({tr:Fe,dispatch:Oe})=>{const{selection:ke}=Fe,qe=ke.$anchor.node();if(qe.content.size>0)return!1;const Pt=Fe.selection.$anchor;for(let Ct=Pt.depth;Ct>0;Ct-=1)if(Pt.node(Ct).type===qe.type){if(Oe){const Dt=Pt.before(Ct),Xt=Pt.after(Ct);Fe.delete(Dt,Xt).scrollIntoView()}return!0}return!1},ze=Fe=>({tr:Oe,state:ke,dispatch:qe})=>{const Pt=_(Fe,ke.schema),Ct=Oe.selection.$anchor;for(let Ot=Ct.depth;Ot>0;Ot-=1)if(Ct.node(Ot).type===Pt){if(qe){const Xt=Ct.before(Ot),Yt=Ct.after(Ot);Oe.delete(Xt,Yt).scrollIntoView()}return!0}return!1},Xe=Fe=>({tr:Oe,dispatch:ke})=>{const{from:qe,to:Pt}=Fe;return ke&&Oe.delete(qe,Pt),!0},_t=()=>({state:Fe,dispatch:Oe})=>(0,v.NE)(Fe,Oe),we=()=>({commands:Fe})=>Fe.keyboardShortcut("Enter"),We=()=>({state:Fe,dispatch:Oe})=>(0,v.uo)(Fe,Oe);function Ie(Fe,Oe,ke={strict:!0}){const qe=Object.keys(Oe);return qe.length?qe.every(Pt=>ke.strict?Oe[Pt]===Fe[Pt]:G(Oe[Pt])?Oe[Pt].test(Fe[Pt]):Oe[Pt]===Fe[Pt]):!0}function tt(Fe,Oe,ke={}){return Fe.find(qe=>qe.type===Oe&&Ie(qe.attrs,ke))}function et(Fe,Oe,ke={}){return!!tt(Fe,Oe,ke)}function ht(Fe,Oe,ke={}){if(!Fe||!Oe)return;let qe=Fe.parent.childAfter(Fe.parentOffset);if(Fe.parentOffset===qe.offset&&qe.offset!==0&&(qe=Fe.parent.childBefore(Fe.parentOffset)),!qe.node)return;const Pt=tt([...qe.node.marks],Oe,ke);if(!Pt)return;let Ct=qe.index,Ot=Fe.start()+qe.offset,Dt=Ct+1,Xt=Ot+qe.node.nodeSize;for(tt([...qe.node.marks],Oe,ke);Ct>0&&Pt.isInSet(Fe.parent.child(Ct-1).marks);)Ct-=1,Ot-=Fe.parent.child(Ct).nodeSize;for(;Dt<Fe.parent.childCount&&et([...Fe.parent.child(Dt).marks],Oe,ke);)Xt+=Fe.parent.child(Dt).nodeSize,Dt+=1;return{from:Ot,to:Xt}}function vt(Fe,Oe){if(typeof Fe=="string"){if(!Oe.marks[Fe])throw Error(`There is no mark type named '${Fe}'. Maybe you forgot to add the extension?`);return Oe.marks[Fe]}return Fe}const Lt=(Fe,Oe={})=>({tr:ke,state:qe,dispatch:Pt})=>{const Ct=vt(Fe,qe.schema),{doc:Ot,selection:Dt}=ke,{$from:Xt,from:Yt,to:Jt}=Dt;if(Pt){const Qt=ht(Xt,Ct,Oe);if(Qt&&Qt.from<=Yt&&Qt.to>=Jt){const on=o.Bs.create(Ot,Qt.from,Qt.to);ke.setSelection(on)}}return!0},$t=Fe=>Oe=>{const ke=typeof Fe=="function"?Fe(Oe):Fe;for(let qe=0;qe<ke.length;qe+=1)if(ke[qe](Oe))return!0;return!1};function yt(Fe){return Fe instanceof o.Bs}function he(Fe=0,Oe=0,ke=0){return Math.min(Math.max(Fe,Oe),ke)}function je(Fe,Oe=null){if(!Oe)return null;const ke=o.Y1.atStart(Fe),qe=o.Y1.atEnd(Fe);if(Oe==="start"||Oe===!0)return ke;if(Oe==="end")return qe;const Pt=ke.from,Ct=qe.to;return Oe==="all"?o.Bs.create(Fe,he(0,Pt,Ct),he(Fe.content.size,Pt,Ct)):o.Bs.create(Fe,he(Oe,Pt,Ct),he(Oe,Pt,Ct))}function st(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const De=(Fe=null,Oe={})=>({editor:ke,view:qe,tr:Pt,dispatch:Ct})=>{Oe=ur({scrollIntoView:!0},Oe);const Ot=()=>{st()&&qe.dom.focus(),requestAnimationFrame(()=>{ke.isDestroyed||(qe.focus(),Oe!=null&&Oe.scrollIntoView&&ke.commands.scrollIntoView())})};if(qe.hasFocus()&&Fe===null||Fe===!1)return!0;if(Ct&&Fe===null&&!yt(ke.state.selection))return Ot(),!0;const Dt=je(Pt.doc,Fe)||ke.state.selection,Xt=ke.state.selection.eq(Dt);return Ct&&(Xt||Pt.setSelection(Dt),Xt&&Pt.storedMarks&&Pt.setStoredMarks(Pt.storedMarks),Ot()),!0},Be=(Fe,Oe)=>ke=>Fe.every((qe,Pt)=>Oe(qe,Vo(ur({},ke),{index:Pt}))),Ke=(Fe,Oe)=>({tr:ke,commands:qe})=>qe.insertContentAt({from:ke.selection.from,to:ke.selection.to},Fe,Oe);function it(Fe){const Oe=`<body>${Fe}</body>`;return new window.DOMParser().parseFromString(Oe,"text/html").body}function Qe(Fe,Oe,ke){if(ke=ur({slice:!0,parseOptions:{}},ke),typeof Fe=="object"&&Fe!==null)try{return Array.isArray(Fe)&&Fe.length>0?c.HY.fromArray(Fe.map(qe=>Oe.nodeFromJSON(qe))):Oe.nodeFromJSON(Fe)}catch(qe){return console.warn("[tiptap warn]: Invalid content.","Passed value:",Fe,"Error:",qe),Qe("",Oe,ke)}if(typeof Fe=="string"){const qe=c.aw.fromSchema(Oe);return ke.slice?qe.parseSlice(it(Fe),ke.parseOptions).content:qe.parse(it(Fe),ke.parseOptions)}return Qe("",Oe,ke)}function Ae(Fe,Oe,ke){const qe=Fe.steps.length-1;if(qe<Oe)return;const Pt=Fe.steps[qe];if(!(Pt instanceof g.Pu||Pt instanceof g.FC))return;const Ct=Fe.mapping.maps[qe];let Ot=0;Ct.forEach((Dt,Xt,Yt,Jt)=>{Ot===0&&(Ot=Jt)}),Fe.setSelection(o.Y1.near(Fe.doc.resolve(Ot),ke))}const H=Fe=>Fe.toString().startsWith("<"),ee=(Fe,Oe,ke)=>({tr:qe,dispatch:Pt,editor:Ct})=>{if(Pt){ke=ur({parseOptions:{},updateSelection:!0},ke);const Ot=Qe(Oe,Ct.schema,{parseOptions:ur({preserveWhitespace:"full"},ke.parseOptions)});if(Ot.toString()==="<>")return!0;let{from:Dt,to:Xt}=typeof Fe=="number"?{from:Fe,to:Fe}:{from:Fe.from,to:Fe.to},Yt=!0,Jt=!0;if((H(Ot)?Ot:[Ot]).forEach(on=>{on.check(),Yt=Yt?on.isText&&on.marks.length===0:!1,Jt=Jt?on.isBlock:!1}),Dt===Xt&&Jt){const{parent:on}=qe.doc.resolve(Dt);on.isTextblock&&!on.type.spec.code&&!on.childCount&&(Dt-=1,Xt+=1)}Yt?Array.isArray(Oe)?qe.insertText(Oe.map(on=>on.text||"").join(""),Dt,Xt):typeof Oe=="object"&&Oe&&Oe.text?qe.insertText(Oe.text,Dt,Xt):qe.insertText(Oe,Dt,Xt):qe.replaceWith(Dt,Xt,Ot),ke.updateSelection&&Ae(qe,qe.steps.length-1,-1)}return!0},de=()=>({state:Fe,dispatch:Oe})=>(0,v.MI)(Fe,Oe),Ee=()=>({state:Fe,dispatch:Oe})=>(0,v.Ig)(Fe,Oe),Me=()=>({state:Fe,dispatch:Oe})=>(0,v.al)(Fe,Oe),$e=()=>({state:Fe,dispatch:Oe})=>(0,v.Y_)(Fe,Oe),dt=()=>({tr:Fe,state:Oe,dispatch:ke})=>{try{const qe=(0,g.GJ)(Oe.doc,Oe.selection.$from.pos,-1);return qe==null?!1:(Fe.join(qe,2),ke&&ke(Fe),!0)}catch(qe){return!1}},ct=()=>({state:Fe,dispatch:Oe,tr:ke})=>{try{const qe=(0,g.GJ)(Fe.doc,Fe.selection.$from.pos,1);return qe==null?!1:(ke.join(qe,2),Oe&&Oe(ke),!0)}catch(qe){return!1}};function wt(){return typeof navigator!="undefined"?/Mac/.test(navigator.platform):!1}function Mt(Fe){const Oe=Fe.split(/-(?!$)/);let ke=Oe[Oe.length-1];ke==="Space"&&(ke=" ");let qe,Pt,Ct,Ot;for(let Dt=0;Dt<Oe.length-1;Dt+=1){const Xt=Oe[Dt];if(/^(cmd|meta|m)$/i.test(Xt))Ot=!0;else if(/^a(lt)?$/i.test(Xt))qe=!0;else if(/^(c|ctrl|control)$/i.test(Xt))Pt=!0;else if(/^s(hift)?$/i.test(Xt))Ct=!0;else if(/^mod$/i.test(Xt))st()||wt()?Ot=!0:Pt=!0;else throw new Error(`Unrecognized modifier name: ${Xt}`)}return qe&&(ke=`Alt-${ke}`),Pt&&(ke=`Ctrl-${ke}`),Ot&&(ke=`Meta-${ke}`),Ct&&(ke=`Shift-${ke}`),ke}const pn=Fe=>({editor:Oe,view:ke,tr:qe,dispatch:Pt})=>{const Ct=Mt(Fe).split(/-(?!$)/),Ot=Ct.find(Yt=>!["Alt","Ctrl","Meta","Shift"].includes(Yt)),Dt=new KeyboardEvent("keydown",{key:Ot==="Space"?" ":Ot,altKey:Ct.includes("Alt"),ctrlKey:Ct.includes("Ctrl"),metaKey:Ct.includes("Meta"),shiftKey:Ct.includes("Shift"),bubbles:!0,cancelable:!0}),Xt=Oe.captureTransaction(()=>{ke.someProp("handleKeyDown",Yt=>Yt(ke,Dt))});return Xt==null||Xt.steps.forEach(Yt=>{const Jt=Yt.map(qe.mapping);Jt&&Pt&&qe.maybeStep(Jt)}),!0};function Mn(Fe,Oe,ke={}){const{from:qe,to:Pt,empty:Ct}=Fe.selection,Ot=Oe?_(Oe,Fe.schema):null,Dt=[];Fe.doc.nodesBetween(qe,Pt,(Qt,on)=>{if(Qt.isText)return;const Sn=Math.max(qe,on),Zn=Math.min(Pt,on+Qt.nodeSize);Dt.push({node:Qt,from:Sn,to:Zn})});const Xt=Pt-qe,Yt=Dt.filter(Qt=>Ot?Ot.name===Qt.node.type.name:!0).filter(Qt=>Ie(Qt.node.attrs,ke,{strict:!1}));return Ct?!!Yt.length:Yt.reduce((Qt,on)=>Qt+on.to-on.from,0)>=Xt}const $n=(Fe,Oe={})=>({state:ke,dispatch:qe})=>{const Pt=_(Fe,ke.schema);return Mn(ke,Pt,Oe)?(0,v.xb)(ke,qe):!1},mr=()=>({state:Fe,dispatch:Oe})=>(0,v.X0)(Fe,Oe),jn=Fe=>({state:Oe,dispatch:ke})=>{const qe=_(Fe,Oe.schema);return(0,E.IB)(qe)(Oe,ke)},dr=()=>({state:Fe,dispatch:Oe})=>(0,v.QK)(Fe,Oe);function nn(Fe,Oe){return Oe.nodes[Fe]?"node":Oe.marks[Fe]?"mark":null}function jr(Fe,Oe){const ke=typeof Oe=="string"?[Oe]:Oe;return Object.keys(Fe).reduce((qe,Pt)=>(ke.includes(Pt)||(qe[Pt]=Fe[Pt]),qe),{})}const Dr=(Fe,Oe)=>({tr:ke,state:qe,dispatch:Pt})=>{let Ct=null,Ot=null;const Dt=nn(typeof Fe=="string"?Fe:Fe.name,qe.schema);return Dt?(Dt==="node"&&(Ct=_(Fe,qe.schema)),Dt==="mark"&&(Ot=vt(Fe,qe.schema)),Pt&&ke.selection.ranges.forEach(Xt=>{qe.doc.nodesBetween(Xt.$from.pos,Xt.$to.pos,(Yt,Jt)=>{Ct&&Ct===Yt.type&&ke.setNodeMarkup(Jt,void 0,jr(Yt.attrs,Oe)),Ot&&Yt.marks.length&&Yt.marks.forEach(Qt=>{Ot===Qt.type&&ke.addMark(Jt,Jt+Yt.nodeSize,Ot.create(jr(Qt.attrs,Oe)))})})}),!0):!1},At=()=>({tr:Fe,dispatch:Oe})=>(Oe&&Fe.scrollIntoView(),!0),Wt=()=>({tr:Fe,commands:Oe})=>Oe.setTextSelection({from:0,to:Fe.doc.content.size}),Zt=()=>({state:Fe,dispatch:Oe})=>(0,v._M)(Fe,Oe),_n=()=>({state:Fe,dispatch:Oe})=>(0,v.o)(Fe,Oe),Kn=()=>({state:Fe,dispatch:Oe})=>(0,v.N0)(Fe,Oe),wr=()=>({state:Fe,dispatch:Oe})=>(0,v.nw)(Fe,Oe),Nr=()=>({state:Fe,dispatch:Oe})=>(0,v.U9)(Fe,Oe);function no(Fe,Oe,ke={}){return Qe(Fe,Oe,{slice:!1,parseOptions:ke})}const Jr=(Fe,Oe=!1,ke={})=>({tr:qe,editor:Pt,dispatch:Ct})=>{const{doc:Ot}=qe,Dt=no(Fe,Pt.schema,ke);return Ct&&qe.replaceWith(0,Ot.content.size,Dt).setMeta("preventUpdate",!Oe),!0};function $r(Fe,Oe){const ke=vt(Oe,Fe.schema),{from:qe,to:Pt,empty:Ct}=Fe.selection,Ot=[];Ct?(Fe.storedMarks&&Ot.push(...Fe.storedMarks),Ot.push(...Fe.selection.$head.marks())):Fe.doc.nodesBetween(qe,Pt,Xt=>{Ot.push(...Xt.marks)});const Dt=Ot.find(Xt=>Xt.type.name===ke.name);return Dt?ur({},Dt.attrs):{}}function bo(Fe,Oe){const ke=new g.wx(Fe);return Oe.forEach(qe=>{qe.steps.forEach(Pt=>{ke.step(Pt)})}),ke}function mo(Fe){for(let Oe=0;Oe<Fe.edgeCount;Oe+=1){const{type:ke}=Fe.edge(Oe);if(ke.isTextblock&&!ke.hasRequiredAttrs())return ke}return null}function So(Fe,Oe){const ke=[];return Fe.descendants((qe,Pt)=>{Oe(qe)&&ke.push({node:qe,pos:Pt})}),ke}function go(Fe,Oe,ke){const qe=[];return Fe.nodesBetween(Oe.from,Oe.to,(Pt,Ct)=>{ke(Pt)&&qe.push({node:Pt,pos:Ct})}),qe}function Eo(Fe,Oe){for(let ke=Fe.depth;ke>0;ke-=1){const qe=Fe.node(ke);if(Oe(qe))return{pos:ke>0?Fe.before(ke):0,start:Fe.start(ke),depth:ke,node:qe}}}function ro(Fe){return Oe=>Eo(Oe.$from,Fe)}function po(Fe,Oe){const ke=c.PW.fromSchema(Oe).serializeFragment(Fe),Pt=document.implementation.createHTMLDocument().createElement("div");return Pt.appendChild(ke),Pt.innerHTML}function wo(Fe,Oe){const ke=te.resolve(Fe);return A(ke,Oe)}function ko(Fe,Oe){const ke=wo(Oe),qe=Node$1.fromJSON(ke,Fe);return po(qe.content,ke)}function ei(Fe,Oe){const ke=wo(Oe),qe=it(Fe);return c.aw.fromSchema(ke).parse(qe).toJSON()}function Do(Fe,Oe){const ke={from:0,to:Fe.content.size};return be(Fe,ke,Oe)}function Uo(Fe,Oe,ke){const{blockSeparator:qe=`

`,textSerializers:Pt={}}=ke||{},Ct=wo(Oe),Ot=c.NB.fromJSON(Ct,Fe);return Do(Ot,{blockSeparator:qe,textSerializers:ur(ur({},_e(Ct)),Pt)})}function mn(Fe,Oe){const ke=_(Oe,Fe.schema),{from:qe,to:Pt}=Fe.selection,Ct=[];Fe.doc.nodesBetween(qe,Pt,Dt=>{Ct.push(Dt)});const Ot=Ct.reverse().find(Dt=>Dt.type.name===ke.name);return Ot?ur({},Ot.attrs):{}}function Dn(Fe,Oe){const ke=nn(typeof Oe=="string"?Oe:Oe.name,Fe.schema);return ke==="node"?mn(Fe,Oe):ke==="mark"?$r(Fe,Oe):{}}function Wn(Fe,Oe=JSON.stringify){const ke={};return Fe.filter(qe=>{const Pt=Oe(qe);return Object.prototype.hasOwnProperty.call(ke,Pt)?!1:ke[Pt]=!0})}function Hn(Fe){const Oe=Wn(Fe);return Oe.length===1?Oe:Oe.filter((ke,qe)=>!Oe.filter((Ct,Ot)=>Ot!==qe).some(Ct=>ke.oldRange.from>=Ct.oldRange.from&&ke.oldRange.to<=Ct.oldRange.to&&ke.newRange.from>=Ct.newRange.from&&ke.newRange.to<=Ct.newRange.to))}function vr(Fe){const{mapping:Oe,steps:ke}=Fe,qe=[];return Oe.maps.forEach((Pt,Ct)=>{const Ot=[];if(Pt.ranges.length)Pt.forEach((Dt,Xt)=>{Ot.push({from:Dt,to:Xt})});else{const{from:Dt,to:Xt}=ke[Ct];if(Dt===void 0||Xt===void 0)return;Ot.push({from:Dt,to:Xt})}Ot.forEach(({from:Dt,to:Xt})=>{const Yt=Oe.slice(Ct).map(Dt,-1),Jt=Oe.slice(Ct).map(Xt),Qt=Oe.invert().map(Yt,-1),on=Oe.invert().map(Jt);qe.push({oldRange:{from:Qt,to:on},newRange:{from:Yt,to:Jt}})})}),Hn(qe)}function tr(Fe,Oe=0){const qe=Fe.type===Fe.type.schema.topNodeType?0:1,Pt=Oe,Ct=Pt+Fe.nodeSize,Ot=Fe.marks.map(Yt=>{const Jt={type:Yt.type.name};return Object.keys(Yt.attrs).length&&(Jt.attrs=ur({},Yt.attrs)),Jt}),Dt=ur({},Fe.attrs),Xt={type:Fe.type.name,from:Pt,to:Ct};return Object.keys(Dt).length&&(Xt.attrs=Dt),Ot.length&&(Xt.marks=Ot),Fe.content.childCount&&(Xt.content=[],Fe.forEach((Yt,Jt)=>{var Qt;(Qt=Xt.content)===null||Qt===void 0||Qt.push(tr(Yt,Oe+Jt+qe))})),Fe.text&&(Xt.text=Fe.text),Xt}function pr(Fe,Oe,ke){const qe=[];return Fe===Oe?ke.resolve(Fe).marks().forEach(Pt=>{const Ct=ke.resolve(Fe-1),Ot=ht(Ct,Pt.type);Ot&&qe.push(ur({mark:Pt},Ot))}):ke.nodesBetween(Fe,Oe,(Pt,Ct)=>{qe.push(...Pt.marks.map(Ot=>({from:Ct,to:Ct+Pt.nodeSize,mark:Ot})))}),qe}const kt=(Fe,Oe,ke,qe=20)=>{const Pt=Fe.doc.resolve(ke);let Ct=qe,Ot=null;for(;Ct>0&&Ot===null;){const Dt=Pt.node(Ct);(Dt==null?void 0:Dt.type.name)===Oe?Ot=Dt:Ct-=1}return[Ot,Ct]};function Vt(Fe,Oe,ke){return Object.fromEntries(Object.entries(ke).filter(([qe])=>{const Pt=Fe.find(Ct=>Ct.type===Oe&&Ct.name===qe);return Pt?Pt.attribute.keepOnSplit:!1}))}function en(Fe,Oe,ke={}){const{empty:qe,ranges:Pt}=Fe.selection,Ct=Oe?vt(Oe,Fe.schema):null;if(qe)return!!(Fe.storedMarks||Fe.selection.$from.marks()).filter(Qt=>Ct?Ct.name===Qt.type.name:!0).find(Qt=>Ie(Qt.attrs,ke,{strict:!1}));let Ot=0;const Dt=[];if(Pt.forEach(({$from:Qt,$to:on})=>{const Sn=Qt.pos,Zn=on.pos;Fe.doc.nodesBetween(Sn,Zn,(sr,Sr)=>{if(!sr.isText&&!sr.marks.length)return;const yr=Math.max(Sn,Sr),qr=Math.min(Zn,Sr+sr.nodeSize),uo=qr-yr;Ot+=uo,Dt.push(...sr.marks.map(ho=>({mark:ho,from:yr,to:qr})))})}),Ot===0)return!1;const Xt=Dt.filter(Qt=>Ct?Ct.name===Qt.mark.type.name:!0).filter(Qt=>Ie(Qt.mark.attrs,ke,{strict:!1})).reduce((Qt,on)=>Qt+on.to-on.from,0),Yt=Dt.filter(Qt=>Ct?Qt.mark.type!==Ct&&Qt.mark.type.excludes(Ct):!0).reduce((Qt,on)=>Qt+on.to-on.from,0);return(Xt>0?Xt+Yt:Xt)>=Ot}function dn(Fe,Oe,ke={}){if(!Oe)return Mn(Fe,null,ke)||en(Fe,null,ke);const qe=nn(Oe,Fe.schema);return qe==="node"?Mn(Fe,Oe,ke):qe==="mark"?en(Fe,Oe,ke):!1}const Nn=(Fe,Oe)=>{const{$from:ke,$to:qe,$anchor:Pt}=Fe.selection;if(Oe){const Ct=ro(Dt=>Dt.type.name===Oe)(Fe.selection);if(!Ct)return!1;const Ot=Fe.doc.resolve(Ct.pos+1);return Pt.pos+1===Ot.end()}return!(qe.parentOffset<qe.parent.nodeSize-2||ke.pos!==qe.pos)},An=Fe=>{const{$from:Oe,$to:ke}=Fe.selection;return!(Oe.parentOffset>0||Oe.pos!==ke.pos)};function Rn(Fe,Oe){const{nodeExtensions:ke}=x(Oe),qe=ke.find(Ot=>Ot.name===Fe);if(!qe)return!1;const Pt={name:qe.name,options:qe.options,storage:qe.storage},Ct=P(S(qe,"group",Pt));return typeof Ct!="string"?!1:Ct.split(" ").includes("list")}function ft(Fe){var Oe;const ke=(Oe=Fe.type.createAndFill())===null||Oe===void 0?void 0:Oe.toJSON(),qe=Fe.toJSON();return JSON.stringify(ke)===JSON.stringify(qe)}function Rt(Fe){return Fe instanceof o.qv}function zt(Fe,Oe,ke){const Pt=Fe.state.doc.content.size,Ct=he(Oe,0,Pt),Ot=he(ke,0,Pt),Dt=Fe.coordsAtPos(Ct),Xt=Fe.coordsAtPos(Ot,-1),Yt=Math.min(Dt.top,Xt.top),Jt=Math.max(Dt.bottom,Xt.bottom),Qt=Math.min(Dt.left,Xt.left),on=Math.max(Dt.right,Xt.right),Sn=on-Qt,Zn=Jt-Yt,yr={top:Yt,bottom:Jt,left:Qt,right:on,width:Sn,height:Zn,x:Qt,y:Yt};return Vo(ur({},yr),{toJSON:()=>yr})}function tn(Fe,Oe,ke){var qe;const{selection:Pt}=Oe;let Ct=null;if(yt(Pt)&&(Ct=Pt.$cursor),Ct){const Dt=(qe=Fe.storedMarks)!==null&&qe!==void 0?qe:Ct.marks();return!!ke.isInSet(Dt)||!Dt.some(Xt=>Xt.type.excludes(ke))}const{ranges:Ot}=Pt;return Ot.some(({$from:Dt,$to:Xt})=>{let Yt=Dt.depth===0?Fe.doc.inlineContent&&Fe.doc.type.allowsMarkType(ke):!1;return Fe.doc.nodesBetween(Dt.pos,Xt.pos,(Jt,Qt,on)=>{if(Yt)return!1;if(Jt.isInline){const Sn=!on||on.type.allowsMarkType(ke),Zn=!!ke.isInSet(Jt.marks)||!Jt.marks.some(sr=>sr.type.excludes(ke));Yt=Sn&&Zn}return!Yt}),Yt})}const vn=(Fe,Oe={})=>({tr:ke,state:qe,dispatch:Pt})=>{const{selection:Ct}=ke,{empty:Ot,ranges:Dt}=Ct,Xt=vt(Fe,qe.schema);if(Pt)if(Ot){const Yt=$r(qe,Xt);ke.addStoredMark(Xt.create(ur(ur({},Yt),Oe)))}else Dt.forEach(Yt=>{const Jt=Yt.$from.pos,Qt=Yt.$to.pos;qe.doc.nodesBetween(Jt,Qt,(on,Sn)=>{const Zn=Math.max(Sn,Jt),sr=Math.min(Sn+on.nodeSize,Qt);on.marks.find(yr=>yr.type===Xt)?on.marks.forEach(yr=>{Xt===yr.type&&ke.addMark(Zn,sr,Xt.create(ur(ur({},yr.attrs),Oe)))}):ke.addMark(Zn,sr,Xt.create(Oe))})});return tn(qe,ke,Xt)},un=(Fe,Oe)=>({tr:ke})=>(ke.setMeta(Fe,Oe),!0),wn=(Fe,Oe={})=>({state:ke,dispatch:qe,chain:Pt})=>{const Ct=_(Fe,ke.schema);return Ct.isTextblock?Pt().command(({commands:Ot})=>(0,v.uJ)(Ct,Oe)(ke)?!0:Ot.clearNodes()).command(({state:Ot})=>(0,v.uJ)(Ct,Oe)(Ot,qe)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},Un=Fe=>({tr:Oe,dispatch:ke})=>{if(ke){const{doc:qe}=Oe,Pt=he(Fe,0,qe.content.size),Ct=o.qv.create(qe,Pt);Oe.setSelection(Ct)}return!0},Cr=Fe=>({tr:Oe,dispatch:ke})=>{if(ke){const{doc:qe}=Oe,{from:Pt,to:Ct}=typeof Fe=="number"?{from:Fe,to:Fe}:Fe,Ot=o.Bs.atStart(qe).from,Dt=o.Bs.atEnd(qe).to,Xt=he(Pt,Ot,Dt),Yt=he(Ct,Ot,Dt),Jt=o.Bs.create(qe,Xt,Yt);Oe.setSelection(Jt)}return!0},Hr=Fe=>({state:Oe,dispatch:ke})=>{const qe=_(Fe,Oe.schema);return(0,E.bw)(qe)(Oe,ke)};function Ur(Fe,Oe){const ke=Fe.storedMarks||Fe.selection.$to.parentOffset&&Fe.selection.$from.marks();if(ke){const qe=ke.filter(Pt=>Oe==null?void 0:Oe.includes(Pt.type.name));Fe.tr.ensureMarks(qe)}}const Ar=({keepMarks:Fe=!0}={})=>({tr:Oe,state:ke,dispatch:qe,editor:Pt})=>{const{selection:Ct,doc:Ot}=Oe,{$from:Dt,$to:Xt}=Ct,Yt=Pt.extensionManager.attributes,Jt=Vt(Yt,Dt.node().type.name,Dt.node().attrs);if(Ct instanceof o.qv&&Ct.node.isBlock)return!Dt.parentOffset||!(0,g.Ax)(Ot,Dt.pos)?!1:(qe&&(Fe&&Ur(ke,Pt.extensionManager.splittableMarks),Oe.split(Dt.pos).scrollIntoView()),!0);if(!Dt.parent.isBlock)return!1;if(qe){const Qt=Xt.parentOffset===Xt.parent.content.size;Ct instanceof o.Bs&&Oe.deleteSelection();const on=Dt.depth===0?void 0:mo(Dt.node(-1).contentMatchAt(Dt.indexAfter(-1)));let Sn=Qt&&on?[{type:on,attrs:Jt}]:void 0,Zn=(0,g.Ax)(Oe.doc,Oe.mapping.map(Dt.pos),1,Sn);if(!Sn&&!Zn&&(0,g.Ax)(Oe.doc,Oe.mapping.map(Dt.pos),1,on?[{type:on}]:void 0)&&(Zn=!0,Sn=on?[{type:on,attrs:Jt}]:void 0),Zn&&(Oe.split(Oe.mapping.map(Dt.pos),1,Sn),on&&!Qt&&!Dt.parentOffset&&Dt.parent.type!==on)){const sr=Oe.mapping.map(Dt.before()),Sr=Oe.doc.resolve(sr);Dt.node(-1).canReplaceWith(Sr.index(),Sr.index()+1,on)&&Oe.setNodeMarkup(Oe.mapping.map(Dt.before()),on)}Fe&&Ur(ke,Pt.extensionManager.splittableMarks),Oe.scrollIntoView()}return!0},oo=Fe=>({tr:Oe,state:ke,dispatch:qe,editor:Pt})=>{var Ct;const Ot=_(Fe,ke.schema),{$from:Dt,$to:Xt}=ke.selection,Yt=ke.selection.node;if(Yt&&Yt.isBlock||Dt.depth<2||!Dt.sameParent(Xt))return!1;const Jt=Dt.node(-1);if(Jt.type!==Ot)return!1;const Qt=Pt.extensionManager.attributes;if(Dt.parent.content.size===0&&Dt.node(-1).childCount===Dt.indexAfter(-1)){if(Dt.depth===2||Dt.node(-3).type!==Ot||Dt.index(-2)!==Dt.node(-2).childCount-1)return!1;if(qe){let Sr=c.HY.empty;const yr=Dt.index(-1)?1:Dt.index(-2)?2:3;for(let $o=Dt.depth-yr;$o>=Dt.depth-3;$o-=1)Sr=c.HY.from(Dt.node($o).copy(Sr));const qr=Dt.indexAfter(-1)<Dt.node(-2).childCount?1:Dt.indexAfter(-2)<Dt.node(-3).childCount?2:3,uo=Vt(Qt,Dt.node().type.name,Dt.node().attrs),ho=((Ct=Ot.contentMatch.defaultType)===null||Ct===void 0?void 0:Ct.createAndFill(uo))||void 0;Sr=Sr.append(c.HY.from(Ot.createAndFill(null,ho)||void 0));const Ao=Dt.before(Dt.depth-(yr-1));Oe.replace(Ao,Dt.after(-qr),new c.p2(Sr,4-yr,0));let Yo=-1;Oe.doc.nodesBetween(Ao,Oe.doc.content.size,($o,Io)=>{if(Yo>-1)return!1;$o.isTextblock&&$o.content.size===0&&(Yo=Io+1)}),Yo>-1&&Oe.setSelection(o.Bs.near(Oe.doc.resolve(Yo))),Oe.scrollIntoView()}return!0}const on=Xt.pos===Dt.end()?Jt.contentMatchAt(0).defaultType:null,Sn=Vt(Qt,Jt.type.name,Jt.attrs),Zn=Vt(Qt,Dt.node().type.name,Dt.node().attrs);Oe.delete(Dt.pos,Xt.pos);const sr=on?[{type:Ot,attrs:Sn},{type:on,attrs:Zn}]:[{type:Ot,attrs:Sn}];if(!(0,g.Ax)(Oe.doc,Dt.pos,2))return!1;if(qe){const{selection:Sr,storedMarks:yr}=ke,{splittableMarks:qr}=Pt.extensionManager,uo=yr||Sr.$to.parentOffset&&Sr.$from.marks();if(Oe.split(Dt.pos,2,sr).scrollIntoView(),!uo||!qe)return!0;const ho=uo.filter(Ao=>qr.includes(Ao.type.name));Oe.ensureMarks(ho)}return!0},vo=(Fe,Oe)=>{const ke=ro(Ot=>Ot.type===Oe)(Fe.selection);if(!ke)return!0;const qe=Fe.doc.resolve(Math.max(0,ke.pos-1)).before(ke.depth);if(qe===void 0)return!0;const Pt=Fe.doc.nodeAt(qe);return ke.node.type===(Pt==null?void 0:Pt.type)&&(0,g.Mn)(Fe.doc,ke.pos)&&Fe.join(ke.pos),!0},ti=(Fe,Oe)=>{const ke=ro(Ot=>Ot.type===Oe)(Fe.selection);if(!ke)return!0;const qe=Fe.doc.resolve(ke.start).after(ke.depth);if(qe===void 0)return!0;const Pt=Fe.doc.nodeAt(qe);return ke.node.type===(Pt==null?void 0:Pt.type)&&(0,g.Mn)(Fe.doc,qe)&&Fe.join(qe),!0};var ui=Object.freeze({__proto__:null,blur:me,clearContent:Te,clearNodes:ve,command:ce,createParagraphNear:Le,cut:Ne,deleteCurrentNode:He,deleteNode:ze,deleteRange:Xe,deleteSelection:_t,enter:we,exitCode:We,extendMarkRange:Lt,first:$t,focus:De,forEach:Be,insertContent:Ke,insertContentAt:ee,joinUp:de,joinDown:Ee,joinBackward:Me,joinForward:$e,joinItemBackward:dt,joinItemForward:ct,keyboardShortcut:pn,lift:$n,liftEmptyBlock:mr,liftListItem:jn,newlineInCode:dr,resetAttributes:Dr,scrollIntoView:At,selectAll:Wt,selectNodeBackward:Zt,selectNodeForward:_n,selectParentNode:Kn,selectTextblockEnd:wr,selectTextblockStart:Nr,setContent:Jr,setMark:vn,setMeta:un,setNode:wn,setNodeSelection:Un,setTextSelection:Cr,sinkListItem:Hr,splitBlock:Ar,splitListItem:oo,toggleList:(Fe,Oe,ke,qe={})=>({editor:Pt,tr:Ct,state:Ot,dispatch:Dt,chain:Xt,commands:Yt,can:Jt})=>{const{extensions:Qt,splittableMarks:on}=Pt.extensionManager,Sn=_(Fe,Ot.schema),Zn=_(Oe,Ot.schema),{selection:sr,storedMarks:Sr}=Ot,{$from:yr,$to:qr}=sr,uo=yr.blockRange(qr),ho=Sr||sr.$to.parentOffset&&sr.$from.marks();if(!uo)return!1;const Ao=ro(Yo=>Rn(Yo.type.name,Qt))(sr);if(uo.depth>=1&&Ao&&uo.depth-Ao.depth<=1){if(Ao.node.type===Sn)return Yt.liftListItem(Zn);if(Rn(Ao.node.type.name,Qt)&&Sn.validContent(Ao.node.content)&&Dt)return Xt().command(()=>(Ct.setNodeMarkup(Ao.pos,Sn),!0)).command(()=>vo(Ct,Sn)).command(()=>ti(Ct,Sn)).run()}return!ke||!ho||!Dt?Xt().command(()=>Jt().wrapInList(Sn,qe)?!0:Yt.clearNodes()).wrapInList(Sn,qe).command(()=>vo(Ct,Sn)).command(()=>ti(Ct,Sn)).run():Xt().command(()=>{const Yo=Jt().wrapInList(Sn,qe),$o=ho.filter(Io=>on.includes(Io.type.name));return Ct.ensureMarks($o),Yo?!0:Yt.clearNodes()}).wrapInList(Sn,qe).command(()=>vo(Ct,Sn)).command(()=>ti(Ct,Sn)).run()},toggleMark:(Fe,Oe={},ke={})=>({state:qe,commands:Pt})=>{const{extendEmptyMarkRange:Ct=!1}=ke,Ot=vt(Fe,qe.schema);return en(qe,Ot,Oe)?Pt.unsetMark(Ot,{extendEmptyMarkRange:Ct}):Pt.setMark(Ot,Oe)},toggleNode:(Fe,Oe,ke={})=>({state:qe,commands:Pt})=>{const Ct=_(Fe,qe.schema),Ot=_(Oe,qe.schema);return Mn(qe,Ct,ke)?Pt.setNode(Ot):Pt.setNode(Ct,ke)},toggleWrap:(Fe,Oe={})=>({state:ke,commands:qe})=>{const Pt=_(Fe,ke.schema);return Mn(ke,Pt,Oe)?qe.lift(Pt):qe.wrapIn(Pt,Oe)},undoInputRule:()=>({state:Fe,dispatch:Oe})=>{const ke=Fe.plugins;for(let qe=0;qe<ke.length;qe+=1){const Pt=ke[qe];let Ct;if(Pt.spec.isInputRules&&(Ct=Pt.getState(Fe))){if(Oe){const Ot=Fe.tr,Dt=Ct.transform;for(let Xt=Dt.steps.length-1;Xt>=0;Xt-=1)Ot.step(Dt.steps[Xt].invert(Dt.docs[Xt]));if(Ct.text){const Xt=Ot.doc.resolve(Ct.from).marks();Ot.replaceWith(Ct.from,Ct.to,Fe.schema.text(Ct.text,Xt))}else Ot.delete(Ct.from,Ct.to)}return!0}}return!1},unsetAllMarks:()=>({tr:Fe,dispatch:Oe})=>{const{selection:ke}=Fe,{empty:qe,ranges:Pt}=ke;return qe||Oe&&Pt.forEach(Ct=>{Fe.removeMark(Ct.$from.pos,Ct.$to.pos)}),!0},unsetMark:(Fe,Oe={})=>({tr:ke,state:qe,dispatch:Pt})=>{var Ct;const{extendEmptyMarkRange:Ot=!1}=Oe,{selection:Dt}=ke,Xt=vt(Fe,qe.schema),{$from:Yt,empty:Jt,ranges:Qt}=Dt;if(!Pt)return!0;if(Jt&&Ot){let{from:on,to:Sn}=Dt;const Zn=(Ct=Yt.marks().find(Sr=>Sr.type===Xt))===null||Ct===void 0?void 0:Ct.attrs,sr=ht(Yt,Xt,Zn);sr&&(on=sr.from,Sn=sr.to),ke.removeMark(on,Sn,Xt)}else Qt.forEach(on=>{ke.removeMark(on.$from.pos,on.$to.pos,Xt)});return ke.removeStoredMark(Xt),!0},updateAttributes:(Fe,Oe={})=>({tr:ke,state:qe,dispatch:Pt})=>{let Ct=null,Ot=null;const Dt=nn(typeof Fe=="string"?Fe:Fe.name,qe.schema);return Dt?(Dt==="node"&&(Ct=_(Fe,qe.schema)),Dt==="mark"&&(Ot=vt(Fe,qe.schema)),Pt&&ke.selection.ranges.forEach(Xt=>{const Yt=Xt.$from.pos,Jt=Xt.$to.pos;qe.doc.nodesBetween(Yt,Jt,(Qt,on)=>{Ct&&Ct===Qt.type&&ke.setNodeMarkup(on,void 0,ur(ur({},Qt.attrs),Oe)),Ot&&Qt.marks.length&&Qt.marks.forEach(Sn=>{if(Ot===Sn.type){const Zn=Math.max(on,Yt),sr=Math.min(on+Qt.nodeSize,Jt);ke.addMark(Zn,sr,Ot.create(ur(ur({},Sn.attrs),Oe)))}})})}),!0):!1},wrapIn:(Fe,Oe={})=>({state:ke,dispatch:qe})=>{const Pt=_(Fe,ke.schema);return(0,v.ym)(Pt,Oe)(ke,qe)},wrapInList:(Fe,Oe={})=>({state:ke,dispatch:qe})=>{const Pt=_(Fe,ke.schema);return(0,E.KI)(Pt,Oe)(ke,qe)}});const Mi=se.create({name:"commands",addCommands(){return ur({},ui)}}),Bi=se.create({name:"editable",addProseMirrorPlugins(){return[new o.Sy({key:new o.H$("editable"),props:{editable:()=>this.editor.options.editable}})]}}),_i=se.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:Fe}=this;return[new o.Sy({key:new o.H$("focusEvents"),props:{handleDOMEvents:{focus:(Oe,ke)=>{Fe.isFocused=!0;const qe=Fe.state.tr.setMeta("focus",{event:ke}).setMeta("addToHistory",!1);return Oe.dispatch(qe),!1},blur:(Oe,ke)=>{Fe.isFocused=!1;const qe=Fe.state.tr.setMeta("blur",{event:ke}).setMeta("addToHistory",!1);return Oe.dispatch(qe),!1}}}})]}}),gi=se.create({name:"keymap",addKeyboardShortcuts(){const Fe=()=>this.editor.commands.first(({commands:Ot})=>[()=>Ot.undoInputRule(),()=>Ot.command(({tr:Dt})=>{const{selection:Xt,doc:Yt}=Dt,{empty:Jt,$anchor:Qt}=Xt,{pos:on,parent:Sn}=Qt,Zn=Qt.parent.isTextblock?Dt.doc.resolve(on-1):Qt,sr=Zn.parent.type.spec.isolating,Sr=Qt.pos-Qt.parentOffset,yr=sr&&Zn.parent.childCount===1?Sr===Qt.pos:o.Y1.atStart(Yt).from===on;return!Jt||!yr||!Sn.type.isTextblock||Sn.textContent.length?!1:Ot.clearNodes()}),()=>Ot.deleteSelection(),()=>Ot.joinBackward(),()=>Ot.selectNodeBackward()]),Oe=()=>this.editor.commands.first(({commands:Ot})=>[()=>Ot.deleteSelection(),()=>Ot.deleteCurrentNode(),()=>Ot.joinForward(),()=>Ot.selectNodeForward()]),qe={Enter:()=>this.editor.commands.first(({commands:Ot})=>[()=>Ot.newlineInCode(),()=>Ot.createParagraphNear(),()=>Ot.liftEmptyBlock(),()=>Ot.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:Fe,"Mod-Backspace":Fe,"Shift-Backspace":Fe,Delete:Oe,"Mod-Delete":Oe,"Mod-a":()=>this.editor.commands.selectAll()},Pt=ur({},qe),Ct=Vo(ur({},qe),{"Ctrl-h":Fe,"Alt-Backspace":Fe,"Ctrl-d":Oe,"Ctrl-Alt-Backspace":Oe,"Alt-Delete":Oe,"Alt-d":Oe,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()});return st()||wt()?Ct:Pt},addProseMirrorPlugins(){return[new o.Sy({key:new o.H$("clearDocument"),appendTransaction:(Fe,Oe,ke)=>{if(!(Fe.some(Zn=>Zn.docChanged)&&!Oe.doc.eq(ke.doc)))return;const{empty:Pt,from:Ct,to:Ot}=Oe.selection,Dt=o.Y1.atStart(Oe.doc).from,Xt=o.Y1.atEnd(Oe.doc).to;if(Pt||!(Ct===Dt&&Ot===Xt)||!(ke.doc.textBetween(0,ke.doc.content.size," "," ").length===0))return;const Qt=ke.tr,on=y({state:ke,transaction:Qt}),{commands:Sn}=new p({editor:this.editor,state:on});if(Sn.clearNodes(),!!Qt.steps.length)return Qt}})]}}),vi=se.create({name:"tabindex",addProseMirrorPlugins(){return[new o.Sy({key:new o.H$("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});var si=Object.freeze({__proto__:null,ClipboardTextSerializer:pe,Commands:Mi,Editable:Bi,FocusEvents:_i,Keymap:gi,Tabindex:vi});const xo=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function ri(Fe,Oe,ke){const qe=document.querySelector(`style[data-tiptap-style${ke?`-${ke}`:""}]`);if(qe!==null)return qe;const Pt=document.createElement("style");return Oe&&Pt.setAttribute("nonce",Oe),Pt.setAttribute(`data-tiptap-style${ke?`-${ke}`:""}`,""),Pt.innerHTML=Fe,document.getElementsByTagName("head")[0].appendChild(Pt),Pt}class Si extends O{constructor(Oe={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(Oe),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=ri(xo,this.options.injectNonce))}setOptions(Oe={}){this.options=ur(ur({},this.options),Oe),!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(Oe,ke=!0){this.setOptions({editable:Oe}),ke&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(Oe,ke){const qe=w(ke)?ke(Oe,[...this.state.plugins]):[...this.state.plugins,Oe],Pt=this.state.reconfigure({plugins:qe});this.view.updateState(Pt)}unregisterPlugin(Oe){if(this.isDestroyed)return;const ke=typeof Oe=="string"?`${Oe}$`:Oe.key,qe=this.state.reconfigure({plugins:this.state.plugins.filter(Pt=>!Pt.key.startsWith(ke))});this.view.updateState(qe)}createExtensionManager(){const ke=[...this.options.enableCoreExtensions?Object.values(si):[],...this.options.extensions].filter(qe=>["extension","node","mark"].includes(qe==null?void 0:qe.type));this.extensionManager=new te(ke,this)}createCommandManager(){this.commandManager=new p({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const Oe=no(this.options.content,this.schema,this.options.parseOptions),ke=je(Oe,this.options.autofocus);this.view=new f.tk(this.options.element,Vo(ur({},this.options.editorProps),{dispatchTransaction:this.dispatchTransaction.bind(this),state:o.yy.create({doc:Oe,selection:ke||void 0})}));const qe=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(qe),this.createNodeViews(),this.prependClass();const Pt=this.view.dom;Pt.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(Oe){this.isCapturingTransaction=!0,Oe(),this.isCapturingTransaction=!1;const ke=this.capturedTransaction;return this.capturedTransaction=null,ke}dispatchTransaction(Oe){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=Oe;return}Oe.steps.forEach(Ot=>{var Dt;return(Dt=this.capturedTransaction)===null||Dt===void 0?void 0:Dt.step(Ot)});return}const ke=this.state.apply(Oe),qe=!this.state.selection.eq(ke.selection);this.view.updateState(ke),this.emit("transaction",{editor:this,transaction:Oe}),qe&&this.emit("selectionUpdate",{editor:this,transaction:Oe});const Pt=Oe.getMeta("focus"),Ct=Oe.getMeta("blur");Pt&&this.emit("focus",{editor:this,event:Pt.event,transaction:Oe}),Ct&&this.emit("blur",{editor:this,event:Ct.event,transaction:Oe}),!(!Oe.docChanged||Oe.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:Oe})}getAttributes(Oe){return Dn(this.state,Oe)}isActive(Oe,ke){const qe=typeof Oe=="string"?Oe:null,Pt=typeof Oe=="string"?ke:Oe;return dn(this.state,qe,Pt)}getJSON(){return this.state.doc.toJSON()}getHTML(){return po(this.state.doc.content,this.schema)}getText(Oe){const{blockSeparator:ke=`

`,textSerializers:qe={}}=Oe||{};return Do(this.state.doc,{blockSeparator:ke,textSerializers:ur(ur({},_e(this.schema)),qe)})}get isEmpty(){return ft(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var Oe;return!(!((Oe=this.view)===null||Oe===void 0)&&Oe.docView)}}function Di(Fe){return new $({find:Fe.find,handler:({state:Oe,range:ke,match:qe})=>{const Pt=P(Fe.getAttributes,void 0,qe);if(Pt===!1||Pt===null)return null;const{tr:Ct}=Oe,Ot=qe[qe.length-1],Dt=qe[0];if(Ot){const Xt=Dt.search(/\S/),Yt=ke.from+Dt.indexOf(Ot),Jt=Yt+Ot.length;if(pr(ke.from,ke.to,Oe.doc).filter(Sn=>Sn.mark.type.excluded.find(sr=>sr===Fe.type&&sr!==Sn.mark.type)).filter(Sn=>Sn.to>Yt).length)return null;Jt<ke.to&&Ct.delete(Jt,ke.to),Yt>ke.from&&Ct.delete(ke.from+Xt,Yt);const on=ke.from+Xt+Ot.length;Ct.addMark(ke.from+Xt,on,Fe.type.create(Pt||{})),Ct.removeStoredMark(Fe.type)}}})}function rt(Fe){return new $({find:Fe.find,handler:({state:Oe,range:ke,match:qe})=>{const Pt=P(Fe.getAttributes,void 0,qe)||{},{tr:Ct}=Oe,Ot=ke.from;let Dt=ke.to;const Xt=Fe.type.create(Pt);if(qe[1]){const Yt=qe[0].lastIndexOf(qe[1]);let Jt=Ot+Yt;Jt>Dt?Jt=Dt:Dt=Jt+qe[1].length;const Qt=qe[0][qe[0].length-1];Ct.insertText(Qt,Ot+qe[0].length-1),Ct.replaceWith(Jt,Dt,Xt)}else qe[0]&&Ct.insert(Ot-1,Fe.type.create(Pt)).delete(Ct.mapping.map(Ot),Ct.mapping.map(Dt));Ct.scrollIntoView()}})}function Ge(Fe){return new $({find:Fe.find,handler:({state:Oe,range:ke,match:qe})=>{const Pt=Oe.doc.resolve(ke.from),Ct=P(Fe.getAttributes,void 0,qe)||{};if(!Pt.node(-1).canReplaceWith(Pt.index(-1),Pt.indexAfter(-1),Fe.type))return null;Oe.tr.delete(ke.from,ke.to).setBlockType(ke.from,ke.from,Fe.type,Ct)}})}function Je(Fe){return new $({find:Fe.find,handler:({state:Oe,range:ke,match:qe})=>{let Pt=Fe.replace,Ct=ke.from;const Ot=ke.to;if(qe[1]){const Dt=qe[0].lastIndexOf(qe[1]);Pt+=qe[0].slice(Dt+qe[1].length),Ct+=Dt;const Xt=Ct-Ot;Xt>0&&(Pt=qe[0].slice(Dt-Xt,Dt)+Pt,Ct=Ot)}Oe.tr.insertText(Pt,Ct,Ot)}})}function mt(Fe){return new $({find:Fe.find,handler:({state:Oe,range:ke,match:qe,chain:Pt})=>{const Ct=P(Fe.getAttributes,void 0,qe)||{},Ot=Oe.tr.delete(ke.from,ke.to),Xt=Ot.doc.resolve(ke.from).blockRange(),Yt=Xt&&(0,g.nd)(Xt,Fe.type,Ct);if(!Yt)return null;if(Ot.wrap(Xt,Yt),Fe.keepMarks&&Fe.editor){const{selection:Qt,storedMarks:on}=Oe,{splittableMarks:Sn}=Fe.editor.extensionManager,Zn=on||Qt.$to.parentOffset&&Qt.$from.marks();if(Zn){const sr=Zn.filter(Sr=>Sn.includes(Sr.type.name));Ot.ensureMarks(sr)}}if(Fe.keepAttributes){const Qt=Fe.type.name==="bulletList"||Fe.type.name==="orderedList"?"listItem":"taskList";Pt().updateAttributes(Qt,Ct).run()}const Jt=Ot.doc.resolve(ke.from-1).nodeBefore;Jt&&Jt.type===Fe.type&&(0,g.Mn)(Ot.doc,ke.from-1)&&(!Fe.joinPredicate||Fe.joinPredicate(qe,Jt))&&Ot.join(ke.from-1)}})}class bt{constructor(Oe={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=ur(ur({},this.config),Oe),this.name=this.config.name,Oe.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=P(S(this,"addOptions",{name:this.name}))),this.storage=P(S(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(Oe={}){return new bt(Oe)}configure(Oe={}){const ke=this.extend();return ke.options=ae(this.options,Oe),ke.storage=P(S(ke,"addStorage",{name:ke.name,options:ke.options})),ke}extend(Oe={}){const ke=new bt(Oe);return ke.parent=this,this.child=ke,ke.name=Oe.name?Oe.name:ke.parent.name,Oe.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${ke.name}".`),ke.options=P(S(ke,"addOptions",{name:ke.name})),ke.storage=P(S(ke,"addStorage",{name:ke.name,options:ke.options})),ke}static handleExit({editor:Oe,mark:ke}){const{tr:qe}=Oe.state,Pt=Oe.state.selection.$from;if(Pt.pos===Pt.end()){const Ot=Pt.marks();if(!!!Ot.find(Yt=>(Yt==null?void 0:Yt.type.name)===ke.name))return!1;const Xt=Ot.find(Yt=>(Yt==null?void 0:Yt.type.name)===ke.name);return Xt&&qe.removeStoredMark(Xt),qe.insertText(" ",Pt.pos),Oe.view.dispatch(qe),!0}return!1}}class jt{constructor(Oe={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=ur(ur({},this.config),Oe),this.name=this.config.name,Oe.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=P(S(this,"addOptions",{name:this.name}))),this.storage=P(S(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(Oe={}){return new jt(Oe)}configure(Oe={}){const ke=this.extend();return ke.options=ae(this.options,Oe),ke.storage=P(S(ke,"addStorage",{name:ke.name,options:ke.options})),ke}extend(Oe={}){const ke=new jt(Oe);return ke.parent=this,this.child=ke,ke.name=Oe.name?Oe.name:ke.parent.name,Oe.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${ke.name}".`),ke.options=P(S(ke,"addOptions",{name:ke.name})),ke.storage=P(S(ke,"addStorage",{name:ke.name,options:ke.options})),ke}}function Bt(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}class sn{constructor(Oe,ke,qe){this.isDragging=!1,this.component=Oe,this.editor=ke.editor,this.options=ur({stopEvent:null,ignoreMutation:null},qe),this.extension=ke.extension,this.node=ke.node,this.decorations=ke.decorations,this.getPos=ke.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(Oe){var ke,qe,Pt,Ct,Ot,Dt,Xt;const{view:Yt}=this.editor,Jt=Oe.target,Qt=Jt.nodeType===3?(ke=Jt.parentElement)===null||ke===void 0?void 0:ke.closest("[data-drag-handle]"):Jt.closest("[data-drag-handle]");if(!this.dom||!((qe=this.contentDOM)===null||qe===void 0)&&qe.contains(Jt)||!Qt)return;let on=0,Sn=0;if(this.dom!==Qt){const Sr=this.dom.getBoundingClientRect(),yr=Qt.getBoundingClientRect(),qr=(Pt=Oe.offsetX)!==null&&Pt!==void 0?Pt:(Ct=Oe.nativeEvent)===null||Ct===void 0?void 0:Ct.offsetX,uo=(Ot=Oe.offsetY)!==null&&Ot!==void 0?Ot:(Dt=Oe.nativeEvent)===null||Dt===void 0?void 0:Dt.offsetY;on=yr.x-Sr.x+qr,Sn=yr.y-Sr.y+uo}(Xt=Oe.dataTransfer)===null||Xt===void 0||Xt.setDragImage(this.dom,on,Sn);const Zn=o.qv.create(Yt.state.doc,this.getPos()),sr=Yt.state.tr.setSelection(Zn);Yt.dispatch(sr)}stopEvent(Oe){var ke;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:Oe});const qe=Oe.target;if(!(this.dom.contains(qe)&&!(!((ke=this.contentDOM)===null||ke===void 0)&&ke.contains(qe))))return!1;const Ct=Oe.type.startsWith("drag"),Ot=Oe.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(qe.tagName)||qe.isContentEditable)&&!Ot&&!Ct)return!0;const{isEditable:Xt}=this.editor,{isDragging:Yt}=this,Jt=!!this.node.type.spec.draggable,Qt=o.qv.isSelectable(this.node),on=Oe.type==="copy",Sn=Oe.type==="paste",Zn=Oe.type==="cut",sr=Oe.type==="mousedown";if(!Jt&&Qt&&Ct&&Oe.preventDefault(),Jt&&Ct&&!Yt)return Oe.preventDefault(),!1;if(Jt&&Xt&&!Yt&&sr){const Sr=qe.closest("[data-drag-handle]");Sr&&(this.dom===Sr||this.dom.contains(Sr))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(Yt||Ot||on||Sn||Zn||sr&&Qt)}ignoreMutation(Oe){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:Oe}):this.node.isLeaf||this.node.isAtom?!0:Oe.type==="selection"||this.dom.contains(Oe.target)&&Oe.type==="childList"&&(st()||Bt())&&this.editor.isFocused&&[...Array.from(Oe.addedNodes),...Array.from(Oe.removedNodes)].every(qe=>qe.isContentEditable)?!1:this.contentDOM===Oe.target&&Oe.type==="attributes"?!0:!this.contentDOM.contains(Oe.target)}updateAttributes(Oe){this.editor.commands.command(({tr:ke})=>{const qe=this.getPos();return ke.setNodeMarkup(qe,void 0,ur(ur({},this.node.attrs),Oe)),!0})}deleteNode(){const Oe=this.getPos(),ke=Oe+this.node.nodeSize;this.editor.commands.deleteRange({from:Oe,to:ke})}}function Cn(Fe){return new ie({find:Fe.find,handler:({state:Oe,range:ke,match:qe})=>{const Pt=P(Fe.getAttributes,void 0,qe);if(Pt===!1||Pt===null)return null;const{tr:Ct}=Oe,Ot=qe[qe.length-1],Dt=qe[0];let Xt=ke.to;if(Ot){const Yt=Dt.search(/\S/),Jt=ke.from+Dt.indexOf(Ot),Qt=Jt+Ot.length;if(pr(ke.from,ke.to,Oe.doc).filter(Sn=>Sn.mark.type.excluded.find(sr=>sr===Fe.type&&sr!==Sn.mark.type)).filter(Sn=>Sn.to>Jt).length)return null;Qt<ke.to&&Ct.delete(Qt,ke.to),Jt>ke.from&&Ct.delete(ke.from+Yt,Jt),Xt=ke.from+Yt+Ot.length,Ct.addMark(ke.from+Yt,Xt,Fe.type.create(Pt||{})),Ct.removeStoredMark(Fe.type)}}})}function fn(Fe){return Fe.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function Bn(Fe){return typeof Fe=="string"}function Br(Fe){return new ie({find:Fe.find,handler({match:Oe,chain:ke,range:qe}){const Pt=P(Fe.getAttributes,void 0,Oe);if(Pt===!1||Pt===null)return null;Oe.input&&ke().deleteRange(qe).insertContentAt(qe.from,{type:Fe.type.name,attrs:Pt})}})}function Or(Fe){return new ie({find:Fe.find,handler:({state:Oe,range:ke,match:qe})=>{let Pt=Fe.replace,Ct=ke.from;const Ot=ke.to;if(qe[1]){const Dt=qe[0].lastIndexOf(qe[1]);Pt+=qe[0].slice(Dt+qe[1].length),Ct+=Dt;const Xt=Ct-Ot;Xt>0&&(Pt=qe[0].slice(Dt-Xt,Dt)+Pt,Ct=Ot)}Oe.tr.insertText(Pt,Ct,Ot)}})}class Lr{constructor(Oe){this.transaction=Oe,this.currentStep=this.transaction.steps.length}map(Oe){let ke=!1;return{position:this.transaction.steps.slice(this.currentStep).reduce((Pt,Ct)=>{const Ot=Ct.getMap().mapResult(Pt);return Ot.deleted&&(ke=!0),Ot.pos},Oe),deleted:ke}}}},9353:(z,u,e)=>{"use strict";e.d(u,{q3:()=>g});var o=e(5865),f=e(2376),l=e(79253);class c{constructor({editor:y,element:p,view:O,tippyOptions:S={},updateDelay:x=250,shouldShow:T}){this.preventHide=!1,this.shouldShow=({view:_,state:d,from:s,to:w})=>{const{doc:P,selection:I}=d,{empty:D}=I,N=!P.textBetween(s,w).length&&(0,o.xh)(d.selection),C=this.element.contains(document.activeElement);return!(!(_.hasFocus()||C)||D||N||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:_})=>{var d;if(this.preventHide){this.preventHide=!1;return}_!=null&&_.relatedTarget&&(!((d=this.element.parentNode)===null||d===void 0)&&d.contains(_.relatedTarget))||this.hide()},this.tippyBlurHandler=_=>{this.blurHandler({event:_})},this.handleDebouncedUpdate=(_,d)=>{this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(_,d)},this.updateDelay)},this.updateHandler=(_,d)=>{var s,w,P;const{state:I,composing:D}=_,{doc:N,selection:C}=I,A=d&&d.doc.eq(N)&&d.selection.eq(C);if(D||A)return;this.createTooltip();const{ranges:L}=C,U=Math.min(...L.map($=>$.$from.pos)),W=Math.max(...L.map($=>$.$to.pos));if(!((s=this.shouldShow)===null||s===void 0?void 0:s.call(this,{editor:this.editor,view:_,state:I,oldState:d,from:U,to:W}))){this.hide();return}(w=this.tippy)===null||w===void 0||w.setProps({getReferenceClientRect:((P=this.tippyOptions)===null||P===void 0?void 0:P.getReferenceClientRect)||(()=>{if((0,o.EG)(I.selection)){let $=_.nodeDOM(U);const q=$.dataset.nodeViewWrapper?$:$.querySelector("[data-node-view-wrapper]");if(q&&($=q.firstChild),$)return $.getBoundingClientRect()}return(0,o.pr)(_,U,W)})}),this.show()},this.editor=y,this.element=p,this.view=O,this.updateDelay=x,T&&(this.shouldShow=T),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=S,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:y}=this.editor.options,p=!!y.parentElement;this.tippy||!p||(this.tippy=(0,l.ZP)(y,ur({duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle"},this.tippyOptions)),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(y,p){const{state:O}=y,S=O.selection.$from.pos!==O.selection.$to.pos;if(this.updateDelay>0&&S){this.handleDebouncedUpdate(y,p);return}this.updateHandler(y,p)}show(){var y;(y=this.tippy)===null||y===void 0||y.show()}hide(){var y;(y=this.tippy)===null||y===void 0||y.hide()}destroy(){var y,p;!((y=this.tippy)===null||y===void 0)&&y.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(p=this.tippy)===null||p===void 0||p.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const g=E=>new f.Sy({key:typeof E.pluginKey=="string"?new f.H$(E.pluginKey):E.pluginKey,view:y=>new c(ur({view:y},E))}),v=o.hj.create({name:"bubbleMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"bubbleMenu",updateDelay:void 0,shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[g({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,updateDelay:this.options.updateDelay,shouldShow:this.options.shouldShow})]:[]}})},71284:(z,u,e)=>{"use strict";e.d(u,{M_:()=>s,NM:()=>c,T5:()=>T,fW:()=>P,jE:()=>D,kg:()=>y});var o=e(9353),f=e(98661),l=e(5865);const c=N=>{const[C,A]=(0,f.useState)(null);return(0,f.useEffect)(()=>{if(!C||N.editor.isDestroyed)return;const{pluginKey:L="bubbleMenu",editor:U,tippyOptions:W={},updateDelay:G,shouldShow:$=null}=N,q=(0,o.q3)({updateDelay:G,editor:U,element:C,pluginKey:L,shouldShow:$,tippyOptions:W});return U.registerPlugin(q),()=>U.unregisterPlugin(L)},[N.editor,C]),f.default.createElement("div",{ref:A,className:N.className,style:{visibility:"hidden"}},N.children)};class g extends l.ML{constructor(){super(...arguments),this.contentComponent=null}}const v=({renderers:N})=>f.default.createElement(f.default.Fragment,null,Object.entries(N).map(([C,A])=>f.default.createPortal(A.reactElement,A.element,C)));class E extends f.default.Component{constructor(C){super(C),this.editorContentRef=f.default.createRef(),this.initialized=!1,this.state={renderers:{}}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const{editor:C}=this.props;if(C&&C.options.element){if(C.contentComponent)return;const A=this.editorContentRef.current;A.append(...C.options.element.childNodes),C.setOptions({element:A}),C.contentComponent=this,C.createNodeViews(),this.initialized=!0}}maybeFlushSync(C){this.initialized?(0,f.flushSync)(C):C()}setRenderer(C,A){this.maybeFlushSync(()=>{this.setState(({renderers:L})=>({renderers:Vo(ur({},L),{[C]:A})}))})}removeRenderer(C){this.maybeFlushSync(()=>{this.setState(({renderers:A})=>{const L=ur({},A);return delete L[C],{renderers:L}})})}componentWillUnmount(){const{editor:C}=this.props;if(!C||(this.initialized=!1,C.isDestroyed||C.view.setProps({nodeViews:{}}),C.contentComponent=null,!C.options.element.firstChild))return;const A=document.createElement("div");A.append(...C.options.element.childNodes),C.setOptions({element:A})}render(){const L=this.props,{editor:C}=L,A=hi(L,["editor"]);return f.default.createElement(f.default.Fragment,null,f.default.createElement("div",ur({ref:this.editorContentRef},A)),f.default.createElement(v,{renderers:this.state.renderers}))}}const y=f.default.memo(E),p=N=>{const[C,A]=useState(null);return useEffect(()=>{if(!C||N.editor.isDestroyed)return;const{pluginKey:L="floatingMenu",editor:U,tippyOptions:W={},shouldShow:G=null}=N,$=FloatingMenuPlugin({pluginKey:L,editor:U,element:C,tippyOptions:W,shouldShow:G});return U.registerPlugin($),()=>U.unregisterPlugin(L)},[N.editor,C]),React.createElement("div",{ref:A,className:N.className,style:{visibility:"hidden"}},N.children)},O=(0,f.createContext)({onDragStart:void 0}),S=()=>(0,f.useContext)(O),x=N=>{const C=N.as||"div",{nodeViewContentRef:A}=S();return React.createElement(C,Vo(ur({},N),{ref:A,"data-node-view-content":"",style:ur({whiteSpace:"pre-wrap"},N.style)}))},T=f.default.forwardRef((N,C)=>{const{onDragStart:A}=S(),L=N.as||"div";return f.default.createElement(L,Vo(ur({},N),{ref:C,"data-node-view-wrapper":"",onDragStart:A,style:ur({whiteSpace:"normal"},N.style)}))});function _(N){return!!(typeof N=="function"&&N.prototype&&N.prototype.isReactComponent)}function d(N){var C;return typeof N=="object"&&((C=N.$$typeof)===null||C===void 0?void 0:C.toString())==="Symbol(react.forward_ref)"}class s{constructor(C,{editor:A,props:L={},as:U="div",className:W="",attrs:G}){this.ref=null,this.id=Math.floor(Math.random()*4294967295).toString(),this.component=C,this.editor=A,this.props=L,this.element=document.createElement(U),this.element.classList.add("react-renderer"),W&&this.element.classList.add(...W.split(" ")),G&&Object.keys(G).forEach($=>{this.element.setAttribute($,G[$])}),this.render()}render(){var C,A;const L=this.component,U=this.props;(_(L)||d(L))&&(U.ref=W=>{this.ref=W}),this.reactElement=f.default.createElement(L,ur({},U)),(A=(C=this.editor)===null||C===void 0?void 0:C.contentComponent)===null||A===void 0||A.setRenderer(this.id,this)}updateProps(C={}){this.props=ur(ur({},this.props),C),this.render()}destroy(){var C,A;(A=(C=this.editor)===null||C===void 0?void 0:C.contentComponent)===null||A===void 0||A.removeRenderer(this.id)}}class w extends l.DK{mount(){const C={editor:this.editor,node:this.node,decorations:this.decorations,selected:!1,extension:this.extension,getPos:()=>this.getPos(),updateAttributes:(W={})=>this.updateAttributes(W),deleteNode:()=>this.deleteNode()};if(!this.component.displayName){const W=G=>G.charAt(0).toUpperCase()+G.substring(1);this.component.displayName=W(this.extension.name)}const A=W=>{const G=this.component,$=this.onDragStart.bind(this),q=J=>{J&&this.contentDOMElement&&J.firstChild!==this.contentDOMElement&&J.appendChild(this.contentDOMElement)};return f.default.createElement(f.default.Fragment,null,f.default.createElement(O.Provider,{value:{onDragStart:$,nodeViewContentRef:q}},f.default.createElement(G,ur({},W))))};A.displayName="ReactNodeView",this.contentDOMElement=this.node.isLeaf?null:document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement&&(this.contentDOMElement.style.whiteSpace="inherit");let L=this.node.isInline?"span":"div";this.options.as&&(L=this.options.as);const{className:U=""}=this.options;this.renderer=new s(A,{editor:this.editor,props:C,as:L,className:`node-${this.node.type.name} ${U}`.trim(),attrs:this.options.attrs})}get dom(){var C;if(this.renderer.element.firstElementChild&&!(!((C=this.renderer.element.firstElementChild)===null||C===void 0)&&C.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}update(C,A){const L=U=>{this.renderer.updateProps(U)};if(C.type!==this.node.type)return!1;if(typeof this.options.update=="function"){const U=this.node,W=this.decorations;return this.node=C,this.decorations=A,this.options.update({oldNode:U,oldDecorations:W,newNode:C,newDecorations:A,updateProps:()=>L({node:C,decorations:A})})}return C===this.node&&this.decorations===A||(this.node=C,this.decorations=A,L({node:C,decorations:A})),!0}selectNode(){this.renderer.updateProps({selected:!0})}deselectNode(){this.renderer.updateProps({selected:!1})}destroy(){this.renderer.destroy(),this.contentDOMElement=null}}function P(N,C){return A=>A.editor.contentComponent?new w(N,A,C):{}}function I(){const[,N]=(0,f.useState)(0);return()=>N(C=>C+1)}const D=(N={},C=[])=>{const[A,L]=(0,f.useState)(null),U=I(),{onBeforeCreate:W,onBlur:G,onCreate:$,onDestroy:q,onFocus:J,onSelectionUpdate:R,onTransaction:j,onUpdate:ie}=N;return(0,f.useEffect)(()=>{A&&(W&&(A.off("beforeCreate"),A.on("beforeCreate",W)),G&&(A.off("blur"),A.on("blur",G)),$&&(A.off("create"),A.on("create",$)),q&&(A.off("destroy"),A.on("destroy",q)),J&&(A.off("focus"),A.on("focus",J)),R&&(A.off("selectionUpdate"),A.on("selectionUpdate",R)),j&&(A.off("transaction"),A.on("transaction",j)),ie&&(A.off("update"),A.on("update",ie)))},[W,G,$,q,J,R,j,ie]),(0,f.useEffect)(()=>{let le=!0;const ye=new g(N);return L(ye),ye.on("transaction",()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{le&&U()})})}),()=>{ye.destroy(),le=!1}},C),A}},48583:(z,u,e)=>{"use strict";e.d(u,{KO:()=>O});var o=e(98661),f=e(15103);const l=(0,o.createContext)(void 0),c=S=>{const x=(0,o.useContext)(l);return(S==null?void 0:S.store)||x||(0,f.K7)()},g=({children:S,store:x})=>{const T=useRef();return!x&&!T.current&&(T.current=createStore()),createElement(l.Provider,{value:x||T.current},S)},v=S=>S instanceof Promise,E=o.default.use||(S=>{if(S.status==="pending")throw S;if(S.status==="fulfilled")return S.value;throw S.status==="rejected"?S.reason:(S.status="pending",S.then(x=>{S.status="fulfilled",S.value=x},x=>{S.status="rejected",S.reason=x}),S)});function y(S,x){const T=c(x),[[_,d,s],w]=(0,o.useReducer)(D=>{const N=T.get(S);return Object.is(D[0],N)&&D[1]===T&&D[2]===S?D:[N,T,S]},void 0,()=>[T.get(S),T,S]);let P=_;(d!==T||s!==S)&&(w(),P=T.get(S));const I=x==null?void 0:x.delay;return(0,o.useEffect)(()=>{const D=T.sub(S,()=>{if(typeof I=="number"){setTimeout(w,I);return}w()});return w(),D},[T,S,I]),(0,o.useDebugValue)(P),v(P)?E(P):P}function p(S,x){const T=c(x);return(0,o.useCallback)((...d)=>{if(!("write"in S))throw new Error("not writable atom");return T.set(S,...d)},[T,S])}function O(S,x){return[y(S,x),p(S,x)]}},15103:(z,u,e)=>{"use strict";e.d(u,{K7:()=>s,cn:()=>f});let o=0;function f(w,P){const I=`atom${++o}`,D={toString:()=>I};return typeof w=="function"?D.read=w:(D.init=w,D.read=N=>N(D),D.write=(N,C,A)=>C(D,typeof A=="function"?A(N(D)):A)),P&&(D.write=P),D}const l=w=>"init"in w,c=w=>!!w.write,g=new WeakMap,v=(w,P)=>{g.set(w,P),w.catch(()=>{}).finally(()=>g.delete(w))},E=(w,P)=>{const I=g.get(w);I&&(g.delete(w),I(P))},y=(w,P)=>{w.status="fulfilled",w.value=P},p=(w,P)=>{w.status="rejected",w.reason=P},O=(w,P)=>"v"in w&&"v"in P&&Object.is(w.v,P.v),S=(w,P)=>"e"in w&&"e"in P&&Object.is(w.e,P.e),x=w=>"v"in w&&w.v instanceof Promise,T=w=>{if("e"in w)throw w.e;return w.v},_=()=>{const w=new WeakMap,P=new WeakMap,I=new Map;let D,N,C;D=new Set,N=new Set,C=new Set;const A=ae=>w.get(ae),L=(ae,se)=>{Object.freeze(se);const be=w.get(ae);if(w.set(ae,se),I.has(ae)||I.set(ae,be),be&&x(be)){const _e="v"in se?se.v instanceof Promise?se.v:Promise.resolve(se.v):Promise.reject(se.e);E(be.v,_e)}},U=(ae,se,be)=>{const _e=new Map;let pe=!1;be.forEach(me=>{const Te=me===ae?se:A(me);Te?(_e.set(me,Te),se.d.get(me)!==Te&&(pe=!0)):console.warn("[Bug] atom state not found")}),(pe||se.d.size!==_e.size)&&(se.d=_e)},W=(ae,se,be)=>{const _e=A(ae),pe={d:(_e==null?void 0:_e.d)||new Map,v:se};return be&&U(ae,pe,be),_e&&O(_e,pe)&&_e.d===pe.d?_e:(L(ae,pe),pe)},G=(ae,se,be)=>{const _e=A(ae),pe={d:(_e==null?void 0:_e.d)||new Map,e:se};return be&&U(ae,pe,be),_e&&S(_e,pe)&&_e.d===pe.d?_e:(L(ae,pe),pe)},$=ae=>{const se=A(ae);if(se&&(se.d.forEach((ce,Le)=>{Le!==ae&&!P.has(Le)&&$(Le)}),Array.from(se.d).every(([ce,Le])=>ce===ae||A(ce)===Le)))return se;const be=new Set;let _e=!0;const pe=ce=>{if(be.add(ce),ce===ae){const Ne=A(ce);if(Ne)return T(Ne);if(l(ce))return ce.init;throw new Error("no atom init")}const Le=$(ce);return T(Le)};let me,Te;const ve={get signal(){return me||(me=new AbortController),me.signal},get setSelf(){return c(ae)||console.warn("setSelf function cannot be used with read-only atom"),!Te&&c(ae)&&(Te=(...ce)=>{if(_e&&console.warn("setSelf function cannot be called in sync"),!_e)return ye(ae,...ce)}),Te}};try{const ce=ae.read(pe,ve);if(ce instanceof Promise){let Le;const Ne=new Promise((He,ze)=>{let Xe=!1;ce.then(_t=>{Xe||(Xe=!0,W(ae,Ne,be),y(Ne,_t),He(_t))},_t=>{Xe||(Xe=!0,W(ae,Ne,be),p(Ne,_t),ze(_t))}),Le=_t=>{Xe||(Xe=!0,_t.then(we=>y(Ne,we),we=>p(Ne,we)),He(_t))}});return Ne.status="pending",v(Ne,He=>{He&&Le(He),me==null||me.abort()}),W(ae,Ne,be)}return W(ae,ce,be)}catch(ce){return G(ae,ce,be)}finally{_e=!1}},q=ae=>T($(ae)),J=ae=>{let se=P.get(ae);return se||(se=ue(ae)),se},R=(ae,se)=>!se.l.size&&(!se.t.size||se.t.size===1&&se.t.has(ae)),j=ae=>{const se=P.get(ae);se&&R(ae,se)&&oe(ae)},ie=ae=>{const se=P.get(ae);se==null||se.t.forEach(be=>{if(be!==ae){const _e=A(be),pe=$(be);(!_e||!O(_e,pe))&&ie(be)}})},le=(ae,...se)=>{let be=!0;const _e=Te=>T($(Te)),pe=(Te,...ve)=>{let ce;if(Te===ae){if(!l(Te))throw new Error("atom not writable");const Le=A(Te),Ne=W(Te,ve[0]);(!Le||!O(Le,Ne))&&ie(Te)}else ce=le(Te,...ve);return be||Z(),ce},me=ae.write(_e,pe,...se);return be=!1,me},ye=(ae,...se)=>{const be=le(ae,...se);return Z(),be},ue=(ae,se)=>{const be={t:new Set(se&&[se]),l:new Set};if(P.set(ae,be),C.add(ae),$(ae).d.forEach((_e,pe)=>{const me=P.get(pe);me?me.t.add(ae):pe!==ae&&ue(pe,ae)}),$(ae),c(ae)&&ae.onMount){const _e=ae.onMount((...pe)=>ye(ae,...pe));_e&&(be.u=_e)}return be},oe=ae=>{var se;const be=(se=P.get(ae))==null?void 0:se.u;be&&be(),P.delete(ae),C.delete(ae);const _e=A(ae);_e?(x(_e)&&E(_e.v),_e.d.forEach((pe,me)=>{if(me!==ae){const Te=P.get(me);Te&&(Te.t.delete(ae),R(me,Te)&&oe(me))}})):console.warn("[Bug] could not find atom state to unmount",ae)},te=(ae,se,be)=>{const _e=new Set(se.d.keys());be==null||be.forEach((pe,me)=>{if(_e.has(me)){_e.delete(me);return}const Te=P.get(me);Te&&(Te.t.delete(ae),R(me,Te)&&oe(me))}),_e.forEach(pe=>{const me=P.get(pe);me?me.t.add(ae):P.has(ae)&&ue(pe,ae)})},Z=()=>{for(;I.size;){const ae=Array.from(I);I.clear(),ae.forEach(([se,be])=>{const _e=A(se);if(_e){_e.d!==(be==null?void 0:be.d)&&te(se,_e,be==null?void 0:be.d);const pe=P.get(se);pe&&!(be&&!x(be)&&(O(be,_e)||S(be,_e)))&&pe.l.forEach(me=>me())}else console.warn("[Bug] no atom state to flush")})}D.forEach(ae=>ae()),N.forEach(ae=>ae("state"))},re=(ae,se)=>{const be=J(ae);Z();const _e=be.l;return _e.add(se),N.forEach(pe=>pe("sub")),()=>{_e.delete(se),j(ae),N.forEach(pe=>pe("unsub"))}};return{get:q,set:ye,sub:re,dev_subscribe_state:ae=>(console.warn("[DEPRECATED] dev_subscribe_state is deprecated and will be removed in the next minor version. use dev_subscribe_store instead."),D.add(ae),()=>{D.delete(ae)}),dev_subscribe_store:ae=>(N.add(ae),()=>{N.delete(ae)}),dev_get_mounted_atoms:()=>C.values(),dev_get_atom_state:ae=>w.get(ae),dev_get_mounted:ae=>P.get(ae),dev_restore_atoms:ae=>{for(const[se,be]of ae)l(se)&&(W(se,be),ie(se));Z()}}};let d;const s=()=>(d||(d=_()),d)},95495:(z,u,e)=>{"use strict";e.d(u,{xu:()=>c});const o=Symbol();function f(oe){const te=atom(oe,(Z,re,ae)=>{const se=typeof ae=="function"?ae(Z(te)):ae;re(te,se===o?oe:se)});return te}function l(oe,te){const Z=atom(oe,(re,ae,se)=>ae(Z,te(re(Z),se)));return Z}function c(oe,te){let Z=null;const re=new Map,ae=se=>{let be;if(te===void 0)be=re.get(se);else for(const[pe,me]of re)if(te(pe,se)){be=me;break}if(be!==void 0)if(Z!=null&&Z(be[1],se))ae.remove(se);else return be[0];const _e=oe(se);return re.set(se,[_e,Date.now()]),_e};return ae.remove=se=>{if(te===void 0)re.delete(se);else for(const[be]of re)if(te(be,se)){re.delete(be);break}},ae.setShouldRemove=se=>{if(Z=se,!!Z)for(const[be,_e]of re)Z(_e[1],be)&&re.delete(be)},ae}const g=(oe,te,Z)=>(te.has(Z)?te:te.set(Z,oe())).get(Z),v=new WeakMap,E=(oe,te,Z,re)=>{const ae=g(()=>new WeakMap,v,te),se=g(()=>new WeakMap,ae,Z);return g(oe,se,re)};function y(oe,te,Z=Object.is){return E(()=>{const re=Symbol(),ae=([be,_e])=>{if(_e===re)return te(be);const pe=te(be,_e);return Z(_e,pe)?_e:pe},se=atom(be=>{const _e=be(se),pe=be(oe);return pe instanceof Promise||_e instanceof Promise?Promise.all([pe,_e]).then(ae):ae([pe,_e])});return se.init=re,se},oe,te,Z)}const p=new WeakMap,O=(oe,te)=>(p.has(te)?p:p.set(te,oe())).get(te),S=oe=>{if(typeof oe!="object"||oe===null)return;Object.freeze(oe);const te=Object.getOwnPropertyNames(oe);for(const Z of te){const re=oe[Z];S(re)}return oe};function x(oe){return O(()=>atom(Z=>S(Z(oe)),(Z,re,ae)=>re(oe,ae)),oe)}function T(oe){return(...te)=>{const Z=oe(...te),re=Z.read;return Z.read=(ae,se)=>S(re(ae,se)),Z}}const _=(oe,te,Z)=>(te.has(Z)?te:te.set(Z,oe())).get(Z),d=new WeakMap,s=(oe,te,Z)=>{const re=_(()=>new WeakMap,d,te);return _(oe,re,Z)},w={},P=oe=>!!oe.write,I=oe=>typeof oe=="function";function D(oe,te){return s(()=>{const Z=new WeakMap,re=(be,_e)=>{let pe=Z.get(be);if(pe)return pe;const me=_e&&Z.get(_e),Te=[],ve=[];return be.forEach((ce,Le)=>{const Ne=te?te(ce):Le;ve[Le]=Ne;const He=me&&me.atomList[me.keyList.indexOf(Ne)];if(He){Te[Le]=He;return}const ze=_t=>{const we=_t(ae),We=_t(oe),tt=re(We,we==null?void 0:we.arr).keyList.indexOf(Ne);if(tt<0||tt>=We.length){const et=be[re(be).keyList.indexOf(Ne)];if(et)return et;throw new Error("splitAtom: index out of bounds for read")}return We[tt]},Xe=(_t,we,We)=>{const Ie=_t(ae),tt=_t(oe),ht=re(tt,Ie==null?void 0:Ie.arr).keyList.indexOf(Ne);if(ht<0||ht>=tt.length)throw new Error("splitAtom: index out of bounds for write");const vt=I(We)?We(tt[ht]):We;we(oe,[...tt.slice(0,ht),vt,...tt.slice(ht+1)])};Te[Le]=P(oe)?atom(ze,Xe):atom(ze)}),me&&me.keyList.length===ve.length&&me.keyList.every((ce,Le)=>ce===ve[Le])?pe=me:pe={arr:be,atomList:Te,keyList:ve},Z.set(be,pe),pe},ae=atom(be=>{const _e=be(ae),pe=be(oe);return re(pe,_e==null?void 0:_e.arr)});ae.debugPrivate=!0,ae.init=void 0;const se=P(oe)?atom(be=>be(ae).atomList,(be,_e,pe)=>{switch(pe.type){case"remove":{const me=be(se).indexOf(pe.atom);if(me>=0){const Te=be(oe);_e(oe,[...Te.slice(0,me),...Te.slice(me+1)])}break}case"insert":{const me=pe.before?be(se).indexOf(pe.before):be(se).length;if(me>=0){const Te=be(oe);_e(oe,[...Te.slice(0,me),pe.value,...Te.slice(me)])}break}case"move":{const me=be(se).indexOf(pe.atom),Te=pe.before?be(se).indexOf(pe.before):be(se).length;if(me>=0&&Te>=0){const ve=be(oe);me<Te?_e(oe,[...ve.slice(0,me),...ve.slice(me+1,Te),ve[me],...ve.slice(Te)]):_e(oe,[...ve.slice(0,Te),ve[me],...ve.slice(Te,me),...ve.slice(me+1)])}break}}}):atom(be=>be(ae).atomList);return se},oe,te||w)}const N=(oe,te)=>typeof te=="function"?te(oe):te;function C(oe){const te=Symbol(),Z=atom(te);Z.debugPrivate=!0;const re=atom((ae,se)=>{const be=ae(Z);return be!==te?be:oe(ae,se)},(ae,se,be)=>{if(be===o)return se(Z,te);const _e=ae(re);return _e instanceof Promise?_e.then(pe=>se(Z,N(pe,be))):se(Z,N(_e,be))});return re}const A=Symbol();function L(oe){let te,Z;const re={getItem:ae=>{var se,be;const _e=me=>{if(me=me||"",te!==me){try{Z=JSON.parse(me)}catch(Te){return A}te=me}return Z},pe=(be=(se=oe())==null?void 0:se.getItem(ae))!=null?be:null;return pe instanceof Promise?pe.then(_e):_e(pe)},setItem:(ae,se)=>{var be;return(be=oe())==null?void 0:be.setItem(ae,JSON.stringify(se))},removeItem:ae=>{var se;return(se=oe())==null?void 0:se.removeItem(ae)}};return typeof window!="undefined"&&typeof window.addEventListener=="function"&&(re.subscribe=(ae,se)=>{const be=_e=>{_e.storageArea===oe()&&_e.key===ae&&_e.newValue&&se(JSON.parse(_e.newValue))};return window.addEventListener("storage",be),()=>{window.removeEventListener("storage",be)}}),re}const U=L(()=>typeof window!="undefined"?window.localStorage:void 0);function W(oe,te,Z=U){const re=atom(te);return re.debugPrivate=!0,re.onMount=se=>{const be=Z.getItem(oe);be instanceof Promise?be.then(pe=>se(pe===A?te:pe)):se(be===A?te:be);let _e;return Z.subscribe&&(_e=Z.subscribe(oe,se)),_e},atom(se=>se(re),(se,be,_e)=>{const pe=typeof _e=="function"?_e(se(re)):_e;return pe===o?(be(re,te),Z.removeItem(oe)):(be(re,pe),Z.setItem(oe,pe))})}function G(oe,te){const Z=se=>{if("e"in se)throw se.e;return se.d},re=atom(se=>{var be;let _e=oe(se);const pe=(be=_e[Symbol.observable])==null?void 0:be.call(_e);pe&&(_e=pe);let me;const Te=()=>new Promise(We=>{me=We}),ve=te&&"initialValue"in te?{d:typeof te.initialValue=="function"?te.initialValue():te.initialValue}:Te();let ce,Le;const Ne=We=>{Le=We,me==null||me(We),ce==null||ce(We)};let He,ze;const Xe=()=>!ce,_t=()=>{He&&(clearTimeout(ze),He.unsubscribe()),He=_e.subscribe({next:We=>Ne({d:We}),error:We=>Ne({e:We}),complete:()=>{}}),Xe()&&(te!=null&&te.unstable_timeout)&&(ze=setTimeout(()=>{He&&(He.unsubscribe(),He=void 0)},te.unstable_timeout))};_t();const we=atom(Le||ve);return we.debugPrivate=!0,we.onMount=We=>(ce=We,Le&&We(Le),He?clearTimeout(ze):_t(),()=>{ce=void 0,He&&(He.unsubscribe(),He=void 0)}),[we,_e,Te,_t,Xe]});return re.debugPrivate=!0,atom(se=>{const[be]=se(re),_e=se(be);return _e instanceof Promise?_e.then(Z):Z(_e)},(se,be,_e)=>{const[pe,me,Te,ve,ce]=se(re);if("next"in me)ce()&&(be(pe,Te()),ve()),me.next(_e);else throw new Error("observable is not subject")})}const $=new WeakMap,q=(oe,te)=>($.has(te)?$:$.set(te,oe())).get(te),J={state:"loading"};function R(oe){return q(()=>{const te=new WeakMap,Z=atom(0);Z.debugPrivate=!0;const re=atom((ae,{setSelf:se})=>{ae(Z);const be=ae(oe);if(!(be instanceof Promise))return{state:"hasData",data:be};const _e=te.get(be);return _e||(te.set(be,J),be.then(pe=>{te.set(be,{state:"hasData",data:pe})},pe=>{te.set(be,{state:"hasError",error:pe})}).finally(se),J)},(ae,se)=>{se(Z,be=>be+1)});return re.debugPrivate=!0,atom(ae=>ae(re))},oe)}const j=(oe,te,Z)=>(te.has(Z)?te:te.set(Z,oe())).get(Z),ie=new WeakMap,le=(oe,te,Z)=>{const re=j(()=>new WeakMap,ie,te);return j(oe,re,Z)},ye=()=>{};function ue(oe,te=ye){return le(()=>{const Z=new WeakMap,re=new WeakMap,ae=atom(0);ae.debugPrivate=!0;const se=atom((be,{setSelf:_e})=>{be(ae);const pe=be(se),me=be(oe);if(me===(pe==null?void 0:pe.p)){if(Z.has(me))throw Z.get(me);if(re.has(me))return{p:me,v:re.get(me)}}return me!==(pe==null?void 0:pe.p)&&me.then(Te=>re.set(me,Te),Te=>Z.set(me,Te)).finally(_e),pe&&"v"in pe?{p:me,f:te(pe.v)}:{p:me,f:te()}},(be,_e)=>{_e(ae,pe=>pe+1)});return se.init=void 0,se.debugPrivate=!0,atom(be=>{const _e=be(se);return"v"in _e?_e.v:_e.f})},oe,te)}},25804:(z,u,e)=>{"use strict";e.d(u,{Ig:()=>P,MI:()=>w,N0:()=>$,NE:()=>c,QK:()=>D,U9:()=>ie,X0:()=>L,Y_:()=>_,_M:()=>S,al:()=>v,mD:()=>A,nw:()=>le,o:()=>d,uJ:()=>ue,uo:()=>C,xb:()=>I,ym:()=>ye});var o=e(16560),f=e(87823),l=e(2376);const c=(ve,ce)=>ve.selection.empty?!1:(ce&&ce(ve.tr.deleteSelection().scrollIntoView()),!0);function g(ve,ce){let{$cursor:Le}=ve.selection;return!Le||(ce?!ce.endOfTextblock("backward",ve):Le.parentOffset>0)?null:Le}const v=(ve,ce,Le)=>{let Ne=g(ve,Le);if(!Ne)return!1;let He=x(Ne);if(!He){let Xe=Ne.blockRange(),_t=Xe&&(0,o.k9)(Xe);return _t==null?!1:(ce&&ce(ve.tr.lift(Xe,_t).scrollIntoView()),!0)}let ze=He.nodeBefore;if(!ze.type.spec.isolating&&R(ve,He,ce))return!0;if(Ne.parent.content.size==0&&(O(ze,"end")||l.qv.isSelectable(ze))){let Xe=(0,o.dR)(ve.doc,Ne.before(),Ne.after(),f.p2.empty);if(Xe&&Xe.slice.size<Xe.to-Xe.from){if(ce){let _t=ve.tr.step(Xe);_t.setSelection(O(ze,"end")?l.Y1.findFrom(_t.doc.resolve(_t.mapping.map(He.pos,-1)),-1):l.qv.create(_t.doc,He.pos-ze.nodeSize)),ce(_t.scrollIntoView())}return!0}}return ze.isAtom&&He.depth==Ne.depth-1?(ce&&ce(ve.tr.delete(He.pos-ze.nodeSize,He.pos).scrollIntoView()),!0):!1},E=(ve,ce,Le)=>{let Ne=g(ve,Le);if(!Ne)return!1;let He=x(Ne);return He?p(ve,He,ce):!1},y=(ve,ce,Le)=>{let Ne=T(ve,Le);if(!Ne)return!1;let He=s(Ne);return He?p(ve,He,ce):!1};function p(ve,ce,Le){let Ne=ce.nodeBefore,He=Ne,ze=ce.pos-1;for(;!He.isTextblock;ze--){if(He.type.spec.isolating)return!1;let Ie=He.lastChild;if(!Ie)return!1;He=Ie}let Xe=ce.nodeAfter,_t=Xe,we=ce.pos+1;for(;!_t.isTextblock;we++){if(_t.type.spec.isolating)return!1;let Ie=_t.firstChild;if(!Ie)return!1;_t=Ie}let We=replaceStep(ve.doc,ze,we,Slice.empty);if(!We||We.from!=ze||We.slice.size>=we-ze)return!1;if(Le){let Ie=ve.tr.step(We);Ie.setSelection(TextSelection.create(Ie.doc,ze)),Le(Ie.scrollIntoView())}return!0}function O(ve,ce,Le=!1){for(let Ne=ve;Ne;Ne=ce=="start"?Ne.firstChild:Ne.lastChild){if(Ne.isTextblock)return!0;if(Le&&Ne.childCount!=1)return!1}return!1}const S=(ve,ce,Le)=>{let{$head:Ne,empty:He}=ve.selection,ze=Ne;if(!He)return!1;if(Ne.parent.isTextblock){if(Le?!Le.endOfTextblock("backward",ve):Ne.parentOffset>0)return!1;ze=x(Ne)}let Xe=ze&&ze.nodeBefore;return!Xe||!l.qv.isSelectable(Xe)?!1:(ce&&ce(ve.tr.setSelection(l.qv.create(ve.doc,ze.pos-Xe.nodeSize)).scrollIntoView()),!0)};function x(ve){if(!ve.parent.type.spec.isolating)for(let ce=ve.depth-1;ce>=0;ce--){if(ve.index(ce)>0)return ve.doc.resolve(ve.before(ce+1));if(ve.node(ce).type.spec.isolating)break}return null}function T(ve,ce){let{$cursor:Le}=ve.selection;return!Le||(ce?!ce.endOfTextblock("forward",ve):Le.parentOffset<Le.parent.content.size)?null:Le}const _=(ve,ce,Le)=>{let Ne=T(ve,Le);if(!Ne)return!1;let He=s(Ne);if(!He)return!1;let ze=He.nodeAfter;if(R(ve,He,ce))return!0;if(Ne.parent.content.size==0&&(O(ze,"start")||l.qv.isSelectable(ze))){let Xe=(0,o.dR)(ve.doc,Ne.before(),Ne.after(),f.p2.empty);if(Xe&&Xe.slice.size<Xe.to-Xe.from){if(ce){let _t=ve.tr.step(Xe);_t.setSelection(O(ze,"start")?l.Y1.findFrom(_t.doc.resolve(_t.mapping.map(He.pos)),1):l.qv.create(_t.doc,_t.mapping.map(He.pos))),ce(_t.scrollIntoView())}return!0}}return ze.isAtom&&He.depth==Ne.depth-1?(ce&&ce(ve.tr.delete(He.pos,He.pos+ze.nodeSize).scrollIntoView()),!0):!1},d=(ve,ce,Le)=>{let{$head:Ne,empty:He}=ve.selection,ze=Ne;if(!He)return!1;if(Ne.parent.isTextblock){if(Le?!Le.endOfTextblock("forward",ve):Ne.parentOffset<Ne.parent.content.size)return!1;ze=s(Ne)}let Xe=ze&&ze.nodeAfter;return!Xe||!l.qv.isSelectable(Xe)?!1:(ce&&ce(ve.tr.setSelection(l.qv.create(ve.doc,ze.pos)).scrollIntoView()),!0)};function s(ve){if(!ve.parent.type.spec.isolating)for(let ce=ve.depth-1;ce>=0;ce--){let Le=ve.node(ce);if(ve.index(ce)+1<Le.childCount)return ve.doc.resolve(ve.after(ce+1));if(Le.type.spec.isolating)break}return null}const w=(ve,ce)=>{let Le=ve.selection,Ne=Le instanceof l.qv,He;if(Ne){if(Le.node.isTextblock||!(0,o.Mn)(ve.doc,Le.from))return!1;He=Le.from}else if(He=(0,o.GJ)(ve.doc,Le.from,-1),He==null)return!1;if(ce){let ze=ve.tr.join(He);Ne&&ze.setSelection(l.qv.create(ze.doc,He-ve.doc.resolve(He).nodeBefore.nodeSize)),ce(ze.scrollIntoView())}return!0},P=(ve,ce)=>{let Le=ve.selection,Ne;if(Le instanceof l.qv){if(Le.node.isTextblock||!(0,o.Mn)(ve.doc,Le.to))return!1;Ne=Le.to}else if(Ne=(0,o.GJ)(ve.doc,Le.to,1),Ne==null)return!1;return ce&&ce(ve.tr.join(Ne).scrollIntoView()),!0},I=(ve,ce)=>{let{$from:Le,$to:Ne}=ve.selection,He=Le.blockRange(Ne),ze=He&&(0,o.k9)(He);return ze==null?!1:(ce&&ce(ve.tr.lift(He,ze).scrollIntoView()),!0)},D=(ve,ce)=>{let{$head:Le,$anchor:Ne}=ve.selection;return!Le.parent.type.spec.code||!Le.sameParent(Ne)?!1:(ce&&ce(ve.tr.insertText(`
`).scrollIntoView()),!0)};function N(ve){for(let ce=0;ce<ve.edgeCount;ce++){let{type:Le}=ve.edge(ce);if(Le.isTextblock&&!Le.hasRequiredAttrs())return Le}return null}const C=(ve,ce)=>{let{$head:Le,$anchor:Ne}=ve.selection;if(!Le.parent.type.spec.code||!Le.sameParent(Ne))return!1;let He=Le.node(-1),ze=Le.indexAfter(-1),Xe=N(He.contentMatchAt(ze));if(!Xe||!He.canReplaceWith(ze,ze,Xe))return!1;if(ce){let _t=Le.after(),we=ve.tr.replaceWith(_t,_t,Xe.createAndFill());we.setSelection(l.Y1.near(we.doc.resolve(_t),1)),ce(we.scrollIntoView())}return!0},A=(ve,ce)=>{let Le=ve.selection,{$from:Ne,$to:He}=Le;if(Le instanceof l.C1||Ne.parent.inlineContent||He.parent.inlineContent)return!1;let ze=N(He.parent.contentMatchAt(He.indexAfter()));if(!ze||!ze.isTextblock)return!1;if(ce){let Xe=(!Ne.parentOffset&&He.index()<He.parent.childCount?Ne:He).pos,_t=ve.tr.insert(Xe,ze.createAndFill());_t.setSelection(l.Bs.create(_t.doc,Xe+1)),ce(_t.scrollIntoView())}return!0},L=(ve,ce)=>{let{$cursor:Le}=ve.selection;if(!Le||Le.parent.content.size)return!1;if(Le.depth>1&&Le.after()!=Le.end(-1)){let ze=Le.before();if((0,o.Ax)(ve.doc,ze))return ce&&ce(ve.tr.split(ze).scrollIntoView()),!0}let Ne=Le.blockRange(),He=Ne&&(0,o.k9)(Ne);return He==null?!1:(ce&&ce(ve.tr.lift(Ne,He).scrollIntoView()),!0)};function U(ve){return(ce,Le)=>{let{$from:Ne,$to:He}=ce.selection;if(ce.selection instanceof l.qv&&ce.selection.node.isBlock)return!Ne.parentOffset||!(0,o.Ax)(ce.doc,Ne.pos)?!1:(Le&&Le(ce.tr.split(Ne.pos).scrollIntoView()),!0);if(!Ne.parent.isBlock)return!1;if(Le){let ze=He.parentOffset==He.parent.content.size,Xe=ce.tr;(ce.selection instanceof l.Bs||ce.selection instanceof l.C1)&&Xe.deleteSelection();let _t=Ne.depth==0?null:N(Ne.node(-1).contentMatchAt(Ne.indexAfter(-1))),we=ve&&ve(He.parent,ze),We=we?[we]:ze&&_t?[{type:_t}]:void 0,Ie=(0,o.Ax)(Xe.doc,Xe.mapping.map(Ne.pos),1,We);if(!We&&!Ie&&(0,o.Ax)(Xe.doc,Xe.mapping.map(Ne.pos),1,_t?[{type:_t}]:void 0)&&(_t&&(We=[{type:_t}]),Ie=!0),Ie&&(Xe.split(Xe.mapping.map(Ne.pos),1,We),!ze&&!Ne.parentOffset&&Ne.parent.type!=_t)){let tt=Xe.mapping.map(Ne.before()),et=Xe.doc.resolve(tt);_t&&Ne.node(-1).canReplaceWith(et.index(),et.index()+1,_t)&&Xe.setNodeMarkup(Xe.mapping.map(Ne.before()),_t)}Le(Xe.scrollIntoView())}return!0}}const W=U(),G=(ve,ce)=>W(ve,ce&&(Le=>{let Ne=ve.storedMarks||ve.selection.$to.parentOffset&&ve.selection.$from.marks();Ne&&Le.ensureMarks(Ne),ce(Le)})),$=(ve,ce)=>{let{$from:Le,to:Ne}=ve.selection,He,ze=Le.sharedDepth(Ne);return ze==0?!1:(He=Le.before(ze),ce&&ce(ve.tr.setSelection(l.qv.create(ve.doc,He))),!0)},q=(ve,ce)=>(ce&&ce(ve.tr.setSelection(new l.C1(ve.doc))),!0);function J(ve,ce,Le){let Ne=ce.nodeBefore,He=ce.nodeAfter,ze=ce.index();return!Ne||!He||!Ne.type.compatibleContent(He.type)?!1:!Ne.content.size&&ce.parent.canReplace(ze-1,ze)?(Le&&Le(ve.tr.delete(ce.pos-Ne.nodeSize,ce.pos).scrollIntoView()),!0):!ce.parent.canReplace(ze,ze+1)||!(He.isTextblock||(0,o.Mn)(ve.doc,ce.pos))?!1:(Le&&Le(ve.tr.clearIncompatible(ce.pos,Ne.type,Ne.contentMatchAt(Ne.childCount)).join(ce.pos).scrollIntoView()),!0)}function R(ve,ce,Le){let Ne=ce.nodeBefore,He=ce.nodeAfter,ze,Xe;if(Ne.type.spec.isolating||He.type.spec.isolating)return!1;if(J(ve,ce,Le))return!0;let _t=ce.parent.canReplace(ce.index(),ce.index()+1);if(_t&&(ze=(Xe=Ne.contentMatchAt(Ne.childCount)).findWrapping(He.type))&&Xe.matchType(ze[0]||He.type).validEnd){if(Le){let tt=ce.pos+He.nodeSize,et=f.HY.empty;for(let Lt=ze.length-1;Lt>=0;Lt--)et=f.HY.from(ze[Lt].create(null,et));et=f.HY.from(Ne.copy(et));let ht=ve.tr.step(new o.FC(ce.pos-1,tt,ce.pos,tt,new f.p2(et,1,0),ze.length,!0)),vt=tt+2*ze.length;(0,o.Mn)(ht.doc,vt)&&ht.join(vt),Le(ht.scrollIntoView())}return!0}let we=l.Y1.findFrom(ce,1),We=we&&we.$from.blockRange(we.$to),Ie=We&&(0,o.k9)(We);if(Ie!=null&&Ie>=ce.depth)return Le&&Le(ve.tr.lift(We,Ie).scrollIntoView()),!0;if(_t&&O(He,"start",!0)&&O(Ne,"end")){let tt=Ne,et=[];for(;et.push(tt),!tt.isTextblock;)tt=tt.lastChild;let ht=He,vt=1;for(;!ht.isTextblock;ht=ht.firstChild)vt++;if(tt.canReplace(tt.childCount,tt.childCount,ht.content)){if(Le){let Lt=f.HY.empty;for(let yt=et.length-1;yt>=0;yt--)Lt=f.HY.from(et[yt].copy(Lt));let $t=ve.tr.step(new o.FC(ce.pos-et.length,ce.pos+He.nodeSize,ce.pos+vt,ce.pos+He.nodeSize-vt,new f.p2(Lt,et.length,0),0,!0));Le($t.scrollIntoView())}return!0}}return!1}function j(ve){return function(ce,Le){let Ne=ce.selection,He=ve<0?Ne.$from:Ne.$to,ze=He.depth;for(;He.node(ze).isInline;){if(!ze)return!1;ze--}return He.node(ze).isTextblock?(Le&&Le(ce.tr.setSelection(l.Bs.create(ce.doc,ve<0?He.start(ze):He.end(ze)))),!0):!1}}const ie=j(-1),le=j(1);function ye(ve,ce=null){return function(Le,Ne){let{$from:He,$to:ze}=Le.selection,Xe=He.blockRange(ze),_t=Xe&&(0,o.nd)(Xe,ve,ce);return _t?(Ne&&Ne(Le.tr.wrap(Xe,_t).scrollIntoView()),!0):!1}}function ue(ve,ce=null){return function(Le,Ne){let He=!1;for(let ze=0;ze<Le.selection.ranges.length&&!He;ze++){let{$from:{pos:Xe},$to:{pos:_t}}=Le.selection.ranges[ze];Le.doc.nodesBetween(Xe,_t,(we,We)=>{if(He)return!1;if(!(!we.isTextblock||we.hasMarkup(ve,ce)))if(we.type==ve)He=!0;else{let Ie=Le.doc.resolve(We),tt=Ie.index();He=Ie.parent.canReplaceWith(tt,tt+1,ve)}})}if(!He)return!1;if(Ne){let ze=Le.tr;for(let Xe=0;Xe<Le.selection.ranges.length;Xe++){let{$from:{pos:_t},$to:{pos:we}}=Le.selection.ranges[Xe];ze.setBlockType(_t,we,ve,ce)}Ne(ze.scrollIntoView())}return!0}}function oe(ve,ce,Le){for(let Ne=0;Ne<ce.length;Ne++){let{$from:He,$to:ze}=ce[Ne],Xe=He.depth==0?ve.inlineContent&&ve.type.allowsMarkType(Le):!1;if(ve.nodesBetween(He.pos,ze.pos,_t=>{if(Xe)return!1;Xe=_t.inlineContent&&_t.type.allowsMarkType(Le)}),Xe)return!0}return!1}function te(ve,ce=null){return function(Le,Ne){let{empty:He,$cursor:ze,ranges:Xe}=Le.selection;if(He&&!ze||!oe(Le.doc,Xe,ve))return!1;if(Ne)if(ze)ve.isInSet(Le.storedMarks||ze.marks())?Ne(Le.tr.removeStoredMark(ve)):Ne(Le.tr.addStoredMark(ve.create(ce)));else{let _t=!1,we=Le.tr;for(let We=0;!_t&&We<Xe.length;We++){let{$from:Ie,$to:tt}=Xe[We];_t=Le.doc.rangeHasMark(Ie.pos,tt.pos,ve)}for(let We=0;We<Xe.length;We++){let{$from:Ie,$to:tt}=Xe[We];if(_t)we.removeMark(Ie.pos,tt.pos,ve);else{let et=Ie.pos,ht=tt.pos,vt=Ie.nodeAfter,Lt=tt.nodeBefore,$t=vt&&vt.isText?/^\s*/.exec(vt.text)[0].length:0,yt=Lt&&Lt.isText?/\s*$/.exec(Lt.text)[0].length:0;et+$t<ht&&(et+=$t,ht-=yt),we.addMark(et,ht,ve.create(ce))}}Ne(we.scrollIntoView())}return!0}}function Z(ve,ce){return Le=>{if(!Le.isGeneric)return ve(Le);let Ne=[];for(let ze=0;ze<Le.mapping.maps.length;ze++){let Xe=Le.mapping.maps[ze];for(let _t=0;_t<Ne.length;_t++)Ne[_t]=Xe.map(Ne[_t]);Xe.forEach((_t,we,We,Ie)=>Ne.push(We,Ie))}let He=[];for(let ze=0;ze<Ne.length;ze+=2){let Xe=Ne[ze],_t=Ne[ze+1],we=Le.doc.resolve(Xe),We=we.sharedDepth(_t),Ie=we.node(We);for(let tt=we.indexAfter(We),et=we.after(We+1);et<=_t;++tt){let ht=Ie.maybeChild(tt);if(!ht)break;if(tt&&He.indexOf(et)==-1){let vt=Ie.child(tt-1);vt.type==ht.type&&ce(vt,ht)&&He.push(et)}et+=ht.nodeSize}}He.sort((ze,Xe)=>ze-Xe);for(let ze=He.length-1;ze>=0;ze--)canJoin(Le.doc,He[ze])&&Le.join(He[ze]);ve(Le)}}function re(ve,ce){let Le=Array.isArray(ce)?Ne=>ce.indexOf(Ne.type.name)>-1:ce;return(Ne,He,ze)=>ve(Ne,He&&Z(He,Le),ze)}function ae(...ve){return function(ce,Le,Ne){for(let He=0;He<ve.length;He++)if(ve[He](ce,Le,Ne))return!0;return!1}}let se=ae(c,v,S),be=ae(c,_,d);const _e={Enter:ae(D,A,L,W),"Mod-Enter":C,Backspace:se,"Mod-Backspace":se,"Shift-Backspace":se,Delete:be,"Mod-Delete":be,"Mod-a":q},pe={"Ctrl-h":_e.Backspace,"Alt-Backspace":_e["Mod-Backspace"],"Ctrl-d":_e.Delete,"Ctrl-Alt-Backspace":_e["Mod-Delete"],"Alt-Delete":_e["Mod-Delete"],"Alt-d":_e["Mod-Delete"],"Ctrl-a":ie,"Ctrl-e":le};for(let ve in _e)pe[ve]=_e[ve];const me=typeof navigator!="undefined"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os!="undefined"&&os.platform?os.platform()=="darwin":!1,Te=null},60440:(z,u,e)=>{"use strict";e.d(u,{h:()=>E});var o=e(33952),f=e(2376);const l=typeof navigator!="undefined"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function c(p){let O=p.split(/-(?!$)/),S=O[O.length-1];S=="Space"&&(S=" ");let x,T,_,d;for(let s=0;s<O.length-1;s++){let w=O[s];if(/^(cmd|meta|m)$/i.test(w))d=!0;else if(/^a(lt)?$/i.test(w))x=!0;else if(/^(c|ctrl|control)$/i.test(w))T=!0;else if(/^s(hift)?$/i.test(w))_=!0;else if(/^mod$/i.test(w))l?d=!0:T=!0;else throw new Error("Unrecognized modifier name: "+w)}return x&&(S="Alt-"+S),T&&(S="Ctrl-"+S),d&&(S="Meta-"+S),_&&(S="Shift-"+S),S}function g(p){let O=Object.create(null);for(let S in p)O[c(S)]=p[S];return O}function v(p,O,S=!0){return O.altKey&&(p="Alt-"+p),O.ctrlKey&&(p="Ctrl-"+p),O.metaKey&&(p="Meta-"+p),S&&O.shiftKey&&(p="Shift-"+p),p}function E(p){return new f.Sy({props:{handleKeyDown:y(p)}})}function y(p){let O=g(p);return function(S,x){let T=(0,o.YG)(x),_,d=O[v(T,x)];if(d&&d(S.state,S.dispatch,S))return!0;if(T.length==1&&T!=" "){if(x.shiftKey){let s=O[v(T,x,!1)];if(s&&s(S.state,S.dispatch,S))return!0}if((x.shiftKey||x.altKey||x.metaKey||T.charCodeAt(0)>127)&&(_=o.ue[x.keyCode])&&_!=T){let s=O[v(_,x)];if(s&&s(S.state,S.dispatch,S))return!0}}return!1}}},87823:(z,u,e)=>{"use strict";e.d(u,{aw:()=>_t,PW:()=>Ke,HY:()=>g,vc:()=>p,ZU:()=>He,NB:()=>J,Ts:()=>$,e4:()=>O,V_:()=>ze,p2:()=>S});function o(Ae){this.content=Ae}o.prototype={constructor:o,find:function(Ae){for(var H=0;H<this.content.length;H+=2)if(this.content[H]===Ae)return H;return-1},get:function(Ae){var H=this.find(Ae);return H==-1?void 0:this.content[H+1]},update:function(Ae,H,ee){var de=ee&&ee!=Ae?this.remove(ee):this,Ee=de.find(Ae),Me=de.content.slice();return Ee==-1?Me.push(ee||Ae,H):(Me[Ee+1]=H,ee&&(Me[Ee]=ee)),new o(Me)},remove:function(Ae){var H=this.find(Ae);if(H==-1)return this;var ee=this.content.slice();return ee.splice(H,2),new o(ee)},addToStart:function(Ae,H){return new o([Ae,H].concat(this.remove(Ae).content))},addToEnd:function(Ae,H){var ee=this.remove(Ae).content.slice();return ee.push(Ae,H),new o(ee)},addBefore:function(Ae,H,ee){var de=this.remove(H),Ee=de.content.slice(),Me=de.find(Ae);return Ee.splice(Me==-1?Ee.length:Me,0,H,ee),new o(Ee)},forEach:function(Ae){for(var H=0;H<this.content.length;H+=2)Ae(this.content[H],this.content[H+1])},prepend:function(Ae){return Ae=o.from(Ae),Ae.size?new o(Ae.content.concat(this.subtract(Ae).content)):this},append:function(Ae){return Ae=o.from(Ae),Ae.size?new o(this.subtract(Ae).content.concat(Ae.content)):this},subtract:function(Ae){var H=this;Ae=o.from(Ae);for(var ee=0;ee<Ae.content.length;ee+=2)H=H.remove(Ae.content[ee]);return H},toObject:function(){var Ae={};return this.forEach(function(H,ee){Ae[H]=ee}),Ae},get size(){return this.content.length>>1}},o.from=function(Ae){if(Ae instanceof o)return Ae;var H=[];if(Ae)for(var ee in Ae)H.push(ee,Ae[ee]);return new o(H)};const f=o;function l(Ae,H,ee){for(let de=0;;de++){if(de==Ae.childCount||de==H.childCount)return Ae.childCount==H.childCount?null:ee;let Ee=Ae.child(de),Me=H.child(de);if(Ee==Me){ee+=Ee.nodeSize;continue}if(!Ee.sameMarkup(Me))return ee;if(Ee.isText&&Ee.text!=Me.text){for(let $e=0;Ee.text[$e]==Me.text[$e];$e++)ee++;return ee}if(Ee.content.size||Me.content.size){let $e=l(Ee.content,Me.content,ee+1);if($e!=null)return $e}ee+=Ee.nodeSize}}function c(Ae,H,ee,de){for(let Ee=Ae.childCount,Me=H.childCount;;){if(Ee==0||Me==0)return Ee==Me?null:{a:ee,b:de};let $e=Ae.child(--Ee),dt=H.child(--Me),ct=$e.nodeSize;if($e==dt){ee-=ct,de-=ct;continue}if(!$e.sameMarkup(dt))return{a:ee,b:de};if($e.isText&&$e.text!=dt.text){let wt=0,Mt=Math.min($e.text.length,dt.text.length);for(;wt<Mt&&$e.text[$e.text.length-wt-1]==dt.text[dt.text.length-wt-1];)wt++,ee--,de--;return{a:ee,b:de}}if($e.content.size||dt.content.size){let wt=c($e.content,dt.content,ee-1,de-1);if(wt)return wt}ee-=ct,de-=ct}}class g{constructor(H,ee){if(this.content=H,this.size=ee||0,ee==null)for(let de=0;de<H.length;de++)this.size+=H[de].nodeSize}nodesBetween(H,ee,de,Ee=0,Me){for(let $e=0,dt=0;dt<ee;$e++){let ct=this.content[$e],wt=dt+ct.nodeSize;if(wt>H&&de(ct,Ee+dt,Me||null,$e)!==!1&&ct.content.size){let Mt=dt+1;ct.nodesBetween(Math.max(0,H-Mt),Math.min(ct.content.size,ee-Mt),de,Ee+Mt)}dt=wt}}descendants(H){this.nodesBetween(0,this.size,H)}textBetween(H,ee,de,Ee){let Me="",$e=!0;return this.nodesBetween(H,ee,(dt,ct)=>{dt.isText?(Me+=dt.text.slice(Math.max(H,ct)-ct,ee-ct),$e=!de):dt.isLeaf?(Ee?Me+=typeof Ee=="function"?Ee(dt):Ee:dt.type.spec.leafText&&(Me+=dt.type.spec.leafText(dt)),$e=!de):!$e&&dt.isBlock&&(Me+=de,$e=!0)},0),Me}append(H){if(!H.size)return this;if(!this.size)return H;let ee=this.lastChild,de=H.firstChild,Ee=this.content.slice(),Me=0;for(ee.isText&&ee.sameMarkup(de)&&(Ee[Ee.length-1]=ee.withText(ee.text+de.text),Me=1);Me<H.content.length;Me++)Ee.push(H.content[Me]);return new g(Ee,this.size+H.size)}cut(H,ee=this.size){if(H==0&&ee==this.size)return this;let de=[],Ee=0;if(ee>H)for(let Me=0,$e=0;$e<ee;Me++){let dt=this.content[Me],ct=$e+dt.nodeSize;ct>H&&(($e<H||ct>ee)&&(dt.isText?dt=dt.cut(Math.max(0,H-$e),Math.min(dt.text.length,ee-$e)):dt=dt.cut(Math.max(0,H-$e-1),Math.min(dt.content.size,ee-$e-1))),de.push(dt),Ee+=dt.nodeSize),$e=ct}return new g(de,Ee)}cutByIndex(H,ee){return H==ee?g.empty:H==0&&ee==this.content.length?this:new g(this.content.slice(H,ee))}replaceChild(H,ee){let de=this.content[H];if(de==ee)return this;let Ee=this.content.slice(),Me=this.size+ee.nodeSize-de.nodeSize;return Ee[H]=ee,new g(Ee,Me)}addToStart(H){return new g([H].concat(this.content),this.size+H.nodeSize)}addToEnd(H){return new g(this.content.concat(H),this.size+H.nodeSize)}eq(H){if(this.content.length!=H.content.length)return!1;for(let ee=0;ee<this.content.length;ee++)if(!this.content[ee].eq(H.content[ee]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(H){let ee=this.content[H];if(!ee)throw new RangeError("Index "+H+" out of range for "+this);return ee}maybeChild(H){return this.content[H]||null}forEach(H){for(let ee=0,de=0;ee<this.content.length;ee++){let Ee=this.content[ee];H(Ee,de,ee),de+=Ee.nodeSize}}findDiffStart(H,ee=0){return l(this,H,ee)}findDiffEnd(H,ee=this.size,de=H.size){return c(this,H,ee,de)}findIndex(H,ee=-1){if(H==0)return E(0,H);if(H==this.size)return E(this.content.length,H);if(H>this.size||H<0)throw new RangeError(`Position ${H} outside of fragment (${this})`);for(let de=0,Ee=0;;de++){let Me=this.child(de),$e=Ee+Me.nodeSize;if($e>=H)return $e==H||ee>0?E(de+1,$e):E(de,Ee);Ee=$e}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(H=>H.toJSON()):null}static fromJSON(H,ee){if(!ee)return g.empty;if(!Array.isArray(ee))throw new RangeError("Invalid input for Fragment.fromJSON");return new g(ee.map(H.nodeFromJSON))}static fromArray(H){if(!H.length)return g.empty;let ee,de=0;for(let Ee=0;Ee<H.length;Ee++){let Me=H[Ee];de+=Me.nodeSize,Ee&&Me.isText&&H[Ee-1].sameMarkup(Me)?(ee||(ee=H.slice(0,Ee)),ee[ee.length-1]=Me.withText(ee[ee.length-1].text+Me.text)):ee&&ee.push(Me)}return new g(ee||H,de)}static from(H){if(!H)return g.empty;if(H instanceof g)return H;if(Array.isArray(H))return this.fromArray(H);if(H.attrs)return new g([H],H.nodeSize);throw new RangeError("Can not convert "+H+" to a Fragment"+(H.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}g.empty=new g([],0);const v={index:0,offset:0};function E(Ae,H){return v.index=Ae,v.offset=H,v}function y(Ae,H){if(Ae===H)return!0;if(!(Ae&&typeof Ae=="object")||!(H&&typeof H=="object"))return!1;let ee=Array.isArray(Ae);if(Array.isArray(H)!=ee)return!1;if(ee){if(Ae.length!=H.length)return!1;for(let de=0;de<Ae.length;de++)if(!y(Ae[de],H[de]))return!1}else{for(let de in Ae)if(!(de in H)||!y(Ae[de],H[de]))return!1;for(let de in H)if(!(de in Ae))return!1}return!0}class p{constructor(H,ee){this.type=H,this.attrs=ee}addToSet(H){let ee,de=!1;for(let Ee=0;Ee<H.length;Ee++){let Me=H[Ee];if(this.eq(Me))return H;if(this.type.excludes(Me.type))ee||(ee=H.slice(0,Ee));else{if(Me.type.excludes(this.type))return H;!de&&Me.type.rank>this.type.rank&&(ee||(ee=H.slice(0,Ee)),ee.push(this),de=!0),ee&&ee.push(Me)}}return ee||(ee=H.slice()),de||ee.push(this),ee}removeFromSet(H){for(let ee=0;ee<H.length;ee++)if(this.eq(H[ee]))return H.slice(0,ee).concat(H.slice(ee+1));return H}isInSet(H){for(let ee=0;ee<H.length;ee++)if(this.eq(H[ee]))return!0;return!1}eq(H){return this==H||this.type==H.type&&y(this.attrs,H.attrs)}toJSON(){let H={type:this.type.name};for(let ee in this.attrs){H.attrs=this.attrs;break}return H}static fromJSON(H,ee){if(!ee)throw new RangeError("Invalid input for Mark.fromJSON");let de=H.marks[ee.type];if(!de)throw new RangeError(`There is no mark type ${ee.type} in this schema`);return de.create(ee.attrs)}static sameSet(H,ee){if(H==ee)return!0;if(H.length!=ee.length)return!1;for(let de=0;de<H.length;de++)if(!H[de].eq(ee[de]))return!1;return!0}static setFrom(H){if(!H||Array.isArray(H)&&H.length==0)return p.none;if(H instanceof p)return[H];let ee=H.slice();return ee.sort((de,Ee)=>de.type.rank-Ee.type.rank),ee}}p.none=[];class O extends Error{}class S{constructor(H,ee,de){this.content=H,this.openStart=ee,this.openEnd=de}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(H,ee){let de=T(this.content,H+this.openStart,ee);return de&&new S(de,this.openStart,this.openEnd)}removeBetween(H,ee){return new S(x(this.content,H+this.openStart,ee+this.openStart),this.openStart,this.openEnd)}eq(H){return this.content.eq(H.content)&&this.openStart==H.openStart&&this.openEnd==H.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let H={content:this.content.toJSON()};return this.openStart>0&&(H.openStart=this.openStart),this.openEnd>0&&(H.openEnd=this.openEnd),H}static fromJSON(H,ee){if(!ee)return S.empty;let de=ee.openStart||0,Ee=ee.openEnd||0;if(typeof de!="number"||typeof Ee!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new S(g.fromJSON(H,ee.content),de,Ee)}static maxOpen(H,ee=!0){let de=0,Ee=0;for(let Me=H.firstChild;Me&&!Me.isLeaf&&(ee||!Me.type.spec.isolating);Me=Me.firstChild)de++;for(let Me=H.lastChild;Me&&!Me.isLeaf&&(ee||!Me.type.spec.isolating);Me=Me.lastChild)Ee++;return new S(H,de,Ee)}}S.empty=new S(g.empty,0,0);function x(Ae,H,ee){let{index:de,offset:Ee}=Ae.findIndex(H),Me=Ae.maybeChild(de),{index:$e,offset:dt}=Ae.findIndex(ee);if(Ee==H||Me.isText){if(dt!=ee&&!Ae.child($e).isText)throw new RangeError("Removing non-flat range");return Ae.cut(0,H).append(Ae.cut(ee))}if(de!=$e)throw new RangeError("Removing non-flat range");return Ae.replaceChild(de,Me.copy(x(Me.content,H-Ee-1,ee-Ee-1)))}function T(Ae,H,ee,de){let{index:Ee,offset:Me}=Ae.findIndex(H),$e=Ae.maybeChild(Ee);if(Me==H||$e.isText)return de&&!de.canReplace(Ee,Ee,ee)?null:Ae.cut(0,H).append(ee).append(Ae.cut(H));let dt=T($e.content,H-Me-1,ee);return dt&&Ae.replaceChild(Ee,$e.copy(dt))}function _(Ae,H,ee){if(ee.openStart>Ae.depth)throw new O("Inserted content deeper than insertion position");if(Ae.depth-ee.openStart!=H.depth-ee.openEnd)throw new O("Inconsistent open depths");return d(Ae,H,ee,0)}function d(Ae,H,ee,de){let Ee=Ae.index(de),Me=Ae.node(de);if(Ee==H.index(de)&&de<Ae.depth-ee.openStart){let $e=d(Ae,H,ee,de+1);return Me.copy(Me.content.replaceChild(Ee,$e))}else if(ee.content.size)if(!ee.openStart&&!ee.openEnd&&Ae.depth==de&&H.depth==de){let $e=Ae.parent,dt=$e.content;return D($e,dt.cut(0,Ae.parentOffset).append(ee.content).append(dt.cut(H.parentOffset)))}else{let{start:$e,end:dt}=A(ee,Ae);return D(Me,N(Ae,$e,dt,H,de))}else return D(Me,C(Ae,H,de))}function s(Ae,H){if(!H.type.compatibleContent(Ae.type))throw new O("Cannot join "+H.type.name+" onto "+Ae.type.name)}function w(Ae,H,ee){let de=Ae.node(ee);return s(de,H.node(ee)),de}function P(Ae,H){let ee=H.length-1;ee>=0&&Ae.isText&&Ae.sameMarkup(H[ee])?H[ee]=Ae.withText(H[ee].text+Ae.text):H.push(Ae)}function I(Ae,H,ee,de){let Ee=(H||Ae).node(ee),Me=0,$e=H?H.index(ee):Ee.childCount;Ae&&(Me=Ae.index(ee),Ae.depth>ee?Me++:Ae.textOffset&&(P(Ae.nodeAfter,de),Me++));for(let dt=Me;dt<$e;dt++)P(Ee.child(dt),de);H&&H.depth==ee&&H.textOffset&&P(H.nodeBefore,de)}function D(Ae,H){return Ae.type.checkContent(H),Ae.copy(H)}function N(Ae,H,ee,de,Ee){let Me=Ae.depth>Ee&&w(Ae,H,Ee+1),$e=de.depth>Ee&&w(ee,de,Ee+1),dt=[];return I(null,Ae,Ee,dt),Me&&$e&&H.index(Ee)==ee.index(Ee)?(s(Me,$e),P(D(Me,N(Ae,H,ee,de,Ee+1)),dt)):(Me&&P(D(Me,C(Ae,H,Ee+1)),dt),I(H,ee,Ee,dt),$e&&P(D($e,C(ee,de,Ee+1)),dt)),I(de,null,Ee,dt),new g(dt)}function C(Ae,H,ee){let de=[];if(I(null,Ae,ee,de),Ae.depth>ee){let Ee=w(Ae,H,ee+1);P(D(Ee,C(Ae,H,ee+1)),de)}return I(H,null,ee,de),new g(de)}function A(Ae,H){let ee=H.depth-Ae.openStart,Ee=H.node(ee).copy(Ae.content);for(let Me=ee-1;Me>=0;Me--)Ee=H.node(Me).copy(g.from(Ee));return{start:Ee.resolveNoCache(Ae.openStart+ee),end:Ee.resolveNoCache(Ee.content.size-Ae.openEnd-ee)}}class L{constructor(H,ee,de){this.pos=H,this.path=ee,this.parentOffset=de,this.depth=ee.length/3-1}resolveDepth(H){return H==null?this.depth:H<0?this.depth+H:H}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(H){return this.path[this.resolveDepth(H)*3]}index(H){return this.path[this.resolveDepth(H)*3+1]}indexAfter(H){return H=this.resolveDepth(H),this.index(H)+(H==this.depth&&!this.textOffset?0:1)}start(H){return H=this.resolveDepth(H),H==0?0:this.path[H*3-1]+1}end(H){return H=this.resolveDepth(H),this.start(H)+this.node(H).content.size}before(H){if(H=this.resolveDepth(H),!H)throw new RangeError("There is no position before the top-level node");return H==this.depth+1?this.pos:this.path[H*3-1]}after(H){if(H=this.resolveDepth(H),!H)throw new RangeError("There is no position after the top-level node");return H==this.depth+1?this.pos:this.path[H*3-1]+this.path[H*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let H=this.parent,ee=this.index(this.depth);if(ee==H.childCount)return null;let de=this.pos-this.path[this.path.length-1],Ee=H.child(ee);return de?H.child(ee).cut(de):Ee}get nodeBefore(){let H=this.index(this.depth),ee=this.pos-this.path[this.path.length-1];return ee?this.parent.child(H).cut(0,ee):H==0?null:this.parent.child(H-1)}posAtIndex(H,ee){ee=this.resolveDepth(ee);let de=this.path[ee*3],Ee=ee==0?0:this.path[ee*3-1]+1;for(let Me=0;Me<H;Me++)Ee+=de.child(Me).nodeSize;return Ee}marks(){let H=this.parent,ee=this.index();if(H.content.size==0)return p.none;if(this.textOffset)return H.child(ee).marks;let de=H.maybeChild(ee-1),Ee=H.maybeChild(ee);if(!de){let dt=de;de=Ee,Ee=dt}let Me=de.marks;for(var $e=0;$e<Me.length;$e++)Me[$e].type.spec.inclusive===!1&&(!Ee||!Me[$e].isInSet(Ee.marks))&&(Me=Me[$e--].removeFromSet(Me));return Me}marksAcross(H){let ee=this.parent.maybeChild(this.index());if(!ee||!ee.isInline)return null;let de=ee.marks,Ee=H.parent.maybeChild(H.index());for(var Me=0;Me<de.length;Me++)de[Me].type.spec.inclusive===!1&&(!Ee||!de[Me].isInSet(Ee.marks))&&(de=de[Me--].removeFromSet(de));return de}sharedDepth(H){for(let ee=this.depth;ee>0;ee--)if(this.start(ee)<=H&&this.end(ee)>=H)return ee;return 0}blockRange(H=this,ee){if(H.pos<this.pos)return H.blockRange(this);for(let de=this.depth-(this.parent.inlineContent||this.pos==H.pos?1:0);de>=0;de--)if(H.pos<=this.end(de)&&(!ee||ee(this.node(de))))return new $(this,H,de);return null}sameParent(H){return this.pos-this.parentOffset==H.pos-H.parentOffset}max(H){return H.pos>this.pos?H:this}min(H){return H.pos<this.pos?H:this}toString(){let H="";for(let ee=1;ee<=this.depth;ee++)H+=(H?"/":"")+this.node(ee).type.name+"_"+this.index(ee-1);return H+":"+this.parentOffset}static resolve(H,ee){if(!(ee>=0&&ee<=H.content.size))throw new RangeError("Position "+ee+" out of range");let de=[],Ee=0,Me=ee;for(let $e=H;;){let{index:dt,offset:ct}=$e.content.findIndex(Me),wt=Me-ct;if(de.push($e,dt,Ee+ct),!wt||($e=$e.child(dt),$e.isText))break;Me=wt-1,Ee+=ct+1}return new L(ee,de,Me)}static resolveCached(H,ee){for(let Ee=0;Ee<U.length;Ee++){let Me=U[Ee];if(Me.pos==ee&&Me.doc==H)return Me}let de=U[W]=L.resolve(H,ee);return W=(W+1)%G,de}}let U=[],W=0,G=12;class ${constructor(H,ee,de){this.$from=H,this.$to=ee,this.depth=de}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const q=Object.create(null);class J{constructor(H,ee,de,Ee=p.none){this.type=H,this.attrs=ee,this.marks=Ee,this.content=de||g.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(H){return this.content.child(H)}maybeChild(H){return this.content.maybeChild(H)}forEach(H){this.content.forEach(H)}nodesBetween(H,ee,de,Ee=0){this.content.nodesBetween(H,ee,de,Ee,this)}descendants(H){this.nodesBetween(0,this.content.size,H)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(H,ee,de,Ee){return this.content.textBetween(H,ee,de,Ee)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(H){return this==H||this.sameMarkup(H)&&this.content.eq(H.content)}sameMarkup(H){return this.hasMarkup(H.type,H.attrs,H.marks)}hasMarkup(H,ee,de){return this.type==H&&y(this.attrs,ee||H.defaultAttrs||q)&&p.sameSet(this.marks,de||p.none)}copy(H=null){return H==this.content?this:new J(this.type,this.attrs,H,this.marks)}mark(H){return H==this.marks?this:new J(this.type,this.attrs,this.content,H)}cut(H,ee=this.content.size){return H==0&&ee==this.content.size?this:this.copy(this.content.cut(H,ee))}slice(H,ee=this.content.size,de=!1){if(H==ee)return S.empty;let Ee=this.resolve(H),Me=this.resolve(ee),$e=de?0:Ee.sharedDepth(ee),dt=Ee.start($e),wt=Ee.node($e).content.cut(Ee.pos-dt,Me.pos-dt);return new S(wt,Ee.depth-$e,Me.depth-$e)}replace(H,ee,de){return _(this.resolve(H),this.resolve(ee),de)}nodeAt(H){for(let ee=this;;){let{index:de,offset:Ee}=ee.content.findIndex(H);if(ee=ee.maybeChild(de),!ee)return null;if(Ee==H||ee.isText)return ee;H-=Ee+1}}childAfter(H){let{index:ee,offset:de}=this.content.findIndex(H);return{node:this.content.maybeChild(ee),index:ee,offset:de}}childBefore(H){if(H==0)return{node:null,index:0,offset:0};let{index:ee,offset:de}=this.content.findIndex(H);if(de<H)return{node:this.content.child(ee),index:ee,offset:de};let Ee=this.content.child(ee-1);return{node:Ee,index:ee-1,offset:de-Ee.nodeSize}}resolve(H){return L.resolveCached(this,H)}resolveNoCache(H){return L.resolve(this,H)}rangeHasMark(H,ee,de){let Ee=!1;return ee>H&&this.nodesBetween(H,ee,Me=>(de.isInSet(Me.marks)&&(Ee=!0),!Ee)),Ee}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let H=this.type.name;return this.content.size&&(H+="("+this.content.toStringInner()+")"),j(this.marks,H)}contentMatchAt(H){let ee=this.type.contentMatch.matchFragment(this.content,0,H);if(!ee)throw new Error("Called contentMatchAt on a node with invalid content");return ee}canReplace(H,ee,de=g.empty,Ee=0,Me=de.childCount){let $e=this.contentMatchAt(H).matchFragment(de,Ee,Me),dt=$e&&$e.matchFragment(this.content,ee);if(!dt||!dt.validEnd)return!1;for(let ct=Ee;ct<Me;ct++)if(!this.type.allowsMarks(de.child(ct).marks))return!1;return!0}canReplaceWith(H,ee,de,Ee){if(Ee&&!this.type.allowsMarks(Ee))return!1;let Me=this.contentMatchAt(H).matchType(de),$e=Me&&Me.matchFragment(this.content,ee);return $e?$e.validEnd:!1}canAppend(H){return H.content.size?this.canReplace(this.childCount,this.childCount,H.content):this.type.compatibleContent(H.type)}check(){this.type.checkContent(this.content);let H=p.none;for(let ee=0;ee<this.marks.length;ee++)H=this.marks[ee].addToSet(H);if(!p.sameSet(H,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(ee=>ee.type.name)}`);this.content.forEach(ee=>ee.check())}toJSON(){let H={type:this.type.name};for(let ee in this.attrs){H.attrs=this.attrs;break}return this.content.size&&(H.content=this.content.toJSON()),this.marks.length&&(H.marks=this.marks.map(ee=>ee.toJSON())),H}static fromJSON(H,ee){if(!ee)throw new RangeError("Invalid input for Node.fromJSON");let de=null;if(ee.marks){if(!Array.isArray(ee.marks))throw new RangeError("Invalid mark data for Node.fromJSON");de=ee.marks.map(H.markFromJSON)}if(ee.type=="text"){if(typeof ee.text!="string")throw new RangeError("Invalid text node in JSON");return H.text(ee.text,de)}let Ee=g.fromJSON(H,ee.content);return H.nodeType(ee.type).create(ee.attrs,Ee,de)}}J.prototype.text=void 0;class R extends J{constructor(H,ee,de,Ee){if(super(H,ee,null,Ee),!de)throw new RangeError("Empty text nodes are not allowed");this.text=de}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):j(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(H,ee){return this.text.slice(H,ee)}get nodeSize(){return this.text.length}mark(H){return H==this.marks?this:new R(this.type,this.attrs,this.text,H)}withText(H){return H==this.text?this:new R(this.type,this.attrs,H,this.marks)}cut(H=0,ee=this.text.length){return H==0&&ee==this.text.length?this:this.withText(this.text.slice(H,ee))}eq(H){return this.sameMarkup(H)&&this.text==H.text}toJSON(){let H=super.toJSON();return H.text=this.text,H}}function j(Ae,H){for(let ee=Ae.length-1;ee>=0;ee--)H=Ae[ee].type.name+"("+H+")";return H}class ie{constructor(H){this.validEnd=H,this.next=[],this.wrapCache=[]}static parse(H,ee){let de=new le(H,ee);if(de.next==null)return ie.empty;let Ee=ye(de);de.next&&de.err("Unexpected trailing text");let Me=pe(se(Ee));return me(Me,de),Me}matchType(H){for(let ee=0;ee<this.next.length;ee++)if(this.next[ee].type==H)return this.next[ee].next;return null}matchFragment(H,ee=0,de=H.childCount){let Ee=this;for(let Me=ee;Ee&&Me<de;Me++)Ee=Ee.matchType(H.child(Me).type);return Ee}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let H=0;H<this.next.length;H++){let{type:ee}=this.next[H];if(!(ee.isText||ee.hasRequiredAttrs()))return ee}return null}compatible(H){for(let ee=0;ee<this.next.length;ee++)for(let de=0;de<H.next.length;de++)if(this.next[ee].type==H.next[de].type)return!0;return!1}fillBefore(H,ee=!1,de=0){let Ee=[this];function Me($e,dt){let ct=$e.matchFragment(H,de);if(ct&&(!ee||ct.validEnd))return g.from(dt.map(wt=>wt.createAndFill()));for(let wt=0;wt<$e.next.length;wt++){let{type:Mt,next:pn}=$e.next[wt];if(!(Mt.isText||Mt.hasRequiredAttrs())&&Ee.indexOf(pn)==-1){Ee.push(pn);let Mn=Me(pn,dt.concat(Mt));if(Mn)return Mn}}return null}return Me(this,[])}findWrapping(H){for(let de=0;de<this.wrapCache.length;de+=2)if(this.wrapCache[de]==H)return this.wrapCache[de+1];let ee=this.computeWrapping(H);return this.wrapCache.push(H,ee),ee}computeWrapping(H){let ee=Object.create(null),de=[{match:this,type:null,via:null}];for(;de.length;){let Ee=de.shift(),Me=Ee.match;if(Me.matchType(H)){let $e=[];for(let dt=Ee;dt.type;dt=dt.via)$e.push(dt.type);return $e.reverse()}for(let $e=0;$e<Me.next.length;$e++){let{type:dt,next:ct}=Me.next[$e];!dt.isLeaf&&!dt.hasRequiredAttrs()&&!(dt.name in ee)&&(!Ee.type||ct.validEnd)&&(de.push({match:dt.contentMatch,type:dt,via:Ee}),ee[dt.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(H){if(H>=this.next.length)throw new RangeError(`There's no ${H}th edge in this content match`);return this.next[H]}toString(){let H=[];function ee(de){H.push(de);for(let Ee=0;Ee<de.next.length;Ee++)H.indexOf(de.next[Ee].next)==-1&&ee(de.next[Ee].next)}return ee(this),H.map((de,Ee)=>{let Me=Ee+(de.validEnd?"*":" ")+" ";for(let $e=0;$e<de.next.length;$e++)Me+=($e?", ":"")+de.next[$e].type.name+"->"+H.indexOf(de.next[$e].next);return Me}).join(`
`)}}ie.empty=new ie(!0);class le{constructor(H,ee){this.string=H,this.nodeTypes=ee,this.inline=null,this.pos=0,this.tokens=H.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(H){return this.next==H&&(this.pos++||!0)}err(H){throw new SyntaxError(H+" (in content expression '"+this.string+"')")}}function ye(Ae){let H=[];do H.push(ue(Ae));while(Ae.eat("|"));return H.length==1?H[0]:{type:"choice",exprs:H}}function ue(Ae){let H=[];do H.push(oe(Ae));while(Ae.next&&Ae.next!=")"&&Ae.next!="|");return H.length==1?H[0]:{type:"seq",exprs:H}}function oe(Ae){let H=ae(Ae);for(;;)if(Ae.eat("+"))H={type:"plus",expr:H};else if(Ae.eat("*"))H={type:"star",expr:H};else if(Ae.eat("?"))H={type:"opt",expr:H};else if(Ae.eat("{"))H=Z(Ae,H);else break;return H}function te(Ae){/\D/.test(Ae.next)&&Ae.err("Expected number, got '"+Ae.next+"'");let H=Number(Ae.next);return Ae.pos++,H}function Z(Ae,H){let ee=te(Ae),de=ee;return Ae.eat(",")&&(Ae.next!="}"?de=te(Ae):de=-1),Ae.eat("}")||Ae.err("Unclosed braced range"),{type:"range",min:ee,max:de,expr:H}}function re(Ae,H){let ee=Ae.nodeTypes,de=ee[H];if(de)return[de];let Ee=[];for(let Me in ee){let $e=ee[Me];$e.groups.indexOf(H)>-1&&Ee.push($e)}return Ee.length==0&&Ae.err("No node type or group '"+H+"' found"),Ee}function ae(Ae){if(Ae.eat("(")){let H=ye(Ae);return Ae.eat(")")||Ae.err("Missing closing paren"),H}else if(/\W/.test(Ae.next))Ae.err("Unexpected token '"+Ae.next+"'");else{let H=re(Ae,Ae.next).map(ee=>(Ae.inline==null?Ae.inline=ee.isInline:Ae.inline!=ee.isInline&&Ae.err("Mixing inline and block content"),{type:"name",value:ee}));return Ae.pos++,H.length==1?H[0]:{type:"choice",exprs:H}}}function se(Ae){let H=[[]];return Ee(Me(Ae,0),ee()),H;function ee(){return H.push([])-1}function de($e,dt,ct){let wt={term:ct,to:dt};return H[$e].push(wt),wt}function Ee($e,dt){$e.forEach(ct=>ct.to=dt)}function Me($e,dt){if($e.type=="choice")return $e.exprs.reduce((ct,wt)=>ct.concat(Me(wt,dt)),[]);if($e.type=="seq")for(let ct=0;;ct++){let wt=Me($e.exprs[ct],dt);if(ct==$e.exprs.length-1)return wt;Ee(wt,dt=ee())}else if($e.type=="star"){let ct=ee();return de(dt,ct),Ee(Me($e.expr,ct),ct),[de(ct)]}else if($e.type=="plus"){let ct=ee();return Ee(Me($e.expr,dt),ct),Ee(Me($e.expr,ct),ct),[de(ct)]}else{if($e.type=="opt")return[de(dt)].concat(Me($e.expr,dt));if($e.type=="range"){let ct=dt;for(let wt=0;wt<$e.min;wt++){let Mt=ee();Ee(Me($e.expr,ct),Mt),ct=Mt}if($e.max==-1)Ee(Me($e.expr,ct),ct);else for(let wt=$e.min;wt<$e.max;wt++){let Mt=ee();de(ct,Mt),Ee(Me($e.expr,ct),Mt),ct=Mt}return[de(ct)]}else{if($e.type=="name")return[de(dt,void 0,$e.value)];throw new Error("Unknown expr type")}}}}function be(Ae,H){return H-Ae}function _e(Ae,H){let ee=[];return de(H),ee.sort(be);function de(Ee){let Me=Ae[Ee];if(Me.length==1&&!Me[0].term)return de(Me[0].to);ee.push(Ee);for(let $e=0;$e<Me.length;$e++){let{term:dt,to:ct}=Me[$e];!dt&&ee.indexOf(ct)==-1&&de(ct)}}}function pe(Ae){let H=Object.create(null);return ee(_e(Ae,0));function ee(de){let Ee=[];de.forEach($e=>{Ae[$e].forEach(({term:dt,to:ct})=>{if(!dt)return;let wt;for(let Mt=0;Mt<Ee.length;Mt++)Ee[Mt][0]==dt&&(wt=Ee[Mt][1]);_e(Ae,ct).forEach(Mt=>{wt||Ee.push([dt,wt=[]]),wt.indexOf(Mt)==-1&&wt.push(Mt)})})});let Me=H[de.join(",")]=new ie(de.indexOf(Ae.length-1)>-1);for(let $e=0;$e<Ee.length;$e++){let dt=Ee[$e][1].sort(be);Me.next.push({type:Ee[$e][0],next:H[dt.join(",")]||ee(dt)})}return Me}}function me(Ae,H){for(let ee=0,de=[Ae];ee<de.length;ee++){let Ee=de[ee],Me=!Ee.validEnd,$e=[];for(let dt=0;dt<Ee.next.length;dt++){let{type:ct,next:wt}=Ee.next[dt];$e.push(ct.name),Me&&!(ct.isText||ct.hasRequiredAttrs())&&(Me=!1),de.indexOf(wt)==-1&&de.push(wt)}Me&&H.err("Only non-generatable nodes ("+$e.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function Te(Ae){let H=Object.create(null);for(let ee in Ae){let de=Ae[ee];if(!de.hasDefault)return null;H[ee]=de.default}return H}function ve(Ae,H){let ee=Object.create(null);for(let de in Ae){let Ee=H&&H[de];if(Ee===void 0){let Me=Ae[de];if(Me.hasDefault)Ee=Me.default;else throw new RangeError("No value supplied for attribute "+de)}ee[de]=Ee}return ee}function ce(Ae){let H=Object.create(null);if(Ae)for(let ee in Ae)H[ee]=new Ne(Ae[ee]);return H}class Le{constructor(H,ee,de){this.name=H,this.schema=ee,this.spec=de,this.markSet=null,this.groups=de.group?de.group.split(" "):[],this.attrs=ce(de.attrs),this.defaultAttrs=Te(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(de.inline||H=="text"),this.isText=H=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ie.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let H in this.attrs)if(this.attrs[H].isRequired)return!0;return!1}compatibleContent(H){return this==H||this.contentMatch.compatible(H.contentMatch)}computeAttrs(H){return!H&&this.defaultAttrs?this.defaultAttrs:ve(this.attrs,H)}create(H=null,ee,de){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new J(this,this.computeAttrs(H),g.from(ee),p.setFrom(de))}createChecked(H=null,ee,de){return ee=g.from(ee),this.checkContent(ee),new J(this,this.computeAttrs(H),ee,p.setFrom(de))}createAndFill(H=null,ee,de){if(H=this.computeAttrs(H),ee=g.from(ee),ee.size){let $e=this.contentMatch.fillBefore(ee);if(!$e)return null;ee=$e.append(ee)}let Ee=this.contentMatch.matchFragment(ee),Me=Ee&&Ee.fillBefore(g.empty,!0);return Me?new J(this,H,ee.append(Me),p.setFrom(de)):null}validContent(H){let ee=this.contentMatch.matchFragment(H);if(!ee||!ee.validEnd)return!1;for(let de=0;de<H.childCount;de++)if(!this.allowsMarks(H.child(de).marks))return!1;return!0}checkContent(H){if(!this.validContent(H))throw new RangeError(`Invalid content for node ${this.name}: ${H.toString().slice(0,50)}`)}allowsMarkType(H){return this.markSet==null||this.markSet.indexOf(H)>-1}allowsMarks(H){if(this.markSet==null)return!0;for(let ee=0;ee<H.length;ee++)if(!this.allowsMarkType(H[ee].type))return!1;return!0}allowedMarks(H){if(this.markSet==null)return H;let ee;for(let de=0;de<H.length;de++)this.allowsMarkType(H[de].type)?ee&&ee.push(H[de]):ee||(ee=H.slice(0,de));return ee?ee.length?ee:p.none:H}static compile(H,ee){let de=Object.create(null);H.forEach((Me,$e)=>de[Me]=new Le(Me,ee,$e));let Ee=ee.spec.topNode||"doc";if(!de[Ee])throw new RangeError("Schema is missing its top node type ('"+Ee+"')");if(!de.text)throw new RangeError("Every schema needs a 'text' type");for(let Me in de.text.attrs)throw new RangeError("The text node type should not have attributes");return de}}class Ne{constructor(H){this.hasDefault=Object.prototype.hasOwnProperty.call(H,"default"),this.default=H.default}get isRequired(){return!this.hasDefault}}class He{constructor(H,ee,de,Ee){this.name=H,this.rank=ee,this.schema=de,this.spec=Ee,this.attrs=ce(Ee.attrs),this.excluded=null;let Me=Te(this.attrs);this.instance=Me?new p(this,Me):null}create(H=null){return!H&&this.instance?this.instance:new p(this,ve(this.attrs,H))}static compile(H,ee){let de=Object.create(null),Ee=0;return H.forEach((Me,$e)=>de[Me]=new He(Me,Ee++,ee,$e)),de}removeFromSet(H){for(var ee=0;ee<H.length;ee++)H[ee].type==this&&(H=H.slice(0,ee).concat(H.slice(ee+1)),ee--);return H}isInSet(H){for(let ee=0;ee<H.length;ee++)if(H[ee].type==this)return H[ee]}excludes(H){return this.excluded.indexOf(H)>-1}}class ze{constructor(H){this.cached=Object.create(null);let ee=this.spec={};for(let Ee in H)ee[Ee]=H[Ee];ee.nodes=f.from(H.nodes),ee.marks=f.from(H.marks||{}),this.nodes=Le.compile(this.spec.nodes,this),this.marks=He.compile(this.spec.marks,this);let de=Object.create(null);for(let Ee in this.nodes){if(Ee in this.marks)throw new RangeError(Ee+" can not be both a node and a mark");let Me=this.nodes[Ee],$e=Me.spec.content||"",dt=Me.spec.marks;Me.contentMatch=de[$e]||(de[$e]=ie.parse($e,this.nodes)),Me.inlineContent=Me.contentMatch.inlineContent,Me.markSet=dt=="_"?null:dt?Xe(this,dt.split(" ")):dt==""||!Me.inlineContent?[]:null}for(let Ee in this.marks){let Me=this.marks[Ee],$e=Me.spec.excludes;Me.excluded=$e==null?[Me]:$e==""?[]:Xe(this,$e.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(H,ee=null,de,Ee){if(typeof H=="string")H=this.nodeType(H);else if(H instanceof Le){if(H.schema!=this)throw new RangeError("Node type from different schema used ("+H.name+")")}else throw new RangeError("Invalid node type: "+H);return H.createChecked(ee,de,Ee)}text(H,ee){let de=this.nodes.text;return new R(de,de.defaultAttrs,H,p.setFrom(ee))}mark(H,ee){return typeof H=="string"&&(H=this.marks[H]),H.create(ee)}nodeFromJSON(H){return J.fromJSON(this,H)}markFromJSON(H){return p.fromJSON(this,H)}nodeType(H){let ee=this.nodes[H];if(!ee)throw new RangeError("Unknown node type: "+H);return ee}}function Xe(Ae,H){let ee=[];for(let de=0;de<H.length;de++){let Ee=H[de],Me=Ae.marks[Ee],$e=Me;if(Me)ee.push(Me);else for(let dt in Ae.marks){let ct=Ae.marks[dt];(Ee=="_"||ct.spec.group&&ct.spec.group.split(" ").indexOf(Ee)>-1)&&ee.push($e=ct)}if(!$e)throw new SyntaxError("Unknown mark type: '"+H[de]+"'")}return ee}class _t{constructor(H,ee){this.schema=H,this.rules=ee,this.tags=[],this.styles=[],ee.forEach(de=>{de.tag?this.tags.push(de):de.style&&this.styles.push(de)}),this.normalizeLists=!this.tags.some(de=>{if(!/^(ul|ol)\b/.test(de.tag)||!de.node)return!1;let Ee=H.nodes[de.node];return Ee.contentMatch.matchType(Ee)})}parse(H,ee={}){let de=new $t(this,ee,!1);return de.addAll(H,ee.from,ee.to),de.finish()}parseSlice(H,ee={}){let de=new $t(this,ee,!0);return de.addAll(H,ee.from,ee.to),S.maxOpen(de.finish())}matchTag(H,ee,de){for(let Ee=de?this.tags.indexOf(de)+1:0;Ee<this.tags.length;Ee++){let Me=this.tags[Ee];if(he(H,Me.tag)&&(Me.namespace===void 0||H.namespaceURI==Me.namespace)&&(!Me.context||ee.matchesContext(Me.context))){if(Me.getAttrs){let $e=Me.getAttrs(H);if($e===!1)continue;Me.attrs=$e||void 0}return Me}}}matchStyle(H,ee,de,Ee){for(let Me=Ee?this.styles.indexOf(Ee)+1:0;Me<this.styles.length;Me++){let $e=this.styles[Me],dt=$e.style;if(!(dt.indexOf(H)!=0||$e.context&&!de.matchesContext($e.context)||dt.length>H.length&&(dt.charCodeAt(H.length)!=61||dt.slice(H.length+1)!=ee))){if($e.getAttrs){let ct=$e.getAttrs(ee);if(ct===!1)continue;$e.attrs=ct||void 0}return $e}}}static schemaRules(H){let ee=[];function de(Ee){let Me=Ee.priority==null?50:Ee.priority,$e=0;for(;$e<ee.length;$e++){let dt=ee[$e];if((dt.priority==null?50:dt.priority)<Me)break}ee.splice($e,0,Ee)}for(let Ee in H.marks){let Me=H.marks[Ee].spec.parseDOM;Me&&Me.forEach($e=>{de($e=st($e)),$e.mark||$e.ignore||$e.clearMark||($e.mark=Ee)})}for(let Ee in H.nodes){let Me=H.nodes[Ee].spec.parseDOM;Me&&Me.forEach($e=>{de($e=st($e)),$e.node||$e.ignore||$e.mark||($e.node=Ee)})}return ee}static fromSchema(H){return H.cached.domParser||(H.cached.domParser=new _t(H,_t.schemaRules(H)))}}const we={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},We={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Ie={ol:!0,ul:!0},tt=1,et=2,ht=4;function vt(Ae,H,ee){return H!=null?(H?tt:0)|(H==="full"?et:0):Ae&&Ae.whitespace=="pre"?tt|et:ee&~ht}class Lt{constructor(H,ee,de,Ee,Me,$e,dt){this.type=H,this.attrs=ee,this.marks=de,this.pendingMarks=Ee,this.solid=Me,this.options=dt,this.content=[],this.activeMarks=p.none,this.stashMarks=[],this.match=$e||(dt&ht?null:H.contentMatch)}findWrapping(H){if(!this.match){if(!this.type)return[];let ee=this.type.contentMatch.fillBefore(g.from(H));if(ee)this.match=this.type.contentMatch.matchFragment(ee);else{let de=this.type.contentMatch,Ee;return(Ee=de.findWrapping(H.type))?(this.match=de,Ee):null}}return this.match.findWrapping(H.type)}finish(H){if(!(this.options&tt)){let de=this.content[this.content.length-1],Ee;if(de&&de.isText&&(Ee=/[ \t\r\n\u000c]+$/.exec(de.text))){let Me=de;de.text.length==Ee[0].length?this.content.pop():this.content[this.content.length-1]=Me.withText(Me.text.slice(0,Me.text.length-Ee[0].length))}}let ee=g.from(this.content);return!H&&this.match&&(ee=ee.append(this.match.fillBefore(g.empty,!0))),this.type?this.type.create(this.attrs,ee,this.marks):ee}popFromStashMark(H){for(let ee=this.stashMarks.length-1;ee>=0;ee--)if(H.eq(this.stashMarks[ee]))return this.stashMarks.splice(ee,1)[0]}applyPending(H){for(let ee=0,de=this.pendingMarks;ee<de.length;ee++){let Ee=de[ee];(this.type?this.type.allowsMarkType(Ee.type):De(Ee.type,H))&&!Ee.isInSet(this.activeMarks)&&(this.activeMarks=Ee.addToSet(this.activeMarks),this.pendingMarks=Ee.removeFromSet(this.pendingMarks))}}inlineContext(H){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:H.parentNode&&!we.hasOwnProperty(H.parentNode.nodeName.toLowerCase())}}class $t{constructor(H,ee,de){this.parser=H,this.options=ee,this.isOpen=de,this.open=0;let Ee=ee.topNode,Me,$e=vt(null,ee.preserveWhitespace,0)|(de?ht:0);Ee?Me=new Lt(Ee.type,Ee.attrs,p.none,p.none,!0,ee.topMatch||Ee.type.contentMatch,$e):de?Me=new Lt(null,null,p.none,p.none,!0,null,$e):Me=new Lt(H.schema.topNodeType,null,p.none,p.none,!0,null,$e),this.nodes=[Me],this.find=ee.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(H){if(H.nodeType==3)this.addTextNode(H);else if(H.nodeType==1){let ee=H.getAttribute("style");if(!ee)this.addElement(H);else{let de=this.readStyles(je(ee));if(!de)return;let[Ee,Me]=de,$e=this.top;for(let dt=0;dt<Me.length;dt++)this.removePendingMark(Me[dt],$e);for(let dt=0;dt<Ee.length;dt++)this.addPendingMark(Ee[dt]);this.addElement(H);for(let dt=0;dt<Ee.length;dt++)this.removePendingMark(Ee[dt],$e);for(let dt=0;dt<Me.length;dt++)this.addPendingMark(Me[dt])}}}addTextNode(H){let ee=H.nodeValue,de=this.top;if(de.options&et||de.inlineContext(H)||/[^ \t\r\n\u000c]/.test(ee)){if(de.options&tt)de.options&et?ee=ee.replace(/\r\n?/g,`
`):ee=ee.replace(/\r?\n|\r/g," ");else if(ee=ee.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(ee)&&this.open==this.nodes.length-1){let Ee=de.content[de.content.length-1],Me=H.previousSibling;(!Ee||Me&&Me.nodeName=="BR"||Ee.isText&&/[ \t\r\n\u000c]$/.test(Ee.text))&&(ee=ee.slice(1))}ee&&this.insertNode(this.parser.schema.text(ee)),this.findInText(H)}else this.findInside(H)}addElement(H,ee){let de=H.nodeName.toLowerCase(),Ee;Ie.hasOwnProperty(de)&&this.parser.normalizeLists&&yt(H);let Me=this.options.ruleFromNode&&this.options.ruleFromNode(H)||(Ee=this.parser.matchTag(H,this,ee));if(Me?Me.ignore:We.hasOwnProperty(de))this.findInside(H),this.ignoreFallback(H);else if(!Me||Me.skip||Me.closeParent){Me&&Me.closeParent?this.open=Math.max(0,this.open-1):Me&&Me.skip.nodeType&&(H=Me.skip);let $e,dt=this.top,ct=this.needsBlock;if(we.hasOwnProperty(de))dt.content.length&&dt.content[0].isInline&&this.open&&(this.open--,dt=this.top),$e=!0,dt.type||(this.needsBlock=!0);else if(!H.firstChild){this.leafFallback(H);return}this.addAll(H),$e&&this.sync(dt),this.needsBlock=ct}else this.addElementByRule(H,Me,Me.consuming===!1?Ee:void 0)}leafFallback(H){H.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(H.ownerDocument.createTextNode(`
`))}ignoreFallback(H){H.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(H){let ee=p.none,de=p.none;e:for(let Ee=0;Ee<H.length;Ee+=2)for(let Me=void 0;;){let $e=this.parser.matchStyle(H[Ee],H[Ee+1],this,Me);if(!$e)continue e;if($e.ignore)return null;if($e.clearMark?this.top.pendingMarks.forEach(dt=>{$e.clearMark(dt)&&(de=dt.addToSet(de))}):ee=this.parser.schema.marks[$e.mark].create($e.attrs).addToSet(ee),$e.consuming===!1)Me=$e;else break}return[ee,de]}addElementByRule(H,ee,de){let Ee,Me,$e;ee.node?(Me=this.parser.schema.nodes[ee.node],Me.isLeaf?this.insertNode(Me.create(ee.attrs))||this.leafFallback(H):Ee=this.enter(Me,ee.attrs||null,ee.preserveWhitespace)):($e=this.parser.schema.marks[ee.mark].create(ee.attrs),this.addPendingMark($e));let dt=this.top;if(Me&&Me.isLeaf)this.findInside(H);else if(de)this.addElement(H,de);else if(ee.getContent)this.findInside(H),ee.getContent(H,this.parser.schema).forEach(ct=>this.insertNode(ct));else{let ct=H;typeof ee.contentElement=="string"?ct=H.querySelector(ee.contentElement):typeof ee.contentElement=="function"?ct=ee.contentElement(H):ee.contentElement&&(ct=ee.contentElement),this.findAround(H,ct,!0),this.addAll(ct)}Ee&&this.sync(dt)&&this.open--,$e&&this.removePendingMark($e,dt)}addAll(H,ee,de){let Ee=ee||0;for(let Me=ee?H.childNodes[ee]:H.firstChild,$e=de==null?null:H.childNodes[de];Me!=$e;Me=Me.nextSibling,++Ee)this.findAtPoint(H,Ee),this.addDOM(Me);this.findAtPoint(H,Ee)}findPlace(H){let ee,de;for(let Ee=this.open;Ee>=0;Ee--){let Me=this.nodes[Ee],$e=Me.findWrapping(H);if($e&&(!ee||ee.length>$e.length)&&(ee=$e,de=Me,!$e.length)||Me.solid)break}if(!ee)return!1;this.sync(de);for(let Ee=0;Ee<ee.length;Ee++)this.enterInner(ee[Ee],null,!1);return!0}insertNode(H){if(H.isInline&&this.needsBlock&&!this.top.type){let ee=this.textblockFromContext();ee&&this.enterInner(ee)}if(this.findPlace(H)){this.closeExtra();let ee=this.top;ee.applyPending(H.type),ee.match&&(ee.match=ee.match.matchType(H.type));let de=ee.activeMarks;for(let Ee=0;Ee<H.marks.length;Ee++)(!ee.type||ee.type.allowsMarkType(H.marks[Ee].type))&&(de=H.marks[Ee].addToSet(de));return ee.content.push(H.mark(de)),!0}return!1}enter(H,ee,de){let Ee=this.findPlace(H.create(ee));return Ee&&this.enterInner(H,ee,!0,de),Ee}enterInner(H,ee=null,de=!1,Ee){this.closeExtra();let Me=this.top;Me.applyPending(H),Me.match=Me.match&&Me.match.matchType(H);let $e=vt(H,Ee,Me.options);Me.options&ht&&Me.content.length==0&&($e|=ht),this.nodes.push(new Lt(H,ee,Me.activeMarks,Me.pendingMarks,de,null,$e)),this.open++}closeExtra(H=!1){let ee=this.nodes.length-1;if(ee>this.open){for(;ee>this.open;ee--)this.nodes[ee-1].content.push(this.nodes[ee].finish(H));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(H){for(let ee=this.open;ee>=0;ee--)if(this.nodes[ee]==H)return this.open=ee,!0;return!1}get currentPos(){this.closeExtra();let H=0;for(let ee=this.open;ee>=0;ee--){let de=this.nodes[ee].content;for(let Ee=de.length-1;Ee>=0;Ee--)H+=de[Ee].nodeSize;ee&&H++}return H}findAtPoint(H,ee){if(this.find)for(let de=0;de<this.find.length;de++)this.find[de].node==H&&this.find[de].offset==ee&&(this.find[de].pos=this.currentPos)}findInside(H){if(this.find)for(let ee=0;ee<this.find.length;ee++)this.find[ee].pos==null&&H.nodeType==1&&H.contains(this.find[ee].node)&&(this.find[ee].pos=this.currentPos)}findAround(H,ee,de){if(H!=ee&&this.find)for(let Ee=0;Ee<this.find.length;Ee++)this.find[Ee].pos==null&&H.nodeType==1&&H.contains(this.find[Ee].node)&&ee.compareDocumentPosition(this.find[Ee].node)&(de?2:4)&&(this.find[Ee].pos=this.currentPos)}findInText(H){if(this.find)for(let ee=0;ee<this.find.length;ee++)this.find[ee].node==H&&(this.find[ee].pos=this.currentPos-(H.nodeValue.length-this.find[ee].offset))}matchesContext(H){if(H.indexOf("|")>-1)return H.split(/\s*\|\s*/).some(this.matchesContext,this);let ee=H.split("/"),de=this.options.context,Ee=!this.isOpen&&(!de||de.parent.type==this.nodes[0].type),Me=-(de?de.depth+1:0)+(Ee?0:1),$e=(dt,ct)=>{for(;dt>=0;dt--){let wt=ee[dt];if(wt==""){if(dt==ee.length-1||dt==0)continue;for(;ct>=Me;ct--)if($e(dt-1,ct))return!0;return!1}else{let Mt=ct>0||ct==0&&Ee?this.nodes[ct].type:de&&ct>=Me?de.node(ct-Me).type:null;if(!Mt||Mt.name!=wt&&Mt.groups.indexOf(wt)==-1)return!1;ct--}}return!0};return $e(ee.length-1,this.open)}textblockFromContext(){let H=this.options.context;if(H)for(let ee=H.depth;ee>=0;ee--){let de=H.node(ee).contentMatchAt(H.indexAfter(ee)).defaultType;if(de&&de.isTextblock&&de.defaultAttrs)return de}for(let ee in this.parser.schema.nodes){let de=this.parser.schema.nodes[ee];if(de.isTextblock&&de.defaultAttrs)return de}}addPendingMark(H){let ee=Be(H,this.top.pendingMarks);ee&&this.top.stashMarks.push(ee),this.top.pendingMarks=H.addToSet(this.top.pendingMarks)}removePendingMark(H,ee){for(let de=this.open;de>=0;de--){let Ee=this.nodes[de];if(Ee.pendingMarks.lastIndexOf(H)>-1)Ee.pendingMarks=H.removeFromSet(Ee.pendingMarks);else{Ee.activeMarks=H.removeFromSet(Ee.activeMarks);let $e=Ee.popFromStashMark(H);$e&&Ee.type&&Ee.type.allowsMarkType($e.type)&&(Ee.activeMarks=$e.addToSet(Ee.activeMarks))}if(Ee==ee)break}}}function yt(Ae){for(let H=Ae.firstChild,ee=null;H;H=H.nextSibling){let de=H.nodeType==1?H.nodeName.toLowerCase():null;de&&Ie.hasOwnProperty(de)&&ee?(ee.appendChild(H),H=ee):de=="li"?ee=H:de&&(ee=null)}}function he(Ae,H){return(Ae.matches||Ae.msMatchesSelector||Ae.webkitMatchesSelector||Ae.mozMatchesSelector).call(Ae,H)}function je(Ae){let H=/\s*([\w-]+)\s*:\s*([^;]+)/g,ee,de=[];for(;ee=H.exec(Ae);)de.push(ee[1],ee[2].trim());return de}function st(Ae){let H={};for(let ee in Ae)H[ee]=Ae[ee];return H}function De(Ae,H){let ee=H.schema.nodes;for(let de in ee){let Ee=ee[de];if(!Ee.allowsMarkType(Ae))continue;let Me=[],$e=dt=>{Me.push(dt);for(let ct=0;ct<dt.edgeCount;ct++){let{type:wt,next:Mt}=dt.edge(ct);if(wt==H||Me.indexOf(Mt)<0&&$e(Mt))return!0}};if($e(Ee.contentMatch))return!0}}function Be(Ae,H){for(let ee=0;ee<H.length;ee++)if(Ae.eq(H[ee]))return H[ee]}class Ke{constructor(H,ee){this.nodes=H,this.marks=ee}serializeFragment(H,ee={},de){de||(de=Qe(ee).createDocumentFragment());let Ee=de,Me=[];return H.forEach($e=>{if(Me.length||$e.marks.length){let dt=0,ct=0;for(;dt<Me.length&&ct<$e.marks.length;){let wt=$e.marks[ct];if(!this.marks[wt.type.name]){ct++;continue}if(!wt.eq(Me[dt][0])||wt.type.spec.spanning===!1)break;dt++,ct++}for(;dt<Me.length;)Ee=Me.pop()[1];for(;ct<$e.marks.length;){let wt=$e.marks[ct++],Mt=this.serializeMark(wt,$e.isInline,ee);Mt&&(Me.push([wt,Ee]),Ee.appendChild(Mt.dom),Ee=Mt.contentDOM||Mt.dom)}}Ee.appendChild(this.serializeNodeInner($e,ee))}),de}serializeNodeInner(H,ee){let{dom:de,contentDOM:Ee}=Ke.renderSpec(Qe(ee),this.nodes[H.type.name](H));if(Ee){if(H.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(H.content,ee,Ee)}return de}serializeNode(H,ee={}){let de=this.serializeNodeInner(H,ee);for(let Ee=H.marks.length-1;Ee>=0;Ee--){let Me=this.serializeMark(H.marks[Ee],H.isInline,ee);Me&&((Me.contentDOM||Me.dom).appendChild(de),de=Me.dom)}return de}serializeMark(H,ee,de={}){let Ee=this.marks[H.type.name];return Ee&&Ke.renderSpec(Qe(de),Ee(H,ee))}static renderSpec(H,ee,de=null){if(typeof ee=="string")return{dom:H.createTextNode(ee)};if(ee.nodeType!=null)return{dom:ee};if(ee.dom&&ee.dom.nodeType!=null)return ee;let Ee=ee[0],Me=Ee.indexOf(" ");Me>0&&(de=Ee.slice(0,Me),Ee=Ee.slice(Me+1));let $e,dt=de?H.createElementNS(de,Ee):H.createElement(Ee),ct=ee[1],wt=1;if(ct&&typeof ct=="object"&&ct.nodeType==null&&!Array.isArray(ct)){wt=2;for(let Mt in ct)if(ct[Mt]!=null){let pn=Mt.indexOf(" ");pn>0?dt.setAttributeNS(Mt.slice(0,pn),Mt.slice(pn+1),ct[Mt]):dt.setAttribute(Mt,ct[Mt])}}for(let Mt=wt;Mt<ee.length;Mt++){let pn=ee[Mt];if(pn===0){if(Mt<ee.length-1||Mt>wt)throw new RangeError("Content hole must be the only child of its parent node");return{dom:dt,contentDOM:dt}}else{let{dom:Mn,contentDOM:$n}=Ke.renderSpec(H,pn,de);if(dt.appendChild(Mn),$n){if($e)throw new RangeError("Multiple content holes");$e=$n}}}return{dom:dt,contentDOM:$e}}static fromSchema(H){return H.cached.domSerializer||(H.cached.domSerializer=new Ke(this.nodesFromSchema(H),this.marksFromSchema(H)))}static nodesFromSchema(H){let ee=it(H.nodes);return ee.text||(ee.text=de=>de.text),ee}static marksFromSchema(H){return it(H.marks)}}function it(Ae){let H={};for(let ee in Ae){let de=Ae[ee].spec.toDOM;de&&(H[ee]=de)}return H}function Qe(Ae){return Ae.document||window.document}},53833:(z,u,e)=>{"use strict";e.d(u,{IB:()=>_,KI:()=>S,bw:()=>w});var o=e(16560),f=e(87823);const l=["ol",0],c=["ul",0],g=["li",0],v={attrs:{order:{default:1}},parseDOM:[{tag:"ol",getAttrs(P){return{order:P.hasAttribute("start")?+P.getAttribute("start"):1}}}],toDOM(P){return P.attrs.order==1?l:["ol",{start:P.attrs.order},0]}},E={parseDOM:[{tag:"ul"}],toDOM(){return c}},y={parseDOM:[{tag:"li"}],toDOM(){return g},defining:!0};function p(P,I){let D={};for(let N in P)D[N]=P[N];for(let N in I)D[N]=I[N];return D}function O(P,I,D){return P.append({ordered_list:p(v,{content:"list_item+",group:D}),bullet_list:p(E,{content:"list_item+",group:D}),list_item:p(y,{content:I})})}function S(P,I=null){return function(D,N){let{$from:C,$to:A}=D.selection,L=C.blockRange(A),U=!1,W=L;if(!L)return!1;if(L.depth>=2&&C.node(L.depth-1).type.compatibleContent(P)&&L.startIndex==0){if(C.index(L.depth-1)==0)return!1;let $=D.doc.resolve(L.start-2);W=new f.Ts($,$,L.depth),L.endIndex<L.parent.childCount&&(L=new f.Ts(C,D.doc.resolve(A.end(L.depth)),L.depth)),U=!0}let G=(0,o.nd)(W,P,I,L);return G?(N&&N(x(D.tr,L,G,U,P).scrollIntoView()),!0):!1}}function x(P,I,D,N,C){let A=f.HY.empty;for(let $=D.length-1;$>=0;$--)A=f.HY.from(D[$].type.create(D[$].attrs,A));P.step(new o.FC(I.start-(N?2:0),I.end,I.start,I.end,new f.p2(A,0,0),D.length,!0));let L=0;for(let $=0;$<D.length;$++)D[$].type==C&&(L=$+1);let U=D.length-L,W=I.start+D.length-(N?2:0),G=I.parent;for(let $=I.startIndex,q=I.endIndex,J=!0;$<q;$++,J=!1)!J&&(0,o.Ax)(P.doc,W,U)&&(P.split(W,U),W+=2*U),W+=G.child($).nodeSize;return P}function T(P){return function(I,D){let{$from:N,$to:C,node:A}=I.selection;if(A&&A.isBlock||N.depth<2||!N.sameParent(C))return!1;let L=N.node(-1);if(L.type!=P)return!1;if(N.parent.content.size==0&&N.node(-1).childCount==N.indexAfter(-1)){if(N.depth==3||N.node(-3).type!=P||N.index(-2)!=N.node(-2).childCount-1)return!1;if(D){let $=Fragment.empty,q=N.index(-1)?1:N.index(-2)?2:3;for(let le=N.depth-q;le>=N.depth-3;le--)$=Fragment.from(N.node(le).copy($));let J=N.indexAfter(-1)<N.node(-2).childCount?1:N.indexAfter(-2)<N.node(-3).childCount?2:3;$=$.append(Fragment.from(P.createAndFill()));let R=N.before(N.depth-(q-1)),j=I.tr.replace(R,N.after(-J),new Slice($,4-q,0)),ie=-1;j.doc.nodesBetween(R,j.doc.content.size,(le,ye)=>{if(ie>-1)return!1;le.isTextblock&&le.content.size==0&&(ie=ye+1)}),ie>-1&&j.setSelection(Selection.near(j.doc.resolve(ie))),D(j.scrollIntoView())}return!0}let U=C.pos==N.end()?L.contentMatchAt(0).defaultType:null,W=I.tr.delete(N.pos,C.pos),G=U?[null,{type:U}]:void 0;return canSplit(W.doc,N.pos,2,G)?(D&&D(W.split(N.pos,2,G).scrollIntoView()),!0):!1}}function _(P){return function(I,D){let{$from:N,$to:C}=I.selection,A=N.blockRange(C,L=>L.childCount>0&&L.firstChild.type==P);return A?D?N.node(A.depth-1).type==P?d(I,D,P,A):s(I,D,A):!0:!1}}function d(P,I,D,N){let C=P.tr,A=N.end,L=N.$to.end(N.depth);A<L&&(C.step(new o.FC(A-1,L,A,L,new f.p2(f.HY.from(D.create(null,N.parent.copy())),1,0),1,!0)),N=new f.Ts(C.doc.resolve(N.$from.pos),C.doc.resolve(L),N.depth));const U=(0,o.k9)(N);if(U==null)return!1;C.lift(N,U);let W=C.mapping.map(A,-1)-1;return(0,o.Mn)(C.doc,W)&&C.join(W),I(C.scrollIntoView()),!0}function s(P,I,D){let N=P.tr,C=D.parent;for(let R=D.end,j=D.endIndex-1,ie=D.startIndex;j>ie;j--)R-=C.child(j).nodeSize,N.delete(R-1,R+1);let A=N.doc.resolve(D.start),L=A.nodeAfter;if(N.mapping.map(D.end)!=D.start+A.nodeAfter.nodeSize)return!1;let U=D.startIndex==0,W=D.endIndex==C.childCount,G=A.node(-1),$=A.index(-1);if(!G.canReplace($+(U?0:1),$+1,L.content.append(W?f.HY.empty:f.HY.from(C))))return!1;let q=A.pos,J=q+L.nodeSize;return N.step(new o.FC(q-(U?1:0),J+(W?1:0),q+1,J-1,new f.p2((U?f.HY.empty:f.HY.from(C.copy(f.HY.empty))).append(W?f.HY.empty:f.HY.from(C.copy(f.HY.empty))),U?0:1,W?0:1),U?0:1)),I(N.scrollIntoView()),!0}function w(P){return function(I,D){let{$from:N,$to:C}=I.selection,A=N.blockRange(C,G=>G.childCount>0&&G.firstChild.type==P);if(!A)return!1;let L=A.startIndex;if(L==0)return!1;let U=A.parent,W=U.child(L-1);if(W.type!=P)return!1;if(D){let G=W.lastChild&&W.lastChild.type==U.type,$=f.HY.from(G?P.create():null),q=new f.p2(f.HY.from(P.create(null,f.HY.from(U.type.create(null,$)))),G?3:1,0),J=A.start,R=A.end;D(I.tr.step(new o.FC(J-(G?3:1),R,J,R,q,1,!0)).scrollIntoView())}return!0}}},2376:(z,u,e)=>{"use strict";e.d(u,{Bs:()=>y,C1:()=>x,H$:()=>q,Sy:()=>W,Y1:()=>c,qv:()=>O,yy:()=>L});var o=e(87823),f=e(16560);const l=Object.create(null);class c{constructor(R,j,ie){this.$anchor=R,this.$head=j,this.ranges=ie||[new g(R.min(j),R.max(j))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let R=this.ranges;for(let j=0;j<R.length;j++)if(R[j].$from.pos!=R[j].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(R,j=o.p2.empty){let ie=j.content.lastChild,le=null;for(let oe=0;oe<j.openEnd;oe++)le=ie,ie=ie.lastChild;let ye=R.steps.length,ue=this.ranges;for(let oe=0;oe<ue.length;oe++){let{$from:te,$to:Z}=ue[oe],re=R.mapping.slice(ye);R.replaceRange(re.map(te.pos),re.map(Z.pos),oe?o.p2.empty:j),oe==0&&d(R,ye,(ie?ie.isInline:le&&le.isTextblock)?-1:1)}}replaceWith(R,j){let ie=R.steps.length,le=this.ranges;for(let ye=0;ye<le.length;ye++){let{$from:ue,$to:oe}=le[ye],te=R.mapping.slice(ie),Z=te.map(ue.pos),re=te.map(oe.pos);ye?R.deleteRange(Z,re):(R.replaceRangeWith(Z,re,j),d(R,ie,j.isInline?-1:1))}}static findFrom(R,j,ie=!1){let le=R.parent.inlineContent?new y(R):_(R.node(0),R.parent,R.pos,R.index(),j,ie);if(le)return le;for(let ye=R.depth-1;ye>=0;ye--){let ue=j<0?_(R.node(0),R.node(ye),R.before(ye+1),R.index(ye),j,ie):_(R.node(0),R.node(ye),R.after(ye+1),R.index(ye)+1,j,ie);if(ue)return ue}return null}static near(R,j=1){return this.findFrom(R,j)||this.findFrom(R,-j)||new x(R.node(0))}static atStart(R){return _(R,R,0,0,1)||new x(R)}static atEnd(R){return _(R,R,R.content.size,R.childCount,-1)||new x(R)}static fromJSON(R,j){if(!j||!j.type)throw new RangeError("Invalid input for Selection.fromJSON");let ie=l[j.type];if(!ie)throw new RangeError(`No selection type ${j.type} defined`);return ie.fromJSON(R,j)}static jsonID(R,j){if(R in l)throw new RangeError("Duplicate use of selection JSON ID "+R);return l[R]=j,j.prototype.jsonID=R,j}getBookmark(){return y.between(this.$anchor,this.$head).getBookmark()}}c.prototype.visible=!0;class g{constructor(R,j){this.$from=R,this.$to=j}}let v=!1;function E(J){!v&&!J.parent.inlineContent&&(v=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+J.parent.type.name+")"))}class y extends c{constructor(R,j=R){E(R),E(j),super(R,j)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(R,j){let ie=R.resolve(j.map(this.head));if(!ie.parent.inlineContent)return c.near(ie);let le=R.resolve(j.map(this.anchor));return new y(le.parent.inlineContent?le:ie,ie)}replace(R,j=o.p2.empty){if(super.replace(R,j),j==o.p2.empty){let ie=this.$from.marksAcross(this.$to);ie&&R.ensureMarks(ie)}}eq(R){return R instanceof y&&R.anchor==this.anchor&&R.head==this.head}getBookmark(){return new p(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(R,j){if(typeof j.anchor!="number"||typeof j.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new y(R.resolve(j.anchor),R.resolve(j.head))}static create(R,j,ie=j){let le=R.resolve(j);return new this(le,ie==j?le:R.resolve(ie))}static between(R,j,ie){let le=R.pos-j.pos;if((!ie||le)&&(ie=le>=0?1:-1),!j.parent.inlineContent){let ye=c.findFrom(j,ie,!0)||c.findFrom(j,-ie,!0);if(ye)j=ye.$head;else return c.near(j,ie)}return R.parent.inlineContent||(le==0?R=j:(R=(c.findFrom(R,-ie,!0)||c.findFrom(R,ie,!0)).$anchor,R.pos<j.pos!=le<0&&(R=j))),new y(R,j)}}c.jsonID("text",y);class p{constructor(R,j){this.anchor=R,this.head=j}map(R){return new p(R.map(this.anchor),R.map(this.head))}resolve(R){return y.between(R.resolve(this.anchor),R.resolve(this.head))}}class O extends c{constructor(R){let j=R.nodeAfter,ie=R.node(0).resolve(R.pos+j.nodeSize);super(R,ie),this.node=j}map(R,j){let{deleted:ie,pos:le}=j.mapResult(this.anchor),ye=R.resolve(le);return ie?c.near(ye):new O(ye)}content(){return new o.p2(o.HY.from(this.node),0,0)}eq(R){return R instanceof O&&R.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new S(this.anchor)}static fromJSON(R,j){if(typeof j.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new O(R.resolve(j.anchor))}static create(R,j){return new O(R.resolve(j))}static isSelectable(R){return!R.isText&&R.type.spec.selectable!==!1}}O.prototype.visible=!1,c.jsonID("node",O);class S{constructor(R){this.anchor=R}map(R){let{deleted:j,pos:ie}=R.mapResult(this.anchor);return j?new p(ie,ie):new S(ie)}resolve(R){let j=R.resolve(this.anchor),ie=j.nodeAfter;return ie&&O.isSelectable(ie)?new O(j):c.near(j)}}class x extends c{constructor(R){super(R.resolve(0),R.resolve(R.content.size))}replace(R,j=o.p2.empty){if(j==o.p2.empty){R.delete(0,R.doc.content.size);let ie=c.atStart(R.doc);ie.eq(R.selection)||R.setSelection(ie)}else super.replace(R,j)}toJSON(){return{type:"all"}}static fromJSON(R){return new x(R)}map(R){return new x(R)}eq(R){return R instanceof x}getBookmark(){return T}}c.jsonID("all",x);const T={map(){return this},resolve(J){return new x(J)}};function _(J,R,j,ie,le,ye=!1){if(R.inlineContent)return y.create(J,j);for(let ue=ie-(le>0?0:1);le>0?ue<R.childCount:ue>=0;ue+=le){let oe=R.child(ue);if(oe.isAtom){if(!ye&&O.isSelectable(oe))return O.create(J,j-(le<0?oe.nodeSize:0))}else{let te=_(J,oe,j+le,le<0?oe.childCount:0,le,ye);if(te)return te}j+=oe.nodeSize*le}return null}function d(J,R,j){let ie=J.steps.length-1;if(ie<R)return;let le=J.steps[ie];if(!(le instanceof f.Pu||le instanceof f.FC))return;let ye=J.mapping.maps[ie],ue;ye.forEach((oe,te,Z,re)=>{ue==null&&(ue=re)}),J.setSelection(c.near(J.doc.resolve(ue),j))}const s=1,w=2,P=4;class I extends f.wx{constructor(R){super(R.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=R.selection,this.storedMarks=R.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(R){if(R.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=R,this.curSelectionFor=this.steps.length,this.updated=(this.updated|s)&~w,this.storedMarks=null,this}get selectionSet(){return(this.updated&s)>0}setStoredMarks(R){return this.storedMarks=R,this.updated|=w,this}ensureMarks(R){return o.vc.sameSet(this.storedMarks||this.selection.$from.marks(),R)||this.setStoredMarks(R),this}addStoredMark(R){return this.ensureMarks(R.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(R){return this.ensureMarks(R.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&w)>0}addStep(R,j){super.addStep(R,j),this.updated=this.updated&~w,this.storedMarks=null}setTime(R){return this.time=R,this}replaceSelection(R){return this.selection.replace(this,R),this}replaceSelectionWith(R,j=!0){let ie=this.selection;return j&&(R=R.mark(this.storedMarks||(ie.empty?ie.$from.marks():ie.$from.marksAcross(ie.$to)||o.vc.none))),ie.replaceWith(this,R),this}deleteSelection(){return this.selection.replace(this),this}insertText(R,j,ie){let le=this.doc.type.schema;if(j==null)return R?this.replaceSelectionWith(le.text(R),!0):this.deleteSelection();{if(ie==null&&(ie=j),ie=ie==null?j:ie,!R)return this.deleteRange(j,ie);let ye=this.storedMarks;if(!ye){let ue=this.doc.resolve(j);ye=ie==j?ue.marks():ue.marksAcross(this.doc.resolve(ie))}return this.replaceRangeWith(j,ie,le.text(R,ye)),this.selection.empty||this.setSelection(c.near(this.selection.$to)),this}}setMeta(R,j){return this.meta[typeof R=="string"?R:R.key]=j,this}getMeta(R){return this.meta[typeof R=="string"?R:R.key]}get isGeneric(){for(let R in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=P,this}get scrolledIntoView(){return(this.updated&P)>0}}function D(J,R){return!R||!J?J:J.bind(R)}class N{constructor(R,j,ie){this.name=R,this.init=D(j.init,ie),this.apply=D(j.apply,ie)}}const C=[new N("doc",{init(J){return J.doc||J.schema.topNodeType.createAndFill()},apply(J){return J.doc}}),new N("selection",{init(J,R){return J.selection||c.atStart(R.doc)},apply(J){return J.selection}}),new N("storedMarks",{init(J){return J.storedMarks||null},apply(J,R,j,ie){return ie.selection.$cursor?J.storedMarks:null}}),new N("scrollToSelection",{init(){return 0},apply(J,R){return J.scrolledIntoView?R+1:R}})];class A{constructor(R,j){this.schema=R,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=C.slice(),j&&j.forEach(ie=>{if(this.pluginsByKey[ie.key])throw new RangeError("Adding different instances of a keyed plugin ("+ie.key+")");this.plugins.push(ie),this.pluginsByKey[ie.key]=ie,ie.spec.state&&this.fields.push(new N(ie.key,ie.spec.state,ie))})}}class L{constructor(R){this.config=R}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(R){return this.applyTransaction(R).state}filterTransaction(R,j=-1){for(let ie=0;ie<this.config.plugins.length;ie++)if(ie!=j){let le=this.config.plugins[ie];if(le.spec.filterTransaction&&!le.spec.filterTransaction.call(le,R,this))return!1}return!0}applyTransaction(R){if(!this.filterTransaction(R))return{state:this,transactions:[]};let j=[R],ie=this.applyInner(R),le=null;for(;;){let ye=!1;for(let ue=0;ue<this.config.plugins.length;ue++){let oe=this.config.plugins[ue];if(oe.spec.appendTransaction){let te=le?le[ue].n:0,Z=le?le[ue].state:this,re=te<j.length&&oe.spec.appendTransaction.call(oe,te?j.slice(te):j,Z,ie);if(re&&ie.filterTransaction(re,ue)){if(re.setMeta("appendedTransaction",R),!le){le=[];for(let ae=0;ae<this.config.plugins.length;ae++)le.push(ae<ue?{state:ie,n:j.length}:{state:this,n:0})}j.push(re),ie=ie.applyInner(re),ye=!0}le&&(le[ue]={state:ie,n:j.length})}}if(!ye)return{state:ie,transactions:j}}}applyInner(R){if(!R.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let j=new L(this.config),ie=this.config.fields;for(let le=0;le<ie.length;le++){let ye=ie[le];j[ye.name]=ye.apply(R,this[ye.name],this,j)}return j}get tr(){return new I(this)}static create(R){let j=new A(R.doc?R.doc.type.schema:R.schema,R.plugins),ie=new L(j);for(let le=0;le<j.fields.length;le++)ie[j.fields[le].name]=j.fields[le].init(R,ie);return ie}reconfigure(R){let j=new A(this.schema,R.plugins),ie=j.fields,le=new L(j);for(let ye=0;ye<ie.length;ye++){let ue=ie[ye].name;le[ue]=this.hasOwnProperty(ue)?this[ue]:ie[ye].init(R,le)}return le}toJSON(R){let j={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(j.storedMarks=this.storedMarks.map(ie=>ie.toJSON())),R&&typeof R=="object")for(let ie in R){if(ie=="doc"||ie=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let le=R[ie],ye=le.spec.state;ye&&ye.toJSON&&(j[ie]=ye.toJSON.call(le,this[le.key]))}return j}static fromJSON(R,j,ie){if(!j)throw new RangeError("Invalid input for EditorState.fromJSON");if(!R.schema)throw new RangeError("Required config field 'schema' missing");let le=new A(R.schema,R.plugins),ye=new L(le);return le.fields.forEach(ue=>{if(ue.name=="doc")ye.doc=o.NB.fromJSON(R.schema,j.doc);else if(ue.name=="selection")ye.selection=c.fromJSON(ye.doc,j.selection);else if(ue.name=="storedMarks")j.storedMarks&&(ye.storedMarks=j.storedMarks.map(R.schema.markFromJSON));else{if(ie)for(let oe in ie){let te=ie[oe],Z=te.spec.state;if(te.key==ue.name&&Z&&Z.fromJSON&&Object.prototype.hasOwnProperty.call(j,oe)){ye[ue.name]=Z.fromJSON.call(te,R,j[oe],ye);return}}ye[ue.name]=ue.init(R,ye)}}),ye}}function U(J,R,j){for(let ie in J){let le=J[ie];le instanceof Function?le=le.bind(R):ie=="handleDOMEvents"&&(le=U(le,R,{})),j[ie]=le}return j}class W{constructor(R){this.spec=R,this.props={},R.props&&U(R.props,this,this.props),this.key=R.key?R.key.key:$("plugin")}getState(R){return R[this.key]}}const G=Object.create(null);function $(J){return J in G?J+"$"+ ++G[J]:(G[J]=0,J+"$")}class q{constructor(R="key"){this.key=$(R)}get(R){return R.config.pluginsByKey[this.key]}getState(R){return R[this.key]}}},16560:(z,u,e)=>{"use strict";e.d(u,{Ax:()=>Z,FC:()=>A,GJ:()=>be,Mn:()=>ae,Pu:()=>C,dR:()=>Te,k9:()=>q,nd:()=>R,nj:()=>me,vs:()=>T,wx:()=>$t});var o=e(87823);const f=65535,l=Math.pow(2,16);function c(yt,he){return yt+he*l}function g(yt){return yt&f}function v(yt){return(yt-(yt&f))/l}const E=1,y=2,p=4,O=8;class S{constructor(he,je,st){this.pos=he,this.delInfo=je,this.recover=st}get deleted(){return(this.delInfo&O)>0}get deletedBefore(){return(this.delInfo&(E|p))>0}get deletedAfter(){return(this.delInfo&(y|p))>0}get deletedAcross(){return(this.delInfo&p)>0}}class x{constructor(he,je=!1){if(this.ranges=he,this.inverted=je,!he.length&&x.empty)return x.empty}recover(he){let je=0,st=g(he);if(!this.inverted)for(let De=0;De<st;De++)je+=this.ranges[De*3+2]-this.ranges[De*3+1];return this.ranges[st*3]+je+v(he)}mapResult(he,je=1){return this._map(he,je,!1)}map(he,je=1){return this._map(he,je,!0)}_map(he,je,st){let De=0,Be=this.inverted?2:1,Ke=this.inverted?1:2;for(let it=0;it<this.ranges.length;it+=3){let Qe=this.ranges[it]-(this.inverted?De:0);if(Qe>he)break;let Ae=this.ranges[it+Be],H=this.ranges[it+Ke],ee=Qe+Ae;if(he<=ee){let de=Ae?he==Qe?-1:he==ee?1:je:je,Ee=Qe+De+(de<0?0:H);if(st)return Ee;let Me=he==(je<0?Qe:ee)?null:c(it/3,he-Qe),$e=he==Qe?y:he==ee?E:p;return(je<0?he!=Qe:he!=ee)&&($e|=O),new S(Ee,$e,Me)}De+=H-Ae}return st?he+De:new S(he+De,0,null)}touches(he,je){let st=0,De=g(je),Be=this.inverted?2:1,Ke=this.inverted?1:2;for(let it=0;it<this.ranges.length;it+=3){let Qe=this.ranges[it]-(this.inverted?st:0);if(Qe>he)break;let Ae=this.ranges[it+Be],H=Qe+Ae;if(he<=H&&it==De*3)return!0;st+=this.ranges[it+Ke]-Ae}return!1}forEach(he){let je=this.inverted?2:1,st=this.inverted?1:2;for(let De=0,Be=0;De<this.ranges.length;De+=3){let Ke=this.ranges[De],it=Ke-(this.inverted?Be:0),Qe=Ke+(this.inverted?0:Be),Ae=this.ranges[De+je],H=this.ranges[De+st];he(it,it+Ae,Qe,Qe+H),Be+=H-Ae}}invert(){return new x(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(he){return he==0?x.empty:new x(he<0?[0,-he,0]:[0,0,he])}}x.empty=new x([]);class T{constructor(he=[],je,st=0,De=he.length){this.maps=he,this.mirror=je,this.from=st,this.to=De}slice(he=0,je=this.maps.length){return new T(this.maps,this.mirror,he,je)}copy(){return new T(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(he,je){this.to=this.maps.push(he),je!=null&&this.setMirror(this.maps.length-1,je)}appendMapping(he){for(let je=0,st=this.maps.length;je<he.maps.length;je++){let De=he.getMirror(je);this.appendMap(he.maps[je],De!=null&&De<je?st+De:void 0)}}getMirror(he){if(this.mirror){for(let je=0;je<this.mirror.length;je++)if(this.mirror[je]==he)return this.mirror[je+(je%2?-1:1)]}}setMirror(he,je){this.mirror||(this.mirror=[]),this.mirror.push(he,je)}appendMappingInverted(he){for(let je=he.maps.length-1,st=this.maps.length+he.maps.length;je>=0;je--){let De=he.getMirror(je);this.appendMap(he.maps[je].invert(),De!=null&&De>je?st-De-1:void 0)}}invert(){let he=new T;return he.appendMappingInverted(this),he}map(he,je=1){if(this.mirror)return this._map(he,je,!0);for(let st=this.from;st<this.to;st++)he=this.maps[st].map(he,je);return he}mapResult(he,je=1){return this._map(he,je,!1)}_map(he,je,st){let De=0;for(let Be=this.from;Be<this.to;Be++){let Ke=this.maps[Be],it=Ke.mapResult(he,je);if(it.recover!=null){let Qe=this.getMirror(Be);if(Qe!=null&&Qe>Be&&Qe<this.to){Be=Qe,he=this.maps[Qe].recover(it.recover);continue}}De|=it.delInfo,he=it.pos}return st?he:new S(he,De,null)}}const _=Object.create(null);class d{getMap(){return x.empty}merge(he){return null}static fromJSON(he,je){if(!je||!je.stepType)throw new RangeError("Invalid input for Step.fromJSON");let st=_[je.stepType];if(!st)throw new RangeError(`No step type ${je.stepType} defined`);return st.fromJSON(he,je)}static jsonID(he,je){if(he in _)throw new RangeError("Duplicate use of step JSON ID "+he);return _[he]=je,je.prototype.jsonID=he,je}}class s{constructor(he,je){this.doc=he,this.failed=je}static ok(he){return new s(he,null)}static fail(he){return new s(null,he)}static fromReplace(he,je,st,De){try{return s.ok(he.replace(je,st,De))}catch(Be){if(Be instanceof o.e4)return s.fail(Be.message);throw Be}}}function w(yt,he,je){let st=[];for(let De=0;De<yt.childCount;De++){let Be=yt.child(De);Be.content.size&&(Be=Be.copy(w(Be.content,he,Be))),Be.isInline&&(Be=he(Be,je,De)),st.push(Be)}return o.HY.fromArray(st)}class P extends d{constructor(he,je,st){super(),this.from=he,this.to=je,this.mark=st}apply(he){let je=he.slice(this.from,this.to),st=he.resolve(this.from),De=st.node(st.sharedDepth(this.to)),Be=new o.p2(w(je.content,(Ke,it)=>!Ke.isAtom||!it.type.allowsMarkType(this.mark.type)?Ke:Ke.mark(this.mark.addToSet(Ke.marks)),De),je.openStart,je.openEnd);return s.fromReplace(he,this.from,this.to,Be)}invert(){return new I(this.from,this.to,this.mark)}map(he){let je=he.mapResult(this.from,1),st=he.mapResult(this.to,-1);return je.deleted&&st.deleted||je.pos>=st.pos?null:new P(je.pos,st.pos,this.mark)}merge(he){return he instanceof P&&he.mark.eq(this.mark)&&this.from<=he.to&&this.to>=he.from?new P(Math.min(this.from,he.from),Math.max(this.to,he.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(he,je){if(typeof je.from!="number"||typeof je.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new P(je.from,je.to,he.markFromJSON(je.mark))}}d.jsonID("addMark",P);class I extends d{constructor(he,je,st){super(),this.from=he,this.to=je,this.mark=st}apply(he){let je=he.slice(this.from,this.to),st=new o.p2(w(je.content,De=>De.mark(this.mark.removeFromSet(De.marks)),he),je.openStart,je.openEnd);return s.fromReplace(he,this.from,this.to,st)}invert(){return new P(this.from,this.to,this.mark)}map(he){let je=he.mapResult(this.from,1),st=he.mapResult(this.to,-1);return je.deleted&&st.deleted||je.pos>=st.pos?null:new I(je.pos,st.pos,this.mark)}merge(he){return he instanceof I&&he.mark.eq(this.mark)&&this.from<=he.to&&this.to>=he.from?new I(Math.min(this.from,he.from),Math.max(this.to,he.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(he,je){if(typeof je.from!="number"||typeof je.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new I(je.from,je.to,he.markFromJSON(je.mark))}}d.jsonID("removeMark",I);class D extends d{constructor(he,je){super(),this.pos=he,this.mark=je}apply(he){let je=he.nodeAt(this.pos);if(!je)return s.fail("No node at mark step's position");let st=je.type.create(je.attrs,null,this.mark.addToSet(je.marks));return s.fromReplace(he,this.pos,this.pos+1,new o.p2(o.HY.from(st),0,je.isLeaf?0:1))}invert(he){let je=he.nodeAt(this.pos);if(je){let st=this.mark.addToSet(je.marks);if(st.length==je.marks.length){for(let De=0;De<je.marks.length;De++)if(!je.marks[De].isInSet(st))return new D(this.pos,je.marks[De]);return new D(this.pos,this.mark)}}return new N(this.pos,this.mark)}map(he){let je=he.mapResult(this.pos,1);return je.deletedAfter?null:new D(je.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(he,je){if(typeof je.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new D(je.pos,he.markFromJSON(je.mark))}}d.jsonID("addNodeMark",D);class N extends d{constructor(he,je){super(),this.pos=he,this.mark=je}apply(he){let je=he.nodeAt(this.pos);if(!je)return s.fail("No node at mark step's position");let st=je.type.create(je.attrs,null,this.mark.removeFromSet(je.marks));return s.fromReplace(he,this.pos,this.pos+1,new o.p2(o.HY.from(st),0,je.isLeaf?0:1))}invert(he){let je=he.nodeAt(this.pos);return!je||!this.mark.isInSet(je.marks)?this:new D(this.pos,this.mark)}map(he){let je=he.mapResult(this.pos,1);return je.deletedAfter?null:new N(je.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(he,je){if(typeof je.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new N(je.pos,he.markFromJSON(je.mark))}}d.jsonID("removeNodeMark",N);class C extends d{constructor(he,je,st,De=!1){super(),this.from=he,this.to=je,this.slice=st,this.structure=De}apply(he){return this.structure&&L(he,this.from,this.to)?s.fail("Structure replace would overwrite content"):s.fromReplace(he,this.from,this.to,this.slice)}getMap(){return new x([this.from,this.to-this.from,this.slice.size])}invert(he){return new C(this.from,this.from+this.slice.size,he.slice(this.from,this.to))}map(he){let je=he.mapResult(this.from,1),st=he.mapResult(this.to,-1);return je.deletedAcross&&st.deletedAcross?null:new C(je.pos,Math.max(je.pos,st.pos),this.slice)}merge(he){if(!(he instanceof C)||he.structure||this.structure)return null;if(this.from+this.slice.size==he.from&&!this.slice.openEnd&&!he.slice.openStart){let je=this.slice.size+he.slice.size==0?o.p2.empty:new o.p2(this.slice.content.append(he.slice.content),this.slice.openStart,he.slice.openEnd);return new C(this.from,this.to+(he.to-he.from),je,this.structure)}else if(he.to==this.from&&!this.slice.openStart&&!he.slice.openEnd){let je=this.slice.size+he.slice.size==0?o.p2.empty:new o.p2(he.slice.content.append(this.slice.content),he.slice.openStart,this.slice.openEnd);return new C(he.from,this.to,je,this.structure)}else return null}toJSON(){let he={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(he.slice=this.slice.toJSON()),this.structure&&(he.structure=!0),he}static fromJSON(he,je){if(typeof je.from!="number"||typeof je.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new C(je.from,je.to,o.p2.fromJSON(he,je.slice),!!je.structure)}}d.jsonID("replace",C);class A extends d{constructor(he,je,st,De,Be,Ke,it=!1){super(),this.from=he,this.to=je,this.gapFrom=st,this.gapTo=De,this.slice=Be,this.insert=Ke,this.structure=it}apply(he){if(this.structure&&(L(he,this.from,this.gapFrom)||L(he,this.gapTo,this.to)))return s.fail("Structure gap-replace would overwrite content");let je=he.slice(this.gapFrom,this.gapTo);if(je.openStart||je.openEnd)return s.fail("Gap is not a flat range");let st=this.slice.insertAt(this.insert,je.content);return st?s.fromReplace(he,this.from,this.to,st):s.fail("Content does not fit in gap")}getMap(){return new x([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(he){let je=this.gapTo-this.gapFrom;return new A(this.from,this.from+this.slice.size+je,this.from+this.insert,this.from+this.insert+je,he.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(he){let je=he.mapResult(this.from,1),st=he.mapResult(this.to,-1),De=he.map(this.gapFrom,-1),Be=he.map(this.gapTo,1);return je.deletedAcross&&st.deletedAcross||De<je.pos||Be>st.pos?null:new A(je.pos,st.pos,De,Be,this.slice,this.insert,this.structure)}toJSON(){let he={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(he.slice=this.slice.toJSON()),this.structure&&(he.structure=!0),he}static fromJSON(he,je){if(typeof je.from!="number"||typeof je.to!="number"||typeof je.gapFrom!="number"||typeof je.gapTo!="number"||typeof je.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new A(je.from,je.to,je.gapFrom,je.gapTo,o.p2.fromJSON(he,je.slice),je.insert,!!je.structure)}}d.jsonID("replaceAround",A);function L(yt,he,je){let st=yt.resolve(he),De=je-he,Be=st.depth;for(;De>0&&Be>0&&st.indexAfter(Be)==st.node(Be).childCount;)Be--,De--;if(De>0){let Ke=st.node(Be).maybeChild(st.indexAfter(Be));for(;De>0;){if(!Ke||Ke.isLeaf)return!0;Ke=Ke.firstChild,De--}}return!1}function U(yt,he,je,st){let De=[],Be=[],Ke,it;yt.doc.nodesBetween(he,je,(Qe,Ae,H)=>{if(!Qe.isInline)return;let ee=Qe.marks;if(!st.isInSet(ee)&&H.type.allowsMarkType(st.type)){let de=Math.max(Ae,he),Ee=Math.min(Ae+Qe.nodeSize,je),Me=st.addToSet(ee);for(let $e=0;$e<ee.length;$e++)ee[$e].isInSet(Me)||(Ke&&Ke.to==de&&Ke.mark.eq(ee[$e])?Ke.to=Ee:De.push(Ke=new I(de,Ee,ee[$e])));it&&it.to==de?it.to=Ee:Be.push(it=new P(de,Ee,st))}}),De.forEach(Qe=>yt.step(Qe)),Be.forEach(Qe=>yt.step(Qe))}function W(yt,he,je,st){let De=[],Be=0;yt.doc.nodesBetween(he,je,(Ke,it)=>{if(!Ke.isInline)return;Be++;let Qe=null;if(st instanceof o.ZU){let Ae=Ke.marks,H;for(;H=st.isInSet(Ae);)(Qe||(Qe=[])).push(H),Ae=H.removeFromSet(Ae)}else st?st.isInSet(Ke.marks)&&(Qe=[st]):Qe=Ke.marks;if(Qe&&Qe.length){let Ae=Math.min(it+Ke.nodeSize,je);for(let H=0;H<Qe.length;H++){let ee=Qe[H],de;for(let Ee=0;Ee<De.length;Ee++){let Me=De[Ee];Me.step==Be-1&&ee.eq(De[Ee].style)&&(de=Me)}de?(de.to=Ae,de.step=Be):De.push({style:ee,from:Math.max(it,he),to:Ae,step:Be})}}}),De.forEach(Ke=>yt.step(new I(Ke.from,Ke.to,Ke.style)))}function G(yt,he,je,st=je.contentMatch){let De=yt.doc.nodeAt(he),Be=[],Ke=he+1;for(let it=0;it<De.childCount;it++){let Qe=De.child(it),Ae=Ke+Qe.nodeSize,H=st.matchType(Qe.type);if(!H)Be.push(new C(Ke,Ae,o.p2.empty));else{st=H;for(let ee=0;ee<Qe.marks.length;ee++)je.allowsMarkType(Qe.marks[ee].type)||yt.step(new I(Ke,Ae,Qe.marks[ee]))}Ke=Ae}if(!st.validEnd){let it=st.fillBefore(o.HY.empty,!0);yt.replace(Ke,Ke,new o.p2(it,0,0))}for(let it=Be.length-1;it>=0;it--)yt.step(Be[it])}function $(yt,he,je){return(he==0||yt.canReplace(he,yt.childCount))&&(je==yt.childCount||yt.canReplace(0,je))}function q(yt){let je=yt.parent.content.cutByIndex(yt.startIndex,yt.endIndex);for(let st=yt.depth;;--st){let De=yt.$from.node(st),Be=yt.$from.index(st),Ke=yt.$to.indexAfter(st);if(st<yt.depth&&De.canReplace(Be,Ke,je))return st;if(st==0||De.type.spec.isolating||!$(De,Be,Ke))break}return null}function J(yt,he,je){let{$from:st,$to:De,depth:Be}=he,Ke=st.before(Be+1),it=De.after(Be+1),Qe=Ke,Ae=it,H=o.HY.empty,ee=0;for(let Me=Be,$e=!1;Me>je;Me--)$e||st.index(Me)>0?($e=!0,H=o.HY.from(st.node(Me).copy(H)),ee++):Qe--;let de=o.HY.empty,Ee=0;for(let Me=Be,$e=!1;Me>je;Me--)$e||De.after(Me+1)<De.end(Me)?($e=!0,de=o.HY.from(De.node(Me).copy(de)),Ee++):Ae++;yt.step(new A(Qe,Ae,Ke,it,new o.p2(H.append(de),ee,Ee),H.size-ee,!0))}function R(yt,he,je=null,st=yt){let De=ie(yt,he),Be=De&&le(st,he);return Be?De.map(j).concat({type:he,attrs:je}).concat(Be.map(j)):null}function j(yt){return{type:yt,attrs:null}}function ie(yt,he){let{parent:je,startIndex:st,endIndex:De}=yt,Be=je.contentMatchAt(st).findWrapping(he);if(!Be)return null;let Ke=Be.length?Be[0]:he;return je.canReplaceWith(st,De,Ke)?Be:null}function le(yt,he){let{parent:je,startIndex:st,endIndex:De}=yt,Be=je.child(st),Ke=he.contentMatch.findWrapping(Be.type);if(!Ke)return null;let Qe=(Ke.length?Ke[Ke.length-1]:he).contentMatch;for(let Ae=st;Qe&&Ae<De;Ae++)Qe=Qe.matchType(je.child(Ae).type);return!Qe||!Qe.validEnd?null:Ke}function ye(yt,he,je){let st=o.HY.empty;for(let Ke=je.length-1;Ke>=0;Ke--){if(st.size){let it=je[Ke].type.contentMatch.matchFragment(st);if(!it||!it.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}st=o.HY.from(je[Ke].type.create(je[Ke].attrs,st))}let De=he.start,Be=he.end;yt.step(new A(De,Be,De,Be,new o.p2(st,0,0),je.length,!0))}function ue(yt,he,je,st,De){if(!st.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let Be=yt.steps.length;yt.doc.nodesBetween(he,je,(Ke,it)=>{if(Ke.isTextblock&&!Ke.hasMarkup(st,De)&&oe(yt.doc,yt.mapping.slice(Be).map(it),st)){yt.clearIncompatible(yt.mapping.slice(Be).map(it,1),st);let Qe=yt.mapping.slice(Be),Ae=Qe.map(it,1),H=Qe.map(it+Ke.nodeSize,1);return yt.step(new A(Ae,H,Ae+1,H-1,new o.p2(o.HY.from(st.create(De,null,Ke.marks)),0,0),1,!0)),!1}})}function oe(yt,he,je){let st=yt.resolve(he),De=st.index();return st.parent.canReplaceWith(De,De+1,je)}function te(yt,he,je,st,De){let Be=yt.doc.nodeAt(he);if(!Be)throw new RangeError("No node at given position");je||(je=Be.type);let Ke=je.create(st,null,De||Be.marks);if(Be.isLeaf)return yt.replaceWith(he,he+Be.nodeSize,Ke);if(!je.validContent(Be.content))throw new RangeError("Invalid content for node type "+je.name);yt.step(new A(he,he+Be.nodeSize,he+1,he+Be.nodeSize-1,new o.p2(o.HY.from(Ke),0,0),1,!0))}function Z(yt,he,je=1,st){let De=yt.resolve(he),Be=De.depth-je,Ke=st&&st[st.length-1]||De.parent;if(Be<0||De.parent.type.spec.isolating||!De.parent.canReplace(De.index(),De.parent.childCount)||!Ke.type.validContent(De.parent.content.cutByIndex(De.index(),De.parent.childCount)))return!1;for(let Ae=De.depth-1,H=je-2;Ae>Be;Ae--,H--){let ee=De.node(Ae),de=De.index(Ae);if(ee.type.spec.isolating)return!1;let Ee=ee.content.cutByIndex(de,ee.childCount),Me=st&&st[H]||ee;if(Me!=ee&&(Ee=Ee.replaceChild(0,Me.type.create(Me.attrs))),!ee.canReplace(de+1,ee.childCount)||!Me.type.validContent(Ee))return!1}let it=De.indexAfter(Be),Qe=st&&st[0];return De.node(Be).canReplaceWith(it,it,Qe?Qe.type:De.node(Be+1).type)}function re(yt,he,je=1,st){let De=yt.doc.resolve(he),Be=o.HY.empty,Ke=o.HY.empty;for(let it=De.depth,Qe=De.depth-je,Ae=je-1;it>Qe;it--,Ae--){Be=o.HY.from(De.node(it).copy(Be));let H=st&&st[Ae];Ke=o.HY.from(H?H.type.create(H.attrs,Ke):De.node(it).copy(Ke))}yt.step(new C(he,he,new o.p2(Be.append(Ke),je,je),!0))}function ae(yt,he){let je=yt.resolve(he),st=je.index();return se(je.nodeBefore,je.nodeAfter)&&je.parent.canReplace(st,st+1)}function se(yt,he){return!!(yt&&he&&!yt.isLeaf&&yt.canAppend(he))}function be(yt,he,je=-1){let st=yt.resolve(he);for(let De=st.depth;;De--){let Be,Ke,it=st.index(De);if(De==st.depth?(Be=st.nodeBefore,Ke=st.nodeAfter):je>0?(Be=st.node(De+1),it++,Ke=st.node(De).maybeChild(it)):(Be=st.node(De).maybeChild(it-1),Ke=st.node(De+1)),Be&&!Be.isTextblock&&se(Be,Ke)&&st.node(De).canReplace(it,it+1))return he;if(De==0)break;he=je<0?st.before(De):st.after(De)}}function _e(yt,he,je){let st=new C(he-je,he+je,o.p2.empty,!0);yt.step(st)}function pe(yt,he,je){let st=yt.resolve(he);if(st.parent.canReplaceWith(st.index(),st.index(),je))return he;if(st.parentOffset==0)for(let De=st.depth-1;De>=0;De--){let Be=st.index(De);if(st.node(De).canReplaceWith(Be,Be,je))return st.before(De+1);if(Be>0)return null}if(st.parentOffset==st.parent.content.size)for(let De=st.depth-1;De>=0;De--){let Be=st.indexAfter(De);if(st.node(De).canReplaceWith(Be,Be,je))return st.after(De+1);if(Be<st.node(De).childCount)return null}return null}function me(yt,he,je){let st=yt.resolve(he);if(!je.content.size)return he;let De=je.content;for(let Be=0;Be<je.openStart;Be++)De=De.firstChild.content;for(let Be=1;Be<=(je.openStart==0&&je.size?2:1);Be++)for(let Ke=st.depth;Ke>=0;Ke--){let it=Ke==st.depth?0:st.pos<=(st.start(Ke+1)+st.end(Ke+1))/2?-1:1,Qe=st.index(Ke)+(it>0?1:0),Ae=st.node(Ke),H=!1;if(Be==1)H=Ae.canReplace(Qe,Qe,De);else{let ee=Ae.contentMatchAt(Qe).findWrapping(De.firstChild.type);H=ee&&Ae.canReplaceWith(Qe,Qe,ee[0])}if(H)return it==0?st.pos:it<0?st.before(Ke+1):st.after(Ke+1)}return null}function Te(yt,he,je=he,st=o.p2.empty){if(he==je&&!st.size)return null;let De=yt.resolve(he),Be=yt.resolve(je);return ve(De,Be,st)?new C(he,je,st):new ce(De,Be,st).fit()}function ve(yt,he,je){return!je.openStart&&!je.openEnd&&yt.start()==he.start()&&yt.parent.canReplace(yt.index(),he.index(),je.content)}class ce{constructor(he,je,st){this.$from=he,this.$to=je,this.unplaced=st,this.frontier=[],this.placed=o.HY.empty;for(let De=0;De<=he.depth;De++){let Be=he.node(De);this.frontier.push({type:Be.type,match:Be.contentMatchAt(he.indexAfter(De))})}for(let De=he.depth;De>0;De--)this.placed=o.HY.from(he.node(De).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let Ae=this.findFittable();Ae?this.placeNodes(Ae):this.openMore()||this.dropNode()}let he=this.mustMoveInline(),je=this.placed.size-this.depth-this.$from.depth,st=this.$from,De=this.close(he<0?this.$to:st.doc.resolve(he));if(!De)return null;let Be=this.placed,Ke=st.depth,it=De.depth;for(;Ke&&it&&Be.childCount==1;)Be=Be.firstChild.content,Ke--,it--;let Qe=new o.p2(Be,Ke,it);return he>-1?new A(st.pos,he,this.$to.pos,this.$to.end(),Qe,je):Qe.size||st.pos!=this.$to.pos?new C(st.pos,De.pos,Qe):null}findFittable(){let he=this.unplaced.openStart;for(let je=this.unplaced.content,st=0,De=this.unplaced.openEnd;st<he;st++){let Be=je.firstChild;if(je.childCount>1&&(De=0),Be.type.spec.isolating&&De<=st){he=st;break}je=Be.content}for(let je=1;je<=2;je++)for(let st=je==1?he:this.unplaced.openStart;st>=0;st--){let De,Be=null;st?(Be=He(this.unplaced.content,st-1).firstChild,De=Be.content):De=this.unplaced.content;let Ke=De.firstChild;for(let it=this.depth;it>=0;it--){let{type:Qe,match:Ae}=this.frontier[it],H,ee=null;if(je==1&&(Ke?Ae.matchType(Ke.type)||(ee=Ae.fillBefore(o.HY.from(Ke),!1)):Be&&Qe.compatibleContent(Be.type)))return{sliceDepth:st,frontierDepth:it,parent:Be,inject:ee};if(je==2&&Ke&&(H=Ae.findWrapping(Ke.type)))return{sliceDepth:st,frontierDepth:it,parent:Be,wrap:H};if(Be&&Ae.matchType(Be.type))break}}}openMore(){let{content:he,openStart:je,openEnd:st}=this.unplaced,De=He(he,je);return!De.childCount||De.firstChild.isLeaf?!1:(this.unplaced=new o.p2(he,je+1,Math.max(st,De.size+je>=he.size-st?je+1:0)),!0)}dropNode(){let{content:he,openStart:je,openEnd:st}=this.unplaced,De=He(he,je);if(De.childCount<=1&&je>0){let Be=he.size-je<=je+De.size;this.unplaced=new o.p2(Le(he,je-1,1),je-1,Be?je-1:st)}else this.unplaced=new o.p2(Le(he,je,1),je,st)}placeNodes({sliceDepth:he,frontierDepth:je,parent:st,inject:De,wrap:Be}){for(;this.depth>je;)this.closeFrontierNode();if(Be)for(let $e=0;$e<Be.length;$e++)this.openFrontierNode(Be[$e]);let Ke=this.unplaced,it=st?st.content:Ke.content,Qe=Ke.openStart-he,Ae=0,H=[],{match:ee,type:de}=this.frontier[je];if(De){for(let $e=0;$e<De.childCount;$e++)H.push(De.child($e));ee=ee.matchFragment(De)}let Ee=it.size+he-(Ke.content.size-Ke.openEnd);for(;Ae<it.childCount;){let $e=it.child(Ae),dt=ee.matchType($e.type);if(!dt)break;Ae++,(Ae>1||Qe==0||$e.content.size)&&(ee=dt,H.push(ze($e.mark(de.allowedMarks($e.marks)),Ae==1?Qe:0,Ae==it.childCount?Ee:-1)))}let Me=Ae==it.childCount;Me||(Ee=-1),this.placed=Ne(this.placed,je,o.HY.from(H)),this.frontier[je].match=ee,Me&&Ee<0&&st&&st.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let $e=0,dt=it;$e<Ee;$e++){let ct=dt.lastChild;this.frontier.push({type:ct.type,match:ct.contentMatchAt(ct.childCount)}),dt=ct.content}this.unplaced=Me?he==0?o.p2.empty:new o.p2(Le(Ke.content,he-1,1),he-1,Ee<0?Ke.openEnd:he-1):new o.p2(Le(Ke.content,he,Ae),Ke.openStart,Ke.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let he=this.frontier[this.depth],je;if(!he.type.isTextblock||!Xe(this.$to,this.$to.depth,he.type,he.match,!1)||this.$to.depth==this.depth&&(je=this.findCloseLevel(this.$to))&&je.depth==this.depth)return-1;let{depth:st}=this.$to,De=this.$to.after(st);for(;st>1&&De==this.$to.end(--st);)++De;return De}findCloseLevel(he){e:for(let je=Math.min(this.depth,he.depth);je>=0;je--){let{match:st,type:De}=this.frontier[je],Be=je<he.depth&&he.end(je+1)==he.pos+(he.depth-(je+1)),Ke=Xe(he,je,De,st,Be);if(Ke){for(let it=je-1;it>=0;it--){let{match:Qe,type:Ae}=this.frontier[it],H=Xe(he,it,Ae,Qe,!0);if(!H||H.childCount)continue e}return{depth:je,fit:Ke,move:Be?he.doc.resolve(he.after(je+1)):he}}}}close(he){let je=this.findCloseLevel(he);if(!je)return null;for(;this.depth>je.depth;)this.closeFrontierNode();je.fit.childCount&&(this.placed=Ne(this.placed,je.depth,je.fit)),he=je.move;for(let st=je.depth+1;st<=he.depth;st++){let De=he.node(st),Be=De.type.contentMatch.fillBefore(De.content,!0,he.index(st));this.openFrontierNode(De.type,De.attrs,Be)}return he}openFrontierNode(he,je=null,st){let De=this.frontier[this.depth];De.match=De.match.matchType(he),this.placed=Ne(this.placed,this.depth,o.HY.from(he.create(je,st))),this.frontier.push({type:he,match:he.contentMatch})}closeFrontierNode(){let je=this.frontier.pop().match.fillBefore(o.HY.empty,!0);je.childCount&&(this.placed=Ne(this.placed,this.frontier.length,je))}}function Le(yt,he,je){return he==0?yt.cutByIndex(je,yt.childCount):yt.replaceChild(0,yt.firstChild.copy(Le(yt.firstChild.content,he-1,je)))}function Ne(yt,he,je){return he==0?yt.append(je):yt.replaceChild(yt.childCount-1,yt.lastChild.copy(Ne(yt.lastChild.content,he-1,je)))}function He(yt,he){for(let je=0;je<he;je++)yt=yt.firstChild.content;return yt}function ze(yt,he,je){if(he<=0)return yt;let st=yt.content;return he>1&&(st=st.replaceChild(0,ze(st.firstChild,he-1,st.childCount==1?je-1:0))),he>0&&(st=yt.type.contentMatch.fillBefore(st).append(st),je<=0&&(st=st.append(yt.type.contentMatch.matchFragment(st).fillBefore(o.HY.empty,!0)))),yt.copy(st)}function Xe(yt,he,je,st,De){let Be=yt.node(he),Ke=De?yt.indexAfter(he):yt.index(he);if(Ke==Be.childCount&&!je.compatibleContent(Be.type))return null;let it=st.fillBefore(Be.content,!0,Ke);return it&&!_t(je,Be.content,Ke)?it:null}function _t(yt,he,je){for(let st=je;st<he.childCount;st++)if(!yt.allowsMarks(he.child(st).marks))return!0;return!1}function we(yt){return yt.spec.defining||yt.spec.definingForContent}function We(yt,he,je,st){if(!st.size)return yt.deleteRange(he,je);let De=yt.doc.resolve(he),Be=yt.doc.resolve(je);if(ve(De,Be,st))return yt.step(new C(he,je,st));let Ke=ht(De,yt.doc.resolve(je));Ke[Ke.length-1]==0&&Ke.pop();let it=-(De.depth+1);Ke.unshift(it);for(let de=De.depth,Ee=De.pos-1;de>0;de--,Ee--){let Me=De.node(de).type.spec;if(Me.defining||Me.definingAsContext||Me.isolating)break;Ke.indexOf(de)>-1?it=de:De.before(de)==Ee&&Ke.splice(1,0,-de)}let Qe=Ke.indexOf(it),Ae=[],H=st.openStart;for(let de=st.content,Ee=0;;Ee++){let Me=de.firstChild;if(Ae.push(Me),Ee==st.openStart)break;de=Me.content}for(let de=H-1;de>=0;de--){let Ee=Ae[de].type,Me=we(Ee);if(Me&&De.node(Qe).type!=Ee)H=de;else if(Me||!Ee.isTextblock)break}for(let de=st.openStart;de>=0;de--){let Ee=(de+H+1)%(st.openStart+1),Me=Ae[Ee];if(Me)for(let $e=0;$e<Ke.length;$e++){let dt=Ke[($e+Qe)%Ke.length],ct=!0;dt<0&&(ct=!1,dt=-dt);let wt=De.node(dt-1),Mt=De.index(dt-1);if(wt.canReplaceWith(Mt,Mt,Me.type,Me.marks))return yt.replace(De.before(dt),ct?Be.after(dt):je,new o.p2(Ie(st.content,0,st.openStart,Ee),Ee,st.openEnd))}}let ee=yt.steps.length;for(let de=Ke.length-1;de>=0&&(yt.replace(he,je,st),!(yt.steps.length>ee));de--){let Ee=Ke[de];Ee<0||(he=De.before(Ee),je=Be.after(Ee))}}function Ie(yt,he,je,st,De){if(he<je){let Be=yt.firstChild;yt=yt.replaceChild(0,Be.copy(Ie(Be.content,he+1,je,st,Be)))}if(he>st){let Be=De.contentMatchAt(0),Ke=Be.fillBefore(yt).append(yt);yt=Ke.append(Be.matchFragment(Ke).fillBefore(o.HY.empty,!0))}return yt}function tt(yt,he,je,st){if(!st.isInline&&he==je&&yt.doc.resolve(he).parent.content.size){let De=pe(yt.doc,he,st.type);De!=null&&(he=je=De)}yt.replaceRange(he,je,new o.p2(o.HY.from(st),0,0))}function et(yt,he,je){let st=yt.doc.resolve(he),De=yt.doc.resolve(je),Be=ht(st,De);for(let Ke=0;Ke<Be.length;Ke++){let it=Be[Ke],Qe=Ke==Be.length-1;if(Qe&&it==0||st.node(it).type.contentMatch.validEnd)return yt.delete(st.start(it),De.end(it));if(it>0&&(Qe||st.node(it-1).canReplace(st.index(it-1),De.indexAfter(it-1))))return yt.delete(st.before(it),De.after(it))}for(let Ke=1;Ke<=st.depth&&Ke<=De.depth;Ke++)if(he-st.start(Ke)==st.depth-Ke&&je>st.end(Ke)&&De.end(Ke)-je!=De.depth-Ke)return yt.delete(st.before(Ke),je);yt.delete(he,je)}function ht(yt,he){let je=[],st=Math.min(yt.depth,he.depth);for(let De=st;De>=0;De--){let Be=yt.start(De);if(Be<yt.pos-(yt.depth-De)||he.end(De)>he.pos+(he.depth-De)||yt.node(De).type.spec.isolating||he.node(De).type.spec.isolating)break;(Be==he.start(De)||De==yt.depth&&De==he.depth&&yt.parent.inlineContent&&he.parent.inlineContent&&De&&he.start(De-1)==Be-1)&&je.push(De)}return je}class vt extends d{constructor(he,je,st){super(),this.pos=he,this.attr=je,this.value=st}apply(he){let je=he.nodeAt(this.pos);if(!je)return s.fail("No node at attribute step's position");let st=Object.create(null);for(let Be in je.attrs)st[Be]=je.attrs[Be];st[this.attr]=this.value;let De=je.type.create(st,null,je.marks);return s.fromReplace(he,this.pos,this.pos+1,new o.p2(o.HY.from(De),0,je.isLeaf?0:1))}getMap(){return x.empty}invert(he){return new vt(this.pos,this.attr,he.nodeAt(this.pos).attrs[this.attr])}map(he){let je=he.mapResult(this.pos,1);return je.deletedAfter?null:new vt(je.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(he,je){if(typeof je.pos!="number"||typeof je.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new vt(je.pos,je.attr,je.value)}}d.jsonID("attr",vt);let Lt=class extends Error{};Lt=function yt(he){let je=Error.call(this,he);return je.__proto__=yt.prototype,je},Lt.prototype=Object.create(Error.prototype),Lt.prototype.constructor=Lt,Lt.prototype.name="TransformError";class $t{constructor(he){this.doc=he,this.steps=[],this.docs=[],this.mapping=new T}get before(){return this.docs.length?this.docs[0]:this.doc}step(he){let je=this.maybeStep(he);if(je.failed)throw new Lt(je.failed);return this}maybeStep(he){let je=he.apply(this.doc);return je.failed||this.addStep(he,je.doc),je}get docChanged(){return this.steps.length>0}addStep(he,je){this.docs.push(this.doc),this.steps.push(he),this.mapping.appendMap(he.getMap()),this.doc=je}replace(he,je=he,st=o.p2.empty){let De=Te(this.doc,he,je,st);return De&&this.step(De),this}replaceWith(he,je,st){return this.replace(he,je,new o.p2(o.HY.from(st),0,0))}delete(he,je){return this.replace(he,je,o.p2.empty)}insert(he,je){return this.replaceWith(he,he,je)}replaceRange(he,je,st){return We(this,he,je,st),this}replaceRangeWith(he,je,st){return tt(this,he,je,st),this}deleteRange(he,je){return et(this,he,je),this}lift(he,je){return J(this,he,je),this}join(he,je=1){return _e(this,he,je),this}wrap(he,je){return ye(this,he,je),this}setBlockType(he,je=he,st,De=null){return ue(this,he,je,st,De),this}setNodeMarkup(he,je,st=null,De){return te(this,he,je,st,De),this}setNodeAttribute(he,je,st){return this.step(new vt(he,je,st)),this}addNodeMark(he,je){return this.step(new D(he,je)),this}removeNodeMark(he,je){if(!(je instanceof o.vc)){let st=this.doc.nodeAt(he);if(!st)throw new RangeError("No node at position "+he);if(je=je.isInSet(st.marks),!je)return this}return this.step(new N(he,je)),this}split(he,je=1,st){return re(this,he,je,st),this}addMark(he,je,st){return U(this,he,je,st),this}removeMark(he,je,st){return W(this,he,je,st),this}clearIncompatible(he,je,st){return G(this,he,je,st),this}}},84348:(z,u,e)=>{"use strict";e.d(u,{EH:()=>Ct,p:()=>ke,tk:()=>Xr});var o=e(2376),f=e(87823),l=e(16560);const c=function(V){for(var K=0;;K++)if(V=V.previousSibling,!V)return K},g=function(V){let K=V.assignedSlot||V.parentNode;return K&&K.nodeType==11?K.host:K};let v=null;const E=function(V,K,ne){let fe=v||(v=document.createRange());return fe.setEnd(V,ne==null?V.nodeValue.length:ne),fe.setStart(V,K||0),fe},y=function(V,K,ne,fe){return ne&&(O(V,K,ne,fe,-1)||O(V,K,ne,fe,1))},p=/^(img|br|input|textarea|hr)$/i;function O(V,K,ne,fe,xe){for(;;){if(V==ne&&K==fe)return!0;if(K==(xe<0?0:S(V))){let Re=V.parentNode;if(!Re||Re.nodeType!=1||T(V)||p.test(V.nodeName)||V.contentEditable=="false")return!1;K=c(V)+(xe<0?0:1),V=Re}else if(V.nodeType==1){if(V=V.childNodes[K+(xe<0?-1:0)],V.contentEditable=="false")return!1;K=xe<0?S(V):0}else return!1}}function S(V){return V.nodeType==3?V.nodeValue.length:V.childNodes.length}function x(V,K,ne){for(let fe=K==0,xe=K==S(V);fe||xe;){if(V==ne)return!0;let Re=c(V);if(V=V.parentNode,!V)return!1;fe=fe&&Re==0,xe=xe&&Re==S(V)}}function T(V){let K;for(let ne=V;ne&&!(K=ne.pmViewDesc);ne=ne.parentNode);return K&&K.node&&K.node.isBlock&&(K.dom==V||K.contentDOM==V)}const _=function(V){return V.focusNode&&y(V.focusNode,V.focusOffset,V.anchorNode,V.anchorOffset)};function d(V,K){let ne=document.createEvent("Event");return ne.initEvent("keydown",!0,!0),ne.keyCode=V,ne.key=ne.code=K,ne}function s(V){let K=V.activeElement;for(;K&&K.shadowRoot;)K=K.shadowRoot.activeElement;return K}const w=typeof navigator!="undefined"?navigator:null,P=typeof document!="undefined"?document:null,I=w&&w.userAgent||"",D=/Edge\/(\d+)/.exec(I),N=/MSIE \d/.exec(I),C=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(I),A=!!(N||C||D),L=N?document.documentMode:C?+C[1]:D?+D[1]:0,U=!A&&/gecko\/(\d+)/i.test(I);U&&+(/Firefox\/(\d+)/.exec(I)||[0,0])[1];const W=!A&&/Chrome\/(\d+)/.exec(I),G=!!W,$=W?+W[1]:0,q=!A&&!!w&&/Apple Computer/.test(w.vendor),J=q&&(/Mobile\/\w+/.test(I)||!!w&&w.maxTouchPoints>2),R=J||(w?/Mac/.test(w.platform):!1),j=/Android \d/.test(I),ie=!!P&&"webkitFontSmoothing"in P.documentElement.style,le=ie?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function ye(V){return{left:0,right:V.documentElement.clientWidth,top:0,bottom:V.documentElement.clientHeight}}function ue(V,K){return typeof V=="number"?V:V[K]}function oe(V){let K=V.getBoundingClientRect(),ne=K.width/V.offsetWidth||1,fe=K.height/V.offsetHeight||1;return{left:K.left,right:K.left+V.clientWidth*ne,top:K.top,bottom:K.top+V.clientHeight*fe}}function te(V,K,ne){let fe=V.someProp("scrollThreshold")||0,xe=V.someProp("scrollMargin")||5,Re=V.dom.ownerDocument;for(let nt=ne||V.dom;nt;nt=g(nt)){if(nt.nodeType!=1)continue;let Q=nt,Pe=Q==Re.body,Ze=Pe?ye(Re):oe(Q),ut=0,It=0;if(K.top<Ze.top+ue(fe,"top")?It=-(Ze.top-K.top+ue(xe,"top")):K.bottom>Ze.bottom-ue(fe,"bottom")&&(It=K.bottom-Ze.bottom+ue(xe,"bottom")),K.left<Ze.left+ue(fe,"left")?ut=-(Ze.left-K.left+ue(xe,"left")):K.right>Ze.right-ue(fe,"right")&&(ut=K.right-Ze.right+ue(xe,"right")),ut||It)if(Pe)Re.defaultView.scrollBy(ut,It);else{let Ft=Q.scrollLeft,Ht=Q.scrollTop;It&&(Q.scrollTop+=It),ut&&(Q.scrollLeft+=ut);let hn=Q.scrollLeft-Ft,Kt=Q.scrollTop-Ht;K={left:K.left-hn,top:K.top-Kt,right:K.right-hn,bottom:K.bottom-Kt}}if(Pe)break}}function Z(V){let K=V.dom.getBoundingClientRect(),ne=Math.max(0,K.top),fe,xe;for(let Re=(K.left+K.right)/2,nt=ne+1;nt<Math.min(innerHeight,K.bottom);nt+=5){let Q=V.root.elementFromPoint(Re,nt);if(!Q||Q==V.dom||!V.dom.contains(Q))continue;let Pe=Q.getBoundingClientRect();if(Pe.top>=ne-20){fe=Q,xe=Pe.top;break}}return{refDOM:fe,refTop:xe,stack:re(V.dom)}}function re(V){let K=[],ne=V.ownerDocument;for(let fe=V;fe&&(K.push({dom:fe,top:fe.scrollTop,left:fe.scrollLeft}),V!=ne);fe=g(fe));return K}function ae({refDOM:V,refTop:K,stack:ne}){let fe=V?V.getBoundingClientRect().top:0;se(ne,fe==0?0:fe-K)}function se(V,K){for(let ne=0;ne<V.length;ne++){let{dom:fe,top:xe,left:Re}=V[ne];fe.scrollTop!=xe+K&&(fe.scrollTop=xe+K),fe.scrollLeft!=Re&&(fe.scrollLeft=Re)}}let be=null;function _e(V){if(V.setActive)return V.setActive();if(be)return V.focus(be);let K=re(V);V.focus(be==null?{get preventScroll(){return be={preventScroll:!0},!0}}:void 0),be||(be=!1,se(K,0))}function pe(V,K){let ne,fe=2e8,xe,Re=0,nt=K.top,Q=K.top;for(let Pe=V.firstChild,Ze=0;Pe;Pe=Pe.nextSibling,Ze++){let ut;if(Pe.nodeType==1)ut=Pe.getClientRects();else if(Pe.nodeType==3)ut=E(Pe).getClientRects();else continue;for(let It=0;It<ut.length;It++){let Ft=ut[It];if(Ft.top<=nt&&Ft.bottom>=Q){nt=Math.max(Ft.bottom,nt),Q=Math.min(Ft.top,Q);let Ht=Ft.left>K.left?Ft.left-K.left:Ft.right<K.left?K.left-Ft.right:0;if(Ht<fe){ne=Pe,fe=Ht,xe=Ht&&ne.nodeType==3?{left:Ft.right<K.left?Ft.right:Ft.left,top:K.top}:K,Pe.nodeType==1&&Ht&&(Re=Ze+(K.left>=(Ft.left+Ft.right)/2?1:0));continue}}!ne&&(K.left>=Ft.right&&K.top>=Ft.top||K.left>=Ft.left&&K.top>=Ft.bottom)&&(Re=Ze+1)}}return ne&&ne.nodeType==3?me(ne,xe):!ne||fe&&ne.nodeType==1?{node:V,offset:Re}:pe(ne,xe)}function me(V,K){let ne=V.nodeValue.length,fe=document.createRange();for(let xe=0;xe<ne;xe++){fe.setEnd(V,xe+1),fe.setStart(V,xe);let Re=ze(fe,1);if(Re.top!=Re.bottom&&Te(K,Re))return{node:V,offset:xe+(K.left>=(Re.left+Re.right)/2?1:0)}}return{node:V,offset:0}}function Te(V,K){return V.left>=K.left-1&&V.left<=K.right+1&&V.top>=K.top-1&&V.top<=K.bottom+1}function ve(V,K){let ne=V.parentNode;return ne&&/^li$/i.test(ne.nodeName)&&K.left<V.getBoundingClientRect().left?ne:V}function ce(V,K,ne){let{node:fe,offset:xe}=pe(K,ne),Re=-1;if(fe.nodeType==1&&!fe.firstChild){let nt=fe.getBoundingClientRect();Re=nt.left!=nt.right&&ne.left>(nt.left+nt.right)/2?1:-1}return V.docView.posFromDOM(fe,xe,Re)}function Le(V,K,ne,fe){let xe=-1;for(let Re=K;Re!=V.dom;){let nt=V.docView.nearestDesc(Re,!0);if(!nt)return null;if(nt.dom.nodeType==1&&(nt.node.isBlock&&nt.parent||!nt.contentDOM)){let Q=nt.dom.getBoundingClientRect();if(nt.node.isBlock&&nt.parent&&(Q.left>fe.left||Q.top>fe.top?xe=nt.posBefore:(Q.right<fe.left||Q.bottom<fe.top)&&(xe=nt.posAfter)),!nt.contentDOM&&xe<0)return(nt.node.isBlock?fe.top<(Q.top+Q.bottom)/2:fe.left<(Q.left+Q.right)/2)?nt.posBefore:nt.posAfter}Re=nt.dom.parentNode}return xe>-1?xe:V.docView.posFromDOM(K,ne,-1)}function Ne(V,K,ne){let fe=V.childNodes.length;if(fe&&ne.top<ne.bottom)for(let xe=Math.max(0,Math.min(fe-1,Math.floor(fe*(K.top-ne.top)/(ne.bottom-ne.top))-2)),Re=xe;;){let nt=V.childNodes[Re];if(nt.nodeType==1){let Q=nt.getClientRects();for(let Pe=0;Pe<Q.length;Pe++){let Ze=Q[Pe];if(Te(K,Ze))return Ne(nt,K,Ze)}}if((Re=(Re+1)%fe)==xe)break}return V}function He(V,K){let ne=V.dom.ownerDocument,fe,xe=0;if(ne.caretPositionFromPoint)try{let Pe=ne.caretPositionFromPoint(K.left,K.top);Pe&&({offsetNode:fe,offset:xe}=Pe)}catch(Pe){}if(!fe&&ne.caretRangeFromPoint){let Pe=ne.caretRangeFromPoint(K.left,K.top);Pe&&({startContainer:fe,startOffset:xe}=Pe)}let Re=(V.root.elementFromPoint?V.root:ne).elementFromPoint(K.left,K.top),nt;if(!Re||!V.dom.contains(Re.nodeType!=1?Re.parentNode:Re)){let Pe=V.dom.getBoundingClientRect();if(!Te(K,Pe)||(Re=Ne(V.dom,K,Pe),!Re))return null}if(q)for(let Pe=Re;fe&&Pe;Pe=g(Pe))Pe.draggable&&(fe=void 0);if(Re=ve(Re,K),fe){if(U&&fe.nodeType==1&&(xe=Math.min(xe,fe.childNodes.length),xe<fe.childNodes.length)){let Pe=fe.childNodes[xe],Ze;Pe.nodeName=="IMG"&&(Ze=Pe.getBoundingClientRect()).right<=K.left&&Ze.bottom>K.top&&xe++}fe==V.dom&&xe==fe.childNodes.length-1&&fe.lastChild.nodeType==1&&K.top>fe.lastChild.getBoundingClientRect().bottom?nt=V.state.doc.content.size:(xe==0||fe.nodeType!=1||fe.childNodes[xe-1].nodeName!="BR")&&(nt=Le(V,fe,xe,K))}nt==null&&(nt=ce(V,Re,K));let Q=V.docView.nearestDesc(Re,!0);return{pos:nt,inside:Q?Q.posAtStart-Q.border:-1}}function ze(V,K){let ne=V.getClientRects();return ne.length?ne[K<0?0:ne.length-1]:V.getBoundingClientRect()}const Xe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function _t(V,K,ne){let{node:fe,offset:xe,atom:Re}=V.docView.domFromPos(K,ne<0?-1:1),nt=ie||U;if(fe.nodeType==3)if(nt&&(Xe.test(fe.nodeValue)||(ne<0?!xe:xe==fe.nodeValue.length))){let Pe=ze(E(fe,xe,xe),ne);if(U&&xe&&/\s/.test(fe.nodeValue[xe-1])&&xe<fe.nodeValue.length){let Ze=ze(E(fe,xe-1,xe-1),-1);if(Ze.top==Pe.top){let ut=ze(E(fe,xe,xe+1),-1);if(ut.top!=Pe.top)return we(ut,ut.left<Ze.left)}}return Pe}else{let Pe=xe,Ze=xe,ut=ne<0?1:-1;return ne<0&&!xe?(Ze++,ut=-1):ne>=0&&xe==fe.nodeValue.length?(Pe--,ut=1):ne<0?Pe--:Ze++,we(ze(E(fe,Pe,Ze),1),ut<0)}if(!V.state.doc.resolve(K-(Re||0)).parent.inlineContent){if(Re==null&&xe&&(ne<0||xe==S(fe))){let Pe=fe.childNodes[xe-1];if(Pe.nodeType==1)return We(Pe.getBoundingClientRect(),!1)}if(Re==null&&xe<S(fe)){let Pe=fe.childNodes[xe];if(Pe.nodeType==1)return We(Pe.getBoundingClientRect(),!0)}return We(fe.getBoundingClientRect(),ne>=0)}if(Re==null&&xe&&(ne<0||xe==S(fe))){let Pe=fe.childNodes[xe-1],Ze=Pe.nodeType==3?E(Pe,S(Pe)-(nt?0:1)):Pe.nodeType==1&&(Pe.nodeName!="BR"||!Pe.nextSibling)?Pe:null;if(Ze)return we(ze(Ze,1),!1)}if(Re==null&&xe<S(fe)){let Pe=fe.childNodes[xe];for(;Pe.pmViewDesc&&Pe.pmViewDesc.ignoreForCoords;)Pe=Pe.nextSibling;let Ze=Pe?Pe.nodeType==3?E(Pe,0,nt?0:1):Pe.nodeType==1?Pe:null:null;if(Ze)return we(ze(Ze,-1),!0)}return we(ze(fe.nodeType==3?E(fe):fe,-ne),ne>=0)}function we(V,K){if(V.width==0)return V;let ne=K?V.left:V.right;return{top:V.top,bottom:V.bottom,left:ne,right:ne}}function We(V,K){if(V.height==0)return V;let ne=K?V.top:V.bottom;return{top:ne,bottom:ne,left:V.left,right:V.right}}function Ie(V,K,ne){let fe=V.state,xe=V.root.activeElement;fe!=K&&V.updateState(K),xe!=V.dom&&V.focus();try{return ne()}finally{fe!=K&&V.updateState(fe),xe!=V.dom&&xe&&xe.focus()}}function tt(V,K,ne){let fe=K.selection,xe=ne=="up"?fe.$from:fe.$to;return Ie(V,K,()=>{let{node:Re}=V.docView.domFromPos(xe.pos,ne=="up"?-1:1);for(;;){let Q=V.docView.nearestDesc(Re,!0);if(!Q)break;if(Q.node.isBlock){Re=Q.contentDOM||Q.dom;break}Re=Q.dom.parentNode}let nt=_t(V,xe.pos,1);for(let Q=Re.firstChild;Q;Q=Q.nextSibling){let Pe;if(Q.nodeType==1)Pe=Q.getClientRects();else if(Q.nodeType==3)Pe=E(Q,0,Q.nodeValue.length).getClientRects();else continue;for(let Ze=0;Ze<Pe.length;Ze++){let ut=Pe[Ze];if(ut.bottom>ut.top+1&&(ne=="up"?nt.top-ut.top>(ut.bottom-nt.top)*2:ut.bottom-nt.bottom>(nt.bottom-ut.top)*2))return!1}}return!0})}const et=/[\u0590-\u08ac]/;function ht(V,K,ne){let{$head:fe}=K.selection;if(!fe.parent.isTextblock)return!1;let xe=fe.parentOffset,Re=!xe,nt=xe==fe.parent.content.size,Q=V.domSelection();return!et.test(fe.parent.textContent)||!Q.modify?ne=="left"||ne=="backward"?Re:nt:Ie(V,K,()=>{let{focusNode:Pe,focusOffset:Ze,anchorNode:ut,anchorOffset:It}=V.domSelectionRange(),Ft=Q.caretBidiLevel;Q.modify("move",ne,"character");let Ht=fe.depth?V.docView.domAfterPos(fe.before()):V.dom,{focusNode:hn,focusOffset:Kt}=V.domSelectionRange(),Pr=hn&&!Ht.contains(hn.nodeType==1?hn:hn.parentNode)||Pe==hn&&Ze==Kt;try{Q.collapse(ut,It),Pe&&(Pe!=ut||Ze!=It)&&Q.extend&&Q.extend(Pe,Ze)}catch(co){}return Ft!=null&&(Q.caretBidiLevel=Ft),Pr})}let vt=null,Lt=null,$t=!1;function yt(V,K,ne){return vt==K&&Lt==ne?$t:(vt=K,Lt=ne,$t=ne=="up"||ne=="down"?tt(V,K,ne):ht(V,K,ne))}const he=0,je=1,st=2,De=3;class Be{constructor(K,ne,fe,xe){this.parent=K,this.children=ne,this.dom=fe,this.contentDOM=xe,this.dirty=he,fe.pmViewDesc=this}matchesWidget(K){return!1}matchesMark(K){return!1}matchesNode(K,ne,fe){return!1}matchesHack(K){return!1}parseRule(){return null}stopEvent(K){return!1}get size(){let K=0;for(let ne=0;ne<this.children.length;ne++)K+=this.children[ne].size;return K}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let K=0;K<this.children.length;K++)this.children[K].destroy()}posBeforeChild(K){for(let ne=0,fe=this.posAtStart;;ne++){let xe=this.children[ne];if(xe==K)return fe;fe+=xe.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(K,ne,fe){if(this.contentDOM&&this.contentDOM.contains(K.nodeType==1?K:K.parentNode))if(fe<0){let Re,nt;if(K==this.contentDOM)Re=K.childNodes[ne-1];else{for(;K.parentNode!=this.contentDOM;)K=K.parentNode;Re=K.previousSibling}for(;Re&&!((nt=Re.pmViewDesc)&&nt.parent==this);)Re=Re.previousSibling;return Re?this.posBeforeChild(nt)+nt.size:this.posAtStart}else{let Re,nt;if(K==this.contentDOM)Re=K.childNodes[ne];else{for(;K.parentNode!=this.contentDOM;)K=K.parentNode;Re=K.nextSibling}for(;Re&&!((nt=Re.pmViewDesc)&&nt.parent==this);)Re=Re.nextSibling;return Re?this.posBeforeChild(nt):this.posAtEnd}let xe;if(K==this.dom&&this.contentDOM)xe=ne>c(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))xe=K.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(ne==0)for(let Re=K;;Re=Re.parentNode){if(Re==this.dom){xe=!1;break}if(Re.previousSibling)break}if(xe==null&&ne==K.childNodes.length)for(let Re=K;;Re=Re.parentNode){if(Re==this.dom){xe=!0;break}if(Re.nextSibling)break}}return(xe==null?fe>0:xe)?this.posAtEnd:this.posAtStart}nearestDesc(K,ne=!1){for(let fe=!0,xe=K;xe;xe=xe.parentNode){let Re=this.getDesc(xe),nt;if(Re&&(!ne||Re.node))if(fe&&(nt=Re.nodeDOM)&&!(nt.nodeType==1?nt.contains(K.nodeType==1?K:K.parentNode):nt==K))fe=!1;else return Re}}getDesc(K){let ne=K.pmViewDesc;for(let fe=ne;fe;fe=fe.parent)if(fe==this)return ne}posFromDOM(K,ne,fe){for(let xe=K;xe;xe=xe.parentNode){let Re=this.getDesc(xe);if(Re)return Re.localPosFromDOM(K,ne,fe)}return-1}descAt(K){for(let ne=0,fe=0;ne<this.children.length;ne++){let xe=this.children[ne],Re=fe+xe.size;if(fe==K&&Re!=fe){for(;!xe.border&&xe.children.length;)xe=xe.children[0];return xe}if(K<Re)return xe.descAt(K-fe-xe.border);fe=Re}}domFromPos(K,ne){if(!this.contentDOM)return{node:this.dom,offset:0,atom:K+1};let fe=0,xe=0;for(let Re=0;fe<this.children.length;fe++){let nt=this.children[fe],Q=Re+nt.size;if(Q>K||nt instanceof de){xe=K-Re;break}Re=Q}if(xe)return this.children[fe].domFromPos(xe-this.children[fe].border,ne);for(let Re;fe&&!(Re=this.children[fe-1]).size&&Re instanceof Ke&&Re.side>=0;fe--);if(ne<=0){let Re,nt=!0;for(;Re=fe?this.children[fe-1]:null,!(!Re||Re.dom.parentNode==this.contentDOM);fe--,nt=!1);return Re&&ne&&nt&&!Re.border&&!Re.domAtom?Re.domFromPos(Re.size,ne):{node:this.contentDOM,offset:Re?c(Re.dom)+1:0}}else{let Re,nt=!0;for(;Re=fe<this.children.length?this.children[fe]:null,!(!Re||Re.dom.parentNode==this.contentDOM);fe++,nt=!1);return Re&&nt&&!Re.border&&!Re.domAtom?Re.domFromPos(0,ne):{node:this.contentDOM,offset:Re?c(Re.dom):this.contentDOM.childNodes.length}}}parseRange(K,ne,fe=0){if(this.children.length==0)return{node:this.contentDOM,from:K,to:ne,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let xe=-1,Re=-1;for(let nt=fe,Q=0;;Q++){let Pe=this.children[Q],Ze=nt+Pe.size;if(xe==-1&&K<=Ze){let ut=nt+Pe.border;if(K>=ut&&ne<=Ze-Pe.border&&Pe.node&&Pe.contentDOM&&this.contentDOM.contains(Pe.contentDOM))return Pe.parseRange(K,ne,ut);K=nt;for(let It=Q;It>0;It--){let Ft=this.children[It-1];if(Ft.size&&Ft.dom.parentNode==this.contentDOM&&!Ft.emptyChildAt(1)){xe=c(Ft.dom)+1;break}K-=Ft.size}xe==-1&&(xe=0)}if(xe>-1&&(Ze>ne||Q==this.children.length-1)){ne=Ze;for(let ut=Q+1;ut<this.children.length;ut++){let It=this.children[ut];if(It.size&&It.dom.parentNode==this.contentDOM&&!It.emptyChildAt(-1)){Re=c(It.dom);break}ne+=It.size}Re==-1&&(Re=this.contentDOM.childNodes.length);break}nt=Ze}return{node:this.contentDOM,from:K,to:ne,fromOffset:xe,toOffset:Re}}emptyChildAt(K){if(this.border||!this.contentDOM||!this.children.length)return!1;let ne=this.children[K<0?0:this.children.length-1];return ne.size==0||ne.emptyChildAt(K)}domAfterPos(K){let{node:ne,offset:fe}=this.domFromPos(K,0);if(ne.nodeType!=1||fe==ne.childNodes.length)throw new RangeError("No node after pos "+K);return ne.childNodes[fe]}setSelection(K,ne,fe,xe=!1){let Re=Math.min(K,ne),nt=Math.max(K,ne);for(let Ft=0,Ht=0;Ft<this.children.length;Ft++){let hn=this.children[Ft],Kt=Ht+hn.size;if(Re>Ht&&nt<Kt)return hn.setSelection(K-Ht-hn.border,ne-Ht-hn.border,fe,xe);Ht=Kt}let Q=this.domFromPos(K,K?-1:1),Pe=ne==K?Q:this.domFromPos(ne,ne?-1:1),Ze=fe.getSelection(),ut=!1;if((U||q)&&K==ne){let{node:Ft,offset:Ht}=Q;if(Ft.nodeType==3){if(ut=!!(Ht&&Ft.nodeValue[Ht-1]==`
`),ut&&Ht==Ft.nodeValue.length)for(let hn=Ft,Kt;hn;hn=hn.parentNode){if(Kt=hn.nextSibling){Kt.nodeName=="BR"&&(Q=Pe={node:Kt.parentNode,offset:c(Kt)+1});break}let Pr=hn.pmViewDesc;if(Pr&&Pr.node&&Pr.node.isBlock)break}}else{let hn=Ft.childNodes[Ht-1];ut=hn&&(hn.nodeName=="BR"||hn.contentEditable=="false")}}if(U&&Ze.focusNode&&Ze.focusNode!=Pe.node&&Ze.focusNode.nodeType==1){let Ft=Ze.focusNode.childNodes[Ze.focusOffset];Ft&&Ft.contentEditable=="false"&&(xe=!0)}if(!(xe||ut&&q)&&y(Q.node,Q.offset,Ze.anchorNode,Ze.anchorOffset)&&y(Pe.node,Pe.offset,Ze.focusNode,Ze.focusOffset))return;let It=!1;if((Ze.extend||K==ne)&&!ut){Ze.collapse(Q.node,Q.offset);try{K!=ne&&Ze.extend(Pe.node,Pe.offset),It=!0}catch(Ft){}}if(!It){if(K>ne){let Ht=Q;Q=Pe,Pe=Ht}let Ft=document.createRange();Ft.setEnd(Pe.node,Pe.offset),Ft.setStart(Q.node,Q.offset),Ze.removeAllRanges(),Ze.addRange(Ft)}}ignoreMutation(K){return!this.contentDOM&&K.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(K,ne){for(let fe=0,xe=0;xe<this.children.length;xe++){let Re=this.children[xe],nt=fe+Re.size;if(fe==nt?K<=nt&&ne>=fe:K<nt&&ne>fe){let Q=fe+Re.border,Pe=nt-Re.border;if(K>=Q&&ne<=Pe){this.dirty=K==fe||ne==nt?st:je,K==Q&&ne==Pe&&(Re.contentLost||Re.dom.parentNode!=this.contentDOM)?Re.dirty=De:Re.markDirty(K-Q,ne-Q);return}else Re.dirty=Re.dom==Re.contentDOM&&Re.dom.parentNode==this.contentDOM&&!Re.children.length?st:De}fe=nt}this.dirty=st}markParentsDirty(){let K=1;for(let ne=this.parent;ne;ne=ne.parent,K++){let fe=K==1?st:je;ne.dirty<fe&&(ne.dirty=fe)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class Ke extends Be{constructor(K,ne,fe,xe){let Re,nt=ne.type.toDOM;if(typeof nt=="function"&&(nt=nt(fe,()=>{if(!Re)return xe;if(Re.parent)return Re.parent.posBeforeChild(Re)})),!ne.type.spec.raw){if(nt.nodeType!=1){let Q=document.createElement("span");Q.appendChild(nt),nt=Q}nt.contentEditable="false",nt.classList.add("ProseMirror-widget")}super(K,[],nt,null),this.widget=ne,this.widget=ne,Re=this}matchesWidget(K){return this.dirty==he&&K.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(K){let ne=this.widget.spec.stopEvent;return ne?ne(K):!1}ignoreMutation(K){return K.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class it extends Be{constructor(K,ne,fe,xe){super(K,[],ne,null),this.textDOM=fe,this.text=xe}get size(){return this.text.length}localPosFromDOM(K,ne){return K!=this.textDOM?this.posAtStart+(ne?this.size:0):this.posAtStart+ne}domFromPos(K){return{node:this.textDOM,offset:K}}ignoreMutation(K){return K.type==="characterData"&&K.target.nodeValue==K.oldValue}}class Qe extends Be{constructor(K,ne,fe,xe){super(K,[],fe,xe),this.mark=ne}static create(K,ne,fe,xe){let Re=xe.nodeViews[ne.type.name],nt=Re&&Re(ne,xe,fe);return(!nt||!nt.dom)&&(nt=f.PW.renderSpec(document,ne.type.spec.toDOM(ne,fe))),new Qe(K,ne,nt.dom,nt.contentDOM||nt.dom)}parseRule(){return this.dirty&De||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}matchesMark(K){return this.dirty!=De&&this.mark.eq(K)}markDirty(K,ne){if(super.markDirty(K,ne),this.dirty!=he){let fe=this.parent;for(;!fe.node;)fe=fe.parent;fe.dirty<this.dirty&&(fe.dirty=this.dirty),this.dirty=he}}slice(K,ne,fe){let xe=Qe.create(this.parent,this.mark,!0,fe),Re=this.children,nt=this.size;ne<nt&&(Re=Wt(Re,ne,nt,fe)),K>0&&(Re=Wt(Re,0,K,fe));for(let Q=0;Q<Re.length;Q++)Re[Q].parent=xe;return xe.children=Re,xe}}class Ae extends Be{constructor(K,ne,fe,xe,Re,nt,Q,Pe,Ze){super(K,[],Re,nt),this.node=ne,this.outerDeco=fe,this.innerDeco=xe,this.nodeDOM=Q,nt&&this.updateChildren(Pe,Ze)}static create(K,ne,fe,xe,Re,nt){let Q=Re.nodeViews[ne.type.name],Pe,Ze=Q&&Q(ne,Re,()=>{if(!Pe)return nt;if(Pe.parent)return Pe.parent.posBeforeChild(Pe)},fe,xe),ut=Ze&&Ze.dom,It=Ze&&Ze.contentDOM;if(ne.isText){if(!ut)ut=document.createTextNode(ne.text);else if(ut.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else ut||({dom:ut,contentDOM:It}=f.PW.renderSpec(document,ne.type.spec.toDOM(ne)));!It&&!ne.isText&&ut.nodeName!="BR"&&(ut.hasAttribute("contenteditable")||(ut.contentEditable="false"),ne.type.spec.draggable&&(ut.draggable=!0));let Ft=ut;return ut=pn(ut,fe,ne),Ze?Pe=new Ee(K,ne,fe,xe,ut,It||null,Ft,Ze,Re,nt+1):ne.isText?new ee(K,ne,fe,xe,ut,Ft,Re):new Ae(K,ne,fe,xe,ut,It||null,Ft,Re,nt+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let K={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(K.preserveWhitespace="full"),!this.contentDOM)K.getContent=()=>this.node.content;else if(!this.contentLost)K.contentElement=this.contentDOM;else{for(let ne=this.children.length-1;ne>=0;ne--){let fe=this.children[ne];if(this.dom.contains(fe.dom.parentNode)){K.contentElement=fe.dom.parentNode;break}}K.contentElement||(K.getContent=()=>f.HY.empty)}return K}matchesNode(K,ne,fe){return this.dirty==he&&K.eq(this.node)&&Mn(ne,this.outerDeco)&&fe.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(K,ne){let fe=this.node.inlineContent,xe=ne,Re=K.composing?this.localCompositionInfo(K,ne):null,nt=Re&&Re.pos>-1?Re:null,Q=Re&&Re.pos<0,Pe=new mr(this,nt&&nt.node,K);nn(this.node,this.innerDeco,(Ze,ut,It)=>{Ze.spec.marks?Pe.syncToMarks(Ze.spec.marks,fe,K):Ze.type.side>=0&&!It&&Pe.syncToMarks(ut==this.node.childCount?f.vc.none:this.node.child(ut).marks,fe,K),Pe.placeWidget(Ze,K,xe)},(Ze,ut,It,Ft)=>{Pe.syncToMarks(Ze.marks,fe,K);let Ht;Pe.findNodeMatch(Ze,ut,It,Ft)||Q&&K.state.selection.from>xe&&K.state.selection.to<xe+Ze.nodeSize&&(Ht=Pe.findIndexWithChild(Re.node))>-1&&Pe.updateNodeAt(Ze,ut,It,Ht,K)||Pe.updateNextNode(Ze,ut,It,K,Ft)||Pe.addNode(Ze,ut,It,K,xe),xe+=Ze.nodeSize}),Pe.syncToMarks([],fe,K),this.node.isTextblock&&Pe.addTextblockHacks(),Pe.destroyRest(),(Pe.changed||this.dirty==st)&&(nt&&this.protectLocalComposition(K,nt),Me(this.contentDOM,this.children,K),J&&jr(this.dom))}localCompositionInfo(K,ne){let{from:fe,to:xe}=K.state.selection;if(!(K.state.selection instanceof o.Bs)||fe<ne||xe>ne+this.node.content.size)return null;let Re=K.domSelectionRange(),nt=Dr(Re.focusNode,Re.focusOffset);if(!nt||!this.dom.contains(nt.parentNode))return null;if(this.node.inlineContent){let Q=nt.nodeValue,Pe=At(this.node.content,Q,fe-ne,xe-ne);return Pe<0?null:{node:nt,pos:Pe,text:Q}}else return{node:nt,pos:-1,text:""}}protectLocalComposition(K,{node:ne,pos:fe,text:xe}){if(this.getDesc(ne))return;let Re=ne;for(;Re.parentNode!=this.contentDOM;Re=Re.parentNode){for(;Re.previousSibling;)Re.parentNode.removeChild(Re.previousSibling);for(;Re.nextSibling;)Re.parentNode.removeChild(Re.nextSibling);Re.pmViewDesc&&(Re.pmViewDesc=void 0)}let nt=new it(this,Re,ne,xe);K.input.compositionNodes.push(nt),this.children=Wt(this.children,fe,fe+xe.length,K,nt)}update(K,ne,fe,xe){return this.dirty==De||!K.sameMarkup(this.node)?!1:(this.updateInner(K,ne,fe,xe),!0)}updateInner(K,ne,fe,xe){this.updateOuterDeco(ne),this.node=K,this.innerDeco=fe,this.contentDOM&&this.updateChildren(xe,this.posAtStart),this.dirty=he}updateOuterDeco(K){if(Mn(K,this.outerDeco))return;let ne=this.nodeDOM.nodeType!=1,fe=this.dom;this.dom=wt(this.dom,this.nodeDOM,ct(this.outerDeco,this.node,ne),ct(K,this.node,ne)),this.dom!=fe&&(fe.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=K}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function H(V,K,ne,fe,xe){return pn(fe,K,V),new Ae(void 0,V,K,ne,fe,fe,fe,xe,0)}class ee extends Ae{constructor(K,ne,fe,xe,Re,nt,Q){super(K,ne,fe,xe,Re,null,nt,Q,0)}parseRule(){let K=this.nodeDOM.parentNode;for(;K&&K!=this.dom&&!K.pmIsDeco;)K=K.parentNode;return{skip:K||!0}}update(K,ne,fe,xe){return this.dirty==De||this.dirty!=he&&!this.inParent()||!K.sameMarkup(this.node)?!1:(this.updateOuterDeco(ne),(this.dirty!=he||K.text!=this.node.text)&&K.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=K.text,xe.trackWrites==this.nodeDOM&&(xe.trackWrites=null)),this.node=K,this.dirty=he,!0)}inParent(){let K=this.parent.contentDOM;for(let ne=this.nodeDOM;ne;ne=ne.parentNode)if(ne==K)return!0;return!1}domFromPos(K){return{node:this.nodeDOM,offset:K}}localPosFromDOM(K,ne,fe){return K==this.nodeDOM?this.posAtStart+Math.min(ne,this.node.text.length):super.localPosFromDOM(K,ne,fe)}ignoreMutation(K){return K.type!="characterData"&&K.type!="selection"}slice(K,ne,fe){let xe=this.node.cut(K,ne),Re=document.createTextNode(xe.text);return new ee(this.parent,xe,this.outerDeco,this.innerDeco,Re,Re,fe)}markDirty(K,ne){super.markDirty(K,ne),this.dom!=this.nodeDOM&&(K==0||ne==this.nodeDOM.nodeValue.length)&&(this.dirty=De)}get domAtom(){return!1}}class de extends Be{parseRule(){return{ignore:!0}}matchesHack(K){return this.dirty==he&&this.dom.nodeName==K}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class Ee extends Ae{constructor(K,ne,fe,xe,Re,nt,Q,Pe,Ze,ut){super(K,ne,fe,xe,Re,nt,Q,Ze,ut),this.spec=Pe}update(K,ne,fe,xe){if(this.dirty==De)return!1;if(this.spec.update){let Re=this.spec.update(K,ne,fe);return Re&&this.updateInner(K,ne,fe,xe),Re}else return!this.contentDOM&&!K.isLeaf?!1:super.update(K,ne,fe,xe)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(K,ne,fe,xe){this.spec.setSelection?this.spec.setSelection(K,ne,fe):super.setSelection(K,ne,fe,xe)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(K){return this.spec.stopEvent?this.spec.stopEvent(K):!1}ignoreMutation(K){return this.spec.ignoreMutation?this.spec.ignoreMutation(K):super.ignoreMutation(K)}}function Me(V,K,ne){let fe=V.firstChild,xe=!1;for(let Re=0;Re<K.length;Re++){let nt=K[Re],Q=nt.dom;if(Q.parentNode==V){for(;Q!=fe;)fe=$n(fe),xe=!0;fe=fe.nextSibling}else xe=!0,V.insertBefore(Q,fe);if(nt instanceof Qe){let Pe=fe?fe.previousSibling:V.lastChild;Me(nt.contentDOM,nt.children,ne),fe=Pe?Pe.nextSibling:V.firstChild}}for(;fe;)fe=$n(fe),xe=!0;xe&&ne.trackWrites==V&&(ne.trackWrites=null)}const $e=function(V){V&&(this.nodeName=V)};$e.prototype=Object.create(null);const dt=[new $e];function ct(V,K,ne){if(V.length==0)return dt;let fe=ne?dt[0]:new $e,xe=[fe];for(let Re=0;Re<V.length;Re++){let nt=V[Re].type.attrs;if(nt){nt.nodeName&&xe.push(fe=new $e(nt.nodeName));for(let Q in nt){let Pe=nt[Q];Pe!=null&&(ne&&xe.length==1&&xe.push(fe=new $e(K.isInline?"span":"div")),Q=="class"?fe.class=(fe.class?fe.class+" ":"")+Pe:Q=="style"?fe.style=(fe.style?fe.style+";":"")+Pe:Q!="nodeName"&&(fe[Q]=Pe))}}}return xe}function wt(V,K,ne,fe){if(ne==dt&&fe==dt)return K;let xe=K;for(let Re=0;Re<fe.length;Re++){let nt=fe[Re],Q=ne[Re];if(Re){let Pe;Q&&Q.nodeName==nt.nodeName&&xe!=V&&(Pe=xe.parentNode)&&Pe.nodeName.toLowerCase()==nt.nodeName||(Pe=document.createElement(nt.nodeName),Pe.pmIsDeco=!0,Pe.appendChild(xe),Q=dt[0]),xe=Pe}Mt(xe,Q||dt[0],nt)}return xe}function Mt(V,K,ne){for(let fe in K)fe!="class"&&fe!="style"&&fe!="nodeName"&&!(fe in ne)&&V.removeAttribute(fe);for(let fe in ne)fe!="class"&&fe!="style"&&fe!="nodeName"&&ne[fe]!=K[fe]&&V.setAttribute(fe,ne[fe]);if(K.class!=ne.class){let fe=K.class?K.class.split(" ").filter(Boolean):[],xe=ne.class?ne.class.split(" ").filter(Boolean):[];for(let Re=0;Re<fe.length;Re++)xe.indexOf(fe[Re])==-1&&V.classList.remove(fe[Re]);for(let Re=0;Re<xe.length;Re++)fe.indexOf(xe[Re])==-1&&V.classList.add(xe[Re]);V.classList.length==0&&V.removeAttribute("class")}if(K.style!=ne.style){if(K.style){let fe=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,xe;for(;xe=fe.exec(K.style);)V.style.removeProperty(xe[1])}ne.style&&(V.style.cssText+=ne.style)}}function pn(V,K,ne){return wt(V,V,dt,ct(K,ne,V.nodeType!=1))}function Mn(V,K){if(V.length!=K.length)return!1;for(let ne=0;ne<V.length;ne++)if(!V[ne].type.eq(K[ne].type))return!1;return!0}function $n(V){let K=V.nextSibling;return V.parentNode.removeChild(V),K}class mr{constructor(K,ne,fe){this.lock=ne,this.view=fe,this.index=0,this.stack=[],this.changed=!1,this.top=K,this.preMatch=jn(K.node.content,K)}destroyBetween(K,ne){if(K!=ne){for(let fe=K;fe<ne;fe++)this.top.children[fe].destroy();this.top.children.splice(K,ne-K),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(K,ne,fe){let xe=0,Re=this.stack.length>>1,nt=Math.min(Re,K.length);for(;xe<nt&&(xe==Re-1?this.top:this.stack[xe+1<<1]).matchesMark(K[xe])&&K[xe].type.spec.spanning!==!1;)xe++;for(;xe<Re;)this.destroyRest(),this.top.dirty=he,this.index=this.stack.pop(),this.top=this.stack.pop(),Re--;for(;Re<K.length;){this.stack.push(this.top,this.index+1);let Q=-1;for(let Pe=this.index;Pe<Math.min(this.index+3,this.top.children.length);Pe++){let Ze=this.top.children[Pe];if(Ze.matchesMark(K[Re])&&!this.isLocked(Ze.dom)){Q=Pe;break}}if(Q>-1)Q>this.index&&(this.changed=!0,this.destroyBetween(this.index,Q)),this.top=this.top.children[this.index];else{let Pe=Qe.create(this.top,K[Re],ne,fe);this.top.children.splice(this.index,0,Pe),this.top=Pe,this.changed=!0}this.index=0,Re++}}findNodeMatch(K,ne,fe,xe){let Re=-1,nt;if(xe>=this.preMatch.index&&(nt=this.preMatch.matches[xe-this.preMatch.index]).parent==this.top&&nt.matchesNode(K,ne,fe))Re=this.top.children.indexOf(nt,this.index);else for(let Q=this.index,Pe=Math.min(this.top.children.length,Q+5);Q<Pe;Q++){let Ze=this.top.children[Q];if(Ze.matchesNode(K,ne,fe)&&!this.preMatch.matched.has(Ze)){Re=Q;break}}return Re<0?!1:(this.destroyBetween(this.index,Re),this.index++,!0)}updateNodeAt(K,ne,fe,xe,Re){let nt=this.top.children[xe];return nt.dirty==De&&nt.dom==nt.contentDOM&&(nt.dirty=st),nt.update(K,ne,fe,Re)?(this.destroyBetween(this.index,xe),this.index++,!0):!1}findIndexWithChild(K){for(;;){let ne=K.parentNode;if(!ne)return-1;if(ne==this.top.contentDOM){let fe=K.pmViewDesc;if(fe){for(let xe=this.index;xe<this.top.children.length;xe++)if(this.top.children[xe]==fe)return xe}return-1}K=ne}}updateNextNode(K,ne,fe,xe,Re){for(let nt=this.index;nt<this.top.children.length;nt++){let Q=this.top.children[nt];if(Q instanceof Ae){let Pe=this.preMatch.matched.get(Q);if(Pe!=null&&Pe!=Re)return!1;let Ze=Q.dom;if(!(this.isLocked(Ze)&&!(K.isText&&Q.node&&Q.node.isText&&Q.nodeDOM.nodeValue==K.text&&Q.dirty!=De&&Mn(ne,Q.outerDeco)))&&Q.update(K,ne,fe,xe))return this.destroyBetween(this.index,nt),Q.dom!=Ze&&(this.changed=!0),this.index++,!0;break}}return!1}addNode(K,ne,fe,xe,Re){this.top.children.splice(this.index++,0,Ae.create(this.top,K,ne,fe,xe,Re)),this.changed=!0}placeWidget(K,ne,fe){let xe=this.index<this.top.children.length?this.top.children[this.index]:null;if(xe&&xe.matchesWidget(K)&&(K==xe.widget||!xe.widget.type.toDOM.parentNode))this.index++;else{let Re=new Ke(this.top,K,ne,fe);this.top.children.splice(this.index++,0,Re),this.changed=!0}}addTextblockHacks(){let K=this.top.children[this.index-1],ne=this.top;for(;K instanceof Qe;)ne=K,K=ne.children[ne.children.length-1];(!K||!(K instanceof ee)||/\n$/.test(K.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(K.node.text))&&((q||G)&&K&&K.dom.contentEditable=="false"&&this.addHackNode("IMG",ne),this.addHackNode("BR",this.top))}addHackNode(K,ne){if(ne==this.top&&this.index<ne.children.length&&ne.children[this.index].matchesHack(K))this.index++;else{let fe=document.createElement(K);K=="IMG"&&(fe.className="ProseMirror-separator",fe.alt=""),K=="BR"&&(fe.className="ProseMirror-trailingBreak");let xe=new de(this.top,[],fe,null);ne!=this.top?ne.children.push(xe):ne.children.splice(this.index++,0,xe),this.changed=!0}}isLocked(K){return this.lock&&(K==this.lock||K.nodeType==1&&K.contains(this.lock.parentNode))}}function jn(V,K){let ne=K,fe=ne.children.length,xe=V.childCount,Re=new Map,nt=[];e:for(;xe>0;){let Q;for(;;)if(fe){let Ze=ne.children[fe-1];if(Ze instanceof Qe)ne=Ze,fe=Ze.children.length;else{Q=Ze,fe--;break}}else{if(ne==K)break e;fe=ne.parent.children.indexOf(ne),ne=ne.parent}let Pe=Q.node;if(Pe){if(Pe!=V.child(xe-1))break;--xe,Re.set(Q,xe),nt.push(Q)}}return{index:xe,matched:Re,matches:nt.reverse()}}function dr(V,K){return V.type.side-K.type.side}function nn(V,K,ne,fe){let xe=K.locals(V),Re=0;if(xe.length==0){for(let Ze=0;Ze<V.childCount;Ze++){let ut=V.child(Ze);fe(ut,xe,K.forChild(Re,ut),Ze),Re+=ut.nodeSize}return}let nt=0,Q=[],Pe=null;for(let Ze=0;;){if(nt<xe.length&&xe[nt].to==Re){let hn=xe[nt++],Kt;for(;nt<xe.length&&xe[nt].to==Re;)(Kt||(Kt=[hn])).push(xe[nt++]);if(Kt){Kt.sort(dr);for(let Pr=0;Pr<Kt.length;Pr++)ne(Kt[Pr],Ze,!!Pe)}else ne(hn,Ze,!!Pe)}let ut,It;if(Pe)It=-1,ut=Pe,Pe=null;else if(Ze<V.childCount)It=Ze,ut=V.child(Ze++);else break;for(let hn=0;hn<Q.length;hn++)Q[hn].to<=Re&&Q.splice(hn--,1);for(;nt<xe.length&&xe[nt].from<=Re&&xe[nt].to>Re;)Q.push(xe[nt++]);let Ft=Re+ut.nodeSize;if(ut.isText){let hn=Ft;nt<xe.length&&xe[nt].from<hn&&(hn=xe[nt].from);for(let Kt=0;Kt<Q.length;Kt++)Q[Kt].to<hn&&(hn=Q[Kt].to);hn<Ft&&(Pe=ut.cut(hn-Re),ut=ut.cut(0,hn-Re),Ft=hn,It=-1)}let Ht=ut.isInline&&!ut.isLeaf?Q.filter(hn=>!hn.inline):Q.slice();fe(ut,Ht,K.forChild(Re,ut),It),Re=Ft}}function jr(V){if(V.nodeName=="UL"||V.nodeName=="OL"){let K=V.style.cssText;V.style.cssText=K+"; list-style: square !important",window.getComputedStyle(V).listStyle,V.style.cssText=K}}function Dr(V,K){for(;;){if(V.nodeType==3)return V;if(V.nodeType==1&&K>0){if(V.childNodes.length>K&&V.childNodes[K].nodeType==3)return V.childNodes[K];V=V.childNodes[K-1],K=S(V)}else if(V.nodeType==1&&K<V.childNodes.length)V=V.childNodes[K],K=0;else return null}}function At(V,K,ne,fe){for(let xe=0,Re=0;xe<V.childCount&&Re<=fe;){let nt=V.child(xe++),Q=Re;if(Re+=nt.nodeSize,!nt.isText)continue;let Pe=nt.text;for(;xe<V.childCount;){let Ze=V.child(xe++);if(Re+=Ze.nodeSize,!Ze.isText)break;Pe+=Ze.text}if(Re>=ne){let Ze=Q<fe?Pe.lastIndexOf(K,fe-Q-1):-1;if(Ze>=0&&Ze+K.length+Q>=ne)return Q+Ze;if(ne==fe&&Pe.length>=fe+K.length-Q&&Pe.slice(fe-Q,fe-Q+K.length)==K)return fe}}return-1}function Wt(V,K,ne,fe,xe){let Re=[];for(let nt=0,Q=0;nt<V.length;nt++){let Pe=V[nt],Ze=Q,ut=Q+=Pe.size;Ze>=ne||ut<=K?Re.push(Pe):(Ze<K&&Re.push(Pe.slice(0,K-Ze,fe)),xe&&(Re.push(xe),xe=void 0),ut>ne&&Re.push(Pe.slice(ne-Ze,Pe.size,fe)))}return Re}function Zt(V,K=null){let ne=V.domSelectionRange(),fe=V.state.doc;if(!ne.focusNode)return null;let xe=V.docView.nearestDesc(ne.focusNode),Re=xe&&xe.size==0,nt=V.docView.posFromDOM(ne.focusNode,ne.focusOffset,1);if(nt<0)return null;let Q=fe.resolve(nt),Pe,Ze;if(_(ne)){for(Pe=Q;xe&&!xe.node;)xe=xe.parent;let ut=xe.node;if(xe&&ut.isAtom&&o.qv.isSelectable(ut)&&xe.parent&&!(ut.isInline&&x(ne.focusNode,ne.focusOffset,xe.dom))){let It=xe.posBefore;Ze=new o.qv(nt==It?Q:fe.resolve(It))}}else{let ut=V.docView.posFromDOM(ne.anchorNode,ne.anchorOffset,1);if(ut<0)return null;Pe=fe.resolve(ut)}if(!Ze){let ut=K=="pointer"||V.state.selection.head<Q.pos&&!Re?1:-1;Ze=go(V,Pe,Q,ut)}return Ze}function _n(V){return V.editable?V.hasFocus():ro(V)&&document.activeElement&&document.activeElement.contains(V.dom)}function Kn(V,K=!1){let ne=V.state.selection;if(mo(V,ne),!!_n(V)){if(!K&&V.input.mouseDown&&V.input.mouseDown.allowDefault&&G){let fe=V.domSelectionRange(),xe=V.domObserver.currentSelection;if(fe.anchorNode&&xe.anchorNode&&y(fe.anchorNode,fe.anchorOffset,xe.anchorNode,xe.anchorOffset)){V.input.mouseDown.delayedSelectionSync=!0,V.domObserver.setCurSelection();return}}if(V.domObserver.disconnectSelection(),V.cursorWrapper)bo(V);else{let{anchor:fe,head:xe}=ne,Re,nt;wr&&!(ne instanceof o.Bs)&&(ne.$from.parent.inlineContent||(Re=Nr(V,ne.from)),!ne.empty&&!ne.$from.parent.inlineContent&&(nt=Nr(V,ne.to))),V.docView.setSelection(fe,xe,V.root,K),wr&&(Re&&Jr(Re),nt&&Jr(nt)),ne.visible?V.dom.classList.remove("ProseMirror-hideselection"):(V.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&$r(V))}V.domObserver.setCurSelection(),V.domObserver.connectSelection()}}const wr=q||G&&$<63;function Nr(V,K){let{node:ne,offset:fe}=V.docView.domFromPos(K,0),xe=fe<ne.childNodes.length?ne.childNodes[fe]:null,Re=fe?ne.childNodes[fe-1]:null;if(q&&xe&&xe.contentEditable=="false")return no(xe);if((!xe||xe.contentEditable=="false")&&(!Re||Re.contentEditable=="false")){if(xe)return no(xe);if(Re)return no(Re)}}function no(V){return V.contentEditable="true",q&&V.draggable&&(V.draggable=!1,V.wasDraggable=!0),V}function Jr(V){V.contentEditable="false",V.wasDraggable&&(V.draggable=!0,V.wasDraggable=null)}function $r(V){let K=V.dom.ownerDocument;K.removeEventListener("selectionchange",V.input.hideSelectionGuard);let ne=V.domSelectionRange(),fe=ne.anchorNode,xe=ne.anchorOffset;K.addEventListener("selectionchange",V.input.hideSelectionGuard=()=>{(ne.anchorNode!=fe||ne.anchorOffset!=xe)&&(K.removeEventListener("selectionchange",V.input.hideSelectionGuard),setTimeout(()=>{(!_n(V)||V.state.selection.visible)&&V.dom.classList.remove("ProseMirror-hideselection")},20))})}function bo(V){let K=V.domSelection(),ne=document.createRange(),fe=V.cursorWrapper.dom,xe=fe.nodeName=="IMG";xe?ne.setEnd(fe.parentNode,c(fe)+1):ne.setEnd(fe,0),ne.collapse(!1),K.removeAllRanges(),K.addRange(ne),!xe&&!V.state.selection.visible&&A&&L<=11&&(fe.disabled=!0,fe.disabled=!1)}function mo(V,K){if(K instanceof o.qv){let ne=V.docView.descAt(K.from);ne!=V.lastSelectedViewDesc&&(So(V),ne&&ne.selectNode(),V.lastSelectedViewDesc=ne)}else So(V)}function So(V){V.lastSelectedViewDesc&&(V.lastSelectedViewDesc.parent&&V.lastSelectedViewDesc.deselectNode(),V.lastSelectedViewDesc=void 0)}function go(V,K,ne,fe){return V.someProp("createSelectionBetween",xe=>xe(V,K,ne))||o.Bs.between(K,ne,fe)}function Eo(V){return V.editable&&!V.hasFocus()?!1:ro(V)}function ro(V){let K=V.domSelectionRange();if(!K.anchorNode)return!1;try{return V.dom.contains(K.anchorNode.nodeType==3?K.anchorNode.parentNode:K.anchorNode)&&(V.editable||V.dom.contains(K.focusNode.nodeType==3?K.focusNode.parentNode:K.focusNode))}catch(ne){return!1}}function po(V){let K=V.docView.domFromPos(V.state.selection.anchor,0),ne=V.domSelectionRange();return y(K.node,K.offset,ne.anchorNode,ne.anchorOffset)}function wo(V,K){let{$anchor:ne,$head:fe}=V.selection,xe=K>0?ne.max(fe):ne.min(fe),Re=xe.parent.inlineContent?xe.depth?V.doc.resolve(K>0?xe.after():xe.before()):null:xe;return Re&&o.Y1.findFrom(Re,K)}function ko(V,K){return V.dispatch(V.state.tr.setSelection(K).scrollIntoView()),!0}function ei(V,K,ne){let fe=V.state.selection;if(fe instanceof o.Bs){if(!fe.empty||ne.indexOf("s")>-1)return!1;if(V.endOfTextblock(K>0?"right":"left")){let xe=wo(V.state,K);return xe&&xe instanceof o.qv?ko(V,xe):!1}else if(!(R&&ne.indexOf("m")>-1)){let xe=fe.$head,Re=xe.textOffset?null:K<0?xe.nodeBefore:xe.nodeAfter,nt;if(!Re||Re.isText)return!1;let Q=K<0?xe.pos-Re.nodeSize:xe.pos;return Re.isAtom||(nt=V.docView.descAt(Q))&&!nt.contentDOM?o.qv.isSelectable(Re)?ko(V,new o.qv(K<0?V.state.doc.resolve(xe.pos-Re.nodeSize):xe)):ie?ko(V,new o.Bs(V.state.doc.resolve(K<0?Q:Q+Re.nodeSize))):!1:!1}}else{if(fe instanceof o.qv&&fe.node.isInline)return ko(V,new o.Bs(K>0?fe.$to:fe.$from));{let xe=wo(V.state,K);return xe?ko(V,xe):!1}}}function Do(V){return V.nodeType==3?V.nodeValue.length:V.childNodes.length}function Uo(V){let K=V.pmViewDesc;return K&&K.size==0&&(V.nextSibling||V.nodeName!="BR")}function mn(V){let K=V.domSelectionRange(),ne=K.focusNode,fe=K.focusOffset;if(!ne)return;let xe,Re,nt=!1;for(U&&ne.nodeType==1&&fe<Do(ne)&&Uo(ne.childNodes[fe])&&(nt=!0);;)if(fe>0){if(ne.nodeType!=1)break;{let Q=ne.childNodes[fe-1];if(Uo(Q))xe=ne,Re=--fe;else if(Q.nodeType==3)ne=Q,fe=ne.nodeValue.length;else break}}else{if(Wn(ne))break;{let Q=ne.previousSibling;for(;Q&&Uo(Q);)xe=ne.parentNode,Re=c(Q),Q=Q.previousSibling;if(Q)ne=Q,fe=Do(ne);else{if(ne=ne.parentNode,ne==V.dom)break;fe=0}}}nt?Hn(V,ne,fe):xe&&Hn(V,xe,Re)}function Dn(V){let K=V.domSelectionRange(),ne=K.focusNode,fe=K.focusOffset;if(!ne)return;let xe=Do(ne),Re,nt;for(;;)if(fe<xe){if(ne.nodeType!=1)break;let Q=ne.childNodes[fe];if(Uo(Q))Re=ne,nt=++fe;else break}else{if(Wn(ne))break;{let Q=ne.nextSibling;for(;Q&&Uo(Q);)Re=Q.parentNode,nt=c(Q)+1,Q=Q.nextSibling;if(Q)ne=Q,fe=0,xe=Do(ne);else{if(ne=ne.parentNode,ne==V.dom)break;fe=xe=0}}}Re&&Hn(V,Re,nt)}function Wn(V){let K=V.pmViewDesc;return K&&K.node&&K.node.isBlock}function Hn(V,K,ne){let fe=V.domSelection();if(_(fe)){let Re=document.createRange();Re.setEnd(K,ne),Re.setStart(K,ne),fe.removeAllRanges(),fe.addRange(Re)}else fe.extend&&fe.extend(K,ne);V.domObserver.setCurSelection();let{state:xe}=V;setTimeout(()=>{V.state==xe&&Kn(V)},50)}function vr(V,K,ne){let fe=V.state.selection;if(fe instanceof o.Bs&&!fe.empty||ne.indexOf("s")>-1||R&&ne.indexOf("m")>-1)return!1;let{$from:xe,$to:Re}=fe;if(!xe.parent.inlineContent||V.endOfTextblock(K<0?"up":"down")){let nt=wo(V.state,K);if(nt&&nt instanceof o.qv)return ko(V,nt)}if(!xe.parent.inlineContent){let nt=K<0?xe:Re,Q=fe instanceof o.C1?o.Y1.near(nt,K):o.Y1.findFrom(nt,K);return Q?ko(V,Q):!1}return!1}function tr(V,K){if(!(V.state.selection instanceof o.Bs))return!0;let{$head:ne,$anchor:fe,empty:xe}=V.state.selection;if(!ne.sameParent(fe))return!0;if(!xe)return!1;if(V.endOfTextblock(K>0?"forward":"backward"))return!0;let Re=!ne.textOffset&&(K<0?ne.nodeBefore:ne.nodeAfter);if(Re&&!Re.isText){let nt=V.state.tr;return K<0?nt.delete(ne.pos-Re.nodeSize,ne.pos):nt.delete(ne.pos,ne.pos+Re.nodeSize),V.dispatch(nt),!0}return!1}function pr(V,K,ne){V.domObserver.stop(),K.contentEditable=ne,V.domObserver.start()}function kt(V){if(!q||V.state.selection.$head.parentOffset>0)return!1;let{focusNode:K,focusOffset:ne}=V.domSelectionRange();if(K&&K.nodeType==1&&ne==0&&K.firstChild&&K.firstChild.contentEditable=="false"){let fe=K.firstChild;pr(V,fe,"true"),setTimeout(()=>pr(V,fe,"false"),20)}return!1}function Vt(V){let K="";return V.ctrlKey&&(K+="c"),V.metaKey&&(K+="m"),V.altKey&&(K+="a"),V.shiftKey&&(K+="s"),K}function en(V,K){let ne=K.keyCode,fe=Vt(K);return ne==8||R&&ne==72&&fe=="c"?tr(V,-1)||mn(V):ne==46||R&&ne==68&&fe=="c"?tr(V,1)||Dn(V):ne==13||ne==27?!0:ne==37||R&&ne==66&&fe=="c"?ei(V,-1,fe)||mn(V):ne==39||R&&ne==70&&fe=="c"?ei(V,1,fe)||Dn(V):ne==38||R&&ne==80&&fe=="c"?vr(V,-1,fe)||mn(V):ne==40||R&&ne==78&&fe=="c"?kt(V)||vr(V,1,fe)||Dn(V):fe==(R?"m":"c")&&(ne==66||ne==73||ne==89||ne==90)}function dn(V,K){V.someProp("transformCopied",Ht=>{K=Ht(K,V)});let ne=[],{content:fe,openStart:xe,openEnd:Re}=K;for(;xe>1&&Re>1&&fe.childCount==1&&fe.firstChild.childCount==1;){xe--,Re--;let Ht=fe.firstChild;ne.push(Ht.type.name,Ht.attrs!=Ht.type.defaultAttrs?Ht.attrs:null),fe=Ht.content}let nt=V.someProp("clipboardSerializer")||f.PW.fromSchema(V.state.schema),Q=Un(),Pe=Q.createElement("div");Pe.appendChild(nt.serializeFragment(fe,{document:Q}));let Ze=Pe.firstChild,ut,It=0;for(;Ze&&Ze.nodeType==1&&(ut=un[Ze.nodeName.toLowerCase()]);){for(let Ht=ut.length-1;Ht>=0;Ht--){let hn=Q.createElement(ut[Ht]);for(;Pe.firstChild;)hn.appendChild(Pe.firstChild);Pe.appendChild(hn),It++}Ze=Pe.firstChild}Ze&&Ze.nodeType==1&&Ze.setAttribute("data-pm-slice",`${xe} ${Re}${It?` -${It}`:""} ${JSON.stringify(ne)}`);let Ft=V.someProp("clipboardTextSerializer",Ht=>Ht(K,V))||K.content.textBetween(0,K.content.size,`

`);return{dom:Pe,text:Ft}}function Nn(V,K,ne,fe,xe){let Re=xe.parent.type.spec.code,nt,Q;if(!ne&&!K)return null;let Pe=K&&(fe||Re||!ne);if(Pe){if(V.someProp("transformPastedText",Ft=>{K=Ft(K,Re||fe,V)}),Re)return K?new f.p2(f.HY.from(V.state.schema.text(K.replace(/\r\n?/g,`
`))),0,0):f.p2.empty;let It=V.someProp("clipboardTextParser",Ft=>Ft(K,xe,fe,V));if(It)Q=It;else{let Ft=xe.marks(),{schema:Ht}=V.state,hn=f.PW.fromSchema(Ht);nt=document.createElement("div"),K.split(/(?:\r\n?|\n)+/).forEach(Kt=>{let Pr=nt.appendChild(document.createElement("p"));Kt&&Pr.appendChild(hn.serializeNode(Ht.text(Kt,Ft)))})}}else V.someProp("transformPastedHTML",It=>{ne=It(ne,V)}),nt=Cr(ne),ie&&Hr(nt);let Ze=nt&&nt.querySelector("[data-pm-slice]"),ut=Ze&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(Ze.getAttribute("data-pm-slice")||"");if(ut&&ut[3])for(let It=+ut[3];It>0;It--){let Ft=nt.firstChild;for(;Ft&&Ft.nodeType!=1;)Ft=Ft.nextSibling;if(!Ft)break;nt=Ft}if(Q||(Q=(V.someProp("clipboardParser")||V.someProp("domParser")||f.aw.fromSchema(V.state.schema)).parseSlice(nt,{preserveWhitespace:!!(Pe||ut),context:xe,ruleFromNode(Ft){return Ft.nodeName=="BR"&&!Ft.nextSibling&&Ft.parentNode&&!An.test(Ft.parentNode.nodeName)?{ignore:!0}:null}})),ut)Q=Ur(vn(Q,+ut[1],+ut[2]),ut[4]);else if(Q=f.p2.maxOpen(Rn(Q.content,xe),!0),Q.openStart||Q.openEnd){let It=0,Ft=0;for(let Ht=Q.content.firstChild;It<Q.openStart&&!Ht.type.spec.isolating;It++,Ht=Ht.firstChild);for(let Ht=Q.content.lastChild;Ft<Q.openEnd&&!Ht.type.spec.isolating;Ft++,Ht=Ht.lastChild);Q=vn(Q,It,Ft)}return V.someProp("transformPasted",It=>{Q=It(Q,V)}),Q}const An=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Rn(V,K){if(V.childCount<2)return V;for(let ne=K.depth;ne>=0;ne--){let xe=K.node(ne).contentMatchAt(K.index(ne)),Re,nt=[];if(V.forEach(Q=>{if(!nt)return;let Pe=xe.findWrapping(Q.type),Ze;if(!Pe)return nt=null;if(Ze=nt.length&&Re.length&&Rt(Pe,Re,Q,nt[nt.length-1],0))nt[nt.length-1]=Ze;else{nt.length&&(nt[nt.length-1]=zt(nt[nt.length-1],Re.length));let ut=ft(Q,Pe);nt.push(ut),xe=xe.matchType(ut.type),Re=Pe}}),nt)return f.HY.from(nt)}return V}function ft(V,K,ne=0){for(let fe=K.length-1;fe>=ne;fe--)V=K[fe].create(null,f.HY.from(V));return V}function Rt(V,K,ne,fe,xe){if(xe<V.length&&xe<K.length&&V[xe]==K[xe]){let Re=Rt(V,K,ne,fe.lastChild,xe+1);if(Re)return fe.copy(fe.content.replaceChild(fe.childCount-1,Re));if(fe.contentMatchAt(fe.childCount).matchType(xe==V.length-1?ne.type:V[xe+1]))return fe.copy(fe.content.append(f.HY.from(ft(ne,V,xe+1))))}}function zt(V,K){if(K==0)return V;let ne=V.content.replaceChild(V.childCount-1,zt(V.lastChild,K-1)),fe=V.contentMatchAt(V.childCount).fillBefore(f.HY.empty,!0);return V.copy(ne.append(fe))}function tn(V,K,ne,fe,xe,Re){let nt=K<0?V.firstChild:V.lastChild,Q=nt.content;return xe<fe-1&&(Q=tn(Q,K,ne,fe,xe+1,Re)),xe>=ne&&(Q=K<0?nt.contentMatchAt(0).fillBefore(Q,V.childCount>1||Re<=xe).append(Q):Q.append(nt.contentMatchAt(nt.childCount).fillBefore(f.HY.empty,!0))),V.replaceChild(K<0?0:V.childCount-1,nt.copy(Q))}function vn(V,K,ne){return K<V.openStart&&(V=new f.p2(tn(V.content,-1,K,V.openStart,0,V.openEnd),K,V.openEnd)),ne<V.openEnd&&(V=new f.p2(tn(V.content,1,ne,V.openEnd,0,0),V.openStart,ne)),V}const un={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let wn=null;function Un(){return wn||(wn=document.implementation.createHTMLDocument("title"))}function Cr(V){let K=/^(\s*<meta [^>]*>)*/.exec(V);K&&(V=V.slice(K[0].length));let ne=Un().createElement("div"),fe=/<([a-z][^>\s]+)/i.exec(V),xe;if((xe=fe&&un[fe[1].toLowerCase()])&&(V=xe.map(Re=>"<"+Re+">").join("")+V+xe.map(Re=>"</"+Re+">").reverse().join("")),ne.innerHTML=V,xe)for(let Re=0;Re<xe.length;Re++)ne=ne.querySelector(xe[Re])||ne;return ne}function Hr(V){let K=V.querySelectorAll(G?"span:not([class]):not([style])":"span.Apple-converted-space");for(let ne=0;ne<K.length;ne++){let fe=K[ne];fe.childNodes.length==1&&fe.textContent=="\xA0"&&fe.parentNode&&fe.parentNode.replaceChild(V.ownerDocument.createTextNode(" "),fe)}}function Ur(V,K){if(!V.size)return V;let ne=V.content.firstChild.type.schema,fe;try{fe=JSON.parse(K)}catch(Q){return V}let{content:xe,openStart:Re,openEnd:nt}=V;for(let Q=fe.length-2;Q>=0;Q-=2){let Pe=ne.nodes[fe[Q]];if(!Pe||Pe.hasRequiredAttrs())break;xe=f.HY.from(Pe.create(fe[Q+1],xe)),Re++,nt++}return new f.p2(xe,Re,nt)}const Ar={},oo={},vo={touchstart:!0,touchmove:!0};class ti{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function ni(V){for(let K in Ar){let ne=Ar[K];V.dom.addEventListener(K,V.input.eventHandlers[K]=fe=>{Li(V,fe)&&!Wo(V,fe)&&(V.editable||!(fe.type in oo))&&ne(V,fe)},vo[K]?{passive:!0}:void 0)}q&&V.dom.addEventListener("input",()=>null),yo(V)}function Co(V,K){V.input.lastSelectionOrigin=K,V.input.lastSelectionTime=Date.now()}function Fo(V){V.domObserver.stop();for(let K in V.input.eventHandlers)V.dom.removeEventListener(K,V.input.eventHandlers[K]);clearTimeout(V.input.composingTimeout),clearTimeout(V.input.lastIOSEnterFallbackTimeout)}function yo(V){V.someProp("handleDOMEvents",K=>{for(let ne in K)V.input.eventHandlers[ne]||V.dom.addEventListener(ne,V.input.eventHandlers[ne]=fe=>Wo(V,fe))})}function Wo(V,K){return V.someProp("handleDOMEvents",ne=>{let fe=ne[K.type];return fe?fe(V,K)||K.defaultPrevented:!1})}function Li(V,K){if(!K.bubbles)return!0;if(K.defaultPrevented)return!1;for(let ne=K.target;ne!=V.dom;ne=ne.parentNode)if(!ne||ne.nodeType==11||ne.pmViewDesc&&ne.pmViewDesc.stopEvent(K))return!1;return!0}function ai(V,K){!Wo(V,K)&&Ar[K.type]&&(V.editable||!(K.type in oo))&&Ar[K.type](V,K)}oo.keydown=(V,K)=>{let ne=K;if(V.input.shiftKey=ne.keyCode==16||ne.shiftKey,!Di(V,ne)&&(V.input.lastKeyCode=ne.keyCode,V.input.lastKeyCodeTime=Date.now(),!(j&&G&&ne.keyCode==13)))if(ne.keyCode!=229&&V.domObserver.forceFlush(),J&&ne.keyCode==13&&!ne.ctrlKey&&!ne.altKey&&!ne.metaKey){let fe=Date.now();V.input.lastIOSEnter=fe,V.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{V.input.lastIOSEnter==fe&&(V.someProp("handleKeyDown",xe=>xe(V,d(13,"Enter"))),V.input.lastIOSEnter=0)},200)}else V.someProp("handleKeyDown",fe=>fe(V,ne))||en(V,ne)?ne.preventDefault():Co(V,"key")},oo.keyup=(V,K)=>{K.keyCode==16&&(V.input.shiftKey=!1)},oo.keypress=(V,K)=>{let ne=K;if(Di(V,ne)||!ne.charCode||ne.ctrlKey&&!ne.altKey||R&&ne.metaKey)return;if(V.someProp("handleKeyPress",xe=>xe(V,ne))){ne.preventDefault();return}let fe=V.state.selection;if(!(fe instanceof o.Bs)||!fe.$from.sameParent(fe.$to)){let xe=String.fromCharCode(ne.charCode);!/[\r\n]/.test(xe)&&!V.someProp("handleTextInput",Re=>Re(V,fe.$from.pos,fe.$to.pos,xe))&&V.dispatch(V.state.tr.insertText(xe).scrollIntoView()),ne.preventDefault()}};function mi(V){return{left:V.clientX,top:V.clientY}}function Oi(V,K){let ne=K.x-V.clientX,fe=K.y-V.clientY;return ne*ne+fe*fe<100}function pi(V,K,ne,fe,xe){if(fe==-1)return!1;let Re=V.state.doc.resolve(fe);for(let nt=Re.depth+1;nt>0;nt--)if(V.someProp(K,Q=>nt>Re.depth?Q(V,ne,Re.nodeAfter,Re.before(nt),xe,!0):Q(V,ne,Re.node(nt),Re.before(nt),xe,!1)))return!0;return!1}function ui(V,K,ne){V.focused||V.focus();let fe=V.state.tr.setSelection(K);ne=="pointer"&&fe.setMeta("pointer",!0),V.dispatch(fe)}function Mi(V,K){if(K==-1)return!1;let ne=V.state.doc.resolve(K),fe=ne.nodeAfter;return fe&&fe.isAtom&&o.qv.isSelectable(fe)?(ui(V,new o.qv(ne),"pointer"),!0):!1}function Bi(V,K){if(K==-1)return!1;let ne=V.state.selection,fe,xe;ne instanceof o.qv&&(fe=ne.node);let Re=V.state.doc.resolve(K);for(let nt=Re.depth+1;nt>0;nt--){let Q=nt>Re.depth?Re.nodeAfter:Re.node(nt);if(o.qv.isSelectable(Q)){fe&&ne.$from.depth>0&&nt>=ne.$from.depth&&Re.before(ne.$from.depth+1)==ne.$from.pos?xe=Re.before(ne.$from.depth):xe=Re.before(nt);break}}return xe!=null?(ui(V,o.qv.create(V.state.doc,xe),"pointer"),!0):!1}function _i(V,K,ne,fe,xe){return pi(V,"handleClickOn",K,ne,fe)||V.someProp("handleClick",Re=>Re(V,K,fe))||(xe?Bi(V,ne):Mi(V,ne))}function gi(V,K,ne,fe){return pi(V,"handleDoubleClickOn",K,ne,fe)||V.someProp("handleDoubleClick",xe=>xe(V,K,fe))}function vi(V,K,ne,fe){return pi(V,"handleTripleClickOn",K,ne,fe)||V.someProp("handleTripleClick",xe=>xe(V,K,fe))||si(V,ne,fe)}function si(V,K,ne){if(ne.button!=0)return!1;let fe=V.state.doc;if(K==-1)return fe.inlineContent?(ui(V,o.Bs.create(fe,0,fe.content.size),"pointer"),!0):!1;let xe=fe.resolve(K);for(let Re=xe.depth+1;Re>0;Re--){let nt=Re>xe.depth?xe.nodeAfter:xe.node(Re),Q=xe.before(Re);if(nt.inlineContent)ui(V,o.Bs.create(fe,Q+1,Q+1+nt.content.size),"pointer");else if(o.qv.isSelectable(nt))ui(V,o.qv.create(fe,Q),"pointer");else continue;return!0}}function xo(V){return bt(V)}const ri=R?"metaKey":"ctrlKey";Ar.mousedown=(V,K)=>{let ne=K;V.input.shiftKey=ne.shiftKey;let fe=xo(V),xe=Date.now(),Re="singleClick";xe-V.input.lastClick.time<500&&Oi(ne,V.input.lastClick)&&!ne[ri]&&(V.input.lastClick.type=="singleClick"?Re="doubleClick":V.input.lastClick.type=="doubleClick"&&(Re="tripleClick")),V.input.lastClick={time:xe,x:ne.clientX,y:ne.clientY,type:Re};let nt=V.posAtCoords(mi(ne));nt&&(Re=="singleClick"?(V.input.mouseDown&&V.input.mouseDown.done(),V.input.mouseDown=new Si(V,nt,ne,!!fe)):(Re=="doubleClick"?gi:vi)(V,nt.pos,nt.inside,ne)?ne.preventDefault():Co(V,"pointer"))};class Si{constructor(K,ne,fe,xe){this.view=K,this.pos=ne,this.event=fe,this.flushed=xe,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=K.state.doc,this.selectNode=!!fe[ri],this.allowDefault=fe.shiftKey;let Re,nt;if(ne.inside>-1)Re=K.state.doc.nodeAt(ne.inside),nt=ne.inside;else{let ut=K.state.doc.resolve(ne.pos);Re=ut.parent,nt=ut.depth?ut.before():0}const Q=xe?null:fe.target,Pe=Q?K.docView.nearestDesc(Q,!0):null;this.target=Pe?Pe.dom:null;let{selection:Ze}=K.state;(fe.button==0&&Re.type.spec.draggable&&Re.type.spec.selectable!==!1||Ze instanceof o.qv&&Ze.from<=nt&&Ze.to>nt)&&(this.mightDrag={node:Re,pos:nt,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&U&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),K.root.addEventListener("mouseup",this.up=this.up.bind(this)),K.root.addEventListener("mousemove",this.move=this.move.bind(this)),Co(K,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Kn(this.view)),this.view.input.mouseDown=null}up(K){if(this.done(),!this.view.dom.contains(K.target))return;let ne=this.pos;this.view.state.doc!=this.startDoc&&(ne=this.view.posAtCoords(mi(K))),this.updateAllowDefault(K),this.allowDefault||!ne?Co(this.view,"pointer"):_i(this.view,ne.pos,ne.inside,K,this.selectNode)?K.preventDefault():K.button==0&&(this.flushed||q&&this.mightDrag&&!this.mightDrag.node.isAtom||G&&!this.view.state.selection.visible&&Math.min(Math.abs(ne.pos-this.view.state.selection.from),Math.abs(ne.pos-this.view.state.selection.to))<=2)?(ui(this.view,o.Y1.near(this.view.state.doc.resolve(ne.pos)),"pointer"),K.preventDefault()):Co(this.view,"pointer")}move(K){this.updateAllowDefault(K),Co(this.view,"pointer"),K.buttons==0&&this.done()}updateAllowDefault(K){!this.allowDefault&&(Math.abs(this.event.x-K.clientX)>4||Math.abs(this.event.y-K.clientY)>4)&&(this.allowDefault=!0)}}Ar.touchstart=V=>{V.input.lastTouch=Date.now(),xo(V),Co(V,"pointer")},Ar.touchmove=V=>{V.input.lastTouch=Date.now(),Co(V,"pointer")},Ar.contextmenu=V=>xo(V);function Di(V,K){return V.composing?!0:q&&Math.abs(K.timeStamp-V.input.compositionEndedAt)<500?(V.input.compositionEndedAt=-2e8,!0):!1}const rt=j?5e3:-1;oo.compositionstart=oo.compositionupdate=V=>{if(!V.composing){V.domObserver.flush();let{state:K}=V,ne=K.selection.$from;if(K.selection.empty&&(K.storedMarks||!ne.textOffset&&ne.parentOffset&&ne.nodeBefore.marks.some(fe=>fe.type.spec.inclusive===!1)))V.markCursor=V.state.storedMarks||ne.marks(),bt(V,!0),V.markCursor=null;else if(bt(V),U&&K.selection.empty&&ne.parentOffset&&!ne.textOffset&&ne.nodeBefore.marks.length){let fe=V.domSelectionRange();for(let xe=fe.focusNode,Re=fe.focusOffset;xe&&xe.nodeType==1&&Re!=0;){let nt=Re<0?xe.lastChild:xe.childNodes[Re-1];if(!nt)break;if(nt.nodeType==3){V.domSelection().collapse(nt,nt.nodeValue.length);break}else xe=nt,Re=-1}}V.input.composing=!0}Ge(V,rt)},oo.compositionend=(V,K)=>{V.composing&&(V.input.composing=!1,V.input.compositionEndedAt=K.timeStamp,Ge(V,20))};function Ge(V,K){clearTimeout(V.input.composingTimeout),K>-1&&(V.input.composingTimeout=setTimeout(()=>bt(V),K))}function Je(V){for(V.composing&&(V.input.composing=!1,V.input.compositionEndedAt=mt());V.input.compositionNodes.length>0;)V.input.compositionNodes.pop().markParentsDirty()}function mt(){let V=document.createEvent("Event");return V.initEvent("event",!0,!0),V.timeStamp}function bt(V,K=!1){if(!(j&&V.domObserver.flushingSoon>=0)){if(V.domObserver.forceFlush(),Je(V),K||V.docView&&V.docView.dirty){let ne=Zt(V);return ne&&!ne.eq(V.state.selection)?V.dispatch(V.state.tr.setSelection(ne)):V.updateState(V.state),!0}return!1}}function jt(V,K){if(!V.dom.parentNode)return;let ne=V.dom.parentNode.appendChild(document.createElement("div"));ne.appendChild(K),ne.style.cssText="position: fixed; left: -10000px; top: 10px";let fe=getSelection(),xe=document.createRange();xe.selectNodeContents(K),V.dom.blur(),fe.removeAllRanges(),fe.addRange(xe),setTimeout(()=>{ne.parentNode&&ne.parentNode.removeChild(ne),V.focus()},50)}const Bt=A&&L<15||J&&le<604;Ar.copy=oo.cut=(V,K)=>{let ne=K,fe=V.state.selection,xe=ne.type=="cut";if(fe.empty)return;let Re=Bt?null:ne.clipboardData,nt=fe.content(),{dom:Q,text:Pe}=dn(V,nt);Re?(ne.preventDefault(),Re.clearData(),Re.setData("text/html",Q.innerHTML),Re.setData("text/plain",Pe)):jt(V,Q),xe&&V.dispatch(V.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function sn(V){return V.openStart==0&&V.openEnd==0&&V.content.childCount==1?V.content.firstChild:null}function Cn(V,K){if(!V.dom.parentNode)return;let ne=V.input.shiftKey||V.state.selection.$from.parent.type.spec.code,fe=V.dom.parentNode.appendChild(document.createElement(ne?"textarea":"div"));ne||(fe.contentEditable="true"),fe.style.cssText="position: fixed; left: -10000px; top: 10px",fe.focus(),setTimeout(()=>{V.focus(),fe.parentNode&&fe.parentNode.removeChild(fe),ne?fn(V,fe.value,null,V.input.shiftKey,K):fn(V,fe.textContent,fe.innerHTML,V.input.shiftKey,K)},50)}function fn(V,K,ne,fe,xe){let Re=Nn(V,K,ne,fe,V.state.selection.$from);if(V.someProp("handlePaste",Pe=>Pe(V,xe,Re||f.p2.empty)))return!0;if(!Re)return!1;let nt=sn(Re),Q=nt?V.state.tr.replaceSelectionWith(nt,V.input.shiftKey):V.state.tr.replaceSelection(Re);return V.dispatch(Q.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}oo.paste=(V,K)=>{let ne=K;if(V.composing&&!j)return;let fe=Bt?null:ne.clipboardData;fe&&fn(V,fe.getData("text/plain"),fe.getData("text/html"),V.input.shiftKey,ne)?ne.preventDefault():Cn(V,ne)};class Bn{constructor(K,ne){this.slice=K,this.move=ne}}const Br=R?"altKey":"ctrlKey";Ar.dragstart=(V,K)=>{let ne=K,fe=V.input.mouseDown;if(fe&&fe.done(),!ne.dataTransfer)return;let xe=V.state.selection,Re=xe.empty?null:V.posAtCoords(mi(ne));if(!(Re&&Re.pos>=xe.from&&Re.pos<=(xe instanceof o.qv?xe.to-1:xe.to))){if(fe&&fe.mightDrag)V.dispatch(V.state.tr.setSelection(o.qv.create(V.state.doc,fe.mightDrag.pos)));else if(ne.target&&ne.target.nodeType==1){let Ze=V.docView.nearestDesc(ne.target,!0);Ze&&Ze.node.type.spec.draggable&&Ze!=V.docView&&V.dispatch(V.state.tr.setSelection(o.qv.create(V.state.doc,Ze.posBefore)))}}let nt=V.state.selection.content(),{dom:Q,text:Pe}=dn(V,nt);ne.dataTransfer.clearData(),ne.dataTransfer.setData(Bt?"Text":"text/html",Q.innerHTML),ne.dataTransfer.effectAllowed="copyMove",Bt||ne.dataTransfer.setData("text/plain",Pe),V.dragging=new Bn(nt,!ne[Br])},Ar.dragend=V=>{let K=V.dragging;window.setTimeout(()=>{V.dragging==K&&(V.dragging=null)},50)},oo.dragover=oo.dragenter=(V,K)=>K.preventDefault(),oo.drop=(V,K)=>{let ne=K,fe=V.dragging;if(V.dragging=null,!ne.dataTransfer)return;let xe=V.posAtCoords(mi(ne));if(!xe)return;let Re=V.state.doc.resolve(xe.pos),nt=fe&&fe.slice;nt?V.someProp("transformPasted",hn=>{nt=hn(nt,V)}):nt=Nn(V,ne.dataTransfer.getData(Bt?"Text":"text/plain"),Bt?null:ne.dataTransfer.getData("text/html"),!1,Re);let Q=!!(fe&&!ne[Br]);if(V.someProp("handleDrop",hn=>hn(V,ne,nt||f.p2.empty,Q))){ne.preventDefault();return}if(!nt)return;ne.preventDefault();let Pe=nt?(0,l.nj)(V.state.doc,Re.pos,nt):Re.pos;Pe==null&&(Pe=Re.pos);let Ze=V.state.tr;Q&&Ze.deleteSelection();let ut=Ze.mapping.map(Pe),It=nt.openStart==0&&nt.openEnd==0&&nt.content.childCount==1,Ft=Ze.doc;if(It?Ze.replaceRangeWith(ut,ut,nt.content.firstChild):Ze.replaceRange(ut,ut,nt),Ze.doc.eq(Ft))return;let Ht=Ze.doc.resolve(ut);if(It&&o.qv.isSelectable(nt.content.firstChild)&&Ht.nodeAfter&&Ht.nodeAfter.sameMarkup(nt.content.firstChild))Ze.setSelection(new o.qv(Ht));else{let hn=Ze.mapping.map(Pe);Ze.mapping.maps[Ze.mapping.maps.length-1].forEach((Kt,Pr,co,eo)=>hn=eo),Ze.setSelection(go(V,Ht,Ze.doc.resolve(hn)))}V.focus(),V.dispatch(Ze.setMeta("uiEvent","drop"))},Ar.focus=V=>{V.input.lastFocus=Date.now(),V.focused||(V.domObserver.stop(),V.dom.classList.add("ProseMirror-focused"),V.domObserver.start(),V.focused=!0,setTimeout(()=>{V.docView&&V.hasFocus()&&!V.domObserver.currentSelection.eq(V.domSelectionRange())&&Kn(V)},20))},Ar.blur=(V,K)=>{let ne=K;V.focused&&(V.domObserver.stop(),V.dom.classList.remove("ProseMirror-focused"),V.domObserver.start(),ne.relatedTarget&&V.dom.contains(ne.relatedTarget)&&V.domObserver.currentSelection.clear(),V.focused=!1)},Ar.beforeinput=(V,K)=>{if(G&&j&&K.inputType=="deleteContentBackward"){V.domObserver.flushSoon();let{domChangeCount:fe}=V.input;setTimeout(()=>{if(V.input.domChangeCount!=fe||(V.dom.blur(),V.focus(),V.someProp("handleKeyDown",Re=>Re(V,d(8,"Backspace")))))return;let{$cursor:xe}=V.state.selection;xe&&xe.pos>0&&V.dispatch(V.state.tr.delete(xe.pos-1,xe.pos).scrollIntoView())},50)}};for(let V in oo)Ar[V]=oo[V];function Or(V,K){if(V==K)return!0;for(let ne in V)if(V[ne]!==K[ne])return!1;for(let ne in K)if(!(ne in V))return!1;return!0}class Lr{constructor(K,ne){this.toDOM=K,this.spec=ne||Pt,this.side=this.spec.side||0}map(K,ne,fe,xe){let{pos:Re,deleted:nt}=K.mapResult(ne.from+xe,this.side<0?-1:1);return nt?null:new ke(Re-fe,Re-fe,this)}valid(){return!0}eq(K){return this==K||K instanceof Lr&&(this.spec.key&&this.spec.key==K.spec.key||this.toDOM==K.toDOM&&Or(this.spec,K.spec))}destroy(K){this.spec.destroy&&this.spec.destroy(K)}}class Fe{constructor(K,ne){this.attrs=K,this.spec=ne||Pt}map(K,ne,fe,xe){let Re=K.map(ne.from+xe,this.spec.inclusiveStart?-1:1)-fe,nt=K.map(ne.to+xe,this.spec.inclusiveEnd?1:-1)-fe;return Re>=nt?null:new ke(Re,nt,this)}valid(K,ne){return ne.from<ne.to}eq(K){return this==K||K instanceof Fe&&Or(this.attrs,K.attrs)&&Or(this.spec,K.spec)}static is(K){return K.type instanceof Fe}destroy(){}}class Oe{constructor(K,ne){this.attrs=K,this.spec=ne||Pt}map(K,ne,fe,xe){let Re=K.mapResult(ne.from+xe,1);if(Re.deleted)return null;let nt=K.mapResult(ne.to+xe,-1);return nt.deleted||nt.pos<=Re.pos?null:new ke(Re.pos-fe,nt.pos-fe,this)}valid(K,ne){let{index:fe,offset:xe}=K.content.findIndex(ne.from),Re;return xe==ne.from&&!(Re=K.child(fe)).isText&&xe+Re.nodeSize==ne.to}eq(K){return this==K||K instanceof Oe&&Or(this.attrs,K.attrs)&&Or(this.spec,K.spec)}destroy(){}}class ke{constructor(K,ne,fe){this.from=K,this.to=ne,this.type=fe}copy(K,ne){return new ke(K,ne,this.type)}eq(K,ne=0){return this.type.eq(K.type)&&this.from+ne==K.from&&this.to+ne==K.to}map(K,ne,fe){return this.type.map(K,this,ne,fe)}static widget(K,ne,fe){return new ke(K,K,new Lr(ne,fe))}static inline(K,ne,fe,xe){return new ke(K,ne,new Fe(fe,xe))}static node(K,ne,fe,xe){return new ke(K,ne,new Oe(fe,xe))}get spec(){return this.type.spec}get inline(){return this.type instanceof Fe}}const qe=[],Pt={};class Ct{constructor(K,ne){this.local=K.length?K:qe,this.children=ne.length?ne:qe}static create(K,ne){return ne.length?Sn(ne,K,0,Pt):Ot}find(K,ne,fe){let xe=[];return this.findInner(K==null?0:K,ne==null?1e9:ne,xe,0,fe),xe}findInner(K,ne,fe,xe,Re){for(let nt=0;nt<this.local.length;nt++){let Q=this.local[nt];Q.from<=ne&&Q.to>=K&&(!Re||Re(Q.spec))&&fe.push(Q.copy(Q.from+xe,Q.to+xe))}for(let nt=0;nt<this.children.length;nt+=3)if(this.children[nt]<ne&&this.children[nt+1]>K){let Q=this.children[nt]+1;this.children[nt+2].findInner(K-Q,ne-Q,fe,xe+Q,Re)}}map(K,ne,fe){return this==Ot||K.maps.length==0?this:this.mapInner(K,ne,0,0,fe||Pt)}mapInner(K,ne,fe,xe,Re){let nt;for(let Q=0;Q<this.local.length;Q++){let Pe=this.local[Q].map(K,fe,xe);Pe&&Pe.type.valid(ne,Pe)?(nt||(nt=[])).push(Pe):Re.onRemove&&Re.onRemove(this.local[Q].spec)}return this.children.length?Xt(this.children,nt||[],K,ne,fe,xe,Re):nt?new Ct(nt.sort(Zn),qe):Ot}add(K,ne){return ne.length?this==Ot?Ct.create(K,ne):this.addInner(K,ne,0):this}addInner(K,ne,fe){let xe,Re=0;K.forEach((Q,Pe)=>{let Ze=Pe+fe,ut;if(ut=Qt(ne,Q,Ze)){for(xe||(xe=this.children.slice());Re<xe.length&&xe[Re]<Pe;)Re+=3;xe[Re]==Pe?xe[Re+2]=xe[Re+2].addInner(Q,ut,Ze+1):xe.splice(Re,0,Pe,Pe+Q.nodeSize,Sn(ut,Q,Ze+1,Pt)),Re+=3}});let nt=Yt(Re?on(ne):ne,-fe);for(let Q=0;Q<nt.length;Q++)nt[Q].type.valid(K,nt[Q])||nt.splice(Q--,1);return new Ct(nt.length?this.local.concat(nt).sort(Zn):this.local,xe||this.children)}remove(K){return K.length==0||this==Ot?this:this.removeInner(K,0)}removeInner(K,ne){let fe=this.children,xe=this.local;for(let Re=0;Re<fe.length;Re+=3){let nt,Q=fe[Re]+ne,Pe=fe[Re+1]+ne;for(let ut=0,It;ut<K.length;ut++)(It=K[ut])&&It.from>Q&&It.to<Pe&&(K[ut]=null,(nt||(nt=[])).push(It));if(!nt)continue;fe==this.children&&(fe=this.children.slice());let Ze=fe[Re+2].removeInner(nt,Q+1);Ze!=Ot?fe[Re+2]=Ze:(fe.splice(Re,3),Re-=3)}if(xe.length){for(let Re=0,nt;Re<K.length;Re++)if(nt=K[Re])for(let Q=0;Q<xe.length;Q++)xe[Q].eq(nt,ne)&&(xe==this.local&&(xe=this.local.slice()),xe.splice(Q--,1))}return fe==this.children&&xe==this.local?this:xe.length||fe.length?new Ct(xe,fe):Ot}forChild(K,ne){if(this==Ot)return this;if(ne.isLeaf)return Ct.empty;let fe,xe;for(let Q=0;Q<this.children.length;Q+=3)if(this.children[Q]>=K){this.children[Q]==K&&(fe=this.children[Q+2]);break}let Re=K+1,nt=Re+ne.content.size;for(let Q=0;Q<this.local.length;Q++){let Pe=this.local[Q];if(Pe.from<nt&&Pe.to>Re&&Pe.type instanceof Fe){let Ze=Math.max(Re,Pe.from)-Re,ut=Math.min(nt,Pe.to)-Re;Ze<ut&&(xe||(xe=[])).push(Pe.copy(Ze,ut))}}if(xe){let Q=new Ct(xe.sort(Zn),qe);return fe?new Dt([Q,fe]):Q}return fe||Ot}eq(K){if(this==K)return!0;if(!(K instanceof Ct)||this.local.length!=K.local.length||this.children.length!=K.children.length)return!1;for(let ne=0;ne<this.local.length;ne++)if(!this.local[ne].eq(K.local[ne]))return!1;for(let ne=0;ne<this.children.length;ne+=3)if(this.children[ne]!=K.children[ne]||this.children[ne+1]!=K.children[ne+1]||!this.children[ne+2].eq(K.children[ne+2]))return!1;return!0}locals(K){return sr(this.localsInner(K))}localsInner(K){if(this==Ot)return qe;if(K.inlineContent||!this.local.some(Fe.is))return this.local;let ne=[];for(let fe=0;fe<this.local.length;fe++)this.local[fe].type instanceof Fe||ne.push(this.local[fe]);return ne}}Ct.empty=new Ct([],[]),Ct.removeOverlap=sr;const Ot=Ct.empty;class Dt{constructor(K){this.members=K}map(K,ne){const fe=this.members.map(xe=>xe.map(K,ne,Pt));return Dt.from(fe)}forChild(K,ne){if(ne.isLeaf)return Ct.empty;let fe=[];for(let xe=0;xe<this.members.length;xe++){let Re=this.members[xe].forChild(K,ne);Re!=Ot&&(Re instanceof Dt?fe=fe.concat(Re.members):fe.push(Re))}return Dt.from(fe)}eq(K){if(!(K instanceof Dt)||K.members.length!=this.members.length)return!1;for(let ne=0;ne<this.members.length;ne++)if(!this.members[ne].eq(K.members[ne]))return!1;return!0}locals(K){let ne,fe=!0;for(let xe=0;xe<this.members.length;xe++){let Re=this.members[xe].localsInner(K);if(Re.length)if(!ne)ne=Re;else{fe&&(ne=ne.slice(),fe=!1);for(let nt=0;nt<Re.length;nt++)ne.push(Re[nt])}}return ne?sr(fe?ne:ne.sort(Zn)):qe}static from(K){switch(K.length){case 0:return Ot;case 1:return K[0];default:return new Dt(K.every(ne=>ne instanceof Ct)?K:K.reduce((ne,fe)=>ne.concat(fe instanceof Ct?fe:fe.members),[]))}}}function Xt(V,K,ne,fe,xe,Re,nt){let Q=V.slice();for(let Ze=0,ut=Re;Ze<ne.maps.length;Ze++){let It=0;ne.maps[Ze].forEach((Ft,Ht,hn,Kt)=>{let Pr=Kt-hn-(Ht-Ft);for(let co=0;co<Q.length;co+=3){let eo=Q[co+1];if(eo<0||Ft>eo+ut-It)continue;let Rr=Q[co]+ut-It;Ht>=Rr?Q[co+1]=Ft<=Rr?-2:-1:hn>=xe&&Pr&&(Q[co]+=Pr,Q[co+1]+=Pr)}It+=Pr}),ut=ne.maps[Ze].map(ut,-1)}let Pe=!1;for(let Ze=0;Ze<Q.length;Ze+=3)if(Q[Ze+1]<0){if(Q[Ze+1]==-2){Pe=!0,Q[Ze+1]=-1;continue}let ut=ne.map(V[Ze]+Re),It=ut-xe;if(It<0||It>=fe.content.size){Pe=!0;continue}let Ft=ne.map(V[Ze+1]+Re,-1),Ht=Ft-xe,{index:hn,offset:Kt}=fe.content.findIndex(It),Pr=fe.maybeChild(hn);if(Pr&&Kt==It&&Kt+Pr.nodeSize==Ht){let co=Q[Ze+2].mapInner(ne,Pr,ut+1,V[Ze]+Re+1,nt);co!=Ot?(Q[Ze]=It,Q[Ze+1]=Ht,Q[Ze+2]=co):(Q[Ze+1]=-2,Pe=!0)}else Pe=!0}if(Pe){let Ze=Jt(Q,V,K,ne,xe,Re,nt),ut=Sn(Ze,fe,0,nt);K=ut.local;for(let It=0;It<Q.length;It+=3)Q[It+1]<0&&(Q.splice(It,3),It-=3);for(let It=0,Ft=0;It<ut.children.length;It+=3){let Ht=ut.children[It];for(;Ft<Q.length&&Q[Ft]<Ht;)Ft+=3;Q.splice(Ft,0,ut.children[It],ut.children[It+1],ut.children[It+2])}}return new Ct(K.sort(Zn),Q)}function Yt(V,K){if(!K||!V.length)return V;let ne=[];for(let fe=0;fe<V.length;fe++){let xe=V[fe];ne.push(new ke(xe.from+K,xe.to+K,xe.type))}return ne}function Jt(V,K,ne,fe,xe,Re,nt){function Q(Pe,Ze){for(let ut=0;ut<Pe.local.length;ut++){let It=Pe.local[ut].map(fe,xe,Ze);It?ne.push(It):nt.onRemove&&nt.onRemove(Pe.local[ut].spec)}for(let ut=0;ut<Pe.children.length;ut+=3)Q(Pe.children[ut+2],Pe.children[ut]+Ze+1)}for(let Pe=0;Pe<V.length;Pe+=3)V[Pe+1]==-1&&Q(V[Pe+2],K[Pe]+Re+1);return ne}function Qt(V,K,ne){if(K.isLeaf)return null;let fe=ne+K.nodeSize,xe=null;for(let Re=0,nt;Re<V.length;Re++)(nt=V[Re])&&nt.from>ne&&nt.to<fe&&((xe||(xe=[])).push(nt),V[Re]=null);return xe}function on(V){let K=[];for(let ne=0;ne<V.length;ne++)V[ne]!=null&&K.push(V[ne]);return K}function Sn(V,K,ne,fe){let xe=[],Re=!1;K.forEach((Q,Pe)=>{let Ze=Qt(V,Q,Pe+ne);if(Ze){Re=!0;let ut=Sn(Ze,Q,ne+Pe+1,fe);ut!=Ot&&xe.push(Pe,Pe+Q.nodeSize,ut)}});let nt=Yt(Re?on(V):V,-ne).sort(Zn);for(let Q=0;Q<nt.length;Q++)nt[Q].type.valid(K,nt[Q])||(fe.onRemove&&fe.onRemove(nt[Q].spec),nt.splice(Q--,1));return nt.length||xe.length?new Ct(nt,xe):Ot}function Zn(V,K){return V.from-K.from||V.to-K.to}function sr(V){let K=V;for(let ne=0;ne<K.length-1;ne++){let fe=K[ne];if(fe.from!=fe.to)for(let xe=ne+1;xe<K.length;xe++){let Re=K[xe];if(Re.from==fe.from){Re.to!=fe.to&&(K==V&&(K=V.slice()),K[xe]=Re.copy(Re.from,fe.to),Sr(K,xe+1,Re.copy(fe.to,Re.to)));continue}else{Re.from<fe.to&&(K==V&&(K=V.slice()),K[ne]=fe.copy(fe.from,Re.from),Sr(K,xe,fe.copy(Re.from,fe.to)));break}}}return K}function Sr(V,K,ne){for(;K<V.length&&Zn(ne,V[K])>0;)K++;V.splice(K,0,ne)}function yr(V){let K=[];return V.someProp("decorations",ne=>{let fe=ne(V.state);fe&&fe!=Ot&&K.push(fe)}),V.cursorWrapper&&K.push(Ct.create(V.state.doc,[V.cursorWrapper.deco])),Dt.from(K)}const qr={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},uo=A&&L<=11;class ho{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(K){this.anchorNode=K.anchorNode,this.anchorOffset=K.anchorOffset,this.focusNode=K.focusNode,this.focusOffset=K.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(K){return K.anchorNode==this.anchorNode&&K.anchorOffset==this.anchorOffset&&K.focusNode==this.focusNode&&K.focusOffset==this.focusOffset}}class Ao{constructor(K,ne){this.view=K,this.handleDOMChange=ne,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new ho,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(fe=>{for(let xe=0;xe<fe.length;xe++)this.queue.push(fe[xe]);A&&L<=11&&fe.some(xe=>xe.type=="childList"&&xe.removedNodes.length||xe.type=="characterData"&&xe.oldValue.length>xe.target.nodeValue.length)?this.flushSoon():this.flush()}),uo&&(this.onCharData=fe=>{this.queue.push({target:fe.target,type:"characterData",oldValue:fe.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,qr)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let K=this.observer.takeRecords();if(K.length){for(let ne=0;ne<K.length;ne++)this.queue.push(K[ne]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Eo(this.view)){if(this.suppressingSelectionUpdates)return Kn(this.view);if(A&&L<=11&&!this.view.state.selection.empty){let K=this.view.domSelectionRange();if(K.focusNode&&y(K.focusNode,K.focusOffset,K.anchorNode,K.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(K){if(!K.focusNode)return!0;let ne=new Set,fe;for(let Re=K.focusNode;Re;Re=g(Re))ne.add(Re);for(let Re=K.anchorNode;Re;Re=g(Re))if(ne.has(Re)){fe=Re;break}let xe=fe&&this.view.docView.nearestDesc(fe);if(xe&&xe.ignoreMutation({type:"selection",target:fe.nodeType==3?fe.parentNode:fe}))return this.setCurSelection(),!0}flush(){let{view:K}=this;if(!K.docView||this.flushingSoon>-1)return;let ne=this.observer?this.observer.takeRecords():[];this.queue.length&&(ne=this.queue.concat(ne),this.queue.length=0);let fe=K.domSelectionRange(),xe=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(fe)&&Eo(K)&&!this.ignoreSelectionChange(fe),Re=-1,nt=-1,Q=!1,Pe=[];if(K.editable)for(let ut=0;ut<ne.length;ut++){let It=this.registerMutation(ne[ut],Pe);It&&(Re=Re<0?It.from:Math.min(It.from,Re),nt=nt<0?It.to:Math.max(It.to,nt),It.typeOver&&(Q=!0))}if(U&&Pe.length>1){let ut=Pe.filter(It=>It.nodeName=="BR");if(ut.length==2){let It=ut[0],Ft=ut[1];It.parentNode&&It.parentNode.parentNode==Ft.parentNode?Ft.remove():It.remove()}}let Ze=null;Re<0&&xe&&K.input.lastFocus>Date.now()-200&&Math.max(K.input.lastTouch,K.input.lastClick.time)<Date.now()-300&&_(fe)&&(Ze=Zt(K))&&Ze.eq(o.Y1.near(K.state.doc.resolve(0),1))?(K.input.lastFocus=0,Kn(K),this.currentSelection.set(fe),K.scrollToSelection()):(Re>-1||xe)&&(Re>-1&&(K.docView.markDirty(Re,nt),Io(K)),this.handleDOMChange(Re,nt,Q,Pe),K.docView&&K.docView.dirty?K.updateState(K.state):this.currentSelection.eq(fe)||Kn(K),this.currentSelection.set(fe))}registerMutation(K,ne){if(ne.indexOf(K.target)>-1)return null;let fe=this.view.docView.nearestDesc(K.target);if(K.type=="attributes"&&(fe==this.view.docView||K.attributeName=="contenteditable"||K.attributeName=="style"&&!K.oldValue&&!K.target.getAttribute("style"))||!fe||fe.ignoreMutation(K))return null;if(K.type=="childList"){for(let ut=0;ut<K.addedNodes.length;ut++)ne.push(K.addedNodes[ut]);if(fe.contentDOM&&fe.contentDOM!=fe.dom&&!fe.contentDOM.contains(K.target))return{from:fe.posBefore,to:fe.posAfter};let xe=K.previousSibling,Re=K.nextSibling;if(A&&L<=11&&K.addedNodes.length)for(let ut=0;ut<K.addedNodes.length;ut++){let{previousSibling:It,nextSibling:Ft}=K.addedNodes[ut];(!It||Array.prototype.indexOf.call(K.addedNodes,It)<0)&&(xe=It),(!Ft||Array.prototype.indexOf.call(K.addedNodes,Ft)<0)&&(Re=Ft)}let nt=xe&&xe.parentNode==K.target?c(xe)+1:0,Q=fe.localPosFromDOM(K.target,nt,-1),Pe=Re&&Re.parentNode==K.target?c(Re):K.target.childNodes.length,Ze=fe.localPosFromDOM(K.target,Pe,1);return{from:Q,to:Ze}}else return K.type=="attributes"?{from:fe.posAtStart-fe.border,to:fe.posAtEnd+fe.border}:{from:fe.posAtStart,to:fe.posAtEnd,typeOver:K.target.nodeValue==K.oldValue}}}let Yo=new WeakMap,$o=!1;function Io(V){if(!Yo.has(V)&&(Yo.set(V,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(V.dom).whiteSpace)!==-1)){if(V.requiresGeckoHackNode=U,$o)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),$o=!0}}function ot(V){let K;function ne(Pe){Pe.preventDefault(),Pe.stopImmediatePropagation(),K=Pe.getTargetRanges()[0]}V.dom.addEventListener("beforeinput",ne,!0),document.execCommand("indent"),V.dom.removeEventListener("beforeinput",ne,!0);let fe=K.startContainer,xe=K.startOffset,Re=K.endContainer,nt=K.endOffset,Q=V.domAtPos(V.state.selection.anchor);return y(Q.node,Q.offset,Re,nt)&&([fe,xe,Re,nt]=[Re,nt,fe,xe]),{anchorNode:fe,anchorOffset:xe,focusNode:Re,focusOffset:nt}}function lt(V,K,ne){let{node:fe,fromOffset:xe,toOffset:Re,from:nt,to:Q}=V.docView.parseRange(K,ne),Pe=V.domSelectionRange(),Ze,ut=Pe.anchorNode;if(ut&&V.dom.contains(ut.nodeType==1?ut:ut.parentNode)&&(Ze=[{node:ut,offset:Pe.anchorOffset}],_(Pe)||Ze.push({node:Pe.focusNode,offset:Pe.focusOffset})),G&&V.input.lastKeyCode===8)for(let Pr=Re;Pr>xe;Pr--){let co=fe.childNodes[Pr-1],eo=co.pmViewDesc;if(co.nodeName=="BR"&&!eo){Re=Pr;break}if(!eo||eo.size)break}let It=V.state.doc,Ft=V.someProp("domParser")||f.aw.fromSchema(V.state.schema),Ht=It.resolve(nt),hn=null,Kt=Ft.parse(fe,{topNode:Ht.parent,topMatch:Ht.parent.contentMatchAt(Ht.index()),topOpen:!0,from:xe,to:Re,preserveWhitespace:Ht.parent.type.whitespace=="pre"?"full":!0,findPositions:Ze,ruleFromNode:St,context:Ht});if(Ze&&Ze[0].pos!=null){let Pr=Ze[0].pos,co=Ze[1]&&Ze[1].pos;co==null&&(co=Pr),hn={anchor:Pr+nt,head:co+nt}}return{doc:Kt,sel:hn,from:nt,to:Q}}function St(V){let K=V.pmViewDesc;if(K)return K.parseRule();if(V.nodeName=="BR"&&V.parentNode){if(q&&/^(ul|ol)$/i.test(V.parentNode.nodeName)){let ne=document.createElement("div");return ne.appendChild(document.createElement("li")),{skip:ne}}else if(V.parentNode.lastChild==V||q&&/^(tr|table)$/i.test(V.parentNode.nodeName))return{ignore:!0}}else if(V.nodeName=="IMG"&&V.getAttribute("mark-placeholder"))return{ignore:!0};return null}function an(V,K,ne,fe,xe){if(K<0){let Qr=V.input.lastSelectionTime>Date.now()-50?V.input.lastSelectionOrigin:null,$i=Zt(V,Qr);if($i&&!V.state.selection.eq($i)){if(G&&j&&V.input.lastKeyCode===13&&Date.now()-100<V.input.lastKeyCodeTime&&V.someProp("handleKeyDown",_a=>_a(V,d(13,"Enter"))))return;let Ui=V.state.tr.setSelection($i);Qr=="pointer"?Ui.setMeta("pointer",!0):Qr=="key"&&Ui.scrollIntoView(),V.dispatch(Ui)}return}let Re=V.state.doc.resolve(K),nt=Re.sharedDepth(ne);K=Re.before(nt+1),ne=V.state.doc.resolve(ne).after(nt+1);let Q=V.state.selection,Pe=lt(V,K,ne),Ze=V.state.doc,ut=Ze.slice(Pe.from,Pe.to),It,Ft;V.input.lastKeyCode===8&&Date.now()-100<V.input.lastKeyCodeTime?(It=V.state.selection.to,Ft="end"):(It=V.state.selection.from,Ft="start"),V.input.lastKeyCode=null;let Ht=zn(ut.content,Pe.doc.content,Pe.from,It,Ft);if((J&&V.input.lastIOSEnter>Date.now()-225||j)&&xe.some(Qr=>Qr.nodeName=="DIV"||Qr.nodeName=="P"||Qr.nodeName=="LI")&&(!Ht||Ht.endA>=Ht.endB)&&V.someProp("handleKeyDown",Qr=>Qr(V,d(13,"Enter")))){V.input.lastIOSEnter=0;return}if(!Ht)if(fe&&Q instanceof o.Bs&&!Q.empty&&Q.$head.sameParent(Q.$anchor)&&!V.composing&&!(Pe.sel&&Pe.sel.anchor!=Pe.sel.head))Ht={start:Q.from,endA:Q.to,endB:Q.to};else{if(Pe.sel){let Qr=gn(V,V.state.doc,Pe.sel);Qr&&!Qr.eq(V.state.selection)&&V.dispatch(V.state.tr.setSelection(Qr))}return}if(G&&V.cursorWrapper&&Pe.sel&&Pe.sel.anchor==V.cursorWrapper.deco.from&&Pe.sel.head==Pe.sel.anchor){let Qr=Ht.endB-Ht.start;Pe.sel={anchor:Pe.sel.anchor+Qr,head:Pe.sel.anchor+Qr}}V.input.domChangeCount++,V.state.selection.from<V.state.selection.to&&Ht.start==Ht.endB&&V.state.selection instanceof o.Bs&&(Ht.start>V.state.selection.from&&Ht.start<=V.state.selection.from+2&&V.state.selection.from>=Pe.from?Ht.start=V.state.selection.from:Ht.endA<V.state.selection.to&&Ht.endA>=V.state.selection.to-2&&V.state.selection.to<=Pe.to&&(Ht.endB+=V.state.selection.to-Ht.endA,Ht.endA=V.state.selection.to)),A&&L<=11&&Ht.endB==Ht.start+1&&Ht.endA==Ht.start&&Ht.start>Pe.from&&Pe.doc.textBetween(Ht.start-Pe.from-1,Ht.start-Pe.from+1)==" \xA0"&&(Ht.start--,Ht.endA--,Ht.endB--);let hn=Pe.doc.resolveNoCache(Ht.start-Pe.from),Kt=Pe.doc.resolveNoCache(Ht.endB-Pe.from),Pr=Ze.resolve(Ht.start),co=hn.sameParent(Kt)&&hn.parent.inlineContent&&Pr.end()>=Ht.endA,eo;if((J&&V.input.lastIOSEnter>Date.now()-225&&(!co||xe.some(Qr=>Qr.nodeName=="DIV"||Qr.nodeName=="P"))||!co&&hn.pos<Pe.doc.content.size&&(eo=o.Y1.findFrom(Pe.doc.resolve(hn.pos+1),1,!0))&&eo.head==Kt.pos)&&V.someProp("handleKeyDown",Qr=>Qr(V,d(13,"Enter")))){V.input.lastIOSEnter=0;return}if(V.state.selection.anchor>Ht.start&&xn(Ze,Ht.start,Ht.endA,hn,Kt)&&V.someProp("handleKeyDown",Qr=>Qr(V,d(8,"Backspace")))){j&&G&&V.domObserver.suppressSelectionUpdates();return}G&&j&&Ht.endB==Ht.start&&(V.input.lastAndroidDelete=Date.now()),j&&!co&&hn.start()!=Kt.start()&&Kt.parentOffset==0&&hn.depth==Kt.depth&&Pe.sel&&Pe.sel.anchor==Pe.sel.head&&Pe.sel.head==Ht.endA&&(Ht.endB-=2,Kt=Pe.doc.resolveNoCache(Ht.endB-Pe.from),setTimeout(()=>{V.someProp("handleKeyDown",function(Qr){return Qr(V,d(13,"Enter"))})},20));let Rr=Ht.start,Ir=Ht.endA,zo,ki,Ki;if(co){if(hn.pos==Kt.pos)A&&L<=11&&hn.parentOffset==0&&(V.domObserver.suppressSelectionUpdates(),setTimeout(()=>Kn(V),20)),zo=V.state.tr.delete(Rr,Ir),ki=Ze.resolve(Ht.start).marksAcross(Ze.resolve(Ht.endA));else if(Ht.endA==Ht.endB&&(Ki=On(hn.parent.content.cut(hn.parentOffset,Kt.parentOffset),Pr.parent.content.cut(Pr.parentOffset,Ht.endA-Pr.start()))))zo=V.state.tr,Ki.type=="add"?zo.addMark(Rr,Ir,Ki.mark):zo.removeMark(Rr,Ir,Ki.mark);else if(hn.parent.child(hn.index()).isText&&hn.index()==Kt.index()-(Kt.textOffset?0:1)){let Qr=hn.parent.textBetween(hn.parentOffset,Kt.parentOffset);if(V.someProp("handleTextInput",$i=>$i(V,Rr,Ir,Qr)))return;zo=V.state.tr.insertText(Qr,Rr,Ir)}}if(zo||(zo=V.state.tr.replace(Rr,Ir,Pe.doc.slice(Ht.start-Pe.from,Ht.endB-Pe.from))),Pe.sel){let Qr=gn(V,zo.doc,Pe.sel);Qr&&!(G&&j&&V.composing&&Qr.empty&&(Ht.start!=Ht.endB||V.input.lastAndroidDelete<Date.now()-100)&&(Qr.head==Rr||Qr.head==zo.mapping.map(Ir)-1)||A&&Qr.empty&&Qr.head==Rr)&&zo.setSelection(Qr)}ki&&zo.ensureMarks(ki),V.dispatch(zo.scrollIntoView())}function gn(V,K,ne){return Math.max(ne.anchor,ne.head)>K.content.size?null:go(V,K.resolve(ne.anchor),K.resolve(ne.head))}function On(V,K){let ne=V.firstChild.marks,fe=K.firstChild.marks,xe=ne,Re=fe,nt,Q,Pe;for(let ut=0;ut<fe.length;ut++)xe=fe[ut].removeFromSet(xe);for(let ut=0;ut<ne.length;ut++)Re=ne[ut].removeFromSet(Re);if(xe.length==1&&Re.length==0)Q=xe[0],nt="add",Pe=ut=>ut.mark(Q.addToSet(ut.marks));else if(xe.length==0&&Re.length==1)Q=Re[0],nt="remove",Pe=ut=>ut.mark(Q.removeFromSet(ut.marks));else return null;let Ze=[];for(let ut=0;ut<K.childCount;ut++)Ze.push(Pe(K.child(ut)));if(f.HY.from(Ze).eq(V))return{mark:Q,type:nt}}function xn(V,K,ne,fe,xe){if(!fe.parent.isTextblock||ne-K<=xe.pos-fe.pos||Fn(fe,!0,!1)<xe.pos)return!1;let Re=V.resolve(K);if(Re.parentOffset<Re.parent.content.size||!Re.parent.isTextblock)return!1;let nt=V.resolve(Fn(Re,!0,!0));return!nt.parent.isTextblock||nt.pos>ne||Fn(nt,!0,!1)<ne?!1:fe.parent.content.cut(fe.parentOffset).eq(nt.parent.content)}function Fn(V,K,ne){let fe=V.depth,xe=K?V.end():V.pos;for(;fe>0&&(K||V.indexAfter(fe)==V.node(fe).childCount);)fe--,xe++,K=!1;if(ne){let Re=V.node(fe).maybeChild(V.indexAfter(fe));for(;Re&&!Re.isLeaf;)Re=Re.firstChild,xe++}return xe}function zn(V,K,ne,fe,xe){let Re=V.findDiffStart(K,ne);if(Re==null)return null;let{a:nt,b:Q}=V.findDiffEnd(K,ne+V.size,ne+K.size);if(xe=="end"){let Pe=Math.max(0,Re-Math.min(nt,Q));fe-=nt+Pe-Re}if(nt<Re&&V.size<K.size){let Pe=fe<=Re&&fe>=nt?Re-fe:0;Re-=Pe,Q=Re+(Q-nt),nt=Re}else if(Q<Re){let Pe=fe<=Re&&fe>=Q?Re-fe:0;Re-=Pe,nt=Re+(nt-Q),Q=Re}return{start:Re,endA:nt,endB:Q}}const br=null,ir=null,Zr=null;class Xr{constructor(K,ne){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new ti,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=ne,this.state=ne.state,this.directPlugins=ne.plugins||[],this.directPlugins.forEach(Yr),this.dispatch=this.dispatch.bind(this),this.dom=K&&K.mount||document.createElement("div"),K&&(K.appendChild?K.appendChild(this.dom):typeof K=="function"?K(this.dom):K.mount&&(this.mounted=!0)),this.editable=xr(this),kr(this),this.nodeViews=gr(this),this.docView=H(this.state.doc,Tr(this),yr(this),this.dom,this),this.domObserver=new Ao(this,(fe,xe,Re,nt)=>an(this,fe,xe,Re,nt)),this.domObserver.start(),ni(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let K=this._props;this._props={};for(let ne in K)this._props[ne]=K[ne];this._props.state=this.state}return this._props}update(K){K.handleDOMEvents!=this._props.handleDOMEvents&&yo(this);let ne=this._props;this._props=K,K.plugins&&(K.plugins.forEach(Yr),this.directPlugins=K.plugins),this.updateStateInner(K.state,ne)}setProps(K){let ne={};for(let fe in this._props)ne[fe]=this._props[fe];ne.state=this.state;for(let fe in K)ne[fe]=K[fe];this.update(ne)}updateState(K){this.updateStateInner(K,this._props)}updateStateInner(K,ne){let fe=this.state,xe=!1,Re=!1;K.storedMarks&&this.composing&&(Je(this),Re=!0),this.state=K;let nt=fe.plugins!=K.plugins||this._props.plugins!=ne.plugins;if(nt||this._props.plugins!=ne.plugins||this._props.nodeViews!=ne.nodeViews){let Ft=gr(this);Vr(Ft,this.nodeViews)&&(this.nodeViews=Ft,xe=!0)}(nt||ne.handleDOMEvents!=this._props.handleDOMEvents)&&yo(this),this.editable=xr(this),kr(this);let Q=yr(this),Pe=Tr(this),Ze=fe.plugins!=K.plugins&&!fe.doc.eq(K.doc)?"reset":K.scrollToSelection>fe.scrollToSelection?"to selection":"preserve",ut=xe||!this.docView.matchesNode(K.doc,Pe,Q);(ut||!K.selection.eq(fe.selection))&&(Re=!0);let It=Ze=="preserve"&&Re&&this.dom.style.overflowAnchor==null&&Z(this);if(Re){this.domObserver.stop();let Ft=ut&&(A||G)&&!this.composing&&!fe.selection.empty&&!K.selection.empty&&Mr(fe.selection,K.selection);if(ut){let Ht=G?this.trackWrites=this.domSelectionRange().focusNode:null;(xe||!this.docView.update(K.doc,Pe,Q,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=H(K.doc,Pe,Q,this.dom,this)),Ht&&!this.trackWrites&&(Ft=!0)}Ft||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&po(this))?Kn(this,Ft):(mo(this,K.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(fe),Ze=="reset"?this.dom.scrollTop=0:Ze=="to selection"?this.scrollToSelection():It&&ae(It)}scrollToSelection(){let K=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",ne=>ne(this)))if(this.state.selection instanceof o.qv){let ne=this.docView.domAfterPos(this.state.selection.from);ne.nodeType==1&&te(this,ne.getBoundingClientRect(),K)}else te(this,this.coordsAtPos(this.state.selection.head,1),K)}destroyPluginViews(){let K;for(;K=this.pluginViews.pop();)K.destroy&&K.destroy()}updatePluginViews(K){if(!K||K.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let ne=0;ne<this.directPlugins.length;ne++){let fe=this.directPlugins[ne];fe.spec.view&&this.pluginViews.push(fe.spec.view(this))}for(let ne=0;ne<this.state.plugins.length;ne++){let fe=this.state.plugins[ne];fe.spec.view&&this.pluginViews.push(fe.spec.view(this))}}else for(let ne=0;ne<this.pluginViews.length;ne++){let fe=this.pluginViews[ne];fe.update&&fe.update(this,K)}}someProp(K,ne){let fe=this._props&&this._props[K],xe;if(fe!=null&&(xe=ne?ne(fe):fe))return xe;for(let nt=0;nt<this.directPlugins.length;nt++){let Q=this.directPlugins[nt].props[K];if(Q!=null&&(xe=ne?ne(Q):Q))return xe}let Re=this.state.plugins;if(Re)for(let nt=0;nt<Re.length;nt++){let Q=Re[nt].props[K];if(Q!=null&&(xe=ne?ne(Q):Q))return xe}}hasFocus(){if(A){let K=this.root.activeElement;if(K==this.dom)return!0;if(!K||!this.dom.contains(K))return!1;for(;K&&this.dom!=K&&this.dom.contains(K);){if(K.contentEditable=="false")return!1;K=K.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&_e(this.dom),Kn(this),this.domObserver.start()}get root(){let K=this._root;if(K==null){for(let ne=this.dom.parentNode;ne;ne=ne.parentNode)if(ne.nodeType==9||ne.nodeType==11&&ne.host)return ne.getSelection||(Object.getPrototypeOf(ne).getSelection=()=>ne.ownerDocument.getSelection()),this._root=ne}return K||document}posAtCoords(K){return He(this,K)}coordsAtPos(K,ne=1){return _t(this,K,ne)}domAtPos(K,ne=0){return this.docView.domFromPos(K,ne)}nodeDOM(K){let ne=this.docView.descAt(K);return ne?ne.nodeDOM:null}posAtDOM(K,ne,fe=-1){let xe=this.docView.posFromDOM(K,ne,fe);if(xe==null)throw new RangeError("DOM position not inside the editor");return xe}endOfTextblock(K,ne){return yt(this,ne||this.state,K)}pasteHTML(K,ne){return fn(this,"",K,!1,ne||new ClipboardEvent("paste"))}pasteText(K,ne){return fn(this,K,null,!0,ne||new ClipboardEvent("paste"))}destroy(){this.docView&&(Fo(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],yr(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return this.docView==null}dispatchEvent(K){return ai(this,K)}dispatch(K){let ne=this._props.dispatchTransaction;ne?ne.call(this,K):this.updateState(this.state.apply(K))}domSelectionRange(){return q&&this.root.nodeType===11&&s(this.dom.ownerDocument)==this.dom?ot(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function Tr(V){let K=Object.create(null);return K.class="ProseMirror",K.contenteditable=String(V.editable),K.translate="no",V.someProp("attributes",ne=>{if(typeof ne=="function"&&(ne=ne(V.state)),ne)for(let fe in ne)fe=="class"&&(K.class+=" "+ne[fe]),fe=="style"?K.style=(K.style?K.style+";":"")+ne[fe]:!K[fe]&&fe!="contenteditable"&&fe!="nodeName"&&(K[fe]=String(ne[fe]))}),[ke.node(0,V.state.doc.content.size,K)]}function kr(V){if(V.markCursor){let K=document.createElement("img");K.className="ProseMirror-separator",K.setAttribute("mark-placeholder","true"),K.setAttribute("alt",""),V.cursorWrapper={dom:K,deco:ke.widget(V.state.selection.head,K,{raw:!0,marks:V.markCursor})}}else V.cursorWrapper=null}function xr(V){return!V.someProp("editable",K=>K(V.state)===!1)}function Mr(V,K){let ne=Math.min(V.$anchor.sharedDepth(V.head),K.$anchor.sharedDepth(K.head));return V.$anchor.start(ne)!=K.$anchor.start(ne)}function gr(V){let K=Object.create(null);function ne(fe){for(let xe in fe)Object.prototype.hasOwnProperty.call(K,xe)||(K[xe]=fe[xe])}return V.someProp("nodeViews",ne),V.someProp("markViews",ne),K}function Vr(V,K){let ne=0,fe=0;for(let xe in V){if(V[xe]!=K[xe])return!0;ne++}for(let xe in K)fe++;return ne!=fe}function Yr(V){if(V.spec.state||V.spec.filterTransaction||V.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}},83757:(z,u,e)=>{"use strict";e.d(u,{ZP:()=>it,kY:()=>tt});var o=e(98661),f=e(61688);const l=()=>{},c=l(),g=Object,v=Qe=>Qe===c,E=Qe=>typeof Qe=="function",y=(Qe,Ae)=>ur(ur({},Qe),Ae),p=Qe=>E(Qe.then),O=new WeakMap;let S=0;const x=Qe=>{const Ae=typeof Qe,H=Qe&&Qe.constructor,ee=H==Date;let de,Ee;if(g(Qe)===Qe&&!ee&&H!=RegExp){if(de=O.get(Qe),de)return de;if(de=++S+"~",O.set(Qe,de),H==Array){for(de="@",Ee=0;Ee<Qe.length;Ee++)de+=x(Qe[Ee])+",";O.set(Qe,de)}if(H==g){de="#";const Me=g.keys(Qe).sort();for(;!v(Ee=Me.pop());)v(Qe[Ee])||(de+=Ee+":"+x(Qe[Ee])+",");O.set(Qe,de)}}else de=ee?Qe.toJSON():Ae=="symbol"?Qe.toString():Ae=="string"?JSON.stringify(Qe):""+Qe;return de},T=new WeakMap,_={},d={},s="undefined",w=typeof window!=s,P=typeof document!=s,I=()=>w&&typeof window.requestAnimationFrame!=s,D=(Qe,Ae)=>{const H=T.get(Qe);return[()=>!v(Ae)&&Qe.get(Ae)||_,ee=>{if(!v(Ae)){const de=Qe.get(Ae);Ae in d||(d[Ae]=de),H[5](Ae,y(de,ee),de||_)}},H[6],()=>!v(Ae)&&Ae in d?d[Ae]:!v(Ae)&&Qe.get(Ae)||_]};let N=!0;const C=()=>N,[A,L]=w&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[l,l],U=()=>{const Qe=P&&document.visibilityState;return v(Qe)||Qe!=="hidden"},W=Qe=>(P&&document.addEventListener("visibilitychange",Qe),A("focus",Qe),()=>{P&&document.removeEventListener("visibilitychange",Qe),L("focus",Qe)}),G=Qe=>{const Ae=()=>{N=!0,Qe()},H=()=>{N=!1};return A("online",Ae),A("offline",H),()=>{L("online",Ae),L("offline",H)}},$={isOnline:C,isVisible:U},q={initFocus:W,initReconnect:G},J=!o.default.useId,R=!w||"Deno"in window,j=Qe=>I()?window.requestAnimationFrame(Qe):setTimeout(Qe,1),ie=R?o.useEffect:o.useLayoutEffect,le=typeof navigator!="undefined"&&navigator.connection,ye=!R&&le&&(["slow-2g","2g"].includes(le.effectiveType)||le.saveData),ue=Qe=>{if(E(Qe))try{Qe=Qe()}catch(H){Qe=""}const Ae=Qe;return Qe=typeof Qe=="string"?Qe:(Array.isArray(Qe)?Qe.length:Qe)?x(Qe):"",[Qe,Ae]};let oe=0;const te=()=>++oe,Z=0,re=1,ae=2;var be={__proto__:null,ERROR_REVALIDATE_EVENT:3,FOCUS_EVENT:Z,MUTATE_EVENT:ae,RECONNECT_EVENT:re};function _e(...Qe){return Mu(this,null,function*(){const[Ae,H,ee,de]=Qe,Ee=y({populateCache:!0,throwOnError:!0},typeof de=="boolean"?{revalidate:de}:de||{});let Me=Ee.populateCache;const $e=Ee.rollbackOnError;let dt=Ee.optimisticData;const ct=Ee.revalidate!==!1,wt=Mn=>typeof $e=="function"?$e(Mn):$e!==!1,Mt=Ee.throwOnError;if(E(H)){const Mn=H,$n=[],mr=Ae.keys();for(const jn of mr)!/^\$(inf|sub)\$/.test(jn)&&Mn(Ae.get(jn)._k)&&$n.push(jn);return Promise.all($n.map(pn))}return pn(H);function pn(Mn){return Mu(this,null,function*(){const[$n]=ue(Mn);if(!$n)return;const[mr,jn]=D(Ae,$n),[dr,nn,jr,Dr]=T.get(Ae),At=dr[$n],Wt=()=>ct&&(delete jr[$n],delete Dr[$n],At&&At[0])?At[0](ae).then(()=>mr().data):mr().data;if(Qe.length<3)return Wt();let Zt=ee,_n;const Kn=te();nn[$n]=[Kn,0];const wr=!v(dt),Nr=mr(),no=Nr.data,Jr=Nr._c,$r=v(Jr)?no:Jr;if(wr&&(dt=E(dt)?dt($r,no):dt,jn({data:dt,_c:$r})),E(Zt))try{Zt=Zt($r)}catch(mo){_n=mo}if(Zt&&p(Zt))if(Zt=yield Zt.catch(mo=>{_n=mo}),Kn!==nn[$n][0]){if(_n)throw _n;return Zt}else _n&&wr&&wt(_n)&&(Me=!0,Zt=$r,jn({data:Zt,_c:c}));Me&&(_n||(E(Me)&&(Zt=Me(Zt,$r)),jn({data:Zt,error:c,_c:c}))),nn[$n][1]=te();const bo=yield Wt();if(jn({_c:c}),_n){if(Mt)throw _n;return}return Me?bo:Zt})}})}const pe=(Qe,Ae)=>{for(const H in Qe)Qe[H][0]&&Qe[H][0](Ae)},me=(Qe,Ae)=>{if(!T.has(Qe)){const H=y(q,Ae),ee={},de=_e.bind(c,Qe);let Ee=l;const Me={},$e=(wt,Mt)=>{const pn=Me[wt]||[];return Me[wt]=pn,pn.push(Mt),()=>pn.splice(pn.indexOf(Mt),1)},dt=(wt,Mt,pn)=>{Qe.set(wt,Mt);const Mn=Me[wt];if(Mn)for(const $n of Mn)$n(Mt,pn)},ct=()=>{if(!T.has(Qe)&&(T.set(Qe,[ee,{},{},{},de,dt,$e]),!R)){const wt=H.initFocus(setTimeout.bind(c,pe.bind(c,ee,Z))),Mt=H.initReconnect(setTimeout.bind(c,pe.bind(c,ee,re)));Ee=()=>{wt&&wt(),Mt&&Mt(),T.delete(Qe)}}};return ct(),[Qe,de,ct,Ee]}return[Qe,T.get(Qe)[4]]},Te=(Qe,Ae,H,ee,de)=>{const Ee=H.errorRetryCount,Me=de.retryCount,$e=~~((Math.random()+.5)*(1<<(Me<8?Me:8)))*H.errorRetryInterval;!v(Ee)&&Me>Ee||setTimeout(ee,$e,de)},ve=(Qe,Ae)=>x(Qe)==x(Ae),[ce,Le]=me(new Map),Ne=y({onLoadingSlow:l,onSuccess:l,onError:l,onErrorRetry:Te,onDiscarded:l,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:ye?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:ye?5e3:3e3,compare:ve,isPaused:()=>!1,cache:ce,mutate:Le,fallback:{}},$),He=(Qe,Ae)=>{const H=y(Qe,Ae);if(Ae){const{use:ee,fallback:de}=Qe,{use:Ee,fallback:Me}=Ae;ee&&Ee&&(H.use=ee.concat(Ee)),de&&Me&&(H.fallback=y(de,Me))}return H},ze=(0,o.createContext)({}),Xe=Qe=>{const{value:Ae}=Qe,H=(0,o.useContext)(ze),ee=E(Ae),de=(0,o.useMemo)(()=>ee?Ae(H):Ae,[ee,H,Ae]),Ee=(0,o.useMemo)(()=>ee?de:He(H,de),[ee,H,de]),Me=de&&de.provider,$e=(0,o.useRef)(c);Me&&!$e.current&&($e.current=me(Me(Ee.cache||ce),de));const dt=$e.current;return dt&&(Ee.cache=dt[0],Ee.mutate=dt[1]),ie(()=>{if(dt)return dt[2]&&dt[2](),dt[3]},[]),(0,o.createElement)(ze.Provider,y(Qe,{value:Ee}))},_t=w&&window.__SWR_DEVTOOLS_USE__,we=_t?window.__SWR_DEVTOOLS_USE__:[],We=()=>{_t&&(window.__SWR_DEVTOOLS_REACT__=o.default)},Ie=Qe=>E(Qe[1])?[Qe[0],Qe[1],Qe[2]||{}]:[Qe[0],null,(Qe[1]===null?Qe[2]:Qe[1])||{}],tt=()=>y(Ne,(0,o.useContext)(ze)),et=(Qe,Ae)=>{const[H,ee]=ue(Qe),[,,,de]=T.get(ce);if(de[H])return de[H];const Ee=Ae(ee);return de[H]=Ee,Ee},ht=Qe=>(Ae,H,ee)=>Qe(Ae,H&&((...Ee)=>{const[Me]=ue(Ae),[,,,$e]=T.get(ce),dt=$e[Me];return v(dt)?H(...Ee):(delete $e[Me],dt)}),ee),vt=we.concat(ht),Lt=Qe=>function(...H){const ee=tt(),[de,Ee,Me]=Ie(H),$e=He(ee,Me);let dt=Qe;const{use:ct}=$e,wt=(ct||[]).concat(vt);for(let Mt=wt.length;Mt--;)dt=wt[Mt](dt);return dt(de,Ee||$e.fetcher||null,$e)},$t=Qe=>{const Ae=useState({})[1],H=useRef(!1),ee=useRef(Qe),de=useRef({data:!1,error:!1,isValidating:!1}),Ee=useCallback(Me=>{let $e=!1;const dt=ee.current;for(const ct in Me){const wt=ct;dt[wt]!==Me[wt]&&(dt[wt]=Me[wt],de.current[wt]&&($e=!0))}$e&&!H.current&&(J?Ae({}):React.startTransition(()=>Ae({})))},[Ae]);return ie(()=>(H.current=!1,()=>{H.current=!0})),[ee,de.current,Ee]},yt=(Qe,Ae,H)=>{const ee=Ae[Qe]||(Ae[Qe]=[]);return ee.push(H),()=>{const de=ee.indexOf(H);de>=0&&(ee[de]=ee[ee.length-1],ee.pop())}},he=(Qe,Ae)=>(...H)=>{const[ee,de,Ee]=Ie(H),Me=(Ee.use||[]).concat(Ae);return Qe(ee,de,Vo(ur({},Ee),{use:Me}))};We();const je=Qe=>serialize(Qe)[0],st=o.default.use||(Qe=>{if(Qe.status==="pending")throw Qe;if(Qe.status==="fulfilled")return Qe.value;throw Qe.status==="rejected"?Qe.reason:(Qe.status="pending",Qe.then(Ae=>{Qe.status="fulfilled",Qe.value=Ae},Ae=>{Qe.status="rejected",Qe.reason=Ae}),Qe)}),De={dedupe:!0},Be=(Qe,Ae,H)=>{const{cache:ee,compare:de,suspense:Ee,fallbackData:Me,revalidateOnMount:$e,revalidateIfStale:dt,refreshInterval:ct,refreshWhenHidden:wt,refreshWhenOffline:Mt,keepPreviousData:pn}=H,[Mn,$n,mr,jn]=T.get(ee),[dr,nn]=ue(Qe),jr=(0,o.useRef)(!1),Dr=(0,o.useRef)(!1),At=(0,o.useRef)(dr),Wt=(0,o.useRef)(Ae),Zt=(0,o.useRef)(H),_n=()=>Zt.current,Kn=()=>_n().isVisible()&&_n().isOnline(),[wr,Nr,no,Jr]=D(ee,dr),$r=(0,o.useRef)({}).current,bo=v(Me)?H.fallback[dr]:Me,mo=(tr,pr)=>{for(const kt in $r){const Vt=kt;if(Vt==="data"){if(!de(tr[Vt],pr[Vt])&&(!v(tr[Vt])||!de(Do,pr[Vt])))return!1}else if(pr[Vt]!==tr[Vt])return!1}return!0},So=(0,o.useMemo)(()=>{const tr=(()=>!dr||!Ae?!1:v($e)?_n().isPaused()||Ee?!1:v(dt)?!0:dt:$e)(),pr=An=>{const Rn=y(An);return delete Rn._k,tr?ur({isValidating:!0,isLoading:!0},Rn):Rn},kt=wr(),Vt=Jr(),en=pr(kt),dn=kt===Vt?en:pr(Vt);let Nn=en;return[()=>{const An=pr(wr());return mo(An,Nn)?(Nn.data=An.data,Nn.isLoading=An.isLoading,Nn.isValidating=An.isValidating,Nn.error=An.error,Nn):(Nn=An,An)},()=>dn]},[ee,dr]),go=(0,f.useSyncExternalStore)((0,o.useCallback)(tr=>no(dr,(pr,kt)=>{mo(kt,pr)||tr()}),[ee,dr]),So[0],So[1]),Eo=!jr.current,ro=Mn[dr]&&Mn[dr].length>0,po=go.data,wo=v(po)?bo:po,ko=go.error,ei=(0,o.useRef)(wo),Do=pn?v(po)?ei.current:po:wo,Uo=(()=>ro&&!v(ko)?!1:Eo&&!v($e)?$e:_n().isPaused()?!1:Ee?v(wo)?!1:dt:v(wo)||dt)(),mn=!!(dr&&Ae&&Eo&&Uo),Dn=v(go.isValidating)?mn:go.isValidating,Wn=v(go.isLoading)?mn:go.isLoading,Hn=(0,o.useCallback)(tr=>Mu(ah,null,function*(){const pr=Wt.current;if(!dr||!pr||Dr.current||_n().isPaused())return!1;let kt,Vt,en=!0;const dn=tr||{},Nn=!mr[dr]||!dn.dedupe,An=()=>J?!Dr.current&&dr===At.current&&jr.current:dr===At.current,Rn={isValidating:!1,isLoading:!1},ft=()=>{Nr(Rn)},Rt=()=>{const tn=mr[dr];tn&&tn[1]===Vt&&delete mr[dr]},zt={isValidating:!0};v(wr().data)&&(zt.isLoading=!0);try{if(Nn&&(Nr(zt),H.loadingTimeout&&v(wr().data)&&setTimeout(()=>{en&&An()&&_n().onLoadingSlow(dr,H)},H.loadingTimeout),mr[dr]=[pr(nn),te()]),[kt,Vt]=mr[dr],kt=yield kt,Nn&&setTimeout(Rt,H.dedupingInterval),!mr[dr]||mr[dr][1]!==Vt)return Nn&&An()&&_n().onDiscarded(dr),!1;Rn.error=c;const tn=$n[dr];if(!v(tn)&&(Vt<=tn[0]||Vt<=tn[1]||tn[1]===0))return ft(),Nn&&An()&&_n().onDiscarded(dr),!1;const vn=wr().data;Rn.data=de(vn,kt)?vn:kt,Nn&&An()&&_n().onSuccess(kt,dr,H)}catch(tn){Rt();const vn=_n(),{shouldRetryOnError:un}=vn;vn.isPaused()||(Rn.error=tn,Nn&&An()&&(vn.onError(tn,dr,vn),(un===!0||E(un)&&un(tn))&&Kn()&&vn.onErrorRetry(tn,dr,vn,wn=>{const Un=Mn[dr];Un&&Un[0]&&Un[0](be.ERROR_REVALIDATE_EVENT,wn)},{retryCount:(dn.retryCount||0)+1,dedupe:!0})))}return en=!1,ft(),!0}),[dr,ee]),vr=(0,o.useCallback)((...tr)=>_e(ee,At.current,...tr),[]);if(ie(()=>{Wt.current=Ae,Zt.current=H,v(po)||(ei.current=po)}),ie(()=>{if(!dr)return;const tr=Hn.bind(c,De);let pr=0;const Vt=yt(dr,Mn,(en,dn={})=>{if(en==be.FOCUS_EVENT){const Nn=Date.now();_n().revalidateOnFocus&&Nn>pr&&Kn()&&(pr=Nn+_n().focusThrottleInterval,tr())}else if(en==be.RECONNECT_EVENT)_n().revalidateOnReconnect&&Kn()&&tr();else{if(en==be.MUTATE_EVENT)return Hn();if(en==be.ERROR_REVALIDATE_EVENT)return Hn(dn)}});return Dr.current=!1,At.current=dr,jr.current=!0,Nr({_k:nn}),Uo&&(v(wo)||R?tr():j(tr)),()=>{Dr.current=!0,Vt()}},[dr]),ie(()=>{let tr;function pr(){const Vt=E(ct)?ct(wr().data):ct;Vt&&tr!==-1&&(tr=setTimeout(kt,Vt))}function kt(){!wr().error&&(wt||_n().isVisible())&&(Mt||_n().isOnline())?Hn(De).then(pr):pr()}return pr(),()=>{tr&&(clearTimeout(tr),tr=-1)}},[ct,wt,Mt,dr]),(0,o.useDebugValue)(Do),Ee&&v(wo)&&dr){if(!J&&R)throw new Error("Fallback data is required when using suspense in SSR.");Wt.current=Ae,Zt.current=H,Dr.current=!1;const tr=jn[dr];if(!v(tr)){const pr=vr(tr);st(pr)}if(v(ko)){const pr=Hn(De);v(Do)||(pr.status="fulfilled",pr.value=!0),st(pr)}else throw ko}return{mutate:vr,get data(){return $r.data=!0,Do},get error(){return $r.error=!0,ko},get isValidating(){return $r.isValidating=!0,Dn},get isLoading(){return $r.isLoading=!0,Wn}}},Ke=g.defineProperty(Xe,"defaultValue",{value:Ne}),it=Lt(Be)},33952:(z,u,e)=>{"use strict";e.d(u,{YG:()=>S,ue:()=>o});for(var o={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},f={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},l=typeof navigator!="undefined"&&/Chrome\/(\d+)/.exec(navigator.userAgent),c=typeof navigator!="undefined"&&/Apple Computer/.test(navigator.vendor),g=typeof navigator!="undefined"&&/Gecko\/\d+/.test(navigator.userAgent),v=typeof navigator!="undefined"&&/Mac/.test(navigator.platform),E=typeof navigator!="undefined"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),y=l&&(v||+l[1]<57)||g&&v,p=0;p<10;p++)o[48+p]=o[96+p]=String(p);for(var p=1;p<=24;p++)o[p+111]="F"+p;for(var p=65;p<=90;p++)o[p]=String.fromCharCode(p+32),f[p]=String.fromCharCode(p);for(var O in o)f.hasOwnProperty(O)||(f[O]=o[O]);function S(x){var T=y&&(x.ctrlKey||x.altKey||x.metaKey)||(c||E)&&x.shiftKey&&x.key&&x.key.length==1,_=!T&&x.key||(x.shiftKey?f:o)[x.keyCode]||x.key||"Unidentified";return _=="Esc"&&(_="Escape"),_=="Del"&&(_="Delete"),_=="Left"&&(_="ArrowLeft"),_=="Up"&&(_="ArrowUp"),_=="Right"&&(_="ArrowRight"),_=="Down"&&(_="ArrowDown"),_}},33600:z=>{"use strict";z.exports=JSON.parse('{"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}')},59323:z=>{"use strict";z.exports=JSON.parse('{"Aacute":"\xC1","aacute":"\xE1","Abreve":"\u0102","abreve":"\u0103","ac":"\u223E","acd":"\u223F","acE":"\u223E\u0333","Acirc":"\xC2","acirc":"\xE2","acute":"\xB4","Acy":"\u0410","acy":"\u0430","AElig":"\xC6","aelig":"\xE6","af":"\u2061","Afr":"\u{1D504}","afr":"\u{1D51E}","Agrave":"\xC0","agrave":"\xE0","alefsym":"\u2135","aleph":"\u2135","Alpha":"\u0391","alpha":"\u03B1","Amacr":"\u0100","amacr":"\u0101","amalg":"\u2A3F","amp":"&","AMP":"&","andand":"\u2A55","And":"\u2A53","and":"\u2227","andd":"\u2A5C","andslope":"\u2A58","andv":"\u2A5A","ang":"\u2220","ange":"\u29A4","angle":"\u2220","angmsdaa":"\u29A8","angmsdab":"\u29A9","angmsdac":"\u29AA","angmsdad":"\u29AB","angmsdae":"\u29AC","angmsdaf":"\u29AD","angmsdag":"\u29AE","angmsdah":"\u29AF","angmsd":"\u2221","angrt":"\u221F","angrtvb":"\u22BE","angrtvbd":"\u299D","angsph":"\u2222","angst":"\xC5","angzarr":"\u237C","Aogon":"\u0104","aogon":"\u0105","Aopf":"\u{1D538}","aopf":"\u{1D552}","apacir":"\u2A6F","ap":"\u2248","apE":"\u2A70","ape":"\u224A","apid":"\u224B","apos":"\'","ApplyFunction":"\u2061","approx":"\u2248","approxeq":"\u224A","Aring":"\xC5","aring":"\xE5","Ascr":"\u{1D49C}","ascr":"\u{1D4B6}","Assign":"\u2254","ast":"*","asymp":"\u2248","asympeq":"\u224D","Atilde":"\xC3","atilde":"\xE3","Auml":"\xC4","auml":"\xE4","awconint":"\u2233","awint":"\u2A11","backcong":"\u224C","backepsilon":"\u03F6","backprime":"\u2035","backsim":"\u223D","backsimeq":"\u22CD","Backslash":"\u2216","Barv":"\u2AE7","barvee":"\u22BD","barwed":"\u2305","Barwed":"\u2306","barwedge":"\u2305","bbrk":"\u23B5","bbrktbrk":"\u23B6","bcong":"\u224C","Bcy":"\u0411","bcy":"\u0431","bdquo":"\u201E","becaus":"\u2235","because":"\u2235","Because":"\u2235","bemptyv":"\u29B0","bepsi":"\u03F6","bernou":"\u212C","Bernoullis":"\u212C","Beta":"\u0392","beta":"\u03B2","beth":"\u2136","between":"\u226C","Bfr":"\u{1D505}","bfr":"\u{1D51F}","bigcap":"\u22C2","bigcirc":"\u25EF","bigcup":"\u22C3","bigodot":"\u2A00","bigoplus":"\u2A01","bigotimes":"\u2A02","bigsqcup":"\u2A06","bigstar":"\u2605","bigtriangledown":"\u25BD","bigtriangleup":"\u25B3","biguplus":"\u2A04","bigvee":"\u22C1","bigwedge":"\u22C0","bkarow":"\u290D","blacklozenge":"\u29EB","blacksquare":"\u25AA","blacktriangle":"\u25B4","blacktriangledown":"\u25BE","blacktriangleleft":"\u25C2","blacktriangleright":"\u25B8","blank":"\u2423","blk12":"\u2592","blk14":"\u2591","blk34":"\u2593","block":"\u2588","bne":"=\u20E5","bnequiv":"\u2261\u20E5","bNot":"\u2AED","bnot":"\u2310","Bopf":"\u{1D539}","bopf":"\u{1D553}","bot":"\u22A5","bottom":"\u22A5","bowtie":"\u22C8","boxbox":"\u29C9","boxdl":"\u2510","boxdL":"\u2555","boxDl":"\u2556","boxDL":"\u2557","boxdr":"\u250C","boxdR":"\u2552","boxDr":"\u2553","boxDR":"\u2554","boxh":"\u2500","boxH":"\u2550","boxhd":"\u252C","boxHd":"\u2564","boxhD":"\u2565","boxHD":"\u2566","boxhu":"\u2534","boxHu":"\u2567","boxhU":"\u2568","boxHU":"\u2569","boxminus":"\u229F","boxplus":"\u229E","boxtimes":"\u22A0","boxul":"\u2518","boxuL":"\u255B","boxUl":"\u255C","boxUL":"\u255D","boxur":"\u2514","boxuR":"\u2558","boxUr":"\u2559","boxUR":"\u255A","boxv":"\u2502","boxV":"\u2551","boxvh":"\u253C","boxvH":"\u256A","boxVh":"\u256B","boxVH":"\u256C","boxvl":"\u2524","boxvL":"\u2561","boxVl":"\u2562","boxVL":"\u2563","boxvr":"\u251C","boxvR":"\u255E","boxVr":"\u255F","boxVR":"\u2560","bprime":"\u2035","breve":"\u02D8","Breve":"\u02D8","brvbar":"\xA6","bscr":"\u{1D4B7}","Bscr":"\u212C","bsemi":"\u204F","bsim":"\u223D","bsime":"\u22CD","bsolb":"\u29C5","bsol":"\\\\","bsolhsub":"\u27C8","bull":"\u2022","bullet":"\u2022","bump":"\u224E","bumpE":"\u2AAE","bumpe":"\u224F","Bumpeq":"\u224E","bumpeq":"\u224F","Cacute":"\u0106","cacute":"\u0107","capand":"\u2A44","capbrcup":"\u2A49","capcap":"\u2A4B","cap":"\u2229","Cap":"\u22D2","capcup":"\u2A47","capdot":"\u2A40","CapitalDifferentialD":"\u2145","caps":"\u2229\uFE00","caret":"\u2041","caron":"\u02C7","Cayleys":"\u212D","ccaps":"\u2A4D","Ccaron":"\u010C","ccaron":"\u010D","Ccedil":"\xC7","ccedil":"\xE7","Ccirc":"\u0108","ccirc":"\u0109","Cconint":"\u2230","ccups":"\u2A4C","ccupssm":"\u2A50","Cdot":"\u010A","cdot":"\u010B","cedil":"\xB8","Cedilla":"\xB8","cemptyv":"\u29B2","cent":"\xA2","centerdot":"\xB7","CenterDot":"\xB7","cfr":"\u{1D520}","Cfr":"\u212D","CHcy":"\u0427","chcy":"\u0447","check":"\u2713","checkmark":"\u2713","Chi":"\u03A7","chi":"\u03C7","circ":"\u02C6","circeq":"\u2257","circlearrowleft":"\u21BA","circlearrowright":"\u21BB","circledast":"\u229B","circledcirc":"\u229A","circleddash":"\u229D","CircleDot":"\u2299","circledR":"\xAE","circledS":"\u24C8","CircleMinus":"\u2296","CirclePlus":"\u2295","CircleTimes":"\u2297","cir":"\u25CB","cirE":"\u29C3","cire":"\u2257","cirfnint":"\u2A10","cirmid":"\u2AEF","cirscir":"\u29C2","ClockwiseContourIntegral":"\u2232","CloseCurlyDoubleQuote":"\u201D","CloseCurlyQuote":"\u2019","clubs":"\u2663","clubsuit":"\u2663","colon":":","Colon":"\u2237","Colone":"\u2A74","colone":"\u2254","coloneq":"\u2254","comma":",","commat":"@","comp":"\u2201","compfn":"\u2218","complement":"\u2201","complexes":"\u2102","cong":"\u2245","congdot":"\u2A6D","Congruent":"\u2261","conint":"\u222E","Conint":"\u222F","ContourIntegral":"\u222E","copf":"\u{1D554}","Copf":"\u2102","coprod":"\u2210","Coproduct":"\u2210","copy":"\xA9","COPY":"\xA9","copysr":"\u2117","CounterClockwiseContourIntegral":"\u2233","crarr":"\u21B5","cross":"\u2717","Cross":"\u2A2F","Cscr":"\u{1D49E}","cscr":"\u{1D4B8}","csub":"\u2ACF","csube":"\u2AD1","csup":"\u2AD0","csupe":"\u2AD2","ctdot":"\u22EF","cudarrl":"\u2938","cudarrr":"\u2935","cuepr":"\u22DE","cuesc":"\u22DF","cularr":"\u21B6","cularrp":"\u293D","cupbrcap":"\u2A48","cupcap":"\u2A46","CupCap":"\u224D","cup":"\u222A","Cup":"\u22D3","cupcup":"\u2A4A","cupdot":"\u228D","cupor":"\u2A45","cups":"\u222A\uFE00","curarr":"\u21B7","curarrm":"\u293C","curlyeqprec":"\u22DE","curlyeqsucc":"\u22DF","curlyvee":"\u22CE","curlywedge":"\u22CF","curren":"\xA4","curvearrowleft":"\u21B6","curvearrowright":"\u21B7","cuvee":"\u22CE","cuwed":"\u22CF","cwconint":"\u2232","cwint":"\u2231","cylcty":"\u232D","dagger":"\u2020","Dagger":"\u2021","daleth":"\u2138","darr":"\u2193","Darr":"\u21A1","dArr":"\u21D3","dash":"\u2010","Dashv":"\u2AE4","dashv":"\u22A3","dbkarow":"\u290F","dblac":"\u02DD","Dcaron":"\u010E","dcaron":"\u010F","Dcy":"\u0414","dcy":"\u0434","ddagger":"\u2021","ddarr":"\u21CA","DD":"\u2145","dd":"\u2146","DDotrahd":"\u2911","ddotseq":"\u2A77","deg":"\xB0","Del":"\u2207","Delta":"\u0394","delta":"\u03B4","demptyv":"\u29B1","dfisht":"\u297F","Dfr":"\u{1D507}","dfr":"\u{1D521}","dHar":"\u2965","dharl":"\u21C3","dharr":"\u21C2","DiacriticalAcute":"\xB4","DiacriticalDot":"\u02D9","DiacriticalDoubleAcute":"\u02DD","DiacriticalGrave":"`","DiacriticalTilde":"\u02DC","diam":"\u22C4","diamond":"\u22C4","Diamond":"\u22C4","diamondsuit":"\u2666","diams":"\u2666","die":"\xA8","DifferentialD":"\u2146","digamma":"\u03DD","disin":"\u22F2","div":"\xF7","divide":"\xF7","divideontimes":"\u22C7","divonx":"\u22C7","DJcy":"\u0402","djcy":"\u0452","dlcorn":"\u231E","dlcrop":"\u230D","dollar":"$","Dopf":"\u{1D53B}","dopf":"\u{1D555}","Dot":"\xA8","dot":"\u02D9","DotDot":"\u20DC","doteq":"\u2250","doteqdot":"\u2251","DotEqual":"\u2250","dotminus":"\u2238","dotplus":"\u2214","dotsquare":"\u22A1","doublebarwedge":"\u2306","DoubleContourIntegral":"\u222F","DoubleDot":"\xA8","DoubleDownArrow":"\u21D3","DoubleLeftArrow":"\u21D0","DoubleLeftRightArrow":"\u21D4","DoubleLeftTee":"\u2AE4","DoubleLongLeftArrow":"\u27F8","DoubleLongLeftRightArrow":"\u27FA","DoubleLongRightArrow":"\u27F9","DoubleRightArrow":"\u21D2","DoubleRightTee":"\u22A8","DoubleUpArrow":"\u21D1","DoubleUpDownArrow":"\u21D5","DoubleVerticalBar":"\u2225","DownArrowBar":"\u2913","downarrow":"\u2193","DownArrow":"\u2193","Downarrow":"\u21D3","DownArrowUpArrow":"\u21F5","DownBreve":"\u0311","downdownarrows":"\u21CA","downharpoonleft":"\u21C3","downharpoonright":"\u21C2","DownLeftRightVector":"\u2950","DownLeftTeeVector":"\u295E","DownLeftVectorBar":"\u2956","DownLeftVector":"\u21BD","DownRightTeeVector":"\u295F","DownRightVectorBar":"\u2957","DownRightVector":"\u21C1","DownTeeArrow":"\u21A7","DownTee":"\u22A4","drbkarow":"\u2910","drcorn":"\u231F","drcrop":"\u230C","Dscr":"\u{1D49F}","dscr":"\u{1D4B9}","DScy":"\u0405","dscy":"\u0455","dsol":"\u29F6","Dstrok":"\u0110","dstrok":"\u0111","dtdot":"\u22F1","dtri":"\u25BF","dtrif":"\u25BE","duarr":"\u21F5","duhar":"\u296F","dwangle":"\u29A6","DZcy":"\u040F","dzcy":"\u045F","dzigrarr":"\u27FF","Eacute":"\xC9","eacute":"\xE9","easter":"\u2A6E","Ecaron":"\u011A","ecaron":"\u011B","Ecirc":"\xCA","ecirc":"\xEA","ecir":"\u2256","ecolon":"\u2255","Ecy":"\u042D","ecy":"\u044D","eDDot":"\u2A77","Edot":"\u0116","edot":"\u0117","eDot":"\u2251","ee":"\u2147","efDot":"\u2252","Efr":"\u{1D508}","efr":"\u{1D522}","eg":"\u2A9A","Egrave":"\xC8","egrave":"\xE8","egs":"\u2A96","egsdot":"\u2A98","el":"\u2A99","Element":"\u2208","elinters":"\u23E7","ell":"\u2113","els":"\u2A95","elsdot":"\u2A97","Emacr":"\u0112","emacr":"\u0113","empty":"\u2205","emptyset":"\u2205","EmptySmallSquare":"\u25FB","emptyv":"\u2205","EmptyVerySmallSquare":"\u25AB","emsp13":"\u2004","emsp14":"\u2005","emsp":"\u2003","ENG":"\u014A","eng":"\u014B","ensp":"\u2002","Eogon":"\u0118","eogon":"\u0119","Eopf":"\u{1D53C}","eopf":"\u{1D556}","epar":"\u22D5","eparsl":"\u29E3","eplus":"\u2A71","epsi":"\u03B5","Epsilon":"\u0395","epsilon":"\u03B5","epsiv":"\u03F5","eqcirc":"\u2256","eqcolon":"\u2255","eqsim":"\u2242","eqslantgtr":"\u2A96","eqslantless":"\u2A95","Equal":"\u2A75","equals":"=","EqualTilde":"\u2242","equest":"\u225F","Equilibrium":"\u21CC","equiv":"\u2261","equivDD":"\u2A78","eqvparsl":"\u29E5","erarr":"\u2971","erDot":"\u2253","escr":"\u212F","Escr":"\u2130","esdot":"\u2250","Esim":"\u2A73","esim":"\u2242","Eta":"\u0397","eta":"\u03B7","ETH":"\xD0","eth":"\xF0","Euml":"\xCB","euml":"\xEB","euro":"\u20AC","excl":"!","exist":"\u2203","Exists":"\u2203","expectation":"\u2130","exponentiale":"\u2147","ExponentialE":"\u2147","fallingdotseq":"\u2252","Fcy":"\u0424","fcy":"\u0444","female":"\u2640","ffilig":"\uFB03","fflig":"\uFB00","ffllig":"\uFB04","Ffr":"\u{1D509}","ffr":"\u{1D523}","filig":"\uFB01","FilledSmallSquare":"\u25FC","FilledVerySmallSquare":"\u25AA","fjlig":"fj","flat":"\u266D","fllig":"\uFB02","fltns":"\u25B1","fnof":"\u0192","Fopf":"\u{1D53D}","fopf":"\u{1D557}","forall":"\u2200","ForAll":"\u2200","fork":"\u22D4","forkv":"\u2AD9","Fouriertrf":"\u2131","fpartint":"\u2A0D","frac12":"\xBD","frac13":"\u2153","frac14":"\xBC","frac15":"\u2155","frac16":"\u2159","frac18":"\u215B","frac23":"\u2154","frac25":"\u2156","frac34":"\xBE","frac35":"\u2157","frac38":"\u215C","frac45":"\u2158","frac56":"\u215A","frac58":"\u215D","frac78":"\u215E","frasl":"\u2044","frown":"\u2322","fscr":"\u{1D4BB}","Fscr":"\u2131","gacute":"\u01F5","Gamma":"\u0393","gamma":"\u03B3","Gammad":"\u03DC","gammad":"\u03DD","gap":"\u2A86","Gbreve":"\u011E","gbreve":"\u011F","Gcedil":"\u0122","Gcirc":"\u011C","gcirc":"\u011D","Gcy":"\u0413","gcy":"\u0433","Gdot":"\u0120","gdot":"\u0121","ge":"\u2265","gE":"\u2267","gEl":"\u2A8C","gel":"\u22DB","geq":"\u2265","geqq":"\u2267","geqslant":"\u2A7E","gescc":"\u2AA9","ges":"\u2A7E","gesdot":"\u2A80","gesdoto":"\u2A82","gesdotol":"\u2A84","gesl":"\u22DB\uFE00","gesles":"\u2A94","Gfr":"\u{1D50A}","gfr":"\u{1D524}","gg":"\u226B","Gg":"\u22D9","ggg":"\u22D9","gimel":"\u2137","GJcy":"\u0403","gjcy":"\u0453","gla":"\u2AA5","gl":"\u2277","glE":"\u2A92","glj":"\u2AA4","gnap":"\u2A8A","gnapprox":"\u2A8A","gne":"\u2A88","gnE":"\u2269","gneq":"\u2A88","gneqq":"\u2269","gnsim":"\u22E7","Gopf":"\u{1D53E}","gopf":"\u{1D558}","grave":"`","GreaterEqual":"\u2265","GreaterEqualLess":"\u22DB","GreaterFullEqual":"\u2267","GreaterGreater":"\u2AA2","GreaterLess":"\u2277","GreaterSlantEqual":"\u2A7E","GreaterTilde":"\u2273","Gscr":"\u{1D4A2}","gscr":"\u210A","gsim":"\u2273","gsime":"\u2A8E","gsiml":"\u2A90","gtcc":"\u2AA7","gtcir":"\u2A7A","gt":">","GT":">","Gt":"\u226B","gtdot":"\u22D7","gtlPar":"\u2995","gtquest":"\u2A7C","gtrapprox":"\u2A86","gtrarr":"\u2978","gtrdot":"\u22D7","gtreqless":"\u22DB","gtreqqless":"\u2A8C","gtrless":"\u2277","gtrsim":"\u2273","gvertneqq":"\u2269\uFE00","gvnE":"\u2269\uFE00","Hacek":"\u02C7","hairsp":"\u200A","half":"\xBD","hamilt":"\u210B","HARDcy":"\u042A","hardcy":"\u044A","harrcir":"\u2948","harr":"\u2194","hArr":"\u21D4","harrw":"\u21AD","Hat":"^","hbar":"\u210F","Hcirc":"\u0124","hcirc":"\u0125","hearts":"\u2665","heartsuit":"\u2665","hellip":"\u2026","hercon":"\u22B9","hfr":"\u{1D525}","Hfr":"\u210C","HilbertSpace":"\u210B","hksearow":"\u2925","hkswarow":"\u2926","hoarr":"\u21FF","homtht":"\u223B","hookleftarrow":"\u21A9","hookrightarrow":"\u21AA","hopf":"\u{1D559}","Hopf":"\u210D","horbar":"\u2015","HorizontalLine":"\u2500","hscr":"\u{1D4BD}","Hscr":"\u210B","hslash":"\u210F","Hstrok":"\u0126","hstrok":"\u0127","HumpDownHump":"\u224E","HumpEqual":"\u224F","hybull":"\u2043","hyphen":"\u2010","Iacute":"\xCD","iacute":"\xED","ic":"\u2063","Icirc":"\xCE","icirc":"\xEE","Icy":"\u0418","icy":"\u0438","Idot":"\u0130","IEcy":"\u0415","iecy":"\u0435","iexcl":"\xA1","iff":"\u21D4","ifr":"\u{1D526}","Ifr":"\u2111","Igrave":"\xCC","igrave":"\xEC","ii":"\u2148","iiiint":"\u2A0C","iiint":"\u222D","iinfin":"\u29DC","iiota":"\u2129","IJlig":"\u0132","ijlig":"\u0133","Imacr":"\u012A","imacr":"\u012B","image":"\u2111","ImaginaryI":"\u2148","imagline":"\u2110","imagpart":"\u2111","imath":"\u0131","Im":"\u2111","imof":"\u22B7","imped":"\u01B5","Implies":"\u21D2","incare":"\u2105","in":"\u2208","infin":"\u221E","infintie":"\u29DD","inodot":"\u0131","intcal":"\u22BA","int":"\u222B","Int":"\u222C","integers":"\u2124","Integral":"\u222B","intercal":"\u22BA","Intersection":"\u22C2","intlarhk":"\u2A17","intprod":"\u2A3C","InvisibleComma":"\u2063","InvisibleTimes":"\u2062","IOcy":"\u0401","iocy":"\u0451","Iogon":"\u012E","iogon":"\u012F","Iopf":"\u{1D540}","iopf":"\u{1D55A}","Iota":"\u0399","iota":"\u03B9","iprod":"\u2A3C","iquest":"\xBF","iscr":"\u{1D4BE}","Iscr":"\u2110","isin":"\u2208","isindot":"\u22F5","isinE":"\u22F9","isins":"\u22F4","isinsv":"\u22F3","isinv":"\u2208","it":"\u2062","Itilde":"\u0128","itilde":"\u0129","Iukcy":"\u0406","iukcy":"\u0456","Iuml":"\xCF","iuml":"\xEF","Jcirc":"\u0134","jcirc":"\u0135","Jcy":"\u0419","jcy":"\u0439","Jfr":"\u{1D50D}","jfr":"\u{1D527}","jmath":"\u0237","Jopf":"\u{1D541}","jopf":"\u{1D55B}","Jscr":"\u{1D4A5}","jscr":"\u{1D4BF}","Jsercy":"\u0408","jsercy":"\u0458","Jukcy":"\u0404","jukcy":"\u0454","Kappa":"\u039A","kappa":"\u03BA","kappav":"\u03F0","Kcedil":"\u0136","kcedil":"\u0137","Kcy":"\u041A","kcy":"\u043A","Kfr":"\u{1D50E}","kfr":"\u{1D528}","kgreen":"\u0138","KHcy":"\u0425","khcy":"\u0445","KJcy":"\u040C","kjcy":"\u045C","Kopf":"\u{1D542}","kopf":"\u{1D55C}","Kscr":"\u{1D4A6}","kscr":"\u{1D4C0}","lAarr":"\u21DA","Lacute":"\u0139","lacute":"\u013A","laemptyv":"\u29B4","lagran":"\u2112","Lambda":"\u039B","lambda":"\u03BB","lang":"\u27E8","Lang":"\u27EA","langd":"\u2991","langle":"\u27E8","lap":"\u2A85","Laplacetrf":"\u2112","laquo":"\xAB","larrb":"\u21E4","larrbfs":"\u291F","larr":"\u2190","Larr":"\u219E","lArr":"\u21D0","larrfs":"\u291D","larrhk":"\u21A9","larrlp":"\u21AB","larrpl":"\u2939","larrsim":"\u2973","larrtl":"\u21A2","latail":"\u2919","lAtail":"\u291B","lat":"\u2AAB","late":"\u2AAD","lates":"\u2AAD\uFE00","lbarr":"\u290C","lBarr":"\u290E","lbbrk":"\u2772","lbrace":"{","lbrack":"[","lbrke":"\u298B","lbrksld":"\u298F","lbrkslu":"\u298D","Lcaron":"\u013D","lcaron":"\u013E","Lcedil":"\u013B","lcedil":"\u013C","lceil":"\u2308","lcub":"{","Lcy":"\u041B","lcy":"\u043B","ldca":"\u2936","ldquo":"\u201C","ldquor":"\u201E","ldrdhar":"\u2967","ldrushar":"\u294B","ldsh":"\u21B2","le":"\u2264","lE":"\u2266","LeftAngleBracket":"\u27E8","LeftArrowBar":"\u21E4","leftarrow":"\u2190","LeftArrow":"\u2190","Leftarrow":"\u21D0","LeftArrowRightArrow":"\u21C6","leftarrowtail":"\u21A2","LeftCeiling":"\u2308","LeftDoubleBracket":"\u27E6","LeftDownTeeVector":"\u2961","LeftDownVectorBar":"\u2959","LeftDownVector":"\u21C3","LeftFloor":"\u230A","leftharpoondown":"\u21BD","leftharpoonup":"\u21BC","leftleftarrows":"\u21C7","leftrightarrow":"\u2194","LeftRightArrow":"\u2194","Leftrightarrow":"\u21D4","leftrightarrows":"\u21C6","leftrightharpoons":"\u21CB","leftrightsquigarrow":"\u21AD","LeftRightVector":"\u294E","LeftTeeArrow":"\u21A4","LeftTee":"\u22A3","LeftTeeVector":"\u295A","leftthreetimes":"\u22CB","LeftTriangleBar":"\u29CF","LeftTriangle":"\u22B2","LeftTriangleEqual":"\u22B4","LeftUpDownVector":"\u2951","LeftUpTeeVector":"\u2960","LeftUpVectorBar":"\u2958","LeftUpVector":"\u21BF","LeftVectorBar":"\u2952","LeftVector":"\u21BC","lEg":"\u2A8B","leg":"\u22DA","leq":"\u2264","leqq":"\u2266","leqslant":"\u2A7D","lescc":"\u2AA8","les":"\u2A7D","lesdot":"\u2A7F","lesdoto":"\u2A81","lesdotor":"\u2A83","lesg":"\u22DA\uFE00","lesges":"\u2A93","lessapprox":"\u2A85","lessdot":"\u22D6","lesseqgtr":"\u22DA","lesseqqgtr":"\u2A8B","LessEqualGreater":"\u22DA","LessFullEqual":"\u2266","LessGreater":"\u2276","lessgtr":"\u2276","LessLess":"\u2AA1","lesssim":"\u2272","LessSlantEqual":"\u2A7D","LessTilde":"\u2272","lfisht":"\u297C","lfloor":"\u230A","Lfr":"\u{1D50F}","lfr":"\u{1D529}","lg":"\u2276","lgE":"\u2A91","lHar":"\u2962","lhard":"\u21BD","lharu":"\u21BC","lharul":"\u296A","lhblk":"\u2584","LJcy":"\u0409","ljcy":"\u0459","llarr":"\u21C7","ll":"\u226A","Ll":"\u22D8","llcorner":"\u231E","Lleftarrow":"\u21DA","llhard":"\u296B","lltri":"\u25FA","Lmidot":"\u013F","lmidot":"\u0140","lmoustache":"\u23B0","lmoust":"\u23B0","lnap":"\u2A89","lnapprox":"\u2A89","lne":"\u2A87","lnE":"\u2268","lneq":"\u2A87","lneqq":"\u2268","lnsim":"\u22E6","loang":"\u27EC","loarr":"\u21FD","lobrk":"\u27E6","longleftarrow":"\u27F5","LongLeftArrow":"\u27F5","Longleftarrow":"\u27F8","longleftrightarrow":"\u27F7","LongLeftRightArrow":"\u27F7","Longleftrightarrow":"\u27FA","longmapsto":"\u27FC","longrightarrow":"\u27F6","LongRightArrow":"\u27F6","Longrightarrow":"\u27F9","looparrowleft":"\u21AB","looparrowright":"\u21AC","lopar":"\u2985","Lopf":"\u{1D543}","lopf":"\u{1D55D}","loplus":"\u2A2D","lotimes":"\u2A34","lowast":"\u2217","lowbar":"_","LowerLeftArrow":"\u2199","LowerRightArrow":"\u2198","loz":"\u25CA","lozenge":"\u25CA","lozf":"\u29EB","lpar":"(","lparlt":"\u2993","lrarr":"\u21C6","lrcorner":"\u231F","lrhar":"\u21CB","lrhard":"\u296D","lrm":"\u200E","lrtri":"\u22BF","lsaquo":"\u2039","lscr":"\u{1D4C1}","Lscr":"\u2112","lsh":"\u21B0","Lsh":"\u21B0","lsim":"\u2272","lsime":"\u2A8D","lsimg":"\u2A8F","lsqb":"[","lsquo":"\u2018","lsquor":"\u201A","Lstrok":"\u0141","lstrok":"\u0142","ltcc":"\u2AA6","ltcir":"\u2A79","lt":"<","LT":"<","Lt":"\u226A","ltdot":"\u22D6","lthree":"\u22CB","ltimes":"\u22C9","ltlarr":"\u2976","ltquest":"\u2A7B","ltri":"\u25C3","ltrie":"\u22B4","ltrif":"\u25C2","ltrPar":"\u2996","lurdshar":"\u294A","luruhar":"\u2966","lvertneqq":"\u2268\uFE00","lvnE":"\u2268\uFE00","macr":"\xAF","male":"\u2642","malt":"\u2720","maltese":"\u2720","Map":"\u2905","map":"\u21A6","mapsto":"\u21A6","mapstodown":"\u21A7","mapstoleft":"\u21A4","mapstoup":"\u21A5","marker":"\u25AE","mcomma":"\u2A29","Mcy":"\u041C","mcy":"\u043C","mdash":"\u2014","mDDot":"\u223A","measuredangle":"\u2221","MediumSpace":"\u205F","Mellintrf":"\u2133","Mfr":"\u{1D510}","mfr":"\u{1D52A}","mho":"\u2127","micro":"\xB5","midast":"*","midcir":"\u2AF0","mid":"\u2223","middot":"\xB7","minusb":"\u229F","minus":"\u2212","minusd":"\u2238","minusdu":"\u2A2A","MinusPlus":"\u2213","mlcp":"\u2ADB","mldr":"\u2026","mnplus":"\u2213","models":"\u22A7","Mopf":"\u{1D544}","mopf":"\u{1D55E}","mp":"\u2213","mscr":"\u{1D4C2}","Mscr":"\u2133","mstpos":"\u223E","Mu":"\u039C","mu":"\u03BC","multimap":"\u22B8","mumap":"\u22B8","nabla":"\u2207","Nacute":"\u0143","nacute":"\u0144","nang":"\u2220\u20D2","nap":"\u2249","napE":"\u2A70\u0338","napid":"\u224B\u0338","napos":"\u0149","napprox":"\u2249","natural":"\u266E","naturals":"\u2115","natur":"\u266E","nbsp":"\xA0","nbump":"\u224E\u0338","nbumpe":"\u224F\u0338","ncap":"\u2A43","Ncaron":"\u0147","ncaron":"\u0148","Ncedil":"\u0145","ncedil":"\u0146","ncong":"\u2247","ncongdot":"\u2A6D\u0338","ncup":"\u2A42","Ncy":"\u041D","ncy":"\u043D","ndash":"\u2013","nearhk":"\u2924","nearr":"\u2197","neArr":"\u21D7","nearrow":"\u2197","ne":"\u2260","nedot":"\u2250\u0338","NegativeMediumSpace":"\u200B","NegativeThickSpace":"\u200B","NegativeThinSpace":"\u200B","NegativeVeryThinSpace":"\u200B","nequiv":"\u2262","nesear":"\u2928","nesim":"\u2242\u0338","NestedGreaterGreater":"\u226B","NestedLessLess":"\u226A","NewLine":"\\n","nexist":"\u2204","nexists":"\u2204","Nfr":"\u{1D511}","nfr":"\u{1D52B}","ngE":"\u2267\u0338","nge":"\u2271","ngeq":"\u2271","ngeqq":"\u2267\u0338","ngeqslant":"\u2A7E\u0338","nges":"\u2A7E\u0338","nGg":"\u22D9\u0338","ngsim":"\u2275","nGt":"\u226B\u20D2","ngt":"\u226F","ngtr":"\u226F","nGtv":"\u226B\u0338","nharr":"\u21AE","nhArr":"\u21CE","nhpar":"\u2AF2","ni":"\u220B","nis":"\u22FC","nisd":"\u22FA","niv":"\u220B","NJcy":"\u040A","njcy":"\u045A","nlarr":"\u219A","nlArr":"\u21CD","nldr":"\u2025","nlE":"\u2266\u0338","nle":"\u2270","nleftarrow":"\u219A","nLeftarrow":"\u21CD","nleftrightarrow":"\u21AE","nLeftrightarrow":"\u21CE","nleq":"\u2270","nleqq":"\u2266\u0338","nleqslant":"\u2A7D\u0338","nles":"\u2A7D\u0338","nless":"\u226E","nLl":"\u22D8\u0338","nlsim":"\u2274","nLt":"\u226A\u20D2","nlt":"\u226E","nltri":"\u22EA","nltrie":"\u22EC","nLtv":"\u226A\u0338","nmid":"\u2224","NoBreak":"\u2060","NonBreakingSpace":"\xA0","nopf":"\u{1D55F}","Nopf":"\u2115","Not":"\u2AEC","not":"\xAC","NotCongruent":"\u2262","NotCupCap":"\u226D","NotDoubleVerticalBar":"\u2226","NotElement":"\u2209","NotEqual":"\u2260","NotEqualTilde":"\u2242\u0338","NotExists":"\u2204","NotGreater":"\u226F","NotGreaterEqual":"\u2271","NotGreaterFullEqual":"\u2267\u0338","NotGreaterGreater":"\u226B\u0338","NotGreaterLess":"\u2279","NotGreaterSlantEqual":"\u2A7E\u0338","NotGreaterTilde":"\u2275","NotHumpDownHump":"\u224E\u0338","NotHumpEqual":"\u224F\u0338","notin":"\u2209","notindot":"\u22F5\u0338","notinE":"\u22F9\u0338","notinva":"\u2209","notinvb":"\u22F7","notinvc":"\u22F6","NotLeftTriangleBar":"\u29CF\u0338","NotLeftTriangle":"\u22EA","NotLeftTriangleEqual":"\u22EC","NotLess":"\u226E","NotLessEqual":"\u2270","NotLessGreater":"\u2278","NotLessLess":"\u226A\u0338","NotLessSlantEqual":"\u2A7D\u0338","NotLessTilde":"\u2274","NotNestedGreaterGreater":"\u2AA2\u0338","NotNestedLessLess":"\u2AA1\u0338","notni":"\u220C","notniva":"\u220C","notnivb":"\u22FE","notnivc":"\u22FD","NotPrecedes":"\u2280","NotPrecedesEqual":"\u2AAF\u0338","NotPrecedesSlantEqual":"\u22E0","NotReverseElement":"\u220C","NotRightTriangleBar":"\u29D0\u0338","NotRightTriangle":"\u22EB","NotRightTriangleEqual":"\u22ED","NotSquareSubset":"\u228F\u0338","NotSquareSubsetEqual":"\u22E2","NotSquareSuperset":"\u2290\u0338","NotSquareSupersetEqual":"\u22E3","NotSubset":"\u2282\u20D2","NotSubsetEqual":"\u2288","NotSucceeds":"\u2281","NotSucceedsEqual":"\u2AB0\u0338","NotSucceedsSlantEqual":"\u22E1","NotSucceedsTilde":"\u227F\u0338","NotSuperset":"\u2283\u20D2","NotSupersetEqual":"\u2289","NotTilde":"\u2241","NotTildeEqual":"\u2244","NotTildeFullEqual":"\u2247","NotTildeTilde":"\u2249","NotVerticalBar":"\u2224","nparallel":"\u2226","npar":"\u2226","nparsl":"\u2AFD\u20E5","npart":"\u2202\u0338","npolint":"\u2A14","npr":"\u2280","nprcue":"\u22E0","nprec":"\u2280","npreceq":"\u2AAF\u0338","npre":"\u2AAF\u0338","nrarrc":"\u2933\u0338","nrarr":"\u219B","nrArr":"\u21CF","nrarrw":"\u219D\u0338","nrightarrow":"\u219B","nRightarrow":"\u21CF","nrtri":"\u22EB","nrtrie":"\u22ED","nsc":"\u2281","nsccue":"\u22E1","nsce":"\u2AB0\u0338","Nscr":"\u{1D4A9}","nscr":"\u{1D4C3}","nshortmid":"\u2224","nshortparallel":"\u2226","nsim":"\u2241","nsime":"\u2244","nsimeq":"\u2244","nsmid":"\u2224","nspar":"\u2226","nsqsube":"\u22E2","nsqsupe":"\u22E3","nsub":"\u2284","nsubE":"\u2AC5\u0338","nsube":"\u2288","nsubset":"\u2282\u20D2","nsubseteq":"\u2288","nsubseteqq":"\u2AC5\u0338","nsucc":"\u2281","nsucceq":"\u2AB0\u0338","nsup":"\u2285","nsupE":"\u2AC6\u0338","nsupe":"\u2289","nsupset":"\u2283\u20D2","nsupseteq":"\u2289","nsupseteqq":"\u2AC6\u0338","ntgl":"\u2279","Ntilde":"\xD1","ntilde":"\xF1","ntlg":"\u2278","ntriangleleft":"\u22EA","ntrianglelefteq":"\u22EC","ntriangleright":"\u22EB","ntrianglerighteq":"\u22ED","Nu":"\u039D","nu":"\u03BD","num":"#","numero":"\u2116","numsp":"\u2007","nvap":"\u224D\u20D2","nvdash":"\u22AC","nvDash":"\u22AD","nVdash":"\u22AE","nVDash":"\u22AF","nvge":"\u2265\u20D2","nvgt":">\u20D2","nvHarr":"\u2904","nvinfin":"\u29DE","nvlArr":"\u2902","nvle":"\u2264\u20D2","nvlt":"<\u20D2","nvltrie":"\u22B4\u20D2","nvrArr":"\u2903","nvrtrie":"\u22B5\u20D2","nvsim":"\u223C\u20D2","nwarhk":"\u2923","nwarr":"\u2196","nwArr":"\u21D6","nwarrow":"\u2196","nwnear":"\u2927","Oacute":"\xD3","oacute":"\xF3","oast":"\u229B","Ocirc":"\xD4","ocirc":"\xF4","ocir":"\u229A","Ocy":"\u041E","ocy":"\u043E","odash":"\u229D","Odblac":"\u0150","odblac":"\u0151","odiv":"\u2A38","odot":"\u2299","odsold":"\u29BC","OElig":"\u0152","oelig":"\u0153","ofcir":"\u29BF","Ofr":"\u{1D512}","ofr":"\u{1D52C}","ogon":"\u02DB","Ograve":"\xD2","ograve":"\xF2","ogt":"\u29C1","ohbar":"\u29B5","ohm":"\u03A9","oint":"\u222E","olarr":"\u21BA","olcir":"\u29BE","olcross":"\u29BB","oline":"\u203E","olt":"\u29C0","Omacr":"\u014C","omacr":"\u014D","Omega":"\u03A9","omega":"\u03C9","Omicron":"\u039F","omicron":"\u03BF","omid":"\u29B6","ominus":"\u2296","Oopf":"\u{1D546}","oopf":"\u{1D560}","opar":"\u29B7","OpenCurlyDoubleQuote":"\u201C","OpenCurlyQuote":"\u2018","operp":"\u29B9","oplus":"\u2295","orarr":"\u21BB","Or":"\u2A54","or":"\u2228","ord":"\u2A5D","order":"\u2134","orderof":"\u2134","ordf":"\xAA","ordm":"\xBA","origof":"\u22B6","oror":"\u2A56","orslope":"\u2A57","orv":"\u2A5B","oS":"\u24C8","Oscr":"\u{1D4AA}","oscr":"\u2134","Oslash":"\xD8","oslash":"\xF8","osol":"\u2298","Otilde":"\xD5","otilde":"\xF5","otimesas":"\u2A36","Otimes":"\u2A37","otimes":"\u2297","Ouml":"\xD6","ouml":"\xF6","ovbar":"\u233D","OverBar":"\u203E","OverBrace":"\u23DE","OverBracket":"\u23B4","OverParenthesis":"\u23DC","para":"\xB6","parallel":"\u2225","par":"\u2225","parsim":"\u2AF3","parsl":"\u2AFD","part":"\u2202","PartialD":"\u2202","Pcy":"\u041F","pcy":"\u043F","percnt":"%","period":".","permil":"\u2030","perp":"\u22A5","pertenk":"\u2031","Pfr":"\u{1D513}","pfr":"\u{1D52D}","Phi":"\u03A6","phi":"\u03C6","phiv":"\u03D5","phmmat":"\u2133","phone":"\u260E","Pi":"\u03A0","pi":"\u03C0","pitchfork":"\u22D4","piv":"\u03D6","planck":"\u210F","planckh":"\u210E","plankv":"\u210F","plusacir":"\u2A23","plusb":"\u229E","pluscir":"\u2A22","plus":"+","plusdo":"\u2214","plusdu":"\u2A25","pluse":"\u2A72","PlusMinus":"\xB1","plusmn":"\xB1","plussim":"\u2A26","plustwo":"\u2A27","pm":"\xB1","Poincareplane":"\u210C","pointint":"\u2A15","popf":"\u{1D561}","Popf":"\u2119","pound":"\xA3","prap":"\u2AB7","Pr":"\u2ABB","pr":"\u227A","prcue":"\u227C","precapprox":"\u2AB7","prec":"\u227A","preccurlyeq":"\u227C","Precedes":"\u227A","PrecedesEqual":"\u2AAF","PrecedesSlantEqual":"\u227C","PrecedesTilde":"\u227E","preceq":"\u2AAF","precnapprox":"\u2AB9","precneqq":"\u2AB5","precnsim":"\u22E8","pre":"\u2AAF","prE":"\u2AB3","precsim":"\u227E","prime":"\u2032","Prime":"\u2033","primes":"\u2119","prnap":"\u2AB9","prnE":"\u2AB5","prnsim":"\u22E8","prod":"\u220F","Product":"\u220F","profalar":"\u232E","profline":"\u2312","profsurf":"\u2313","prop":"\u221D","Proportional":"\u221D","Proportion":"\u2237","propto":"\u221D","prsim":"\u227E","prurel":"\u22B0","Pscr":"\u{1D4AB}","pscr":"\u{1D4C5}","Psi":"\u03A8","psi":"\u03C8","puncsp":"\u2008","Qfr":"\u{1D514}","qfr":"\u{1D52E}","qint":"\u2A0C","qopf":"\u{1D562}","Qopf":"\u211A","qprime":"\u2057","Qscr":"\u{1D4AC}","qscr":"\u{1D4C6}","quaternions":"\u210D","quatint":"\u2A16","quest":"?","questeq":"\u225F","quot":"\\"","QUOT":"\\"","rAarr":"\u21DB","race":"\u223D\u0331","Racute":"\u0154","racute":"\u0155","radic":"\u221A","raemptyv":"\u29B3","rang":"\u27E9","Rang":"\u27EB","rangd":"\u2992","range":"\u29A5","rangle":"\u27E9","raquo":"\xBB","rarrap":"\u2975","rarrb":"\u21E5","rarrbfs":"\u2920","rarrc":"\u2933","rarr":"\u2192","Rarr":"\u21A0","rArr":"\u21D2","rarrfs":"\u291E","rarrhk":"\u21AA","rarrlp":"\u21AC","rarrpl":"\u2945","rarrsim":"\u2974","Rarrtl":"\u2916","rarrtl":"\u21A3","rarrw":"\u219D","ratail":"\u291A","rAtail":"\u291C","ratio":"\u2236","rationals":"\u211A","rbarr":"\u290D","rBarr":"\u290F","RBarr":"\u2910","rbbrk":"\u2773","rbrace":"}","rbrack":"]","rbrke":"\u298C","rbrksld":"\u298E","rbrkslu":"\u2990","Rcaron":"\u0158","rcaron":"\u0159","Rcedil":"\u0156","rcedil":"\u0157","rceil":"\u2309","rcub":"}","Rcy":"\u0420","rcy":"\u0440","rdca":"\u2937","rdldhar":"\u2969","rdquo":"\u201D","rdquor":"\u201D","rdsh":"\u21B3","real":"\u211C","realine":"\u211B","realpart":"\u211C","reals":"\u211D","Re":"\u211C","rect":"\u25AD","reg":"\xAE","REG":"\xAE","ReverseElement":"\u220B","ReverseEquilibrium":"\u21CB","ReverseUpEquilibrium":"\u296F","rfisht":"\u297D","rfloor":"\u230B","rfr":"\u{1D52F}","Rfr":"\u211C","rHar":"\u2964","rhard":"\u21C1","rharu":"\u21C0","rharul":"\u296C","Rho":"\u03A1","rho":"\u03C1","rhov":"\u03F1","RightAngleBracket":"\u27E9","RightArrowBar":"\u21E5","rightarrow":"\u2192","RightArrow":"\u2192","Rightarrow":"\u21D2","RightArrowLeftArrow":"\u21C4","rightarrowtail":"\u21A3","RightCeiling":"\u2309","RightDoubleBracket":"\u27E7","RightDownTeeVector":"\u295D","RightDownVectorBar":"\u2955","RightDownVector":"\u21C2","RightFloor":"\u230B","rightharpoondown":"\u21C1","rightharpoonup":"\u21C0","rightleftarrows":"\u21C4","rightleftharpoons":"\u21CC","rightrightarrows":"\u21C9","rightsquigarrow":"\u219D","RightTeeArrow":"\u21A6","RightTee":"\u22A2","RightTeeVector":"\u295B","rightthreetimes":"\u22CC","RightTriangleBar":"\u29D0","RightTriangle":"\u22B3","RightTriangleEqual":"\u22B5","RightUpDownVector":"\u294F","RightUpTeeVector":"\u295C","RightUpVectorBar":"\u2954","RightUpVector":"\u21BE","RightVectorBar":"\u2953","RightVector":"\u21C0","ring":"\u02DA","risingdotseq":"\u2253","rlarr":"\u21C4","rlhar":"\u21CC","rlm":"\u200F","rmoustache":"\u23B1","rmoust":"\u23B1","rnmid":"\u2AEE","roang":"\u27ED","roarr":"\u21FE","robrk":"\u27E7","ropar":"\u2986","ropf":"\u{1D563}","Ropf":"\u211D","roplus":"\u2A2E","rotimes":"\u2A35","RoundImplies":"\u2970","rpar":")","rpargt":"\u2994","rppolint":"\u2A12","rrarr":"\u21C9","Rrightarrow":"\u21DB","rsaquo":"\u203A","rscr":"\u{1D4C7}","Rscr":"\u211B","rsh":"\u21B1","Rsh":"\u21B1","rsqb":"]","rsquo":"\u2019","rsquor":"\u2019","rthree":"\u22CC","rtimes":"\u22CA","rtri":"\u25B9","rtrie":"\u22B5","rtrif":"\u25B8","rtriltri":"\u29CE","RuleDelayed":"\u29F4","ruluhar":"\u2968","rx":"\u211E","Sacute":"\u015A","sacute":"\u015B","sbquo":"\u201A","scap":"\u2AB8","Scaron":"\u0160","scaron":"\u0161","Sc":"\u2ABC","sc":"\u227B","sccue":"\u227D","sce":"\u2AB0","scE":"\u2AB4","Scedil":"\u015E","scedil":"\u015F","Scirc":"\u015C","scirc":"\u015D","scnap":"\u2ABA","scnE":"\u2AB6","scnsim":"\u22E9","scpolint":"\u2A13","scsim":"\u227F","Scy":"\u0421","scy":"\u0441","sdotb":"\u22A1","sdot":"\u22C5","sdote":"\u2A66","searhk":"\u2925","searr":"\u2198","seArr":"\u21D8","searrow":"\u2198","sect":"\xA7","semi":";","seswar":"\u2929","setminus":"\u2216","setmn":"\u2216","sext":"\u2736","Sfr":"\u{1D516}","sfr":"\u{1D530}","sfrown":"\u2322","sharp":"\u266F","SHCHcy":"\u0429","shchcy":"\u0449","SHcy":"\u0428","shcy":"\u0448","ShortDownArrow":"\u2193","ShortLeftArrow":"\u2190","shortmid":"\u2223","shortparallel":"\u2225","ShortRightArrow":"\u2192","ShortUpArrow":"\u2191","shy":"\xAD","Sigma":"\u03A3","sigma":"\u03C3","sigmaf":"\u03C2","sigmav":"\u03C2","sim":"\u223C","simdot":"\u2A6A","sime":"\u2243","simeq":"\u2243","simg":"\u2A9E","simgE":"\u2AA0","siml":"\u2A9D","simlE":"\u2A9F","simne":"\u2246","simplus":"\u2A24","simrarr":"\u2972","slarr":"\u2190","SmallCircle":"\u2218","smallsetminus":"\u2216","smashp":"\u2A33","smeparsl":"\u29E4","smid":"\u2223","smile":"\u2323","smt":"\u2AAA","smte":"\u2AAC","smtes":"\u2AAC\uFE00","SOFTcy":"\u042C","softcy":"\u044C","solbar":"\u233F","solb":"\u29C4","sol":"/","Sopf":"\u{1D54A}","sopf":"\u{1D564}","spades":"\u2660","spadesuit":"\u2660","spar":"\u2225","sqcap":"\u2293","sqcaps":"\u2293\uFE00","sqcup":"\u2294","sqcups":"\u2294\uFE00","Sqrt":"\u221A","sqsub":"\u228F","sqsube":"\u2291","sqsubset":"\u228F","sqsubseteq":"\u2291","sqsup":"\u2290","sqsupe":"\u2292","sqsupset":"\u2290","sqsupseteq":"\u2292","square":"\u25A1","Square":"\u25A1","SquareIntersection":"\u2293","SquareSubset":"\u228F","SquareSubsetEqual":"\u2291","SquareSuperset":"\u2290","SquareSupersetEqual":"\u2292","SquareUnion":"\u2294","squarf":"\u25AA","squ":"\u25A1","squf":"\u25AA","srarr":"\u2192","Sscr":"\u{1D4AE}","sscr":"\u{1D4C8}","ssetmn":"\u2216","ssmile":"\u2323","sstarf":"\u22C6","Star":"\u22C6","star":"\u2606","starf":"\u2605","straightepsilon":"\u03F5","straightphi":"\u03D5","strns":"\xAF","sub":"\u2282","Sub":"\u22D0","subdot":"\u2ABD","subE":"\u2AC5","sube":"\u2286","subedot":"\u2AC3","submult":"\u2AC1","subnE":"\u2ACB","subne":"\u228A","subplus":"\u2ABF","subrarr":"\u2979","subset":"\u2282","Subset":"\u22D0","subseteq":"\u2286","subseteqq":"\u2AC5","SubsetEqual":"\u2286","subsetneq":"\u228A","subsetneqq":"\u2ACB","subsim":"\u2AC7","subsub":"\u2AD5","subsup":"\u2AD3","succapprox":"\u2AB8","succ":"\u227B","succcurlyeq":"\u227D","Succeeds":"\u227B","SucceedsEqual":"\u2AB0","SucceedsSlantEqual":"\u227D","SucceedsTilde":"\u227F","succeq":"\u2AB0","succnapprox":"\u2ABA","succneqq":"\u2AB6","succnsim":"\u22E9","succsim":"\u227F","SuchThat":"\u220B","sum":"\u2211","Sum":"\u2211","sung":"\u266A","sup1":"\xB9","sup2":"\xB2","sup3":"\xB3","sup":"\u2283","Sup":"\u22D1","supdot":"\u2ABE","supdsub":"\u2AD8","supE":"\u2AC6","supe":"\u2287","supedot":"\u2AC4","Superset":"\u2283","SupersetEqual":"\u2287","suphsol":"\u27C9","suphsub":"\u2AD7","suplarr":"\u297B","supmult":"\u2AC2","supnE":"\u2ACC","supne":"\u228B","supplus":"\u2AC0","supset":"\u2283","Supset":"\u22D1","supseteq":"\u2287","supseteqq":"\u2AC6","supsetneq":"\u228B","supsetneqq":"\u2ACC","supsim":"\u2AC8","supsub":"\u2AD4","supsup":"\u2AD6","swarhk":"\u2926","swarr":"\u2199","swArr":"\u21D9","swarrow":"\u2199","swnwar":"\u292A","szlig":"\xDF","Tab":"\\t","target":"\u2316","Tau":"\u03A4","tau":"\u03C4","tbrk":"\u23B4","Tcaron":"\u0164","tcaron":"\u0165","Tcedil":"\u0162","tcedil":"\u0163","Tcy":"\u0422","tcy":"\u0442","tdot":"\u20DB","telrec":"\u2315","Tfr":"\u{1D517}","tfr":"\u{1D531}","there4":"\u2234","therefore":"\u2234","Therefore":"\u2234","Theta":"\u0398","theta":"\u03B8","thetasym":"\u03D1","thetav":"\u03D1","thickapprox":"\u2248","thicksim":"\u223C","ThickSpace":"\u205F\u200A","ThinSpace":"\u2009","thinsp":"\u2009","thkap":"\u2248","thksim":"\u223C","THORN":"\xDE","thorn":"\xFE","tilde":"\u02DC","Tilde":"\u223C","TildeEqual":"\u2243","TildeFullEqual":"\u2245","TildeTilde":"\u2248","timesbar":"\u2A31","timesb":"\u22A0","times":"\xD7","timesd":"\u2A30","tint":"\u222D","toea":"\u2928","topbot":"\u2336","topcir":"\u2AF1","top":"\u22A4","Topf":"\u{1D54B}","topf":"\u{1D565}","topfork":"\u2ADA","tosa":"\u2929","tprime":"\u2034","trade":"\u2122","TRADE":"\u2122","triangle":"\u25B5","triangledown":"\u25BF","triangleleft":"\u25C3","trianglelefteq":"\u22B4","triangleq":"\u225C","triangleright":"\u25B9","trianglerighteq":"\u22B5","tridot":"\u25EC","trie":"\u225C","triminus":"\u2A3A","TripleDot":"\u20DB","triplus":"\u2A39","trisb":"\u29CD","tritime":"\u2A3B","trpezium":"\u23E2","Tscr":"\u{1D4AF}","tscr":"\u{1D4C9}","TScy":"\u0426","tscy":"\u0446","TSHcy":"\u040B","tshcy":"\u045B","Tstrok":"\u0166","tstrok":"\u0167","twixt":"\u226C","twoheadleftarrow":"\u219E","twoheadrightarrow":"\u21A0","Uacute":"\xDA","uacute":"\xFA","uarr":"\u2191","Uarr":"\u219F","uArr":"\u21D1","Uarrocir":"\u2949","Ubrcy":"\u040E","ubrcy":"\u045E","Ubreve":"\u016C","ubreve":"\u016D","Ucirc":"\xDB","ucirc":"\xFB","Ucy":"\u0423","ucy":"\u0443","udarr":"\u21C5","Udblac":"\u0170","udblac":"\u0171","udhar":"\u296E","ufisht":"\u297E","Ufr":"\u{1D518}","ufr":"\u{1D532}","Ugrave":"\xD9","ugrave":"\xF9","uHar":"\u2963","uharl":"\u21BF","uharr":"\u21BE","uhblk":"\u2580","ulcorn":"\u231C","ulcorner":"\u231C","ulcrop":"\u230F","ultri":"\u25F8","Umacr":"\u016A","umacr":"\u016B","uml":"\xA8","UnderBar":"_","UnderBrace":"\u23DF","UnderBracket":"\u23B5","UnderParenthesis":"\u23DD","Union":"\u22C3","UnionPlus":"\u228E","Uogon":"\u0172","uogon":"\u0173","Uopf":"\u{1D54C}","uopf":"\u{1D566}","UpArrowBar":"\u2912","uparrow":"\u2191","UpArrow":"\u2191","Uparrow":"\u21D1","UpArrowDownArrow":"\u21C5","updownarrow":"\u2195","UpDownArrow":"\u2195","Updownarrow":"\u21D5","UpEquilibrium":"\u296E","upharpoonleft":"\u21BF","upharpoonright":"\u21BE","uplus":"\u228E","UpperLeftArrow":"\u2196","UpperRightArrow":"\u2197","upsi":"\u03C5","Upsi":"\u03D2","upsih":"\u03D2","Upsilon":"\u03A5","upsilon":"\u03C5","UpTeeArrow":"\u21A5","UpTee":"\u22A5","upuparrows":"\u21C8","urcorn":"\u231D","urcorner":"\u231D","urcrop":"\u230E","Uring":"\u016E","uring":"\u016F","urtri":"\u25F9","Uscr":"\u{1D4B0}","uscr":"\u{1D4CA}","utdot":"\u22F0","Utilde":"\u0168","utilde":"\u0169","utri":"\u25B5","utrif":"\u25B4","uuarr":"\u21C8","Uuml":"\xDC","uuml":"\xFC","uwangle":"\u29A7","vangrt":"\u299C","varepsilon":"\u03F5","varkappa":"\u03F0","varnothing":"\u2205","varphi":"\u03D5","varpi":"\u03D6","varpropto":"\u221D","varr":"\u2195","vArr":"\u21D5","varrho":"\u03F1","varsigma":"\u03C2","varsubsetneq":"\u228A\uFE00","varsubsetneqq":"\u2ACB\uFE00","varsupsetneq":"\u228B\uFE00","varsupsetneqq":"\u2ACC\uFE00","vartheta":"\u03D1","vartriangleleft":"\u22B2","vartriangleright":"\u22B3","vBar":"\u2AE8","Vbar":"\u2AEB","vBarv":"\u2AE9","Vcy":"\u0412","vcy":"\u0432","vdash":"\u22A2","vDash":"\u22A8","Vdash":"\u22A9","VDash":"\u22AB","Vdashl":"\u2AE6","veebar":"\u22BB","vee":"\u2228","Vee":"\u22C1","veeeq":"\u225A","vellip":"\u22EE","verbar":"|","Verbar":"\u2016","vert":"|","Vert":"\u2016","VerticalBar":"\u2223","VerticalLine":"|","VerticalSeparator":"\u2758","VerticalTilde":"\u2240","VeryThinSpace":"\u200A","Vfr":"\u{1D519}","vfr":"\u{1D533}","vltri":"\u22B2","vnsub":"\u2282\u20D2","vnsup":"\u2283\u20D2","Vopf":"\u{1D54D}","vopf":"\u{1D567}","vprop":"\u221D","vrtri":"\u22B3","Vscr":"\u{1D4B1}","vscr":"\u{1D4CB}","vsubnE":"\u2ACB\uFE00","vsubne":"\u228A\uFE00","vsupnE":"\u2ACC\uFE00","vsupne":"\u228B\uFE00","Vvdash":"\u22AA","vzigzag":"\u299A","Wcirc":"\u0174","wcirc":"\u0175","wedbar":"\u2A5F","wedge":"\u2227","Wedge":"\u22C0","wedgeq":"\u2259","weierp":"\u2118","Wfr":"\u{1D51A}","wfr":"\u{1D534}","Wopf":"\u{1D54E}","wopf":"\u{1D568}","wp":"\u2118","wr":"\u2240","wreath":"\u2240","Wscr":"\u{1D4B2}","wscr":"\u{1D4CC}","xcap":"\u22C2","xcirc":"\u25EF","xcup":"\u22C3","xdtri":"\u25BD","Xfr":"\u{1D51B}","xfr":"\u{1D535}","xharr":"\u27F7","xhArr":"\u27FA","Xi":"\u039E","xi":"\u03BE","xlarr":"\u27F5","xlArr":"\u27F8","xmap":"\u27FC","xnis":"\u22FB","xodot":"\u2A00","Xopf":"\u{1D54F}","xopf":"\u{1D569}","xoplus":"\u2A01","xotime":"\u2A02","xrarr":"\u27F6","xrArr":"\u27F9","Xscr":"\u{1D4B3}","xscr":"\u{1D4CD}","xsqcup":"\u2A06","xuplus":"\u2A04","xutri":"\u25B3","xvee":"\u22C1","xwedge":"\u22C0","Yacute":"\xDD","yacute":"\xFD","YAcy":"\u042F","yacy":"\u044F","Ycirc":"\u0176","ycirc":"\u0177","Ycy":"\u042B","ycy":"\u044B","yen":"\xA5","Yfr":"\u{1D51C}","yfr":"\u{1D536}","YIcy":"\u0407","yicy":"\u0457","Yopf":"\u{1D550}","yopf":"\u{1D56A}","Yscr":"\u{1D4B4}","yscr":"\u{1D4CE}","YUcy":"\u042E","yucy":"\u044E","yuml":"\xFF","Yuml":"\u0178","Zacute":"\u0179","zacute":"\u017A","Zcaron":"\u017D","zcaron":"\u017E","Zcy":"\u0417","zcy":"\u0437","Zdot":"\u017B","zdot":"\u017C","zeetrf":"\u2128","ZeroWidthSpace":"\u200B","Zeta":"\u0396","zeta":"\u03B6","zfr":"\u{1D537}","Zfr":"\u2128","ZHcy":"\u0416","zhcy":"\u0436","zigrarr":"\u21DD","zopf":"\u{1D56B}","Zopf":"\u2124","Zscr":"\u{1D4B5}","zscr":"\u{1D4CF}","zwj":"\u200D","zwnj":"\u200C"}')},29591:z=>{"use strict";z.exports=JSON.parse('{"Aacute":"\xC1","aacute":"\xE1","Acirc":"\xC2","acirc":"\xE2","acute":"\xB4","AElig":"\xC6","aelig":"\xE6","Agrave":"\xC0","agrave":"\xE0","amp":"&","AMP":"&","Aring":"\xC5","aring":"\xE5","Atilde":"\xC3","atilde":"\xE3","Auml":"\xC4","auml":"\xE4","brvbar":"\xA6","Ccedil":"\xC7","ccedil":"\xE7","cedil":"\xB8","cent":"\xA2","copy":"\xA9","COPY":"\xA9","curren":"\xA4","deg":"\xB0","divide":"\xF7","Eacute":"\xC9","eacute":"\xE9","Ecirc":"\xCA","ecirc":"\xEA","Egrave":"\xC8","egrave":"\xE8","ETH":"\xD0","eth":"\xF0","Euml":"\xCB","euml":"\xEB","frac12":"\xBD","frac14":"\xBC","frac34":"\xBE","gt":">","GT":">","Iacute":"\xCD","iacute":"\xED","Icirc":"\xCE","icirc":"\xEE","iexcl":"\xA1","Igrave":"\xCC","igrave":"\xEC","iquest":"\xBF","Iuml":"\xCF","iuml":"\xEF","laquo":"\xAB","lt":"<","LT":"<","macr":"\xAF","micro":"\xB5","middot":"\xB7","nbsp":"\xA0","not":"\xAC","Ntilde":"\xD1","ntilde":"\xF1","Oacute":"\xD3","oacute":"\xF3","Ocirc":"\xD4","ocirc":"\xF4","Ograve":"\xD2","ograve":"\xF2","ordf":"\xAA","ordm":"\xBA","Oslash":"\xD8","oslash":"\xF8","Otilde":"\xD5","otilde":"\xF5","Ouml":"\xD6","ouml":"\xF6","para":"\xB6","plusmn":"\xB1","pound":"\xA3","quot":"\\"","QUOT":"\\"","raquo":"\xBB","reg":"\xAE","REG":"\xAE","sect":"\xA7","shy":"\xAD","sup1":"\xB9","sup2":"\xB2","sup3":"\xB3","szlig":"\xDF","THORN":"\xDE","thorn":"\xFE","times":"\xD7","Uacute":"\xDA","uacute":"\xFA","Ucirc":"\xDB","ucirc":"\xFB","Ugrave":"\xD9","ugrave":"\xF9","uml":"\xA8","Uuml":"\xDC","uuml":"\xFC","Yacute":"\xDD","yacute":"\xFD","yen":"\xA5","yuml":"\xFF"}')},2586:z=>{"use strict";z.exports=JSON.parse(`{"amp":"&","apos":"'","gt":">","lt":"<","quot":"\\""}`)}},Ko={};function Et(z){var u=Ko[z];if(u!==void 0)return u.exports;var e=Ko[z]={id:z,loaded:!1,exports:{}};return jo[z].call(e.exports,e,e.exports,Et),e.loaded=!0,e.exports}Et.m=jo,Et.n=z=>{var u=z&&z.__esModule?()=>z.default:()=>z;return Et.d(u,{a:u}),u},(()=>{var z=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,u;Et.t=function(e,o){if(o&1&&(e=this(e)),o&8||typeof e=="object"&&e&&(o&4&&e.__esModule||o&16&&typeof e.then=="function"))return e;var f=Object.create(null);Et.r(f);var l={};u=u||[null,z({}),z([]),z(z)];for(var c=o&2&&e;typeof c=="object"&&!~u.indexOf(c);c=z(c))Object.getOwnPropertyNames(c).forEach(g=>l[g]=()=>e[g]);return l.default=()=>e,Et.d(f,l),f}})(),Et.d=(z,u)=>{for(var e in u)Et.o(u,e)&&!Et.o(z,e)&&Object.defineProperty(z,e,{enumerable:!0,get:u[e]})},Et.f={},Et.e=z=>Promise.all(Object.keys(Et.f).reduce((u,e)=>(Et.f[e](z,u),u),[])),Et.u=z=>""+z+"."+{96:"1bbf9d682a15904fb8c1",156:"beeed6ba174b39cca98e",298:"9daf173342282a151eb5",301:"8a835920e98aa78c18e0",411:"652ca3b230d5f693c337",486:"9467f53a20c3a7893079",525:"fd803fd22044ae8f83ef",563:"143c4391e3116a18a0e1",631:"5e951b5294deb53cee6a",661:"902a95532168049b3a98",679:"7080d3502efcf7d5ec5a",693:"1fa33c491884b74f4584",695:"b46f796e556964544aa1",760:"8e10b05b0e0a72a2ed9d",829:"0d279ab722bdf3323188",853:"450ba0b386034afc340e",915:"10f65d6d0e38d45a1b67",968:"5cf57413f012d4ac8abc"}[z]+".chunk.js",Et.miniCssF=z=>""+z+"."+{156:"1ebef32be312774e4c14",298:"b566416c4cafc3b548ae",411:"6155c11039f07f8e1411",525:"a274d9d5790378662e75",661:"f8f19cfac1ae955e7dd3",829:"620ff2ea405d85894bcf",853:"7f17ef46759c5d91e115"}[z]+".css",Et.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(z){if(typeof window=="object")return window}}(),Et.hmd=z=>(z=Object.create(z),z.children||(z.children=[]),Object.defineProperty(z,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+z.id)}}),z),Et.o=(z,u)=>Object.prototype.hasOwnProperty.call(z,u),(()=>{var z={},u="substack:";Et.l=(e,o,f,l)=>{if(z[e]){z[e].push(o);return}var c,g;if(f!==void 0)for(var v=document.getElementsByTagName("script"),E=0;E<v.length;E++){var y=v[E];if(y.getAttribute("src")==e||y.getAttribute("data-webpack")==u+f){c=y;break}}c||(g=!0,c=document.createElement("script"),c.charset="utf-8",c.timeout=120,Et.nc&&c.setAttribute("nonce",Et.nc),c.setAttribute("data-webpack",u+f),c.src=e),z[e]=[o];var p=(S,x)=>{c.onerror=c.onload=null,clearTimeout(O);var T=z[e];if(delete z[e],c.parentNode&&c.parentNode.removeChild(c),T&&T.forEach(_=>_(x)),S)return S(x)},O=setTimeout(p.bind(null,void 0,{type:"timeout",target:c}),12e4);c.onerror=p.bind(null,c.onerror),c.onload=p.bind(null,c.onload),g&&document.head.appendChild(c)}})(),Et.r=z=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(z,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(z,"__esModule",{value:!0})},Et.nmd=z=>(z.paths=[],z.children||(z.children=[]),z),Et.j=179,Et.p="https://substackcdn.com/bundle/",(()=>{if(typeof document!="undefined"){var z=(f,l,c,g,v)=>{var E=document.createElement("link");E.rel="stylesheet",E.type="text/css";var y=p=>{if(E.onerror=E.onload=null,p.type==="load")g();else{var O=p&&(p.type==="load"?"missing":p.type),S=p&&p.target&&p.target.href||l,x=new Error("Loading CSS chunk "+f+` failed.
(`+S+")");x.code="CSS_CHUNK_LOAD_FAILED",x.type=O,x.request=S,E.parentNode&&E.parentNode.removeChild(E),v(x)}};return E.onerror=E.onload=y,E.href=l,c?c.parentNode.insertBefore(E,c.nextSibling):document.head.appendChild(E),E},u=(f,l)=>{for(var c=document.getElementsByTagName("link"),g=0;g<c.length;g++){var v=c[g],E=v.getAttribute("data-href")||v.getAttribute("href");if(v.rel==="stylesheet"&&(E===f||E===l))return v}for(var y=document.getElementsByTagName("style"),g=0;g<y.length;g++){var v=y[g],E=v.getAttribute("data-href");if(E===f||E===l)return v}},e=f=>new Promise((l,c)=>{var g=Et.miniCssF(f),v=Et.p+g;if(u(g,v))return l();z(f,v,null,l,c)}),o={179:0,661:0,96:0};Et.f.miniCss=(f,l)=>{var c={156:1,298:1,411:1,525:1,661:1,829:1,853:1};o[f]?l.push(o[f]):o[f]!==0&&c[f]&&l.push(o[f]=e(f).then(()=>{o[f]=0},g=>{throw delete o[f],g}))}}})(),(()=>{var z={179:0,661:0,96:0};Et.f.j=(o,f)=>{var l=Et.o(z,o)?z[o]:void 0;if(l!==0)if(l)f.push(l[2]);else if(o!=411){var c=new Promise((y,p)=>l=z[o]=[y,p]);f.push(l[2]=c);var g=Et.p+Et.u(o),v=new Error,E=y=>{if(Et.o(z,o)&&(l=z[o],l!==0&&(z[o]=void 0),l)){var p=y&&(y.type==="load"?"missing":y.type),O=y&&y.target&&y.target.src;v.message="Loading chunk "+o+` failed.
(`+p+": "+O+")",v.name="ChunkLoadError",v.type=p,v.request=O,l[1](v)}};Et.l(g,E,"chunk-"+o,o)}else z[o]=0};var u=(o,f)=>{var[l,c,g]=f,v,E,y=0;if(l.some(O=>z[O]!==0)){for(v in c)Et.o(c,v)&&(Et.m[v]=c[v]);if(g)var p=g(Et)}for(o&&o(f);y<l.length;y++)E=l[y],Et.o(z,E)&&z[E]&&z[E][0](),z[E]=0},e=self.webpackChunksubstack=self.webpackChunksubstack||[];e.forEach(u.bind(null,0)),e.push=u.bind(null,e.push.bind(e))})();var sa={};(()=>{"use strict";var z=Et(1824),u=Et(72496),e=Et(6400),o=Et(30396),f=Et(94184),l=Et.n(f),c=Et(1469),g=Et.n(c),v=Et(20042),E=Et(56232),y=Et(13045),p=Et(15045),O=Et(39419),S=Et(26059),x=Et(81243);const T=[["global_admin","Global Admin"],["owner","Owner"],["founding_sub","Founding Sub"],["paid_sub","Paid Sub"],["free_sub","Free Sub"],["non_sub","Non Sub"]];function _(n,t,r){return!t||!n?!1:r==="owner"?n.author_id===t.id:t.email===`${r}_for_${n.subdomain}@example.com`}const d=({setExpanded:n})=>(0,e.h)("div",{style:{cursor:"pointer",width:"30px",height:"30px",opacity:.5,color:"var(--background_pop)"},onClick:()=>n(!0)},(0,e.h)(x.Z,{height:30,stroke:"var(--background_pop)",fill:"var(--background_pop)"})),s=({pub:n,user:t,setExpanded:r})=>{const[i,a]=(0,o.eJ)("");return(0,e.h)("div",{style:{padding:"10px 20px",position:"relative",backgroundColor:"var(--web_bg_color)"}},(0,e.h)("div",null,"Sign in as",(0,e.h)("div",{style:{position:"absolute",top:7,right:7,cursor:"pointer"},onClick:()=>r(!1)},(0,e.h)(S.Z,{height:20}))),T.map(([M,k])=>(0,e.h)("div",null,(0,e.h)("a",{className:l()("button",_(n,t,M)?"primary":"outline"),style:{width:"100%",marginTop:3},onClick:()=>{window.location.href=(0,p.pathWithQuery)("/api/v1/debug/log-in-as",{user_type:M,orig_url:window.location.href})}},k))),(0,e.h)("form",{onSubmit:M=>{M.preventDefault(),i&&(window.location.href=(0,p.pathWithQuery)("/api/v1/debug/log-in-as",{custom_user:i,orig_url:window.location.href}))}},(0,e.h)("input",{value:i,onChange:M=>{var k;a((k=M.target)==null?void 0:k.value)},type:"email"}),(0,e.h)("button",{type:"submit"},"Sign in as")))};class w extends e.Component{constructor(t,r){super(t,r),this.onDocumentMouseUp=i=>{!(0,O.isRootOrChild)(i.target,this.base)&&this.state.expanded&&this.setState({expanded:!1})},this.state={expanded:!1}}componentDidMount(){document.addEventListener("mouseup",this.onDocumentMouseUp)}componentWillUnmount(){document.removeEventListener("mouseup",this.onDocumentMouseUp)}render({pub:t,user:r},{expanded:i}){var a;return null}}var P=Et(28488),I=Et(43887),D=Et(76193),N=Et(18597),C=Et(3258),A=Et(89018),L=Et(34755),U=Object.defineProperty,W=Object.defineProperties,G=Object.getOwnPropertyDescriptors,$=Object.getOwnPropertySymbols,q=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable,R=(n,t,r)=>t in n?U(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,j=(n,t)=>{for(var r in t||(t={}))q.call(t,r)&&R(n,r,t[r]);if($)for(var r of $(t))J.call(t,r)&&R(n,r,t[r]);return n},ie=(n,t)=>W(n,G(t)),le=(n,t)=>{var r={};for(var i in n)q.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&$)for(var i of $(n))t.indexOf(i)<0&&J.call(n,i)&&(r[i]=n[i]);return r};const ue=n=>{var t=n,{svgParams:r}=t,i=le(t,["svgParams"]);return(0,e.h)(L.l,ie(j({},i),{name:"SubstackIcon",svgParams:j({height:1e3,width:1e3,fill:A.substack_color,stroke:"none"},r)}),(0,e.h)("path",{d:"M764.166 348.371H236.319V419.402H764.166V348.371Z"}),(0,e.h)("path",{d:"M236.319 483.752V813.999L500.231 666.512L764.19 813.999V483.752H236.319Z"}),(0,e.h)("path",{d:"M764.166 213H236.319V284.019H764.166V213Z"}))};var oe=Et(33705),te=Et(20501);function Z(n,t){return[...Array(2*n.length-1)].map((r,i)=>i%2?t:n[i/2])}const re=({publication:n})=>{switch(n==null?void 0:n.subdomain){case"activisionblizzard":return(0,e.h)(be,null);case"demographyunplugged":return(0,e.h)(_e,null);default:return(0,e.h)(se,null)}},ae=({publication:n})=>{const{iString:t}=(0,P.M1)();if((n==null?void 0:n.subdomain)==="demographyunplugged")return(0,e.h)(e.Fragment,null,(0,e.h)(I.xv,{translated:!0,size:14,className:"tos"},"Substack's"," ",(0,e.h)("a",{href:"https://substack.com/privacy",target:"__blank"},"Privacy"),","," ",(0,e.h)("a",{href:"https://substack.com/tos",target:"__blank"},"Terms")," ","and"," ",(0,e.h)("a",{href:"https://substack.com/ccpa#personal-data-collected",target:"__blank"},"Information Collection Notice")),(0,e.h)(I.xv,{translated:!0,size:14,className:"tos"},"Demography Unplugged's"," ",(0,e.h)("a",{href:"https://www.demographyunplugged.com/p/privacy-policy",target:"__blank"},"Privacy")," ","and"," ",(0,e.h)("a",{href:"https://www.demographyunplugged.com/p/terms-of-service",target:"__blank"},"Terms")));const r=[(0,e.h)("a",{href:(0,p.getPrivacyUrl)({pub:n,utm_source:""}),target:"__blank"},t("Privacy")),(0,e.h)("a",{href:"https://substack.com/tos",target:"__blank"},t("Terms")),(0,e.h)("a",{href:`${(0,te.getSubstackUrl)()}/ccpa#personal-data-collected`,target:"__blank"},t("Collection notice"))];return(n==null?void 0:n.subdomain)==="activisionblizzard"&&r.push((0,e.h)(e.Fragment,null,"Activision's"," ",(0,e.h)("a",{href:"https://www.activisionblizzard.com/legal/privacy-policy",target:"__blank"},"Privacy Policy"))),(n==null?void 0:n.subdomain)==="demographyunplugged"&&(r.push((0,e.h)(e.Fragment,null,"Demography Unplugged's"," ",(0,e.h)("a",{href:"https://www.demographyunplugged.com/p/privacy-policy",target:"__blank"},"Privacy Policy"))),r.push((0,e.h)(e.Fragment,null,"Demography Unplugged's"," ",(0,e.h)("a",{href:"https://www.demographyunplugged.com/p/terms-of-service",target:"__blank"},"Terms")))),(0,e.h)(e.Fragment,null,Z(r,(0,e.h)("span",null," \u2219 ")))},se=()=>(0,e.h)(I.xv,{translated:!0,size:14,color:"tertiary",className:"tos"},"By registering you agree to Substack's"," ",(0,e.h)("a",{href:"https://substack.com/tos",target:"__blank"},"Terms of Service"),", our"," ",(0,e.h)("a",{href:"https://substack.com/privacy",target:"__blank"},"Privacy Policy"),", and our"," ",(0,e.h)("a",{href:"https://substack.com/ccpa#personal-data-collected",target:"__blank"},"Information Collection Notice")),be=()=>(0,e.h)(I.xv,{translated:!0,size:14,color:"tertiary",className:"tos"},"By registering you agree to Substack's"," ",(0,e.h)("a",{href:"https://substack.com/tos",target:"__blank"},"Terms of Service"),", our"," ",(0,e.h)("a",{href:"https://substack.com/privacy",target:"__blank"},"Privacy Policy"),", our"," ",(0,e.h)("a",{href:"https://substack.com/ccpa#personal-data-collected",target:"__blank"},"Information Collection Notice"),", and Activision's"," ",(0,e.h)("a",{href:"https://www.activisionblizzard.com/legal/privacy-policy",target:"__blank"},"Privacy Policy")),_e=()=>(0,e.h)("div",{className:"tos"},(0,e.h)(I.xv,{translated:!0,size:14,color:"tertiary"},"By registering you agree to Substack's"," ",(0,e.h)("a",{href:"https://substack.com/tos",target:"__blank"},"Terms of Service"),", our"," ",(0,e.h)("a",{href:"https://substack.com/privacy",target:"__blank"},"Privacy Policy"),", our"," ",(0,e.h)("a",{href:"https://substack.com/ccpa#personal-data-collected",target:"__blank"},"Information Collection Notice"),"."),(0,e.h)(I.xv,{translated:!0,size:14,color:"tertiary"},"You also agree to receive marketing emails from Hedgeye Risk Management, LLC pursuant to its"," ",(0,e.h)("a",{href:"https://www.demographyunplugged.com/p/privacy-policy",target:"__blank"},"Privacy Policy")," ","and"," ",(0,e.h)("a",{href:"https://www.demographyunplugged.com/p/terms-of-service",target:"__blank"},"Terms of Service"),"."),(0,e.h)(I.xv,{translated:!0,size:14,color:"tertiary"},"You may unsubscribe at any time by clicking the unsubscribe link in one of the emails."));var pe=Object.defineProperty,me=(n,t,r)=>t in n?pe(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Te=(n,t,r)=>(me(n,typeof t!="symbol"?t+"":t,r),r),ve=(n,t,r)=>new Promise((i,a)=>{var M=B=>{try{F(r.next(B))}catch(Y){a(Y)}},k=B=>{try{F(r.throw(B))}catch(Y){a(Y)}},F=B=>B.done?i(B.value):Promise.resolve(B.value).then(M,k);F((r=r.apply(n,t)).next())});class ce extends e.Component{constructor(){super(...arguments),Te(this,"checkVisibility",()=>{if(!this.ref)return;const t=this.ref.getBoundingClientRect(),r=this.props.threshold||0,i=this.props.parent?this.props.parent.clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight),a=!(t.bottom<0-r||t.top>=i+r);(0,O.stateTransaction)(this,(M,k)=>ve(this,null,function*(){if(M.isVisible!==a)this.setState({isVisible:a});else if(!k.noDedupe)return;const B=a?"hadFirstVisible":"hadFirstInvisible",Y=!M[B];Y&&this.setState({[B]:!0}),(yield Promise.all([a&&k.onVisible&&k.onVisible(),a&&k.onFirstVisible&&Y&&k.onFirstVisible(),!a&&k.onInvisible&&k.onInvisible(),!a&&k.onFirstInvisible&&Y&&k.onFirstInvisible()])).reduce((Ce,Se)=>Se===!0||Ce)&&this.checkVisibility()}))})}componentDidMount(){return ve(this,null,function*(){typeof window!="undefined"&&(this.ref||(yield new Promise(t=>setTimeout(t,0))),this.checkVisibility(),(this.props.parent||window).addEventListener("scroll",this.checkVisibility))})}componentWillUnmount(){typeof window!="undefined"&&(this.props.parent||window).removeEventListener("scroll",this.checkVisibility)}render({className:t,children:r}){return(0,e.h)("div",{ref:i=>this.ref=i,className:l()("visibility-check",t)},r)}}const Le={modalTitle:"frontend-components-app_install_modal-module__modalTitle--HauTj",qrCode:"frontend-components-app_install_modal-module__qrCode--ri0e5",divider:"frontend-components-app_install_modal-module__divider--LMfZC",dividerLine:"frontend-components-app_install_modal-module__dividerLine--czFeZ",appBadge:"frontend-components-app_install_modal-module__appBadge--aBeVu"},Ne=({publication:n,user:t,path:r,hideTerms:i,showIntrinioAttrib:a})=>{const{iString:M}=(0,P.M1)();typeof i=="undefined"&&(i=!1);const k=(0,N.Tf)(),F=(0,D.isMobile)(),B=(0,D.isIos)(),Y=(0,D.isAndroid)(),ge=F&&(B||Y),Ce=t&&!t.reader_installed_at,Se=ge&&Ce;return(0,e.h)("div",{className:"footer-wrap publication-footer"},(0,e.h)(ce,{onVisible:()=>{(0,C.j)(C.FP.PUBLICATION_FOOTER_SEEN,{publication_id:n==null?void 0:n.id,user_id:t==null?void 0:t.id,source:He(r)})}}),(0,e.h)("div",{className:l()("footer",{"themed-background":k})},(0,e.h)("div",{className:"container"},(0,e.h)("div",{className:"footer-blurbs"},(0,e.h)("div",{className:"footer-copyright-blurb"},"\xA9 ",new Date().getFullYear()," ",n&&n.copyright||"Substack Inc"),a&&(0,e.h)(I.xv,{translated:!0,as:"div",className:"footer-copyright-blurb"},"Market data by ",(0,e.h)("a",{href:"https://intrinio.com/"},"Intrinio")),!i&&(0,e.h)("div",{className:"footer-terms-blurb"},(0,e.h)(ae,{publication:n}))),(0,e.h)("div",{className:"footer-buttons"},(0,e.h)("a",{className:l()("footer-substack-cta","start-publishing",Se&&"app-upsell"),native:!0,href:t!=null&&t.has_publication?`${(0,p.getBaseUrl)({subdomain:"your"})}/publish`:`${(0,p.getSubstackUrl)()}/signup?${(0,p.serializeQuery)({utm_source:"substack",utm_medium:"web",utm_content:"footer"})}`},(0,e.h)(ue,null)," ",M("Start Writing")),!Se&&(0,e.h)("a",{className:"footer-substack-cta get-the-app no-icon",native:!0,href:(0,p.getAppStoreRedirectUrl)({utm_campaign:"app-marketing",utm_content:"web-footer-button"})},M("Get the app")),Se&&B&&(0,e.h)("a",{className:Le.appBadge,href:(0,p.getAppStoreRedirectUrl)({utm_campaign:"app-marketing",utm_content:"web-footer-button",force:"ios"})},(0,e.h)("img",{className:"app-upsell",src:(0,p.imginary)("/img/app_page/app-store.png",160*2)})),Se&&Y&&(0,e.h)("a",{className:Le.appBadge,href:(0,p.getAppStoreRedirectUrl)({utm_campaign:"app-marketing",utm_content:"web-footer-button",force:"android"})},(0,e.h)("img",{className:"app-upsell",src:(0,p.imginary)("/img/app_page/google-play.png",160*2)}))),(0,e.h)(I.xv,{translated:!0,as:"div",className:"footer-slogan-blurb"},(0,e.h)("a",{href:`${(0,p.getSubstackUrl)()}`,native:!0},"Substack")," ","is the home for great writing"))))};function He(n){return n?n==="/"?"pub-homepage":n.startsWith("/p")?"pub-post":n:"unknown"}const ze=()=>h("div",{className:"footer-wrap www-footer"},h("div",{className:"home-footer"},h("div",{className:"footer-contain"},h("div",{className:"footer-info"},h("div",{className:"footer-info-col"},h("h3",null,"Read"),h("a",{href:"/discover?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Discover"),h("a",{href:"/app?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Get the app"),h("a",{href:"https://on.substack.com/s/stories?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Featured"),h("a",{href:"https://reader.substack.com?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Substack Reader"),h("a",{href:"/discover/category/culture/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top in culture"),h("a",{href:"/discover/category/podcast/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top podcasts"),h("a",{href:"/discover/category/food/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top in food & drink"),h("a",{href:"/discover/category/finance/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top in finance"),h("a",{href:"/discover/category/sports/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top in sports"),h("a",{href:"/discover/category/politics/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top in politics"),h("a",{href:"/discover/category/technology/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top in technology"),h("a",{href:"/discover/category/faith/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top in faith"),h("a",{href:"/discover/category/business/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top in business"),h("a",{href:"/sitemap",native:!0},"Sitemap")),h("div",{className:"footer-info-col"},h("h3",null,"Writers"),h("a",{href:"/switch-to-substack?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Switch to Substack"),h("a",{href:"/ghost?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Switch from Ghost"),h("a",{href:"https://on.substack.com/p/start-a-substack-newsletter?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Get started"),h("a",{href:"/going-paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Go paid"),h("a",{href:"/podcasts?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"For podcasts"),h("a",{href:"/for-bloggers?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"For bloggers"),h("a",{href:"/investing-and-business?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"For finance writers"),h("a",{href:"/book?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"For authors"),h("a",{href:"/comic-book-creators?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"For comic creators"),h("a",{href:"/food-writers?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"For food writers"),h("a",{href:"/local-news?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"For local news")),h("div",{className:"footer-info-col"},h("h3",null,"Company"),h("a",{href:getAboutUrl(null,{params:{utm_source:"substack",utm_medium:"web",utm_content:"footer"}}),native:!0},"About"),h("a",{href:getSupportUrl()},"Help"),h("a",{href:"/jobs?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Jobs"),h("a",{href:"https://on.substack.com?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Blog"),h("a",{href:"/vulnerability-disclosure?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Vulnerability Policy"),h("a",{href:"/contact?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Contact")),h("div",{className:"footer-info-col"},h("h3",null,"Resources"),h("a",{href:"/resources?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Resource center"),h("a",{href:"/going-paid-guide?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Guide to going paid"),h("a",{href:"https://support.substack.com/hc/en-us?s=support%40substack.com",native:!0},"Help center"),h("a",{href:"/community-and-programs?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Community and programs"),h("a",{href:"/brand?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Brand assets"))),h("div",{className:"logo-copy-wrapper"},h(SubstackIconNoPadding,{className:"navbar-logo-wordmark substack-logo-wordmark"}),h("div",{className:"slogan tw-mt-5"},"Substack is the home for great writing")))),h("div",{className:"footer-divider"}),h("div",{className:"footer-bottom-bar"},h("div",{className:"app-badges"},h("a",{className:"app-badge",href:getAppStoreUrl({utm_campaign:"app-marketing",utm_content:"www-footer"})},h("img",{src:imginary("/img/app_page/app-store-white.png?v=1",119*2),height:40,width:134,loading:"lazy"})),h("a",{className:"app-badge",href:getPlayStoreUrl({utm_campaign:"app-marketing",utm_content:"www-footer"})},h("img",{src:imginary("/img/app_page/google-play-white.png",119*2),height:40,width:134,loading:"lazy"}))),h("div",{className:"footer-bottom-links"},h("span",{className:"copyright bottom-item"},"\xA9 Substack Inc."),h("a",{className:"bottom-item",href:getPrivacyUrl(),native:!0},"Privacy"),h("a",{className:"bottom-item",href:"/tos",native:!0},"Terms"),h("a",{className:"bottom-item",href:`${getSubstackUrl()}/ccpa#personal-data-collected`,native:!0},"Collection notice"))));class Xe extends e.Component{render({html:t,children:r,metadata:i}){return(0,e.h)("div",{className:"container-border"},(0,O.setMetaData)(i),(0,e.h)("div",{className:"container"},(0,e.h)("div",{className:"page typography"},r,(0,e.h)("div",{className:"body markup",dangerouslySetInnerHTML:{__html:t}}))))}}var _t=Et(36808);const we="balance-text",We=100,Ie=10,tt=4;function et(n){vt(n)&&(n.style.maxWidth="",ht(n,n.clientHeight,0,n.clientWidth)),n.classList.add("visible")}function ht(n,t,r,i){if(i-r<tt){n.clientHeight>t?n.style.maxWidth=`${i}px`:n.style.maxWidth=`${n.scrollWidth+1}px`;return}if(r>=i){n.style.maxWidth=`${i}px`;return}const a=(r+i)/2;n.style.maxWidth=`${a}px`,n.clientHeight>t?ht(n,t,a,i):ht(n,t,r,a)}function vt(n){var t;const r=n.innerHTML,i=n.textContent.split(" "),a=document.createElement("span");a.id="element-first-word",a.textContent=i.shift(),n.innerHTML="",n.appendChild(a),n.appendChild(document.createTextNode(` ${i.join(" ")}`));const M=((t=document.getElementById("element-first-word"))==null?void 0:t.offsetHeight)||a.offsetHeight,k=n.offsetHeight;return n.innerHTML=r,k-Ie>M}class Lt extends e.Component{constructor(t,r){super(t,r),this.debouncedRebalance=(0,O.debounce)(()=>this.rebalance(),We)}componentDidMount(){this.rebalance(),typeof window!="undefined"&&window.addEventListener("resize",this.debouncedRebalance,!0)}componentDidUpdate(){this.rebalance()}componentWillUnmount(){typeof window!="undefined"&&window.removeEventListener("resize",this.debouncedRebalance,!0)}shouldComponentUpdate(t){return t.children!==this.props.children}rebalance(){typeof window!="undefined"&&this.base&&et(this.base)}render({text:t}){return(0,e.h)("span",{"data-testid":"balanced-text",className:we,style:{display:"inline-block"}},t)}}var $t=Et(7922),yt=Et(84040),he=Et(51126),je=Et(23890);const De=({allowAllDay:n,redirect:t,onCancel:r})=>{const[i,a]=(0,o.eJ)(!1);return(0,e.h)(je.ZP,{className:"customer-support-mode-form",analyticsName:"Customer Support Mode Form",action:"/api/v1/customer_support_mode",onSuccess:()=>document.location.href=t||"/",autoLock:!0},(0,e.h)(he.tu,{gap:8},(0,e.h)(I.xv.Meta,{className:"danger",weight:"semibold",color:"error"},"Danger"),(0,e.h)(I.xv.H2,null,"Support Mode"),(0,e.h)(I.xv.B3,null,"Be absolutely respectful to the writers on whose behalf you are working."),n&&(0,e.h)("label",null,(0,e.h)(he.gq,{gap:8},(0,e.h)("input",{type:"checkbox",defaultChecked:!1,onInput:M=>a(M.target.checked)})," ",(0,e.h)(I.xv.B3,null,"Allow access for the day because I'm doing Customer Support"))),i&&(0,e.h)("input",{type:"hidden",name:"all_pubs",value:"true"}),(0,e.h)("input",{type:"hidden",name:"minutes",value:i?10*60:30}),(0,e.h)("div",{id:"error-container"}),(0,e.h)(he.gq,{gap:8,paddingTop:8},(0,e.h)(yt.zx,{priority:"destructive",type:"submit",id:"enter-support-mode"},"Enter support mode"),r&&(0,e.h)(yt.zx,{priority:"secondary",onClick:r},"Cancel"))))};var Be=Et(41406),Ke=Et(11851),it=Object.defineProperty,Qe=Object.defineProperties,Ae=Object.getOwnPropertyDescriptors,H=Object.getOwnPropertySymbols,ee=Object.prototype.hasOwnProperty,de=Object.prototype.propertyIsEnumerable,Ee=(n,t,r)=>t in n?it(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Me=(n,t)=>{for(var r in t||(t={}))ee.call(t,r)&&Ee(n,r,t[r]);if(H)for(var r of H(t))de.call(t,r)&&Ee(n,r,t[r]);return n},$e=(n,t)=>Qe(n,Ae(t));const ct=n=>(0,e.h)(L.l,$e(Me({},n),{name:"RightArrowIcon",svgParams:{height:20,width:20}}),(0,e.h)("path",{d:"M7.5 15L12.5 10L7.5 5","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}));function wt({text:n,maxLines:t,ellipsesText:r="..."}){const i=(0,o.sO)(null),[a,M]=(0,o.eJ)(n);return(0,o.d4)(()=>{(()=>{if(!i.current)return;i.current.innerText="-";const B=(i.current.clientHeight+1)*t+1;let Y=0,ge=0,Ce=n.length;for(;Y<=Ce;){if(ge=Math.floor((Y+Ce)/2),i.current.innerText=n.slice(0,ge),ge===n.length&&i.current.clientHeight<=B){i.current.innerText="",M(n);return}i.current.clientHeight<=B?Y=ge+1:Ce=ge-1}const Se=n.slice(0,ge-r.length-2);i.current.innerText="",M(Se+r)})()},[i,n,t,r]),(0,e.h)("div",{style:{position:"relative"}},(0,e.h)("div",null,a),(0,e.h)("div",{ref:i,style:{visibility:"hidden",position:"absolute",width:"100%"}}))}var Mt=Et(96789),pn=Et(79786),Mn=Et(32076),$n=Et(63270),mr=Et(80569),jn=Et.n(mr),dr=Et(94930),nn=Et(83322),jr=(n,t,r)=>new Promise((i,a)=>{var M=B=>{try{F(r.next(B))}catch(Y){a(Y)}},k=B=>{try{F(r.throw(B))}catch(Y){a(Y)}},F=B=>B.done?i(B.value):Promise.resolve(B.value).then(M,k);F((r=r.apply(n,t)).next())});const Dr={};function At(n,t,r,i,a){return jr(this,arguments,function*(M,k,F,{required:B=!1,group:Y=!1,gift:ge=!1},Ce){if(!F){Ce(null);return}F in Dr||(Ce({id:F,required:B,loading:!0}),Dr[F]=yield Zt(F));const Se=Dr[F],Ue=Se&&Se.type==="FREE_TRIAL"&&k&&(yield _n(F));Ue&&Ue.length&&B?Ce({id:Se&&Se.id||F,code:Se&&Se.code,name:Se&&Se.name,required:B,error:!0,message:"This coupon has already been redeemed by this user."}):(0,dr.isCouponValid)(Se,{is_group:Y,is_gift:ge,paywallFreeTrialEnabled:M.paywall_free_trial_enabled})&&(M.plans||[]).filter(Ye=>(0,dr.isCouponValidForPlan)(Se,Ye)).length>0?Ce(Object.assign({required:B},Se)):Ce(B?{id:Se&&Se.id||F,code:Se&&Se.code,name:Se&&Se.name,required:B,error:!0,message:"The coupon is not valid or has expired."}:null)})}function Wt(n){return jr(this,null,function*(){let t;try{if(t=(yield request.get("/api/v1/coupon").query({freeTrialCoupon:!0})).body,t&&t.length&&n){const i=yield _n(t[0].id);if(i&&i.length)throw new AppError("User has already redeemed this free trial coupon")}}catch(r){return console.error("Failed to fetch coupons:",r),null}return t.length>0?t[0]:null})}function Zt(n){return jr(this,null,function*(){try{return(yield jn().get(`/api/v1/coupon/${n}`)).body}catch(t){return console.error("Failed to fetch coupon:",t),null}})}function _n(n){return jr(this,null,function*(){try{return(yield jn().get(`/api/v1/coupon_redemption/${n}`).query()).body}catch(t){return console.error("Failed to fetch coupon redemptions:",t),null}})}function Kn(n){return jr(this,null,function*(){try{const r=(yield request.get("/api/v1/coupon").query({freeTrialCoupon:!0,includeInvalid:!0})).body;if(!r||r.length===0){const i={name:"Want to keep reading?",description:"Subscribe now to get an exclusive 7-day free trial.",percent_or_trial:"on",trial_period_days:"7",percent_off:"",duration:"",duration_in_months:"",show_redeem_by:!1,redeem_by:"",show_code:!1,is_default:!1,is_group_default:!1,edu_only:!1,yearly_only:!1,group_only:!1,allowed_suffixes_checked:!1,type:"FREE_TRIAL"};yield request.post("/api/v1/coupon").send(i)}else r[0].valid===!1?yield request.put(`/api/v1/coupon/${r[0].id}`).send(Object.assign({},r[0],{is_default:!1,is_group_default:!1,valid:!0})):console.warn(`Coupon id ${r[0].id} already enabled but attempted to be enabled`);return 0}catch(t){return console.error("Failed to create free trial coupon:",t),1}})}function wr(){return jr(this,null,function*(){try{const t=(yield request.get("/api/v1/coupon").query({freeTrialCoupon:!0})).body;!t||t.length===0?console.error("No free trial coupon exists to disable"):yield request.put(`/api/v1/coupon/${t[0].id}`).send(Object.assign({},t[0],{is_default:!1,is_group_default:!1,valid:!1}))}catch(n){return console.error("Failed to disable free trial coupon:",n),null}})}var Nr=Et(1852),no=Et(56242),Jr=Object.defineProperty,$r=Object.defineProperties,bo=Object.getOwnPropertyDescriptors,mo=Object.getOwnPropertySymbols,So=Object.prototype.hasOwnProperty,go=Object.prototype.propertyIsEnumerable,Eo=(n,t,r)=>t in n?Jr(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,ro=(n,t)=>{for(var r in t||(t={}))So.call(t,r)&&Eo(n,r,t[r]);if(mo)for(var r of mo(t))go.call(t,r)&&Eo(n,r,t[r]);return n},po=(n,t)=>$r(n,bo(t)),wo=(n,t)=>{var r={};for(var i in n)So.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&mo)for(var i of mo(n))t.indexOf(i)<0&&go.call(n,i)&&(r[i]=n[i]);return r};const ko=n=>{var t=n,{color:r="#1C110B",strokeWidth:i=1}=t,a=wo(t,["color","strokeWidth"]);return h(SvgIcon,po(ro({},a),{name:"CaretRightIcon",svgParams:{height:14,width:8,viewBox:"0 0 8 14"}}),h("path",{d:"M1 13L7 7L1 1",stroke:r,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":i}))},ei=null;var Do=Object.defineProperty,Uo=Object.defineProperties,mn=Object.getOwnPropertyDescriptors,Dn=Object.getOwnPropertySymbols,Wn=Object.prototype.hasOwnProperty,Hn=Object.prototype.propertyIsEnumerable,vr=(n,t,r)=>t in n?Do(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,tr=(n,t)=>{for(var r in t||(t={}))Wn.call(t,r)&&vr(n,r,t[r]);if(Dn)for(var r of Dn(t))Hn.call(t,r)&&vr(n,r,t[r]);return n},pr=(n,t)=>Uo(n,mn(t));const kt=n=>h(SvgIcon,pr(tr({},n),{name:"LargePlusIcon",svgParams:{height:16,width:16,fill:"#78706C",stroke:"none"}}),h("rect",{x:"7",y:"1",width:"2",height:"14",rx:"1"}),h("rect",{x:"15",y:"7",width:"2",height:"14",rx:"1",transform:"rotate(90 15 7)"})),Vt=null;var en=Et(59736),dn=Et(65726),Nn=Et(81671),An=Et(85564),Rn=Et(84753),ft=Et(43174),Rt=Et(89734),zt=Et.n(Rt),tn=Et(45578),vn=Et(85928),un=Et.n(vn),wn=Object.defineProperty,Un=Object.defineProperties,Cr=Object.getOwnPropertyDescriptors,Hr=Object.getOwnPropertySymbols,Ur=Object.prototype.hasOwnProperty,Ar=Object.prototype.propertyIsEnumerable,oo=(n,t,r)=>t in n?wn(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,vo=(n,t)=>{for(var r in t||(t={}))Ur.call(t,r)&&oo(n,r,t[r]);if(Hr)for(var r of Hr(t))Ar.call(t,r)&&oo(n,r,t[r]);return n},ti=(n,t)=>Un(n,Cr(t));const Co=n=>(0,e.h)(L.l,ti(vo({},n),{name:"PodcastIcon",svgParams:{height:19,width:19}}),(0,e.h)("path",{d:"M10.1505 3H8.61291C6.06527 3 4 4.9401 4 7.33333V10","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M8.89246 3H10.4301C12.9778 3 15.043 4.9401 15.043 7.33333V10.5","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M3 12.1429V13.3571C3 14.5406 3.81359 15.5 4.81721 15.5H6.42473V10H4.81721C3.81359 10 3 10.9594 3 12.1429Z","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M16 12.1429V13.3571C16 14.5406 15.1864 15.5 14.1828 15.5H12.5753V10H14.1828C15.1864 10 16 10.9594 16 12.1429Z","stroke-linejoin":"round"})),Fo=()=>h(yo,null,h(PodcastIcon,{height:10,stroke:"white"}),"Podcast"),yo=({children:n,className:t})=>h("div",{className:cn("pill",t)},h("span",null,n)),Wo=null,Li=({publication:n,logo_size:t=60,isStatic:r=!1,children:i})=>r?h(ai,{publication:n,logo_size:t,children:i}):h("div",{className:"publication card"},t&&h("figure",{className:"logo"},h(PubIcon,{pub:n,logo_url:n.logo_url,size:t})),h("div",{className:"title"},h("div",{className:"name"},n.name),h("div",{className:"description"},n.hero_text),i)),ai=({publication:n,logo_size:t=60,className:r="",children:i})=>h("table",{role:"presentation",className:classnames("publication","card",r,n.logo_url?"has-logo":"no-logo"),width:"auto",cellpadding:0,cellspacing:0,border:"0"},h("tr",{cellpadding:"0",height:"100%"},t&&h("td",{rowspan:"3",className:"logo"},h("figure",{className:"logo"},n.logo_url?h(PubIcon,{pub:n,logo_url:n.logo_url,size:t,isStatic:!0}):h(SubstackIcon,{isStatic:!0,fill:n.theme_var_background_pop||substack_color,width:t,height:t}))),h("td",null,h("table",{cellpadding:"0",cellspacing:"0"},h("tr",null,h("td",{className:"title"},n.name)),h("tr",{cellpadding:"0",height:"80%"},h("td",{className:"description"},n.hero_text)),i)))),mi=null;var Oi=Et(84017),pi=Object.defineProperty,ui=Object.defineProperties,Mi=Object.getOwnPropertyDescriptors,Bi=Object.getOwnPropertySymbols,_i=Object.prototype.hasOwnProperty,gi=Object.prototype.propertyIsEnumerable,vi=(n,t,r)=>t in n?pi(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,si=(n,t)=>{for(var r in t||(t={}))_i.call(t,r)&&vi(n,r,t[r]);if(Bi)for(var r of Bi(t))gi.call(t,r)&&vi(n,r,t[r]);return n},xo=(n,t)=>ui(n,Mi(t)),ri=(n,t,r)=>new Promise((i,a)=>{var M=B=>{try{F(r.next(B))}catch(Y){a(Y)}},k=B=>{try{F(r.throw(B))}catch(Y){a(Y)}},F=B=>B.done?i(B.value):Promise.resolve(B.value).then(M,k);F((r=r.apply(n,t)).next())});const Si=({onClick:n,checked:t})=>h("div",{className:"select-all"},h("input",{name:"all",type:"checkbox",onInput:n,checked:t}),h("label",{for:"all",onClick:n},"Select ",t?"none":"all")),Di=({disabled:n,onClick:t,children:r})=>h(Button,{type:"submit",className:"primary xl",disabled:n,onClick:t},r),rt=({isStatic:n=!1,extraProps:t={},linkType:r=null,discoverable:i=null,text:a,icon:M=!0,onClick:k=null})=>{const F={};r!==null&&(F.type=r),i!==null&&(F.discoverable=i);const B=getFindTwitterPubsUrl(F);return h("div",si({className:"twitter-discover"},t),h("a",xo(si({className:"twitter-link",href:B},k&&{onClick:k}),{native:!0}),h("div",{className:"inner"},M&&h(TwitterIcon,{stroke:"white",fill:"white",isStatic:n}),h("span",{className:"twitter-link-text"},a||"Find writers I follow"))))},Ge=({pub:n,checked:t,onToggle:r,isSubscribed:i,author:a,screenName:M})=>h("li",{className:"linked-pub"},h("div",{className:"linked-pub"},h("div",{className:"photo"},h("div",{className:"subscribed-status"},h("input",{type:"checkbox",checked:t||i,disabled:i,onInput:()=>r(n.id)})),h(UserProfilePhoto,{size:60,photo_url:a.photo_url}),h("div",{className:"twitter-handle"},h("span",{className:"author"},a==null?void 0:a.name),h("span",{className:"handle"}," @",M))),h("div",{className:"info"},h("div",{className:"publication-row"},h("a",{className:"publication",href:updateQuery(`${getBaseUrl(n)}/`,{utm_source:"substack",utm_medium:"web",utm_content:"discover-twitter"}),target:"_blank",native:!0},h(PubCard,{publication:n,logo_size:30},i?h("div",{className:"subscribed"},h(Pill,null,"Subscribed")):null)))))),Je=({result:n,selectedPubs:t,onToggle:r})=>{var i;const{publicationAuthor:a,screen_name:M,publication_id:k}=n,{name:F,ownedPublications:B}=a,Y=uniqBy(B,Se=>Se.id),ge=sortBy(Y,Se=>Se.latestPost[0]?dayjs(Se.latestPost[0].post_date).toDate():dayjs.unix(1).toDate()).reverse(),Ce=a.photo_url||((i=B.find(Se=>Se.id===k))==null?void 0:i.logo_url);return ge.map(Se=>{const Ue=Se.subscriptions.length;return h(Ge,{author:a,screenName:M,authorName:F,showLogo:Ce!==a.photo_url,pub:Se,checked:t.has(Se.id),onToggle:r,isSubscribed:Ue})})},mt=({user:n,freeSignupEmail:t,twitterEmail:r,twitterToken:i,onConfirmed:a,onSubscribed:M,formAction:k,pubIds:F,subscribeToken:B,redirect:Y,showDiscover:ge,editable:Ce,showLogout:Se})=>{const Ue=(n==null?void 0:n.email)||t||r,[Ye,Ve]=useState(!1),[at,pt]=useState(!0),[gt,xt]=useState(Ue);F?Y=updateQuery(Y,{pubIds:F,t:i}):Y=updateQuery(Y,{t:i,d:at});const Nt=Tt=>{const{userExists:Ut,subscribed:qt}=Tt.body;qt?M(qt):Ut?Ut&&(window.location.href=pathWithQuery(`${getSubstackUrl()}/sign-in`,{with_password:!1,email:gt,redirect:Y})):a()};return h("div",{className:"twitter-publications container"},h("section",null,h("div",{className:"terms-check"},h(FancyForm,{onSuccess:Tt=>Nt(Tt),method:"post",action:k,loading:!1,autoLock:!0},h("input",{name:"t",type:"hidden",value:i}),F&&h("input",{name:"pubIds",type:"hidden",value:F}),B&&h("input",{name:"subscribeToken",type:"hidden",value:B}),h("input",{name:"email",type:"text",disabled:!Ce&&Ue,value:gt,onInput:Tt=>xt(Tt.target.value)}),h("label",null,h("input",{type:"checkbox",checked:Ye,onInput:()=>Ve(!Ye)}),"I accept the"," ",h("a",{href:"/tos",target:"_blank",native:!0},"Terms of Use")),ge&&h("label",null,h("input",{name:"allow_discover",type:"checkbox",checked:at,onInput:()=>pt(!Ye)}),"Allow people to find my publications via Twitter"),Se&&h("label",null,h("a",{className:"login-button",href:getSignoutUrl(),native:!0},"Not you?")),h(Di,{disabled:!Ye},"Next \u2192")))))},bt=()=>h("div",{className:"twitter-publications container landing"},h("h2",null,"Thousands of writers and readers are already on Substack"),h("section",null,h("p",null,"Connect with Twitter to find them and subscribe to their publications."," ",h("span",{className:"light"},"(We'll never post to your Twitter without permission or abuse your data.)")),h("div",{className:"banner"},h(rt,null)))),jt=({user:n,stage:t,twitterEmail:r,freeSignupEmail:i,twitterToken:a})=>!a&&!n||t=="connect"?h(bt,null):h(Bt,si({},{user:n,stage:t,twitterEmail:r,freeSignupEmail:i,twitterToken:a})),Bt=({user:n,stage:t,twitterEmail:r,freeSignupEmail:i,twitterToken:a,buttonText:M=null,onSignup:k=null,requireSignup:F=!0,needsEmailConfirm:B=!0,renderIfNoneFound:Y=null,useProfilePrefix:ge=!1})=>{const[Ce,Se]=useState(null),[Ue,Ye]=useState(null),[Ve,at]=useState(null),[pt,gt]=useState(null),[xt,Nt]=useState(!B),[Tt,Ut]=useState(null),[qt,rn]=useState(!1),[ln,yn]=useState(new Set),[In,En]=useState(null),Yn=getQueryItem("subscribed"),kn=ge?"/profile":"";Yn?k?k():(at(Yn.split(",")),route("/discover-twitter/success")):t&&t!=="connect"&&!Ce&&!Ve&&route("/discover-twitter");const bn=Pn=>{const Xn=new Set(ln);ln.has(Pn)?Xn.delete(Pn):Xn.add(Pn),yn(Xn)},er=Pn=>flatten(Pn.map(Xn=>{var Gt;return((Gt=Xn.publicationAuthor)==null?void 0:Gt.ownedPublications)||[]}));useEffect(()=>ri(void 0,null,function*(){if(!qt){rn(!0);try{const Pn=yield request.get("/api/v1/twitter/publications"),{results:Xn,subscribeToken:Gt,needsConnect:lr,needsTwitterConfirm:Tn}=Pn.body;if(lr)route("/discover-twitter/connect");else{const cr=er(Xn),Er=new Set(cr.filter(or=>or.subscriptions.length===0).map(or=>or.id));let Gr;Er.size<=30?Gr=new Set(Er):Gr=new Set,Se(Xn),Ut(!1),En(Gt),Ye(Er),yn(Gr),gt(!Tn)}}catch(Pn){Ut(Pn)}rn(!1)}}),[]);let rr;Ce&&(Ce.length>0?pt?rr=`We found ${Ce.length} account${Ce.length>1?"s":""} you follow on Twitter`:rr=`Confirm your email to see ${Ce.length} account${Ce.length>1?"s":""} you follow on Twitter`:pt||(rr="Confirm your email to continue")),t==="confirm"&&(rr="Confirm your email"),Ve&&(rr="Success!");const Vn=Ce?er(Ce):null,ar=()=>{Nt(!0),gt(!0)},Jn=()=>ri(void 0,null,function*(){rn(!0);try{const Pn=yield request.post("/api/v1/twitter/subscribe").send({pubIds:[...ln].join(","),t:a,subscribeToken:In});if(k)k();else{const{subscribed:Xn}=Pn.body;at(Xn),route("/discover-twitter/success")}}catch(Pn){console.error("error subscribing",Pn)}rn(!1)}),Qn=Pn=>{at(Pn),route("/discover-twitter/success")},Ln=Pn=>{let Xn;Pn?Xn=new Set(Ue):Xn=new Set,yn(Xn)},qn=()=>{!B||xt?Jn():route("/discover-twitter/confirm")};return h("div",{className:"twitter-publications pub-list"},h("h2",{className:t},rr),qt&&h("p",{className:"loading"},"Loading..."),Tt&&h(Fragment,null,h("p",{className:"error"},"Sorry, there was an error getting your results!"),h("div",{className:"banner"},h(rt,null))),h(Router,null,Ce&&!Ve&&pt&&!qt&&h(Bn,{path:`${kn}/discover-twitter`,results:Ce,selectedPubs:ln,subscribablePubs:Ue,onToggleChecked:bn,onToggleAll:Ln,onNext:qn,loading:qt,buttonText:M,requireSignup:F,renderIfNoneFound:Y}),pt==!1&&h(mt,{path:`${kn}/discover-twitter`,formAction:"/api/v1/twitter/confirm",redirect:"/api/v1/twitter/continue-confirm",user:n,onConfirmed:ar,twitterEmail:r,twitterToken:a,freeSignupEmail:i,pubIds:[...ln],showDiscover:!0}),!xt&&h(mt,{path:`${kn}/discover-twitter/confirm`,redirect:"/api/v1/twitter/continue-subscribe",formAction:"/api/v1/twitter/subscribe",user:n,onSubscribed:Qn,twitterEmail:r,twitterToken:a,freeSignupEmail:i,pubIds:[...ln],subscribeToken:In,editable:!1,showLogout:!0}),Ce&&Ve&&h(Cn,{path:`${kn}/discover-twitter/success`,user:n,subscribed:Ve,pubs:Vn,results:Ce})))},sn=({pub:n,result:t})=>{const{hero_text:r,stripeAccount:i,logo_url:a}=n,{screen_name:M,publicationAuthor:{name:k,photo_url:F}}=t,B=i==null?void 0:i.plans;return h("li",{className:"linked-pub subscribed"},h("div",{className:"linked-pub"},h("div",{className:"photo"},h(UserProfilePhoto,{size:60,photo_url:a||F})),h("div",{className:"info"},h("div",{className:"publication-row"},h("div",{className:"publication"},h("div",{className:"name"},"@",M," - ",k),h("div",{className:"description"},r)),h("div",null,B&&h(LinkButton,{className:"outline small button",href:`${getBaseUrl(n)}/subscribe`,target:"_blank"},"Upgrade"))))))},Cn=({subscribed:n,pubs:t,results:r})=>{const i=uniqBy(t.filter(B=>n.find(Y=>Y===B.subdomain)),B=>B.id),[a,M]=partition(i,B=>{var Y;return(Y=B.stripeAccount)==null?void 0:Y.plans}),k=[...a,...M].length>1,F=a.length>1;return h("ul",null,h("div",{className:"sign-up"},a.length>0?h(Fragment,null,F?`${a.length} of the newsletters`:k?"One of the newsletters":"The newsletter"," ","you subscribed to ",F?"have":"has"," a paid version. You can upgrade"," ",F?"those subscriptions":"that subscription"," now or later."):`You're subscribed to the free version of ${k?"these newsletters":"this newsletter"}.  Happy reading!`),[...a,...M].map(B=>{const Y=r.find(ge=>ge.screen_name===B.twitterAccount.screen_name);return Y?h(sn,{pub:B,result:Y}):null}))},fn=({onNext:n})=>h("div",null,h("ul",null,h("p",null,"It doesn't appear anyone you follow on Twitter has a Substack yet. We'll let you know if that changes."),h(LinkButton,{className:"primary button",onClick:()=>{n()}},"Continue"))),Bn=({results:n,selectedPubs:t,onNext:r,onToggleChecked:i,onToggleAll:a,subscribablePubs:M,loading:k,buttonText:F,requireSignup:B,renderIfNoneFound:Y})=>{if(n.length===0)return Y||h(fn,{onNext:r});const ge=sortBy(n,pt=>{var gt;let xt;return pt.publicationAuthor.ownedPublications?xt=maxBy(pt.publicationAuthor.ownedPublications,Nt=>Nt.latestPost[0]?dayjs(Nt.latestPost[0].post_date).toDate():null):xt=null,xt!=null&&xt.latestPost[0]?dayjs((gt=xt.latestPost[0])==null?void 0:gt.post_date).toDate():dayjs.unix(1).toDate()}).reverse(),[Ce,Se]=partition(ge,pt=>(pt.publicationAuthor.ownedPublications||[]).some(gt=>gt.subscriptions.length===0)),Ue=M.size===t.size,Ye=()=>{a(!Ue)},Ve=(!B||t.size>0)&&!k,at=!B||M.size>0?h(Di,{onClick:r,disabled:!Ve},F?(t.size>0?"Subscribe and ":"")+F:"Sign up \u2192"):null;return h("div",null,h("section",{className:"sign-up"},"Subscribe to free newsletters from the people you already follow on Twitter"),h("ul",null,(!B||M.size>0)&&h(Fragment,null,(M.size>3||!B)&&at,h("li",null,M.size<30&&h(Si,{checked:Ue,onClick:Ye}))),[...Ce,...Se].map(pt=>h(Je,{result:pt,selectedPubs:t,onToggle:i})),at))};var Br=Object.defineProperty,Or=Object.getOwnPropertySymbols,Lr=Object.prototype.hasOwnProperty,Fe=Object.prototype.propertyIsEnumerable,Oe=(n,t,r)=>t in n?Br(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,ke=(n,t)=>{for(var r in t||(t={}))Lr.call(t,r)&&Oe(n,r,t[r]);if(Or)for(var r of Or(t))Fe.call(t,r)&&Oe(n,r,t[r]);return n};const qe=(0,e.createContext)({});qe.displayName="WWWContext";const Pt=n=>{const t=r=>{const i=useContext(qe);return h(n,ke(ke({},i),r))};return t.displayName=`withWWWContext(${n.name||n.displayName||"Anonymous"})`,t},Ct=()=>useContext(qe);var Ot=Et(8479),Dt=Object.defineProperty,Xt=Object.getOwnPropertySymbols,Yt=Object.prototype.hasOwnProperty,Jt=Object.prototype.propertyIsEnumerable,Qt=(n,t,r)=>t in n?Dt(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,on=(n,t)=>{for(var r in t||(t={}))Yt.call(t,r)&&Qt(n,r,t[r]);if(Xt)for(var r of Xt(t))Jt.call(t,r)&&Qt(n,r,t[r]);return n},Sn=(n,t,r)=>new Promise((i,a)=>{var M=B=>{try{F(r.next(B))}catch(Y){a(Y)}},k=B=>{try{F(r.throw(B))}catch(Y){a(Y)}},F=B=>B.done?i(B.value):Promise.resolve(B.value).then(M,k);F((r=r.apply(n,t)).next())});function Zn(n){const t=useWWWContext(),{categories:r,publications:i=[],categoryId:a,featuredPublications:M=[],communityPicksPublications:k=[],tastemakerPublications:F=[],user:B,categorySlug:Y,rankingSlug:ge,hasMore:Ce,updateUrl:Se=!1,maxPublications:Ue,showTwitterBanner:Ye,readerOnboardingModal:Ve}=on(on({},t),n),[at,pt]=useState(r),[gt,xt]=useState(sr(i,Ue)),[Nt,Tt]=useState(a),[Ut,qt]=useState(sr(M,Ue)),[rn,ln]=useState(sr(k,Ue)),[yn,In]=useState(sr(F,Ue)),[En,Yn]=useState(null),[kn,bn]=useState("paid"),[er,rr]=useState(null),[Vn,ar]=useState(0),[Jn,Qn]=useState(Ce);useEffect(()=>{const Gt=ge||"paid";bn(Gt),at||Sr().then(({categories:lr,publications:Tn,featuredPublications:cr,communityPicksPublications:Er,tastemakerPublications:Gr})=>{pt(lr);const or=getCategoryIdFromSlug(Y,lr);return Tt(or),qt(sr(cr,Ue)),ln(sr(Er,Ue)),In(sr(Gr,Ue)),or==="featured"?Tn:yr(or,Gt,0).then(({publications:Fr,more:fr})=>(ar(0),Ue||Qn(fr),Fr))}).then(lr=>{xt(sr(lr,Ue))})},[at,Y,ge,Ue]);const Ln=useCallback(()=>{const Gt=Vn+1;track(EVENTS.VIEWED_MORE_CATEGORY,{categoryId:Nt,ranking:kn,page:Gt}),yr(Nt,kn,Gt).then(({publications:lr,more:Tn})=>{const cr=new Set(gt.map(Er=>Er.id));ar(Gt),xt(gt.concat(lr.filter(Er=>!cr.has(Er.id)))),Qn(Tn)})},[Nt,kn,Vn,gt,ar,xt,Qn]),qn=({categoryId:Gt,ranking:lr,categories:Tn})=>{track(EVENTS.CLICKED_CATEGORY,{categoryId:Gt,ranking:lr}),Se&&route(qr({categoryId:Gt,categories:Tn,ranking:lr}),!0),Xn({categoryId:Gt,ranking:lr})},Pn=Gt=>{bn(Gt),Se&&route(qr({categoryId:Nt,categories:at,ranking:Gt}),!0),Xn({categoryId:Nt,ranking:Gt})},Xn=useCallback(Gt=>Sn(this,[Gt],function*({categoryId:lr,ranking:Tn}){if(Tt(lr),ar(0),lr==="featured"||lr==="twitter"){Yn(null),rr(null),Qn(!1),lr==="featured"&&xt(sr(Ut,Ue));return}Yn(lr),rr(Tn),xt([]),Qn(!1);const{publications:cr,more:Er}=yield yr(lr,Tn,0);Tt(lr),Yn(null),rr(null),bn(Tn),ar(0),Ue||Qn(Er),xt(sr(cr,Ue))}),[Yn,rr,Tt,ar,Qn,xt,Ut,Ue]);return{categories:at,publications:Nt==="featured"?Ut:gt,categoryId:Nt,ranking:kn,loadingCategoryId:En,loadingRanking:er,featuredPublications:Ut,user:B,categorySlug:Y,rankingSlug:ge,hasMore:Jn,viewMore:Ln,loadPublications:Xn,onCategoryClicked:qn,getCategoryIdFromSlug,setCategoryId:Tt,setRanking:bn,onRankingChange:Pn,maxPublications:Ue,showTwitterBanner:Ye,readerOnboardingModal:Ve}}const sr=(n,t)=>t?n.slice(0,t):n,Sr=()=>fetchJson("/api/v1/homepage/initial-category-data"),yr=(n,t="paid",r=0)=>fetchJson(`/api/v1/category/public/${n}/${t}?page=${r}`),qr=({categoryId:n,ranking:t,categories:r})=>{let i="";["twitter",COMMUNITY_PICKS_CATEGORY_NAME,TASTEMAKER_CATEGORY_NAME].includes(n)&&(i=n);const a=r.find(M=>M.id===n);return a!=null&&a.slug&&(i=`${a.slug}/${t}`),i?`/discover/category/${i}`:"/discover"},uo=({children:n,separator:t})=>{const r=[],i=(0,e.toChildArray)(n);return i.forEach((a,M)=>{r.push(a),M!==i.length-1&&r.push(t)}),(0,e.h)(e.Fragment,null,r)};var ho=Et(95297),Ao=Object.defineProperty,Yo=Object.getOwnPropertySymbols,$o=Object.prototype.hasOwnProperty,Io=Object.prototype.propertyIsEnumerable,ot=(n,t,r)=>t in n?Ao(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,lt=(n,t)=>{for(var r in t||(t={}))$o.call(t,r)&&ot(n,r,t[r]);if(Yo)for(var r of Yo(t))Io.call(t,r)&&ot(n,r,t[r]);return n},St=(n,t)=>{var r={};for(var i in n)$o.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Yo)for(var i of Yo(n))t.indexOf(i)<0&&Io.call(n,i)&&(r[i]=n[i]);return r};function an(n){const t=!n.disable_monthly_subscriptions&&n.plans&&n.plans.filter(a=>a.interval==="month").sort((a,M)=>a.amount-M.amount)[0],r=n.plans&&n.plans.filter(a=>a.interval==="year").sort((a,M)=>a.amount-M.amount)[0],i=t||r;if(i)return(0,nn.planBasePricing)(i)}const gn={desktop:15,mobile:6};function On(n,{includePrice:t=!0,includeRankingDetail:r=!0,includeByline:i=!0,includeBadge:a=!1,rankingDetailOverrideText:M=null}={}){const{iTemplate:k}=I18N.i(n.language),F=(0,nn.getByLine)(n);let B=null;return r&&(B=M||n.rankingDetail),(0,e.h)(uo,{separator:" \xB7 "},i&&F&&(0,e.h)(he.hs,{inline:!0,gap:4},k`By ${F}`,a&&(0,e.h)(ho.s,{size:"sm",tier:n.author_bestseller_tier,userId:n.author_id})),B,t&&an(n))}const xn=({className:n,hasFeatured:t,categories:r,categoryId:i,categoryIds:a,loadingCategoryId:M,ranking:k,onCategoryClicked:F,defaultExpanded:B,isReaderOnboarding:Y})=>{const[ge,Ce]=useState(B||!1),Se=useMediaQuery({query:"only screen and (max-width: 650px)"}),Ue=gn[Se?"mobile":"desktop"],Ye=ge?r:r.slice(0,Ue),Ve=at=>at.id===i||(a==null?void 0:a.includes(at.id));return h("div",{className:cn("categories",n)},t?h(Button,{className:cn({active:i==="featured"&&(!M||M==="featured"),loading:M==="featured"&&i!=="featured"}),onClick:()=>F({categoryId:"featured",ranking:"all",categories:r})},"Featured"):null,Ye.map(at=>h(Button,{key:at.id,className:cn({active:Ve(at)&&(!M||M===at.id),loading:M===at.id&&i!==at.id}),onClick:()=>F({categoryId:at.id,ranking:k,categories:r})},at.id==="twitter"&&h(TwitterIcon,{width:Se?12:15,height:Se?12:15,strokeWidth:0}),toTitleCase(at.canonical_name||""))),!Y&&h(Button,{className:cn({active:i===COMMUNITY_PICKS_CATEGORY_NAME&&(!M||M===COMMUNITY_PICKS_CATEGORY_NAME),loading:M===COMMUNITY_PICKS_CATEGORY_NAME&&i!==COMMUNITY_PICKS_CATEGORY_NAME}),onClick:()=>F({categoryId:COMMUNITY_PICKS_CATEGORY_NAME,ranking:"all",categories:r})},"Writer favorites"),!Y&&h(Button,{className:cn({active:i===TASTEMAKER_CATEGORY_NAME&&(!M||M===TASTEMAKER_CATEGORY_NAME),loading:M===TASTEMAKER_CATEGORY_NAME&&i!==TASTEMAKER_CATEGORY_NAME}),onClick:()=>F({categoryId:TASTEMAKER_CATEGORY_NAME,ranking:"all",categories:r})},"Featured recommenders"),r.length>Ue&&!ge&&h(Button,{className:"show-more",onClick:()=>Ce(!0)},h(LargePlusIcon,null)))},Fn=({publications:n,explanations:t,ranking:r,openInNew:i,startRankAt:a=0,source:M,onPublicationVisited:k=null,user:F,categoryId:B})=>h(Fragment,null,h("div",{className:"publications"},n.map((Y,ge)=>{var Ce,Se,Ue;let Ye=t&&t[ge];if(!Y)return;Ye||(Ye=[]);const Ve=Ye.filter(qt=>["posts.title","posts.subtitle"].includes(qt.type)),at=!!((Se=(Ce=Ve[0])==null?void 0:Ce.posts[0][0])!=null&&Se.slug);let pt;at&&(pt=(Ue=Ve[0])==null?void 0:Ue.posts[0][0]);const gt=Ye.filter(qt=>qt.type==="description")[0],xt=Ye.filter(qt=>["name","subdomain","hero_text","custom_domain","author_name"].includes(qt.type)).length>0||!gt&&!pt,Nt=Ye.filter(qt=>qt.type==="description").map(qt=>qt.keyword),Tt=Ye.filter(qt=>["posts.title","posts.subtitle"].includes(qt.type)).map(qt=>qt.keyword),Ut=getPubUrl(Y,{params:{utm_source:M||"discover"},signedIn:!!F});return h("a",{key:Y.id,className:"publication",href:Ut,native:!0,target:i?"_blank":null,onClick:qt=>{trackPublicationVisit(Y,M||"leaderboards",{position:ge+1,category:B}),k&&k(Y)},rel:"noopener"},r==="paid"?h("div",{className:"publication-rank"},ge+1+a):null,h("div",{className:"publication-content"},h(PubIcon,{pub:Y,href:Ut,logo_url:Y.logo_url||Y.author_photo_url,linkify:!1,belowTheFold:!0}),h("div",{className:"publication-text-area"},h("div",{className:"publication-title"},Y.name),(xt||pt)&&h("div",{className:"publication-description"},Y.editorial_bio||zn(Y.hero_text,Nt)),!xt&&gt&&!pt&&h("div",{className:"publication-description"},zn(gt.sentence,Nt)),!xt&&pt&&h("div",{className:"publication-explanation-box"},at&&h("a",{className:"title",href:getPostUrl(Y,pt)},h("div",{className:"post-preview-content"},h("div",{className:"left-flex"},h("p",{className:"title"},zn(pt.title,Tt)),h("p",{className:"subtitle"},zn(pt.subtitle,Tt))),h("div",{className:"right-flex"},h("img",{src:pt.cover_image,className:pt.cover_image?"":"no-preview"}))))),h("div",{className:"publication-author"},On(Y)))))})));function zn(n,t){if(!n)return"";const r=new RegExp(t.join("|"),"ig"),i=n.split(r),a=[...n.matchAll(r)];return h("span",null,i.map((M,k)=>h(Fragment,null,M,k!==i.length-1&&h("b",null,a[k]))))}const br=({onCategoryClicked:n,categoryId:t,ranking:r,loadingRanking:i,categories:a})=>["featured","twitter",COMMUNITY_PICKS_CATEGORY_NAME,TASTEMAKER_CATEGORY_NAME].includes(t)?null:h("div",{className:"ranking-toggle"},h(LinkButton,{className:cn({active:r==="paid"&&!i||i==="paid",loading:i==="paid"&&r!=="paid"}),onClick:()=>n({categoryId:t,ranking:"paid",categories:a})},"Top paid"),"  \xB7  ",h(LinkButton,{className:cn({active:r==="all"&&!i||i==="all",loading:i==="all"&&r!=="all"}),onClick:()=>n({categoryId:t,ranking:"all",categories:a})},"All")),ir=n=>{var t=n,{Component:r=Zr}=t,i=St(t,["Component"]);const a=useLeaderboards(i);return a.categories?h(r,lt({},a)):null};class Zr extends null{componentDidUpdate(t){if(this.props.categorySlug===t.categorySlug&&this.props.rankingSlug===t.rankingSlug)return;const r=getCategoryIdFromSlug(this.props.categorySlug,this.props.categories),i=this.props.rankingSlug||"paid";this.props.loadPublications({categoryId:r,ranking:i})}startReading(t){window.sessionStorage.setItem("initialJoinSubstack","true"),track(EVENTS.HOMEPAGE_READER_LINK_CLICKED,{url:getBaseReaderUrl()}),redirect(getBaseReaderUrl(),{event:t})}render({categories:t,publications:r,categoryId:i,loadingCategoryId:a,ranking:M,loadingRanking:k,onCategoryClicked:F,hasMore:B,viewMore:Y,featuredPublications:ge,underratedPublications:Ce,tastemakerPublications:Se,maxPublications:Ue,showTwitterBanner:Ye,user:Ve}){const at=i==="featured",pt=i===COMMUNITY_PICKS_CATEGORY_NAME,gt=i===TASTEMAKER_CATEGORY_NAME,xt=i==="twitter",Nt=t.find(Tt=>Tt.id===i);return at&&!ge.length&&typeof window!="undefined"&&F({categoryId:COMMUNITY_PICKS_CATEGORY_NAME,ranking:"all",categories:t}),h("div",{className:cn("new-landing-page reader-landing-page page",{"category-featured":at})},h("div",{className:"container"},h("div",{className:"landing-content"},h("div",{className:"landing-section landing-publications"},h("div",{className:"publications-header not-mobile"},h(br,{categories:t,categoryId:i,ranking:M,onCategoryClicked:F})),h(Fn,{publications:r,ranking:at||pt||gt?"all":M,categoryId:i}),M==="all"&&!at&&!pt&&!gt&&!xt&&!Ue&&B&&h("div",{className:"view-more"},h(Button,{className:"primary top-pad",onClick:Y},"View more")),Ue&&i!=="featured"&&h("div",{className:"see-all",style:{paddingLeft:M==="all"?"108px":"146px"}},h("a",{href:at?getDiscoverCategoryUrl():[TASTEMAKER_CATEGORY_NAME,COMMUNITY_PICKS_CATEGORY_NAME].includes(i)?getDiscoverCategoryUrl({slug:i},M):getDiscoverCategoryUrl(Nt,M),native:!0},"See all"," ",h(CaretRightIcon,{width:7,height:11,color:"var(--color-primary-themed)",style:{marginLeft:"3px"}})))),h("div",{className:"landing-section landing-categories"},h("div",{className:"only-mobile"},h("div",{className:"mobile-toggle"},h(br,{categories:t,categoryId:i,ranking:M,onCategoryClicked:F}))),h(xn,{hasFeatured:ge&&ge.length>0,hasUnderrated:Ce&&Ce.length>0,hasTastemakers:Se&&Se.length>0,categories:t,categoryId:i,loadingCategoryId:a,onCategoryClicked:F,ranking:M,loadingRanking:k}))),Ye&&i==="featured"&&!(Ve!=null&&Ve.has_linked_twitter)?h(TwitterBanner,null):null))}}const Xr=null;var Tr=Et(6385),kr=Object.defineProperty,xr=Object.defineProperties,Mr=Object.getOwnPropertyDescriptors,gr=Object.getOwnPropertySymbols,Vr=Object.prototype.hasOwnProperty,Yr=Object.prototype.propertyIsEnumerable,V=(n,t,r)=>t in n?kr(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,K=(n,t)=>{for(var r in t||(t={}))Vr.call(t,r)&&V(n,r,t[r]);if(gr)for(var r of gr(t))Yr.call(t,r)&&V(n,r,t[r]);return n},ne=(n,t)=>xr(n,Mr(t)),fe=(n,t,r)=>new Promise((i,a)=>{var M=B=>{try{F(r.next(B))}catch(Y){a(Y)}},k=B=>{try{F(r.throw(B))}catch(Y){a(Y)}},F=B=>B.done?i(B.value):Promise.resolve(B.value).then(M,k);F((r=r.apply(n,t)).next())});const xe="intro_popup_last_hidden_at";function Re({publication:n,user:t,post:r,onHide:i,freeSignup:a,hidden:M,alwaysShow:k,showOnMount:F,freeSignupEmail:B,coupon:Y,email:ge,referralCode:Ce,noBalance:Se,blurbs:Ue,launchWelcomePage:Ye}){const[Ve,at]=(0,o.eJ)(null),[pt,gt]=(0,o.eJ)(!1),[xt,Nt]=(0,o.eJ)(!!(Ye||k));(0,o.d4)(()=>(Ye&&!rn()||Ut()?(typeof window!="undefined"&&((0,O.addClass)(document.documentElement,"has-intro-popup"),At(n,t,Y,{required:!0},En=>at(En))),Tt()):(i&&i(),(0,z.a)({hide_intro_popup:!0})),()=>{typeof window!="undefined"&&(0,O.removeClass)(document.documentElement,"has-intro-popup"),qt(!0)}),[]);const Tt=()=>{typeof window!="undefined"&&((0,O.addClass)(document.documentElement,"show-intro-popup"),(0,C.j)(C.FP.COVER_PAGE_SHOWN,{has_cover_photo:!!n.cover_photo_url,has_free_signup_email:!!B,has_free_signup:!!a,functional_version:!0,launch_welcome_page:Ye,always_show:k,hidden:M}),k||(0,C.XY)("pageview",{dl:`${document.location.origin}/welcome${document.location.search}`})),Nt(!0)},Ut=()=>k?!0:M?!1:F||pt?!0:!(rn()||!(typeof r=="undefined"||r===null||r&&!(0,Tr.isPaidAudience)(r.audience))||a||t&&(t.is_free_subscribed||t.is_subscribed)),qt=En=>{En||(ln(),setTimeout(()=>{(0,z.a)({hide_intro_popup:!0})},500)),i&&i(),!k&&typeof window!="undefined"&&(0,O.hasClass)(document.documentElement,"show-intro-popup")&&(0,O.removeClass)(document.documentElement,"show-intro-popup")},rn=()=>{const En=_t.get(xe);if(En){const Yn=new Date(En),kn=new Date(Date.now()-24*60*60*1e3);if(Yn>kn)return!0}return!1},ln=()=>{_t.set(xe,new Date().toJSON(),{expires:365*10})},yn=En=>fe(this,null,function*(){(0,C.j)(C.FP.COVER_PAGE_EMAIL_SUBMITTED,{is_paying_sub:!!En.body.prompt_to_login,has_plans:!!n.plans,functional_version:!0}),ln(),gt(!0),(0,z.a)({freeSignup:!0,freeSignupEmail:En.body.email});const Yn=k?"/":document.location.href;En.body.prompt_to_login?setTimeout(()=>{document.location.href=(0,p.pathWithQuery)("/account/login",{redirect:Yn,email:En.body.email})},30):document.location.href=(0,p.pathWithQuery)("/subscribe",ne(K(K({next:Yn,later:!0,just_signed_up:!0},En.body.subscription_id&&{subscription_id:En.body.subscription_id}),En.body.referral_token&&{referral_token:En.body.referral_token}),{coupon:Y,requires_confirmation:En.body.requires_confirmation?"true":"",utm_source:"cover_page",email:En.body.email,skip_redirect_check:!0}))}),In=()=>{(0,C.j)(C.FP.COVER_PAGE_MAYBE_LATER_CLICKED,{functional_version:!0}),qt()};return!xt||!Ut()?null:(0,e.h)("div",{className:"intro-popup"},(0,e.h)("div",{className:"intro-popup-page"},(0,e.h)(Q,{source:"cover_page",email:ge,pub:n,user:t,freeSignup:a,freeSignupEmail:B,referralCode:Ce,forceSignup:(0,p.getQueryItem)("force"),coupon:Ve!=null?Ve:void 0,onMaybeLater:In,onFreeSignup:yn,markAsHidden:ln,blurbs:Ue,noBalance:Se})))}const nt=n=>h("div",{className:"intro-inline"},h(Q,K({},n))),Q=({pub:n,user:t,email:r,freeSignup:i,freeSignupEmail:a,referralCode:M,source:k,coupon:F,forceSignup:B,submitButtonText:Y,onMaybeLater:ge,onFreeSignup:Ce,noBalance:Se,markAsHidden:Ue,blurbs:Ye})=>{const Ve=(0,o.qp)(Mn.vz),{iString:at}=(0,P.M1)(),pt=(0,p.getQueryItem)("referralCode"),gt=(0,p.getQueryItem)("refSource"),xt=at("Learn More"),Nt=(0,p.getAboutUrl)(n,{params:K(K({utm_source:"subscribe_email",utm_content:"learn_more"},pt&&{referralCode:pt}),gt&&{refSource:gt})});(0,o.d4)(()=>{k==="subscribe_page"&&(0,C.j)(C.FP.SUBSCRIBE_EMAIL_FULL_SCREEN_SHOWN,{functional_version:!0}),(0,C.j)(C.FP.FULL_EMAIL_FORM_SHOWN,{source:k,functional_version:!0})},[k]);const Tt=Ye?Ye.filter(Ut=>Ut.description!=""):[];return(0,e.h)("div",{className:"full-email-form"},(0,e.h)("div",{className:"vertically-centered"},ge&&!n.invite_only&&(0,e.h)("button",{className:"button close-welcome-modal",onClick:ge,"aria-label":"Close","data-testid":"close-welcome-modal"},(0,e.h)(S.Z,null)),(0,e.h)(ut,{pub:n,noBalance:Se}),F&&F.required&&(0,e.h)("p",{className:`coupon ${F.loading?"loading":""} ${F.error?"error":""}`},F.loading?at("Loading coupon"):F.error?at("Invalid coupon!"):at("Valid coupon!"),` ${(F.name||F.id).toUpperCase()}`),n.invite_only&&(!t||!t.is_free_subscribed)?(0,e.h)(Ze,{pub:n,user:t,freeSignupEmail:a}):(0,e.h)(e.Fragment,null,(0,e.h)(y.gq,{justifyContent:"center",style:{width:"100%"}},(0,e.h)(Be.Z,{email:r,freeSignup:i,freeSignupEmail:a,markWelcomePageAsHidden:Ue,pub:n,referralCode:M,source:k,submitButtonText:Y,user:t,onConfirmationRequired:n.payments_state==="enabled"?()=>null:void 0,onMaybeLater:ge,onSuccess:Ce||(()=>document.location.href="/")})),!B&&(ge?(0,e.h)("a",{onClick:Ut=>Ut.preventDefault(),className:"no-styles"},(0,e.h)($t.Z,{className:"maybe-later",onClick:ge},Ve.getSettingFor("welcome_page_opt_out_text")==="No thanks"?at("No thanks"):Ve.getSettingFor("welcome_page_opt_out_text"),(0,e.h)(ct,null))):(0,e.h)($t.Z,{className:"maybe-later",href:Nt},xt,(0,e.h)(ct,null)))),!!(Tt!=null&&Tt.length)&&(0,e.h)("div",{className:"blurb-buffer"}),!!(Tt!=null&&Tt.length)&&(0,e.h)(y.gq,{className:"blurbs",gap:20},Tt.map(Ut=>(0,e.h)(y.tu,{gap:8,className:"blurb"},(0,e.h)(y.xv.B4,{className:"blurb-text"},(0,e.h)(wt,{maxLines:4,ellipsesText:"...\u201D",text:`\u201C${Ut.description}\u201D`})),(0,e.h)(y.xv.B4,{weight:"semibold",className:"blurb-text"},Ut.author_name||Ut.recommendingPublication.email_from_name||Ut.recommendingPublication.copyright,","," ",(0,e.h)("a",{href:(0,p.getBaseUrl)(Ut.recommendingPublication)},Ut.recommendingPublication.name)))))),(0,e.h)(re,{publication:n}))};class Pe extends e.Component{constructor(){super(...arguments),this.emailInput=null,this.customerSupportModeModal=null,this.form=null,this.canTurnOnCustomerSupportMode=()=>{const t=this.props.user;return(t==null?void 0:t.is_global_admin)&&!(t!=null&&t.is_admin)},this.showCustomerSupportModeModal=()=>{var t;this.canTurnOnCustomerSupportMode()&&((t=this.customerSupportModeModal)==null||t.open())}}componentDidMount(){const t=this.props.freeSignupEmail||this.props.user&&this.props.user.email;t&&this.emailInput&&(this.emailInput.value=t)}renderCustomerSupportModeModal(){if(this.canTurnOnCustomerSupportMode())return(0,e.h)(Mt.p,{className:"account-info-customer-support-mode-modal",ref:t=>this.customerSupportModeModal=t},(0,e.h)(De,{redirect:(0,p.getQueryItem)("redirect")||"/publish/home",onCancel:t=>{var r;return(r=this.customerSupportModeModal)==null?void 0:r.close(t)},allowAllDay:!1}))}render({pub:t,user:r,freeSignupEmail:i,iString:a},{loading:M,success:k}){const F=i||r&&r.email;return(0,e.h)("div",{className:"intro-popup-invite-actions"},this.renderCustomerSupportModeModal(),(0,e.h)(je.ZP,{className:"subscription-request-form",ref:B=>this.form=B,noInlineErrors:!0,action:(0,p.pathWithQuery)("/api/v1/subscription/request"),noJsAction:(0,p.pathWithQuery)("/api/v1/subscription/request",{nojs:!0}),onSuccess:()=>this.setState({success:!0}),onError:B=>{this.setState({loading:!1}),alert((0,O.getNetworkErrorMessage)(B,"Failed to request a subscription"))}},(0,e.h)("input",{type:"hidden",name:"first_url",value:u.xY}),(0,e.h)("input",{type:"hidden",name:"first_referrer",value:u.ip}),(0,e.h)("input",{type:"hidden",name:"current_url",value:u.UE}),(0,e.h)("input",{type:"hidden",name:"current_referrer",value:u.xU}),!!F&&(0,O.inputPrefillHack)(),(0,e.h)(y.tu,{alignItems:"center"},(0,e.h)("input",{type:"email",name:"email",ref:B=>this.emailInput=B,readOnly:!!(F||M),disabled:!!(M||k||F),autoFocus:!F&&!(0,O.isMobileBrowser)(),placeholder:a("Type your email...")}),(0,e.h)("div",{id:"error-container"}),(0,e.h)($t.Z,{className:l()(k?"secondary":"primary"),type:"submit",disabled:!!(M||k),onClick:()=>{this.setState({loading:!0})}},(0,e.h)("b",{className:"button-text"},a(k?"Requested":"Subscribe"))))),(0,e.h)(y.tu,{gap:12,paddingBottom:12,alignItems:"center",justifyContent:"center"},(0,e.h)(Ke.Z,{className:"private-lock-icon"}),(0,e.h)(y.tu,{gap:2},(0,e.h)(y.xv.B4,{translated:!0,weight:"semibold",className:"private-header"},"This Substack is private"),(0,e.h)(y.xv.B4,{translated:!0,className:"private-subtitle"},"Subscribe to see all their posts."))),this.canTurnOnCustomerSupportMode()&&(0,e.h)("p",null,(0,e.h)("a",{className:"account-info-admin",onClick:this.showCustomerSupportModeModal},(0,e.h)("b",null,"Support mode"))),(0,e.h)("a",{href:(0,p.getSigninUrl)({for_pub:t.subdomain,redirect:"/",change_user:!!(r||i)}),native:!0},(0,e.h)(y.xv,{as:"span",translated:!0},"Already a member?")," ",r||i?(0,e.h)(y.xv,{weight:"bold",as:"span",translated:!0},"Switch accounts"):(0,e.h)(y.xv,{weight:"bold",as:"span",translated:!0},"Sign in")))}}Pe.state={loading:!1,success:!1};const Ze=(0,P.fz)(Pe),ut=({pub:n,noBalance:t})=>{var r;const{getSettingFor:i}=(0,Mn.So)(),{getConfigFor:a}=(0,$n.xR)(),M=a("section_specific_welcome_pages");let k,F,B,Y,ge,Ce;M&&n.section?(k=n.section.name,F=n.section.description,B=(r=n.section.logo_url)!=null?r:n.logo_url,Y=n.section.cover_photo_url,ge=!!(Y&&n.section.hide_intro_title),Ce=!!(Y&&n.section.hide_intro_subtitle)):(k=n.name,F=n.hero_text,B=n.logo_url,Y=n.cover_photo_url,ge=!!(Y&&n.hide_intro_title),Ce=!!(Y&&n.hide_intro_subtitle));const Se=i("display_welcome_page_details");return(0,e.h)(e.Fragment,null,Y?(0,e.h)(pn.e,{className:"publication-cover-photo",src:Y,imageProps:{quality:"auto:best"},maxWidth:1360,alt:k,loading:"eager"}):B&&(0,e.h)(pn.e,{className:"publication-logo",src:B,imageProps:{quality:"auto:best"},maxWidth:264,alt:`${k} Logo`,loading:"eager"}),!ge&&(0,e.h)("h1",{className:l()("publication-name",{"no-logo":!B,"with-cover":Y})},t?k:(0,e.h)(Lt,{text:k})),!Ce&&F&&(0,e.h)("p",{className:l()("publication-tagline with-cover",{verbose:!0,"with-cover":Y})},t?F:(0,e.h)(Lt,{text:F})),(0,e.h)("div",{className:"publication-meta"},On(n,{includePrice:!1,includeBadge:!0,rankingDetailOverrideText:n.rankingDetailFreeSubscriberCount,includeRankingDetail:!!Se})))};function It(n,t){for(const[r,i]of Object.entries(t))i!=null&&(n[r]=i);return n}function Ft(n){var t,r,i;return n.link_title||((t=n.postTag)==null?void 0:t.name)||((r=n.section)==null?void 0:r.name)||((i=n.post)==null?void 0:i.title)||""}function Ht(n){var t;return n.postTag?"tag":n.section?"section":((t=n.post)==null?void 0:t.type)==="page"?"page":n.post?"post":"link"}function hn(n,{isPodcastActive:t,isChatActive:r,isMeetingsActive:i,hasMultipleNewsletters:a,isChatEnabled:M,isFeedEnabled:k,isReaderReferralsLeaderboardActive:F,language:B="en"}){var Y;const ge=n.filter(Ye=>!Ye.standard_key),Ce=new Map(n.filter(Ye=>Ye.standard_key).map(Ye=>[Ye.standard_key,Ye])),{iString:Se}=I18N.i(B);for(const Ye of ge)(Y=Ye.section)!=null&&Y.hide_from_navbar&&(Ye.is_hidden=!0);const Ue=[k&&{standard_key:"notes",link_title:"Notes",link_url:"/notes"},M&&{standard_key:"chat",link_title:"Chat",link_url:"/chat",is_hidden:!r},i&&{standard_key:"meetings",link_title:"Meetings",link_url:"/meetings"},...ge,{standard_key:"archive",link_title:Se("Archive"),link_url:"/archive"},a&&{standard_key:"newsletters",link_title:Se("Newsletters"),link_url:"/newsletters",is_hidden:!0},F&&{standard_key:"leaderboard",link_title:Se("Leaderboard"),link_url:"/leaderboard"},{standard_key:"about",link_title:Se("About"),link_url:"/about"}].filter(Ye=>!!Ye);for(const Ye of Ue)if(Ye.standard_key){const Ve=Ce.get(Ye.standard_key);Ve&&It(Ye,Ve)}return Ue}var Kt=Et(98661),Pr=Et(4190),co=Object.defineProperty,eo=Object.defineProperties,Rr=Object.getOwnPropertyDescriptors,Ir=Object.getOwnPropertySymbols,zo=Object.prototype.hasOwnProperty,ki=Object.prototype.propertyIsEnumerable,Ki=(n,t,r)=>t in n?co(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Qr=(n,t)=>{for(var r in t||(t={}))zo.call(t,r)&&Ki(n,r,t[r]);if(Ir)for(var r of Ir(t))ki.call(t,r)&&Ki(n,r,t[r]);return n},$i=(n,t)=>eo(n,Rr(t)),Ui;const _a=typeof window!="undefined"&&window._preloads||Pr.xu,Ls=typeof window!="undefined"?(Ui=window._preloads)==null?void 0:Ui.siteConfigs:{},Ha=(n,t)=>Qr(Qr({},(0,Pr.ng)(n,t)),(0,$n.Xz)(n)),ga=(0,e.createContext)(Ha(Ls,_a));ga.displayName="ExperimentsAndSiteConfigContext";function Bs({siteConfigs:n={},experimentInfo:t,children:r}){const i=t||_a,a=(0,o.Ye)(()=>Ha(n,i),[n,i]);return(0,e.h)(ga.Provider,{value:a},r)}function us(){return useContext(ga)}const ks=n=>{const t=forwardRef((r,i)=>{const a=us();return h(n,$i(Qr(Qr({},a),r),{ref:i}))});return t.displayName=`withExperimentsAndSiteConfigContext(${n.displayName||n.name||"Anonymous"})`,t};var Fi=Et(44396),zi=Et(19826),Oo=Et(87021);const va=(0,Oo.Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),cs=(0,Oo.Z)("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]),Ma=(0,Oo.Z)("Sliders",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);var ds=Object.defineProperty,Us=Object.defineProperties,Fs=Object.getOwnPropertyDescriptors,fs=Object.getOwnPropertySymbols,js=Object.prototype.hasOwnProperty,Ed=Object.prototype.propertyIsEnumerable,Du=(n,t,r)=>t in n?ds(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,wd=(n,t)=>{for(var r in t||(t={}))js.call(t,r)&&Du(n,r,t[r]);if(fs)for(var r of fs(t))Ed.call(t,r)&&Du(n,r,t[r]);return n},Cd=(n,t)=>Us(n,Fs(t));const Gn=n=>(0,e.h)(L.l,Cd(wd({},n),{name:"LucideTabActivity",svgParams:{height:24,width:24,stroke:n.stroke,strokeWidth:n.strokeWidth}}),(0,e.h)("path",{d:"M13.73 21C13.5542 21.3031 13.3018 21.5547 12.9982 21.7295C12.6946 21.9044 12.3504 21.9965 12 21.9965C11.6496 21.9965 11.3054 21.9044 11.0018 21.7295C10.6982 21.5547 10.4458 21.3031 10.27 21M18 8C18 6.4087 17.3679 4.88258 16.2426 3.75736C15.1174 2.63214 13.5913 2 12 2C10.4087 2 8.88258 2.63214 7.75736 3.75736C6.63214 4.88258 6 6.4087 6 8C6 15 3 17 3 17H21C21 17 18 15 18 8Z","stroke-linecap":"round","stroke-linejoin":"round"}));var Wr=Object.defineProperty,io=Object.defineProperties,No=Object.getOwnPropertyDescriptors,To=Object.getOwnPropertySymbols,Ti=Object.prototype.hasOwnProperty,Gi=Object.prototype.propertyIsEnumerable,Da=(n,t,r)=>t in n?Wr(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Au=(n,t)=>{for(var r in t||(t={}))Ti.call(t,r)&&Da(n,r,t[r]);if(To)for(var r of To(t))Gi.call(t,r)&&Da(n,r,t[r]);return n},Aa=(n,t)=>io(n,No(t));const Ws=n=>(0,e.h)(L.l,Aa(Au({},n),{name:"LucideTabChat",svgParams:{height:24,width:24,stroke:n.stroke,strokeWidth:n.strokeWidth}}),(0,e.h)("path",{d:"M3 3H17C18.1046 3 19 3.89543 19 5V9.75008H11C9.89543 9.75008 9 10.6455 9 11.7501V16.7501C9 16.8314 9.00486 16.9117 9.0143 16.9905L4.65547 19.8964C4.58901 19.9407 4.5 19.893 4.5 19.8131V15H3C1.89543 15 1 14.1046 1 13V5C1 3.89543 1.89543 3 3 3Z"}),(0,e.h)("path",{d:"M11 9.75L20.5 9.75C21.6046 9.75 22.5 10.6454 22.5 11.75V16.75C22.5 17.8546 21.6046 18.75 20.5 18.75H20V22.3108C20 22.3911 19.91 22.4387 19.8437 22.3934L14.5 18.75L11 18.75C9.89543 18.75 9 17.8546 9 16.75L9 11.75C9 10.6454 9.89543 9.75 11 9.75Z"}));var Va=Object.defineProperty,Od=Object.defineProperties,vl=Object.getOwnPropertyDescriptors,ps=Object.getOwnPropertySymbols,gE=Object.prototype.hasOwnProperty,vE=Object.prototype.propertyIsEnumerable,lh=(n,t,r)=>t in n?Va(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,yE=(n,t)=>{for(var r in t||(t={}))gE.call(t,r)&&lh(n,r,t[r]);if(ps)for(var r of ps(t))vE.call(t,r)&&lh(n,r,t[r]);return n},bE=(n,t)=>Od(n,vl(t));const PE=n=>(0,e.h)(L.l,bE(yE({},n),{name:"LucideTabBrowse",svgParams:{height:24,width:24,stroke:n.stroke,strokeWidth:n.strokeWidth}}),(0,e.h)("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M16.2398 7.75977L14.1198 14.1198L7.75977 16.2398L9.87977 9.87977L16.2398 7.75977Z","stroke-linecap":"round","stroke-linejoin":"round"}));var EE=Object.defineProperty,wE=Object.defineProperties,CE=Object.getOwnPropertyDescriptors,uh=Object.getOwnPropertySymbols,OE=Object.prototype.hasOwnProperty,SE=Object.prototype.propertyIsEnumerable,ch=(n,t,r)=>t in n?EE(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,TE=(n,t)=>{for(var r in t||(t={}))OE.call(t,r)&&ch(n,r,t[r]);if(uh)for(var r of uh(t))SE.call(t,r)&&ch(n,r,t[r]);return n},IE=(n,t)=>wE(n,CE(t));const xE=n=>(0,e.h)(L.l,IE(TE({},n),{name:"LucideTabInbox",svgParams:{height:24,width:24,stroke:n.stroke,strokeWidth:n.strokeWidth}}),(0,e.h)("path",{d:"M22 12L16 12L14 15L10 15L8 12L2 12","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M5.45 5.11L2.10583 11.7886C2.03624 11.9276 2 12.0809 2 12.2364L2 18C2 18.5304 2.21071 19.0391 2.58579 19.4142C2.96086 19.7893 3.46957 20 4 20L20 20C20.5304 20 21.0391 19.7893 21.4142 19.4142C21.7893 19.0391 22 18.5304 22 18V12.2364C22 12.0809 21.9638 11.9276 21.8942 11.7886L18.55 5.11C18.3844 4.77679 18.1292 4.49637 17.813 4.30028C17.4967 4.10419 17.1321 4.0002 16.76 4L7.24 4C6.86792 4.0002 6.50326 4.10419 6.18705 4.30028C5.87083 4.49637 5.61558 4.77679 5.45 5.11Z","stroke-linecap":"round","stroke-linejoin":"round"}));var ME=Object.defineProperty,DE=Object.defineProperties,AE=Object.getOwnPropertyDescriptors,dh=Object.getOwnPropertySymbols,NE=Object.prototype.hasOwnProperty,RE=Object.prototype.propertyIsEnumerable,fh=(n,t,r)=>t in n?ME(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,LE=(n,t)=>{for(var r in t||(t={}))NE.call(t,r)&&fh(n,r,t[r]);if(dh)for(var r of dh(t))RE.call(t,r)&&fh(n,r,t[r]);return n},BE=(n,t)=>DE(n,AE(t));const kE=n=>(0,e.h)(L.l,BE(LE({},n),{name:"LucideTabNotes",svgParams:{height:24,width:24,stroke:n.stroke,strokeWidth:n.strokeWidth}}),(0,e.h)("path",{d:"M9.82746 10.2663H17.2941M10.2039 14.533H14.4706M6 19.1L2.42832 18.1872C1.53922 17.949 1.0116 17.0351 1.24983 16.146L4.52816 3.91113C4.76639 3.02202 5.68029 2.49438 6.5694 2.73262L19 6M6.00001 7.66666V20.3331C6.00001 21.2536 6.74619 21.9998 7.66665 21.9998L20.3333 22C21.2538 22 22 21.2538 22 20.3333V7.66666C22 6.74619 21.2538 5.99999 20.3333 5.99999H7.66667C6.7462 5.99999 6.00001 6.74619 6.00001 7.66666Z","stroke-linecap":"round","stroke-linejoin":"round"})),ph=(0,e.createContext)(!1);var Ru=Et(85065);function UE(n,t){if(n){if(!n.has_publication&&!n.subdomain)return{type:"no-dashboard",url:(0,p.getStartPublishingUrl)(t)};if(n.subdomain)return{type:"dashboard",url:(0,p.getDashboardUrlForSubdomain)(n.subdomain,{params:t})}}return null}function FE(n,t){return n!=null&&n.profile_set_up_at?(0,p.getReaderProfileUrl)(n,t):(0,p.getProfileSetupUrl)(t!=null&&t.utm_source?{utm_source:t.utm_source}:void 0)}var hh=Et(47585);const Sd={badge:"frontend-components-NavBadge-module__badge--afZUN",dotContainer:"frontend-components-NavBadge-module__dotContainer--_daQd",dot:"frontend-components-NavBadge-module__dot--CFI7y",responsive:"frontend-components-NavBadge-module__responsive--DecFZ",binary:"frontend-components-NavBadge-module__binary--nccbG"};function jE({className:n,responsive:t,count:r}){return(0,e.h)(he.hs,{alignItems:"center",justifyContent:"center",radius:12,className:l()(Sd.badge,t&&Sd.responsive,!r&&Sd.binary,n)},r&&(0,e.h)(I.xv.Digit,{color:"bg-light"},r<100?r:"99+"))}var Lu=Et(74285);const na="user-menu",WE=`https://support.substack.com/hc/en-us/?utm_source=${na}`,Bu=40;function HE({className:n,user:t,pub:r,enableCustomerServiceMode:i,disableCustomerServiceMode:a,freeSignup:M,fixedTooltip:k,showBadge:F=!0}){const{iString:B}=(0,P.M1)(),[Y,ge]=(0,zi.EJ)(),{activityUnreadCount:Ce}=(0,Ru.lR)(),Se=(0,o.qp)(ph);let Ue="",Ye="";t&&(Ue=t!=null&&t.profile_set_up_at&&t.name?t.name:t.email,Ye=t!=null&&t.profile_set_up_at?t.name?t.email:null:B("Set up your profile"));const Ve=({active:Tt})=>{(0,C.j)(Tt?C.FP.USER_MENU_OPENED:C.FP.USER_MENU_DISMISSED)},at=t?UE(t,{utm_source:na}):null,pt=r&&(M||t&&(t.is_subscribed||t.is_free_subscribed)),gt=FE(t,{utm_source:na}),xt=!1,Nt=(0,Fi.XA)()&&!Se;return(0,e.h)(e.Fragment,null,t?(0,e.h)($t.Z,{className:l()(n,"user-indicator small-no-margin no-active-fade signed-in reader2-tappable-bg",{"force-desktop":Se}),onClick:ge},Nt&&F&&Ce>0&&(0,e.h)(hh.in,{className:l()("user-indicator-badge",Ce<10&&"user-indicator-badge-circle")},(0,e.h)(y.hs,{alignItems:"center",justifyContent:"center"},Ce<100?Ce:"99+")),(0,e.h)(va,{className:l()("user-indicator-icon",{"force-desktop":Se}),size:20,strokeWidth:2}),(0,e.h)("img",{className:l()("menu-trigger-image",{"force-desktop":Se}),src:(0,p.imginary)((0,p.getUserPhotoUrl)(t),2*Bu,{height:2*Bu,crop:"fill"})}),(0,e.h)(Lu.h,null,(0,e.h)("div",{className:"user-indicator-dropdown-menu"},(0,e.h)(zi.ZP,{className:l()({"fixed-tooltip":k}),ref:Y,useDrawerOnMobile:!0,noTail:!0,noPlace:!0,preventScrollBehindDrawer:!0,backdropDismiss:!0,onToggle:Ve},(0,e.h)("div",{className:"menu-scroll-container"},(0,e.h)("a",{href:gt,className:"profile-header",onClick:()=>(0,C.j)(C.FP.USER_MENU_PROFILE_CLICKED)},(0,e.h)("img",{className:"header-user-image",src:(0,p.imginary)((0,p.getUserPhotoUrl)(t),2*Bu,{height:2*Bu,crop:"fill"})}),(0,e.h)("div",{className:"labels"},(0,e.h)("div",{className:"h1"},Ue),Ye&&(0,e.h)("div",{className:"h2"},Ye))),(0,e.h)("hr",null),t&&(0,e.h)(e.Fragment,null,(0,e.h)(Zi,{url:(0,p.getBaseReaderUrl)({utm_source:na}),analyticsEvent:C.FP.USER_MENU_READER_CLICKED},(0,e.h)(Hs,{Icon:xE})," ",B("Inbox")),(0,e.h)(Zi,{url:(0,p.getFeedUrl)({utm_source:na}),analyticsEvent:C.FP.USER_MENU_FEED_CLICKED},(0,e.h)(Hs,{Icon:kE})," ",B("Notes")),(0,e.h)(Zi,{url:(0,p.getDiscoverCategoryUrl)(),analyticsEvent:C.FP.USER_MENU_DISCOVER_CLICKED},(0,e.h)(Hs,{Icon:PE})," ",B("Explore")),(0,e.h)(Zi,{url:(0,p.getChatUrl)(),analyticsEvent:C.FP.USER_MENU_CHAT_CLICKED},(0,e.h)(Hs,{Icon:Ws})," ",B("Chat")),(0,e.h)(Zi,{url:(0,p.getNotificationsUrl)({utm_source:na}),analyticsEvent:C.FP.USER_MENU_ACTIVITY_CLICKED},(0,e.h)(Hs,{Icon:Gn})," ",B("Activity"),Ce>0?(0,e.h)(jE,{className:"indicator-badge",count:Ce}):null),(0,e.h)(Zi,{url:at.url},(0,e.h)(Hs,{Icon:at.type==="no-dashboard"?cs:Ma,className:"start-writing-icon"})," ",at.type==="no-dashboard"?B("Start writing"):B("Writer dashboard"))),(0,e.h)("hr",null),pt&&(0,e.h)(Zi,{className:"secondary-item",url:(0,p.pathWithQuery)("/account",{utm_source:na}),analyticsEvent:C.FP.USER_MENU_MANAGE_SUBSCRIPTION_CLICKED},B("Manage subscription")),(0,e.h)(Zi,{className:"secondary-item",url:(0,p.getGlobalAccountSettingsUrl)({utm_source:na}),analyticsEvent:C.FP.USER_MENU_ACCOUNT_SETTINGS_CLICKED},B("Settings")),(0,e.h)(Zi,{className:"secondary-item",url:WE},B("Support")),(0,e.h)(Zi,{className:"secondary-item",url:(0,p.getSignoutUrl)({utm_source:na,for_pub:r==null?void 0:r.subdomain})},B("Sign out")),i&&(0,e.h)(Zi,{className:"secondary-item",onClick:()=>{var Tt;(Tt=Y.current)==null||Tt.close(),i()}},"Enter support mode"),a&&(0,e.h)(Zi,{className:"secondary-item",onClick:a},"Exit support mode"),r&&(t==null?void 0:t.is_global_admin)&&(0,e.h)(Zi,{className:"secondary-item",url:`${(0,p.getBaseUrl)({subdomain:"admin"})}/publications/${r.id}`},"Open in underground"),!(t!=null&&t.reader_installed_at)&&(0,e.h)(e.Fragment,null,(0,e.h)("hr",null),(0,e.h)(Zi,{className:"special-item",url:(0,p.getAppMarketingUrl)({utm_campaign:"app-marketing",utm_content:"user-menu-link"})},B("Get the app")," ",(0,e.h)(oe.Z,{className:"item-badge branded",color:A.substack_color}))),(0,e.h)("hr",null),(0,e.h)("div",{className:"terms-footer"},(0,e.h)("a",{href:(0,p.getHomeUrl)({utm_source:na})},B("About")),(0,e.h)("a",{href:(0,p.getPrivacyUrl)({pub:r,utm_source:na})},B("Privacy")),(0,e.h)("a",{href:(0,p.getTermsUrl)({utm_source:na})},B("Terms")),(0,e.h)("a",{href:(0,p.getInfoCollectionUrl)({utm_source:na})},B("Collection notice")))))))):(0,e.h)($t.Z,{href:(0,p.getSigninUrl)({for_pub:r==null?void 0:r.subdomain}),native:"true",className:l()("sign-in-link outline-grayscale",{"rounded-btn":xt,"force-desktop":Se})},B("Sign in")))}function Zi({className:n,url:t,analyticsEvent:r,onClick:i,children:a}){return(0,e.h)("a",{className:`indicator-menu-item ${n}`,onClick:M=>{r&&(0,C.j)(r),i&&i(M)},href:t,native:!0},a)}const VE=20;function Hs({Icon:n,className:t}){return(0,e.h)(n,{className:l()(t,"indicator-item-icon"),height:VE,stroke:"var(--color-primary)",strokeWidth:2})}var KE=Object.defineProperty,$E=Object.defineProperties,zE=Object.getOwnPropertyDescriptors,ku=Object.getOwnPropertySymbols,mh=Object.prototype.hasOwnProperty,_h=Object.prototype.propertyIsEnumerable,gh=(n,t,r)=>t in n?KE(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,vh=(n,t)=>{for(var r in t||(t={}))mh.call(t,r)&&gh(n,r,t[r]);if(ku)for(var r of ku(t))_h.call(t,r)&&gh(n,r,t[r]);return n},GE=(n,t)=>$E(n,zE(t)),ZE=(n,t)=>{var r={};for(var i in n)mh.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&ku)for(var i of ku(n))t.indexOf(i)<0&&_h.call(n,i)&&(r[i]=n[i]);return r};const Uu=(0,e.createContext)({country:"US"});Uu.displayName="LocaleContext";function YE(){return useContext(Uu)}function JE(n){var t=n,{children:r}=t,i=ZE(t,["children"]);const a=(0,o.Ye)(()=>i,Object.values(i));return(0,e.h)(Uu.Provider,{value:a},r)}function CK(n){const t=forwardRef((r,i)=>{const a=YE();return h(n,GE(vh(vh({},a),r),{ref:i}))});return t.displayName=`withLocaleContext(${n.displayName||n.name||"Anonymous"})`,t}const XE=(0,Oo.Z)("Bell",[["path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9",key:"oql5b8"}],["path",{d:"M13.73 21a2 2 0 0 1-3.46 0",key:"6o5tke"}]]);var Mo=Et(76235),yl=Et(11688),QE=Et(5285),qE=Et(27484),Vs=Et.n(qE),Na=Et(67963);const hs={alert:"frontend-reader2-NotificationsAlert-module__alert--pio6x",close:"frontend-reader2-NotificationsAlert-module__close--ca0Tb",transition:"frontend-reader2-NotificationsAlert-module__transition--YdW2_",enterFrom:"frontend-reader2-NotificationsAlert-module__enterFrom--xNnVz",enterTo:"frontend-reader2-NotificationsAlert-module__enterTo--teWcO",leaveFrom:"frontend-reader2-NotificationsAlert-module__leaveFrom--U2sE5",leaveTo:"frontend-reader2-NotificationsAlert-module__leaveTo--l0D4x"},ew=n=>{const t=["comment_audience","comment_id","community_comment_id","created_at","id","mention_id","publication_id","sender_count","target_comment_id","target_community_comment_id","target_community_post_id","target_post_id","target_user_id","type"];(0,C.j)(C.FP.NOTIFICATIONS_ALERT_SHOWN,t.reduce((r,i)=>(r[i]=n==null?void 0:n[i],r),{}))};function tw(){var n;const{activityUnreadCount:t}=(0,Ru.lR)(),{exposeExperiment:r,getExperimentVariant:i}=(0,Pr.jc)(),{isLoading:a,result:M,refetch:k}=(0,Ot.ib)({pathname:"/api/v1/activity-feed-web",query:{limit:1},auto:!1});(0,o.d4)(()=>{t>0&&k()},[t]);const[F,B]=(0,o.eJ)(!1),[Y,ge]=(0,o.eJ)(!1),{isLoading:Ce,fetch:Se,result:Ue}=(0,yl.Oe)({module:"./MiniNotificationsViewer",onRequest:()=>Promise.all([Et.e(693),Et.e(525)]).then(Et.bind(Et,23525)),fetchImmediately:!1}),Ye=Vs()(),{userSettings:Ve,changeSetting:at}=(0,Na.SE)(),pt=(n=M==null?void 0:M.activityItems)==null?void 0:n[0],gt=pt!=null&&pt.created_at?Vs()(pt==null?void 0:pt.created_at):Ye.subtract(100,"year"),xt=Ve!=null&&Ve.last_notification_alert_shown_at?Vs()(Ve.last_notification_alert_shown_at):Ye.subtract(100,"year"),Nt=Ye.diff(gt,"day")<7&&gt.diff(xt,"hour")>2,Tt=(0,o.sO)(null),Ut=2e3,qt=6e3,rn=()=>{Tt.current&&window.clearTimeout(Tt.current)},ln=()=>{rn(),Tt.current=window.setTimeout(()=>{B(!1)},qt)};return(0,o.d4)(()=>{Nt&&t>0&&(r("notification_alert_improved"),i("notification_alert_improved")==="treatment"&&(Ue&&!F?window.setTimeout(()=>{B(!0),at("last_notification_alert_shown_at",Vs()().toISOString()),ew(pt),ln()},Ut):!Ue&&!Ce&&Se()))},[a,M,t,Ce,Nt,F,B]),(0,e.h)(e.Fragment,null,(F||Y)&&(0,e.h)(QE.u,{style:{position:"fixed",left:"auto",right:20,top:92,zIndex:100},appear:!0,show:F,beforeEnter:()=>ge(!0),afterLeave:()=>ge(!1),enter:hs.transition,enterFrom:hs.enterFrom,enterTo:hs.enterTo,leave:hs.transition,leaveFrom:hs.leaveFrom,leaveTo:hs.leaveTo},(0,e.h)(he.hs,{radius:12,border:"detail",className:hs.alert,onMouseEnter:rn,onMouseLeave:ln,shadow:"lg",bg:"elevated"},(0,e.h)(yl.cr,{module:"./MiniNotificationsViewer",resolve:yn=>yn.MiniNotificationsStack,onRequest:()=>Promise.all([Et.e(693),Et.e(525)]).then(Et.bind(Et,23525)),result:M,isReadOnly:!0}))))}var Td=Et(95042);function nw({fill:n="outline",canShowAlerts:t=!1}){const r=(0,Ru.lR)(),i=(0,$n.xR)(),a=(0,Ot.ib)({pathname:"/api/v1/activity-feed-web",query:{limit:12},auto:!1});return(0,o.d4)(()=>{r.activityUnreadCount>0&&(0,C.j)(C.FP.NOTIFICATIONS_UNREAD_SHOWN,{unreadCount:r.activityUnreadCount})},[r.activityUnreadCount]),(0,e.h)(e.Fragment,null,(0,e.h)(Mo.v2,{trigger:(0,e.h)(yt.hU,{className:Td.Z.trigger,"aria-label":"View activity",size:40,fill:n,priority:"secondary",onMouseEnter:()=>Promise.all([Et.e(693),Et.e(525)]).then(Et.bind(Et,23525))},(0,e.h)(XE,{"aria-hidden":!0,size:20,strokeWidth:2}),r.activityUnreadCount>0&&(0,e.h)(hh.in,{className:l()(Td.Z.badge,r.activityUnreadCount<10&&Td.Z.circle)},(0,e.h)(he.hs,{alignItems:"center",justifyContent:"center"},r.activityUnreadCount<100?r.activityUnreadCount:"99+"))),onOpen:()=>a.refetch(),maxHeight:"fit-content",padding:0},(0,e.h)(yl.cr,{module:"./activity/MiniNotificationsViewer",resolve:M=>M.MiniNotificationsViewer,onRequest:()=>Promise.all([Et.e(693),Et.e(525)]).then(Et.bind(Et,23525)),resource:a,whileLoading:(0,e.h)(he.hs,{style:{width:400}})})),t&&i.getConfigFor("show_first_notification_enabled")&&(0,e.h)(tw,null))}var rw=Et(91041),ii=Et(75425);const yh={menuIcon:"frontend-components-NavbarUserWidget-module__menuIcon--pfoYD"},bh=(0,Oo.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}]]);var ow=Et(89581),Ka=Et(33510),Id=Et(63295),xd=Et(12650),Jo=Et(56838);const Ii={searchWrapper:"frontend-components-SearchDropdown-module__searchWrapper--jiwxN",marginLeft:"frontend-components-SearchDropdown-module__marginLeft--LiyjJ",marginRight:"frontend-components-SearchDropdown-module__marginRight--Tlx3l",active:"frontend-components-SearchDropdown-module__active--hNTQl",trigger:"frontend-components-SearchDropdown-module__trigger--wXpGv",searcher:"frontend-components-SearchDropdown-module__searcher--bDFD3",dropdown:"frontend-components-SearchDropdown-module__dropdown--tuM0W",result:"frontend-components-SearchDropdown-module__result--V2s6P",loading:"frontend-components-SearchDropdown-module__loading--gQSd8",empty:"frontend-components-SearchDropdown-module__empty--TO__M",more:"frontend-components-SearchDropdown-module__more--d1sdD",seeMore:"frontend-components-SearchDropdown-module__seeMore--MOD9q",photo:"frontend-components-SearchDropdown-module__photo--uWFMi",metadata:"frontend-components-SearchDropdown-module__metadata--HrJ45",paddingRight:"frontend-components-SearchDropdown-module__paddingRight--TfT7R"};var iw=Object.defineProperty,aw=Object.defineProperties,sw=Object.getOwnPropertyDescriptors,Ph=Object.getOwnPropertySymbols,lw=Object.prototype.hasOwnProperty,uw=Object.prototype.propertyIsEnumerable,Eh=(n,t,r)=>t in n?iw(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,wh=(n,t)=>{for(var r in t||(t={}))lw.call(t,r)&&Eh(n,r,t[r]);if(Ph)for(var r of Ph(t))uw.call(t,r)&&Eh(n,r,t[r]);return n},Ch=(n,t)=>aw(n,sw(t));const Oh=({pub:n,isSignedIn:t})=>{var r;const[i,a]=(0,o.eJ)(!1),[M,k]=(0,o.eJ)(""),{getConfigFor:F}=(0,$n.xR)(),B=!!((r=F("platform_searcher_enabled"))!=null&&r),{result:Y,refetch:ge,error:Ce,isLoading:Se,hasLoadedOnce:Ue}=(0,Ot.ib)({pathname:"/api/v1/post/search",query:{query:M,focusedPublicationId:n.id,page:0,numberFocused:3,numberPlatform:2,includePlatformResults:String(B)},deps:[M],auto:!1}),Ye=(B?Y==null?void 0:Y.focused:Y==null?void 0:Y.results)||[],Ve=B?(Y==null?void 0:Y.results)||[]:[],at=(Y==null?void 0:Y.publications)||[],{triggerProps:pt,layerProps:gt,renderLayer:xt,isOpen:Nt,setOpen:Tt}=(0,ow.x)({layerOptions:{auto:!0,possiblePlacements:["bottom-start","bottom-end","bottom-center"],placement:"bottom-start"}}),{iString:Ut,iTemplate:qt}=(0,P.M1)();(0,o.d4)(()=>{if(M.length){Tt(!0);const yn=setTimeout(ge,300);return()=>clearTimeout(yn)}Tt(!1)},[M,Tt]);const rn=(0,o.sO)(null),ln=(0,o.I4)(yn=>{if(yn.key==="Enter"){if(!Nt||!M||!i)return;window.location.href=(0,p.getDiscoverSearchUrl)({query:M,params:{focusedPublicationId:n.id}})}else if(yn.key==="Escape"){if(!i)return;k(""),a(!1),Tt(!1)}},[i,Nt,M]);return(0,e.h)(e.Fragment,null,(0,e.h)(he.gq,Ch(wh({},pt),{className:l()(Ii.searchWrapper,i&&Ii.active,t?Ii.marginLeft:Ii.marginRight),style:{width:i?"400px":"40px"},paddingLeft:i?16:0,alignItems:"center",justifyContent:i?"space-between":"center",onClick:i?void 0:()=>{a(!i),i||(setTimeout(()=>{var yn;(yn=rn.current)==null||yn.focus()},10),k(""))},gap:4}),(0,e.h)(bh,{className:Ii.trigger,"area-hidden":!0,size:20,strokeWidth:2}),i&&(0,e.h)("input",{ref:rn,className:l()(Ii.searcher),placeholder:Ut("Search..."),value:M,onChange:yn=>{k(yn.target.value)},onKeyDown:ln})),Nt&&xt((0,e.h)(he.tu,Ch(wh({},gt),{radius:12,className:Ii.dropdown,border:"detail-themed"}),!Ue||Se&&!Ye.length&&!Ve.length?(0,e.h)(he.gq,{radius:12,paddingY:20,className:Ii.loading,justifyContent:"center"},(0,e.h)(Ka.Sv,{size:40})):Ce?(0,e.h)(he.gq,{radius:12,className:Ii.error,justifyContent:"start"},(0,e.h)(I.xv.B3,{translated:!0,color:"pub-primary-text"},"Something went wrong.")):!Ye.length&&!Ve.length?(0,e.h)(he.gq,{radius:12,padding:20,className:Ii.empty,justifyContent:"start"},(0,e.h)(I.xv.B3,{translated:!0,color:"pub-primary-text"},"Search for ",(0,e.h)("b",null,'"',I18N.p(M),'"'))):(0,e.h)(e.Fragment,null,Ye.map((yn,In)=>(0,e.h)(Sh,{key:yn.id,pub:n,post:yn,isFirst:In===0,isLast:!Ve.length&&In===Ye.length-1,hideBottomBorder:Ve.length>0})),Ve.length>0&&(0,e.h)(he.gq,{className:Ii.more,paddingX:24,paddingY:8},(0,e.h)(I.xv.B4,{weight:"semibold",color:"pub-primary-text"},Ye.length?qt`More results from across Substack`:qt`No results found on ${n.name}. More results from across Substack`)),Ve.map((yn,In)=>{const En=at.find(Yn=>Yn.id===yn.publication_id);return En?(0,e.h)(Sh,{key:yn.id,pub:En,post:yn,isLast:In===Ve.length-1,includePublication:!0}):null}),(0,e.h)(he.gq,{className:Ii.seeMore,paddingX:24,paddingY:12,onClick:()=>{window.location.href=(0,p.getDiscoverSearchUrl)({query:M,params:{focusedPublicationId:n.id}})}},(0,e.h)(I.xv.B4,{translated:!0,color:"pub-primary-text",weight:"semibold"},"See more results..."))))))},Sh=({pub:n,post:t,includePublication:r=!1,hideBottomBorder:i=!1,isLast:a=!1,isFirst:M=!1})=>{var k;const F=(k=t.reactions["\u2764"])!=null?k:0,{language:B}=(0,P.M1)();return(0,e.h)(he.gq,{paddingX:12,onClick:()=>{window.location.href=(0,p.getPostUrl)(n,t)},width:"100%"},(0,e.h)(he.tu,{marginHeight:4,paddingTop:M?12:8,paddingBottom:a?12:8,borderBottom:i?void 0:"detail-themed"},(0,e.h)(he.gq,{className:Ii.result,gap:16,padding:12,radius:12},t.cover_image&&(0,e.h)("img",{src:(0,p.imginary)(t.cover_image,120,{height:80,smartCrop:!0}),alt:t.cover_image_alt||"",className:Ii.photo}),(0,e.h)(he.tu,{gap:4,className:Ii.metadata},r&&(0,e.h)(I.xv.Meta,null,n.name),(0,e.h)(I.xv.H4,{color:"pub-primary-text"},t.title),!!t.subtitle&&(0,e.h)(I.xv.B4,{color:"pub-primary-text"},t.subtitle),(0,e.h)(he.gq,{alignItems:"center",gap:4},(0,e.h)(I.xv.Meta,{color:"pub-secondary-text",className:l()(Ii.paddingRight,"ufi-preamble-label","post-date")},(0,e.h)("time",{dateTime:un()(t.post_date).toISOString()},(0,Jo.fh)({post:t,showDatetime:!1,language:B}))),F>0&&(0,e.h)(e.Fragment,null,(0,e.h)(xd.Z,{stroke:"var(--color-light-secondary-themed)",fill:"transparent",height:16}),(0,e.h)(I.xv.Meta,{color:"pub-secondary-text",className:Ii.paddingRight},F)),t.comment_count>0&&(0,e.h)(e.Fragment,null,(0,e.h)(Id.Z,{stroke:"var(--color-light-secondary-themed)",fill:"transparent",height:16}),(0,e.h)(I.xv.Meta,{color:"pub-secondary-text"},t.comment_count)))))))};var Fu=Et(96098);const cw={pubAccentTheme:"frontend-components-PubAccentTheme-module__pubAccentTheme--MukJ3"};function dw({children:n}){return(0,e.h)("div",{className:cw.pubAccentTheme},n)}var bl=Et(32224),fw=Object.defineProperty,pw=Object.defineProperties,hw=Object.getOwnPropertyDescriptors,ju=Object.getOwnPropertySymbols,Th=Object.prototype.hasOwnProperty,Ih=Object.prototype.propertyIsEnumerable,xh=(n,t,r)=>t in n?fw(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Mh=(n,t)=>{for(var r in t||(t={}))Th.call(t,r)&&xh(n,r,t[r]);if(ju)for(var r of ju(t))Ih.call(t,r)&&xh(n,r,t[r]);return n},Dh=(n,t)=>pw(n,hw(t)),mw=(n,t)=>{var r={};for(var i in n)Th.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&ju)for(var i of ju(n))t.indexOf(i)<0&&Ih.call(n,i)&&(r[i]=n[i]);return r},Wu=(n,t,r)=>new Promise((i,a)=>{var M=B=>{try{F(r.next(B))}catch(Y){a(Y)}},k=B=>{try{F(r.throw(B))}catch(Y){a(Y)}},F=B=>B.done?i(B.value):Promise.resolve(B.value).then(M,k);F((r=r.apply(n,t)).next())});const $a=Et(6378),_w=({className:n,baseRef:t,user:r,freeSignup:i,freeSignupEmail:a,pub:M,hide_subscribe_cta:k,showCustomerSupportModeModal:F,hideCta:B,hideNotifications:Y,hideUserIndicator:ge,hideSearch:Ce,isPublishContext:Se,isMeetingsActive:Ue,fixedTooltip:Ye=!0})=>{const{iString:Ve,iTemplate:at}=(0,P.M1)(),pt=(0,o.sO)(null),{getSettingFor:gt}=(0,Mn.So)(),[xt,Nt]=(0,o.eJ)(!1),[Tt,Ut]=(0,o.eJ)(!1),qt=(0,ii.pm)(),rn=(r==null?void 0:r.is_global_admin)&&!(r!=null&&r.is_admin),ln=(r==null?void 0:r.is_global_admin)&&(r==null?void 0:r.is_admin)&&!(r!=null&&r.is_author),yn=(0,Pr.jc)(),In=(0,o.I4)(()=>Wu(void 0,null,function*(){try{yield jn().del("/api/v1/customer_support_mode"),document.location.href="/"}catch(bn){alert((0,O.getNetworkErrorMessage)(bn))}}),[]),En=()=>Wu(void 0,null,function*(){Nt(!0);try{yield jn().post("/api/v1/subscription/reactivate").send({}),Ut(!0),qt.popToast(bn=>(0,e.h)(ii.FN,Dh(Mh({},bn),{text:Ve("Your subscription has been renewed!")})))}catch(bn){console.error("Failed to set to renew:",bn),alert((0,O.getNetworkErrorMessage)(bn))}finally{Nt(!1)}}),Yn=(0,o.I4)(()=>Wu(void 0,null,function*(){var bn;(bn=pt.current)==null||bn.open()}),[pt]),kn=Se?dw:Fu.h;return(0,e.h)("div",{className:l()("navbar-buttons",n),ref:t},(0,e.h)(kn,null,(0,e.h)($n.QA.Consumer,null,bn=>(0,e.h)(Uu.Consumer,null,er=>(0,e.h)(e.Fragment,null,!Ce&&!(0,O.isMobileBrowser)()&&!r&&(0,e.h)(Oh,{pub:M,isSignedIn:!1}),!B&&vw({pub:M,user:r,freeSignup:i,freeSignupEmail:a,hide_subscribe_cta:k,viralGiftsConfig:M.viralGiftsConfig,isPublishContext:Se,localeContext:er,siteConfigContext:bn,isMeetingsActive:Ue,getSettingFor:gt,renewing:xt,renewed:Tt,setToRenew:En,experiments:yn}),!Ce&&!(0,O.isMobileBrowser)()&&r&&(0,e.h)(Oh,{pub:M,isSignedIn:!0}),!Y&&r&&!(0,O.isMobileBrowser)()&&(0,e.h)(nw,{fill:"borderless",canShowAlerts:!M||Se}),!ge&&(0,e.h)(HE,{pub:M,user:r,enableCustomerServiceMode:rn?Yn:null,disableCustomerServiceMode:ln?In:null,fixedTooltip:Ye}))))),rn&&(0,e.h)(Lu.h,null,(0,e.h)(Mt.p,{className:"account-info-customer-support-mode-modal",ref:pt,openByDefault:F&&rn},(0,e.h)(De,{redirect:(0,p.getQueryItem)("redirect")||"/publish/home",onCancel:bn=>{var er;return(er=pt.current)==null?void 0:er.close(bn)}}))))},gw=({pub:n,dashboardPubs:t})=>{const r=(0,Fi.XA)(),{getConfigFor:i}=(0,$n.xR)(),{iString:a}=(0,P.M1)();return(0,e.h)(rw.a,{priority:"primary",fill:"outline",size:r?"small":"medium",menuItems:t.map(({logo_url:M,name:k,subdomain:F})=>(0,e.h)(Mo.sN,{className:yh.menuItem,href:(0,p.getDashboardUrlForSubdomain)(F,{params:{utm_source:"substack",utm_context:"dashboard_pub_switcher"}}),icon:(0,e.h)("img",{className:yh.menuIcon,width:20,src:(0,p.imginary)(M||"/img/substack-nomargin.png",20)}),priority:n.subdomain===F?"selected":"primary"},k)),href:(0,te.getDashboardHomeUrl)(n,{addBase:!0}),localNavigation:!1,"data-testid":"menu-dashboard-button",additionalMenuProps:{useMobileBottomSheet:!0,mobileBottomSheetTitle:a("Dashboard"),mobileBottomSheetSubtitle:a("Select a publication")}},a("Dashboard"))},Ah=({dashboardPubs:n,pub:t})=>{const{iString:r}=(0,P.M1)();return n.length>1?(0,e.h)(gw,{pub:t,dashboardPubs:n}):(0,e.h)(la,{className:"outline",href:(0,te.getDashboardHomeUrl)(t,{addBase:!0}),"data-testid":"menu-dashboard-button"},r("Dashboard"))};function vw({user:n,pub:t,freeSignup:r,freeSignupEmail:i,hide_subscribe_cta:a,isPublishContext:M,isMeetingsActive:k,siteConfigContext:F,getSettingFor:B,renewing:Y,renewed:ge,setToRenew:Ce,experiments:Se}){var Ue,Ye,Ve,at,pt,gt,xt,Nt,Tt,Ut;const{iString:qt,iPlural:rn}=I18N.i({pub:t});t.invite_only&&!(n!=null&&n.subscription_id||n!=null&&n.is_free_subscribed)&&(a=!0);const ln=n==null?void 0:n.is_contributor,yn=(n==null?void 0:n.is_subscribed)||ln,In=(n==null?void 0:n.is_free_subscribed)||r,{getExperimentVariant:En,exposeExperiment:Yn}=Se,kn=$a.paymentsAreEnabled(t)&&yn&&["gift","comp"].includes(n.subscription_type)&&un()(n.subscription_expiry).subtract(30,"days").isBeforeNow(),bn=$a.paymentsAreEnabled(t)&&$a.userIsFreeOnly(n)&&n.comp_expired_recently,er=(n==null?void 0:n.is_free_subscribed)&&(n==null?void 0:n.is_paused),rr=((Ue=n==null?void 0:n.dashboard_pubs)==null?void 0:Ue.length)===1;if(ln){const Vn=(n==null?void 0:n.dashboard_pubs)||[];return M&&Vn.length===1?[]:!t.has_posts&&!(0,O.isMobileBrowser)()?[(0,e.h)(la,{className:"primary fill new-post-btn",onClick:()=>{(0,C.j)(C.FP.NAV_BAR_CTA_CLICKED,{type:"new-post"}),(0,O.redirect)((0,p.getCreatePostUrl)(t,{type:"newsletter"}),{local_navigation:!1})}},qt("New post")),(0,e.h)(Ah,{dashboardPubs:Vn,pub:t,useNewDashLink:rr})]:(0,e.h)(Ah,{dashboardPubs:Vn,pub:t,useNewDashLink:rr})}else{if(er)return(0,e.h)(la,{"data-testid":"noncontributor-cta-button",onClick:()=>{(0,C.j)(C.FP.NAV_BAR_CTA_CLICKED,{type:"unpause-subscription"}),(0,O.redirect)((0,p.getCancelOrUncancelUrl)(t,{addBase:!0}),{local_navigation:!1})}},qt("Unpause my subscription"));if(kn||bn){if(!a)return(0,e.h)(la,{"data-testid":"noncontributor-cta-button",onClick:()=>{(0,C.j)(C.FP.NAV_BAR_CTA_CLICKED,{type:"continue-support"}),(0,O.redirect)((0,p.getSubscribeUrl)(t,{utm_source:"menu",simple:!0,next:document.location.href,referring_pub_ids:(0,p.getQueryItem)("referring_pub_ids"),addBase:!0,selectedPlanId:kn&&(n!=null&&n.is_founding)?t.plans.find(Vn=>Vn.metadata.founding).id:null}),{local_navigation:!1})}},(0,e.h)("span",{className:"mobile-only"},qt("Subscribe")),(0,e.h)("span",{className:"desktop-only"},qt("Continue your support")))}else if($a.paymentsAreEnabled(t)&&In&&!yn&&!["thebulwark"].includes(t.subdomain)){if(!a)return(0,e.h)(la,{"data-testid":"noncontributor-cta-button",onClick:()=>{(0,C.j)(C.FP.NAV_BAR_CTA_CLICKED,{type:"upgrade-subscription"}),(0,O.redirect)((0,p.getSubscribeUrl)(t,{utm_source:"menu",simple:!0,next:document.location.href,referring_pub_ids:(0,p.getQueryItem)("referring_pub_ids"),addBase:!0}),{local_navigation:!1})}},(0,nn.getSubscribeText)(t,{isFreeSubscribed:!0,isMobile:(0,O.isMobileBrowser)()}))}else if($a.paymentsAreEnabled(t)?!yn:!(In||yn)){if(!a){const Vn=(at=(Ve=(Ye=(0,p.getQueryItem)("referring_pub_ids"))==null?void 0:Ye.split)==null?void 0:Ve.call(Ye,","))==null?void 0:at[0],ar=(xt=(gt=(pt=(0,p.getQueryItem)("referring_pub_ids"))==null?void 0:pt.split)==null?void 0:gt.call(pt,","))==null?void 0:xt.slice(1);return(0,e.h)(la,{"data-testid":"noncontributor-cta-button",onClick:()=>Wu(this,null,function*(){const Jn=n&&!n.is_magic&&n.email||i;if((0,C.j)(C.FP.NAV_BAR_CTA_CLICKED,{type:"free-subscription"}),Jn){let Qn;try{Qn=(yield jn().post("/api/v1/free").send({source:"menu",email:Jn,first_url:u.xY,first_referrer:u.ip,current_url:u.UE,current_referrer:u.xU,referring_pub_id:Vn,additional_referring_pub_ids:ar})).body.referral_token}catch(Ln){(0,C.j)(C.FP.FREE_SIGNUP_FAILED,{reason:Ln.message,source:"menu"})}window.location.href=(0,p.getSubscribeUrl)(t,{utm_source:"menu",simple:!0,next:document.location.href,skip_redirect_check:!0,just_signed_up:!0,addBase:!0,referral_token:Qn})}else window.location.href=(0,p.getSubscribeUrl)(t,{utm_source:"menu",simple:!0,next:document.location.href,referring_pub_ids:(0,p.getQueryItem)("referring_pub_ids"),addBase:!0})})},(0,e.h)(y.gq,{alignItems:"center",gap:8},(0,e.h)(bl.Z,{size:20}),(0,nn.getSubscribeText)(t,{isFreeSubscribed:In,isMobile:(0,O.isMobileBrowser)()})))}}else{if(t.invite_only&&yn&&n.invites<t.subscriber_invites)return(0,e.h)(la,{"data-testid":"noncontributor-cta-button",className:"primary",onClick:()=>{(0,C.j)(C.FP.NAV_BAR_CTA_CLICKED,{type:"invite"}),(0,O.redirect)((0,p.getInviteUrl)(t),{local_navigation:!1})}},(0,e.h)("span",null,rn("1 invite left","%1 invites left",t.subscriber_invites-n.invites)));if($a.paymentsAreEnabled(t)&&k&&!F.getConfigFor("hide_book_a_meeting_button"))return(0,e.h)(la,{"data-testid":"noncontributor-cta-button",className:"primary",onClick:()=>{(0,C.j)(C.FP.NAV_BAR_CTA_CLICKED,{type:"book-meeting"}),(0,O.redirect)((0,te.getMeetingsUrl)(t,{params:{source:"navbar-cta"},referrer:typeof window!="undefined"&&window.location.href}),{local_navigation:!1})}},(0,e.h)("span",{className:"mobile-only"},qt("Book meeting")),(0,e.h)("span",{className:"desktop-only"},qt("Book a meeting")));if($a.paymentsAreEnabled(t)&&n.is_subscribed&&n.subscription_unsubscribed_at&&!["gift","comp"].includes(n.subscription_type))return(0,e.h)(la,{"data-testid":"noncontributor-cta-button",className:"secondary subscribe-cta subscribe-btn outline",onClick:()=>{(0,C.j)(C.FP.NAV_BAR_CTA_CLICKED,{type:"renew"}),Ce()},disabled:Y||ge,style:{visibility:ge?"hidden":"visible"}},(0,e.h)("span",{className:"mobile-only"},qt("Renew")),(0,e.h)("span",{className:"desktop-only"},qt("Renew subscription")));if($a.paymentsAreEnabled(t)&&!n.is_founding&&un()(n.subscription_first_payment_at).isBefore(un()().subtract(48,"hours"))&&((Ut=(Tt=(Nt=t==null?void 0:t.plans)==null?void 0:Nt.find(Vn=>Vn.metadata.founding))==null?void 0:Tt.metadata)==null?void 0:Ut.short_description)==="Founding Member")return(0,e.h)(la,{"data-testid":"noncontributor-cta-button",className:"secondary subscribe-cta subscribe-btn outline",onClick:()=>{(0,C.j)(C.FP.NAV_BAR_CTA_CLICKED,{type:"founding-upgrade"}),(0,O.redirect)((0,p.getSubscribeUrl)(t,{utm_source:"menu",next:document.location.href,addBase:!0,selectedPlanId:t.plans.find(Vn=>Vn.metadata.founding).id}),{local_navigation:!1})}},(0,e.h)("span",{className:"mobile-only"},qt("Upgrade")),(0,e.h)("span",{className:"desktop-only"},qt("Upgrade to founding")));if(t.payments_state==="disabled"&&!t.invite_only&&B("payment_pledges_enabled")&&In&&!(n!=null&&n.is_pledged))return(0,e.h)(la,{"data-testid":"noncontributor-cta-button",onClick:()=>{(0,C.j)(C.FP.NAV_BAR_CTA_CLICKED,{type:"pledge-subscription"}),(0,O.redirect)((0,p.getSubscribeUrl)(t,{utm_source:"menu",next:document.location.href,addBase:!0}),{local_navigation:!1})}},qt("Pledge your support"));if(t.is_on_substack&&!(n!=null&&n.has_publication))return(0,e.h)(la,{"data-testid":"noncontributor-cta-button",onClick:()=>{(0,C.j)(C.FP.NAV_BAR_CTA_CLICKED,{type:"start-publishing"}),(0,O.redirect)((0,p.getStartPublishingUrl)({utm_source:"menu"}),{local_navigation:!1})}},qt("Start publishing"))}}return null}function la(n){var t=n,{className:r="primary subscribe-cta subscribe-btn"}=t,i=mw(t,["className"]);const a=(0,o.qp)(ph),M=!1;return(0,e.h)($t.Z,Dh(Mh({},i),{className:l()(r,{"rounded-btn":M,"force-desktop":a})}))}const yw=_w;var bw=Et(49336),Pw=Et(56743),Pl=Et(2564);const El={subMenuTrigger:"frontend-components-overflow_menu-module__subMenuTrigger--JlX0X",subMenuItem:"frontend-components-overflow_menu-module__subMenuItem--qQKuE",disabled:"frontend-components-overflow_menu-module__disabled--vUsqk",logo:"frontend-components-overflow_menu-module__logo--t5DOx",chevron:"frontend-components-overflow_menu-module__chevron--sly1d"},Nh=10,Ew=250;function ww({className:n,items:t,menuItemClassName:r,selectedMenuItemClassName:i,selectedSlug:a,pub:M}){const k=(0,o.sO)(null),[F,B]=(0,o.eJ)(!1),[Y,ge]=(0,o.eJ)(!1);function Ce(Ye){const{scrollLeft:Ve,scrollWidth:at,clientWidth:pt}=Ye;B(Ve>Nh),ge(at-(pt+Ve)>Nh)}const Se=Ye=>Ce(Ye.target),Ue=Ye=>()=>{const{current:Ve}=k;Ve&&Ve.scrollBy({left:Ye*Ew,behavior:"smooth"})};return(0,o.d4)(()=>{Ce(k.current)},[]),(0,e.h)("div",{className:l()("overflow-list-container",n)},(0,e.h)("div",{className:l()("section-bar",{scroll:!0,"overflow-left":F,"overflow-right":Y})},(0,e.h)("div",{className:"overflow-items",ref:k,onScroll:Se},t.map(({label:Ye,href:Ve,slug:at,isNative:pt,onClick:gt,noFollow:xt,subItems:Nt})=>Nt?(0,e.h)(Mo.v2,{trigger:(0,e.h)("div",{className:l()("menu-item",{selected:at===a},r,i&&{[i]:at===a})},(0,e.h)(dn.Z,{className:El.subMenuTrigger,onClick:gt,native:pt,rel:xt?"nofollow":null},(0,e.h)("span",{className:"overflow-item-text"},Ye),(0,e.h)(bw.Z,{className:El.chevron,size:16}))),layerOptions:{placement:"bottom-start",triggerOffset:6},hideOnScroll:!0,useMobileBottomSheet:!0,mobileBottomSheetTitle:Ye},Nt.map(({label:Tt,href:Ut,slug:qt,isNative:rn,onClick:ln,noFollow:yn,logoUrl:In})=>{const En=parseInt(qt)===(M==null?void 0:M.id);return(0,e.h)(Mo.sN,{icon:(0,e.h)("img",{className:El.logo,width:20,src:(0,p.imginary)(In||"/img/substack-nomargin.png",40)}),href:Ut,onClick:ln,native:rn,rel:yn?"nofollow":void 0,priority:"primary",disabled:En,className:l()(El.subMenuItem,{[El.disabled]:En})},Tt)})):(0,e.h)("div",{className:l()("menu-item",{selected:at===a},r,i&&{[i]:at===a})},(0,e.h)(dn.Z,{href:Ve,onClick:gt,native:pt,rel:xt?"nofollow":null},(0,e.h)("span",{className:"overflow-item-text"},Ye))))),(0,e.h)("div",{className:"left-button"},(0,e.h)("div",{role:"button",className:"scroll-button-hitbox",onClick:Ue(-1)},(0,e.h)(Pw.Z,{strokeWidth:1.5}))),(0,e.h)("div",{className:"right-button"},(0,e.h)("div",{role:"button",className:"scroll-button-hitbox",onClick:Ue(1)},(0,e.h)(Pl.Z,{strokeWidth:1.5})))))}const Rh=(n,t)=>n.subItems?new Iw(n,t):n.base_url?new Cw(n):n.name&&n.id&&n.url?new Tw(n,t):n.isPodcast?new Ow(n):new Sw(n,t);class wl{constructor(t,r){this._obj=t,this._pub=r}truncatedName(){return(0,nn.truncateText)(this._obj.name,30)}isNewsletter(){throw new Error("not implemented")}isPodcast(){throw new Error("not implemented")}isSelected(t,r){throw new Error("not implemented")}isNative(){throw new Error("not implemented")}homepageUrl(){throw new Error("not implemented")}noFollow(){return!1}subItems(){return null}get item(){return this._obj}}class Cw extends wl{isNewsletter(){return this._obj.type==="newsletter"}isPodcast(){return this._obj.type==="podcast"}isSelected(t){return this._obj.id===t.id}isNative(){return!0}logoUrl(){return this._obj.logo_url}homepageUrl(){return(0,te.getBaseUrl)(this._obj)}}class Ow extends wl{isPodcast(){return!0}isSelected(t,r){return this._obj.id===r}isNative(){return!0}homepageUrl(){return(0,te.getBaseUrl)(this._obj)}}class Sw extends wl{constructor(t,r){super(t,r),this._homepageUrl=(0,te.getSectionUrl)(r,{section:t})}isPodcast(){return this._obj.is_podcast}isSelected(t,r){return this._obj.id===r}isNative(){return!0}homepageUrl(){return this._homepageUrl}logoUrl(){var t,r,i;if(this._obj.is_podcast){const a=(t=this._pub.sections)==null?void 0:t.find(M=>M.id===this._obj.id);return(i=(r=a==null?void 0:a.podcastSettings)==null?void 0:r.podcast_art_url)!=null?i:this._obj.logo_url}return this._obj.logo_url}}class Tw extends wl{constructor(t,r){super(t,r),this._maybeNoFollow=t.noFollow,this._pubTier=(r==null?void 0:r.tier)||0}isNewsletter(){return!1}isPodcast(){return!1}isSelected(t,r){return[this._obj.id,this._obj.url].includes(r)}isNative(){return!0}noFollow(){return this._maybeNoFollow&&this._pubTier<2}homepageUrl(){return this._obj.url}}class Iw extends wl{isNewsletter(){return!1}isPodcast(){return!1}isSelected(t,r){return[this._obj.id,this._obj.url].includes(r)}isNative(){return!1}homepageUrl(){return null}subItems(){return this._obj.subItems.map(t=>Rh(t,this._pub))}}const xw=({pub:n,selectedSectionId:t,sectionRawItems:r,isPublishContext:i})=>{const a=r.map(k=>Rh(k,n)),M=k=>{var F,B;return{label:k.truncatedName(),href:k.homepageUrl(),slug:k.item.id,isNative:k.isNative(),noFollow:k.noFollow(),logoUrl:(F=k.logoUrl)==null?void 0:F.call(k),subItems:(B=k.subItems())==null?void 0:B.map(M)}};return(0,e.h)(ww,{items:a.map(M),className:l()("sections-overflow",{"publish-menu":i}),selectedSlug:t,useHorizontalScrolling:i,pub:n})};var Mw=Object.defineProperty,Lh=Object.getOwnPropertySymbols,Dw=Object.prototype.hasOwnProperty,Aw=Object.prototype.propertyIsEnumerable,Md=(n,t,r)=>t in n?Mw(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Nw=(n,t)=>{for(var r in t||(t={}))Dw.call(t,r)&&Md(n,r,t[r]);if(Lh)for(var r of Lh(t))Aw.call(t,r)&&Md(n,r,t[r]);return n},za=(n,t,r)=>(Md(n,typeof t!="symbol"?t+"":t,r),r),Dd,Bh,Ad,kh;const Nd=Et(6378),Uh=(n,t)=>{var r,i;return((r=n.sibling_rank)!=null?r:1/0)-((i=t.sibling_rank)!=null?i:1/0)||(n.name<t.name?-1:n.name>t.name?1:0)};class Hu extends e.Component{constructor(){super(...arguments),za(this,"menuHeight",0),za(this,"state",{animated:!0,hiding:!!(typeof window!="undefined"&&((Bh=(Dd=window.location.hash)==null?void 0:Dd.startsWith)!=null&&Bh.call(Dd,"#footnote")||(kh=(Ad=window.location.hash)==null?void 0:Ad.startsWith)!=null&&kh.call(Ad,"#tiktok")))}),za(this,"onClick",t=>{var r,i;((r=t.target)!=null&&r.classList.contains("footnote-number")||(i=t.target)!=null&&i.classList.contains("footnote-anchor"))&&(this.setState({hiding:!0}),setTimeout(this.hide,0))}),za(this,"onResize",()=>{if(this.menuHeight=this.menuContent?this.menuContent.getBoundingClientRect().height:0,!this.buttonsContainer)return;const t=this.largeMenuPubTitle?this.largeMenuPubTitle.getBoundingClientRect().width:0,r=document.body.clientWidth,i=this.buttonsContainer.getBoundingClientRect().width,a=r>630,M=a?24*2:12*2,k=a&&.5*r-i-M>.5*t;this.setState({buttonsContainerWidth:k?`${i}px`:"auto",centerTitle:k})}),za(this,"onScroll",()=>{if(this.props.always_show){this.menuTop=0,this.menuContent.style.position="fixed",this.menuContent.style.top="";return}if(this.state.hiding)return;const t=this.scrollTop;this.scrollTop=document.documentElement.scrollTop||document.body.scrollTop;const r=Math.max(this.scrollTop,0);if(this.scrollTop<=0||(0,O.maxScroll)()<=0)this.menuTop=0,this.menuContent.style.position="fixed",this.menuContent.style.top="";else if(!(this.scrollTop>=(0,O.maxScroll)()))if(this.scrollTop<t){const i=Math.max(this.scrollTop-this.menuHeight,0);this.menuTop>r?(this.menuTop=r,this.menuContent.style.position="fixed",this.menuContent.style.top=""):(!this.menuTop||this.menuTop<i)&&(this.menuTop=i,this.menuContent.style.top=`${this.menuTop}px`,this.menuContent.style.position="")}else this.scrollTop>t&&(this.menuContent.style.position==="fixed"&&this.menuTop>=0?(this.menuTop=r,this.menuContent.style.top=`${this.menuTop}px`,this.menuContent.style.position=""):this.menuTop<r-this.menuHeight&&this.menuContent.style.position!=="fixed"&&(this.menuTop=-this.menuHeight,this.menuContent.style.top=`${this.menuTop}px`,this.menuContent.style.position="fixed"))}),za(this,"onHeadlineClick",t=>{this.publicationPicker?(t.preventDefault(),this.publicationPicker.open()):(0,C.j)(C.FP.NAV_BAR_HOME_LINK_CLICKED)}),za(this,"hide",()=>{const t=Math.max(document.documentElement.scrollTop||document.body.scrollTop,0);this.menuTop=t-this.menuHeight,this.menuContent.style.top=`${this.menuTop}px`,this.menuContent.style.position="",this.setState({hiding:!1})})}componentDidMount(){typeof window!="undefined"&&(window.addEventListener("scroll",this.onScroll),window.addEventListener("click",this.onClick),window.addEventListener("resize",this.onResize),this.onResize(),this.onScroll())}componentWillUnmount(){typeof window!="undefined"&&(window.removeEventListener("scroll",this.onScroll),window.removeEventListener("click",this.onClick),window.removeEventListener("resize",this.onResize))}shouldShowSectionsNavBar(){return!this.props.isPostView&&!this.props.lowChrome&&!this.props.hideSections}isContributor(){return this.props.user&&this.props.user.is_contributor}isSubscribed(){return Nd.userIsPaidSubscriber(this.props.user)||this.isContributor()}isFreeSubscribed(){return this.props.user&&this.props.user.is_free_subscribed||this.props.freeSignup}render({className:t,user:r,freeSignup:i,freeSignupEmail:a,pub:M,publicationPicker:k,publicationPickerPath:F,lowChrome:B,hide_subscribe_cta:Y,isPublishContext:ge,hideTitle:Ce,showCustomerSupportModeModal:Se,signupForFreeVariant:Ue,isMeetingsActive:Ye,hideNavbarSearch:Ve},{animated:at,buttonsContainerWidth:pt,centerTitle:gt}){const xt=!k&&(M==null?void 0:M.parent_publication)||M,Nt=typeof window=="undefined";return(0,e.h)("div",{"data-testid":"navbar",className:l()("main-menu",t,{animated:at,"with-nav":this.shouldShowSectionsNavBar(),"low-chrome":B})},(0,e.h)("div",{className:"main-menu-content",ref:Tt=>this.menuContent=Tt},(0,e.h)("div",{className:"topbar"},(0,e.h)("div",{className:"topbar-content"},k&&!B&&(M.parent_publication||M.child_publications.length>0)&&(0,e.h)(zi.ZP,{ref:Tt=>this.publicationPicker=Tt,className:"publication-picker",noPlace:!0,noTail:!0},[M,M.parent_publication].concat(M.child_publications.concat(M.sibling_publications).sort((Tt,Ut)=>Tt.name.toLowerCase().localeCompare(Ut.name.toLowerCase()))).filter(Tt=>Tt).map(Tt=>(0,e.h)("a",{href:Tt.base_url+(Tt.id===M.id?"/":F||"/")},Tt.name))),!B&&(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:l()("navbar-logo-container",xt.logo_url?"":"no-logo"),style:{width:pt}},xt.logo_url&&(0,e.h)("a",{href:(0,te.getBaseUrl)(xt),onClick:this.onHeadlineClick},(0,e.h)("img",{className:"navbar-logo",src:(0,te.imginary)(xt.logo_url,96)}))),!Ce&&(0,e.h)("h1",{className:l()("navbar-title",{"left-align":!gt,loading:Nt})},(0,e.h)("a",{className:"navbar-title-link",href:(0,te.getBaseUrl)(xt),ref:Tt=>this.largeMenuPubTitle=Tt},xt.logo_url_wide?(0,e.h)("img",{className:`navbar-logo-wordmark ${xt?"":"substack-logo-wordmark"}`,src:(0,te.imginary)(xt?xt.logo_url_wide:"/img/substack_wordmark.png?v=2",null,{height:28*2,crop:"limit",leadingSegments:["e_trim:10:white","e_trim:10:transparent"]}),alt:xt?xt.name:"Substack"}):xt.name),!ge&&M.parent_publication&&(0,e.h)(Rw,{title:M.name})),(0,e.h)(yw,{baseRef:Tt=>this.buttonsContainer=Tt,user:r,freeSignup:i,freeSignupEmail:a,hide_subscribe_cta:Y,isPublishContext:ge,pub:M,hideSearch:ge||!!Ve,signupForFreeVariant:Ue,showCustomerSupportModeModal:Se,isMeetingsActive:Ye}))),this.shouldShowSectionsNavBar()&&(0,e.h)(Lw,Nw({},this.props)))),(0,e.h)("div",{className:"topbar-spacer"}))}}za(Hu,"contextType",ga);const Rw=({title:n})=>{const t=(0,Fi.XA)();return(0,e.h)(I.xv,{size:t?14:24,weight:"light",as:"span"},(0,e.h)("span",null," | "),n)};function Lw({isPublishContext:n,pub:t,user:r,isChatActive:i,isMeetingsActive:a,hasMeetingsBooked:M,selectedSectionId:k}){const{getSettingFor:F}=(0,Mn.So)(),B=F("notes_feed_enabled"),Y=!!(F("reader_referrals_enabled")&&F("reader_referrals_leaderboard_enabled")),ge=F("group_sections_and_podcasts_in_menu_enabled"),Ce=hn(t.navigationBarItems||[],{isFeedEnabled:B,isPodcastActive:t.podcast_enabled&&t.show_pub_podcast_tab,isChatActive:i,isChatEnabled:!!t.threads_v2_enabled,isMeetingsActive:a,hasMultipleNewsletters:t.sections&&t.sections.length>0,isReaderReferralsLeaderboardActive:Y,language:t.language}).filter(Ue=>!Ue.is_hidden),Se=n?Bw({isAdmin:!!(r!=null&&r.is_admin),pub:t,showMeetings:a||M}):kw({groupNewsletters:ge,navBarItems:Ce,pub:t});return(0,e.h)(xw,{pub:t,selectedSectionId:k,sectionRawItems:Se,isPublishContext:n})}const Bw=({isAdmin:n,pub:t,showMeetings:r})=>{const{iString:i}=I18N.i({pub:t}),a=[];return a.push({id:"/publish/home",url:(0,te.getDashboardHomeUrl)(t,{addBase:!0}),name:i("Home")}),a.push({id:"/publish/posts",url:"/publish/posts",name:i("Posts")},{id:"/publish/podcasting",url:(0,p.getPodcastingUrl)(t,{addBase:!0}),name:i("Podcast")},{id:"/publish/subscribers",url:(0,p.getSubscriberStatsUrl)(t,{addBase:!0}),name:i("Subscribers")}),n&&(a.push({id:"/publish/stats",url:"/publish/stats",name:i("Stats")}),a.push({id:"/publish/recommendations",url:"/publish/recommendations",name:i("Recommendations")}),r&&a.push({id:"/publish/meetings",url:"/publish/meetings",name:i("Meetings")}),a.push({id:"/publish/settings",url:(0,te.getPublishSettingsUrl)(t,{addBase:!0}),name:i("Settings")})),a},kw=({groupNewsletters:n=!1,navBarItems:t,pub:r})=>{var i,a;const{iString:M,iTemplate:k}=I18N.i({pub:r}),F=[];let B=[];if((i=r.child_publications)!=null&&i.length)F.push({id:"/home",url:"/",name:M("Home")}),B.push(...r.child_publications.sort(Uh));else if(r.parent_publication||(a=r.sibling_publications)!=null&&a.length){const Y=[r,...r.sibling_publications].sort(Uh).map(ge=>ge.id===r.id&&!Nd.isBulwarkPub(r)?{id:"/home",url:"/",name:r.name}:ge);F.push({id:"/parent",url:(0,te.getBaseUrl)(r.parent_publication),name:M("Home")}),B.push(...Y)}else F.push({id:"/home",url:"/",name:M("Home")}),r.podcast_enabled&&r.show_pub_podcast_tab&&B.push({id:"/podcast",url:"/podcast",name:M("Podcast"),isPodcast:!0});for(const Y of t){const ge=Ht(Y);Y.section?B.push(Y.section):B.push({id:(0,te.getNavigationBarItemUrl)(r.parent_publication||r,Y,{addBase:!1}),url:(0,te.getNavigationBarItemUrl)(r.parent_publication||r,Y,{addBase:!Y.standard_key}),name:Ft(Y),noFollow:!Y.standard_key&&ge==="link"})}return n?B=Fh({items:B,groups:[{name:M("Newsletters"),condition:Y=>Uw(Y)},{name:M("Podcasts"),condition:Y=>Fw(Y)}]}):Nd.isBulwarkPub(r)&&(B=Fh({items:B,groups:[{name:M("Newsletters"),condition:Y=>Y.type==="newsletter"},{name:M("Podcasts"),condition:Y=>Y.type==="podcast"}]})),[...F,...B]},Uw=n=>!n.subItems&&!n.base_url&&!(n.name&&n.id&&n.url)&&!n.is_podcast,Fw=n=>n.isPodcast||!n.subItems&&!n.base_url&&!(n.name&&n.id&&n.url)&&n.is_podcast,Fh=({items:n,groups:t})=>{const r=[];let i=n;for(const a of t){const M=i.filter(a.condition);M.length>0&&(r.push({name:a.name,subItems:M}),i=i.filter(k=>!a.condition(k)))}return[...r,...i]},jh=({pub:n,url:t})=>{var r,i;if(!t.includes("api.substack.com"))return null;if(t.includes(`/feed/podcast/${n.id}.rss`))return n.podcast_title||n.name;if(t.includes(`/feed/podcast/${n.id}/s/`)){const a=(i=(r=t.match(new RegExp("\\/feed\\/podcast\\/\\d+\\/s\\/(?<sectionId>\\d+)\\.rss")))==null?void 0:r.groups)==null?void 0:i.sectionId;if(!a)return"Unknown section";const M=n.sections.find(k=>k.id===parseInt(a));return M?M.name:"Unknown Section"}return"another podcast"},Wh=({pub:n,url:t})=>t.includes("api.substack.com")?t.includes(`/feed/podcast/${n.id}/s/`)||t.includes(`/feed/podcast/${n.id}.rss`):!1,jw=n=>{if(!n)return{can_syndicate:!1,hover_text:"Cannot find podcast"};if(!n.podcast_enabled)return{can_syndicate:!1,hover_text:"This podcast is not currently enabled."};if(!n.podcast_feed_url)return{can_syndicate:!0,hover_text:null};const t=jh({pub:n,url:n.podcast_feed_url});return t?{can_syndicate:!1,hover_text:`This podcast is currently redirecting to ${t}.`}:{can_syndicate:!1,hover_text:`This podcast is currently redirecting to ${n.podcast_feed_url}.`}},Ww=({pub:n,section:t})=>{var r;if(!t.is_podcast)return{can_syndicate:!1,hover_text:"This section is not currently set up as a podcast."};const i=((r=t.podcastSettings)==null?void 0:r.podcast_feed_url)||null;if(!i)return{can_syndicate:!0,hover_text:null};const a=jh({pub:n,url:i});return a?{can_syndicate:!1,hover_text:`This podcast is currently redirecting to ${a}.`}:{can_syndicate:!1,hover_text:`This podcast is currently redirecting to ${i}.`}},SK=({pub:n})=>{var t;const r=[];if(n.podcast_enabled||n.podcast_title){const i=jw(n);r.push({name:n.podcast_title||n.name,description:n.podcast_description||"",can_publish_to:i.can_syndicate,hover_text:i.hover_text,publication_id:n.id,section_id:null})}for(const i of(t=n.sections)!=null?t:[]){if(!i.is_podcast)continue;const a=Ww({pub:n,section:i});r.push({name:i.name,description:i.description,can_publish_to:a.can_syndicate,hover_text:a.hover_text,publication_id:n.id,section_id:i.id})}return r},Hw=n=>!n||!n.podcast_enabled?!1:n.podcast_feed_url?!Wh({pub:n,url:n.podcast_feed_url}):!0,Vw=({pub:n,section:t})=>{var r;if(!t.is_podcast)return!1;const i=((r=t.podcastSettings)==null?void 0:r.podcast_feed_url)||null;return i?!Wh({pub:n,url:i}):!0},TK=(n,t=0)=>t?Kw(n,t):n.email_disabled?"none":n.receive_podcast_emails?"all":"allButPodcasts",Kw=(n,t)=>{var r;return!n.email_settings||!n.email_settings[t]?null:n.email_settings[t]==="disabled"?"none":(r=n.section_podcasts_enabled)!=null&&r.includes(t)?"all":"allButPodcasts"},$w=({pub:n,includeMainPub:t})=>{var r;if(!n)return[];const i=[];return t&&i.push({name:n.name,description:n.hero_text,logoUrl:n.logo_url,sectionId:null,linkUrl:(0,p.getArchiveUrl)(n),defaultOn:!0}),(r=n.sections)==null||r.forEach(a=>{i.push({name:a.name,description:a.description,logoUrl:a.logo_url,sectionId:a.id,linkUrl:(0,te.getSectionUrl)(n,{section:a}),defaultOn:a.is_default_on})}),i};var zw=Object.defineProperty,Gw=Object.defineProperties,Zw=Object.getOwnPropertyDescriptors,Hh=Object.getOwnPropertySymbols,Yw=Object.prototype.hasOwnProperty,Jw=Object.prototype.propertyIsEnumerable,Vh=(n,t,r)=>t in n?zw(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Xw=(n,t)=>{for(var r in t||(t={}))Yw.call(t,r)&&Vh(n,r,t[r]);if(Hh)for(var r of Hh(t))Jw.call(t,r)&&Vh(n,r,t[r]);return n},Qw=(n,t)=>Gw(n,Zw(t));const Kh=n=>(0,e.h)(L.l,Qw(Xw({},n),{name:"FilledCircleCheckmarkIcon",svgParams:{height:24,width:24}}),(0,e.h)("circle",{className:"filled-checkmark-icon-circle",cx:"12",cy:"12",r:"12",fill:"#419E4E",stroke:"none"}),(0,e.h)("path",{d:"M7 11.7222L10.8462 16L17 9",stroke:n.stroke||"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}));var qw=Object.defineProperty,eC=Object.defineProperties,tC=Object.getOwnPropertyDescriptors,$h=Object.getOwnPropertySymbols,nC=Object.prototype.hasOwnProperty,rC=Object.prototype.propertyIsEnumerable,zh=(n,t,r)=>t in n?qw(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Gh=(n,t)=>{for(var r in t||(t={}))nC.call(t,r)&&zh(n,r,t[r]);if($h)for(var r of $h(t))rC.call(t,r)&&zh(n,r,t[r]);return n},Zh=(n,t)=>eC(n,tC(t)),Rd=(n,t,r)=>new Promise((i,a)=>{var M=B=>{try{F(r.next(B))}catch(Y){a(Y)}},k=B=>{try{F(r.throw(B))}catch(Y){a(Y)}},F=B=>B.done?i(B.value):Promise.resolve(B.value).then(M,k);F((r=r.apply(n,t)).next())});const yi=()=>{const n=(0,Nr.useMediaQuery)({query:"only screen and (max-width: 1024px)"}),t=(0,Nr.useMediaQuery)({query:"only screen and (max-width: 768px)"});let r;return typeof window=="undefined"?r=(0,D.isMobile)()?"mobile":"desktop":r=t?"mobile":n?"tablet":"desktop",{breakpoint:r,isMobile:r==="mobile",isTablet:r==="tablet",isDesktop:r==="desktop"}},xK=({pubId:n})=>{const[t,r]=useState([]),[i,a]=useState([]),[M,k]=useState([]),[F,B]=useState([]),[Y,ge]=useState(!1),[Ce,Se]=useState([]),[Ue,Ye]=useState([]);return useEffect(()=>{request.get("/api/v1/publication_user/homepage_preview").then(({body:Ve})=>{r(Ve)}),request.get("/api/v1/homepage_links").then(({body:Ve})=>a(Ve)),request.get("/api/v1/archive").query({sort:"new",limit:13}).then(({body:Ve})=>{k(Ve),ge(!0)}),request.get("/api/v1/archive").query({sort:"pinned"}).then(({body:Ve})=>B(Ve)),request.get(`/api/v1/recommendations/from/${n}`).query({limit:5}).then(Ve=>{Se(Ve.body)}),request.get("/api/v1/archive").query({sort:"top",limit:6}).then(({body:Ve})=>Ye(Ve))},[n]),useMemo(()=>({contributors:t,homepageLinks:i,newPosts:M,pinnedPosts:F,postsLoaded:Y,recommendations:Ce,topPosts:Ue}),[t,i,M,F,Y,Ce,Ue])},MK=()=>{const[n,t]=useState([]),[r,i]=useState({}),[a,M]=useState({});return useEffect(()=>{(()=>Rd(void 0,null,function*(){for(const F of n){if(F.post_source==="section"&&F.section_id&&!r[F.section_id]){const{body:B}=yield request.get("/api/v1/archive").query({section_id:F.section_id,sort:"new",limit:13});i(Y=>Zh(Gh({},Y),{[String(F.section_id)]:B}))}if(F.post_source==="tag"&&F.post_tag_id&&!a[F.post_tag_id]){const{body:B}=yield request.get("/api/v1/archive").query({post_tag_id:F.post_tag_id,sort:"new",limit:13});M(Y=>Zh(Gh({},Y),{[String(F.post_tag_id)]:B}))}}}))()},[n,r,a]),{contentBlocks:n,onChangeContentBlocks:t,postsBySectionId:r,postsByTagId:a}},oC=n=>{const[t,r]=(0,o.eJ)(n.newPosts),[i,a]=(0,o.eJ)(n.pinnedPosts),[M,k]=(0,o.eJ)(n.topPosts),F=new Set((i||[]).map(ge=>ge.id)),B=(i||[]).concat((t||[]).filter(ge=>!F.has(ge.id)));(0,o.d4)(()=>{var ge,Ce,Se;((ge=n.newPosts)==null?void 0:ge.length)!==t.length&&r(n.newPosts),((Ce=n.pinnedPosts)==null?void 0:Ce.length)!==i.length&&a(n.pinnedPosts),((Se=n.topPosts)==null?void 0:Se.length)!==M.length&&k(n.topPosts)},[n.newPosts,n.pinnedPosts,n.topPosts,t==null?void 0:t.length,i==null?void 0:i.length,M==null?void 0:M.length]);const Y=(0,o.I4)(({post:ge})=>{if(!ge)return;const Ce=[{list:M,setter:k},{list:i,setter:a},{list:t,setter:r}];for(const Se of Ce){if(!Se.list)return;const Ue=Se.list.findIndex(Ye=>Ye.id===ge.id);if(Ue!==-1){const Ye=[...Se.list];Ye.splice(Ue,1,ge),Se.setter(Ye)}}},[t,i,M]);return{posts:B,topPosts:M,onChange:Y}},DK=({bodyId:n})=>{const[t,r]=useState(null),[i,a]=useState(null);return useEffect(()=>{n==="grid-groups"&&(i||Rd(void 0,null,function*(){try{const k=yield request.get("/api/v1/publication/sections");a(k.body)}catch(k){console.error(k)}}),t||Rd(void 0,null,function*(){try{const k=yield request.get("/api/v1/publication/post-tag");r(k.body)}catch(k){console.error(k)}}))},[n,t,i]),{postTags:t,sections:i}},bi={img:"frontend-components-newsletter_item-module__img--bS4yt",container:"frontend-components-newsletter_item-module__container--Og_JT",selectableContainer:"frontend-components-newsletter_item-module__selectableContainer--OyGeq",selectedContainer:"frontend-components-newsletter_item-module__selectedContainer--itkCr",clickableContainer:"frontend-components-newsletter_item-module__clickableContainer--NsLAs",containerMobile:"frontend-components-newsletter_item-module__containerMobile--C2ytw",imgMobile:"frontend-components-newsletter_item-module__imgMobile--yC2u_",selector:"frontend-components-newsletter_item-module__selector--IAwcD",unselected:"frontend-components-newsletter_item-module__unselected--PYQqC",seeLatest:"frontend-components-newsletter_item-module__seeLatest--hTMpM"},iC=({newsletter:n,hideLink:t=!1,onToggle:r,onClick:i})=>{const{isMobile:a}=yi();i&&r&&console.error("you cannot pass both onToggle and onClick");const M=F=>{F.stopPropagation(),r==null||r({sectionId:n.sectionId,isSelected:!n.selected})},k=!!r;return a?(0,e.h)(aC,{newsletter:n,hideLink:t,onClick:i,onToggle:r}):(0,e.h)(y.tu,{className:l()(bi.container,{[bi.selectedContainer]:k&&n.selected,[bi.selectableContainer]:k,[bi.clickableContainer]:!!i}),justifyContent:"space-between",radius:12,padding:16,onClick:k?M:i!=null?i:void 0},k&&n.selected?(0,e.h)(Kh,{className:l()(bi.selector)}):k?(0,e.h)("div",{className:l()(bi.unselected,bi.selector)}):null,(0,e.h)(y.tu,{gap:24},n.logoUrl&&(0,e.h)("div",{className:bi.img},n.logoUrl&&(0,e.h)("img",{className:bi.img,src:(0,p.imginary)(n.logoUrl,64)})),(0,e.h)(y.tu,{gap:8},(0,e.h)(y.xv.H3,{paddingRight:n.logoUrl?0:32,weight:"semibold",color:"pub-primary-text",clamp:2},n.name),(0,e.h)(y.xv.B4,{color:"pub-secondary-text",clamp:4},n.description))),!t&&(0,e.h)(y.xv,{translated:!0,size:14,weight:"semibold",font:"text",color:"pub-secondary-text"},(0,e.h)("a",{className:bi.seeLatest,href:n.linkUrl,native:!0},"See the latest")))},aC=({newsletter:n,hideLink:t,onClick:r,onToggle:i})=>{const a=!!i,M=k=>{k.stopPropagation(),i==null||i({sectionId:n.sectionId,isSelected:!n.selected})};return(0,e.h)(y.tu,{className:l()(bi.containerMobile,{[bi.selectedContainer]:a&&n.selected,[bi.selectableContainer]:a,[bi.clickableContainer]:!!M}),justifyContent:"space-between",radius:12,padding:16,onClick:a?M:r!=null?r:void 0},a&&n.selected?(0,e.h)(Kh,{className:l()(bi.selector)}):a?(0,e.h)("div",{className:l()(bi.unselected,bi.selector)}):null,(0,e.h)(y.tu,{gap:8},(0,e.h)(y.gq,{gap:8},n.logoUrl&&(0,e.h)("img",{className:bi.imgMobile,src:(0,p.imginary)(n.logoUrl,64)}),(0,e.h)(y.xv,{paddingRight:32,size:16,weight:"semibold",color:"primary",font:"text",clamp:2},n.name)),(0,e.h)(y.xv.B4,{color:"secondary",clamp:2,font:"text"},n.description)),!t&&(0,e.h)(y.xv,{translated:!0,size:14,weight:"semibold",font:"text",color:"pub-secondary-text"},(0,e.h)("a",{href:n.linkUrl,native:!0},"See the latest")))},sC={container:"frontend-components-newsletter_item_list-module__container--UOq1t"},lC=({newsletters:n,hideLinks:t,onNewsletterClick:r,justifyItems:i})=>{const{iString:a}=(0,P.M1)();return(0,e.h)(he.gq,{className:sC.container,wrap:"wrap",justifyContent:i,gap:24},n.length===0&&(0,e.h)("div",null,a("No additional newsletters")),n.map((M,k)=>(0,e.h)(iC,{newsletter:M,key:k,hideLink:t,onToggle:r?({sectionId:F,isSelected:B})=>{r({sectionId:F,isSelected:B})}:void 0,onClick:t?void 0:()=>{(0,O.redirect)(M.linkUrl,{local_navigation:!1})}})))},Ld={container:"frontend-components-newsletters_page-module__container--VhY3a",newsletterList:"frontend-components-newsletters_page-module__newsletterList--zmZNt",accountLink:"frontend-components-newsletters_page-module__accountLink--TyIAl"};var uC=Object.defineProperty,cC=Object.defineProperties,dC=Object.getOwnPropertyDescriptors,Yh=Object.getOwnPropertySymbols,fC=Object.prototype.hasOwnProperty,pC=Object.prototype.propertyIsEnumerable,Jh=(n,t,r)=>t in n?uC(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,hC=(n,t)=>{for(var r in t||(t={}))fC.call(t,r)&&Jh(n,r,t[r]);if(Yh)for(var r of Yh(t))pC.call(t,r)&&Jh(n,r,t[r]);return n},mC=(n,t)=>cC(n,dC(t));const _C=({pub:n,user:t})=>{const r=$w({pub:n,includeMainPub:!0}).map(i=>mC(hC({},i),{linkUrl:(0,p.updateQuery)(i.linkUrl,{utm_source:"newsletter_page"}),selected:i.defaultOn}));return r.length===0?(typeof window!="undefined"&&(window.location.href=(0,te.getBaseUrl)(n)),(0,e.h)("div",null,"loading...")):(0,e.h)("div",{className:l()("page","typography",Ld.container)},(0,e.h)(y.tu,null,(0,e.h)(y.gq,{justifyContent:"space-between",alignItems:"center"},(0,e.h)(y.tu,{gap:8,paddingBottom:40,paddingTop:48},(0,e.h)(y.xv.H1,{size:32,lineHeight:40,color:"pub-primary-text"},"Newsletters"),(0,e.h)(y.xv.B3,{size:16,lineHeight:20,color:"pub-secondary-text"},"Get the best of ",n.name," in your inbox.",t!=null&&t.is_subscribed?(0,e.h)(e.Fragment,null," ","You can manage your subscription in your ",(0,e.h)("a",{className:Ld.accountLink,href:(0,p.getPubAccountSettingsUrl)(n),native:!0},"account settings"),"."):"")),(!t||!t.is_subscribed)&&(0,e.h)(y.zx,{priority:"primary-theme",href:(0,p.getSubscribeUrl)(n,{addBase:!0,utm_source:"newsletter_page"}),localNavigation:!1},"Subscribe")),(0,e.h)(y.iz,{weight:1,priority:"detail-themed"}),(0,e.h)("div",{className:Ld.newsletterList},(0,e.h)(lC,{newsletters:r,hideLinks:!1,justifyItems:"start"}))))};var gC=Object.defineProperty,vC=Object.defineProperties,yC=Object.getOwnPropertyDescriptors,Xh=Object.getOwnPropertySymbols,bC=Object.prototype.hasOwnProperty,PC=Object.prototype.propertyIsEnumerable,Qh=(n,t,r)=>t in n?gC(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Cl=(n,t)=>{for(var r in t||(t={}))bC.call(t,r)&&Qh(n,r,t[r]);if(Xh)for(var r of Xh(t))PC.call(t,r)&&Qh(n,r,t[r]);return n},Vu=(n,t)=>vC(n,yC(t)),EC=(n,t,r)=>new Promise((i,a)=>{var M=B=>{try{F(r.next(B))}catch(Y){a(Y)}},k=B=>{try{F(r.throw(B))}catch(Y){a(Y)}},F=B=>B.done?i(B.value):Promise.resolve(B.value).then(M,k);F((r=r.apply(n,t)).next())}),qh;const wC=typeof window!="undefined"?(qh=window._preloads)==null?void 0:qh.publicationUserSettings:{},em=n=>({getSettingForPubUser:r=>{if(!r||!n)return null;const i=n[r];return i===void 0?null:i}}),Bd=(0,e.createContext)(Vu(Cl({},em(wC)),{changeUserSetting:()=>Promise.resolve(void 0)}));Bd.displayName="PublicationUserSettingsContext";const AK=n=>{const t=forwardRef((r,i)=>{const a=OC();return h(n,Vu(Cl(Cl({},a),r),{ref:i}))});return t.displayName=`withPubUserSettingsContext(${n.displayName||n.name||"Anonymous"})`,t};function CC({preloadPubUserSettings:n={},children:t}){const[r,i]=(0,o.eJ)(n),a=(0,o.I4)((k,F)=>EC(this,null,function*(){i(B=>Vu(Cl({},B),{[k]:F}));try{yield(0,Ot.rd)("/api/v1/publication_user_settings/user",{method:"PUT",json:{type:k,value:F}})}catch(B){console.error(B)}}),[i]),M=(0,o.Ye)(()=>Vu(Cl({},em(r)),{changeUserSetting:a}),[r,a]);return(0,e.h)(Bd.Provider,{value:M},t)}function OC(){return useContext(Bd)}var SC=Et(92643),Ol=Et(10174),kd=Et(72307),Ud=Et(71720);function TC({user:n=void 0,pub:t=null,children:r=void 0,siteConfigs:i={},hasThemedBackground:a=void 0,language:M="en",country:k=void 0,experimentInfo:F={},portalRoot:B=void 0,shouldLoad:Y=void 0,shouldPollNotifications:ge=!1,publicationSettings:Ce={},userSettings:Se=void 0,publicationUserSettings:Ue={}}){Y===void 0&&(Y=!!n);const Ye=(0,kd.lV)(!!n);return(0,e.h)(JE,{country:k},(0,e.h)(P._7,{language:M},(0,e.h)(N.ze,{value:{hasThemedBackground:a}},(0,e.h)($n.vC,{siteConfigs:i},(0,e.h)(Pr.Vt,{siteConfigs:i,experimentInfo:F},(0,e.h)(Bs,{siteConfigs:i,experimentInfo:F},(0,e.h)(Mn.Iz,{settings:Ce},(0,e.h)(CC,{preloadPubUserSettings:Ue},(0,e.h)(Ru.N$,{shouldLoad:Y,shouldPoll:ge},(0,e.h)(Lu.X,{root:B},(0,e.h)(Na.dr,{defaultValue:n,settings:Se},(0,e.h)(SC.am,null,(0,e.h)(ii.VW,null,(0,e.h)(kd.e.Provider,{value:Ye},(0,e.h)(Ol.Au,null,(0,e.h)(Ud.G.Provider,{value:t},r))))))))))))))))}var ms=Et(4605);function IC(){return(0,e.h)(yl.cr,{module:"../feed/PublicationPage",onRequest:()=>Et.e(853).then(Et.bind(Et,88853)),resolve:n=>n.PublicationFeedPage,whileLoading:(0,e.h)(xC,null)})}function xC(){return(0,e.h)(Fu.h,null,(0,e.h)(he.hs,{bg:"primary",style:{minHeight:800}}))}var MC=Object.defineProperty,DC=Object.defineProperties,AC=Object.getOwnPropertyDescriptors,tm=Object.getOwnPropertySymbols,NC=Object.prototype.hasOwnProperty,RC=Object.prototype.propertyIsEnumerable,nm=(n,t,r)=>t in n?MC(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,LC=(n,t)=>{for(var r in t||(t={}))NC.call(t,r)&&nm(n,r,t[r]);if(tm)for(var r of tm(t))RC.call(t,r)&&nm(n,r,t[r]);return n},BC=(n,t)=>DC(n,AC(t));function kC(){const n=(0,ii.pm)();return(0,o.d4)(()=>{const t=new URL(location.toString());t.searchParams.get("founding-member-confirmation")&&(t.searchParams.delete("founding-member-confirmation"),history.replaceState({},"",t),n.popToast(i=>(0,e.h)(ii.FN,BC(LC({},i),{text:"You upgraded to a founding tier subscription. Thank you!"}))))},[]),null}var Sl=Et(63030),Ks=Et(71375),rm=Et(16527),ua=Et(92271);const Fd={wrapper:"frontend-lib-ProfileSetupToast-module__wrapper--C8ueg",headerRow:"frontend-lib-ProfileSetupToast-module__headerRow--oL8ne",header:"frontend-lib-ProfileSetupToast-module__header--uTXIc"};var UC=(n,t,r)=>new Promise((i,a)=>{var M=B=>{try{F(r.next(B))}catch(Y){a(Y)}},k=B=>{try{F(r.throw(B))}catch(Y){a(Y)}},F=B=>B.done?i(B.value):Promise.resolve(B.value).then(M,k);F((r=r.apply(n,t)).next())});const FC=(n,t,r,i,a)=>{if(!t)return null;switch(n){case"post-login":return t.profile_set_up_at?{title:"Your account is now set up",body:"You now have a profile and are able to leave comments on all of your subscriptions.",ctaText:"Check out profile",ctaLink:(0,p.getReaderProfileUrl)(t,{utm_source:"profile_toast",noBase:r}),ctaVariant:"secondary"}:null;case"post-subscribe-prompt":return i?{title:"Finish setting up your account",body:"Tell us more about yourself and find more things to read, so you can participate in the community",ctaText:"Finish setting up",ctaLink:(0,p.getReaderOnboardingUrl)(t,{isAbbreviated:!0,redirect:document.location.href,postRedirectToast:"post-subscribe-success",pubId:i?i.id:null}),ctaVariant:"themed-primary"}:null;case"post-subscribe-success":return!i||!t.profile_set_up_at?null:{title:`Welcome to ${i?i.name:""}`,body:(0,e.h)("span",null,"You will start receiving updates in your inbox. You can also read the"," ",(0,e.h)("a",{href:i?(0,p.getArchiveUrl)(i):null},"full archives")," in the website or check out your profile."),ctaText:"Check out profile",ctaLink:(0,p.getReaderProfileUrl)(t,{utm_source:"profile_toast",noBase:r}),ctaVariant:"secondary"};case"start-writing":return{title:(0,e.h)(he.tu,{alignItems:"center"},(0,e.h)("img",{width:195,src:(0,te.imginary)("/img/reader_onboarding/jobpage_penholder.png",195)}),(0,e.h)(I.xv.H3,{align:"center"},"Want to start writing on Substack?")),body:(0,e.h)(I.xv.B3,{align:"center",paddingBottom:20},(0,e.h)("span",null,"Congrats on subscribing to your ",(0,nn.numberToOrdinal)(a)," Substack! Start your own"," ",(0,e.h)("b",null,"in 5 minutes or less"))),ctaText:"Start Writing",ctaLink:(0,p.getStartPublishingUrl)({utm_source:"profile_toast"}),ctaVariant:"themed-primary"};default:return null}};function jC({user:n,pub:t=null,noBase:r=!1}){const i=(0,ii.pm)();return(0,o.d4)(()=>{function a(){return UC(this,null,function*(){yield jn().put("/api/v1/user-setting").send({type:"has_seen_reader_to_writer_upsell",value_bool:!0})})}const M=new URL(location.toString()),k=M.searchParams.get("profile-setup-message");if(!k)return;const F=k==="start-writing"?Number(M.searchParams.get("nthPub")):void 0;if(M.searchParams.delete("nthPub"),M.searchParams.delete("profile-setup-message"),history.replaceState({},"",M),!(k!=="post-subscribe-prompt"))return;const Y=FC(k,n,r,t,F);Y&&(k==="start-writing"&&a(),i.popToast(({onClose:ge})=>(0,e.h)(he.tu,{className:Fd.wrapper,justifyContent:"space-between"},(0,e.h)(he.tu,{gap:8},(0,e.h)(he.gq,{className:Fd.headerRow,justifyContent:"space-between",alignItems:"center"},(0,e.h)(ua.z,{look:"flex",onClick:ge},(0,e.h)(Ks.Z,{size:20}))),(0,e.h)(I.xv.H3,{className:Fd.header},Y.title),Y.body),(0,e.h)(ua.z,{variant:Y.ctaVariant,fill:"filled",onClick:Ce=>{(0,rm.Q)(Ce,Y.ctaLink,{native:!0}),ge()}},Y.ctaText)),{ttl:null}))},[]),null}var Ai=Et(58884);const WC=["sort"],HC=["sort","selection"];function om(n,t){let r;try{r=new URL(`${location.protocol}//${location.host}${n}`)}catch(i){r=new URL(n)}for(const i of r.searchParams.keys())(t?HC:WC).includes(i)||r.searchParams.delete(i);return r.toString()}function VC({previous:n,url:t}){var r,i;if(typeof window=="undefined")return;const a=om(t,!1),M=om(t,!0),{head:k}=document;(r=k.querySelector("link[rel=canonical]"))==null||r.setAttribute("href",a),(i=k.querySelector('meta[property="og:url"]'))==null||i.setAttribute("content",M),(0,C.jA)({previous:n,url:t})}var im=Et(35225),KC=Et(3312),jd=Et.n(KC),$C=Et(92592),Wd=Et(82771),zC=Et(28175),am=Et.n(zC),sm=Et(80587);const GC=(0,Oo.Z)("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]),ZC=(0,Oo.Z)("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]),Hd=(0,Oo.Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var $s=Et(99869);const lm=(0,Oo.Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),YC=(0,Oo.Z)("CircleSlash2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M22 2 2 22",key:"y4kqgn"}]]);var um=Et(5149),JC=Et(49770),cm=Et(17048);const XC=(0,Oo.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var Ku=Et(13639),ca=Et(80332);const QC=(0,Oo.Z)("CornerDownRight",[["polyline",{points:"15 10 20 15 15 20",key:"1q7qjw"}],["path",{d:"M4 4v7a4 4 0 0 0 4 4h12",key:"z08zvw"}]]);var qC=Object.defineProperty,eO=Object.defineProperties,tO=Object.getOwnPropertyDescriptors,dm=Object.getOwnPropertySymbols,nO=Object.prototype.hasOwnProperty,rO=Object.prototype.propertyIsEnumerable,fm=(n,t,r)=>t in n?qC(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,oO=(n,t)=>{for(var r in t||(t={}))nO.call(t,r)&&fm(n,r,t[r]);if(dm)for(var r of dm(t))rO.call(t,r)&&fm(n,r,t[r]);return n},iO=(n,t)=>eO(n,tO(t));const aO=n=>(0,e.h)(L.l,iO(oO({},n),{name:"LucideCornerDownRight",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)(QC,{height:24,stroke:n.stroke,fill:n.fill,strokeWidth:n.strokeWidth}));var pm=Et(85344),Vd=Et(86602),hm=Et(15748),sO=Et(62372);const lO={popoverBase:"frontend-pencraft-Popover-module__popoverBase--Nykv6"};var uO=Object.defineProperty,cO=Object.defineProperties,dO=Object.getOwnPropertyDescriptors,$u=Object.getOwnPropertySymbols,mm=Object.prototype.hasOwnProperty,_m=Object.prototype.propertyIsEnumerable,gm=(n,t,r)=>t in n?uO(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,zs=(n,t)=>{for(var r in t||(t={}))mm.call(t,r)&&gm(n,r,t[r]);if($u)for(var r of $u(t))_m.call(t,r)&&gm(n,r,t[r]);return n},fO=(n,t)=>cO(n,dO(t)),pO=(n,t)=>{var r={};for(var i in n)mm.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&$u)for(var i of $u(n))t.indexOf(i)<0&&_m.call(n,i)&&(r[i]=n[i]);return r};const vm=n=>{var t=n,{className:r="",children:i,layerClassName:a,hideOnScroll:M=!1,onClose:k}=t,F=pO(t,["className","children","layerClassName","hideOnScroll","onClose"]);const[B,Y]=(0,o.eJ)(!1),ge=mO(zs({open:B,onClose:()=>{Y(!1),k==null||k()},hideOnScroll:M,className:a},F));return hO({hideOnScroll:M,setOpen:Y,open:B}),(0,e.h)("div",fO(zs({className:r},ge.triggerProps),{onClick:Ce=>{Y(!B),Ce.stopPropagation()}}),typeof i=="function"?i({isOpen:B}):i,ge.layer)};function hO({hideOnScroll:n,setOpen:t,open:r}){const i=(0,o.I4)(a=>{requestAnimationFrame(()=>{var M;const F=(M=a.target.classList)==null?void 0:M.contains("popoverLayerForScrollDetection");r&&n&&!F&&t(!1)})},[n,t,r]);(0,o.d4)(()=>{if(n)return window.addEventListener("scroll",i,!0),()=>{window.removeEventListener("scroll",i,!0)}},[i,n])}function mO({open:n,onClose:t,disabled:r,possiblePlacements:i=["top-center","bottom-center","top-start","bottom-start","top-end","bottom-end"],preferPlacement:a,snap:M=!1,onOpen:k,content:F,className:B,layerOptions:Y,closeOnOutsideClick:ge=!0}){const Ce=(0,o.sO)(!1);(0,o.d4)(()=>{n&&!Ce.current&&k&&(Ce.current=!0,k())},[n,k]);const{triggerProps:Se,layerProps:Ue,renderLayer:Ye}=(0,sO.sJ)(zs(zs(zs({isOpen:r?!1:n,overflowContainer:!1,auto:!0,snap:M,possiblePlacements:i,placement:a,containerOffset:10,triggerOffset:8},ge&&{onOutsideClick:()=>t()}),a&&{placement:a}),Y));return{triggerProps:Se,layer:n&&Ye((0,e.h)("div",zs({className:l()("popoverLayerForScrollDetection",lO.popoverBase,B)},Ue),typeof F=="function"?F({closePopover:t}):F))}}var Gs=Et(10186),RK=Et(28599),LK=Et(10928),BK=Et(44908),kK=Et(73955),UK=Et(71171),_O=Et(23279),zu=Et.n(_O);const Kd={searchContainer:"frontend-components-Search-module__searchContainer--OJHUw",medium:"frontend-components-Search-module__medium--Sri_d",small:"frontend-components-Search-module__small--tPvnS",searchInput:"frontend-components-Search-module__searchInput--w1uCz"};var gO=Object.defineProperty,Gu=Object.getOwnPropertySymbols,ym=Object.prototype.hasOwnProperty,bm=Object.prototype.propertyIsEnumerable,Pm=(n,t,r)=>t in n?gO(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,vO=(n,t)=>{for(var r in t||(t={}))ym.call(t,r)&&Pm(n,r,t[r]);if(Gu)for(var r of Gu(t))bm.call(t,r)&&Pm(n,r,t[r]);return n},yO=(n,t)=>{var r={};for(var i in n)ym.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Gu)for(var i of Gu(n))t.indexOf(i)<0&&bm.call(n,i)&&(r[i]=n[i]);return r};function bO({items:n,getKeys:t,sort:r=!0,sortFunc:i,deps:a}){const M=(Ce,Se)=>{const Ue=t(Ce),Ye=t(Se);for(let Ve=0;Ve<Math.min(Ue.length,Ye.length);Ve++){const at=Ue[Ve].localeCompare(Ye[Ve]);if(at!==0)return at}return Ue.length-Ye.length},[k,F]=(0,o.eJ)(""),B=(0,o.Ye)(()=>zu()(F,100),[F]),Y=k.trim(),ge=(0,o.Ye)(()=>{if(!Y)return n;let Ce=n.filter(Se=>t(Se).some(Ye=>Ye.toLowerCase().includes(Y.toLowerCase())));if(r||i){const Se=i||M;Ce=Ce.sort(Se)}return Ce},a?[Y,...a]:[Y,n]);return{setQuery:B,filteredItems:ge,hasFiltered:Y!==""}}function PO(n){var t=n,{setQuery:r,placeholder:i="Search...",size:a="medium"}=t,M=yO(t,["setQuery","placeholder","size"]);const k=B=>{r(B.currentTarget.value)},F=(0,o.sO)(null);return(0,e.h)(he.hs,vO({className:l()(Kd.searchContainer,Kd[a]),bg:"secondary",paddingX:a==="small"?12:16,gap:8,alignItems:"center",onClick:()=>{var B;return(B=F.current)==null?void 0:B.focus()}},M),(0,e.h)(bh,{size:a==="small"?16:20,color:"var(--color-secondary)"}),(0,e.h)("input",{type:"search",className:Kd.searchInput,ref:F,placeholder:i,onInput:k}))}var FK=Et(21125),EO=(n=>(n.CONTRIBUTOR="contributor",n.FOUNDING="founding",n.PAID="paid",n.FREE="free_subscriber",n))(EO||{}),wO=(n,t,r)=>new Promise((i,a)=>{var M=B=>{try{F(r.next(B))}catch(Y){a(Y)}},k=B=>{try{F(r.throw(B))}catch(Y){a(Y)}},F=B=>B.done?i(B.value):Promise.resolve(B.value).then(M,k);F((r=r.apply(n,t)).next())});const jK=n=>{const t=useUserSettings();useEffect(()=>{const r=()=>wO(void 0,null,function*(){try{yield fetchJson("/api/v1/user-setting",{method:"PUT",json:{type:"last_home_tab",value_text:n}})}catch(i){}});t!=null&&t.user_id&&t.last_home_tab!==n&&r()},[t,n])};var WK=Et(95582),HK=Et(11533),ra=Et(62246),VK=Et(65414);function KK({title:n,body:t,children:r}){return h(FlexColumn,{flex:"grow",alignItems:"center",justifyContent:"center",gap:16,padding:20},h(MessageCircle,{stroke:"var(--color-secondary)"}),h(CO,{title:n,body:t},r))}function CO({title:n,body:t,children:r}){return h(FlexColumn,{gap:8,alignItems:"center"},h(Text.B4,{weight:"semibold",color:"secondary",align:"center"},n),h(Text.B4,{color:"secondary",align:"center"},t),r)}var OO=Object.defineProperty,SO=Object.defineProperties,TO=Object.getOwnPropertyDescriptors,Em=Object.getOwnPropertySymbols,IO=Object.prototype.hasOwnProperty,xO=Object.prototype.propertyIsEnumerable,wm=(n,t,r)=>t in n?OO(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,MO=(n,t)=>{for(var r in t||(t={}))IO.call(t,r)&&wm(n,r,t[r]);if(Em)for(var r of Em(t))xO.call(t,r)&&wm(n,r,t[r]);return n},DO=(n,t)=>SO(n,TO(t));function $K(n){return h(LazyComponent,DO(MO({},n),{module:"./ChatTextEditor",resolve:t=>t.ChatTextEditor,onRequest:()=>Promise.all([Et.e(96),Et.e(760),Et.e(679),Et.e(156)]).then(Et.bind(Et,35156))}))}var zK=Et(50292),$d=Et(68262);const GK={columnsContainer:"frontend-reader2-ChatPage-module__columnsContainer--vSo7y",pubChatColumn:"frontend-reader2-ChatPage-module__pubChatColumn--TGWIO",pubChatFull:"frontend-reader2-ChatPage-module__pubChatFull--SgFBJ",chatPublication:"frontend-reader2-ChatPage-module__chatPublication--vTh0w",selected:"frontend-reader2-ChatPage-module__selected--qTKem",currentVisibilityBox:"frontend-reader2-ChatPage-module__currentVisibilityBox--wzRt6",headerPubLink:"frontend-reader2-ChatPage-module__headerPubLink--CNIMt",sidebarPubName:"frontend-reader2-ChatPage-module__sidebarPubName--_d42t",sidebarChatText:"frontend-reader2-ChatPage-module__sidebarChatText--mgmc1",headerPubIcon:"frontend-reader2-ChatPage-module__headerPubIcon--UDOLY",inputBox:"frontend-reader2-ChatPage-module__inputBox--PSYZ5",modalContext:"frontend-reader2-ChatPage-module__modalContext--PpHDJ",textInputInset:"frontend-reader2-ChatPage-module__textInputInset--ieJk5",invisible:"frontend-reader2-ChatPage-module__invisible--CAUpR",textInput:"frontend-reader2-ChatPage-module__textInput--G9KKe",latestButton:"frontend-reader2-ChatPage-module__latestButton--zG35Y",submitButton:"frontend-reader2-ChatPage-module__submitButton--G9Oqa",newThreadButton:"frontend-reader2-ChatPage-module__newThreadButton--FBBiq",roundedFooterPlaceholder:"frontend-reader2-ChatPage-module__roundedFooterPlaceholder--T3lK7",addImage:"frontend-reader2-ChatPage-module__addImage--zUuSW",quoteReplyComposer:"frontend-reader2-ChatPage-module__quoteReplyComposer--CcUzS",composerLinkPreview:"frontend-reader2-ChatPage-module__composerLinkPreview--_zuKv",imageBox:"frontend-reader2-ChatPage-module__imageBox--GmsiK",image:"frontend-reader2-ChatPage-module__image--fF4sS",deleteFile:"frontend-reader2-ChatPage-module__deleteFile--yFMKJ",deleteQuote:"frontend-reader2-ChatPage-module__deleteQuote--MAU9f",communityViewContainer:"frontend-reader2-ChatPage-module__communityViewContainer--jcdQX",modalColumn:"frontend-reader2-ChatPage-module__modalColumn--ZMWSC",visibilityDropdown:"frontend-reader2-ChatPage-module__visibilityDropdown--jficQ",visibilityDropdownText:"frontend-reader2-ChatPage-module__visibilityDropdownText--EVLZC",loadingBubble:"frontend-reader2-ChatPage-module__loadingBubble--Q0iQy",loadingComposer:"frontend-reader2-ChatPage-module__loadingComposer--UAgpV",messageSquareIcon:"frontend-reader2-ChatPage-module__messageSquareIcon--tg8dR",paywall:"frontend-reader2-ChatPage-module__paywall--eejvK",footer:"frontend-reader2-ChatPage-module__footer--F2GfP",disabled:"frontend-reader2-ChatPage-module__disabled--UZZTE",header:"frontend-reader2-ChatPage-module__header--JYlUY",modalChatEditor:"frontend-reader2-ChatPage-module__modalChatEditor--__z0U"};var AO=Object.defineProperty,NO=Object.defineProperties,RO=Object.getOwnPropertyDescriptors,Zu=Object.getOwnPropertySymbols,Cm=Object.prototype.hasOwnProperty,Om=Object.prototype.propertyIsEnumerable,Sm=(n,t,r)=>t in n?AO(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,nr=(n,t)=>{for(var r in t||(t={}))Cm.call(t,r)&&Sm(n,r,t[r]);if(Zu)for(var r of Zu(t))Om.call(t,r)&&Sm(n,r,t[r]);return n},hr=(n,t)=>NO(n,RO(t)),Tm=(n,t)=>{var r={};for(var i in n)Cm.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Zu)for(var i of Zu(n))t.indexOf(i)<0&&Om.call(n,i)&&(r[i]=n[i]);return r},oa=(n,t,r)=>new Promise((i,a)=>{var M=B=>{try{F(r.next(B))}catch(Y){a(Y)}},k=B=>{try{F(r.throw(B))}catch(Y){a(Y)}},F=B=>B.done?i(B.value):Promise.resolve(B.value).then(M,k);F((r=r.apply(n,t)).next())});const LO=30,BO=2,kO=5,UO=5,FO=6,jO=1;function ZK({}){var n,t,r;useNavContextAndTitle("Chat",{shouldShowGetAppPill:!1});const{user:i,userSettings:a,changeSetting:M}=useUserContext(),k=a.newest_seen_chat_item_published_at;useStickyTab("chat");const[F,B]=useRouter(),[Y,ge,Ce,Se]=(n=F.path.match(/^\/chat(?:\/(\d+)(?:\/post\/([^\/]+)(?:\/reply\/([^\/]+))?)?)?$/))!=null?n:[],Ue=Number(ge),Ye=new URL(F.url,"https://monograph.dev"),Ve=(t=Ye.searchParams)==null?void 0:t.get("targetReplyId"),at=!!((r=Ye.searchParams)!=null&&r.get("showTarget")),pt=useSubscriptionsContext(),gt=Jn=>{var Qn;const{publicationUserMap:Ln}=(Qn=pt.result)!=null?Qn:{publicationUserMap:new Map},qn=Ln.get(Jn);return!!(qn&&["contributor","admin"].includes(qn.role))},[xt,Nt]=useThunkReducer(uS,{user:i,inbox:{threads:[],isLoading:!0},communityPosts:new Map,communityComments:new Map,chats:new Map,comments:new Map,replies:new Map});useEffect(()=>{let Jn;const Qn=()=>{if(!document.hidden){const Ln=Zm({changeSetting:M,storedNewestSeenChatItemPublishedAt:k});Nt(fS({maybeUpdateNewestSeenChatSetting:Ln}))}Jn=setTimeout(Qn,LO*1e3+gS(BO))};return Qn(),()=>{Jn&&clearTimeout(Jn)}},[Nt,k,M]);const Tt=xt.inbox.isLoading,Ut=useMemo(()=>{const Jn=[];for(const Qn of xt.inbox.threads){if(!Qn.communityPostId&&gt(Qn.publication.id)){Jn.push(hr(nr({},Qn),{communityPost:null,user:i}));continue}const Ln=Qn.communityPostId&&xt.communityPosts.get(Qn.communityPostId);Ln&&!Ln.isNew&&Jn.push(nr(nr({},Qn),Ln))}return Jn},[xt.inbox.threads,xt.communityPosts,i]),qt=Jn=>{var Qn,Ln,qn;return[Jn.publication.name,...Jn.publication.contributors.map(Pn=>Pn.name),(Qn=Jn.user)==null?void 0:Qn.name,(qn=(Ln=Jn.communityPost)==null?void 0:Ln.body)==null?void 0:qn.substring(0,80)].filter(Boolean)},{setQuery:rn,filteredItems:ln}=useSearch({items:Ut,getKeys:qt}),[yn,In]=useState(new Map),En=new Map((Ut||[]).map(Jn=>yn.has(Jn.publication.id)?[Jn.publication.id,yn.get(Jn.publication.id)]:Jn.lastViewedAt?[Jn.publication.id,dayjs(Jn.lastViewedAt)]:null).filter(Boolean));useEffect(()=>{typeof Ue!="number"||isNaN(Ue)||(fetch(`/api/v1/community/publications/${Ue}/seen`,{method:"POST"}).then(()=>{}),In(yn.set(Ue,dayjs())))},[Ue]),useEffect(()=>{Tt||track(EVENTS.THREADS_INBOX_SCREEN_VIEWED,{unread_count:Ut.filter(Jn=>xm(Jn,En)).length,thread_count:Ut.length})},[Tt]);const Yn=(Jn,Qn,Ln,qn)=>{B(pathWithQuery(`/chat${Jn!=null?`/${Jn}`:""}${Qn!=null?`/post/${Qn}`:""}${Ln!=null?`/reply/${Ln}`:""}`,{targetReplyId:qn}))},kn=Jn=>{Yn(Jn)},bn=Jn=>{Yn(Ue,Jn)},er=(Jn,Qn=null)=>{Yn(Ue,Ce,Jn,Qn)},rr=useMemo(()=>({dispatch:Nt}),[]),Vn=useRef(null);Vn.current!==Ue&&(Vn.current=null);const ar=!!Vn.current;return useEffect(()=>{if(!Tt&&Ut.length&&!Ue){const Jn=Ut[0].publication.id;Vn.current=Jn,Yn(Jn)}},[Tt]),h(Um.Provider,{value:rr},h(FlexRow,{className:css.columnsContainer,flex:"grow"},setMetaData({title:"Chat | Substack",description:"Chat with your favorite writers on Substack",image:imginary("/img/reader/chat-page-thumb.jpg")}),h(FlexColumn,{overflowY:"auto",borderRight:"detail",width:350},h(FlexColumn,{flex:"auto",padding:20,borderBottom:"detail"},Tt?h(Placeholder,{height:42,width:"100%",type:"circle"}):h(SearchBox,{setQuery:rn,placeholder:"Search chats..."})),Tt?h(WO,null):ln.length>0?h(PageStack2,{gap:0},ln.map(Jn=>(Jn.communityPost&&Jn.user||gt(Jn.publication.id))&&h(VO,{key:Jn.publication.id,item:Jn,onSelect:kn,isSelected:Ue===Jn.publication.id,isUnread:xm(Jn,En)}))):Ut.length>0?h(FlexColumn,{paddingTop:8},h(FlexColumn,{justifyContent:"center",alignItems:"center",flex:"fill",padding:32},h(TextZero,{title:"No chats found",body:"Please try again with a different search term."}))):h(FlexColumn,{justifyContent:"center",alignItems:"center",flex:"grow",paddingX:32},h(ChatZero,{title:"You don\u2019t have any threads",body:"When one of your subscriptions starts a new thread, it will appear here."}))),Se!=null?h(Am,{key:"replies",postId:Ce,pubId:Ue,parentCommentId:Se,state:xt,onBack:()=>er(null,Se),navigateToChat:()=>bn(null),targetReplyId:Ve,showTarget:at,isAutoSelected:ar}):Ce!=null?h(Am,{key:"comments",postId:Ce,pubId:Ue,state:xt,onBack:()=>bn(null),onSelect:er,navigateToChat:()=>bn(null),targetReplyId:Ve,showTarget:at,isAutoSelected:ar}):Ue?h(zO,{key:Ue,pubId:Ue,state:xt,onSelect:bn,isAutoSelected:ar}):Tt?h(Im,null):h(ChatZero,{title:"Click on a chat in the sidebar to get started.",body:"Once you do, it will appear here."})))}function Im(){return h(FlexColumn,null,h(FlexBox,{paddingX:24},h(FlexBox,{justifyContent:"space-between",alignItems:"center",borderBottom:"detail",className:css.header,gap:8,flex:"grow",paddingTop:8},h(Placeholder,{type:"circle",size:40}),h(Placeholder,{type:"bar",width:300,height:20}),h(Placeholder,{type:"circle",size:40}))),h(zd,{direction:"column-reverse"},h(_s,{numberToLoad:2})),h(FlexBox,{justifyContent:"center",alignItems:"center",borderTop:"detail",className:css.footer},h(Placeholder,{type:"bar",height:48,width:360,className:css.roundedFooterPlaceholder})))}function WO(){return h(PageStack2,null,Array(8).fill(0).map(()=>h(HO,null)))}function HO(){return h(FlexBox,{gap:16,padding:20},h(Placeholder,{type:"circle",size:56}),h(FlexColumn,{gap:8,flex:"grow"},h(Placeholder,{type:"bar",maxWidth:100}),h(Placeholder,{type:"bar",maxWidth:300}),h(Placeholder,{type:"bar",maxWidth:200})))}function VO({item:n,onSelect:t,isSelected:r,isUnread:i}){return h(FlexRow,{onClick:()=>t(n.publication.id),className:classnames(css.chatPublication,{[css.selected]:r}),alignItems:"start",gap:16,padding:20},n.user&&h(AvatarWithPub,{user:n.user,size:56,pub:n.publication}),h(FlexColumn,{gap:4,flex:"grow",minWidth:0},h(FlexBox,{justifyContent:"space-between",alignItems:"center",gap:8},h(Text.Meta,{className:css.sidebarPubName,ellipsis:!0},n.publication.name),n.communityPost&&h(Text.Meta,{ellipsis:!0},dayjs(n.communityPost.created_at).fromNowShort()),i&&h(UnreadDot,null)),h(Text,{clamp:2,size:14,isParagraph:!0,className:css.sidebarChatText},n.user&&h(Text.B4,{as:"span",color:"primary",weight:"semibold"},n.user.name,":"," "),n.communityPost&&h(Text.B4,{as:"span",color:"secondary"},h(KO,{post:n.communityPost})))))}function KO({post:n}){var t;const{isPaid:r,isFounding:i,isAuthor:a}=useSubscriptionStatus(n.publication_id);return n.reported_by_user?h("em",null,"You flagged this thread."):!(i||a)&&n.audience==="only_founding"?h("em",null,"started a thread for founding subscribers."):!(r||i||a)&&n.audience==="only_paid"?h("em",null,"started a thread for paid subscribers."):n.link_url?h($O,{linkMetadata:n.link_metadata}):n.media_assets&&((t=n.media_assets)==null?void 0:t.length)>0?h(Fragment,null,h("em",null,`shared ${n.media_assets.length} ${n.media_assets.length>1?"photos":"photo"}.`),n.body&&` ${n.body}`):h(Fragment,null,n.body)}function $O({linkMetadata:n}){return h(Fragment,null,h("em",null,"shared a link."),n&&` "${n.title}"`)}function xm(n,t){if(!n.communityPost)return!1;const r=t.get(n.publication.id);return r?dayjs(n.communityPost.created_at).isAfter(r):!0}function zO({pubId:n,onSelect:t,state:r,isAutoSelected:i}){var a,M,k,F,B,Y;const{changeSetting:ge,userSettings:Ce}=useUserContext(),Se=Ce.newest_seen_chat_item_published_at,Ue=Ra(),Ye=(a=r.chats.get(n))!=null?a:Yu,Ve=r.inbox.isLoading&&r.inbox.threads.length===0,at=(M=Ye.publication)==null?void 0:M.threads_v2_settings,pt=!!((k=Ye.publication)!=null&&k.threads_v2_enabled),gt=useRef(null),xt=useRef(0),{getConfigFor:Nt}=useSiteConfigs(),Tt=!!Nt("chat_founding_tier");useEffect(()=>{Ye.publication&&track(EVENTS.PUBLICATION_THREADS_SCREEN_VIEWED,{publicationId:Ye.publication.id,isAutoSelected:i})},[n,!!Ye.publication]),useLayoutEffect(()=>{var Tn;const cr=gt.current;cr&&(cr.scrollTop=(Tn=Ye.scrollPosition)!=null?Tn:0);const Er=()=>{Ue({type:"posts-save_scroll_position",payload:{publication_id:n,scrollPosition:xt.current}})},Gr=()=>{var or;xt.current=(or=cr==null?void 0:cr.scrollTop)!=null?or:0};return cr==null||cr.addEventListener("scroll",Gr,{passive:!0}),()=>{cr==null||cr.removeEventListener("scroll",Gr),Er()}},[n,!!gt.current]),useEffect(()=>{let Tn;const cr=()=>{if(!document.hidden){const Er=Zm({changeSetting:ge,storedNewestSeenChatItemPublishedAt:Se});Ue(km(n,!0,{maybeUpdateNewestSeenChatSetting:Er}))}Tn=setTimeout(cr,kO*1e3)};return Ue({type:"posts-request_initial",payload:{publication_id:n}}).then(cr),()=>{Tn&&clearTimeout(Tn)}},[n,Ue,Se,ge]);const Ut=useFetch({pathname:`/api/v1/community/publications/${n}/posts`,method:"POST",deps:[n]}),qt=()=>{setTimeout(()=>{var Tn;(Tn=gt.current)==null||Tn.scrollTo({top:0})},0)},{isPaid:rn,isAuthor:ln,isFreeSubscribed:yn,isFounding:In}=useSubscriptionStatus(n),En=(at==null?void 0:at.create_thread_minimum_role)===CreateThreadRole.FOUNDING,Yn=(at==null?void 0:at.create_thread_minimum_role)===CreateThreadRole.PAID,kn=(at==null?void 0:at.create_thread_minimum_role)===CreateThreadRole.FREE,bn=ln||En&&In||Yn&&(rn||In)||kn&&(yn||rn||In),er=Tn=>oa(this,[Tn],function*({value:cr,mediaAssets:Er,sendAsEmail:Gr,audience:or,linkUrl:Fr}){const fr=uniqueId();Ue({type:"posts-new",payload:{publication_id:n,body:cr,media_assets:Er,link_url:Fr,type:Er?"media":Fr?"link":"text",audience:or!=null?or:"all_subscribers",id:fr}}),qt();const _r=yield Ut.refetch({json:{body:cr,media_urls:Er==null?void 0:Er.map(lo=>lo.url),audience:or!=null?or:"all_subscribers",type:Er?"media":"text",send_email:!!Gr,link_url:Fr}});_r instanceof Error?alert("We failed to post your thread. Please try again later."):(Ue({type:"posts-commit",payload:{publication_id:n,id:fr,chatItem:_r}}),ge("newest_seen_chat_item_published_at",_r.communityPost.created_at))}),rr=()=>{Ue(pS(n))},Vn=!1,ar=Tn=>{if(Vn||!Ye.hasMore||Ye.isLoadingMore)return;const{currentTarget:cr}=Tn;cr.scrollTop<cr.offsetHeight-cr.scrollHeight+100&&rr()},Qn=(Ye.posts.length===0||Ye.posts.every(Tn=>{const cr=r.communityPosts.get(Tn);return!cr||La(cr)&&cr.communityPost.status!=="published"}))&&!Ye.isLoadingMore&&!Ye.hasMore,Ln=ln&&Qn,qn=Ye.posts.map(Tn=>r.communityPosts.get(Tn)).filter(Tn=>Tn!==void 0&&Tn.communityPost.status==="published");let Pn;const Xn=[];let Gt=[];for(const Tn of qn){const cr=dayjs(Tn.communityPost.created_at);Pn&&!cr.isSame(Pn,"day")&&(Xn.push({day:Pn,group:Gt}),Gt=[]),Gt.push(Tn),Pn=cr}Pn&&Gt.length>0&&Xn.push({group:Gt,day:Pn});const lr=Ye.error;return lr?h(Hm,{pubErr:lr}):!pt&&!Ve?ln?h(xi,{title:"You haven't enabled chat for this publication yet.",body:"Once you do, you can access its chat here."},Ye.publication&&h(Ga,{onClick:()=>{Ye.publication&&(window.location.href=`${getPublishSettingsUrl(Ye.publication,{addBase:!0,section:"chat-settings"})}`)}},"Enable chat")):h(xi,{title:"This publication has not enabled chat yet.",body:"Once it does, you can access its chat here."}):Ve?h(Im,null):h(JO,null,Ye.publication&&h(Dm,{pub:Ye.publication}),Ln?h(xi,{title:"You haven't started any threads yet.",body:"Once you do, they'll appear here."}):Qn?h(xi,{title:"This publication has not started any threads.",body:"Once it does, they'll appear here."}):h(zd,{direction:"column-reverse",onScroll:ar,forwardRef:gt},Xn.map(({day:Tn,group:cr})=>h(bS,{key:Tn.toISOString(),day:Tn,items:cr,onSelect:t,isPaid:rn||In||ln,isFounding:In||ln})),Ye.isLoadingMore?h(_s,{numberToLoad:2}):Ye.hasMore&&h(Zd,{onClick:rr})),bn?h(eS,{publicationId:n,placeholder:"Start a new thread",maxImagesToUpload:FO,disabled:Ut.isLoading,onSubmit:er,publishOptionsEnabled:ln,visibilityOptions:{hasPaid:!!((F=Ye.publication)!=null&&F.plans),hasFounding:Tt&&!!((Y=(B=Ye.publication)==null?void 0:B.plans)!=null&&Y.find(Tn=>{var cr;return(cr=Tn.metadata)==null?void 0:cr.founding}))}}):h(FlexBox,{justifyContent:"center",alignItems:"center",paddingX:24,borderTop:"detail",className:classnames(css.footer,css.disabled)},h(FlexRow,{gap:8,alignItems:"center"},h(MessageSquare,{size:16,className:css.messageSquareIcon}),h(Text.B4,{color:"secondary"},"Click any thread to reply"))))}function GO({item:n,onSelect:t,isPaid:r,isFounding:i}){const{communityPost:a}=n,M=!r&&a.audience==="only_paid"||!i&&a.audience==="only_founding",k=()=>t(a.id),F=B=>{B.defaultPrevented||k()};return h(FlexColumn,{onClick:F,className:classnames(!M&&css.communityViewContainer)},M?h(Vm,{user:n.user,commenters:a.recent_commenters,count:a.comment_count,audience:a.audience}):h(CommunityPostView,{communityPost:a,author:n.user,onReply:k}))}function Mm({pub:n,children:t,className:r}){return h(FlexBox,{justifyContent:"center",alignItems:"center",as:"a",target:"_blank",href:getPubUrl(n,{signedIn:!0}),className:r},t)}function Dm({pub:n}){return h(FlexBox,{paddingX:24,key:n.id},h(FlexBox,{justifyContent:"space-between",alignItems:"center",borderBottom:"detail",className:css.header,gap:8,flex:"grow",paddingTop:8},h(Mm,{pub:n,className:css.headerPubLink},h(PubIcon,{className:css.headerPubIcon,pub:n,size:40})),h(Mm,{pub:n,className:css.headerPubLink},h(Text.H4,null,n.name)),h(FlexBox,{justifyContent:"center",alignItems:"center"},h(ChatAvatar,{user:{id:n.author_id,name:n.author_name,photo_url:n.author_photo_url},size:40}))))}function Am({postId:n,pubId:t,parentCommentId:r,onBack:i,isAutoSelected:a,onSelect:M,state:k,navigateToChat:F,targetReplyId:B,showTarget:Y}){var ge,Ce,Se,Ue,Ye,Ve,at,pt,gt,xt,Nt;const Tt=r?(ge=k.replies.get(r))!=null?ge:Ju:(Ce=k.comments.get(n))!=null?Ce:Ju,Ut=k.communityPosts.get(n),qt=r&&k.communityComments.get(r),rn=k.inbox.isLoading&&k.inbox.threads.length===0,ln=k.chats.get(t),yn=k.inbox,In=(Ye=(Ue=(Se=ln==null?void 0:ln.publication)==null?void 0:Se.threads_v2_settings)==null?void 0:Ue.photo_replies_enabled)!=null?Ye:!1,[En,Yn]=useState(null),kn=`${r?`replies-${r}`:`comments-${n}`}-${Tt.comments.length}${En?`-${En.comment.id}`:""}`,{isAuthor:bn,isFounding:er,isPaid:rr,isFreeSubscribed:Vn}=useSubscriptionStatus(t),ar={quoteReply:En,cancelQuoteReply:()=>Yn(null)},Jn=fo=>{var Po;const Go=(Po=k.communityComments.get(fo.id))==null?void 0:Po.user;Go?Yn({comment:fo,user:Go}):alert("Could not create a quote reply for this comment. Please try again.")};useEffect(()=>{r?qt&&Ba(qt)&&track(EVENTS.THREAD_REPLY_PERMALINK_VIEWED,{publication_id:t,community_post_id:n,community_comment_id:r,isAutoSelected:a}):Ut&&La(Ut)&&track(EVENTS.THREAD_PERMALINK_VIEWED,{publication_id:t,community_post_id:n,type:Ut.communityPost.type,audience:Ut.communityPost.audience,isAutoSelected:a})},[r,n,t,!!Ut,!!qt]);const Qn=useUser(),Ln=useRef(),qn=useRef(),Pn=Ra(),[Xn,Gt]=useState(null),[lr,Tn]=r?["replies",{parentCommentId:r}]:["comments",{postId:n}],cr=!Tt.before.isLoading&&!Tt.after.isLoading&&Tt.comments.length===0,Er=r!=null?`/api/v1/community/comments/${r}/comments`:`/api/v1/community/posts/${n}/comments`,Gr=r!=null?r:n,or=(fo,Po)=>oa(this,null,function*(){Pn({type:`${lr}-request_initial`,payload:hr(nr({},Tn),{order:fo})});const Go=fo==="desc"?"before":"after";try{const oi=yield fetchJson(Er,{query:{order:fo,targetReplyId:Po!=null?Po:void 0}});Pn({type:`${lr}-load_edge`,payload:hr(nr({},Tn),{edge:Go,result:oi})})}catch(oi){return console.warn(oi),Pn({type:`${lr}-error`,payload:hr(nr({},Tn),{edge:Go,error:oi})}),fo==="desc"&&Fr(),oi}return Po?(setTimeout(()=>{const Zo=document.getElementById(`comment-${Po}`);Zo&&(Y?Zo.scrollIntoView({behavior:"smooth",block:"center"}):Zo.scrollIntoView({behavior:"auto",block:"center"}))},Y?250:50),null):(fo==="desc"&&Fr(),null)}),Fr=()=>{setTimeout(()=>{var fo;(fo=Ln.current)==null||fo.scrollTo({top:1e7})},0)},fr={before:!1,after:!1},_r=(fo,Po)=>{if(!(fr[fo]||Tt[fo].isLoading))return fr[fo]=!0,lo(fo,Po)},lo=(fo,Po)=>oa(this,null,function*(){var Go,oi,Zo,Ea;Pn({type:`${lr}-request_edge`,payload:hr(nr({},Tn),{edge:fo})});const xa=last(Tt.comments),as=Tt.comments[0],gl=fo==="before"?{order:"desc",before:xa&&((Go=k.communityComments.get(xa))==null?void 0:Go.comment.created_at)}:{order:"asc",after:as&&((oi=k.communityComments.get(as))==null?void 0:oi.comment.created_at)};try{const ma=yield fetchJson(Er,hr(nr({},Po),{query:gl})),{current:wa}=Ln,Rs=(Ea=(Zo=qn.current)==null?void 0:Zo.offsetHeight)!=null?Ea:0;Pn({type:`${lr}-load_edge`,payload:hr(nr({},Tn),{edge:fo,result:ma})}),setTimeout(()=>{var Tu,Iu;if(Tt.order==="desc"&&wa){const{scrollTop:bd}=wa;wa.scrollTo({top:bd+(((Iu=(Tu=qn.current)==null?void 0:Tu.offsetHeight)!=null?Iu:0)-Rs)})}},0)}catch(ma){console.warn(ma),Pn({type:`${lr}-error`,payload:hr(nr({},Tn),{edge:fo,error:ma})})}}),Kr=fo=>{Tt[fo].hasMore&&_r(fo)},zr=fo=>{const{currentTarget:Po}=fo,{scrollTop:Go,offsetHeight:oi,scrollHeight:Zo}=Po;Zo>oi&&(Go<100?Kr("before"):Go>oi-Zo-100&&Kr("after"))};useEffect(()=>{or("asc",B).then(fo=>{fo&&Gt(fo)})},[Gr,B]);const Ci=useRef(lo);Ci.current=lo,useEffect(()=>{if(!cr&&Tt.order==="desc"){let fo=new AbortController;const Po=()=>{setTimeout(()=>oa(this,null,function*(){fo.signal.aborted||(fo=new AbortController,yield Ci.current("after",{signal:fo.signal}),Po())}),UO*1e3)};return Po(),()=>{fo.abort()}}},[Gr,cr,Tt.order]);const Ho=useFetch({pathname:`/api/v1/community/posts/${n}/comments`,method:"POST",deps:[Gr]}),ha=(fo,Po,Go)=>oa(this,null,function*(){const oi="We failed to upload your media. Please try again later.",Zo=fo[0],{contentType:Ea}=Zo,xa=yield vS(Po,Go,Ea);if(xa instanceof Error){alert(oi);return}const{url:as}=xa;(yield yS(Zo,as))instanceof Error&&alert(oi)}),Vi=fo=>oa(this,[fo],function*({value:Po,mediaAssets:Go,mentions:oi}){const Zo=Po!=null?Po:"",Ea=uuid();Tt.order==="asc"&&or("desc");let xa=null;Go&&(xa=Go.map(wa=>({id:uuid(),url:wa.url,content_type:wa.contentType,type:"image",file:wa.file})));const as={is_founding:!!er,membership_state:rr?"subscribed":"free_signup",role:bn?"admin":null};Pn({type:`${lr}-new`,payload:hr(nr({},Tn),{id:Ea,body:Zo,postId:n,mediaUploads:xa,quoteReply:En,mentions:oi,pubRoles:as})});const gl=En==null?void 0:En.comment.id;En&&Yn(null),Fr(),Go&&(yield ha(Go,Ea,t));const ma=yield Ho.refetch({json:{id:Ea,body:Zo,parent_id:r,quote_id:gl,mentions:oi}});if(!(ma instanceof Error))Pn({type:`${lr}-commit`,payload:hr(nr({},Tn),{id:Ea,reply:ma})});else if(ma instanceof FetchError){const wa=ma.body.status==="PUBLICATION_BAN";alert(wa?`You are not allowed to post to this chat. ${ma.body.error}`:"We failed to post your comment. Please try again later.")}}),di=Xn&&((Ve=Xn.body)==null?void 0:Ve.status)==="PUBLICATION_NOT_FOUND";if(useEffect(()=>{!ln&&!yn.isLoading&&!di&&F()},[yn.isLoading]),di)return h(xi,{title:"We could not find this publication.",body:"Please select another publication and try again."});if(!ln&&!rn)return h(xi,{title:"Something went wrong",body:"Navigate back to the publication chat by clicking the button below"},h(Ga,{onClick:F},"Back to chat"));if(ln&&ln.error)return h(Hm,{pubErr:ln.error});if(Xn&&((at=Xn.body)==null?void 0:at.status)==="POST_NOT_FOUND")return h(xi,{title:"We could not find the parent post",body:"Navigate back to the publication chat by clicking the button below"},h(Ga,{onClick:F},"Back to chat"));if(B&&Xn&&((pt=Xn.body)==null?void 0:pt.status)==="COMMENT_NOT_FOUND")return h(xi,{title:"We could not find this reply",body:"Navigate back by clicking the button below"},h(Ga,{onClick:i},"Go back"));if(Xn&&((gt=Xn.body)==null?void 0:gt.status)==="COMMENT_NOT_FOUND")return h(xi,{title:"We could not find the parent comment",body:"Navigate back by clicking the button below"},h(Ga,{onClick:i},"Go back"));if(Ut&&Ut.isNew||qt&&qt.isNew)return h(xi,{title:"You cannot comment on this post yet",body:"Navigate back by clicking the button below"},h(Ga,{onClick:i},"Go back"));if(Ut&&Ut.communityPost.publication_id!==t)return h(xi,{title:"This post does not belong to this publication",body:"Navigate back to the publication chat by clicking the button below"},h(Ga,{onClick:F},"Back to chat"));if(qt&&qt.comment.post_id!==n)return h(xi,{title:"This comment does not belong to this post",body:"Navigate back to the publication chat by clicking the button below"},h(Ga,{onClick:F},"Back to chat"));const Ia=Xn&&((xt=Xn.body)==null?void 0:xt.status)==="PAID_SUBSCRIPTION_REQUIRED",ea=Xn&&((Nt=Xn.body)==null?void 0:Nt.status)==="FOUNDING_MEMBERSHIP_REQUIRED",Cu=Ia||ea,Ns=Ut&&La(Ut)&&!Ut.communityPost.is_locked,ih=bn||!Cu&&Ns&&(r?qt&&Ba(qt)&&!qt.comment.is_locked:!0),Ou=fo=>Po=>{if(!fo)return;Po.preventDefault();const Go=fo.comment.id;Tt.comments.find(Zo=>Zo===Go)&&setTimeout(()=>{const Zo=document.getElementById(`comment-${Go}`);Zo&&Zo.scrollIntoView({behavior:"smooth",block:"start"})},100)},Su=Ho.isLoading||rn;return h(XO,null,(ln==null?void 0:ln.publication)&&h(Dm,{pub:ln.publication}),h(YO,{onClick:i}),h(FlexColumn,{style:{position:"relative"},flex:"grow"},h(zd,{onScroll:zr,forwardRef:Ln,fullWidth:!0},rn?h(_s,{showReplyBubble:!1}):Cu?h(Vm,{user:qt?qt.user:Ut?Ut.user:null,showReply:!1,analyticsParams:{publication_id:t,community_post_id:n},audience:Ia?"only_paid":ea?"only_founding":void 0}):qt||Ut?h(FlexColumn,{className:css.communityViewContainer},qt&&!qt.isNew?h(CommunityCommentView,{key:qt.comment.id,communityComment:qt.comment,isBanned:qt.is_banned,pubRole:qt.pub_roles,chatPublicationId:t,author:qt.user,quoteReply:qt.quote,onDelete:i,hideReply:!0}):Ut&&!Ut.isNew&&h(CommunityPostView,{key:Ut.communityPost.id,communityPost:Ut.communityPost,author:Ut.user,onDelete:i,hideReply:!0})):h(_s,{showReplyBubble:!1}),h(ZO,null),rn?h(_s,{numberToLoad:2}):Ia?h(ChatZero,{title:"Only paid subscribers can read comments",body:"Upgrade to a paid subscription to access the chat"},(ln==null?void 0:ln.publication)&&h(Yd,{pub:ln.publication,utm_source:"web-chat-paywall"})):ea?h(ChatZero,{title:"Only founding members can read comments",body:"Upgrade to a founding membership to access the chat"},(ln==null?void 0:ln.publication)&&h(Yd,{pub:ln.publication,utm_source:"web-chat-paywall"})):cr?h(ChatZero,{title:"No replies yet",body:"Be the first to add a reply below"}):h(Fragment,null,Tt.before.error&&h(Wm,null),Tt.before.isLoading?h(_s,null):Tt.before.hasMore&&h(Zd,{onClick:()=>_r("before")}),h(FlexColumn,{ref:qn,gap:24},Tt.comments.slice().reverse().map(fo=>{const Po=k.communityComments.get(fo);if(Po&&Po.comment.status==="published"){const Go=!Po.isNew&&M?()=>M(Po.comment.id):void 0,oi=Zo=>{Zo.defaultPrevented||Go==null||Go()};return h(FlexColumn,{alignItems:"start",onClick:oi,className:css.communityViewContainer},h(CommunityCommentView,{key:Po.comment.id,communityComment:Po.comment,isBanned:Po.is_banned,chatPublicationId:t,quoteReply:Po.quote,pubRole:Po.pub_roles,onQuoteReplyClick:Ou(Po.quote),onNewQuote:Jn,author:Po.isNew?Qn:Po.user,onReply:Go,isTargeted:Y&&B===Po.comment.id}))}})),Tt.after.error&&h(Wm,null),Tt.after.isLoading&&Tt.order==="asc"?h(_s,null):Tt.after.hasMore&&h(Zd,{onClick:()=>_r("after")}))),Tt.order==="asc"&&Tt.after.hasMore&&h(Button,{className:css.latestButton,onClick:()=>or("desc"),rounded:!0},"Latest")),ih&&(Su?h(sS,null):h(nS,{stateChangeKey:kn,placeholder:"Add a reply...",maxImagesToUpload:jO,photosEnabled:In,onSubmit:Vi,quoteHandler:ar,mentionsContext:{publication_id:t,community_post_id:n,community_comment_id:r}})))}function ZO(){return h(FlexBox,{borderTop:"detail",alignSelf:"stretch"})}function YO({onClick:n}){return h(FlexBox,{paddingX:24,paddingTop:16},h(IconButton,{size:40,onClick:n,fill:"outline",priority:"secondary"},h(ArrowLeft,{size:20})))}function JO(n){return h(FlexColumn,nr({},n))}function XO(n){return h(FlexColumn,nr({},n))}function zd({children:n,direction:t="column",onScroll:r,forwardRef:i,fullWidth:a}){return h(FlexBox,{className:css.pubChatColumn,overflowY:"auto",padding:24,flex:"grow",direction:t,onScroll:r,ref:i,alignItems:a?"stretch":"start"},h(FlexBox,{className:css.pubChatFull,gap:24,direction:t},n))}function QO(){const[n,t]=useState([]);return{files:n,clearFiles:()=>{t([])},addFiles:M=>{t(k=>[...k,...M])},removeFile:M=>{t(k=>k.filter(F=>F!==M))}}}function qO(n){return Promise.all(n.map(t=>oa(this,null,function*(){return{file:t,imageData:yield getImageDataFromFileInput({files:[t]})}}))).then(t=>t.map(r=>{var i;return{contentType:r==null?void 0:r.file.type,url:(i=r==null?void 0:r.imageData)==null?void 0:i.url,bytes:r==null?void 0:r.file.size,file:r==null?void 0:r.file}}))}function Nm(n,t){const r=useUser(),[i,a]=useState(!1),M={value:i,flip:()=>a(kn=>!kn)},[k,F]=useState("all_subscribers"),B={value:k,set:F},[Y,ge]=useState(""),[Ce,Se]=useState(),[Ue,Ye]=useState(null),Ve=useRef(null),{files:at,clearFiles:pt,addFiles:gt,removeFile:xt}=QO(),Nt=`You can only upload ${n} ${n>1?"images":"image"} at a time.`,Tt=Y.trim()!==""||at.length>0||Ue!==null,[Ut,qt]=useState(!1),rn={isSubmitting:Ut,clearSubmission:()=>qt(!1)},ln=kn=>oa(this,null,function*(){kn==null||kn.preventDefault();const bn=Y.trim(),er=at.slice(),rr=Ce?nr({},Ce):void 0,Vn=Ue;if(Tt){ge(""),pt(),Se(void 0),qt(!0),Ye(null);let ar;if(er.length>0)try{ar=yield qO(er)}catch(Jn){console.error("error getting media urls",Jn)}t({value:bn,sendAsEmail:i,audience:k,mediaAssets:ar,mentions:rr,linkUrl:Vn})}}),yn=(kn,bn=!0)=>{Tt&&bn&&kn.key==="Enter"&&!kn.shiftKey&&!kn.altKey&&ln(kn)},In=useRef(null),En=()=>{var kn;at.length>=n?alert(Nt):(kn=In.current)==null||kn.click()},Yn=kn=>{kn.stopPropagation(),kn.preventDefault();const bn=[...kn.target.files];bn.length+at.length>n?alert(`${Nt} Please try again.`):gt(bn),In!=null&&In.current&&(In.current.value="")};return useEffect(()=>(Ve.current&&clearTimeout(Ve.current),Ve.current=setTimeout(()=>{const kn=parseValidLinks(Y);Ye(bn=>kn.length>0?kn[0].href:bn)},500),()=>{Ve.current&&clearTimeout(Ve.current)}),[Y,Ye]),{user:r,canSubmit:Tt,files:at,linkUrl:Ue,setLinkUrl:Ye,handleSubmit:ln,inputFile:In,removeFile:xt,onChangeFile:Yn,onImageButtonClick:En,textValue:Y,setTextValue:ge,setMentionMap:Se,handleKeyDown:yn,sendAsEmailHandler:M,postAudienceHandler:B,submissionTracker:rn}}function eS({publicationId:n,placeholder:t,maxImagesToUpload:r,publishOptionsEnabled:i,visibilityOptions:a,disabled:M,onSubmit:k}){const[F,B]=useState(!1),Y=()=>B(!1);return useEffect(()=>{F&&track(EVENTS.THREADS_COMPOSER_SCREEN_VIEWED,{publication_id:n})},[F]),h(Fragment,null,h(FlexBox,{justifyContent:"center",alignItems:"center",flex:"auto",borderTop:"detail",className:css.footer},h(Button,{className:css.newThreadButton,priority:"primary",fill:"filled",onClick:()=>B(!0),disabled:F||M,rounded:!0},t)),h(Modal,{isOpen:F,onClose:Y,fullscreenMobile:!0},h(tS,{maxImagesToUpload:r,publishOptionsEnabled:i,visibilityOptions:a,onSubmit:k,handleCloseModal:Y})))}function tS({maxImagesToUpload:n,publishOptionsEnabled:t,visibilityOptions:r,onSubmit:i,handleCloseModal:a}){const{user:M,files:k,handleSubmit:F,inputFile:B,removeFile:Y,onChangeFile:ge,onImageButtonClick:Ce,textValue:Se,setTextValue:Ue,handleKeyDown:Ye,sendAsEmailHandler:Ve,postAudienceHandler:at,canSubmit:pt,linkUrl:gt,setLinkUrl:xt}=Nm(n,i),Nt=useCallback((Tt,Ut)=>{Ue(Tt)},[Ue]);return h(FlexColumn,{className:css.modalColumn},h(FlexRow,{borderBottom:"detail",alignItems:"center",paddingY:12,paddingX:16,justifyContent:"space-between"},h(FlexBox,{alignItems:"center",gap:8},h(Text.H3,null,"New Thread")),h(IconButton,{size:40,"aria-label":"Close",onClick:a},h(X,{size:20,"aria-hidden":"true"}))),h(FlexColumn,{gap:16,padding:16,flex:"grow"},h(FlexBox,{gap:12,className:classnames(css.inputBox,css.modalContext),flex:"grow",paddingRight:8},h(Avatar,{size:48,user:M}),h(FlexBox,{flex:"grow"},h(LazyChatTextEditor,{defaultValue:Se,placeholder:"Write something...",onChange:Nt,onReturn:F,className:css.modalChatEditor}))),k.length>0&&h(Lm,{files:k,deleteFile:Y}),gt&&h(oS,{linkUrl:gt,deleteLink:()=>xt(null)})),t&&h(FlexRow,{borderTop:"detail",padding:16,justifyContent:"space-between"},h(FlexBox,{gap:8,alignItems:"center",paddingLeft:8},h(Mail,{size:24,fontWeight:"medium"}),h(Text.B4,{weight:"medium"},"Also send as email")),h(Switch,{checked:Ve.value,onChange:Ve.flip,color:"default"})),t&&r.hasPaid&&h(FlexRow,{borderTop:"detail",padding:16,justifyContent:"space-between"},h(Popover,{content:({closePopover:Tt})=>h(rS,{visibilityOptions:r,currentVisibility:at.value,onPick:Ut=>{at.set(Ut),Tt()}}),preferPlacement:"top-start"},h(FlexBox,{gap:8,alignItems:"center",paddingLeft:8,className:css.currentVisibilityBox},at.value==="all_subscribers"?h(Fragment,null,h(Unlock,{size:24,fontWeight:"medium"}),h(Text.B4,{weight:"medium"},"Visible to ",h("b",null,"all subscribers"))):at.value==="only_paid"?h(Fragment,null,h(Lock,{size:24,fontWeight:"medium"}),h(Text.B4,{weight:"medium"},"Only visible to ",h("b",null,"paid subscribers"))):at.value==="only_founding"?h(Fragment,null,h(Lock,{size:24,fontWeight:"medium"}),h(Text.B4,{weight:"medium"},"Only visible to ",h("b",null,"founding members"))):null))),h(FlexRow,{borderTop:"detail",padding:16,justifyContent:"space-between"},h("input",{type:"file",accept:"image/*",id:"file",ref:B,style:{display:"none"},onChange:ge,"aria-label":"Add image",multiple:!0}),h(Rm,{onClick:Ce,fontWeight:"medium",size:24,color:"primary-text"}),h(Button,{className:css.submitButton,priority:"primary",disabled:!pt,onClick:Tt=>{F(Tt),a()}},"Post")))}function nS({stateChangeKey:n,onSubmit:t,placeholder:r,maxImagesToUpload:i,photosEnabled:a,quoteHandler:M,mentionsContext:k}){const{user:F,files:B,handleSubmit:Y,inputFile:ge,removeFile:Ce,onChangeFile:Se,onImageButtonClick:Ue,textValue:Ye,setTextValue:Ve,setMentionMap:at,canSubmit:pt,submissionTracker:gt}=Nm(i,t),xt=useCallback((Nt,Tt)=>{Ve(Nt),at(Tt.size===0?void 0:Object.fromEntries(Tt))},[Ve,at]);return h(FlexColumn,{alignItems:"start",justifyContent:"center",as:"form",paddingX:24,paddingY:24,gap:16,onSubmit:Y,borderTop:"detail",alignSelf:"stretch"},B.length>0&&h(Lm,{files:B,deleteFile:Ce,paddingLeft:56}),M.quoteReply&&h(iS,{quoteReply:M.quoteReply,cancelQuoteReply:M.cancelQuoteReply}),h(FlexBox,{gap:8,alignItems:"end",alignSelf:"stretch"},h(Avatar,{user:F,size:40}),h(FlexBox,null,h("input",{type:"file",accept:"image/*",id:"file",ref:ge,style:{display:"none"},"aria-label":"Add image",onChange:Se,multiple:!0})),h(FlexBox,{className:css.inputBox,overflowY:"auto",overflowX:"hidden",paddingY:8,paddingX:16,radius:24,border:"detail",justifyContent:"space-between",alignItems:"start",flex:"grow",gap:8},h(LazyChatTextEditor,{defaultValue:Ye,placeholder:r,onChange:xt,onReturn:Y,mentionsContext:k,submitOnEnter:!0,focusKey:n,submissionTracker:gt})),a&&!M.quoteReply&&h(Rm,{onClick:Ue,fill:"outline"}),pt&&h(IconButton,{priority:"primary",fill:"filled",size:40,type:"submit"},h(ArrowUp,{size:20}))))}function Rm({onClick:n,fontWeight:t="normal",size:r=20,containerSize:i=40,fill:a="empty",color:M}){return h(IconButton,{size:i,onClick:n,color:M,fill:a},h(Image,{size:r,fontWeight:t,className:css.addImage}))}function rS({visibilityOptions:n,currentVisibility:t,onPick:r}){return h(FlexColumn,{gap:4},h(FlexRow,{borderBottom:"detail",justifyContent:"center",alignItems:"center",paddingTop:0,paddingBottom:8,paddingX:8},h(Text.B3,{className:css.visibilityDropdownText},"Choose who can see this:")),h(DropdownMenuItem,{onClick:()=>r("all_subscribers"),icon:h(Unlock,null),className:css.visibilityDropdown},h(FlexBox,{justifyContent:"space-between",alignItems:"center"},"All subscribers",t==="all_subscribers"&&h(Check,{size:20}))),n.hasPaid&&h(DropdownMenuItem,{onClick:()=>r("only_paid"),icon:h(Lock,null),className:css.visibilityDropdown},h(FlexBox,{justifyContent:"space-between",alignItems:"center"},"Paid subscribers",t==="only_paid"&&h(Check,{size:20}))),n.hasFounding&&h(DropdownMenuItem,{onClick:()=>r("only_founding"),icon:h(Lock,null),className:css.visibilityDropdown},h(FlexBox,{justifyContent:"space-between",alignItems:"center"},"Founding members",t==="only_paid"&&h(Check,{size:20}))))}function oS({linkUrl:n,deleteLink:t}){return h(FlexRow,{className:css.composerLinkPreview,alignSelf:"start"},h(LinkBubble,{linkUrl:n}),h(Gd,{onDelete:t,className:css.deleteFile}))}function Lm(n){var t=n,{files:r,deleteFile:i}=t,a=Tm(t,["files","deleteFile"]);return h(FlexBox,hr(nr({},a),{gap:8,wrap:"wrap"}),r.map(M=>h(aS,{key:M.name,file:M,deleteFile:i})))}function iS({quoteReply:n,cancelQuoteReply:t}){var r;return h(FlexBox,{paddingLeft:56,className:css.quoteReplyComposer},h(QuoteBox,{authorName:(r=n.user.name)!=null?r:"Substack user",communityEntity:n.comment}),h(Gd,{onDelete:t,className:css.deleteQuote,iconSize:16,xSize:14}))}function Gd({onDelete:n,className:t,iconSize:r=32,xSize:i=20}){return h(IconButton,{className:t,size:r,priority:"media",onClick:n},h(X,{size:i}))}function aS({file:n,deleteFile:t}){return h(FlexRow,{className:css.imageBox},h("img",{className:css.image,src:URL.createObjectURL(n),alt:n.name}),h(Gd,{onDelete:()=>t(n),className:css.deleteFile}))}function Zd({onClick:n}){return h(FlexBox,{justifyContent:"center",padding:8},h(Button,{fill:"empty",onClick:n},"Load more"))}function sS(){return h(FlexColumn,{padding:24,borderTop:"detail",alignSelf:"stretch",gap:16,alignItems:"start",justifyContent:"center"},h(FlexBox,{gap:8,alignItems:"end",alignSelf:"stretch"},h(Placeholder,{type:"circle",size:40}),h(Placeholder,{className:css.loadingComposer,height:40,type:"bar"})))}function _s({numberToLoad:n=1,showReplyBubble:t=!0}){return h(FlexColumn,{gap:32},Array(n).fill(0).map(()=>h(lS,{showReplyBubble:t})))}function lS({showReplyBubble:n=!0}){return h(FlexRow,{gap:12,flex:"grow",alignItems:"start"},h(Placeholder,{type:"circle",size:40}),h(FlexColumn,{gap:4,flex:"grow"},h(Placeholder,{className:css.loadingBubble,type:"bar",width:500,height:70+Math.random()*80}),n&&h(Placeholder,{className:css.loadingBubble,type:"bar",width:500,height:50})))}function uS(n,t){return t.type.startsWith("inbox-")?cS(n,t):t.type.startsWith("posts-")?dS(n,t):t.type.startsWith("replies-")||t.type.startsWith("comments-")?hS(n,t):n}const Yu={isLoadingMore:!1,hasMore:!1,posts:[],error:null,publication:null,scrollPosition:0};function cS(n,t){switch(t.type){case"inbox-new_items":{const{threads:r}=t.payload;return hr(nr({},n),{inbox:hr(nr({},n.inbox),{isLoading:!1,threads:r.map(i=>{var a=i,{communityPost:M,user:k}=a,F=Tm(a,["communityPost","user"]),B;return hr(nr({},F),{communityPostId:(B=M==null?void 0:M.id)!=null?B:null})})}),communityPosts:new Map([...n.communityPosts,...r.map(i=>i&&i.communityPost&&i.user?[i.communityPost.id,{user:i.user,communityPost:i.communityPost,isNew:!1}]:null).filter(i=>i!==null)]),chats:new Map([...n.chats,...r.map(i=>{var a;if(i&&i.publication){const M=(a=n.chats.get(i.publication.id))!=null?a:Yu;return[i.publication.id,hr(nr({},M),{publication:i.publication})]}return null}).filter(i=>i!==null)])})}default:return n}}function dS(n,t){var r,i,a,M,k,F;const{publication_id:B}=t.payload,Y=(r=n.chats.get(B))!=null?r:Yu;switch(t.type){case"posts-request_initial":return hr(nr({},n),{chats:Ro(n.chats,B,hr(nr({},Y),{isLoadingMore:!0}))});case"posts-request_more":return hr(nr({},n),{chats:Ro(n.chats,B,hr(nr({},Y),{isLoadingMore:!0}))});case"posts-load_more":{const{result:ge,direction:Ce}=t.payload,Se=ge.threads.find(gt=>gt.communityPost.status!=="deleted"),Ye=zm({getPubChatItemFromId:gt=>gt===(Se==null?void 0:Se.communityPost.id)?Se:n.communityPosts.get(gt)}),Ve=new Map([...ge.threads.map(gt=>[gt.communityPost.id,gt])]),pt=CS({getPubChatItemFromId:gt=>Ve.has(gt)?Ve.get(gt):n.communityPosts.get(gt)});return hr(nr({},n),{communityPosts:Gm(n.communityPosts,Ve,gt=>new Date(gt.communityPost.updated_at)),chats:Ro(n.chats,B,hr(nr({},Y),{isLoadingMore:!1,hasMore:ge.more,posts:uniq([...Y.posts,...ge.threads.map(gt=>gt.communityPost.id)]).sort(pt)})),inbox:Ce==="after"?n.inbox:hr(nr({},n.inbox),{threads:[...n.inbox.threads.map(gt=>{var xt;return gt.publication.id===B?hr(nr({},gt),{communityPostId:(xt=Se==null?void 0:Se.communityPost.id)!=null?xt:gt.communityPostId,lastViewedAt:null}):gt})].sort(Ye)})})}case"posts-error":return hr(nr({},n),{chats:Ro(n.chats,B,hr(nr({},Y),{isLoadingMore:!1,error:t.payload}))});case"posts-new":{const ge=new Date().toISOString(),Ce={communityPost:hr(nr({},t.payload),{status:"published",created_at:ge,updated_at:ge,is_locked:!1,user_id:(a=(i=n.user)==null?void 0:i.id)!=null?a:0}),isNew:!0};return hr(nr({},n),{communityPosts:Ro(n.communityPosts,Ce.communityPost.id,Ce),chats:Ro(n.chats,B,hr(nr({},Y),{posts:[Ce.communityPost.id,...Y.posts]}))})}case"posts-commit":{const{id:ge,chatItem:Ce,publication_id:Se}=t.payload,Ue=new Map(n.communityPosts);Ue.delete(ge),Ue.set(Ce.communityPost.id,Ce);const Ye=n.inbox.threads.slice(),Ve=Ye.findIndex(at=>at.publication.id===Se);if(Ve!==-1){let at=Ye[Ve];at=hr(nr({},at),{communityPostId:Ce.communityPost.id}),Ye.splice(Ve,1),Ye.unshift(at)}return hr(nr({},n),{inbox:hr(nr({},n.inbox),{threads:Ye}),communityPosts:Ue,chats:Ro(n.chats,Se,hr(nr({},Y),{posts:Y.posts.map(at=>at===ge?Ce.communityPost.id:at)}))})}case"posts-new_reaction":{const{id:ge,reaction:Ce}=t.payload,Se=n.communityPosts.get(ge);return!Se||!La(Se)||!((M=Se.communityPost)!=null&&M.reactions)?(console.warn("chat item does not exist"),n):Se.communityPost.reaction===Ce?(console.warn("already set this reaction",Ce),n):hr(nr({},n),{communityPosts:Ro(n.communityPosts,ge,hr(nr({},Se),{communityPost:Xu(Se.communityPost,Ce,!0)}))})}case"posts-remove_reaction":{const{id:ge,reaction:Ce}=t.payload,Se=n.communityPosts.get(ge);return!Se||!La(Se)||!((k=Se.communityPost)!=null&&k.reactions)?(console.warn("chat item does not exist"),n):hr(nr({},n),{communityPosts:Ro(n.communityPosts,ge,hr(nr({},Se),{communityPost:Xu(Se.communityPost,Ce,!1)}))})}case"posts-delete_post":{const{id:ge,publication_id:Ce}=t.payload,Se=n.communityPosts.get(ge);if(!Se)return console.warn("chat item does not exist"),n;const Ue=new Map(n.communityComments),Ye=n.comments.get(ge);Ye&&Ye.comments.forEach(gt=>{Km(gt,Ue);const xt=n.replies.get(gt);xt&&xt.comments.forEach(Nt=>{Km(Nt,Ue)})});const Ve=(F=n.chats.get(Ce))==null?void 0:F.posts.find(gt=>{var xt;if(gt===ge)return!1;const Nt=n.communityPosts.get(gt);return((xt=Nt==null?void 0:Nt.communityPost)==null?void 0:xt.status)!=="deleted"}),pt=zm({getPubChatItemFromId:gt=>n.communityPosts.get(gt)});return hr(nr({},n),{communityPosts:Ro(n.communityPosts,ge,hr(nr({},Se),{communityPost:hr(nr({},Se.communityPost),{status:"deleted",updated_at:new Date().toISOString()})})),communityComments:Ue,inbox:hr(nr({},n.inbox),{threads:[...n.inbox.threads.map(gt=>gt.publication.id===Ce?hr(nr({},gt),{communityPostId:Ve!=null?Ve:null}):gt)].sort(pt)})})}case"posts-flag_post":{const{id:ge}=t.payload,Ce=n.communityPosts.get(ge);return!Ce||!La(Ce)?(console.warn("chat item does not exist"),n):hr(nr({},n),{communityPosts:Ro(n.communityPosts,ge,hr(nr({},Ce),{communityPost:hr(nr({},Ce.communityPost),{reported_by_user:!0})}))})}case"posts-lock_replies":{const{id:ge,isLocked:Ce}=t.payload,Se=n.communityPosts.get(ge);return!Se||!La(Se)?(console.warn("chat item does not exist"),n):hr(nr({},n),{communityPosts:Ro(n.communityPosts,ge,hr(nr({},Se),{communityPost:hr(nr({},Se.communityPost),{is_locked:Ce})}))})}case"posts-link_metadata":{const{id:ge,link_metadata:Ce}=t.payload,Se=n.communityPosts.get(ge);return Se?hr(nr({},n),{communityPosts:Ro(n.communityPosts,ge,hr(nr({},Se),{communityPost:hr(nr({},Se.communityPost),{link_metadata:Ce})}))}):(console.warn("chat item does not exist"),n)}case"posts-save_scroll_position":{const{publication_id:ge,scrollPosition:Ce}=t.payload;return hr(nr({},n),{chats:Ro(n.chats,ge,hr(nr({},Y),{scrollPosition:Ce}))})}case"posts-update_post":{const{id:ge,post:Ce}=t.payload,Se=n.communityPosts.get(ge);return!Se||!La(Se)?(console.warn("post does not exist"),n):hr(nr({},n),{communityPosts:Ro(n.communityPosts,ge,hr(nr({},Se),{communityPost:nr(nr({},Se.communityPost),Ce)}))})}default:throw new Error("Invalid action type")}}function Bm(n,t){var r;return(r=n.chats.get(t))!=null?r:Yu}const fS=({maybeUpdateNewestSeenChatSetting:n})=>(t,r)=>oa(void 0,null,function*(){var i,a,M;try{const k=yield fetchJson("/api/v1/community/posts",{method:"GET"});t({type:"inbox-new_items",payload:{threads:k==null?void 0:k.threads}});const F=(M=(a=(i=k==null?void 0:k.threads)==null?void 0:i[0])==null?void 0:a.communityPost)==null?void 0:M.created_at;n&&F&&n(F)}catch(k){console.warn("error",k)}}),km=(n,t=!1,{maybeUpdateNewestSeenChatSetting:r}={})=>(i,a)=>oa(void 0,null,function*(){var M;const k=Bm(a(),n),F=k.posts[k.posts.length-1],B=a().communityPosts.get(F);try{const Y=yield fetchJson(`/api/v1/community/publications/${n}/posts`,{query:{before:B&&!t?B.communityPost.created_at:void 0}});if(Array.isArray(Y)&&Y.length===0){const Ce=new Error("FLAGGED_AS_SPAM");i({type:"posts-error",payload:{publication_id:n,error:Ce}});return}i({type:"posts-load_more",payload:{publication_id:n,result:Y,direction:t?"before":"after"}});const ge=Y==null?void 0:Y.threads.find(Ce=>Ce.communityPost.status!=="deleted");t&&r&&r((M=ge==null?void 0:ge.communityPost)==null?void 0:M.created_at)}catch(Y){console.warn("error",Y),i({type:"posts-error",payload:{publication_id:n,error:Y}})}}),pS=n=>(t,r)=>oa(void 0,null,function*(){const i=Bm(r(),n);if(!(!i.hasMore||i.isLoadingMore))return yield t({type:"posts-request_more",payload:{publication_id:n}}),t(km(n))}),Tl={isLoading:!1,hasMore:!1,error:null},Ju={before:Tl,after:hr(nr({},Tl),{isLoading:!0}),order:"asc",comments:[]};function hS(n,t){var r,i,a,M,k,F,B;let Y=null,ge=null;_S(t)?ge=t.payload.parentCommentId:"postId"in t.payload&&(Y=t.payload.postId);const Ce=Ve=>ge?{replies:Ve}:{comments:Ve};let Se;ge?Se=(r=n.replies.get(ge))!=null?r:Ju:Y&&(Se=(i=n.comments.get(Y))!=null?i:Ju);const Ue=ge?n.replies:n.comments,Ye=ge!=null?ge:Y;switch(t.type){case"replies-request_initial":case"comments-request_initial":{const{order:Ve}=t.payload,at=hr(nr({},Tl),{isLoading:!0,hasMore:!1});return nr(nr({},n),Ce(Ro(Ue,Ye,hr(nr({},Se),{before:Ve==="desc"?at:Tl,after:Ve==="asc"?at:Tl,order:Ve}))))}case"replies-request_edge":case"comments-request_edge":{const{edge:Ve}=t.payload;return nr(nr({},n),Ce(Ro(Ue,Ye,hr(nr({},Se),{[Ve]:hr(nr({},Se[Ve]),{isLoading:!0,error:null})}))))}case"replies-load_edge":case"comments-load_edge":{const{edge:Ve,result:{post:at,parent:pt,replies:gt,more:xt}}=t.payload,Nt=gt.map(ln=>ln.comment.id),Tt=new Map([...gt.map(ln=>[ln.comment.id,ln])]),Ut=Gm(n.communityComments,Tt,ln=>new Date(ln.comment.updated_at));pt&&Ut.set(pt.comment.id,pt);const rn=OS({getCommunityCommentFromId:ln=>Ut.get(ln)});return nr(hr(nr({},n),{communityPosts:at?Ro(n.communityPosts,at.communityPost.id,at):n.communityPosts,communityComments:Ut}),Ce(Ro(Ue,Ye,hr(nr({},Se),{comments:uniq([...Se.comments,...Nt]).sort(rn),[Ve]:{isLoading:!1,hasMore:xt,error:null},order:Ve==="after"&&!xt?"desc":Se.order}))))}case"replies-new":case"comments-new":{const Ve={comment:hr(nr({},mS()),{id:t.payload.id,body:t.payload.body,raw_body:t.payload.mentions?t.payload.body:void 0,post_id:t.payload.postId,parent_id:ge,media_uploads:(a=t.payload.mediaUploads)!=null?a:null,user_id:(k=(M=n.user)==null?void 0:M.id)!=null?k:0,quote_id:t.payload.quoteReply?t.payload.quoteReply.comment.id:null,mentions:t.payload.mentions}),isNew:!0,is_banned:!1,quote:t.payload.quoteReply,user:n.user,pub_roles:t.payload.pubRoles},at=nr(hr(nr({},n),{communityComments:Ro(n.communityComments,Ve.comment.id,Ve)}),Ce(Ro(Ue,Ye,hr(nr({},Se),{comments:[Ve.comment.id,...Se.comments]}))));if(ge){const gt=n.communityComments.get(ge);if(gt&&Ba(gt)){const xt=$m(gt.comment,n.user,t.payload.postId);at.communityComments.set(ge,hr(nr({},gt),{comment:xt}))}}const pt=n.communityPosts.get(t.payload.postId);if(pt&&La(pt)){const gt=$m(pt.communityPost,n.user,t.payload.postId);at.communityPosts=Ro(n.communityPosts,t.payload.postId,hr(nr({},pt),{communityPost:gt}))}return at}case"replies-commit":case"comments-commit":{const{id:Ve,reply:at}=t.payload,pt=new Map(n.communityComments);return pt.delete(Ve),pt.set(at.comment.id,at),nr(hr(nr({},n),{communityComments:pt}),Ce(Ro(Ue,Ye,hr(nr({},Se),{comments:Se.comments.map(gt=>gt===Ve?at.comment.id:gt)}))))}case"replies-error":case"comments-error":{const{edge:Ve,error:at}=t.payload;return nr(nr({},n),Ce(Ro(Ue,Ye,hr(nr({},Se),{[Ve]:hr(nr({},Se[Ve]),{error:at})}))))}case"comments-new_reaction":{const{id:Ve,reaction:at}=t.payload,pt=n.communityComments.get(Ve);return!pt||!Ba(pt)||!((F=pt.comment)!=null&&F.reactions)?(console.warn("comment does not exist"),n):pt.comment.reaction===at?(console.warn("reaction already set"),n):hr(nr({},n),{communityComments:Ro(n.communityComments,Ve,hr(nr({},pt),{comment:Xu(pt.comment,at,!0)}))})}case"comments-remove_reaction":{const{id:Ve,reaction:at}=t.payload,pt=n.communityComments.get(Ve);return!pt||!Ba(pt)||!((B=pt.comment)!=null&&B.reactions)?(console.warn("comment does not exist"),n):hr(nr({},n),{communityComments:Ro(n.communityComments,Ve,hr(nr({},pt),{comment:Xu(pt.comment,at,!1)}))})}case"comments-delete_comment":{const{id:Ve}=t.payload,at=n.communityComments.get(Ve);return at?hr(nr({},n),{communityComments:Ro(n.communityComments,Ve,hr(nr({},at),{comment:hr(nr({},at.comment),{status:"deleted",updated_at:new Date().toISOString()})}))}):(console.warn("comment does not exist, cannot delete"),n)}case"comments-update_comment":{const{id:Ve,comment:at}=t.payload,pt=n.communityComments.get(Ve);return!pt||!Ba(pt)?(console.warn("comment does not exist"),n):hr(nr({},n),{communityComments:Ro(n.communityComments,Ve,hr(nr({},pt),{comment:nr(nr({},pt.comment),at)}))})}case"comments-flag_comment":{const{id:Ve}=t.payload,at=n.communityComments.get(Ve);return!at||!Ba(at)?(console.warn("comment does not exist"),n):hr(nr({},n),{communityComments:Ro(n.communityComments,Ve,hr(nr({},at),{comment:hr(nr({},at.comment),{reported_by_user:!0})}))})}case"comments-ban_author":{const{id:Ve,ban:at}=t.payload,pt=n.communityComments.get(Ve);return!pt||!Ba(pt)?(console.warn("comment does not exist"),n):hr(nr({},n),{communityComments:Ro(n.communityComments,Ve,hr(nr({},pt),{is_banned:at}))})}case"comments-lock_replies":{const{id:Ve,isLocked:at}=t.payload,pt=n.communityComments.get(Ve);return!pt||!Ba(pt)?(console.warn("comment does not exist"),n):pt.comment.parent_id?(console.warn("cannot lock replies on a reply to a comment"),n):hr(nr({},n),{communityComments:Ro(n.communityComments,Ve,hr(nr({},pt),{comment:hr(nr({},pt.comment),{is_locked:at})}))})}default:throw new Error("Invalid type")}}function mS(){const n=new Date().toISOString();return{id:"",created_at:n,updated_at:n,user_id:0,post_id:"",body:"",raw_body:"",media_uploads:null,parent_id:null,is_locked:!1,quote_id:null,status:"published"}}const Um=(0,e.createContext)({dispatch:()=>Promise.resolve()});function Ra(){var n;return(n=(0,o.qp)(Um))==null?void 0:n.dispatch}function Ro(n,t,r){const i=new Map(n);return i.set(t,r),i}function La(n){return n.isNew!==!0}function Ba(n){return n.isNew!==!0}function Fm(n){return"communityPost"in n}function jm(n){return"comment"in n}function _S(n){return"parentCommentId"in n.payload}function Xu(n,t,r){var i,a;const M=n.reaction,k=nr({},n.reactions);return k[t]=((i=k[t])!=null?i:0)+(r?1:-1),r&&M&&(k[M]=((a=k[M])!=null?a:0)-1),hr(nr({},n),{reactions:k,reaction:r?t:null})}function gS(n){return Math.floor(Math.random()*n*1e3)}function vS(n,t,r){return oa(this,null,function*(){try{return yield fetchJson("/api/v1/thread_media_uploads",{method:"POST",json:{publication_id:t,comment_id:n,content_type:r}})}catch(i){return i}})}function yS(n,t){return oa(this,null,function*(){try{return yield fetch(t,{method:"PUT",headers:{"Content-Type":n.contentType},body:n.file})}catch(r){return r}})}function bS({day:n,items:t,onSelect:r,isPaid:i,isFounding:a}){const M=useUser();return h(Fragment,null,t.map(k=>h(GO,{key:k.communityPost.id,item:k.isNew?hr(nr({},k),{user:M}):k,onSelect:r,isPaid:i,isFounding:a})),h(wS,{day:n}))}const PS=new Intl.DateTimeFormat(void 0,{month:"long",day:"numeric"}),ES=new Intl.DateTimeFormat(void 0,{year:"numeric",month:"long",day:"numeric"});function wS({day:n}){const t=dayjs();return h(FlexBox,{alignItems:"center",justifyContent:"center",padding:16},h(Text.B3,{weight:"medium",size:14,color:"secondary"},n.isSame(t,"day")?"Today":n.isSame(t.subtract(1,"day"),"day")?"Yesterday":n.isSame(t,"year")?PS.format(n.toDate()):ES.format(n.toDate())))}function xi({title:n,body:t,children:r}){return h(FlexColumn,{justifyContent:"center",alignItems:"center",flex:"grow",paddingX:32},h(ChatZero,{title:n,body:t,children:r}))}function Wm(){return h(FlexBox,{alignItems:"center",justifyContent:"center",padding:12},h(Text.B3,{color:"error"},"Error loading chats"))}function Hm({pubErr:n}){if(n.error instanceof FetchError){const t=n.error.body.status==="CHAT_NOT_ENABLED",r=n.error.body.status==="FREE_SUBSCRIPTION_REQUIRED",i=n.error.body.status==="PUBLICATION_NOT_FOUND";if(t)return h(xi,{title:"This publication has not enabled chat yet.",body:"Once it does, you can access its chat here."});if(r)return h(xi,{title:"You need to subscribe to this publication to view its chat.",body:"Once you do, its chat will appear here."},n.error.body.publication&&h(Yd,{pub:n.error.body.publication,utm_source:"web-chat-navigation",isSubscribeWall:!0}));if(i)return h(xi,{title:"We could not find this publication.",body:"Please select another publication and try again."})}return n.error instanceof Error&&n.error.message==="FLAGGED_AS_SPAM"?h(xi,{title:"We could not find this publication.",body:"Please select another publication and try again."}):h(xi,{title:"Something went wrong loading the chat.",body:"Please check back in again."})}function Vm({user:n,showReply:t=!0,analyticsParams:r,commenters:i,count:a,audience:M}){return h(FlexBox,null,h(FlexColumn,{className:css.paywall},h(CommunityPostPaywall,{author:n,showReply:t,analyticsParams:r,commenters:i,count:a,audience:M})))}function Ga({onClick:n,children:t}){return h(Button,{priority:"secondary",onClick:n},t)}function Km(n,t){const r=t.get(n);return!r||r.comment.status==="deleted"?!1:(t.set(n,hr(nr({},r),{comment:hr(nr({},r.comment),{status:"deleted",updated_at:new Date().toISOString()})})),!0)}function $m(n,t,r){var i,a;let M;return t&&t.photo_url&&(M=[{id:t.id,name:t.name,photo_url:t.photo_url,post_id:r}],n.recent_commenters&&(M=uniqBy([...M,...n.recent_commenters],k=>k.id))),"reply_count"in n?hr(nr({},n),{recent_commenters:M,reply_count:1+((i=n.reply_count)!=null?i:0)}):"comment_count"in n?hr(nr({},n),{recent_commenters:M,comment_count:1+((a=n.comment_count)!=null?a:0)}):n}function Yd({pub:n,utm_source:t,isSubscribeWall:r}){useEffect(()=>{r&&track(EVENTS.THREAD_SUBSCRIBE_WALL_VIEWED,{publication_id:n.id})},[]);const i=()=>{const a=getSubscribeUrl(n,{addBase:!0,params:{next:document.location.href,utm_source:t}});window.open(a,"_blank")||(window.location.href=a)};return h(Button,{priority:"primary",onClick:i},`Subscribe to ${n.name}`)}function zm({getPubChatItemFromId:n}){return(t,r)=>{const i=t.communityPostId?n(t.communityPostId):null,a=r.communityPostId?n(r.communityPostId):null;return Jd(i,a,"post")}}function CS({getPubChatItemFromId:n}){return(t,r)=>{const i=n(t),a=n(r);return Jd(i,a,"post")}}function OS({getCommunityCommentFromId:n}){return(t,r)=>{const i=n(t),a=n(r);return Jd(i,a,"comment")}}function Jd(n,t,r="post"){const i=!n,a=!t;if(i&&a)return 0;if(i&&!a)return 1;if(!i&&a)return-1;const M=r==="post"?n&&Fm(n)&&n.communityPost.created_at:n&&jm(n)&&n.comment.created_at,k=new Date(M||0),F=r==="post"?t&&Fm(t)&&t.communityPost.created_at:t&&jm(t)&&t.comment.created_at;return new Date(F||0).getTime()-k.getTime()}function Gm(n,t,r){const i=new Map(t);for(const[a,M]of n){const k=i.get(a);if(!k){i.set(a,M);continue}r(M)>r(k)&&i.set(a,nr(nr({},k),M))}return i}function Zm({changeSetting:n,storedNewestSeenChatItemPublishedAt:t}){return r=>{r&&new Date(r)>new Date(t!=null?t:0)&&n("newest_seen_chat_item_published_at",r)}}var SS=Object.defineProperty,TS=Object.defineProperties,IS=Object.getOwnPropertyDescriptors,Ym=Object.getOwnPropertySymbols,xS=Object.prototype.hasOwnProperty,MS=Object.prototype.propertyIsEnumerable,Jm=(n,t,r)=>t in n?SS(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,DS=(n,t)=>{for(var r in t||(t={}))xS.call(t,r)&&Jm(n,r,t[r]);if(Ym)for(var r of Ym(t))MS.call(t,r)&&Jm(n,r,t[r]);return n},AS=(n,t)=>TS(n,IS(t));const NS=n=>(0,e.h)(L.l,AS(DS({},n),{name:"EmojiPickerIcon",svgParams:{height:15,width:14,viewBox:"0 0 15 14",fill:"none",stroke:"none"}}),(0,e.h)("path",{d:"M12.7474 7.25708C12.3309 7.37462 11.8916 7.4375 11.4375 7.4375C8.77963 7.4375 6.625 5.28287 6.625 2.625C6.625 2.17094 6.68788 1.73156 6.80542 1.31511C6.74549 1.31337 6.68535 1.3125 6.625 1.3125C3.24226 1.3125 0.5 4.05476 0.5 7.4375C0.5 10.8202 3.24226 13.5625 6.625 13.5625C10.0077 13.5625 12.75 10.8202 12.75 7.4375C12.75 7.37715 12.7491 7.31701 12.7474 7.25708ZM5.75 5.25C5.75 5.97487 5.16237 6.5625 4.4375 6.5625C3.71263 6.5625 3.125 5.97487 3.125 5.25C3.125 4.52513 3.71263 3.9375 4.4375 3.9375C5.16237 3.9375 5.75 4.52513 5.75 5.25ZM10.125 8.3125C10.125 10.2455 8.558 11.8125 6.625 11.8125C4.692 11.8125 3.125 10.2455 3.125 8.3125H10.125Z",fill:"#808080","fill-rule":"evenodd","clip-rule":"evenodd"}),(0,e.h)("path",{d:"M12.0938 0H10.7812V1.96875L8.8125 1.96875V3.28125H10.7812V5.25H12.0938V3.28125H14.0625V1.96875L12.0938 1.96875V0Z",fill:"#808080","fill-rule":"evenodd","clip-rule":"evenodd"}));var Xd=Et(94016),Xm=Et(15822);const Yi={avatarContainer:"frontend-community-Reaction-module__avatarContainer--_8l4V",reactionsContainer:"frontend-community-Reaction-module__reactionsContainer--D3hey",reaction:"frontend-community-Reaction-module__reaction--M5tw0",blue:"frontend-community-Reaction-module__blue--yS6Ze",nameCard:"frontend-community-Reaction-module__nameCard--apX_i",reactionToPick:"frontend-community-Reaction-module__reactionToPick--TqIpF",pickIcon:"frontend-community-Reaction-module__pickIcon--JZeFU",emojiPicker:"frontend-community-Reaction-module__emojiPicker--Oaakq",emojiPickerLayer:"frontend-community-Reaction-module__emojiPickerLayer--vLED_",reactionSection:"frontend-community-Reaction-module__reactionSection--RlOnV",count:"frontend-community-Reaction-module__count--POp7r",show:"frontend-community-Reaction-module__show--n7AZ5"},RS=3,Qm=6;function LS({context:n,reactions:t,currentReaction:r,onReactionClick:i,isReadOnly:a}){const M=t&&Object.keys(t).some(Y=>t[Y]>0),{result:k,isLoading:F}=(0,Ot.ib)({pathname:"/api/v1/threads/reactions",method:"GET",cacheTtl:1e3*60*10,auto:!0}),B=(0,o.Ye)(()=>!t||!(k!=null&&k.reactionTypes)?[]:Object.entries(t).sort((ge,Ce)=>Ce[1]===ge[1]?ge[0].localeCompare(Ce[0]):Ce[1]-ge[1]).filter(([ge,Ce])=>Ce>0&&k.reactionTypes[ge]).slice(0,RS),[t,k]);return k!=null&&k.reactionTypes?(0,e.h)(y.tu,null,(0,e.h)(y.gq,{onClick:qd,className:l()(Yi.reactionsContainer,{[Yi.show]:M})},B.map(([Y,ge])=>(0,e.h)(Xd.z,{layerClassName:Yi.nameCard,content:(0,e.h)(US,{context:n,reaction:Y}),layerOptions:{placement:"bottom-center"}},(0,e.h)(y.gq,{key:Y,className:l()(Yi.reaction,{[Yi.blue]:Y===r}),shadow:"sm",bg:"primary",gap:4,alignItems:"center",paddingX:6,onClick:()=>i&&i(Y)},(0,e.h)(HS,{reaction:k.reactionTypes[Y]}),(0,e.h)(WS,{count:ge,textColor:Y===r?"bg-light":"primary"})))),!a&&(0,e.h)(vm,{content:({closePopover:Y})=>(0,e.h)(kS,{emojis:k,isLoading:F,currentReaction:r,onPick:ge=>{i&&i(ge),Y()}}),preferPlacement:"bottom-center",hideOnScroll:!0,layerClassName:Yi.emojiPickerLayer},(0,e.h)(BS,null)))):null}function BS(){return(0,e.h)(y.hs,{className:Yi.pickIcon,shadow:"sm",bg:"primary",paddingX:4,alignItems:"center"},(0,e.h)(NS,null))}function kS({emojis:n,isLoading:t,currentReaction:r,onPick:i}){var a;const M=(0,o.Ye)(()=>!(n!=null&&n.reactionTypes)||t?[]:Object.keys(n.reactionTypes),[n==null?void 0:n.reactionTypes,t]),{result:k,isLoading:F}=(0,Ot.Wf)(()=>Et.e(695).then(Et.t.bind(Et,64695,19)),[],{auto:!0}),B=(0,o.I4)(Se=>[Se,...(k==null?void 0:k[Se])||[]],[k]),{filteredItems:Y,setQuery:ge,hasFiltered:Ce}=bO({items:M,getKeys:B,deps:[M,B]});return t||F?(0,e.h)(Xm.S,null):(0,e.h)(y.tu,{gap:12,className:Yi.emojiPicker,onClick:qd,overflowY:"auto"},(0,e.h)(PO,{setQuery:ge,placeholder:"Search emoji...",size:"small"}),Ce&&(Y&&Y.length>0?(0,e.h)(Qd,{reactions:Y,currentReaction:r,onPick:i,emojiMap:n.reactionTypes,title:null}):(0,e.h)(y.xv,{size:12,lineHeight:20,color:"secondary",weight:"semibold",font:"text",alignSelf:"center"},"No emoji match your search")),!Ce&&(0,e.h)(e.Fragment,null,(0,e.h)(Qd,{reactions:n.suggestedReactionTypes,currentReaction:r,onPick:i,emojiMap:n.reactionTypes,title:"Suggested Reactions"}),(a=n.categories)==null?void 0:a.map(Se=>(0,e.h)(Qd,{reactions:Se.reactionTypes,currentReaction:r,onPick:i,emojiMap:n.reactionTypes,title:Se.title}))))}function US({reaction:n,context:t}){var r;const i=t.type==="posts"?`/api/v1/community/posts/${t.id}/reactions`:`/api/v1/community/comments/${t.id}/reactions`,{result:a,isLoading:M}=(0,Ot.ib)({pathname:i,method:"GET",auto:!0});if(M)return(0,e.h)(Xm.S,null);const F=((r=a==null?void 0:a.reactions.filter(ge=>ge.reaction===n))!=null?r:[]).map(ge=>ge.user.name),B=F.slice(0,Qm),Y=Math.max(0,F.length-Qm);return(0,e.h)(y.tu,{gap:2,className:Yi.emojiPicker,onClick:qd,overflowY:"auto"},B.map(ge=>(0,e.h)(qm,{text:ge})),Y>0&&(0,e.h)(qm,{text:`+ ${Y} ${Y===1?"other":"others"}`}))}function FS({title:n}){return(0,e.h)(y.xv,{size:12,lineHeight:20,color:"secondary",weight:"semibold",font:"text"},n)}function jS({reactions:n,currentReaction:t,onPick:r,emojiMap:i}){return(0,e.h)(y.gq,{className:Yi.reactionSection,gap:8},n==null?void 0:n.map(a=>(0,e.h)(y.hs,{key:a,onClick:()=>r(a),className:l()(Yi.reactionToPick,{[Yi.blue]:a===t}),bg:"primary",alignItems:"center"},(0,e.h)(VS,{reaction:i[a]}))))}function Qd({reactions:n,currentReaction:t,onPick:r,emojiMap:i,title:a}){return(0,e.h)(y.tu,{gap:12},a&&(0,e.h)(FS,{title:a}),(0,e.h)(jS,{reactions:n,currentReaction:t,onPick:r,emojiMap:i}))}function WS({count:n,textColor:t}){return(0,e.h)(y.xv,{className:Yi.count,color:t,lineHeight:20},n)}function qm({text:n}){return(0,e.h)(y.xv,{size:12,color:"primary",weight:"medium",font:"text"},n)}function HS({reaction:n}){return(0,e.h)(y.xv,{size:14,lineHeight:20,color:"primary",weight:"medium",font:"emoji"},n)}function VS({reaction:n}){return(0,e.h)(y.xv,{size:20,lineHeight:20,color:"primary",weight:"medium",font:"emoji"},n)}const qd=n=>{n.stopPropagation(),n.preventDefault()},Xo={bubbleStack:"frontend-community-CommunityPostView-module__bubbleStack--nNlkK",bubble:"frontend-community-CommunityPostView-module__bubble--Qb0nJ",linkBubble:"frontend-community-CommunityPostView-module__linkBubble--A99mW",imageGroup:"frontend-community-CommunityPostView-module__imageGroup--ttj6D",replyContainer:"frontend-community-CommunityPostView-module__replyContainer--QXsEJ",bubbleText:"frontend-community-CommunityPostView-module__bubbleText--DlNG6",authorName:"frontend-community-CommunityPostView-module__authorName--D3nZg",facepileAvatar:"frontend-community-CommunityPostView-module__facepileAvatar--Ae4J2",facepile:"frontend-community-CommunityPostView-module__facepile--LsZV8",readMore:"frontend-community-CommunityPostView-module__readMore--KuojM",paywallBubble:"frontend-community-CommunityPostView-module__paywallBubble--pQYha",pixels:"frontend-community-CommunityPostView-module__pixels--iHfsp",linkImg:"frontend-community-CommunityPostView-module__linkImg--BGinm",linkUrl:"frontend-community-CommunityPostView-module__linkUrl--Z_NGs",linkTitle:"frontend-community-CommunityPostView-module__linkTitle--REE0t",ctaButton:"frontend-community-CommunityPostView-module__ctaButton--_ybr_",reactionsWrapper:"frontend-community-CommunityPostView-module__reactionsWrapper--ude0p",actions:"frontend-community-CommunityPostView-module__actions--Iu1iz",actionButton:"frontend-community-CommunityPostView-module__actionButton--utP6e",actionMenu:"frontend-community-CommunityPostView-module__actionMenu--Mtz5B",actionMenuLayer:"frontend-community-CommunityPostView-module__actionMenuLayer--exM2E",avatarContainer:"frontend-community-CommunityPostView-module__avatarContainer--_sDjD",targetedAnimation:"frontend-community-CommunityPostView-module__targetedAnimation--hs4QE",fade:"frontend-community-CommunityPostView-module__fade--mcazB",quoteBox:"frontend-community-CommunityPostView-module__quoteBox--keJ32"};var KS=Object.defineProperty,$S=Object.defineProperties,zS=Object.getOwnPropertyDescriptors,Qu=Object.getOwnPropertySymbols,e0=Object.prototype.hasOwnProperty,t0=Object.prototype.propertyIsEnumerable,n0=(n,t,r)=>t in n?KS(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,gs=(n,t)=>{for(var r in t||(t={}))e0.call(t,r)&&n0(n,r,t[r]);if(Qu)for(var r of Qu(t))t0.call(t,r)&&n0(n,r,t[r]);return n},GS=(n,t)=>$S(n,zS(t)),r0=(n,t)=>{var r={};for(var i in n)e0.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Qu)for(var i of Qu(n))t.indexOf(i)<0&&t0.call(n,i)&&(r[i]=n[i]);return r},Qo=(n,t,r)=>new Promise((i,a)=>{var M=B=>{try{F(r.next(B))}catch(Y){a(Y)}},k=B=>{try{F(r.throw(B))}catch(Y){a(Y)}},F=B=>B.done?i(B.value):Promise.resolve(B.value).then(M,k);F((r=r.apply(n,t)).next())});const ZS="ffe5d072-ae52-11ed-afa1-0242ac120002";function o0({communityPost:n,author:t,extras:r,withAttribution:i,flex:a,hideReply:M,isReadOnly:k,onReply:F,onDelete:B}){const Y=(0,o.sO)(null),ge={type:"posts",id:n.id},Ce=Ra(),Se=!(n.type==="media"&&n.media_assets);return(0,e.h)(qu,{user:t,flex:a,containerRef:Y},i&&(0,e.h)(rf,{text:`From ${t.name}\u2019s subscriber chat`}),(0,e.h)(i0,{actionMenuProps:{communityEntity:n,publicationId:n.publication_id,onReply:F,onDelete:B,isReadOnly:k,isFlagged:n.reported_by_user},flex:a},(0,e.h)(ec,null,n.type==="media"&&n.media_assets&&(0,e.h)(Il,{context:ge,reactions:n.reactions,currentReaction:n.reaction,onReactionClick:xl(n.id,"posts",Ce,n.reaction),isReadOnly:k},(0,e.h)(pm.q,{assets:n.media_assets.map(Ue=>Ue.url),className:Xo.imageGroup,readOnly:k})),n.link_url&&(0,e.h)(Il,{context:ge,reactions:n.reactions,currentReaction:n.reaction,onReactionClick:xl(n.id,"posts",Ce,n.reaction),setReactions:Se,isReadOnly:k},(0,e.h)(k5,{linkUrl:n.link_url,linkMetadata:n.link_metadata,postId:n.id})),n.body&&(0,e.h)(Il,{context:ge,reactions:n.reactions,currentReaction:n.reaction,onReactionClick:xl(n.id,"posts",Ce,n.reaction),setReactions:Se&&!n.link_url,isReadOnly:k},(0,e.h)(l0,{authorName:t.name,communityEntity:n})))),!M&&(0,e.h)(s0,null,(0,e.h)(tc,{commenters:n.recent_commenters,count:n.comment_count,audience:n.audience})),r)}function i0({children:n,actionMenuProps:t,flex:r="grow"}){return(0,e.h)(he.gq,{alignItems:"start",gap:12,flex:r},(0,e.h)(he.tu,null,n),(0,e.h)(C5,gs({},t)))}function Il({children:n,context:t,reactions:r,currentReaction:i,setReactions:a=!0,onReactionClick:M,isReadOnly:k}){return a?(0,e.h)(he.gq,{className:Xo.reactionsWrapper},n,(0,e.h)(LS,{context:t,reactions:r,currentReaction:i,onReactionClick:M,isReadOnly:k})):(0,e.h)(e.Fragment,null,n)}const xl=(n,t,r,i)=>a=>Qo(void 0,null,function*(){r(i===a?JS(a,n,t):YS(a,n,t,i))}),YS=(n,t,r,i)=>(a,M)=>Qo(void 0,null,function*(){a({type:`${r}-new_reaction`,payload:{id:t,reaction:n}}),(yield p5(n,t,r))instanceof Error&&a(i?{type:`${r}-new_reaction`,payload:{id:t,reaction:i}}:{type:`${r}-remove_reaction`,payload:{id:t,reaction:n}})}),JS=(n,t,r)=>(i,a)=>Qo(void 0,null,function*(){i({type:`${r}-remove_reaction`,payload:{id:t,reaction:n}}),(yield h5(n,t,r))instanceof Error&&i({type:`${r}-new_reaction`,payload:{id:t,reaction:n}})}),XS=(n,t)=>(r,i)=>Qo(void 0,null,function*(){r({type:"posts-delete_post",payload:{id:n,publication_id:t}});const a=yield f5(n);a instanceof Error&&console.warn("error deleting thread",a)}),QS=(n,t,r)=>(i,a)=>Qo(void 0,null,function*(){i({type:"comments-delete_comment",payload:{id:n,postId:t}});const M=yield u5(n);if(M instanceof Error&&console.warn("error deleting comment",M),r){const F=yield c5(r);F instanceof Error||i({type:"comments-update_comment",payload:{id:r,comment:F.comment}})}const k=yield d5(t);k instanceof Error||i({type:"posts-update_post",payload:{id:t,post:k.communityPost}})}),qS=(n,t)=>(r,i)=>Qo(void 0,null,function*(){r({type:"posts-lock_replies",payload:{id:n,isLocked:t}});const a=yield o5(n,t);a instanceof Error&&(console.warn("error locking post",a),alert(`There was an error ${t?"locking":"unlocking"} replies to this post. Please try again later.`),r({type:"posts-lock_replies",payload:{id:n,isLocked:!t}}))}),e5=(n,t)=>(r,i)=>Qo(void 0,null,function*(){r({type:"comments-lock_replies",payload:{id:n,isLocked:t}});const a=yield i5(n,t);a instanceof Error&&(console.warn("error locking comment",a),alert(`There was an error ${t?"locking":"unlocking"} replies to this comment. Please try again later.`),r({type:"comments-lock_replies",payload:{id:n,isLocked:!t}}))}),t5=n=>(t,r)=>Qo(void 0,null,function*(){t({type:"posts-flag_post",payload:{id:n}});const i=yield s5(n);i instanceof Error&&console.warn("error flagging post",i)}),n5=n=>(t,r)=>Qo(void 0,null,function*(){t({type:"comments-flag_comment",payload:{id:n}});const i=yield l5(n);i instanceof Error&&console.warn("error flagging comment",i)}),r5=(n,t)=>(r,i)=>Qo(void 0,null,function*(){r({type:"comments-ban_author",payload:{id:n,ban:t}});const a=yield a5(n,t);a instanceof Error&&(console.warn("error toggling ban for comment author",a),alert(`There was an error ${t?"banning":"unbanning"} this user. Please try again later.`),r({type:"comments-ban_author",payload:{id:n,ban:!t}}))});function o5(n,t){return Qo(this,null,function*(){try{return yield fetch(`/api/v1/community/posts/${n}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({is_locked:t})})}catch(r){return r}})}function i5(n,t){return Qo(this,null,function*(){try{return yield fetch(`/api/v1/community/comments/${n}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({is_locked:t})})}catch(r){return r}})}function a5(n,t){return Qo(this,null,function*(){try{return yield fetch(`/api/v1/community/comments/${n}/publication_bans?ban=${t.toString()}`,{method:"POST"})}catch(r){return r}})}function s5(n){return Qo(this,null,function*(){try{return yield(0,Ot.rd)(`/api/v1/community/posts/${n}/reports`,{method:"POST",json:{postId:n}})}catch(t){return t}})}function l5(n){return Qo(this,null,function*(){try{return yield(0,Ot.rd)(`/api/v1/community/comments/${n}/reports`,{method:"POST",json:{commentId:n}})}catch(t){return t}})}function u5(n){return Qo(this,null,function*(){try{return yield(0,Ot.rd)(`/api/v1/community/comments/${n}`,{method:"DELETE",json:{commentId:n}})}catch(t){return t}})}function c5(n){return Qo(this,null,function*(){try{return yield(0,Ot.rd)(`/api/v1/community/comments/${n}`,{method:"GET"})}catch(t){return console.warn(t),t}})}function d5(n){return Qo(this,null,function*(){try{return yield(0,Ot.rd)(`/api/v1/community/posts/${n}`,{method:"GET"})}catch(t){return console.warn(t),t}})}function f5(n){return Qo(this,null,function*(){try{return yield(0,Ot.rd)(`/api/v1/community/posts/${n}`,{method:"DELETE",json:{postId:n}})}catch(t){return t}})}function p5(n,t,r){return Qo(this,null,function*(){try{return yield(0,Ot.rd)(`/api/v1/community/${r}/${t}/reaction`,{method:"POST",json:{reaction:n}})}catch(i){return i}})}function h5(n,t,r){return Qo(this,null,function*(){try{return yield(0,Ot.rd)(`/api/v1/community/${r}/${t}/reaction`,{method:"DELETE",query:{reaction:n}})}catch(i){return i}})}function ef({author:n,extras:t,showReply:r=!0,analyticsParams:i,commenters:a,count:M,audience:k}){return(0,o.d4)(()=>{i&&(0,C.j)(C.FP.THREAD_PAYWALL_SCREEN_VIEWED,i)},[]),(0,e.h)(qu,{user:n},(0,e.h)(ec,null,(0,e.h)(L5,{audience:k}),r&&(0,e.h)(tc,{isLocked:!0,commenters:a,count:M})),t)}function m5({author:n,extras:t,showReply:r=!0,commenters:i,count:a}){return(0,e.h)(qu,{user:n},(0,e.h)(ec,null,(0,e.h)(B5,null),r&&(0,e.h)(tc,{isLocked:!0,commenters:i,count:a})),t)}function tf(n){return typeof n.message=="string"}function _5({text:n,rawText:t,specialText:r,mentionMap:i,limit:a=600}){const[M,k]=(0,o.eJ)(!1);if(r)return(0,e.h)("em",null,r);if(!n)return(0,e.h)(e.Fragment,null);let F=[{characters:n.length,message:n}];t&&i&&(F=v5(t,i));const{alwaysShow:B,afterExpansion:Y}=g5(F,a),ge=Y.length>0;return(0,e.h)(e.Fragment,null,B.map(Ce=>tf(Ce)?(0,e.h)(a0,null,Ce.message):Ce.message),ge&&!M&&(0,e.h)(e.Fragment,null,(0,e.h)("span",null," "),(0,e.h)(yt.kG,{resetCss:!0,className:Xo.readMore,onClick:Ce=>{Ce.preventDefault(),k(!0)}},"Read more")),ge&&M&&(0,e.h)(e.Fragment,null,Y.map(Ce=>tf(Ce)?(0,e.h)(a0,null,Ce.message):Ce.message)))}function a0({children:n}){return(0,e.h)(am(),{options:{attributes:{rel:"nofollow ugc",onClick:t=>t.stopPropagation()}}},n)}function g5(n,t){let r=0;const i=[],a=[];for(const M of n){let k=M;if(r<t){if(r+k.characters>t&&tf(k)){const F=t-r,B={characters:F,message:k.message.slice(0,F)},Y={characters:k.characters-F,message:k.message.slice(F)};k=B,a.push(Y)}r+=k.characters,i.push(k)}else a.push(k)}return{alwaysShow:i,afterExpansion:a}}function v5(n,t){const r=/\$\{(\d+)\}/g;let i=r.exec(n);const a=n,M=[];let k=0;for(;i;){const F=Number(i[1]),B=t[F];B?(i.index>k&&M.push({characters:i.index-k,message:a.slice(k,i.index)}),M.push({characters:B.text.length,message:b5(B.user_id,y5(B.text),B.text)})):M.push({characters:r.lastIndex-k,message:a.slice(k,r.lastIndex)}),k=r.lastIndex,i=r.exec(n)}return k<a.length&&M.push({characters:a.length-k,message:a.slice(k)}),M}function y5(n){return n.slice(1)}function b5(n,t,r){return(0,e.h)(Vd.default,{name:t,id:n,mentionText:r,type:"user",uuid:ZS,isStatic:!1,isEditorContext:!1})}function P5(n){var t=n,{communityComment:r,quoteReply:i,isTargeted:a,isBanned:M,pubRole:k}=t,F=r0(t,["communityComment","quoteReply","isTargeted","isBanned","pubRole"]);return(0,e.h)(E5,gs({isTargeted:a,commentInfoArr:[{communityComment:r,quoteReply:i,isBanned:M,pubRole:k}]},F))}function E5({commentInfoArr:n,author:t,chatPublicationId:r,hideReply:i,onReply:a,onNewQuote:M,onQuoteReplyClick:k,onDelete:F,commentRef:B,isTargeted:Y,isReadOnly:ge,chatAuthorNameAttribution:Ce,extras:Se,flex:Ue}){const Ye=Ra(),Ve=n[n.length-1].communityComment,{reply_count:at=0,recent_commenters:pt=[]}=Ve!=null?Ve:{};return(0,e.h)(qu,{user:t,pubRole:n[0].pubRole,containerRef:B,id:`comment-${Ve==null?void 0:Ve.id}`,flex:Ue},Ce&&(0,e.h)(rf,{text:`Comment from ${Ce}\u2019s subscriber chat`}),(0,e.h)(i0,{actionMenuProps:{communityEntity:n[0].communityComment,isBanned:n[0].isBanned,isFlagged:n[0].communityComment.reported_by_user,onReply:a,onDelete:F,onNewQuote:M,isReadOnly:ge,publicationId:r},flex:Ue},(0,e.h)(ec,null,n.map(({communityComment:{id:gt,body:xt,quote_id:Nt,media_uploads:Tt,reactions:Ut,reaction:qt,reported_by_user:rn},quoteReply:ln},yn)=>{var In;return(0,e.h)(e.Fragment,{key:gt},!rn&&Tt&&Tt.length>0&&Nt===null&&(0,e.h)(Il,{context:{type:"comments",id:gt},reactions:Ut,currentReaction:qt,onReactionClick:xl(gt,"comments",Ye,qt),isReadOnly:ge},(0,e.h)(pm.q,{assets:Tt.map(En=>En.url),className:Xo.imageGroup,readOnly:ge})),Nt&&ln&&(0,e.h)(R5,{authorName:(In=ln.user.name)!=null?In:"Substack User",communityEntity:ln.comment,onClick:k}),xt&&(0,e.h)(Il,{context:{type:"comments",id:gt},reactions:Ut,currentReaction:qt,onReactionClick:xl(gt,"comments",Ye,qt),setReactions:!Tt||Tt.length===0,isReadOnly:ge},(0,e.h)(l0,{authorName:t.name,communityEntity:n[yn].communityComment,isTargeted:Y})))}))),!i&&at>0&&(0,e.h)(s0,null,(0,e.h)(tc,{commenters:pt,count:at})),Se)}function vs(n){return n.post_id===void 0}function qu({user:n,children:t,flex:r="grow",containerRef:i,id:a,pubRole:M}){return(0,e.h)(he.hs,{id:a,alignItems:"start",gap:12,flex:r,ref:i,className:l()(Yi.avatarContainer,Xo.avatarContainer)},(0,e.h)(he.hs,{paddingTop:4},n?(0,e.h)(d0,{user:n,pubRole:M,size:40}):(0,e.h)(Ka.Vm,{type:"circle",size:40})),(0,e.h)(he.tu,{flex:"grow",gap:4},t))}function w5(){return(0,e.h)(he.hs,{className:Xo.actionButton,paddingX:4,alignItems:"center"},(0,e.h)(sm.Z,null))}function C5({communityEntity:n,onReply:t,onDelete:r,isReadOnly:i,publicationId:a,isBanned:M,isFlagged:k,onNewQuote:F}){const B=(0,o.sO)(!1),Y=ge=>{B.current=ge};return(0,e.h)(he.hs,{alignItems:"center",className:Xo.actions},(0,e.h)(vm,{content:({closePopover:ge})=>(0,e.h)(O5,{communityEntity:n,onReply:t,onDelete:r,closePopover:ge,isReadOnly:i,publicationId:a,isBanned:M,isFlagged:k,onNewQuote:F}),preferPlacement:"bottom-center",hideOnScroll:!0,layerClassName:Xo.actionMenuLayer,onOpen:()=>Y&&Y(!0),onClose:()=>Y&&Y(!1)},(0,e.h)(w5,null)))}function O5({communityEntity:n,onReply:t,onDelete:r,isReadOnly:i,publicationId:a,isBanned:M,isFlagged:k,closePopover:F,onNewQuote:B}){const Y=(0,Na.aF)(),{isAuthor:ge}=(0,kd.Y0)(a!=null?a:0),Ce=a&&ge,Se=n&&Y&&n.user_id===Y.id,Ue=n&&!vs(n),Ye=Ue&&"parent_id"in n&&n.parent_id!==null,Ve=Se||Ce,at=Se||Ce,pt=!Se&&!k,gt=Ce&&Ue&&!Se;return(0,e.h)(he.tu,{className:Xo.actionMenu,bg:"primary",gap:12,overflowY:"auto"},!i&&t&&(0,e.h)(T5,{disabled:!!(n!=null&&n.is_locked),onReply:t}),!i&&B&&Ue&&(0,e.h)(S5,{onNewQuote:B,communityComment:n,closePopover:F}),n&&n.body&&(0,e.h)(I5,{communityEntity:n,closePopover:F}),n&&(0,e.h)(x5,{communityEntity:n,closePopover:F}),!i&&n&&!Ye&&at&&(0,e.h)(M5,{communityEntity:n,closePopover:F}),!i&&n&&Ve&&(0,e.h)(N5,{communityEntity:n,closePopover:F,onDelete:r}),!i&&n&&pt&&(0,e.h)(D5,{communityEntity:n,closePopover:F}),!i&&n&&M!==void 0&&gt&&(0,e.h)(A5,{communityEntity:n,closePopover:F,isBanned:M}))}function S5({onNewQuote:n,communityComment:t,closePopover:r}){return(0,e.h)(Mo.sN,{icon:(0,e.h)(GC,null),onClick:()=>{n(t),r()}},"Quote")}function T5({disabled:n,onReply:t}){return(0,e.h)(Mo.sN,{icon:(0,e.h)(ZC,null),onClick:t,disabled:n},"Reply")}function I5({communityEntity:n,closePopover:t}){const r=(0,ii.pm)(),i=()=>{if(n){const{body:a}=n;(0,O.copyToClipboard)(a),r.popToast(M=>(0,e.h)(ii.FN,GS(gs({},M),{text:"Text copied",Icon:Hd})))}t()};return(0,e.h)(Mo.sN,{icon:(0,e.h)(Hd,null),onClick:i},"Copy Text")}function x5({communityEntity:n,closePopover:t}){const r=(0,hm.g)(),{id:i}=n,a=vs(n),M=()=>{var k;let F;a?F=(0,te.getCommunityPostAppLinkUrl)({postId:i}):F=(0,te.getCommunityCommentAppLinkUrl)({commentId:(k=n.parent_id)!=null?k:i,targetReplyId:n.parent_id?i:void 0}),r(F),t()};return(0,e.h)(Mo.sN,{icon:(0,e.h)($s.Z,null),onClick:M},"Copy Link")}function M5({communityEntity:n,closePopover:t}){const r=Ra(),{id:i,is_locked:a}=n,M=vs(n),k=()=>Qo(this,null,function*(){r(M?qS(i,!a):e5(i,!a)),t()});return(0,e.h)(Mo.sN,{icon:a?(0,e.h)(lm,null):(0,e.h)(YC,null),onClick:k,priority:a?"primary":"destructive"},a?"Turn on replies":"Turn off replies")}function D5({communityEntity:n,closePopover:t}){const r=Ra(),i=vs(n),a=()=>Qo(this,null,function*(){if(confirm(`Are you sure you want to flag this ${i?"thread":"reply"}?`)){const{id:k}=n;r(i?t5(k):n5(k)),t()}});return(0,e.h)(Mo.sN,{icon:(0,e.h)(um.Z,null),onClick:a,priority:"destructive"},i?"Flag thread":"Flag reply")}function A5({communityEntity:n,closePopover:t,isBanned:r}){const i=Ra(),a=()=>Qo(this,null,function*(){if(confirm("Are you sure you want to ban this user?")){const{id:k}=n;i(r5(k,!r)),t()}});return(0,e.h)(Mo.sN,{icon:r?(0,e.h)(JC.Z,null):(0,e.h)(cm.Z,null),onClick:a,priority:"destructive"},r?"Unban user":"Ban user")}function N5({communityEntity:n,closePopover:t,onDelete:r}){const i=Ra(),a=vs(n),M=()=>Qo(this,null,function*(){if(confirm(`Are you sure you want to delete this ${a?"thread":"comment"}?`)){const{id:F}=n;if(a){const{publication_id:B}=n;i(XS(F,B))}else{const{post_id:B,parent_id:Y}=n;i(QS(F,B,Y))}r&&setTimeout(r,500)}t()});return(0,e.h)(Mo.sN,{icon:(0,e.h)(XC,null),onClick:M,priority:"destructive"},a?"Delete thread":"Delete reply")}function s0(n){return(0,e.h)(he.tu,gs({className:Xo.replyContainer,alignItems:"start"},n))}function ec(n){return(0,e.h)(he.tu,gs({className:Xo.bubbleStack,gap:4,alignItems:"start"},n))}function nf(n){var t=n,{isTargeted:r}=t,i=r0(t,["isTargeted"]);return(0,e.h)(he.hs,gs({className:l()(Xo.bubble,r&&Xo.targetedAnimation),padding:12,bg:"secondary",minWidth:0},i))}function l0({authorName:n,communityEntity:t,isTargeted:r}){return(0,e.h)(nf,{isTargeted:r},(0,e.h)(u0,{authorName:n,communityEntity:t}))}function R5({authorName:n,communityEntity:t,onClick:r}){return(0,e.h)(he.hs,{className:l()(Xo.bubble,Xo.quoteBox),onClick:r,padding:12,minWidth:0},(0,e.h)(u0,{authorName:n,communityEntity:t}))}function u0({authorName:n,communityEntity:t}){var r,i,a,M;let k=null;const F=vs(t)?"thread":"reply";return t.reported_by_user&&(k=`You flagged this ${F}`),(t.status==="deleted"||!t.body)&&(k=`This ${F} is not available`),t.body||(vs(t)?(r=t.media_assets)!=null&&r.length?k=`${t.media_assets.length} ${t.media_assets.length>1?"photos":"photo"}.`:t.link_url&&(k=`Link: ${t.link_url}`,(i=t.link_metadata)!=null&&i.title&&(k=`Link: "${t.link_metadata.title}"`)):(a=t.media_uploads)!=null&&a.length&&(k=`${t.media_uploads.length} ${t.media_uploads.length>1?"photos":"photo"}.`)),(0,e.h)(I.Zx,{isParagraph:!0,className:Xo.bubbleText},(0,e.h)(I.Zx,{weight:"semibold",className:Xo.authorName},n||"Substack user")," ",(t.body||k)&&(0,e.h)(_5,{text:(M=t.raw_body)!=null?M:t.body,rawText:t.raw_body,specialText:k,mentionMap:t.mentions}))}function tc({isLocked:n,count:t=0,commenters:r,audience:i}){const a=n?Ku.Z:Pl.Z;return(0,e.h)(nf,{alignSelf:"stretch"},(0,e.h)(he.hs,{flex:"grow",justifyContent:"space-between",alignItems:"center",gap:12},(0,e.h)(he.hs,{alignItems:"center",gap:8},r&&(0,e.h)(he.hs,{className:Xo.facepile,alignItems:"center"},r.map(M=>(0,e.h)(d0,{className:Xo.facepileAvatar,user:M,size:24}))),(0,e.h)(I.Zx,{color:"secondary"},t>0?`${t.toLocaleString()} replies...`:"Reply...")),(0,e.h)(he.hs,{gap:4,alignItems:"center"},n||!i||i==="all_subscribers"?void 0:(0,e.h)(I.Zx,{color:"secondary"},i==="only_founding"?"Founding":"Paid"),(0,e.h)(a,{size:20,stroke:"var(--color-secondary)"}))))}function L5({audience:n}){const t=n==="only_founding"?"FOUNDING MEMBERS ONLY":"PAID SUBSCRIBERS ONLY";return(0,e.h)(he.tu,{className:Xo.paywallBubble,alignSelf:"stretch",alignItems:"center",justifyContent:"center",bg:"secondary"},(0,e.h)(he.hs,{alignItems:"center",gap:4},(0,e.h)(Ku.Z,{size:12,stroke:"var(--color-secondary)"}),(0,e.h)(I.xv.Meta,{weight:"semibold"},t)))}function B5(){return(0,e.h)(he.tu,{className:Xo.paywallBubble,alignSelf:"stretch",alignItems:"center",justifyContent:"center",bg:"secondary"},(0,e.h)(he.hs,{alignItems:"center",gap:4},(0,e.h)(Ku.Z,{size:12,stroke:"var(--color-secondary)"}),(0,e.h)(I.xv.Meta,{weight:"semibold"},"SUBSCRIBERS ONLY")))}function k5({linkUrl:n,linkMetadata:t,postId:r}){var i,a,M;const k=Ra();let F;try{const Ue=new URL((i=t==null?void 0:t.url)!=null?i:n);F=`${Ue.host}${Ue.pathname}${Ue.search}${Ue.hash}`}catch(Ue){F=n}const{result:B,isLoading:Y,error:ge}=(0,Ot.ib)({pathname:"/api/v1/link-metadata",query:{url:n},auto:!t,deps:[n]});B&&!t&&r&&k({type:"posts-link_metadata",payload:{id:r,link_metadata:B}});const Ce=(a=t==null?void 0:t.title)!=null?a:B==null?void 0:B.title,Se=(M=t==null?void 0:t.image)!=null?M:B==null?void 0:B.image;return(0,e.h)(nf,null,(0,e.h)(he.hs,{as:"a",href:n,target:"_blank",justifyContent:"space-between",gap:12,className:Xo.linkBubble,onClick:Ue=>Ue.stopPropagation()},(0,e.h)(he.tu,{gap:4},Ce&&(0,e.h)(I.xv,{font:"serif",weight:"semibold",className:Xo.linkTitle},Ce),(0,e.h)(I.xv.Detail,{ellipsis:!0,className:Xo.linkUrl},F)),Se&&(0,e.h)(pn.e,{className:Xo.linkImg,src:Se,maxWidth:72*2})))}function c0(n){return(0,e.h)(yt.zx,gs({className:Xo.ctaButton,priority:"primary-theme"},n))}function rf({text:n,isStatic:t}){return(0,e.h)(he.hs,{paddingX:8,paddingY:4},(0,e.h)(I.xv.Detail,{weight:"semibold"},(0,e.h)(aO,{strokeWidth:2,height:12,stroke:"#808080",fill:"transparent",isStatic:t})," ",n))}function d0({user:n,size:t,pubRole:r,className:i}){let a;(r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="contributor"?a="author":r!=null&&r.is_founding?a="founding":(r==null?void 0:r.membership_state)==="subscribed"&&(a="paid");const M=(0,ca.L0)(n);return(0,e.h)(he.hs,{as:"a",flex:"auto",alignSelf:"start",href:(0,te.getReaderProfileUrl)(n,{noBase:!0}),target:"_blank"},(0,e.h)(Gs.YY,{showProfileHovercard:M,className:i,size:t,user:n,subscriptionType:a}))}function*JK(n,t,r=1){for(let i=n;i<t;i+=r)yield i}function XK({utm_campaign:n,utm_source:t,abTestingId:r}={}){const[i,a]=useState(!1);return{open:()=>{a(!0),track(EVENTS.APP_INSTALL_MODAL_OPENED,{utm_campaign:n,utm_source:t})},modal:h(j5,{isOpen:i,onClose:()=>a(!1),utm_campaign:n,utm_source:t,abTestingId:r})}}function f0({label:n}){return(0,e.h)(he.hs,{gap:16,alignItems:"center",className:Le.divider},(0,e.h)("hr",{className:Le.dividerLine}),n&&(0,e.h)(e.Fragment,null,(0,e.h)(I.xv.Meta,null,n),(0,e.h)("hr",{className:Le.dividerLine})))}function U5({utm_campaign:n,utm_source:t,hideQrInstructions:r=!0,darkMode:i=!1,abTestingId:a}){return h(FlexColumn,{justifyContent:"center",alignItems:"center",gap:32,padding:32},!isMobile()&&h(Fragment,null,!r&&h(Text.B3,{weight:"semibold"},"Scan the QR code below"),h(FlexBox,{className:css.qrCode,padding:20},h(W5,{utm_campaign:n,utm_source:t,abTestingId:a})),h(f0,{label:"OR"})),h(F5,{utm_campaign:n,utm_source:t,darkMode:i}))}function F5({utm_campaign:n,utm_source:t,darkMode:r=!1}){return h(FlexBox,{gap:16,justifyContent:"center"},h("a",{className:css.appBadge,href:getAppStoreUrl({utm_campaign:n,utm_source:t})},h("img",{src:imginary(r?"/img/app_page/app-store-white.png":"/img/app_page/app-store.png",160*2),height:48})),h("a",{className:css.appBadge,href:getPlayStoreUrl({utm_campaign:n,utm_source:t})},h("img",{src:imginary(r?"/img/app_page/google-play-white.png":"/img/app_page/google-play.png",160*2),height:48})))}function j5({isOpen:n,onClose:t,utm_campaign:r,utm_source:i,abTestingId:a}){return h(Modal,{isOpen:n,onClose:t,width:500},h(FlexColumn,null,h(FlexBox,{padding:24,borderBottom:"detail",justifyContent:"space-between",alignItems:"center",className:css.modalHeader},h(Text.H2,null,"Download the Substack app"),h(IconButton,{size:40,onClick:t,rounded:!0,fill:"borderless","aria-label":"Close"},h(X,{size:20}))),h(U5,{utm_campaign:r,utm_source:i,abTestingId:a})))}function W5({utm_campaign:n,utm_source:t,abTestingId:r}){const i=useRef(),a=H5({width:240,height:240,type:"svg",data:getAppStoreRedirectUrl({utm_campaign:n,utm_source:t,abti:r}),dotsOptions:{color:"var(--color-primary)",type:"dots"},backgroundOptions:{color:"var(--color-bg-elevated)"},cornersSquareOptions:{color:"var(--color-primary)",type:"extra-rounded"},cornersDotOptions:{color:"var(--color-primary)",type:"rounded"},qrOptions:{errorCorrectionLevel:"L"}});return useEffect(()=>{const{current:M}=i;if(!(!M||typeof window=="undefined"||!a)){for(;M.firstChild;)M.removeChild(M.firstChild);a.append(M)}},[a]),h("div",{ref:i})}function H5(n){const{result:t}=useResource(()=>Et.e(915).then(Et.t.bind(Et,91915,23)),[],{auto:!0});return t!=null&&t.default?new t.default(n):null}var V5=Et(30058),p0=Object.getOwnPropertySymbols,K5=Object.prototype.hasOwnProperty,$5=Object.prototype.propertyIsEnumerable,z5=(n,t)=>{var r={};for(var i in n)K5.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&p0)for(var i of p0(n))t.indexOf(i)<0&&$5.call(n,i)&&(r[i]=n[i]);return r};const nc=n=>{var t=n,{size:r="md",shape:i="circle",badgePosition:a="top-right",badge:M,imageUrl:k,onClick:F,className:B,border:Y}=t,ge=z5(t,["size","shape","badgePosition","badge","imageUrl","onClick","className","border"]);return(0,e.h)(V5.e,{className:B},(0,e.h)("div",{onClick:F,className:l()("tw-relative","tw-inline-block")},(0,e.h)("img",{className:l()("tw-inline-block","tw-object-cover",i==="circle"?"tw-rounded-full":"tw-rounded",{"tw-h-6 tw-w-6":r==="sm","tw-h-8 tw-w-8":r==="md","tw-h-10 tw-w-10":r==="lg","tw-h-[64px] tw-w-[64px]":r==="xl","tw-h-[88px] tw-w-[88px]":r==="xxl","tw-border-4 tw-border-substack-bg tw-shadow-md":Y},F?"tw-cursor-pointer hover:tw-opacity-90 active:tw-opacity-100":null),src:k?(0,p.imginary)(k):void 0}),M!=null?(0,e.h)("span",{className:l()("tw-absolute",{"tw-top-0 tw-right-0":a==="top-right","tw-top-0 tw-left-0":a==="top-left","tw-bottom-0 tw-right-0":a==="bottom-right","tw-bottom-0 tw-left-0":a==="bottom-left"})},M):null))},Ji={pageContainer:"frontend-substack-PublicationThreadAppLinkPage-module__pageContainer--Dy3AB",layoutTop:"frontend-substack-PublicationThreadAppLinkPage-module__layoutTop--VZxW0",layoutCentered:"frontend-substack-PublicationThreadAppLinkPage-module__layoutCentered--S7flk",header:"frontend-substack-PublicationThreadAppLinkPage-module__header--hDVhk",logo:"frontend-substack-PublicationThreadAppLinkPage-module__logo--tGZpx",footer:"frontend-substack-PublicationThreadAppLinkPage-module__footer--eZ5qt",threadsLinkContainer:"frontend-substack-PublicationThreadAppLinkPage-module__threadsLinkContainer--HyiPj",threadsLinkFallback:"frontend-substack-PublicationThreadAppLinkPage-module__threadsLinkFallback--oC97h",qrCode:"frontend-substack-PublicationThreadAppLinkPage-module__qrCode--ynSCW",avatarContainer:"frontend-substack-PublicationThreadAppLinkPage-module__avatarContainer--X5YS7",activityBadge:"frontend-substack-PublicationThreadAppLinkPage-module__activityBadge--LorrD",mobile:"frontend-substack-PublicationThreadAppLinkPage-module__mobile--a_a5G",appBadge:"frontend-substack-PublicationThreadAppLinkPage-module__appBadge--ZcSET",webChatLink:"frontend-substack-PublicationThreadAppLinkPage-module__webChatLink--k60XF"};var G5=Object.defineProperty,rc=Object.getOwnPropertySymbols,h0=Object.prototype.hasOwnProperty,m0=Object.prototype.propertyIsEnumerable,_0=(n,t,r)=>t in n?G5(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Z5=(n,t)=>{for(var r in t||(t={}))h0.call(t,r)&&_0(n,r,t[r]);if(rc)for(var r of rc(t))m0.call(t,r)&&_0(n,r,t[r]);return n},Y5=(n,t)=>{var r={};for(var i in n)h0.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&rc)for(var i of rc(n))t.indexOf(i)<0&&m0.call(n,i)&&(r[i]=n[i]);return r};function of({children:n,pub:t,user:r,showHeader:i,layoutTop:a}){return(0,e.h)("div",{className:l()(Ji.pageContainer,a?Ji.layoutTop:Ji.layoutCentered)},(0,e.h)("div",{className:Ji.header},i&&t&&r&&(0,e.h)(Hu,{pub:t,user:r,hideSections:!0,hideTitle:!0})),n)}function J5({pub:n,utm_campaign:t}){return(0,e.h)(he.tu,{alignItems:"center",justifyContent:"center",gap:12},(0,e.h)(y0,{utm_campaign:t}),(0,e.h)(I.xv.B4,{size:12,color:"secondary",className:Ji.threadsLinkFallback},"Already have the app? ",(0,e.h)("a",{href:(0,p.getThreadDeepLinkUrl)(n)},"Open now")))}function X5({pub:n,utm_campaign:t}){return(0,e.h)(he.tu,{alignItems:"center",justifyContent:"center",gap:12},(0,e.h)(b0,{utm_campaign:t}),(0,e.h)(I.xv.B4,{size:12,color:"secondary",className:Ji.threadsLinkFallback},"Already have the app? ",(0,e.h)("a",{href:(0,p.getThreadDeepLinkUrl)(n)},"Open now")))}function g0({pub:n,communityAction:t}){var r,i;const a=t?`${t.author.name} started a thread`:`Join ${(0,nn.possessive)(n.author_name)} subscriber chat `,M=t!=null&&t.communityPost?(r=t.communityPost.body)==null?void 0:r.slice(0,128):`Subscribe to ${n.name} and join the conversation.`,k=((i=t==null?void 0:t.communityPost)==null?void 0:i.type)==="media"&&!!(t!=null&&t.communityPost.media_assets),F=k?t.communityPost.media_assets[0].url:n.logo_url,B=(0,te.getPublicationChatAppLinkUrl)({pubKey:n.subdomain});return(0,e.h)(e.Fragment,null,(0,O.setMetaData)({title:a,socialTitle:a,description:M,image:F,isLargeImage:k}),(0,e.h)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:jd()((0,Wd.hd)(n,{name:a,url:B,description:M,potentialAction:null}),{json:!0,isScriptContext:!0})}}))}function Q5({publication:n,communityAction:t,user:r,showHeader:i}){return(0,e.h)(of,{pub:n,user:r,showHeader:i},(0,e.h)(he.tu,{flex:"grow",alignSelf:"stretch",justifyContent:"center"},(0,e.h)(he.hs,{flex:"grow",justifyContent:"center",paddingBottom:56},(0,e.h)(tT,{publication:n,communityAction:t,publicationAuthor:n.author||{id:n.author_id||0,name:n.author_name||"",photo_url:n.author_photo_url},utm_campaign:"threads-page"}))))}function q5({publication:n,communityAction:t,user:r,layoutTop:i,appModalOpenByDefault:a}){const M=(0,Fi.XA)(),[k,F]=(0,o.eJ)(!M&&a),B="thread-page",Y=(0,e.h)(he.tu,{gap:8},(0,e.h)(c0,{href:(0,te.getCommunityPostAppLinkUrl)({postId:t.communityPost.id,utm_source:"chat-post-landing",redirect:"app-store",utm_campaign:B}),onClick:M?null:ge=>{ge.preventDefault(),F(!0)}},"Open in app"),(0,e.h)(af,{publication:n,postId:t.communityPost.id,text:"Or join the conversation on web",source:"post-permalink"}));return(0,e.h)(of,{pub:n,user:r,layoutTop:i},(0,e.h)(he.tu,{flex:"grow",alignSelf:"stretch",justifyContent:"center"},(0,e.h)(he.hs,{flex:"grow",justifyContent:"center",paddingBottom:16},(0,e.h)(he.tu,{style:{maxWidth:580},flex:"grow",justifyContent:"center"},t.status==="open"?(0,e.h)(o0,{communityPost:t.communityPost,author:t.author,withAttribution:!0,extras:M?null:Y,flex:"auto",isReadOnly:!0}):(0,e.h)(he.tu,null,(0,e.h)(ef,{author:t.author,extras:M?null:Y,commenters:t.communityPost.recent_commenters,count:t.communityPost.comment_count,audience:t.communityPost.audience})))),M&&(0,e.h)(he.tu,{className:Ji.footer,sizing:"border-box",borderTop:"detail-themed",paddingY:16,alignSelf:"stretch"},Y),(0,e.h)(g0,{pub:n,communityAction:t})),(0,e.h)(P0,{utm_campaign:B,isOpen:k,postId:t.communityPost.id,onClose:()=>F(!1),subdomain:n.subdomain}))}function eT({publication:n,communityAction:t,user:r,layoutTop:i,appModalOpenByDefault:a}){var M;const k=(0,Fi.XA)(),[F,B]=(0,o.eJ)(!k&&a),Y="comment-page",ge=(M=t.communityComment.parent_id)!=null?M:t.communityComment.id,Ce=t.communityComment.parent_id?t.communityComment.id:void 0,Se=t.communityComment.post_id,Ue=(0,e.h)(he.tu,{gap:8},(0,e.h)(c0,{href:(0,te.getCommunityCommentAppLinkUrl)({commentId:ge,targetReplyId:Ce,utm_source:"chat-post-landing",redirect:"app-store",utm_campaign:Y}),onClick:k?null:Ye=>{Ye.preventDefault(),B(!0)}},"Open in app"),(0,e.h)(af,{publication:n,postId:Se,commentId:ge,targetReplyId:Ce,showTarget:Ce?!0:void 0,text:"Or join the conversation on web",source:"post-permalink"}));return(0,e.h)(of,{pub:n,user:r,layoutTop:i},(0,e.h)(he.tu,{flex:"grow",alignSelf:"stretch",justifyContent:"center"},(0,e.h)(he.hs,{flex:"grow",justifyContent:"center",paddingBottom:16},(0,e.h)(he.tu,{style:{maxWidth:580},flex:"grow",justifyContent:"center"},t.status==="VISIBLE"||!t.status?(0,e.h)(P5,{chatPublicationId:n.id,communityComment:t.communityComment,author:t.author,extras:k?null:Ue,isReadOnly:!0,isBanned:!1,quoteReply:t.quote,chatAuthorNameAttribution:n.author_name,flex:"auto"}):t.status==="PAID_SUBSCRIPTION_REQUIRED"||t.status==="FOUNDING_SUBSCRIPTION_REQUIRED"?(0,e.h)(he.tu,null,(0,e.h)(ef,{author:t.author,extras:k?null:Ue,commenters:t.communityComment.recent_commenters,count:t.communityComment.reply_count,audience:t.status==="FOUNDING_SUBSCRIPTION_REQUIRED"?"only_founding":"only_paid"})):(0,e.h)(he.tu,null,(0,e.h)(m5,{author:t.author,extras:k?null:Ue,commenters:t.communityComment.recent_commenters,count:t.communityComment.reply_count})))),k&&(0,e.h)(he.tu,{className:Ji.footer,sizing:"border-box",borderTop:"detail-themed",paddingY:16,alignSelf:"stretch"},Ue)),(0,e.h)(P0,{utm_campaign:Y,isOpen:F,postId:Se,commentId:ge,targetReplyId:Ce,onClose:()=>B(!1),subdomain:n.subdomain}))}function tT({publication:n,communityAction:t,publicationAuthor:r,noFallback:i,utm_campaign:a}){const M=(0,D.isMobile)(),k=(0,D.isAndroid)();return(0,e.h)(he.tu,{gap:M?20:24,justifyContent:"center",alignItems:"center"},(0,e.h)(nc,{imageUrl:(0,p.getUserPhotoUrl)(r),size:"xxl",border:!0,badge:(0,e.h)("div",{className:l()(Ji.activityBadge)}),badgePosition:"bottom-right"}),(0,e.h)(he.tu,{gap:8},(0,e.h)(I.xv.H2,{size:24,align:"center",weight:"bold",color:"pub-primary-text"},"Join ",(0,nn.possessive)(r.name||"Substack user")," subscriber chat")),!M&&(0,e.h)("div",{className:Ji.threadsLinkContainer},(0,e.h)(v0,{utm_campaign:a,subdomain:n.subdomain})),M&&(k?(0,e.h)(X5,{pub:n,utm_campaign:a}):(0,e.h)(J5,{pub:n,utm_campaign:a})),(0,e.h)(af,{publication:n,source:"pub-nav-bar"}),(0,e.h)(g0,{pub:n,communityAction:t}))}function af({publication:n,source:t,postId:r,commentId:i,targetReplyId:a,showTarget:M,text:k="Or open on web"}){return(0,e.h)("a",{href:(0,te.getWebChatUrl)({pubId:n.id,postId:r,commentId:i,params:{utm_source:t,targetReplyId:a,showTarget:M}}),className:Ji.webChatLink},(0,e.h)(I.xv.B3,{size:16,weight:"semibold",align:"center",as:"p",color:"pub-secondary-text"},k))}function v0({utm_campaign:n,postId:t,subdomain:r,commentId:i,targetReplyId:a}){return(0,e.h)(he.tu,{gap:24,alignItems:"center"},(0,e.h)(he.hs,{justifyContent:"center"},(0,e.h)(I.xv.B4,{as:"span",weight:"bold"},"Scan the QR code below")),(0,e.h)(he.hs,{flex:"auto",justifyContent:"center",border:"detail",radius:6,className:Ji.qrCode},(0,e.h)(nT,{utm_campaign:n,postId:t,subdomain:r,commentId:i,targetReplyId:a})),(0,e.h)(f0,{label:"OR"}),(0,e.h)(he.hs,{gap:16,justifyContent:"center"},(0,e.h)(y0,{utm_campaign:n}),(0,e.h)(b0,{utm_campaign:n})))}function nT({utm_campaign:n,postId:t,subdomain:r,commentId:i,targetReplyId:a}){const M=(0,o.sO)(),k=i?(0,te.getCommunityCommentAppLinkUrl)({commentId:i,targetReplyId:a,utm_campaign:n}):t?(0,te.getCommunityPostAppLinkUrl)({postId:t,utm_campaign:n}):(0,te.getPublicationChatAppLinkUrl)({pubKey:r,redirect:"app-store",utm_campaign:n});return(0,o.d4)(()=>{const{current:F}=M;F&&$C.toCanvas(F,k,{width:180,margin:2})},[]),(0,e.h)("canvas",{ref:M})}function y0({utm_campaign:n}){return(0,e.h)("a",{className:Ji.appBadge,href:(0,p.getAppStoreUrl)({utm_campaign:n,utm_source:"substack"})},(0,e.h)("img",{src:(0,p.imginary)("/img/app_page/app-store.png",400),height:40}))}function b0({utm_campaign:n}){return(0,e.h)("a",{className:Ji.appBadge,href:(0,p.getPlayStoreUrl)({utm_campaign:n,utm_source:"substack"})},(0,e.h)("img",{src:(0,p.imginary)("/img/app_page/google-play.png",400),height:40}))}function P0(n){var t=n,{postId:r,utm_campaign:i,subdomain:a,commentId:M,targetReplyId:k}=t,F=Y5(t,["postId","utm_campaign","subdomain","commentId","targetReplyId"]);return(0,e.h)(ra.u_,Z5({},F),(0,e.h)(ra.xB,{title:"Open in the Substack app",includeClose:!0,onClose:F.onClose,bottomBorder:!0}),(0,e.h)(he.tu,{paddingY:32,paddingX:40},(0,e.h)(v0,{utm_campaign:i,postId:r,subdomain:a,commentId:M,targetReplyId:k})))}var Zs=Et(23237),li=Et(6378),sf=function(){return(sf=Object.assign||function(n){for(var t,r=1,i=arguments.length;r<i;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a]);return n}).apply(this,arguments)},Ml,Dl,lf=(0,Kt.createContext)(void 0),E0="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-MML-AM_CHTML",w0="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js",rT=function(ge){var t=ge.config,r=ge.version,r=r===void 0?3:r,i=ge.src,i=i===void 0?r===2?E0:w0:i,a=ge.onStartup,M=ge.onLoad,k=ge.onError,F=ge.typesettingOptions,B=ge.renderMode,B=B===void 0?"post":B,Y=ge.hideUntilTypeset,ge=ge.children,Se=(0,Kt.useContext)(lf);if((Se==null?void 0:Se.version)!==void 0&&(Se==null?void 0:Se.version)!==r)throw Error("Cannot nest MathJaxContexts with different versions. MathJaxContexts should not be nested at all but if they are, they cannot have different versions. Stick with one version of MathJax in your app and avoid using more than one MathJaxContext.");if(r===2&&Dl!==void 0||r===3&&Ml!==void 0)throw Error("Cannot use MathJax versions 2 and 3 simultaneously in the same app due to how MathJax is set up in the browser; either you have multiple MathJaxContexts with different versions or you have mounted and unmounted MathJaxContexts with different versions. Please stick with one version of MathJax in your app. File an issue in the project Github page if you need this feature.");var Ce=(0,Kt.useRef)(Se),Se=(0,Kt.useRef)((Se==null?void 0:Se.version)||null);if(Se.current===null)Se.current=r;else if(Se.current!==r)throw Error("Cannot change version of MathJax in a MathJaxContext after it has mounted. Reload the page with a new version when this must happen.");var Ue=i||(r===2?E0:w0);function Ye(Ve,at){t&&(window.MathJax=t);var pt=document.createElement("script");pt.type="text/javascript",pt.src=Ue,pt.async=!1,pt.addEventListener("load",function(){var gt=window.MathJax;a&&a(gt),Ve(gt),M&&M()}),pt.addEventListener("error",function(gt){return at(gt)}),document.getElementsByTagName("head")[0].appendChild(pt)}return Ce.current===void 0&&(Se={typesettingOptions:F,renderMode:B,hideUntilTypeset:Y},r===2?Ml===void 0&&(typeof window!="undefined"?(Ml=new Promise(Ye)).catch(function(Ve){if(!k)throw Error("Failed to download MathJax version 2 from '".concat(Ue,"' due to: ").concat(Ve));k(Ve)}):(Ml=Promise.reject()).catch(function(Ve){})):Dl===void 0&&(typeof window!="undefined"?(Dl=new Promise(Ye)).catch(function(Ve){if(!k)throw Error("Failed to download MathJax version 3 from '".concat(Ue,"' due to: ").concat(Ve));k(Ve)}):(Dl=Promise.reject()).catch(function(Ve){})),Ce.current=sf(sf({},Se),r===2?{version:2,promise:Ml}:{version:3,promise:Dl})),Kt.default.createElement(lf.Provider,{value:Ce.current},ge)};const oT=rT;var Pi=Et(39776),Za=function(){return(Za=Object.assign||function(n){for(var t,r=1,i=arguments.length;r<i;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a]);return n}).apply(this,arguments)},iT=function(n,t){var r={};for(a in n)Object.prototype.hasOwnProperty.call(n,a)&&t.indexOf(a)<0&&(r[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(n);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(n,a[i])&&(r[a[i]]=n[a[i]]);return r},Al=function(n){return"Typesetting failed: ".concat(n.message!==void 0?n.message:n.toString())},aT=function(n){function t(){var Tt;Ve==="every"&&gt&&at==="post"&&Ue.current!==null&&(Ue.current.style.visibility=(Tt=(Tt=Ce.style)==null?void 0:Tt.visibility)!=null?Tt:"visible"),xt.current||(Ve==="first"&&Ue.current!==null&&(Ue.current.style.visibility="visible"),a&&a(),xt.current=!0),M&&M(),Nt.current=!1}var i=n.inline,r=i!==void 0&&i,i=n.hideUntilTypeset,a=n.onInitTypeset,M=n.onTypeset,k=n.text,F=n.dynamic,B=n.typesettingOptions,Y=n.renderMode,ge=n.children,Ce=iT(n,["inline","hideUntilTypeset","onInitTypeset","onTypeset","text","dynamic","typesettingOptions","renderMode","children"]),Se=(0,Kt.useRef)(""),Ue=(0,Kt.useRef)(null),Ye=(0,Kt.useContext)(lf),Ve=i!=null?i:Ye==null?void 0:Ye.hideUntilTypeset,at=Y!=null?Y:Ye==null?void 0:Ye.renderMode,pt=B!=null?B:Ye==null?void 0:Ye.typesettingOptions,gt=F!==!1&&(F||!1),xt=(0,Kt.useRef)(!1),Nt=(0,Kt.useRef)(!1);return!Nt.current&&Ue.current!==null&&gt&&Ve==="every"&&at==="post"&&(Ue.current.style.visibility="hidden"),(typeof window!="undefined"?Kt.useLayoutEffect:Kt.useEffect)(function(){if((gt||!xt.current)&&Ue.current!==null){if(!Ye)throw Error("MathJax was not loaded, did you use the MathJax component outside of a MathJaxContext?");if(at==="pre"){if(!(typeof(Tt=k)=="string"&&0<Tt.length))throw Error(`Render mode 'pre' requires text prop to be set and non-empty, which was currently "`.concat(k,'"'));if(!B||!B.fn)throw Error("Render mode 'pre' requires 'typesettingOptions' prop with 'fn' property to be set on MathJax element or in the MathJaxContext");if(Ye.version===2)throw Error("Render mode 'pre' only available with MathJax 3, and version 2 is currently in use")}at!=="post"&&k===Se.current||Nt.current||(Nt.current=!0,Ye.version===3?Ye.promise.then(function(Ut){var qt;at==="pre"?(qt=function(rn){Se.current=k,Ut.startup.document.clear(),Ut.startup.document.updateDocument(),Ue.current!==null&&(Ue.current.innerHTML=rn.outerHTML),t()},B.fn.endsWith("Promise")?Ut.startup.promise.then(function(){return Ut[pt.fn](k,Za(Za({},(pt==null?void 0:pt.options)||{}),{display:!r}))}).then(qt).catch(function(rn){throw t(),Error(Al(rn))}):Ut.startup.promise.then(function(){var rn=Ut[pt.fn](k,Za(Za({},(pt==null?void 0:pt.options)||{}),{display:!r}));qt(rn)}).catch(function(rn){throw t(),Error(Al(rn))})):Ut.startup.promise.then(function(){return Ut.typesetClear([Ue.current]),Ut.typesetPromise([Ue.current])}).then(t).catch(function(rn){throw t(),Error(Al(rn))})}).catch(function(Ut){throw t(),Error(Al(Ut))}):Ye.promise.then(function(Ut){Ut.Hub.Queue(["Typeset",Ut.Hub,Ue.current]),Ut.Hub.Queue(t)}).catch(function(Ut){throw t(),Error(Al(Ut))}))}var Tt}),Kt.default.createElement("span",Za({},Ce,{style:Za(Za({display:r?"inline":"block"},Ce.style),{visibility:Ve?"hidden":(n=Ce.style)==null?void 0:n.visibility}),ref:Ue}),ge)};const sT=aT;var Ei=Et(82626),lT=Et(42395),wi=Et.n(lT),ao=Et(18492);const Ys={webContainer:"frontend-community-CommunityChatEmbed-module__webContainer--yvB6N",container:"frontend-community-CommunityChatEmbed-module__container--Rxuxg",emailWrapper:"frontend-community-CommunityChatEmbed-module__emailWrapper--s2WXp",text:"frontend-community-CommunityChatEmbed-module__text--OkWnB",title:"frontend-community-CommunityChatEmbed-module__title--MzrVh",button:"frontend-community-CommunityChatEmbed-module__button--sD_5W"};function uT({pub:n,subdomain:t}){const{iString:r}=(0,P.M1)();return(0,e.h)(he.tu,{className:Ys.webContainer,alignItems:"center",border:"detail-themed",radius:12,padding:20,gap:16,as:"a",href:uf(t),target:"_blank","data-component-name":"CommunityChatEmbed"},(0,e.h)(nc,{size:"xl",imageUrl:(0,te.imginary)(n.author_photo_url),border:!0}),(0,e.h)(he.tu,{gap:4,alignItems:"center"},(0,e.h)(I.xv.H3,{translated:!0,as:"div",color:"pub-primary-text"},"Join ",I18N.p(n.author_name),"\u2019s subscriber chat"),(0,e.h)(I.xv.B4,{translated:!0,color:"pub-secondary-text"},"Available in the Substack app and on web")),(0,e.h)(he.tu,{alignSelf:"stretch"},(0,e.h)(yt.zx,{priority:"primary-theme",href:uf(t)},r("Join chat"))))}function cT({pub:n,subdomain:t}){const{iString:r}=(0,P.M1)();return(0,e.h)("a",{className:Ys.emailWrapper,href:uf(t),"data-component-name":"EmailCommunityChatEmbed"},(0,e.h)("div",{className:Ys.container},(0,e.h)(ao.NS,{size:64,src:(0,te.imginary)(n.author_photo_url),framed:!0}),(0,e.h)("div",{className:Ys.text},(0,e.h)(I.xv.H3,{translated:!0,className:Ys.title,as:"div",color:"pub-primary-text"},"Join ",I18N.p(n.author_name),"\u2019s subscriber chat"),(0,e.h)(I.xv.B4,{translated:!0,color:"pub-secondary-text"},"Available in the Substack app and on web")),(0,e.h)(ao.Bj,{tableClassName:Ys.button},r("Join chat"))))}function uf(n){return(0,te.getPublicationChatAppLinkUrl)({pubKey:n,utm_source:"chat_embed"})}const oc={bubbleStack:"frontend-community-EmailCommunityPostView-module__bubbleStack--WvrT_",bubble:"frontend-community-EmailCommunityPostView-module__bubble--QZBFA",img:"frontend-community-EmailCommunityPostView-module__img--sDJg2",linkImg:"frontend-community-EmailCommunityPostView-module__linkImg--k71Si",paywallBubble:"frontend-community-EmailCommunityPostView-module__paywallBubble--fIVSc frontend-community-EmailCommunityPostView-module__bubble--QZBFA"};var dT=Object.defineProperty,C0=Object.getOwnPropertySymbols,fT=Object.prototype.hasOwnProperty,pT=Object.prototype.propertyIsEnumerable,O0=(n,t,r)=>t in n?dT(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,hT=(n,t)=>{for(var r in t||(t={}))fT.call(t,r)&&O0(n,r,t[r]);if(C0)for(var r of C0(t))pT.call(t,r)&&O0(n,r,t[r]);return n};function mT({communityPost:n,is_freemail:t,author:r,cta:i,withAttribution:a,attributionText:M,hideReply:k,truncateBodyAt:F}){const B=!n||t&&n.audience==="only_paid";let Y=null;return!B&&n.body&&(Y=F?(0,nn.truncateText)(n.body,F):n.body),(0,e.h)(ao.zK,{gap:12,verticalAlign:"top"},(0,e.h)(ao.NS,{src:r.photo_url,size:40}),(0,e.h)(ao.i$,{gap:4,style:{lineHeight:0}},a&&(0,e.h)(rf,{isStatic:!0,text:M||`From ${r.name?(0,nn.possessive)(r.name):"Substack user"} subscriber chat`}),B?(0,e.h)(_T,null):[n.type==="media"&&n.media_assets?n.media_assets.slice(0,1).map(ge=>(0,e.h)(gT,{key:ge.url,asset:ge})):n.type==="link"&&(0,e.h)(vT,{communityPost:n}),Y&&(0,e.h)(cf,null,(0,e.h)("span",null,(0,e.h)(I.Zx,{weight:"bold"},r.name)," ",Y))],!k&&(0,e.h)(cf,null,(0,e.h)(ao.YF,null,(0,e.h)("tr",null,(0,e.h)("td",{align:"left"},(0,e.h)(I.Zx,{color:"secondary"},"Reply...")),(0,e.h)("td",{align:"right"},(0,e.h)(Pl.Z,{size:20,stroke:"var(--color-secondary}"}))))),i&&(0,e.h)(ao.b9,{fullWidth:!0,href:i.url},i.text),i&&i.blurb&&(0,e.h)("div",null,(0,e.h)(I.xv,{color:"secondary",align:"center",size:14,lineHeight:20},i.blurb))))}function cf(n){return(0,e.h)("div",hT({className:oc.bubble},n))}function _T(){return(0,e.h)("div",{className:oc.paywallBubble,style:{backgroundImage:`url(${(0,te.imginary)("/img/community/paywall-pixels-light.png")})`}},(0,e.h)(I.xv.Meta,null,"SUBSCRIBERS ONLY"))}function gT({asset:n}){return(0,e.h)("img",{className:oc.img,width:400,src:(0,te.imginary)(n.url,400*2,{crop:"limit",height:400*2})})}function vT({communityPost:n}){var t,r;const{link_metadata:i,link_url:a}=n,M=(r=(t=i==null?void 0:i.url)!=null?t:a)!=null?r:"";let k;try{const F=new URL(M);k=`${F.host}${F.pathname}${F.search}${F.hash}`}catch(F){k=M}return(0,e.h)(cf,null,(0,e.h)(ao.YF,{style:{width:"400px"}},(0,e.h)("tr",null,(0,e.h)("td",{align:"left",style:{verticalAlign:"top"}},(i==null?void 0:i.title)&&(0,e.h)(I.xv,{font:"serif",lineHeight:24},i.title),(0,e.h)(I.xv.Meta,{color:"secondary"},k)),(0,e.h)("td",{width:"16"}),(0,e.h)("td",{align:"right"},(i==null?void 0:i.image)&&(0,e.h)("img",{className:oc.linkImg,src:(0,te.imginary)(i.image,72*2,{height:72*2,smartCrop:!0})})))))}function QK({utm_campaign:n,utm_source:t,style:r}){const i="Chat is a place to hang out with your favorite writers. Every week we\u2019ll send a roundup of Chats you missed from writers you subscribe to.",a=getGlobalAccountSettingsUrl({utm_source:t,section:"notifications",highlightNotification:null}),M=getChatAppLinkUrl({utm_source:t,utm_campaign:n});return h(Box,{padding:12,border:"detail",bg:"secondary",radius:12,style:r},h(Text.H3,null,"Why am I getting this?"),h(Text.B4,{size:14,color:"secondary",style:{marginTop:8}},i,h("br",null),h("br",null),"You can change your notification settings on web ",h("a",{href:a}," here"),"."),h(EmailHStack,{gap:8,style:{marginTop:20}},h(ThemedEmailButtonMod,{priority:"primary",href:M},"Open App"),h(ThemedEmailButtonMod,{priority:"secondary",href:a},"Visit Settings")))}const df={container:"frontend-community-CommunityPostEmbed-module__container--PgwcB",emailWrapper:"frontend-community-CommunityPostEmbed-module__emailWrapper--HkNYU"};var yT=Object.defineProperty,bT=Object.defineProperties,PT=Object.getOwnPropertyDescriptors,S0=Object.getOwnPropertySymbols,ET=Object.prototype.hasOwnProperty,wT=Object.prototype.propertyIsEnumerable,T0=(n,t,r)=>t in n?yT(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,CT=(n,t)=>{for(var r in t||(t={}))ET.call(t,r)&&T0(n,r,t[r]);if(S0)for(var r of S0(t))wT.call(t,r)&&T0(n,r,t[r]);return n},OT=(n,t)=>bT(n,PT(t));function ST({postId:n}){var t;const{isLoading:r,error:i,result:a}=(0,Ot.ib)({pathname:`/api/v1/community/posts/${n}`,auto:!0,deps:[n]}),M=i instanceof Ot.kp&&i.response.status===402&&((t=i.body)==null?void 0:t.status)==="PAID_SUBSCRIPTION_REQUIRED"?i.body:null;return(0,e.h)(he.hs,{as:"a",className:df.container,target:"_blank",href:(0,te.getCommunityPostAppLinkUrl)({postId:n,utm_source:"thread_embed"}),"data-component-name":"CommunityPostEmbed"},M?(0,e.h)(ef,{author:M.user}):i?"Error":a&&(0,e.h)(o0,{author:a.user,communityPost:a.communityPost,withAttribution:!0,isReadOnly:!0}))}function TT(n){const{postId:t}=n;return(0,e.h)("a",{className:df.emailWrapper,href:(0,te.getCommunityPostAppLinkUrl)({postId:t,utm_source:"thread_embed",modal:"1"}),"data-component-name":"EmailCommunityPostEmbed"},(0,e.h)("div",{className:df.container},(0,e.h)(mT,OT(CT({},n),{withAttribution:!0}))))}var ff=Et(31131),I0=Et(81470),Nl=Et(31517),x0=Et(26240),M0=Et(65024),IT=Et(224),ic=Et(50670),xT=Et(4070),MT=Et(6742),D0=Et(41474),A0=Et(55687);const pf={container:"frontend-feed-CommentEmbed-module__container--IBfEM",note:"frontend-feed-CommentEmbed-module__note--NPgVz"};function DT({commentId:n}){const{isLoading:t,error:r,result:i}=(0,Ot.ib)({pathname:`/api/v1/reader/comment/${n}`,auto:!0,deps:[n]});return r instanceof Ot.kp?r.getMessage():!i||t?(0,e.h)(NT,null):(0,e.h)(AT,{feedItem:i.item})}function AT({feedItem:n}){var t,r,i,a,M;const{comment:k,parentComments:F}=n,{truncatedBodyJson:B}=(0,xT.Z)(k),Y=F[F.length-1],ge=(t=k.attachments)==null?void 0:t.find(Ue=>Ue.type!=="image"),Ce=(r=k.attachments)==null?void 0:r.filter(Ue=>Ue.type==="image"),Se=(0,o.sO)(null);return(0,MT.UM)(Se,()=>(0,D0.zi)(n,I0.Uo.PostEmbed),{threshold:.2}),(0,e.h)(he.tu,{justifyContent:"center",alignItems:"center",paddingX:20,className:pf.container},(0,e.h)(Fu.h,null,(0,e.h)(he.hs,{as:"a",target:"_blank",href:(0,te.getFeedCommentUrl)(k),gap:12,border:"detail",bg:"elevated",radius:12,padding:{mobile:16,desktop:20},style:{textDecoration:"none",width:"560px",maxWidth:"100%"},className:pf.note,ref:Se},(0,e.h)(he.hs,{flex:"auto"},(0,e.h)(ic.Zb,{user:k})),(0,e.h)(he.tu,{minWidth:0,gap:8,flex:"grow"},(0,e.h)(he.tu,{minWidth:0,flex:"grow"},(0,e.h)(ic.KF,null,(0,e.h)(I.Zx,{weight:"semibold"},k.name),(0,e.h)(ho.o,{tier:k.user_bestseller_tier}),(0,e.h)(ic.Ku,{timestamp:k.date})),Y&&(0,e.h)(I.xv.Detail,null,"Replying to ",Y.name),(0,e.h)(he.tu,{gap:12,flex:"grow"},(0,e.h)(ic.sP,null,B&&(0,e.h)(IT.x,{content:B})),(0,e.h)(M0.y,{attachments:ge?[ge]:Ce||[],readOnly:!0,onAttachmentClick:({commentId:Ue}={})=>(0,D0.rw)(n,I0.Uo.PostEmbed,"attachment",{extraEventProps:{commentId:Ue}}),utm_content:n.entity_key}))),(0,e.h)(he.hs,{justifyContent:"space-between",alignItems:"center"},(0,e.h)(ac,{icon:(0,e.h)(xd.Z,{height:16,fill:"none",strokeWidth:2.5,stroke:"var(--color-secondary)"}),count:(i=k.reaction_count)!=null?i:0}),(0,e.h)(ac,{icon:(0,e.h)(x0.Z,{height:16,strokeWidth:2.5,stroke:"var(--color-secondary)"}),count:(a=k.children_count)!=null?a:0}),(0,e.h)(ac,{icon:(0,e.h)(Nl.Z,{height:16,strokeWidth:2.5,stroke:"var(--color-secondary)"}),count:(M=k.restacks)!=null?M:0}),(0,e.h)(ac,{icon:(0,e.h)(ff.Z,{height:16,strokeWidth:2.5,stroke:"var(--color-secondary)"}),count:0}))))))}function ac({icon:n,count:t}){return(0,e.h)(he.hs,{gap:8,paddingTop:6,flex:"grow",alignItems:"center"},n,(0,e.h)(I.xv.Digit,{color:"secondary"},t>0&&(0,A0.u)(t)))}function NT(){return(0,e.h)(Fu.h,null,(0,e.h)(he.tu,{justifyContent:"center",alignItems:"center",paddingX:20,style:{margin:"20px 0"},"data-component-name":"CommentViewPlacehodder"},(0,e.h)(he.hs,{gap:12,border:"detail",bg:"primary",radius:12,padding:{mobile:16,desktop:20},style:{textDecoration:"none",width:"560px",maxWidth:"100%"},flex:"grow",className:pf.note},(0,e.h)(Ka.Vm,{type:"circle",size:48}),(0,e.h)(he.tu,{gap:12,flex:"grow"},(0,e.h)(Ka.Vm,{height:16,width:`${Math.random()*(100-20)+20}%`}),(0,e.h)(Ka.Vm,{height:16,width:`${Math.random()*(100-20)+20}%`}),(0,e.h)(Ka.Vm,{height:16,width:`${Math.random()*(100-20)+20}%`}),(0,e.h)(Ka.Vm,{height:16,width:`${Math.random()*(100-20)+20}%`})))))}var RT=Object.defineProperty,LT=Object.defineProperties,BT=Object.getOwnPropertyDescriptors,N0=Object.getOwnPropertySymbols,kT=Object.prototype.hasOwnProperty,UT=Object.prototype.propertyIsEnumerable,R0=(n,t,r)=>t in n?RT(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,FT=(n,t)=>{for(var r in t||(t={}))kT.call(t,r)&&R0(n,r,t[r]);if(N0)for(var r of N0(t))UT.call(t,r)&&R0(n,r,t[r]);return n},jT=(n,t)=>LT(n,BT(t));const WT=n=>(0,e.h)(L.l,jT(FT({},n),{name:"MoreIcon",svgParams:{height:24,width:24,fill:n.fill,stroke:n.stroke,strokeWidth:n.strokeWidth}}),(0,e.h)("path",{d:"M12 13C12.5523 13 13 12.5523 13 12C13 11.4477 12.5523 11 12 11C11.4477 11 11 11.4477 11 12C11 12.5523 11.4477 13 12 13Z"}),(0,e.h)("path",{d:"M19 13C19.5523 13 20 12.5523 20 12C20 11.4477 19.5523 11 19 11C18.4477 11 18 11.4477 18 12C18 12.5523 18.4477 13 19 13Z"}),(0,e.h)("path",{d:"M5 13C5.55228 13 6 12.5523 6 12C6 11.4477 5.55228 11 5 11C4.44772 11 4 11.4477 4 12C4 12.5523 4.44772 13 5 13Z"}));var Js=Et(84606);function e$({item:n,utmSource:t}){const{comment:r}=n;return h(L0,{comment:r,utmSource:t})}function L0({comment:n,utmSource:t}){var r,i,a,M,k,F,B,Y;const ge=(r=n.attachments)==null?void 0:r.find(Ve=>Ve.type==="image"),Ce=(i=n.attachments)==null?void 0:i.find(Ve=>Ve.type==="post"),Se=Ce==null?void 0:Ce.postSelection,Ue=(a=n.attachments)==null?void 0:a.find(Ve=>Ve.type!=="image"),Ye=Ue&&(0,M0.k)(Ue);return(0,e.h)(Js.xu,{as:"a",href:(0,te.getFeedCommentUrl)(n,{urlParams:{utm_source:t}}),padding:16,radius:12,border:"detail",style:{textDecoration:"none",display:"block",minWidth:"410px"},"data-component-name":"EmailCommentEmbed"},(0,e.h)(ao.zK,{style:{width:"100%"},verticalAlign:"top",gap:12},(0,e.h)(ao.NS,{src:(k=n.photo_url)!=null?k:(0,p.getDefaultUserPhotoById)((M=n.user_id)!=null?M:0),size:48}),(0,e.h)(ao.i$,{gap:12,style:{lineHeight:0,width:"100%"}},(0,e.h)(Js.xu,null,(0,e.h)(I.xv.B3,null,(0,e.h)(I.Zx,{weight:"semibold"},n.name)," ",(0,e.h)(I.Zx,{color:"secondary"},un()(n.date).fromNowShort())),(0,e.h)(I.xv.B3,null,(0,nn.truncateWords)(n.body,420))),Ce&&Se&&(0,e.h)(I.xv.B3,null,(0,e.h)(HT,{attachment:Ce,selection:Se})),Ye&&!Ce&&(0,e.h)(I.xv.B4,{color:"accent-blue"},Ye),ge&&(0,e.h)(VT,{attachment:ge}),(0,e.h)(ao.YF,{width:"100%",style:{width:"100%"}},(0,e.h)("tr",null,(0,e.h)("td",{width:"20%"},(0,e.h)(xd.Z,{width:16,height:16,strokeWidth:1.5,stroke:Rl,style:sc,fill:"none",isStatic:!0}),(0,e.h)(hf,{count:(F=n.reaction_count)!=null?F:0})),(0,e.h)("td",{width:"20%"},(0,e.h)(x0.Z,{height:16,width:16,strokeWidth:1.5,stroke:Rl,style:sc,isStatic:!0}),(0,e.h)(hf,{count:(B=n.children_count)!=null?B:0})),(0,e.h)("td",{width:"20%"},(0,e.h)(Nl.Z,{height:16,width:16,strokeWidth:1.5,stroke:Rl,style:sc,isStatic:!0}),(0,e.h)(hf,{count:(Y=n.restacks)!=null?Y:0})),(0,e.h)("td",{width:"20%"},(0,e.h)(WT,{height:16,width:16,strokeWidth:2,stroke:Rl,fill:Rl,style:sc,isStatic:!0})))))))}const sc={display:"inline-block",verticalAlign:"middle"};function hf({count:n}){return(0,e.h)(I.xv.B4,{size:12,as:"span",weight:"semibold",color:"secondary",style:{marginLeft:4}},n>0?(0,A0.u)(n):" ")}const Rl="#808080";function HT({attachment:n,selection:t}){return(0,e.h)(Js.xu,{padding:12,radius:12,bg:"secondary"},(0,e.h)(I.xv,{color:"secondary",font:"serif",fontStyle:"italic",lineHeight:24},(0,nn.truncateWords)(t.text.replaceAll("\u201C","\u2018").replaceAll("\u201D","\u2019"),180),"\u201D \u2014 ",(0,Tr.getPostAuthor)(n.publication,n.post).name))}function VT({attachment:n}){return(0,e.h)(Js.xu,{as:"img",src:(0,te.imginary)(n.imageUrl,400*2,{crop:"limit",height:400*2}),width:400,radius:12,style:{maxHeight:600,objectFit:"cover",margin:0}})}const KT=(0,Oo.Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Xs={avatar:"frontend-main-meetings-Embed-module__avatar--I1maB",badge:"frontend-main-meetings-Embed-module__badge--wg1nn",container:"frontend-main-meetings-Embed-module__container--Gbf2M",header:"frontend-main-meetings-Embed-module__header--U1aau",emailButton:"frontend-main-meetings-Embed-module__emailButton--_wEaP",cta:"frontend-main-meetings-Embed-module__cta--AKskK"},$T=({avatarUrl:n,name:t,url:r})=>{const{iString:i}=(0,P.M1)();return(0,e.h)(ao.i$,{gap:12,style:{padding:"16px",border:"1px solid #E0E0E0",borderRadius:"8px",margin:"0 auto 20px"}},(0,e.h)(ao.zK,{gap:12},(0,e.h)(ao.NS,{src:n,size:40}),(0,e.h)(ao.i$,null,(0,e.h)(I.xv.H4,{translated:!0,size:14,paddingBottom:4,color:"pub-primary-text"},"Book a meeting with ",I18N.p(t)),(0,e.h)(I.xv.B4,{translated:!0,color:"pub-secondary-text"},"Schedule a meeting"))),(0,e.h)(ao.Bj,{tableClassName:Xs.emailButton,href:r},i("Book meeting")))},zT=({avatarUrl:n,name:t,url:r})=>{const{iString:i}=(0,P.M1)();return(0,e.h)(he.hs,{direction:{mobile:"column",desktop:"row"},radius:12,padding:24,alignItems:"center",className:Xs.container,justifyContent:"space-between","data-component-name":"MeetingEmbed"},(0,e.h)(he.gq,{className:Xs.header,gap:16,paddingBottom:{mobile:20,desktop:0}},(0,e.h)(nc,{className:Xs.avatar,imageUrl:n,size:"lg",badge:(0,e.h)("div",{className:Xs.badge},(0,e.h)(KT,{color:"white",size:12})),badgePosition:"bottom-right"}),(0,e.h)("div",null,(0,e.h)(I.xv.H4,{translated:!0,paddingBottom:4,color:"pub-primary-text"},"Book a meeting with ",I18N.p(t)),(0,e.h)(I.xv.B4,{color:"pub-secondary-text"},"Schedule a meeting"))),(0,e.h)(yt.zx,{className:Xs.cta,priority:"primary-theme",onClick:()=>{(0,O.redirect)(r,{newTab:!0})}},i("Book meeting")))};var GT=Object.defineProperty,ZT=Object.defineProperties,YT=Object.getOwnPropertyDescriptors,B0=Object.getOwnPropertySymbols,JT=Object.prototype.hasOwnProperty,XT=Object.prototype.propertyIsEnumerable,k0=(n,t,r)=>t in n?GT(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,QT=(n,t)=>{for(var r in t||(t={}))JT.call(t,r)&&k0(n,r,t[r]);if(B0)for(var r of B0(t))XT.call(t,r)&&k0(n,r,t[r]);return n},qT=(n,t)=>ZT(n,YT(t));const mf=n=>(0,e.h)(L.l,qT(QT({},n),{name:"Back15Icon",svgParams:{width:20,height:22,viewBox:"0 0 20 22",stroke:"none",fill:"white"}}),(0,e.h)("path",{d:"M0 11.8557C0 13.2164 0.260417 14.4989 0.78125 15.7034C1.30208 16.9078 2.02148 17.969 2.93945 18.887C3.85742 19.7984 4.91536 20.5146 6.11328 21.0354C7.31771 21.5562 8.60026 21.8166 9.96094 21.8166C11.3216 21.8166 12.6009 21.5562 13.7988 21.0354C15.0033 20.5146 16.0645 19.7984 16.9824 18.887C17.9004 17.969 18.6198 16.9078 19.1406 15.7034C19.6615 14.4989 19.9219 13.2164 19.9219 11.8557C19.9219 10.6578 19.7168 9.51846 19.3066 8.43773C18.8965 7.357 18.3236 6.38044 17.5879 5.50805C16.8587 4.62914 16.0026 3.89672 15.0195 3.31078C14.043 2.71833 12.985 2.30818 11.8457 2.08031V0.693592C11.8457 0.342029 11.7448 0.12393 11.543 0.039295C11.3411 -0.0453404 11.1068 0.00674294 10.8398 0.195545L7.72461 2.37328C7.49674 2.52953 7.38281 2.71182 7.38281 2.92015C7.38281 3.12849 7.49674 3.31403 7.72461 3.47679L10.8301 5.6643C11.097 5.85961 11.3314 5.91495 11.5332 5.83031C11.7415 5.73916 11.8457 5.51781 11.8457 5.16625V3.77953C12.7702 3.98786 13.6198 4.33943 14.3945 4.83422C15.1758 5.32901 15.8529 5.93448 16.4258 6.65062C17.0052 7.36677 17.4544 8.16755 17.7734 9.05297C18.0924 9.93187 18.252 10.8661 18.252 11.8557C18.252 13.008 18.0371 14.0888 17.6074 15.0979C17.1842 16.1005 16.5918 16.9827 15.8301 17.7444C15.0749 18.4996 14.196 19.0888 13.1934 19.512C12.1908 19.9416 11.1133 20.1565 9.96094 20.1565C8.80859 20.1565 7.72786 19.9416 6.71875 19.512C5.71615 19.0888 4.83398 18.4996 4.07227 17.7444C3.31706 16.9827 2.72461 16.1005 2.29492 15.0979C1.87174 14.0888 1.66016 13.008 1.66016 11.8557C1.66016 10.9312 1.80339 10.0523 2.08984 9.21898C2.3763 8.37914 2.77669 7.61416 3.29102 6.92406C3.80534 6.23396 4.40755 5.64151 5.09766 5.14672C5.29948 4.99698 5.42643 4.81469 5.47852 4.59984C5.53711 4.385 5.50456 4.17666 5.38086 3.97484C5.25716 3.77953 5.07812 3.66234 4.84375 3.62328C4.60938 3.57771 4.38477 3.6363 4.16992 3.79906C3.33008 4.40453 2.59766 5.12719 1.97266 5.96703C1.34766 6.80036 0.86263 7.71833 0.517578 8.72094C0.172526 9.71703 0 10.762 0 11.8557ZM7.10938 15.8596C7.29818 15.8596 7.44792 15.801 7.55859 15.6838C7.66927 15.5601 7.72461 15.3941 7.72461 15.1858V9.02367C7.72461 8.76976 7.66602 8.58096 7.54883 8.45726C7.43164 8.32706 7.26237 8.26195 7.04102 8.26195C6.9043 8.26195 6.77734 8.28799 6.66016 8.34008C6.54297 8.38565 6.39648 8.46703 6.2207 8.58422L4.88281 9.49242C4.77214 9.57055 4.6875 9.65844 4.62891 9.75609C4.57682 9.84724 4.55078 9.94815 4.55078 10.0588C4.55078 10.2216 4.60612 10.3616 4.7168 10.4787C4.82747 10.5959 4.96094 10.6545 5.11719 10.6545C5.21484 10.6545 5.29622 10.6415 5.36133 10.6155C5.42643 10.5894 5.5013 10.5406 5.58594 10.469L6.52344 9.78539H6.50391V15.1858C6.50391 15.3876 6.55924 15.5504 6.66992 15.6741C6.7806 15.7978 6.92708 15.8596 7.10938 15.8596ZM12.0703 15.9768C12.8776 15.9768 13.5254 15.7392 14.0137 15.2639C14.5085 14.7821 14.7559 14.1474 14.7559 13.3596C14.7559 12.6435 14.5378 12.0543 14.1016 11.592C13.6654 11.1298 13.099 10.8987 12.4023 10.8987C12.0898 10.8987 11.7839 10.9703 11.4844 11.1135C11.1914 11.2567 10.9798 11.4521 10.8496 11.6995H10.8984L11.0742 9.49242H13.9941C14.1374 9.49242 14.2611 9.44034 14.3652 9.33617C14.4759 9.232 14.5312 9.09528 14.5312 8.92601C14.5312 8.76325 14.4759 8.63305 14.3652 8.53539C14.2611 8.43122 14.1374 8.37914 13.9941 8.37914H10.8789C10.3646 8.37914 10.0846 8.64932 10.0391 9.18969L9.82422 12.0022C9.80469 12.2431 9.85352 12.4254 9.9707 12.5491C10.0879 12.6662 10.2539 12.7248 10.4688 12.7248C10.625 12.7248 10.752 12.7053 10.8496 12.6662C10.9473 12.6272 11.0645 12.5556 11.2012 12.4514C11.39 12.2821 11.5658 12.1617 11.7285 12.0901C11.8913 12.012 12.0703 11.9729 12.2656 11.9729C12.6432 11.9729 12.9492 12.1031 13.1836 12.3635C13.418 12.6174 13.5352 12.956 13.5352 13.3791C13.5352 13.8088 13.4017 14.1636 13.1348 14.4436C12.8678 14.7235 12.5326 14.8635 12.1289 14.8635C11.8359 14.8635 11.5723 14.7886 11.3379 14.6389C11.1035 14.4827 10.9245 14.2776 10.8008 14.0237C10.7292 13.9 10.6478 13.8056 10.5566 13.7405C10.4655 13.6689 10.3581 13.633 10.2344 13.633C10.0716 13.633 9.93815 13.6851 9.83398 13.7893C9.73633 13.8935 9.6875 14.0302 9.6875 14.1995C9.6875 14.2646 9.69401 14.3297 9.70703 14.3948C9.72005 14.4599 9.73958 14.525 9.76562 14.5901C9.89583 14.9416 10.1628 15.2606 10.5664 15.5471C10.9766 15.8336 11.4779 15.9768 12.0703 15.9768Z"}));var e4=Object.defineProperty,t4=Object.defineProperties,n4=Object.getOwnPropertyDescriptors,U0=Object.getOwnPropertySymbols,r4=Object.prototype.hasOwnProperty,o4=Object.prototype.propertyIsEnumerable,F0=(n,t,r)=>t in n?e4(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,i4=(n,t)=>{for(var r in t||(t={}))r4.call(t,r)&&F0(n,r,t[r]);if(U0)for(var r of U0(t))o4.call(t,r)&&F0(n,r,t[r]);return n},a4=(n,t)=>t4(n,n4(t));const _f=n=>(0,e.h)(L.l,a4(i4({},n),{name:"Forward30Icon",svgParams:{width:20,height:22,viewBox:"0 0 20 22",stroke:"none",fill:"white"}}),(0,e.h)("path",{d:"M13.1738 15.9615C13.7142 15.9615 14.1829 15.802 14.5801 15.483C14.9837 15.1574 15.2962 14.705 15.5176 14.1255C15.7454 13.5461 15.8594 12.8658 15.8594 12.0845C15.8594 11.2968 15.7454 10.6099 15.5176 10.024C15.2962 9.43803 14.9837 8.9823 14.5801 8.65678C14.1829 8.33126 13.7142 8.1685 13.1738 8.1685C12.6335 8.1685 12.1615 8.33126 11.7578 8.65678C11.3542 8.97579 11.0417 9.42827 10.8203 10.0142C10.599 10.6001 10.4883 11.2902 10.4883 12.0845C10.4883 12.8658 10.599 13.5461 10.8203 14.1255C11.0417 14.705 11.3542 15.1574 11.7578 15.483C12.1615 15.802 12.6335 15.9615 13.1738 15.9615ZM6.875 15.9615C7.64323 15.9615 8.27148 15.7531 8.75977 15.3365C9.25456 14.9133 9.50195 14.3729 9.50195 13.7154C9.50195 13.2401 9.35221 12.83 9.05273 12.4849C8.75326 12.1333 8.3724 11.9315 7.91016 11.8794V11.9283C8.28125 11.8632 8.59701 11.6613 8.85742 11.3228C9.12435 10.9843 9.25781 10.5969 9.25781 10.1607C9.25781 9.57475 9.03971 9.09624 8.60352 8.72514C8.17383 8.35405 7.61719 8.1685 6.93359 8.1685C6.34115 8.1685 5.82357 8.3215 5.38086 8.62749C4.93815 8.92697 4.66471 9.31108 4.56055 9.77983C4.54753 9.83842 4.53776 9.89376 4.53125 9.94585C4.52474 9.99793 4.52148 10.05 4.52148 10.1021C4.52148 10.2779 4.57031 10.4211 4.66797 10.5318C4.77214 10.6425 4.90885 10.6978 5.07812 10.6978C5.35156 10.6978 5.54036 10.5448 5.64453 10.2388C5.74219 9.93282 5.89518 9.7017 6.10352 9.54545C6.31185 9.38269 6.57878 9.30131 6.9043 9.30131C7.24935 9.30131 7.52604 9.39572 7.73438 9.58452C7.94922 9.76681 8.05664 10.0077 8.05664 10.3072C8.05664 10.6197 7.94922 10.8801 7.73438 11.0884C7.51953 11.2902 7.23958 11.3912 6.89453 11.3912H6.47461C6.31185 11.3912 6.18164 11.4432 6.08398 11.5474C5.98633 11.6451 5.9375 11.7818 5.9375 11.9576C5.9375 12.1203 5.98633 12.257 6.08398 12.3677C6.18815 12.4719 6.31836 12.524 6.47461 12.524H6.93359C7.35026 12.524 7.67904 12.6281 7.91992 12.8365C8.16081 13.0448 8.28125 13.3215 8.28125 13.6665C8.28125 13.9986 8.14779 14.2785 7.88086 14.5064C7.62044 14.7277 7.28841 14.8384 6.88477 14.8384C6.53971 14.8384 6.25 14.757 6.01562 14.5943C5.78125 14.4315 5.60872 14.1971 5.49805 13.8912C5.43945 13.7284 5.36458 13.6112 5.27344 13.5396C5.18229 13.468 5.07161 13.4322 4.94141 13.4322C4.77865 13.4322 4.64193 13.4875 4.53125 13.5982C4.42708 13.7089 4.375 13.8521 4.375 14.0279C4.375 14.08 4.37826 14.1353 4.38477 14.1939C4.39128 14.246 4.40104 14.2981 4.41406 14.3501C4.51823 14.8059 4.80469 15.19 5.27344 15.5025C5.74219 15.8085 6.27604 15.9615 6.875 15.9615ZM13.1738 14.7798C12.7441 14.7798 12.3991 14.5389 12.1387 14.0572C11.8848 13.5754 11.7578 12.9179 11.7578 12.0845C11.7578 11.2317 11.8848 10.5643 12.1387 10.0826C12.3926 9.59428 12.7376 9.35014 13.1738 9.35014C13.61 9.35014 13.9518 9.59103 14.1992 10.0728C14.4531 10.5546 14.5801 11.2251 14.5801 12.0845C14.5801 12.9179 14.4531 13.5754 14.1992 14.0572C13.9453 14.5389 13.6035 14.7798 13.1738 14.7798ZM9.96094 21.8111C11.3216 21.8111 12.6009 21.5507 13.7988 21.0298C15.0033 20.509 16.0645 19.7928 16.9824 18.8814C17.9004 17.9634 18.6198 16.9022 19.1406 15.6978C19.6615 14.4934 19.9219 13.2108 19.9219 11.8501C19.9219 10.7564 19.7493 9.71147 19.4043 8.71538C19.0592 7.71277 18.5742 6.7948 17.9492 5.96147C17.3242 5.12163 16.5918 4.39897 15.752 3.7935C15.5371 3.63074 15.3125 3.57215 15.0781 3.61772C14.8438 3.65678 14.6647 3.77397 14.541 3.96928C14.4173 4.17111 14.3815 4.37944 14.4336 4.59428C14.4922 4.80913 14.6224 4.99142 14.8242 5.14116C15.5143 5.63595 16.1165 6.2284 16.6309 6.9185C17.1452 7.60861 17.5456 8.37358 17.832 9.21342C18.1185 10.0468 18.2617 10.9257 18.2617 11.8501C18.2617 13.0025 18.0469 14.0832 17.6172 15.0923C17.194 16.0949 16.6016 16.9771 15.8398 17.7388C15.0846 18.494 14.2025 19.0832 13.1934 19.5064C12.1908 19.9361 11.1133 20.1509 9.96094 20.1509C8.80859 20.1509 7.73112 19.9361 6.72852 19.5064C5.72591 19.0832 4.84375 18.494 4.08203 17.7388C3.32682 16.9771 2.73438 16.0949 2.30469 15.0923C1.88151 14.0832 1.66992 13.0025 1.66992 11.8501C1.66992 10.7043 1.88151 9.63009 2.30469 8.62749C2.73438 7.61837 3.32682 6.73621 4.08203 5.981C4.83724 5.21928 5.71615 4.62358 6.71875 4.19389C7.72135 3.7642 8.79883 3.54936 9.95117 3.54936V1.8892C8.59049 1.8892 7.30794 2.14962 6.10352 2.67045C4.9056 3.19129 3.84766 3.91069 2.92969 4.82866C2.01823 5.74663 1.30208 6.80782 0.78125 8.01225C0.260417 9.21017 0 10.4895 0 11.8501C0 13.2108 0.260417 14.4934 0.78125 15.6978C1.30208 16.9022 2.02148 17.9634 2.93945 18.8814C3.85742 19.7928 4.91536 20.509 6.11328 21.0298C7.31771 21.5507 8.60026 21.8111 9.96094 21.8111ZM8.07617 0.697798V5.17045C8.07617 5.51551 8.17708 5.73361 8.37891 5.82475C8.58724 5.90939 8.82487 5.8573 9.0918 5.6685L12.207 3.481C12.4284 3.33126 12.5391 3.15223 12.5391 2.94389C12.5456 2.72905 12.4349 2.5435 12.207 2.38725L9.10156 0.199751C8.82812 0.00443892 8.58724 -0.0476444 8.37891 0.0435014C8.17708 0.128137 8.07617 0.346236 8.07617 0.697798Z"}));var s4=Object.defineProperty,l4=Object.defineProperties,u4=Object.getOwnPropertyDescriptors,lc=Object.getOwnPropertySymbols,j0=Object.prototype.hasOwnProperty,W0=Object.prototype.propertyIsEnumerable,H0=(n,t,r)=>t in n?s4(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,c4=(n,t)=>{for(var r in t||(t={}))j0.call(t,r)&&H0(n,r,t[r]);if(lc)for(var r of lc(t))W0.call(t,r)&&H0(n,r,t[r]);return n},d4=(n,t)=>l4(n,u4(t)),f4=(n,t)=>{var r={};for(var i in n)j0.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&lc)for(var i of lc(n))t.indexOf(i)<0&&W0.call(n,i)&&(r[i]=n[i]);return r};const p4=n=>{var t=n,{fill:r="white"}=t,i=f4(t,["fill"]);return(0,e.h)(L.l,d4(c4({},i),{name:"PodcastEmbedPauseIcon",svgParams:{width:13,height:16,viewBox:"0 0 13 16",stroke:"none",fill:r}}),(0,e.h)("path",{d:"M4 0H1C0.447715 0 0 0.447715 0 1V15C0 15.5523 0.447715 16 1 16H4C4.55228 16 5 15.5523 5 15V1C5 0.447715 4.55228 0 4 0Z"}),(0,e.h)("path",{d:"M11.9998 0H8.99976C8.44747 0 7.99976 0.447715 7.99976 1V15C7.99976 15.5523 8.44747 16 8.99976 16H11.9998C12.552 16 12.9998 15.5523 12.9998 15V1C12.9998 0.447715 12.552 0 11.9998 0Z"}))};var h4=Object.defineProperty,m4=Object.defineProperties,_4=Object.getOwnPropertyDescriptors,uc=Object.getOwnPropertySymbols,V0=Object.prototype.hasOwnProperty,K0=Object.prototype.propertyIsEnumerable,$0=(n,t,r)=>t in n?h4(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,g4=(n,t)=>{for(var r in t||(t={}))V0.call(t,r)&&$0(n,r,t[r]);if(uc)for(var r of uc(t))K0.call(t,r)&&$0(n,r,t[r]);return n},v4=(n,t)=>m4(n,_4(t)),y4=(n,t)=>{var r={};for(var i in n)V0.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&uc)for(var i of uc(n))t.indexOf(i)<0&&K0.call(n,i)&&(r[i]=n[i]);return r};const b4=n=>{var t=n,{fill:r="white"}=t,i=y4(t,["fill"]);return(0,e.h)(L.l,v4(g4({},i),{name:"PodcastEmbedPlayIcon",svgParams:{width:14,height:16,viewBox:"0 0 14 16",stroke:"none",fill:r}}),(0,e.h)("path",{d:"M12.8563 6.71384C13.8273 7.29645 13.8273 8.70372 12.8563 9.28632L2.27174 15.637C1.27196 16.2369 1.11076e-07 15.5167 1.62041e-07 14.3508L7.17238e-07 1.64937C7.68203e-07 0.483426 1.27196 -0.236744 2.27174 0.363129L12.8563 6.71384Z"}))};var P4=Object.defineProperty,E4=Object.defineProperties,w4=Object.getOwnPropertyDescriptors,z0=Object.getOwnPropertySymbols,C4=Object.prototype.hasOwnProperty,O4=Object.prototype.propertyIsEnumerable,gf=(n,t,r)=>t in n?P4(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,S4=(n,t)=>{for(var r in t||(t={}))C4.call(t,r)&&gf(n,r,t[r]);if(z0)for(var r of z0(t))O4.call(t,r)&&gf(n,r,t[r]);return n},T4=(n,t)=>E4(n,w4(t)),vf=(n,t,r)=>(gf(n,typeof t!="symbol"?t+"":t,r),r),I4=(n,t,r)=>new Promise((i,a)=>{var M=B=>{try{F(r.next(B))}catch(Y){a(Y)}},k=B=>{try{F(r.throw(B))}catch(Y){a(Y)}},F=B=>B.done?i(B.value):Promise.resolve(B.value).then(M,k);F((r=r.apply(n,t)).next())});const G0="AudioPlayer.playbackRate",x4=5,Z0={utm_source:"twitter",utm_medium:"social",utm_campaign:"twitter-embed"};class M4 extends e.Component{constructor(t){super(t)}shouldComponentUpdate(t){return this.props.currentPlaybackRate!==t.currentPlaybackRate||this.props.setPlaybackRate!==t.setPlaybackRate}render(){const{currentPlaybackRate:t,setPlaybackRate:r}=this.props;return(0,e.h)("select",{className:"audio-player-playback-rate",dir:"rtl",onInput:i=>r(Number(i.target.value))},(0,e.h)("option",{value:"1",selected:t===1},"1x"),(0,e.h)("option",{value:"1.25",selected:t===1.25},"1.25x"),(0,e.h)("option",{value:"1.5",selected:t===1.5},"1.5x"),(0,e.h)("option",{value:"1.75",selected:t===1.75},"1.75x"),(0,e.h)("option",{value:"2",selected:t===2},"2x"))}}class cc extends e.Component{constructor(t,r){super(t,r),vf(this,"setPlaybackRate",i=>{this.state.playbackRate!==i&&(this.player&&(this.player.playbackRate=i),this.setState({playbackRate:i}),(0,Ai.ex)(G0,i))}),vf(this,"maybeAppendIframeVisitId",i=>{var a;const M=(a=(0,C.A)())==null?void 0:a.id;return M&&(i=(0,p.updateQuery)(i,{src_iid:M})),i}),vf(this,"openEpisodePage",()=>{let i=this.props.post.canonical_url;i=this.maybeAppendIframeVisitId(i),i=(0,p.updateQuery)(i,Z0),window.open(i,"_blank")}),this._onGlobalPlay=this.onGlobalPlay.bind(this),this._onUnload=this.onUnload.bind(this),this._onMouseMove=this.onMouseMove.bind(this),this._onTouchStart=this.onTouchStart.bind(this),this._onTouchMove=this.onTouchMove.bind(this),this._onDragEnd=this.onDragEnd.bind(this),this._onCanPlay=this.onCanPlay.bind(this),this._onPlay=this.onPlay.bind(this),this._onPause=this.onPause.bind(this),this._onTimeUpdate=this.onTimeUpdate.bind(this),this._onRateChange=this.onRateChange.bind(this),this._onWaiting=this.onWaiting.bind(this),this._onPlaying=this.onPlaying.bind(this),this.state={playbackRate:t.playbackRate||(0,Ai.mM)(G0,1),currentTime:0,waiting:!0,duration:t.duration||void 0,lastDragClearedAt:null}}componentDidMount(){var t,r;(t=O.globalPlaybackNotifier)==null||t.on("play",this._onGlobalPlay),typeof window!="undefined"&&window.addEventListener("beforeunload",this._onUnload,!1),document.body&&(document.body.addEventListener("mousemove",this._onMouseMove,!1),document.body.addEventListener("mouseup",this._onDragEnd,!1),document.body.addEventListener("touchmove",this._onTouchMove,{passive:!1}),document.body.addEventListener("touchend",this._onDragEnd,!1),document.body.addEventListener("touchcancel",this._onDragEnd,!1)),this.player&&(this.player.volume=1,this.player.playbackRate=this.state.playbackRate,this.player.addEventListener("canplay",this._onCanPlay),this.player.addEventListener("play",this._onPlay),this.player.addEventListener("pause",this._onPause),this.player.addEventListener("timeupdate",this._onTimeUpdate),this.player.addEventListener("ratechange",this._onRateChange),this.player.addEventListener("waiting",this._onWaiting),this.player.addEventListener("playing",this._onPlaying)),this.progressBar&&this.progressBar.addEventListener("touchstart",this._onTouchStart,{passive:!0}),this.onTimeUpdate(),this.props.onGetDuration&&!isNaN((r=this.player)==null?void 0:r.duration)&&this.props.onGetDuration(this.player.duration),(0,O.preloadImage)((0,p.imginary)("/img/audio-player-pause.png",96))}componentWillUnmount(){var t;(t=O.globalPlaybackNotifier)==null||t.off("play",this._onGlobalPlay),typeof window!="undefined"&&window.removeEventListener("beforeunload",this._onUnload,!1),document.body&&(document.body.removeEventListener("mousemove",this._onMouseMove,!1),document.body.removeEventListener("mouseup",this._onDragEnd,!1),document.body.removeEventListener("touchmove",this._onTouchMove,!1),document.body.removeEventListener("touchend",this._onDragEnd,!1),document.body.removeEventListener("touchcancel",this._onDragEnd,!1)),this.player&&(this.player.removeEventListener("canplay",this._onCanPlay),this.player.removeEventListener("play",this._onPlay),this.player.removeEventListener("pause",this._onPause),this.player.removeEventListener("timeupdate",this._onTimeUpdate),this.player.removeEventListener("ratechange",this._onRateChange),this.player.removeEventListener("waiting",this._onWaiting),this.player.removeEventListener("playing",this._onPlaying)),this.progressBar&&this.progressBar.removeEventListener("touchstart",this._onTouchStart)}componentDidUpdate(t,r){!this.state.playing&&typeof this.state.waiting=="number"&&typeof r.waiting!="number"&&this.track(C.FP.AUDIO_BUFFERING_STARTED),this.state.playing&&!r.playing&&!this.state.waiting&&typeof r.waiting=="number"&&this.track(C.FP.AUDIO_BUFFERING_COMPLETED,{buffering_duration:Date.now()-r.waiting}),this.state.playing&&Math.floor(this.state.currentTime)!==Math.floor(r.currentTime)&&Math.floor(this.state.currentTime)%x4===0&&this.track(C.FP.AUDIO_PLAYBACK_CONTINUED,{current_time:Math.floor(this.state.currentTime),feature:this.props.feature}),!this.state.playing&&r.playing&&this.player&&this.player.ended&&this.track(C.FP.AUDIO_PLAYBACK_COMPLETE)}onCanPlay(){this.props.onGetDuration&&this.props.onGetDuration(this.player.duration),this.onTimeUpdate()}onPlay(){var t;(t=O.globalPlaybackNotifier)==null||t.emit("play",this),this.setState({playing:!0})}onPause(){this.setState({playing:!1,waiting:!1})}onTimeUpdate(){if(!(!this.player||!isFinite(this.player.duration))){if(this.player.currentTime>this.player.duration){this.player.currentTime=this.player.duration;return}this.state.duration!==this.player.duration||this.state.currentTime!==this.player.currentTime?(this.setState({duration:this.player.duration||this.props.duration,currentTime:this.player.currentTime,waiting:!1}),this.props.onTimeUpdate&&this.props.onTimeUpdate({duration:Math.max(this.state.duration||0,this.player.duration||this.props.duration||0),currentTime:this.player.currentTime})):this.setState({waiting:!1})}}onRateChange(){this.player&&this.state.playbackRate!==this.player.playbackRate&&this.setState({playbackRate:this.player.playbackRate})}onWaiting(){this.setState({waiting:Date.now()})}onPlaying(){this.setState({playing:!0,waiting:!1})}onMouseDown(t){this.onDragStart(t.clientX)}onMouseMove(t){this.onDragMove(t.clientX)}onTouchStart(t){t.touches&&t.touches.length>0&&this.onDragStart(t.touches[0].pageX)}onTouchMove(t){typeof this.state.dragTime=="number"&&t.preventDefault(),t.touches&&t.touches.length>0&&this.onDragMove(t.touches[0].pageX)}onDragStart(t){typeof this.state.dragTime!="number"&&this.setDragTime(t)}onDragMove(t){typeof this.state.dragTime=="number"&&this.setDragTime(t)}onDragEnd(){this.clearDragTime()}onUnload(t){this.state.playing&&(t.returnValue="If you close this the audio will stop. Are you sure you want to navigate away from this page?")}onGlobalPlay(t){this!==t&&this.player&&(this.track(C.FP.CLICKED_PAUSE_BUTTON,{implicit:!0,feature:this.props.feature}),this.player.pause())}togglePlayback(){return I4(this,null,function*(){if(this.player)if(this.player.paused){this.track(C.FP.CLICKED_PLAY_BUTTON,{feature:this.props.feature});try{yield this.player.play()}catch(t){if(t.name==="NotSupportedError")alert("Failed to play this media: it may not be supported by this browser.");else throw t}}else this.track(C.FP.CLICKED_PAUSE_BUTTON,{feature:this.props.feature}),yield this.player.pause()})}skipBack(){if(this.player){const t=Math.max(0,this.state.currentTime-15);this.track(C.FP.SEEKED_AUDIO,{new_time:t,source:"skip"}),this.player.currentTime=t}}skipForward(){if(this.player){const t=Math.min(this.state.duration,this.state.currentTime+30);this.track(C.FP.SEEKED_AUDIO,{new_time:t,source:"skip"}),this.player.currentTime=t}}setDragTime(t){if(!this.props.src||!this.state.duration||!this.player||!document.body||!document.body.getBoundingClientRect)return;const r=document.body.getBoundingClientRect(),i=this.progressBar.getBoundingClientRect(),a=i.left-r.left,M=i.right;let F=(Math.max(a,Math.min(M,t))-a)/(M-a)*this.state.duration;this.isDragTimeCloseToCurrentTime(F)&&(F=this.state.currentTime),this.setState({dragTime:F})}clearDragTime(){if(typeof this.state.dragTime!="number")return;const t=this.state.dragTime;this.track(C.FP.SEEKED_AUDIO,{new_time:t,source:"slider"}),this.isDragTimeCloseToCurrentTime(t)?this.setState({dragTime:null}):(this.setState({currentTime:t,dragTime:null,lastDragClearedAt:performance.now()}),this.player&&(this.player.currentTime=t))}isDragTimeCloseToCurrentTime(t){if(typeof this.state.currentTime!="number")return!1;let r;return this.state.duration<10?r=0:this.state.duration<30?r=3:r=5,Math.abs(this.state.currentTime-t)<r}track(t,r={}){const i=this.props.metricsPost;i&&(0,C.j)(t,Object.assign({post_id:i.id,publication_id:i.publication_id,is_podcast_free_preview:(0,li.podcastPostIsFreePreview)(i),current_time:this.state.currentTime?Math.floor(this.state.currentTime):0,duration:this.state.duration?Math.floor(this.state.duration):0,playback_rate:this.state.playbackRate},r))}render({src:t,autoPlay:r,pub:i,post:a,isFancy:M,showCTAs:k,metricsPost:F,addToPodcastLink:B,isPaywalled:Y,render:ge}){if(ge){const{dragTime:Ce,duration:Se,currentTime:Ue,playbackRate:Ye}=this.state;return(0,e.h)(e.Fragment,null,ge({isPaywalled:Y,progress:Se?(typeof Ce=="number"?Ce:Ue)/Se:0,currentTime:Se?(0,nn.secondsToHHMMSS)(Ue):"--:--",remainingTime:Se?`-${(0,nn.secondsToHHMMSS)(Se-Math.min(Ue,Se))}`:"--:--",isPlaying:this.state.playing,playbackRate:Ye,progressBarOnMouseDown:Ve=>{this.onMouseDown(Ve)},progressBarRef:Ve=>{this.progressBar=Ve},setPlaybackRate:Ve=>{this.setPlaybackRate(Ve)},skipBack:()=>{this.skipBack()},skipForward:()=>{this.skipForward()},togglePlayback:()=>{this.togglePlayback()}}),t&&!Y&&(0,e.h)("audio",{ref:Ve=>{this.player=Ve},src:t,autoPlay:r},"Audio playback is not supported on your browser. Please upgrade."))}return M?this.renderFancy({src:t,autoPlay:r,pub:i,post:a,metricsPost:F,showCTAs:k}):this.renderOriginal({src:t,autoPlay:r,pub:i,metricsPost:F,addToPodcastLink:B})}renderFancy({src:t,autoPlay:r,pub:i,post:a,showCTAs:M}){const k=(0,O.getPodcastEpisodeImageUrl)(i,a);return(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"audio-player-wrapper-fancy"},(0,e.h)("div",{className:"audio-player"},(0,e.h)("div",{className:"audio-player-substack-logo audio-player-clickable",onClick:this.openEpisodePage},(0,e.h)(oe.Z,{color:"#F8F8F8"})),(0,e.h)("div",{className:"audio-player-hero-image-container audio-player-clickable",onClick:this.openEpisodePage},k&&(0,e.h)("img",{className:"audio-player-hero-image audio-player-clickable",src:(0,p.imginary)(k,500,{height:500,crop:"fill"}),onClick:this.openEpisodePage})),(0,e.h)("div",{className:"audio-player-title audio-player-clickable",onClick:this.openEpisodePage},a.title),(0,e.h)("div",{className:"audio-player-subtitle audio-player-clickable",onClick:this.openEpisodePage},a.subtitle),t&&(0,e.h)("audio",{"data-testid":"audio-element",ref:F=>this.player=F,src:t,autoPlay:r},"Audio playback is not supported on your browser. Please upgrade."),this.renderProgressFancy(this.props,this.state),this.renderButtonsFancy(this.props,this.state),M&&(0,e.h)("div",{className:"btn-group"},(0,e.h)($t.Z,{className:"bold text-gray-foreground",newTab:!0,onClick:this.openEpisodePage},"View post"),(0,e.h)($t.Z,{className:"primary bold subscribe-btn",href:this.maybeAppendIframeVisitId((0,p.getSubscribeUrl)(i,T4(S4({},Z0),{simple:!0,next:(0,p.getPostUrl)(i,a)}))),newTab:!0},(0,nn.getSubscribeText)(i))))))}renderOriginal({src:t,autoPlay:r,pub:i,addToPodcastLink:a}){return(0,e.h)("div",{className:"audio-player-wrapper"},(0,e.h)("div",{className:"audio-player"},t&&(0,e.h)("audio",{ref:M=>this.player=M,src:t,autoPlay:r},"Audio playback is not supported on your browser. Please upgrade."),this.renderButtons(this.props,this.state),this.renderProgress(this.props,this.state)),a&&!i.hide_podcast_feed_link&&(0,e.h)("div",{className:"audio-player-add-to-podcast-link",href:a},(0,e.h)("a",{href:a,target:"_blank",rel:"noopener"},"Listen in podcast app")))}renderButtonsFancy({src:t,href:r},{playing:i,waiting:a,playbackRate:M}){return(0,e.h)("div",{className:"audio-player-buttons"},(0,e.h)("button",{className:"audio-player-backward","aria-pressed":"false",onClick:()=>this.skipBack()},(0,e.h)(mf,{className:"skip-icon"})),(0,e.h)("button",{className:l()("audio-player-play",{pause:"playing",waiting:a}),"aria-pressed":"false",onClick:()=>this.togglePlayback()},i?(0,e.h)(p4,{className:"playback-icon pause",fill:"#1C110B"}):(0,e.h)(b4,{className:"playback-icon play",fill:"#1C110B"})),(0,e.h)("button",{className:"audio-player-forward","aria-pressed":"false",onClick:()=>this.skipForward()},(0,e.h)(_f,{className:"skip-icon"})))}renderButtons({src:t,href:r,isStatic:i},{playing:a,waiting:M,playbackRate:k}){return(0,e.h)("div",{className:"audio-player-buttons"},(0,e.h)("table",{className:"custom"},(0,e.h)("tr",null,(0,e.h)("td",{className:"audio-player-buttons-spacing"},"\xA0"),(0,e.h)("td",{className:"audio-player-backward"},(0,e.h)("a",{role:"button",className:"button",tabIndex:"0","aria-pressed":"false",href:r||"javascript:void(0)",onClick:()=>this.skipBack()},(0,e.h)(mf,{className:"skip-icon",fill:"#3c3c3c",height:"30",isStatic:i}))),(0,e.h)("td",{className:`audio-player-play ${a?"pause":""} ${M?"waiting":""}`},(0,e.h)("a",{className:"button",role:"button",tabIndex:"0","aria-pressed":"false",href:r||"javascript:void(0)",onClick:()=>this.togglePlayback()},(0,e.h)("img",{src:(0,p.imginary)(a?"/img/audio-player-pause.png":"/img/audio-player-play.png",96)}))),(0,e.h)("td",{className:"audio-player-forward"},(0,e.h)("a",{role:"button",className:"button",tabIndex:"0","aria-pressed":"false",href:r||"javascript:void(0)",onClick:()=>this.skipForward()},(0,e.h)(_f,{className:"skip-icon",fill:"#3c3c3c",height:"30",isStatic:i}))),(0,e.h)("td",{className:"audio-player-buttons-spacing"},"\xA0"))),t&&(0,e.h)(M4,{currentPlaybackRate:k,setPlaybackRate:this.setPlaybackRate}))}renderProgress({},{duration:t,currentTime:r,dragTime:i}){return(0,e.h)("div",{className:"audio-player-progress"},(0,e.h)("table",{className:"custom"},(0,e.h)("tr",null,(0,e.h)("td",{className:"audio-player-progress-past"},t?(0,nn.secondsToHHMMSS)(r):"--:--"),(0,e.h)("td",{ref:a=>this.progressBar=a,className:"audio-player-progress-bar",onMouseDown:a=>this.onMouseDown(a)},(0,e.h)("div",{className:"audio-player-progress-bar-track"}),(0,e.h)("div",{className:"audio-player-progress-bar-filled",style:`width:${t?100*(typeof i=="number"?i:r)/t:0}%`}),(0,e.h)("div",{className:"audio-player-progress-bar-current",style:`left:${t?100*r/t:0}%`}),(0,e.h)("div",{className:"audio-player-progress-bar-button",style:`left:${t?100*(typeof i=="number"?i:r)/t:0}%`}),typeof i=="number"&&(0,e.h)("div",{className:"audio-player-progress-bar-popup",style:`left:${t?100*i/t:0}%`},(0,nn.secondsToHHMMSS)(i))),(0,e.h)("td",{className:"audio-player-progress-left"},t?`-${(0,nn.secondsToHHMMSS)(t-Math.min(r,t))}`:"--:--"))))}renderProgressFancy({},{duration:t,currentTime:r,dragTime:i,lastDragClearedAt:a}){const M=typeof i=="number",k=a?performance.now()-a<50:!1;return(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"audio-player-progress"},(0,e.h)("div",{ref:F=>this.progressBar=F,className:"audio-player-progress-bar",onMouseDown:F=>this.onMouseDown(F)},(0,e.h)("div",{className:"audio-player-progress-bar-track"}),(0,e.h)("div",{className:"audio-player-progress-bar-filled",style:{width:`${t?100*(M?i:r)/t:0}%`}}),(0,e.h)("div",{className:l()("audio-player-progress-bar-current",{"audio-player-progress-bar-current-placeholder":M,"audio-player-progress-bar-current-disable-animations":k}),style:`left:${t?100*r/t:0}%`}),M&&(0,e.h)("div",{className:"audio-player-progress-bar-current audio-player-progress-bar-current-dragging",style:`left:${t?100*i/t:0}%`}),M&&(0,e.h)("div",{className:"audio-player-progress-bar-popup",style:`left:${t?100*i/t:0}%`},(0,nn.secondsToHHMMSS)(i)))),(0,e.h)("div",{className:"audio-player-time-wrapper"},(0,e.h)("div",{className:"audio-player-progress-past"},t?(0,nn.secondsToHHMMSS)(r):"--:--"),(0,e.h)("div",{className:"audio-player-progress-left"},t?`-${(0,nn.secondsToHHMMSS)(t-Math.min(r,t))}`:"--:--")))}}var D4=Object.defineProperty,A4=Object.defineProperties,N4=Object.getOwnPropertyDescriptors,Y0=Object.getOwnPropertySymbols,R4=Object.prototype.hasOwnProperty,L4=Object.prototype.propertyIsEnumerable,J0=(n,t,r)=>t in n?D4(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,B4=(n,t)=>{for(var r in t||(t={}))R4.call(t,r)&&J0(n,r,t[r]);if(Y0)for(var r of Y0(t))L4.call(t,r)&&J0(n,r,t[r]);return n},k4=(n,t)=>A4(n,N4(t));const U4=n=>(0,e.h)(L.l,k4(B4({},n),{name:"PlayIconRound",svgParams:{height:24,width:24}}),(0,e.h)("path",{className:"outer-circle",d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{className:"inner-triangle",d:"M10 8L16 12L10 16V8Z","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}));var F4=Object.defineProperty,j4=Object.defineProperties,W4=Object.getOwnPropertyDescriptors,X0=Object.getOwnPropertySymbols,H4=Object.prototype.hasOwnProperty,V4=Object.prototype.propertyIsEnumerable,Q0=(n,t,r)=>t in n?F4(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,K4=(n,t)=>{for(var r in t||(t={}))H4.call(t,r)&&Q0(n,r,t[r]);if(X0)for(var r of X0(t))V4.call(t,r)&&Q0(n,r,t[r]);return n},$4=(n,t)=>j4(n,W4(t));const Ll=n=>(0,e.h)(L.l,$4(K4({},n),{name:"PlayIconRounded",svgParams:{height:16,width:15}}),(0,e.h)("path",{d:"M14 7.13397C14.6667 7.51887 14.6667 8.48112 14 8.86602L2 15.7942C1.33333 16.1791 0.499999 15.698 0.499999 14.9282L0.5 1.0718C0.5 0.301996 1.33333 -0.17913 2 0.20577L14 7.13397Z"}));var z4=Object.defineProperty,G4=Object.defineProperties,Z4=Object.getOwnPropertyDescriptors,q0=Object.getOwnPropertySymbols,Y4=Object.prototype.hasOwnProperty,J4=Object.prototype.propertyIsEnumerable,e_=(n,t,r)=>t in n?z4(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,X4=(n,t)=>{for(var r in t||(t={}))Y4.call(t,r)&&e_(n,r,t[r]);if(q0)for(var r of q0(t))J4.call(t,r)&&e_(n,r,t[r]);return n},Q4=(n,t)=>G4(n,Z4(t));const q4=n=>(0,e.h)(L.l,Q4(X4({},n),{name:"VoiceoverIcon",svgParams:{height:24,width:24,viewBox:"0 0 24 24"},fill:"none"}),(0,e.h)("path",{d:"M11.8518 3.31518C12.2459 4.26329 13.551 7.10985 14.4542 8.3467C15.3764 9.60967 12.8285 9.95184 12 10.5","stroke-width":"1.5","stroke-linecap":"round"}),(0,e.h)("path",{d:"M12 10.5C12 10.5 12.4662 11.2332 12.7627 11.7326C13.0592 12.232 13 12.5 11.5 13C10.7772 13.2409 9.5 13.5 9.5 13.5C10.3447 13.9272 12.2664 14.1393 12.4041 14.3167C12.763 14.779 12.3241 15.4618 11.8617 15.8208C11.3994 16.1797 12.0724 18.7353 10.5 19.5C8.9276 20.2647 5.70772 19.432 3 18","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M18.5 6.5L20.3544 4.8526","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M18.5 15.5L20.3544 17.2545","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M19.5 11.0326L22 11.0326","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})),eI={themedSelectOption:"frontend-components-audio-module__themedSelectOption--z_3gS",noUnderline:"frontend-components-audio-module__noUnderline--mBrri",podcastPaywallMenuButton:"frontend-components-audio-module__podcastPaywallMenuButton--chnEy",paywallMenuDropdown:"frontend-components-audio-module__paywallMenuDropdown--GChUY",paywallMenuDropdownItem:"frontend-components-audio-module__paywallMenuDropdownItem--vuDTY",paywallMenuDropdownIcon:"frontend-components-audio-module__paywallMenuDropdownIcon--P1zWf",paywallMenuDropdownItemTop:"frontend-components-audio-module__paywallMenuDropdownItemTop--uMMr8",paywallMenuDropdownDeleteItem:"frontend-components-audio-module__paywallMenuDropdownDeleteItem--b8UQR"};var tI=Object.defineProperty,nI=Object.defineProperties,rI=Object.getOwnPropertyDescriptors,t_=Object.getOwnPropertySymbols,oI=Object.prototype.hasOwnProperty,iI=Object.prototype.propertyIsEnumerable,n_=(n,t,r)=>t in n?tI(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,r_=(n,t)=>{for(var r in t||(t={}))oI.call(t,r)&&n_(n,r,t[r]);if(t_)for(var r of t_(t))iI.call(t,r)&&n_(n,r,t[r]);return n},o_=(n,t)=>nI(n,rI(t)),aI=(n=>(n.Embed="Embed audio",n.Voiceover="Add voiceover",n.Podcast="Podcast",n.PodcastPreview="Podcast free version",n))(aI||{}),sI=(n=>(n.Embed="Upload or record an audio file embedded into the text.",n.Voiceover="Upload or record a new voiceover: an audio version of your post.",n.Podcast="Create a new podcast episode by uploading or recording an audio file.",n.PodcastPreview="Upload a file that will appear to free users on the website and in their feeds.",n))(sI||{}),lI=(n=>(n[n.PubAccent=0]="PubAccent",n[n.PubFull=1]="PubFull",n[n.Substack=2]="Substack",n))(lI||{});const yf=({containerRef:n,currentTime:t,remainingTime:r,progress:i,onMouseDown:a,shouldCollapseOnMobile:M=!1,theme:k=1})=>(0,e.h)("div",{className:"tw-flex tw-grow tw-items-center tw-gap-3 tw-font-meta tw-text-sm tw-text-pub-secondary-text sm:tw-gap-3"},(0,e.h)("div",{className:l()("tw-min-w-[40px] tw-text-right",{"tw-hidden sm:tw-block":M})},t),(0,e.h)("div",{ref:n,className:l()("tw-relative tw-h-5 tw-grow ",{"tw-ml-2 sm:tw-ml-0":M}),onMouseDown:a},(0,e.h)("div",{className:l()("audio-progress-bar tw-absolute tw-top-2 tw-right-0 tw-left-0 tw-h-1 tw-rounded",{"tw-bg-pub-detail":k===1,"tw-bg-substack-detail":k!==1})}),(0,e.h)("div",{className:l()("tw-absolute tw-top-2 tw-left-0 tw-h-1 tw-rounded-l-full",{"tw-bg-pub-accent":k!==2,"tw-bg-substack-accent":k===2}),style:{width:`${i*100}%`}}),(0,e.h)("div",{className:l()("audio-playhead tw-absolute tw-ml-[-10px] tw-h-4 tw-w-4 tw-rounded-full tw-border-2 tw-border-solid ",{"tw-border-pub-background":k===1,"tw-border-substack-bg":k!==1,"tw-bg-substack-accent":k===2,"tw-bg-pub-accent":k!==2}),style:{left:`${i*100}%`}})),(0,e.h)("div",{className:"tw-min-w-[40px]"},r)),dc=[{value:1,display:"1"},{value:1.25,display:"1.25"},{value:1.5,display:"1.5"},{value:1.75,display:"1.75"},{value:2,display:"2"}],bf=({onSetPlaybackRate:n,playbackRate:t,className:r})=>{const i=dc.findIndex(({value:a})=>a===t);return(0,e.h)("div",{onClick:()=>{const a=(i+1)%dc.length;n(dc[a].value)},className:r},dc[i].display,"\xD7")},l$=({togglePlayback:n,isPlaying:t,isDisabled:r=!1})=>h("div",{onClick:()=>{track(EVENTS.AUDIO_MODAL_PLAYPAUSE_CLICKED,{is_disabled:r}),r||n()},className:"tw-flex tw-justify-center tw-pb-8"},t?h("div",{className:"tw-flex tw-h-7 tw-w-6 tw-justify-between"},h("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"}),h("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"})):h(PlayIconRounded,{className:cn("tw-relative tw-left-1",{"tw-cursor-pointer":!r,"tw-fill-pub-accent":!r,"tw-fill-substack-detail":r}),stroke:"none",height:28})),uI=({isPlaying:n,onSkipBack:t,onSkipForward:r,onTogglePlayback:i})=>(0,e.h)("div",{className:"tw-flex tw-items-center tw-justify-center tw-gap-4"},t&&(0,e.h)("div",{onClick:t,role:"button",className:"tw-cursor-pointer"},(0,e.h)(mf,{className:"tw-block tw-fill-pub-primary-text tw-transition-opacity sm:tw-opacity-70 sm:hover:tw-opacity-100"})),(0,e.h)("div",{className:l()("tw-relative tw-flex tw-h-16 tw-w-16 tw-cursor-pointer tw-items-center tw-justify-center tw-rounded-full tw-bg-pub-accent tw-transition-transform hover:tw-scale-105"),onClick:i,role:"button"},n?(0,e.h)("div",{className:"tw-flex tw-h-6 tw-w-6 tw-justify-between"},(0,e.h)("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent-inverse"}),(0,e.h)("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent-inverse"})):(0,e.h)(Ll,{className:"tw-relative tw-left-0.5 tw-fill-pub-accent-inverse",stroke:"none",height:24})),r&&(0,e.h)("div",{onClick:r,role:"button",className:"tw-cursor-pointer"},(0,e.h)(_f,{className:"tw-block tw-fill-pub-primary-text tw-transition-opacity sm:tw-opacity-70 sm:hover:tw-opacity-100"}))),i_=n=>(0,e.h)(cc,o_(r_({},n),{metricsPost:n.post,feature:"Embed audio",render:({currentTime:t,isPlaying:r,progress:i,progressBarRef:a,progressBarOnMouseDown:M,remainingTime:k,playbackRate:F,setPlaybackRate:B,togglePlayback:Y})=>(0,e.h)("div",{"data-component-name":"AudioEmbedPlayer","data-drag-handle":"",className:"audio-embed tw-my-4 tw-box-border tw-flex tw-w-full tw-select-none tw-items-center tw-gap-4 tw-space-y-0 tw-rounded-full tw-bg-pub-wash tw-p-4 tw-font-sans sm:tw-gap-5"},(0,e.h)(bf,{onSetPlaybackRate:B,playbackRate:F,className:"audio-button tw-w-12 tw-cursor-pointer tw-rounded-full tw-border tw-border-solid tw-border-pub-detail-light tw-py-1 tw-text-center tw-font-meta tw-text-sm tw-font-semibold tw-leading-none tw-text-pub-secondary-text hover:tw-border-pub-detail"}),(0,e.h)("div",{className:"tw-flex tw-w-full tw-flex-wrap"},n.label&&(0,e.h)("div",{className:"tw-basis-full tw-pb-2 tw-text-ssm tw-font-semibold tw-text-pub-primary-text"},n.label),(0,e.h)("div",{className:"tw-flex tw-w-full tw-items-center tw-justify-between tw-gap-2 sm:tw-gap-4"},(0,e.h)(yf,{currentTime:t,remainingTime:k,containerRef:a,progress:i,onMouseDown:M}))),(0,e.h)("div",{className:"audio-embed-play-button tw-relative tw-flex tw-h-12 tw-w-12 tw-shrink-0 tw-cursor-pointer tw-items-center tw-justify-center tw-rounded-full tw-border-2 tw-border-solid tw-border-pub-detail tw-bg-pub-background tw-transition-transform hover:tw-scale-105",onClick:Y,role:"button"},r?(0,e.h)("div",{className:"tw-flex tw-h-5 tw-w-4 tw-justify-between"},(0,e.h)("div",{className:"pause-icon tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"}),(0,e.h)("div",{className:"pause-icon tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"})):(0,e.h)(Ll,{className:"tw-relative tw-left-[.1rem] tw-fill-pub-accent",stroke:"none",height:18})))})),a_=({pub:n,post:t,duration:r,label:i})=>{var a;const{iString:M}=(0,P.M1)();return(0,e.h)("table",{"data-component-name":"AudioEmbedPlayerStatic",className:"tw-w-full tw-rounded-full tw-bg-substack-wash"},(0,e.h)("tr",null,(0,e.h)("td",{className:"tw-text-center tw-font-meta tw-text-ssm tw-uppercase tw-text-substack-primary"},(0,e.h)("a",{href:t.canonical_url,className:l()("tw-block tw-w-full tw-p-4 tw-text-substack-primary",eI.noUnderline)},(0,e.h)(U4,{className:"tw-w-max-4 tw-mr-2 tw-inline-block tw-w-4 tw-align-middle",stroke:(a=n.theme)==null?void 0:a.background_pop_color,isStatic:!0}),(0,e.h)("span",{className:"tw-align-middle"},(0,nn.truncateText)(i,10)||M("Listen now")," \xB7 ",(0,nn.secondsToHHMMSS)(r))))))},cI=n=>{const t=(0,Nr.useMediaQuery)({maxWidth:631}),r=`/api/v1/audio/upload/${n.mediaUploadId}/src`,{iString:i,iTemplate:a}=(0,P.M1)();return(0,e.h)(cc,o_(r_({},n),{src:r,feature:"Add voiceover",metricsPost:n.post,render:({isPaywalled:M,currentTime:k,isPlaying:F,progress:B,progressBarRef:Y,progressBarOnMouseDown:ge,remainingTime:Ce,playbackRate:Se,setPlaybackRate:Ue,togglePlayback:Ye})=>(0,e.h)("div",{className:"tw-mb-6 tw-flex sm:tw-gap-1"},(0,e.h)("div",{className:"tw-hidden tw-h-20 tw-shrink-0 tw-basis-20 tw-items-center tw-justify-center tw-rounded-md tw-bg-pub-wash tw-fill-pub-primary-text tw-text-pub-primary-text sm:tw-flex"},(0,e.h)(q4,{className:"tw-stroke-pub-secondary-text"})),(0,e.h)("div",{className:"tw-box-border tw-flex tw-h-20 tw-w-full tw-select-none tw-items-center tw-gap-3 tw-space-y-0 tw-rounded-l-md tw-rounded-r-[64px] tw-bg-pub-wash  tw-p-4 tw-font-sans"},M?(0,e.h)("div",{className:"tw-flex tw-w-full tw-flex-wrap tw-justify-center tw-text-ssm tw-text-pub-secondary-text sm:tw-text-sm"},i("Upgrade to paid to play voiceover")):(0,e.h)("div",{className:"tw-flex tw-w-full tw-flex-wrap"},(0,e.h)("div",{className:"tw-basis-full tw-pb-2 tw-text-ssm tw-font-semibold tw-uppercase tw-text-pub-secondary-text"},i("Article voiceover")),(0,e.h)("div",{className:"tw-flex tw-w-full tw-items-center tw-justify-between tw-gap-2 "},(0,e.h)(bf,{onSetPlaybackRate:Ue,playbackRate:Se,className:"tw-w-12 tw-cursor-pointer tw-rounded-full tw-border tw-border-solid tw-border-pub-detail-light tw-py-1 tw-text-center tw-font-meta tw-text-sm tw-font-semibold tw-leading-none tw-text-pub-secondary-text hover:tw-border-pub-detail"}),(0,e.h)(yf,{currentTime:k,remainingTime:Ce,containerRef:Y,progress:B,onMouseDown:ge,shouldCollapseOnMobile:!0}))),M?(0,e.h)("div",{className:"tw-relative tw-flex tw-h-14 tw-w-14 tw-shrink-0 tw-cursor-not-allowed tw-items-center tw-justify-center tw-rounded-full tw-border-2 tw-border-solid tw-border-pub-detail tw-bg-pub-background tw-transition-transform"},(0,e.h)(Ll,{className:"tw-relative tw-left-[.15rem] tw-fill-pub-detail",stroke:"none",height:t?20:24})):(0,e.h)("div",{className:"tw-relative tw-flex tw-h-14 tw-w-14 tw-shrink-0 tw-cursor-pointer tw-items-center tw-justify-center tw-rounded-full tw-border-2 tw-border-solid  tw-border-pub-detail tw-bg-pub-background tw-transition-transform hover:tw-scale-105",onClick:Ye,role:"button"},F?(0,e.h)("div",{className:"tw-flex tw-h-5 tw-w-5 tw-justify-between"},(0,e.h)("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"}),(0,e.h)("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"})):(0,e.h)(Ll,{className:"tw-relative tw-left-[.15rem] tw-fill-pub-accent",stroke:"none",height:20}))))}))},u$=({pub:n,post:t,isPaywalled:r})=>{var i,a,M;const k=r?"Upgrade to paid for post voiceover":`Listen to post ${((i=t.voiceoverUpload)==null?void 0:i.duration)&&`\xB7 ${secondsToHHMMSS(t.voiceoverUpload.duration)}`}`;return h("table",{className:"voiceover-player-static tw-w-full tw-rounded-full tw-bg-substack-wash"},h("tr",null,h("td",{className:"tw-text-center tw-font-meta tw-text-ssm tw-uppercase tw-text-substack-primary"},h("a",{href:`${Substitutions.PLAY_ON_SUBSTACK}&utm_source=substack&utm_medium=email#play`,className:cn("tw-block tw-w-full tw-p-4 tw-text-substack-primary",css.noUnderline)},h(PlayIconRound,{className:"tw-w-max-4 tw-mr-2 tw-inline-block tw-h-auto tw-w-4 tw-align-middle",stroke:r?(a=n.theme)==null?void 0:a.background_contrast_3:(M=n.theme)==null?void 0:M.background_pop_color,isStatic:!0}),h("span",{className:"voiceover-player-static-cta tw-align-middle"},k)))))},c$=({isOpen:n,onDismiss:t,onDeleteAudio:r})=>h(Modal,{isOpen:n,onClose:t},h(ModalHeader,{includeClose:!1,title:"Something went wrong..."}),h(ModalBody,null,"Unfortunately, there was a problem with your audio file upload. We'll investigate, but in the meantime, please try again, and we apologize for the inconvenience."),h(ModalFooter,{includeDivider:!1,alignment:"default",primaryButton:h(DeprecatedButton,{onClick:r,variant:"primary"},"Got it")}));var dI=(n,t,r)=>new Promise((i,a)=>{var M=B=>{try{F(r.next(B))}catch(Y){a(Y)}},k=B=>{try{F(r.throw(B))}catch(Y){a(Y)}},F=B=>B.done?i(B.value):Promise.resolve(B.value).then(M,k);F((r=r.apply(n,t)).next())});const fI=n=>parseFloat(n).toFixed(2),pI=({symbol:n,prependSymbol:t=!1,isStatic:r=!1})=>{const i=`/api/v1/price/${n}`,[a,M]=(0,o.eJ)(null),[k,F]=(0,o.eJ)(null),[B,Y]=(0,o.eJ)(!1);return(0,o.d4)(()=>{(()=>dI(void 0,null,function*(){try{const Ce=yield jn().get(i);if(Ce.body){if(Ce.body.status==="not_found"){Y(!0);return}M(Ce.body.price),F(Ce.body.change_pct)}}catch(Ce){Y(!0)}}))()},[i]),!t&&n.startsWith("$")&&(n=n.slice(1)),r?(0,e.h)("span",null,(0,e.h)("a",{"data-component-name":"CashtagStatic",href:`${(0,p.getStockLandingUrl)(n)}`},n," ")):B?(0,e.h)("span",null,n," "):(0,e.h)("a",{className:l()("cashtag",{neutral:k==0,positive:k&&parseFloat(k)>0,negative:k&&parseFloat(k)<0}),target:"_blank",rel:"noopener",href:`${(0,p.getStockLandingUrl)(n)}`,"data-attrs":JSON.stringify({symbol:n}),"data-component-name":"Cashtag"},`${n.toUpperCase()} `,(0,e.h)("span",null,(0,e.h)("span",null,(0,e.h)("span",{className:l()("delta")},`${fI(k||0)}%`,!k||parseFloat(k)>0?String.fromCharCode(8593):String.fromCharCode(8595)))))};var s_=Et(14531),hI=Et(91036),l_=Et.n(hI);const Lo={digestPostEmbed:"frontend-components-DigestPostEmbed-index-module__digestPostEmbed--Ig8_w",menu:"frontend-components-DigestPostEmbed-index-module__menu--Bz7Fv",caption:"frontend-components-DigestPostEmbed-index-module__caption--YO4hv",captionEditor:"frontend-components-DigestPostEmbed-index-module__captionEditor--B5QxT",smSquare:"frontend-components-DigestPostEmbed-index-module__smSquare--iauxz",mdSquare:"frontend-components-DigestPostEmbed-index-module__mdSquare--KEbmN",fullWidth:"frontend-components-DigestPostEmbed-index-module__fullWidth--R2y7M",inheritColor:"frontend-components-DigestPostEmbed-index-module__inheritColor--xH1Q_",link:"frontend-components-DigestPostEmbed-index-module__link--j23hQ",disableLink:"frontend-components-DigestPostEmbed-index-module__disableLink--sgsa4"};var mI=Object.defineProperty,_I=Object.defineProperties,gI=Object.getOwnPropertyDescriptors,u_=Object.getOwnPropertySymbols,vI=Object.prototype.hasOwnProperty,yI=Object.prototype.propertyIsEnumerable,c_=(n,t,r)=>t in n?mI(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,bI=(n,t)=>{for(var r in t||(t={}))vI.call(t,r)&&c_(n,r,t[r]);if(u_)for(var r of u_(t))yI.call(t,r)&&c_(n,r,t[r]);return n},PI=(n,t)=>_I(n,gI(t));const fc=n=>{n.stopPropagation()},EI=({editing:n,caption:t,onFocus:r,onSave:i,onCancel:a})=>{const M=t.replace(/<br\s*\/?>/gi,`
`),[k,F]=(0,o.eJ)(M);return n?(0,e.h)(y.tu,{flex:"grow"},(0,e.h)(y.gx,{name:"description",value:k,onChange:B=>{F(B.target.value)},className:Lo.captionEditor,rows:6,maxLength:5e3,placeholder:"Enter a caption...",onKeyPress:fc,onKeyDown:fc,onCopy:fc,onPaste:fc}),(0,e.h)(y.hE,{paddingY:8,justifyContent:"end"},(0,e.h)(y.zx,{priority:"secondary-theme",onClick:a},"Cancel"),(0,e.h)(y.zx,{priority:"primary-theme",onClick:()=>{const B=k.replace(/\n/g,"<br>"),Y=l_()(B,PI(bI({},l_().defaults),{allowedTags:["br"]}));i(Y)}},"Save"))):(0,e.h)("p",{onClick:r,className:Lo.caption,dangerouslySetInnerHTML:{__html:t}})};var d_=Et(48960);const wI=({size:n,onOpen:t,onClose:r,onEditCaption:i,onSetLayout:a,onConvertToLink:M,onConvertToEmbeddedPost:k,onDelete:F})=>(0,e.h)(y.hs,{className:Lo.menu,justifyContent:"end"},(0,e.h)(Mo.v2,{trigger:(0,e.h)(y.hU,{priority:"secondary-theme",rounded:!1,fill:"outline"},(0,e.h)(va,{className:Lo.menuIcon,height:20})),onOpen:t,onClose:r,layerOptions:{placement:"bottom-end"}},(0,e.h)(Mo.sN,{disabled:n==="sm",onClick:()=>a("sm")},"Small display"),(0,e.h)(Mo.sN,{disabled:n==="md",onClick:()=>a("md")},"Medium display"),(0,e.h)(Mo.sN,{disabled:n==="lg",onClick:()=>a("lg")},"Large display"),(0,e.h)(d_.i,null),(n==="lg"||n==="md")&&(0,e.h)(Mo.sN,{onClick:i},"Edit caption"),(0,e.h)(Mo.sN,{onClick:()=>k()},"Convert to default"),(0,e.h)(Mo.sN,{onClick:M},"Convert to link"),(0,e.h)(Mo.sN,{priority:"destructive",onClick:F},"Remove"))),f_=(0,Oo.Z)("ArrowRight",[["line",{x1:"5",x2:"19",y1:"12",y2:"12",key:"13b5wn"}],["polyline",{points:"12 5 19 12 12 19",key:"sfr3i6"}]]),Pf=({post:n,href:t,isEditor:r,includeUfi:i=!1,paddingTop:a=0,paddingBottom:M=0})=>{const k=(0,Na.aF)(),F=(0,Ud.I)();return(0,e.h)(he.gq,{gap:16,paddingTop:a,paddingBottom:M,alignItems:"center"},i&&F&&k&&n&&(0,e.h)(he.gq,{gap:8,className:"post-ufi"},(0,e.h)(Jo.RY,{post:n,pub:F,user:k}),(0,e.h)(Jo.L9,{post:n,pub:F}),(0,e.h)(Jo.pD,{post:n,pub:F,user:k,style:"button",labelStyle:"cta"})),(0,e.h)(y.xv.Button,{className:l()({[Lo.disableLink]:r}),as:"a",href:t,align:"center"},(0,e.h)(he.gq,{gap:8,alignItems:"center",className:Lo.link},(0,e.h)(y.xv.B4,{color:"pub-accent",weight:"semibold",as:"span",size:14},"Read full story"),(0,e.h)(f_,{size:16}))))},p_=({href:n,includeUfi:t=!1,paddingTop:r=0,paddingBottom:i=0})=>(0,e.h)(ao.zK,{gap:16,style:{paddingTop:r,paddingBottom:i}},(0,e.h)(y.xv.Button,{as:"a",href:n,align:"center"},(0,e.h)(ao.zK,{gap:8},(0,e.h)(y.xv.B4,{color:"pub-accent",as:"span",size:14,className:Lo.link},"Read full story"))));var Ef=Et(45809);const wf=({bylines:n,date:t,isEditor:r})=>(0,e.h)(he.gq,{alignItems:"center",gap:4},n!=null&&n.length?(0,e.h)(e.Fragment,null,(0,e.h)(y.xv.Meta,{className:l()({[Lo.disableLink]:r}),color:"pub-secondary-text"},(0,e.h)(Ef.M,{array:n||[],limit:3,formatter:({id:i,name:a})=>(0,e.h)("a",{className:Lo.inheritColor,href:(0,te.getProfileUrlById)(i,a)},a)})),(0,e.h)(y.xv,{color:"pub-secondary-text"},"\xB7")):null,(0,e.h)(y.xv.Meta,{color:"pub-secondary-text"},(0,O.formatPostDate)(t))),h_=({bylines:n,date:t})=>(0,e.h)(ao.zK,{gap:4},n!=null&&n.length?(0,e.h)(ao.zK,{gap:4},(0,e.h)(y.xv.Meta,{color:"pub-secondary-text"},(0,e.h)(Ef.M,{array:n||[],limit:3,formatter:({id:r,name:i})=>(0,e.h)("a",{className:Lo.inheritColor,href:(0,te.getProfileUrlById)(r,i)},i)})),(0,e.h)(y.xv,{color:"pub-secondary-text"},"\xB7")):null,(0,e.h)(y.xv.Meta,{color:"pub-secondary-text"},(0,O.formatPostDate)(t))),CI=({post:n,isEditor:t,children:r})=>{const{publishedBylines:i,title:a,canonical_url:M,post_date:k,section_name:F,cover_image:B,cover_image_alt:Y}=n;return(0,e.h)(he.tu,null,F&&(0,e.h)("a",{href:M,className:l()({[Lo.disableLink]:t}),target:"_blank",rel:"noopener"},(0,e.h)(y.xv.Meta,{color:"pub-primary-text",paddingBottom:8},F)),(0,e.h)("a",{href:M,className:l()({[Lo.disableLink]:t}),target:"_blank",rel:"noopener"},(0,e.h)(y.xv.H2,{color:"pub-primary-text"},a)),(0,e.h)(wf,{bylines:i,date:k,isEditor:t}),B&&(0,e.h)(y.xu,{paddingTop:24},(0,e.h)("a",{href:M,className:l()({[Lo.disableLink]:t}),target:"_blank",rel:"noopener"},(0,e.h)(pn.e,{className:Lo.fullWidth,src:B,alt:Y!=null?Y:a,maxWidth:1300,imageProps:{height:Math.round(1300/2),smartCrop:!0}}))),(0,e.h)(y.hs,{paddingTop:16,flex:"grow"},t?r:(0,e.h)("a",{href:M,className:l()({[Lo.disableLink]:t}),target:"_blank",rel:"noopener"},r)),(0,e.h)(Pf,{post:n,href:M,includeUfi:!1,isEditor:t}))},m_=({post:n,children:t})=>{const{publishedBylines:r,title:i,canonical_url:a,post_date:M,section_name:k,cover_image:F,cover_image_alt:B}=n;return(0,e.h)(ao.i$,null,k&&(0,e.h)("a",{href:a},(0,e.h)(y.xv.Meta,{color:"pub-primary-text",paddingBottom:8},k)),(0,e.h)("a",{href:a},(0,e.h)(y.xv.H2,{color:"pub-primary-text"},i)),(0,e.h)(h_,{bylines:r,date:M}),F&&(0,e.h)(y.xu,{paddingTop:24},(0,e.h)("a",{href:a},(0,e.h)(pn.e,{className:Lo.fullWidth,src:F,alt:B!=null?B:i,maxWidth:1300,imageProps:{height:Math.round(1300/2),smartCrop:!0}}))),(0,e.h)("a",{href:a},(0,e.h)(y.xu,{as:"p"},t)),(0,e.h)(p_,{href:a}))},OI=({post:n,isEditor:t,children:r})=>{const{publishedBylines:i,title:a,canonical_url:M,post_date:k,section_name:F,cover_image:B,cover_image_alt:Y}=n,ge=(0,Fi.XA)();return(0,e.h)(he.tu,null,F&&(0,e.h)("a",{href:M,className:l()({[Lo.disableLink]:t}),target:"_blank",rel:"noopener"},(0,e.h)(y.xv.Meta,{color:"pub-primary-text",paddingBottom:8},F)),(0,e.h)("a",{href:M,className:l()({[Lo.disableLink]:t}),target:"_blank",rel:"noopener"},(0,e.h)(y.xv.H2,{color:"pub-primary-text"},a)),(0,e.h)(wf,{bylines:i,date:k,isEditor:t}),(0,e.h)(y.hs,{direction:{mobile:"column",desktop:"row"},gap:16,paddingTop:16},B&&(0,e.h)(y.xu,{style:{width:ge?"unset":140}},(0,e.h)("a",{href:M,className:l()({[Lo.disableLink]:t}),target:"_blank",rel:"noopener"},(0,e.h)(pn.e,{className:ge?Lo.fullWidth:Lo.mdSquare,src:B,alt:Y!=null?Y:a,maxWidth:ge?1300:280,imageProps:{height:Math.round(ge?1300:280),smartCrop:!0}}))),(0,e.h)(he.tu,{flex:"grow"},t?r:(0,e.h)("a",{href:M,className:l()({[Lo.disableLink]:t}),target:"_blank",rel:"noopener"},r),(0,e.h)(Pf,{post:n,href:M,isEditor:t}))))},SI=({post:n,children:t})=>(0,e.h)(m_,{post:n,children:t}),TI=({post:n,isEditor:t})=>{const{publishedBylines:r,title:i,canonical_url:a,post_date:M,cover_image:k,cover_image_alt:F}=n;return(0,e.h)("a",{href:a,className:l()({[Lo.disableLink]:t}),target:"_blank",rel:"noopener"},(0,e.h)(he.gq,{gap:16},k&&(0,e.h)(y.xu,{style:{width:70,height:70}},(0,e.h)(pn.e,{className:Lo.smSquare,src:k,alt:F!=null?F:i,maxWidth:140,imageProps:{height:Math.round(140),smartCrop:!0}})),(0,e.h)(he.tu,null,(0,e.h)(y.xv.H4,{color:"pub-primary-text"},i),(0,e.h)(wf,{bylines:r,date:M,isEditor:t}),(0,e.h)(Pf,{post:n,href:a,includeUfi:!1,isEditor:t}))))},II=({post:n})=>{const{publishedBylines:t,title:r,canonical_url:i,post_date:a,cover_image:M,cover_image_alt:k}=n;return(0,e.h)(ao.zK,{gap:16},M&&(0,e.h)(y.xu,{style:{width:70}},(0,e.h)("a",{href:i},(0,e.h)(pn.e,{className:Lo.smSquare,src:M,alt:k!=null?k:r,maxWidth:140,imageProps:{height:140,smartCrop:!0}}))),(0,e.h)(ao.i$,null,(0,e.h)(y.xv.H4,{color:"pub-primary-text"},(0,e.h)("a",{href:i},r)),(0,e.h)(h_,{bylines:t,date:a}),(0,e.h)(p_,{href:i})))};var xI=Object.defineProperty,pc=Object.getOwnPropertySymbols,__=Object.prototype.hasOwnProperty,g_=Object.prototype.propertyIsEnumerable,v_=(n,t,r)=>t in n?xI(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,MI=(n,t)=>{for(var r in t||(t={}))__.call(t,r)&&v_(n,r,t[r]);if(pc)for(var r of pc(t))g_.call(t,r)&&v_(n,r,t[r]);return n},DI=(n,t)=>{var r={};for(var i in n)__.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&pc)for(var i of pc(n))t.indexOf(i)<0&&g_.call(n,i)&&(r[i]=n[i]);return r};const hc=n=>{document.dispatchEvent(new CustomEvent("updateDigestPostEmbed",{detail:n,bubbles:!0}))},AI=n=>{document.dispatchEvent(new CustomEvent("convertDigestPostEmbedToLink",{detail:n,bubbles:!0}))},NI=n=>{document.dispatchEvent(new CustomEvent("convertDigestPostEmbedToEmbeddedPost",{detail:n,bubbles:!0}))},RI=()=>{document.dispatchEvent(new CustomEvent("deleteDigestPostEmbed",{bubbles:!0}))},LI=({nodeId:n,caption:t,size:r="lg",isEditor:i,title:a,publishedBylines:M,post_date:k,cover_image:F,cover_image_alt:B,canonical_url:Y,section_name:ge,id:Ce,type:Se,reaction_count:Ue,comment_count:Ye,publication_name:Ve,publication_logo_url:at})=>{const[pt,gt]=(0,o.eJ)(!1),[xt,Nt]=(0,o.eJ)(!1),[Tt,Ut]=(0,o.eJ)(!1),qt={title:a,publishedBylines:M,post_date:k,cover_image:F,cover_image_alt:B,canonical_url:Y,section_name:ge,id:Ce,type:Se,reaction_count:Ue,comment_count:Ye,publication_name:Ve,publication_logo_url:at},rn=()=>{Nt(!0),gt(!1),hc({nodeId:n,shouldDisableDrag:!0})},ln=(0,e.h)(EI,{editing:xt,caption:t,onFocus:rn,onSave:yn=>{Nt(!1),hc({nodeId:n,caption:yn,shouldDisableDrag:!1})},onCancel:()=>{Nt(!1),hc({nodeId:n,shouldDisableDrag:!1})}});return(0,e.h)("div",{className:l()(Lo.digestPostEmbed),onMouseEnter:()=>!xt&&gt(!0),onMouseLeave:()=>!Tt&&gt(!1),"data-component-name":"DigestPostEmbed"},(0,e.h)(e.Fragment,null,i&&pt&&(0,e.h)(wI,{size:r,onOpen:()=>Ut(!0),onClose:()=>Ut(!1),onEditCaption:rn,onSetLayout:yn=>{hc(MI({nodeId:n,caption:t,size:yn},qt))},onConvertToEmbeddedPost:()=>{NI({url:Y})},onConvertToLink:()=>{AI({url:Y})},onDelete:()=>{RI()}}),r==="sm"&&(0,e.h)(TI,{post:qt,isEditor:i}),r==="md"&&(0,e.h)(OI,{post:qt,isEditor:i},i?ln:(0,e.h)("p",{className:Lo.caption,dangerouslySetInnerHTML:{__html:t}})),r==="lg"&&(0,e.h)(CI,{post:qt,isEditor:i},i?ln:(0,e.h)("p",{className:Lo.caption,dangerouslySetInnerHTML:{__html:t}}))))},BI=n=>{var t=n,{caption:r,size:i}=t,a=DI(t,["caption","size"]);return a?(0,e.h)("div",{className:l()(Lo.digestPostEmbed,s_.A.digestPostEmbed),"data-component-name":"DigestPostEmbedStatic"},i==="sm"&&(0,e.h)(II,{post:a}),i==="md"&&(0,e.h)(SI,{post:a},(0,e.h)("p",{className:Lo.caption,dangerouslySetInnerHTML:{__html:r}})),i==="lg"&&(0,e.h)(m_,{post:a},(0,e.h)("p",{className:Lo.caption,dangerouslySetInnerHTML:{__html:r}}))):null},ya={mediaNodeView:"frontend-components-document_body-image3-Image3-module__mediaNodeView--rijH5","align-left":"frontend-components-document_body-image3-Image3-module__align-left--JsrTP","align-center":"frontend-components-document_body-image3-Image3-module__align-center--kADok","align-right":"frontend-components-document_body-image3-Image3-module__align-right--SJAgQ",staticView:"frontend-components-document_body-image3-Image3-module__staticView--E5km_",staticImageWrap:"frontend-components-document_body-image3-Image3-module__staticImageWrap--g566A",left:"frontend-components-document_body-image3-Image3-module__left--CzulB",right:"frontend-components-document_body-image3-Image3-module__right--ru3Z2",imageContainer:"frontend-components-document_body-image3-Image3-module__imageContainer--CwR5q",large:"frontend-components-document_body-image3-Image3-module__large--jyLyc",full:"frontend-components-document_body-image3-Image3-module__full--H9NKo",caption:"frontend-components-document_body-image3-Image3-module__caption--C2TrT",static:"frontend-components-document_body-image3-Image3-module__static--OsmFP",horizontalResizeHandle:"frontend-components-document_body-image3-Image3-module__horizontalResizeHandle--bEUFj",mediaControlButtons:"frontend-components-document_body-image3-Image3-module__mediaControlButtons--lVxEL",withCaption:"frontend-components-document_body-image3-Image3-module__withCaption--IXwNH",active:"frontend-components-document_body-image3-Image3-module__active--bsRqv",captionEditor:"frontend-components-document_body-image3-Image3-module__captionEditor--fu4ZT",captionContent:"frontend-components-document_body-image3-Image3-module__captionContent--uVtTa",zoom:"frontend-components-document_body-image3-Image3-module__zoom--ZILtz"},kI=({align:n,width:t})=>{const r={};if(n==="center"||t==="100%"||t>=p.EMAIL_CONTENT_WIDTH)return r;const i=n==="left"?"paddingRight":"paddingLeft";return r[i]=p.EMAIL_CONTENT_WIDTH-t,r},UI=({src:n,alt:t,title:r,width:i,height:a,size:M,align:k})=>{const F=i==="100%"?p.EMAIL_CONTENT_WIDTH:i;return(0,e.h)("div",{className:l()(ya.staticView),"data-component-name":"Image3Static"},(0,e.h)("div",{style:kI({align:k,width:i}),className:l()(ya.staticImageWrap)},(0,e.h)("img",{width:F,height:a,src:(0,p.imginary)(n,2*p.EMAIL_CONTENT_WIDTH),alt:t}),r&&(0,e.h)("div",{className:l()(ya.caption,ya.static)},r)))};var Cf=Et(55661);const FI=({src:n,alt:t,title:r,width:i,height:a,size:M,align:k})=>{const[F,B]=(0,o.eJ)(!1),[Y,ge]=(0,o.eJ)(0),Ce=(0,o.sO)(null),Se=()=>{Ce.current&&(Ce.current.onload=()=>{ge(Ce.current.naturalWidth/Ce.current.naturalHeight)})};(0,o.d4)(()=>{Se()});const Ue=()=>{switch(M){case"large":return p.LARGE_IMAGE_WIDTH;case"full":return typeof window!="undefined"?window.innerWidth:p.MAX_REASONABLE_SCREEN_WIDTH;default:return i==="100%"?p.WEB_CONTENT_WIDTH:i}};return(0,e.h)("figure",{className:l()(ya.mediaNodeView,k&&ya[`align-${k}`||""]),"data-drag-handle":"","data-component-name":"Image3Dynamic"},(0,e.h)(he.gq,{className:l()(ya.imageContainer,ya.zoom,ya[M]),onClick:()=>B(!0)},(0,e.h)(he.tu,{gap:8},(0,e.h)(pn.e,{className:ya[M],src:n,alt:t,title:r,maxWidth:Ue(),imageRef:Ce}),r&&(0,e.h)("figcaption",{className:ya.caption},r))),(0,e.h)(Cf.ImageViewerModal,{showModal:F,modalContent:[{attrs:{src:n,alt:t,title:r}}],onClose:()=>B(!1),step:0}))};var jI=Et(71284);const Xi={imageGallery:"frontend-components-ImageGallery-module__imageGallery--shoTe",static:"frontend-components-ImageGallery-module__static--gQ9AX",canEdit:"frontend-components-ImageGallery-module__canEdit--XIs4R",editGalleryWrap:"frontend-components-ImageGallery-module__editGalleryWrap--eipH6",editGallery:"frontend-components-ImageGallery-module__editGallery--pSUAH",imageCaption:"frontend-components-ImageGallery-module__imageCaption--JESLj",image:"frontend-components-ImageGallery-module__image--g2yvp",zoom:"frontend-components-ImageGallery-module__zoom--eQKQQ",imageRow:"frontend-components-ImageGallery-module__imageRow--RFMqP","length-2":"frontend-components-ImageGallery-module__length-2--F3EXK",inbox:"frontend-components-ImageGallery-module__inbox--uMAJy",imageGalleryWrap:"frontend-components-ImageGallery-module__imageGalleryWrap--OpzQK",imageWrap:"frontend-components-ImageGallery-module__imageWrap--odWNd",small:"frontend-components-ImageGallery-module__small--Muz63",medium:"frontend-components-ImageGallery-module__medium--uFsr6"};var WI=Object.defineProperty,HI=Object.defineProperties,VI=Object.getOwnPropertyDescriptors,y_=Object.getOwnPropertySymbols,KI=Object.prototype.hasOwnProperty,$I=Object.prototype.propertyIsEnumerable,b_=(n,t,r)=>t in n?WI(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,zI=(n,t)=>{for(var r in t||(t={}))KI.call(t,r)&&b_(n,r,t[r]);if(y_)for(var r of y_(t))$I.call(t,r)&&b_(n,r,t[r]);return n},GI=(n,t)=>HI(n,VI(t));const P_=(n,t)=>t===1?"large":t===2||t===4?"medium":t%3===0?"small":t===5||t===7?n<=2?"small":"medium":n<=5?"small":"medium",E_={small:237,medium:360,large:728},w_=({src:n,size:t,onSelectImage:r,useViewer:i=!1,alt:a})=>{const M=()=>{i&&r()};return(0,e.h)(pn.e,{src:n,alt:a,maxWidth:2*E_[t],className:l()(Xi.image,Xi[t],i&&Xi.zoom),onClick:M})},ZI=(n,t="",r="")=>{const i=[];for(const a in n){const M=n[a],{height:k=0,width:F=0}=(0,te.extractDimensionsFromImageUrl)(M.src)||{},B=`(${Number(a)+1} of ${n.length})`,Y={src:M.src,height:k,width:F,alt:`${r} ${B}`,title:`${t} ${B}`};i.push({attrs:Y})}return i},YI=({onEditGallery:n,editGalleryRef:t})=>(0,e.h)(he.hs,{justifyContent:"center",alignItems:"center",className:Xi.editGalleryWrap},(0,e.h)(zi.Fx,{ref:t,noList:!0},(0,e.h)(he.tu,{onClick:n,justifyContent:"center",alignItems:"center",className:Xi.editGallery},(0,e.h)(Zs.Z,{height:20})))),JI=({node:n,editor:t})=>{const{gallery:r}=n.attrs,i=n.attrs.isEditor||t,{caption:a,alt:M}=r,k=r.images.map((xt,Nt)=>GI(zI({},xt),{idx:Nt})),F=typeof window!="undefined"&&!window.location.pathname.startsWith("/publish"),[B,Y]=(0,o.eJ)(!1),[ge,Ce]=(0,o.eJ)(0),Se=(0,o.sO)(null),Ue=k.length===1,Ye=ZI(k,a),Ve=xt=>{Ce(xt),Y(!0)},at=()=>{document.dispatchEvent(new Event("editSelectedImageGallery"))};if(k.length===0)return null;const pt=xt=>{var Nt,Tt;i&&(xt?(Nt=Se.current)==null||Nt.open():(Tt=Se.current)==null||Tt.close())},gt=C_(k);return(0,e.h)(jI.T5,{className:"image-gallery-embed","data-drag-handle":""},(0,e.h)("figure",{className:l()(Xi.imageGallery,i&&Xi.canEdit),onMouseEnter:()=>pt(!0),onMouseLeave:()=>pt(!1),"data-drag-handle":!0,"data-component-name":"ImageGallery"},i&&r&&(0,e.h)(YI,{onEditGallery:at,editGalleryRef:Se}),(0,e.h)(he.tu,{gap:8},Ue?(0,e.h)(w_,{src:k[0].src,alt:M,caption:a,size:P_(0,1),onSelectImage:()=>Ve(0),useViewer:F}):gt.map(xt=>(0,e.h)(he.hs,{className:l()(Xi.imageRow,Xi[`length-${xt.length}`]),gap:8},xt.map(Nt=>(0,e.h)(w_,{src:Nt.src,alt:M,caption:a,size:P_(Nt.idx,k.length),onSelectImage:()=>Ve(Nt.idx),useViewer:F})))),a&&(0,e.h)("figcaption",{className:Xi.imageCaption},a)),(0,e.h)(Cf.ImageViewerModal,{showModal:B,modalContent:Ye,onClose:()=>Y(!1),step:ge})))},XI=({node:n})=>{const{gallery:t}=n.attrs;if(!t)return null;const{alt:r,staticGalleryImage:i,caption:a}=t;return i?(0,e.h)("div",{className:l()(Xi.static,Xi.imageGallery),"data-component-name":"ImageGalleryStatic"},(0,e.h)("img",{src:(0,te.imginary)(i.src,2*E_.large),alt:r}),a&&(0,e.h)("div",{className:l()(Xi.imageCaption,Xi.static)},a)):null};function C_(n){const t=n.length===4?2:3;let r=[n.slice(0,t)];const i=n.slice(t);return i.length>0&&(r=r.concat(C_(i))),r}var QI=(n=>(n.CompOneMonth="comp_one_month",n.CompThreeMonths="comp_three_months",n.CompSixMonths="comp_six_months",n.CompNineMonths="comp_nine_months",n.CompTwelveMonths="comp_twelve_months",n.Custom="custom",n))(QI||{});const O_={comp_one_month:"1 month comp",comp_three_months:"3 month comp",comp_six_months:"6 month comp",comp_nine_months:"9 month comp",comp_twelve_months:"12 month comp",custom:"Custom"},f$={comp_one_month:30,comp_three_months:90,comp_six_months:180,comp_nine_months:270,comp_twelve_months:365};var qI=Object.defineProperty,e3=Object.defineProperties,t3=Object.getOwnPropertyDescriptors,S_=Object.getOwnPropertySymbols,n3=Object.prototype.hasOwnProperty,r3=Object.prototype.propertyIsEnumerable,T_=(n,t,r)=>t in n?qI(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,o3=(n,t)=>{for(var r in t||(t={}))n3.call(t,r)&&T_(n,r,t[r]);if(S_)for(var r of S_(t))r3.call(t,r)&&T_(n,r,t[r]);return n},i3=(n,t)=>e3(n,t3(t));const I_=n=>(0,e.h)(L.l,i3(o3({strokeLinecap:"round",strokeLinejoin:"round"},n),{name:"LucideStarIcon",svgParams:{height:24,width:24}}),(0,e.h)("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})),a3={referralsTierCard:"frontend-components-referrals-ReferralsTierCard-module__referralsTierCard--fLx1c"};var s3=(n,t,r)=>new Promise((i,a)=>{var M=B=>{try{F(r.next(B))}catch(Y){a(Y)}},k=B=>{try{F(r.throw(B))}catch(Y){a(Y)}},F=B=>B.done?i(B.value):Promise.resolve(B.value).then(M,k);F((r=r.apply(n,t)).next())});const l3=({tierNumber:n,rewardDescription:t,numReferralsRequired:r,pub:i})=>{const[a,M]=(0,o.eJ)([]),k=()=>s3(void 0,null,function*(){const{body:ge}=yield jn().get("/api/v1/reader_referrals/tiers");M(ge.tiers)});(0,o.d4)(()=>{k()},[]);const F=a[n-1],B=F?F.reward_type==="custom"?F.reward_description:O_[F.reward_type]:t,Y=F?F.num_referrals_required:r;return(0,e.h)(he.tu,{"data-component-name":"ReferralsTierCard",className:"milestone-tier-card",justifyContent:"start",border:"detail-themed",radius:12,padding:20,gap:16,target:"_blank"},(0,e.h)("div",{className:"tier-stars-container"},Array(n).fill(0).map((ge,Ce)=>(0,e.h)(I_,{width:20,height:20,strokeWidth:2,stroke:i.theme_var_background_pop||"#FF6719",fill:i.theme_var_background_pop||"#FF6719",key:Ce}))),(0,e.h)(he.tu,{gap:4},(0,e.h)(I.xv.H4,null,B),(0,e.h)(I.xv.Meta,null,"Tier ",n," reward - ",Y," Referrals")),(0,e.h)(he.gq,{alignItems:"center"},(0,e.h)(Nn.Z,{pub:i,logo_url:i.logo_url,size:24}),(0,e.h)(I.xv.Meta,{color:"primary",as:"a",href:(0,p.getBaseUrl)(i),decoration:"none",weight:"bold"},i.name)))},u3=({tierNumber:n,pub:t})=>(0,e.h)("a",{href:`${Ei.Substitutions.LEADERBOARD_URL}&utm_source=reward_email`,className:a3.referralsTierCard},(0,e.h)(ao.i$,{gap:16},(0,e.h)(ao.zK,{style:{lineHeight:0},gap:4},Array(n).fill(0).map((r,i)=>(0,e.h)(I_,{width:20,height:20,strokeWidth:2,key:i,stroke:t.theme_var_background_pop||"#FF6719",fill:t.theme_var_background_pop||"#FF6719",isStatic:!0}))),(0,e.h)(ao.i$,{gap:4},(0,e.h)(I.xv.H4,null,Ei.Substitutions.REWARD_DESCRIPTION),(0,e.h)(I.xv.Meta,null,"Tier ",n," reward - ",Ei.Substitutions.NUM_REFERRALS_REQUIRED," Referrals")),(0,e.h)(ao.zK,{verticalAlign:"middle"},(0,e.h)(Nn.Z,{isStatic:!0,pub:t,logo_url:t.logo_url,size:24}),(0,e.h)(I.xv.Meta,{color:"primary",as:"a",href:(0,p.getBaseUrl)(t),decoration:"none",weight:"bold"},t.name))));var c3=(n,t,r)=>new Promise((i,a)=>{var M=B=>{try{F(r.next(B))}catch(Y){a(Y)}},k=B=>{try{F(r.throw(B))}catch(Y){a(Y)}},F=B=>B.done?i(B.value):Promise.resolve(B.value).then(M,k);F((r=r.apply(n,t)).next())});const d3=({mediaUploadId:n})=>{const[t,r]=(0,o.eJ)(null),[i,a]=(0,o.eJ)(!0),[M,k]=(0,o.eJ)(null);return(0,o.d4)(()=>{n?(()=>c3(void 0,null,function*(){try{const B=yield jn().get(`/api/v1/video/upload/${n}`);r(B.body),a(!1)}catch(B){console.error("Failed to load media upload:",B),k((0,O.getNetworkErrorMessage)(B)),a(!1)}}))():(r(null),a(!1))},[n,M]),{mediaUpload:t,loading:i,error:M}};var f3=Et(54125),x_=Et.n(f3),p3=Object.defineProperty,h3=Object.defineProperties,m3=Object.getOwnPropertyDescriptors,M_=Object.getOwnPropertySymbols,_3=Object.prototype.hasOwnProperty,g3=Object.prototype.propertyIsEnumerable,D_=(n,t,r)=>t in n?p3(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,v3=(n,t)=>{for(var r in t||(t={}))_3.call(t,r)&&D_(n,r,t[r]);if(M_)for(var r of M_(t))g3.call(t,r)&&D_(n,r,t[r]);return n},y3=(n,t)=>h3(n,m3(t));const b3=n=>(0,e.h)(L.l,y3(v3({},n),{name:"PlayIcon",svgParams:{height:43,width:35}}),(0,e.h)("path",{d:"M34.428 20.819C34.8483 21.0821 34.8483 21.7121 34.428 21.9752L1.74924 42.4349C1.3132 42.7079 0.755859 42.3835 0.755859 41.8568V0.937387C0.755859 0.410635 1.3132 0.0862969 1.74925 0.359298L34.428 20.819Z"}));var P3=Object.defineProperty,A_=Object.getOwnPropertySymbols,E3=Object.prototype.hasOwnProperty,w3=Object.prototype.propertyIsEnumerable,N_=(n,t,r)=>t in n?P3(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,C3=(n,t)=>{for(var r in t||(t={}))E3.call(t,r)&&N_(n,r,t[r]);if(A_)for(var r of A_(t))w3.call(t,r)&&N_(n,r,t[r]);return n};const O3=5,S3="video:playback_location:",T3=4*60,I3=60,x3=60,M3=3,D3=60,A3={hls:"application/x-mpegURL",mp4:"video/mp4"};class Bl extends e.Component{constructor(t,r){var i;super(t,r),this.player=null,this.previewHiddingTimeout=null,this.onLoadedMetadata=()=>{this.state.playbackRestoreLocation&&(this.player&&(this.player.currentTime=this.state.playbackRestoreLocation),this.previewHiddingTimeout=window.setTimeout(()=>this.setState({playbackRestoreLocation:null,previewHidden:!0}),3*1e3))},this.onLoadedData=()=>{this.state.playbackRestoreLocation&&(this.previewHiddingTimeout&&clearTimeout(this.previewHiddingTimeout),this.setState({playbackRestoreLocation:null,previewHidden:!0}))},this.onCanPlay=()=>{this.onTimeUpdate()},this.onPlay=()=>{var M;(M=O.globalPlaybackNotifier)==null||M.emit("play",this),this.setState({playing:!0})},this.onPause=()=>{this.setPlaybackRestoreLocation(),this.setState({playing:!1,waiting:!1}),this.player&&this.player.currentTime>this.player.duration-.1&&this.onVideoReachEnd()},this.onTimeUpdate=()=>{!this.player||!isFinite(this.player.duration)||(!this.props.duration&&this.state.duration!==this.player.duration||this.state.currentTime!==this.player.currentTime?this.setState({duration:this.props.duration||this.player.duration,currentTime:this.player.currentTime,waiting:!1}):this.setState({waiting:!1}))},this.onWaiting=()=>{this.setState({waiting:Date.now()})},this.onPlaying=()=>{this.previewHiddingTimeout&&clearTimeout(this.previewHiddingTimeout),this.setState({playing:!0,waiting:!1,previewHidden:!0,attemptingToPlay:!1,autoPlay:!1,hasPlayed:!0})},this.onVideoReachEnd=({resetTime:M=!0}={})=>{this.player&&!this.player.paused&&this.player.pause(),this.state.previewHidden&&this.setState({previewHidden:!1,attemptingToPlay:!1,hasReachedEnd:!0}),M&&this.player&&!(0,O.isIOs)()&&(this.player.currentTime=0),(0,O.exitFullscreen)(),(0,O.exitPictureInPicture)()},this.onPreviewClick=()=>{var M,k;this.state.previewHidden||this.href()||this.playbackEnabled()&&(this.state.attemptingToPlay?(this.setState({attemptingToPlay:!1,autoPlay:!1}),(M=this.player)==null||M.pause(),this.previewHiddingTimeout&&clearTimeout(this.previewHiddingTimeout)):(this.setState({attemptingToPlay:!0}),(k=this.player)==null||k.play(),this.previewHiddingTimeout=window.setTimeout(()=>this.setState({previewHidden:!0}),3*1e3)))},this.onContextMenu=M=>{M.preventDefault()},this.onAllSourcesFailed=()=>{var M,k;console.error("Failed to load all video sources, falling back to preview image"),this.setState({previewHidden:!1,attemptingToPlay:!1,autoPlay:!1,allSourcesFailed:!0}),(k=(M=this.props).onPlaybackFailed)==null||k.call(M)},this.onBeforeUnload=()=>{this.setPlaybackRestoreLocation(),this.state.previewHidden&&this.setState({previewHidden:!1,attemptingToPlay:!1}),this.player&&!this.player.paused&&this.player.pause()},this.onGlobalPlay=M=>{this!==M&&this.player&&(this.track(C.FP.VIDEO_PAUSE_BUTTON_CLICKED,{implicit:!0}),this.player.pause())},this.onGlobalKeyDown=M=>{var k;this.props.noKeyboardShortcuts||M.metaKey||M.altKey||M.ctrlKey||document.activeElement!==document.body||!this.player||((k=O.globalPlaybackNotifier)==null?void 0:k.listenerCount("play"))>1&&this.player.paused||(M.key==="f"?(0,O.isFullscreen)()?(0,O.exitFullscreen)()&&M.preventDefault():((0,O.goFullscreen)(this.player)&&M.preventDefault(),this.player.paused&&this.player.play()):M.key===" "&&!(0,O.isFullscreen)()?(M.preventDefault(),this.player.paused?this.player.play():this.player.pause()):M.key==="ArrowRight"?this.player.currentTime+5>this.player.duration?this.onVideoReachEnd():(this.player.currentTime+=5,this.state.previewHidden||this.setState({previewHidden:!0,attemptingToPlay:!1})):M.key==="ArrowLeft"&&(this.player.currentTime-=5))},this.cta=()=>"",this.href=()=>this.props.href,this.playbackEnabled=()=>!0;const a=this.getPlaybackRestoreLocation();this.state={playbackRestoreLocation:a,currentTime:0,waiting:!0,duration:(i=t.mediaUpload.duration)!=null?i:null,autoPlay:t.autoPlay,playing:!1,attemptingToPlay:t.autoPlay,previewHidden:a!==null&&a>0,hasPlayed:!1,hasReachedEnd:!1,browserCanPlayHLS:!1,useHLSJS:!0,HLSerrored:!1,allSourcesFailed:!1}}componentDidMount(){var t;this._initHlsjs(),(t=O.globalPlaybackNotifier)==null||t.on("play",this.onGlobalPlay),typeof window!="undefined"&&(document.addEventListener("keydown",this.onGlobalKeyDown,!1),window.addEventListener("beforeunload",this.onBeforeUnload,!1)),this.player&&(this.player.volume=1,this.player.addEventListener("loadedmetadata",this.onLoadedMetadata),this.player.addEventListener("loadeddata",this.onLoadedData),this.player.addEventListener("canplay",this.onCanPlay),this.player.addEventListener("play",this.onPlay),this.player.addEventListener("pause",this.onPause),this.player.addEventListener("timeupdate",this.onTimeUpdate),this.player.addEventListener("waiting",this.onWaiting),this.player.addEventListener("playing",this.onPlaying),this.player.addEventListener("contextmenu",this.onContextMenu)),this.onTimeUpdate(),window&&window._preloads.mux_env_key&&x_().monitor(this.player,{Hls:this.hlsModule,hlsjs:this.hls,debug:!1,data:{env_key:window._preloads.mux_env_key,player_name:"substack",player_init_time:x_().utils.now()}})}componentWillUnmount(){var t;this.setPlaybackRestoreLocation(),(t=O.globalPlaybackNotifier)==null||t.off("play",this.onGlobalPlay),typeof window!="undefined"&&(document.removeEventListener("keydown",this.onGlobalKeyDown,!1),window.removeEventListener("beforeunload",this.onBeforeUnload,!1)),this.player&&(this.player.removeEventListener("loadedmetadata",this.onLoadedMetadata),this.player.removeEventListener("loadeddata",this.onLoadedData),this.player.removeEventListener("canplay",this.onCanPlay),this.player.removeEventListener("play",this.onPlay),this.player.removeEventListener("pause",this.onPause),this.player.removeEventListener("timeupdate",this.onTimeUpdate),this.player.removeEventListener("waiting",this.onWaiting),this.player.removeEventListener("playing",this.onPlaying),this.player.removeEventListener("contextmenu",this.onContextMenu)),this.onVideoReachEnd({resetTime:!1}),this.hls!=null&&this.hls.destroy()}componentDidUpdate(t,r){var i;if((this.props.noPreview!==t.noPreview||this.props.noControls!==t.noControls||this.props.noKeyboardShortcuts!==t.noKeyboardShortcuts)&&this._initHlsjs(),!this.state.playing&&typeof this.state.waiting=="number"&&typeof r.waiting!="number"){const{useHLSJS:a,browserCanPlayHLS:M,HLSerrored:k}=this.state;this.track(C.FP.VIDEO_BUFFERING_STARTED,{use_hlsjs:a,browser_can_play_hls:M,hls_errored:k})}this.state.playing&&!r.playing&&!this.state.waiting&&typeof r.waiting=="number"&&this.track(C.FP.VIDEO_BUFFERING_COMPLETED,{buffering_duration:Date.now()-r.waiting}),this.state.playing&&Math.floor(this.state.currentTime)!==Math.floor(r.currentTime)&&Math.floor(this.state.currentTime)%O3===0&&this.track(C.FP.VIDEO_PLAYBACK_CONTINUED,{current_time:Math.floor(this.state.currentTime)}),!this.state.playing&&r.playing&&((i=this.player)!=null&&i.ended)&&this.track(C.FP.VIDEO_PLAYBACK_COMPLETED)}getPlaybackLocationKey(){return`${S3}${this.props.mediaUpload.id}`}getPlaybackRestoreLocation(){if(this.playbackEnabled()&&this.props.restorePlaybackLocation&&this.props.mediaUpload.duration&&this.props.mediaUpload.duration>T3){const t=(0,Ai.mM)(this.getPlaybackLocationKey());if((t==null?void 0:t.currentTime)>I3&&this.props.duration!==null&&this.props.duration!==void 0&&this.props.duration-t.currentTime>x3){const r=Date.now()-t.watchedAt>D3?M3:0,i=Math.max(0,t.currentTime-r);if(i)return i}}return null}setPlaybackRestoreLocation(){var t;this.playbackEnabled()&&((t=this.player)!=null&&t.currentTime)&&(0,Ai.ex)(this.getPlaybackLocationKey(),{currentTime:this.player.currentTime,watchedAt:Date.now()})}track(t,r={}){const i=this.props.post;i&&(0,C.j)(t,Object.assign({post_id:i.id,current_time:this.state.currentTime?Math.floor(this.state.currentTime):0,duration:this.state.duration?Math.floor(this.state.duration):0},r))}render(t,r){const{height:i,width:a}=(0,nn.videoPlayerDimensions)(t.mediaUpload,{isStatic:t.isStatic}),M={paddingBottom:`${Math.min(100,100*i/a).toFixed(4)}%`};return(0,e.h)("div",{className:l()("video-player-wrapper",{"with-preview":!r.previewHidden,"is-static":t.isStatic,"full-width":a>=960}),onClick:this.onPreviewClick},this.href()?(0,e.h)("a",{className:"video-player",href:this.href(),style:M},this.renderPlayer(this.props,this.state)):(0,e.h)("div",{className:"video-player",style:M},this.renderPlayer(this.props,this.state)))}renderPlayer({mediaUpload:t,pub:r,reaction_token:i=null,isStatic:a,noControls:M,noPreview:k},{autoPlay:F,attemptingToPlay:B,previewHidden:Y,useHLSJS:ge,browserCanPlayHLS:Ce,HLSerrored:Se}){const Ue=!k&&!Y,Ye=a||!this.playbackEnabled(),Ve=(0,p.updateQuery)(`/api/v1/video/upload/${t.id}/src`,{token:i,override_publication_id:r==null?void 0:r.id});let at=[];return Ce?at=["hls","mp4"]:ge?at=[]:(0,O.isAndroid)()?at=["hls","mp4"]:Se?at=["mp4"]:at=["hls","mp4"],[this.playbackEnabled()&&!a&&typeof window!="undefined"&&(0,e.h)("video",{ref:pt=>this.player=pt,controls:!M&&!Ue,controlsList:"nodownload",autoPlay:F&&this.playbackEnabled(),poster:(0,p.getMediaUploadThumbnailUrlForPlayer)(t)},at.map((pt,gt)=>(0,e.h)("source",{src:(0,p.updateQuery)(Ve,{type:pt}),type:A3[pt],onError:gt===at.length-1?this.onAllSourcesFailed:void 0}))),Ue&&(0,e.h)(e.Fragment,null,Ye&&(0,e.h)("img",{className:"video-player-preview","data-testid":a?"video-player-static-preview-image":"",width:550,src:(0,p.getMediaUploadThumbnailUrlForPlayer)(t,{pub:r,isStatic:a}),"data-component-name":"VideoPlayer-PreviewImg"}),!a&&(0,e.h)("div",{className:l()("video-player-button",{"no-text":!this.cta()})},(0,e.h)("a",{className:"primary",href:this.href(),native:!0},(0,e.h)($t.Z,{className:l()({loading:B&&this.playbackEnabled()})},(0,e.h)(b3,{alt:"play",stroke:"#FFFFFF",fill:"#FFFFFF"}),(0,e.h)("span",null,this.cta())))))]}_initHlsjs(){const t=!!(this.player&&this.player.canPlayType("application/vnd.apple.mpegurl"));if(t){this.setState({browserCanPlayHLS:t});return}Et.e(631).then(Et.t.bind(Et,67631,23)).then(r=>{this._initHlsjsWrapped(r.default)})}_initHlsjsWrapped(t){const r=this,i=t.isSupported();if(!t.isSupported()){this.setState({useHLSJS:i});return}this.hls!=null&&this.hls.destroy();const a={},M=new t(C3({enableWorker:!1},a));this.player!=null&&M.attachMedia(this.player);const{mediaUpload:k,pub:F,reaction_token:B=null}=this.props,Y=(0,p.updateQuery)(`/api/v1/video/upload/${k.id}/src`,{token:B,override_publication_id:F==null?void 0:F.id,type:"hls"});M.on(t.Events.MEDIA_ATTACHED,()=>{M.loadSource(Y),M.on(t.Events.MANIFEST_PARSED,()=>{var ge;this.state.autoPlay&&((ge=this.player)==null||ge.play().catch(()=>console.log("Unable to autoplay prior to user interaction with the dom.")))})}),M.on(t.Events.ERROR,function(ge,Ce){if(Ce.fatal)switch(Ce.type){case t.ErrorTypes.NETWORK_ERROR:r.setState({useHLSJS:!1}),r.hls.destroy(),M.startLoad();break;case t.ErrorTypes.MEDIA_ERROR:M.recoverMediaError();break;default:this._initHlsjs();break}}),this.hls=M,this.hlsModule=t}}const ys={videoEmbed:"frontend-components-video_embed_player-module__videoEmbed--c8Rt0",canEdit:"frontend-components-video_embed_player-module__canEdit--JuBgP",editVideoEmbedWrap:"frontend-components-video_embed_player-module__editVideoEmbedWrap--Leli9",editVideoEmbed:"frontend-components-video_embed_player-module__editVideoEmbed--UVfno",imageGallery:"frontend-components-video_embed_player-module__imageGallery--_vwgz",videoPlaceholder:"frontend-components-video_embed_player-module__videoPlaceholder--Tl9mB",videoScrollTarget:"frontend-components-video_embed_player-module__videoScrollTarget--d5irI"},N3=({mediaUploadId:n,post:t,pub:r,isEditor:i=!1})=>{const[a,M]=(0,o.eJ)(null),k=(0,o.sO)(null),F=Se=>{var Ue,Ye;i&&(Se?(Ue=k.current)==null||Ue.open():(Ye=k.current)==null||Ye.close())},{mediaUpload:B,loading:Y,error:ge}=d3({mediaUploadId:n});n&&!a&&B&&M(B);const Ce=(0,o.I4)(()=>{document.dispatchEvent(new Event("editSelectedVideoEmbed"))},[]);return(0,e.h)("div",{"data-component-name":"VideoEmbedPlayer",id:(0,te.getLinkableElementIdForVideo)({mediaUploadId:n}),className:ys.videoScrollTarget},Y?(0,e.h)("div",{className:ys.videoPlaceholder},"Loading video"):ge||!a?(0,e.h)("div",{className:ys.videoPlaceholder},"Could not load video."):(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:l()(ys.videoEmbed,i&&ys.canEdit),onMouseEnter:()=>F(!0),onMouseLeave:()=>F(!1)},i&&(0,e.h)(R3,{onEditVideoEmbed:Ce,menuRef:k}),(0,e.h)(Bl,{mediaUpload:a,isStatic:!1,post:t!=null?t:null,pub:r}))))},R3=({onEditVideoEmbed:n,menuRef:t})=>(0,e.h)(he.hs,{justifyContent:"center",alignItems:"center",className:ys.editVideoEmbedWrap},(0,e.h)(zi.Fx,{ref:t,noList:!0},(0,e.h)(he.tu,{onClick:n,justifyContent:"center",alignItems:"center",className:ys.editVideoEmbed},(0,e.h)(Zs.Z,{height:20})))),L3=({mediaUpload:n,post:t,pub:r})=>{if(!n)return(0,e.h)("div",{"data-testid":"video-embed-player-static-missing-media"},"Did not find video");const i=(0,te.getLinkToVideo)({pub:r,post:t,mediaUploadId:n.id});return(0,e.h)(Bl,{mediaUpload:n,isStatic:!0,post:t,pub:r,href:i})};var B3=Object.defineProperty,k3=Object.defineProperties,U3=Object.getOwnPropertyDescriptors,R_=Object.getOwnPropertySymbols,F3=Object.prototype.hasOwnProperty,j3=Object.prototype.propertyIsEnumerable,L_=(n,t,r)=>t in n?B3(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,ka=(n,t)=>{for(var r in t||(t={}))F3.call(t,r)&&L_(n,r,t[r]);if(R_)for(var r of R_(t))j3.call(t,r)&&L_(n,r,t[r]);return n},kl=(n,t)=>k3(n,U3(t));const W3=(n,{pub:t,props:{isStatic:r,post:i,dataForEmailRender:a}})=>{var M;try{const k=n.getAttribute("data-attrs");if(k){const{mediaUploadId:F}=JSON.parse(wi()(k));return r?(0,e.h)(L3,{pub:t,post:i,mediaUpload:(M=a.idToMediaUpload)==null?void 0:M[F]}):(0,e.h)(N3,{pub:t,post:i,mediaUploadId:F})}}catch(k){console.error("Failed to parse video:",k)}return(0,e.h)(e.Fragment,null)},H3=(n,{pub:t,props:{isStatic:r}})=>{try{const i=n.getAttribute("data-attrs");if(i){const a=JSON.parse(wi()(i));return r?(0,e.h)(BI,kl(ka({},a),{isEditor:!1})):(0,e.h)(LI,kl(ka({},a),{isEditor:!1}))}}catch(i){console.error("Failed to parse digest post embed:",i)}return(0,e.h)(e.Fragment,null)},V3=(n,{pub:t,props:{isStatic:r}})=>{try{const i=n.getAttribute("data-attrs"),a=JSON.parse(wi()(i));return r?(0,e.h)(u3,kl(ka({},a),{pub:t})):(0,e.h)(l3,kl(ka({},a),{pub:t}))}catch(i){console.error("Failed to parse referrals card:",i)}return(0,e.h)(e.Fragment,null)},K3=(n,{props:{isStatic:t}})=>{var r;try{const i=n.getAttribute("data-attrs");if(i){const M=(r=JSON.parse(i))!=null?r:{};return t?(0,e.h)(UI,ka({},M)):(0,e.h)(FI,ka({},M))}}catch(i){console.error("Failed to parse image3:",i)}return(0,e.h)(e.Fragment,null)},$3=(n,{pub:t,props:{isStatic:r,post:i}})=>{try{const a=n.getAttribute("data-attrs");if(a){const M=JSON.parse(a),F={node:{attrs:kl(ka({},M),{isEditor:!1})}};return r?(0,e.h)(XI,ka({},F)):(0,e.h)(JI,ka({},F))}}catch(a){console.error("Failed to parse image gallery embed:",a)}return(0,e.h)(e.Fragment,null)};var B_=Et(72985),Of=Et(46505);function k_(n,t){return(0,B_.cleanSlug)((0,nn.truncateText)(n,500,{ellipsis:""}),{allowUnicode:t})}function z3({text:n,post:t,pub:r,offsetTop:i,isAboutPage:a}){const{isStatic:M}=(0,o.qp)(Of.E),k=k_(n,!0),F=k_(n,!1),B=(0,hm.g)();if(!t&&!a||!r||M)return null;const Y=a?`${(0,p.getAboutUrl)(r,{addBase:!0})}#\xA7${k}`:`${(0,p.getBaseUrl)(r)}/i/${t.id}/${k}`,ge=Ce=>{location!=null&&location.href&&(Ce.preventDefault(),(0,C.j)(C.FP.HEADER_ANCHOR_WIDGET_CLICKED,{destination:Y}),B(Y))};return(0,e.h)("div",{id:`\xA7${k}`,className:l()("header-anchor-widget",{"offset-top":i})},(t==null?void 0:t.id)<66696300&&k!==F&&(0,e.h)("div",{id:`\xA7${F}`}),(0,e.h)("div",{className:"header-anchor-widget-button-container"},(0,e.h)("div",{className:"header-anchor-widget-button",href:Y,onClick:ge},(0,e.h)($s.Z,{className:"header-anchor-widget-icon",size:20}))))}var G3=Et(47641),U_;const Z3=typeof window!="undefined"?(U_=window._preloads)==null?void 0:U_.freeSignup:!1,F_=(0,e.createContext)(Z3);F_.displayName="FreeSignupContext";function Y3(){return(0,o.qp)(F_)}var j_=Et(35291),J3=Object.defineProperty,X3=Object.defineProperties,Q3=Object.getOwnPropertyDescriptors,W_=Object.getOwnPropertySymbols,q3=Object.prototype.hasOwnProperty,e9=Object.prototype.propertyIsEnumerable,H_=(n,t,r)=>t in n?J3(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,V_=(n,t)=>{for(var r in t||(t={}))q3.call(t,r)&&H_(n,r,t[r]);if(W_)for(var r of W_(t))e9.call(t,r)&&H_(n,r,t[r]);return n},t9=(n,t)=>X3(n,Q3(t));class n9 extends Mt.p{constructor(t,r){var i,a;super(t,r),this.state.email=(a=(i=this.props.user)==null?void 0:i.email)!=null?a:null}onOpen(){(0,C.j)(C.FP.POLL_SIGNUP_DIALOG_PRESENTED,{poll_id:this.props.pollId,post_id:this.props.post.id})}onClose(){(0,C.j)(C.FP.POLL_SIGNUP_DIALOG_CLOSED,{poll_id:this.props.pollId,post_id:this.props.post.id})}renderChildren(){const{pub:t,post:r,user:i,audience:a,pollId:M}=this.props,{email:k}=this.state,F=a==="only_paid"?"paid subscribers":"subscribers";return(0,e.h)("div",null,(0,e.h)("div",{className:"poll-signup-header"},(0,e.h)("div",{className:"poll-signup-title"},`Subscribe to ${t.name} to vote on this poll`),(0,e.h)("div",{className:"poll-signup-audience"},"Only ",F," can vote on this poll.")),(0,e.h)(je.ZP,{method:"post",action:(0,p.pathWithQuery)("/api/v1/free"),loading:!1,autoLock:!0,onSuccess:B=>{(0,C.j)(C.FP.POLL_SIGNUP_DIALOG_SUBMITTED,{poll_id:M,post_id:r.id}),t.plans||t.has_recommendations?document.location.href=(0,p.getSubscribeUrl)(this.props.pub,t9(V_(V_({utm_medium:"web",utm_source:"poll-subscribe-modal",utm_content:r&&r.id,just_signed_up:!0,requires_confirmation:B.body.requires_confirmation?"true":""},B.body.subscription_id&&{subscription_id:B.body.subscription_id}),B.body.referral_token&&{referral_token:B.body.referral_token}),{next:(0,p.getPostUrl)(t,r)})):document.location.reload()}},(0,e.h)("div",{className:"poll-signup"},(0,e.h)("input",{placeholder:"Type your email...",type:"email",name:"email","aria-label":"Email",value:k,disabled:!!i.email,tabIndex:0,onChange:B=>{this.setState({email:B.target.value})}}),(0,e.h)("input",{type:"hidden",name:"source",value:"poll-subscribe-modal"})),(0,e.h)("div",{id:"error-container"}),(0,e.h)("button",{className:"button primary",type:"submit"},"Subscribe")),!i.email&&(0,e.h)("div",{className:"poll-signin-prompt"},"Already a subscriber?"," ",(0,e.h)("a",{className:"poll-signin-link",href:(0,p.getSigninUrl)({for_pub:t.subdomain,redirect:(0,p.getPostUrl)(t,r)})},"Sign in")))}}var r9=Et(30105);function o9(n){if(n.sheet)return n.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===n)return document.styleSheets[t]}function i9(n){var t=document.createElement("style");return t.setAttribute("data-emotion",n.key),n.nonce!==void 0&&t.setAttribute("nonce",n.nonce),t.appendChild(document.createTextNode("")),t}var a9=function(){function n(r){this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.before=null}var t=n.prototype;return t.insert=function(i){if(this.ctr%(this.isSpeedy?65e3:1)===0){var a=i9(this),M;this.tags.length===0?M=this.before:M=this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(a,M),this.tags.push(a)}var k=this.tags[this.tags.length-1];if(this.isSpeedy){var F=o9(k);try{var B=i.charCodeAt(1)===105&&i.charCodeAt(0)===64;F.insertRule(i,B?0:F.cssRules.length)}catch(Y){}}else k.appendChild(document.createTextNode(i));this.ctr++},t.flush=function(){this.tags.forEach(function(i){return i.parentNode.removeChild(i)}),this.tags=[],this.ctr=0},n}();function s9(n){function t(Ln,qn,Pn,Xn,Gt){for(var lr=0,Tn=0,cr=0,Er=0,Gr,or,Fr=0,fr=0,_r,lo=_r=Gr=0,Kr=0,zr=0,Ci=0,Ho=0,ha=Pn.length,Vi=ha-1,di,to="",qo="",wu="",Ia="",ea;Kr<ha;){if(or=Pn.charCodeAt(Kr),Kr===Vi&&Tn+Er+cr+lr!==0&&(Tn!==0&&(or=Tn===47?10:47),Er=cr=lr=0,ha++,Vi++),Tn+Er+cr+lr===0){if(Kr===Vi&&(0<zr&&(to=to.replace(Se,"")),0<to.trim().length)){switch(or){case 32:case 9:case 59:case 13:case 10:break;default:to+=Pn.charAt(Kr)}or=59}switch(or){case 123:for(to=to.trim(),Gr=to.charCodeAt(0),_r=1,Ho=++Kr;Kr<ha;){switch(or=Pn.charCodeAt(Kr)){case 123:_r++;break;case 125:_r--;break;case 47:switch(or=Pn.charCodeAt(Kr+1)){case 42:case 47:e:{for(lo=Kr+1;lo<Vi;++lo)switch(Pn.charCodeAt(lo)){case 47:if(or===42&&Pn.charCodeAt(lo-1)===42&&Kr+2!==lo){Kr=lo+1;break e}break;case 10:if(or===47){Kr=lo+1;break e}}Kr=lo}}break;case 91:or++;case 40:or++;case 34:case 39:for(;Kr++<Vi&&Pn.charCodeAt(Kr)!==or;);}if(_r===0)break;Kr++}switch(_r=Pn.substring(Ho,Kr),Gr===0&&(Gr=(to=to.replace(Ce,"").trim()).charCodeAt(0)),Gr){case 64:switch(0<zr&&(to=to.replace(Se,"")),or=to.charCodeAt(1),or){case 100:case 109:case 115:case 45:zr=qn;break;default:zr=er}if(_r=t(qn,zr,_r,or,Gt+1),Ho=_r.length,0<Vn&&(zr=r(er,to,Ci),ea=F(3,_r,zr,qn,Yn,En,Ho,or,Gt,Xn),to=zr.join(""),ea!==void 0&&(Ho=(_r=ea.trim()).length)===0&&(or=0,_r="")),0<Ho)switch(or){case 115:to=to.replace(Ut,k);case 100:case 109:case 45:_r=to+"{"+_r+"}";break;case 107:to=to.replace(gt,"$1 $2"),_r=to+"{"+_r+"}",_r=bn===1||bn===2&&M("@"+_r,3)?"@-webkit-"+_r+"@"+_r:"@"+_r;break;default:_r=to+_r,Xn===112&&(_r=(qo+=_r,""))}else _r="";break;default:_r=t(qn,r(qn,to,Ci),_r,Xn,Gt+1)}wu+=_r,_r=Ci=zr=lo=Gr=0,to="",or=Pn.charCodeAt(++Kr);break;case 125:case 59:if(to=(0<zr?to.replace(Se,""):to).trim(),1<(Ho=to.length))switch(lo===0&&(Gr=to.charCodeAt(0),Gr===45||96<Gr&&123>Gr)&&(Ho=(to=to.replace(" ",":")).length),0<Vn&&(ea=F(1,to,qn,Ln,Yn,En,qo.length,Xn,Gt,Xn))!==void 0&&(Ho=(to=ea.trim()).length)===0&&(to="\0\0"),Gr=to.charCodeAt(0),or=to.charCodeAt(1),Gr){case 0:break;case 64:if(or===105||or===99){Ia+=to+Pn.charAt(Kr);break}default:to.charCodeAt(Ho-1)!==58&&(qo+=a(to,Gr,or,to.charCodeAt(2)))}Ci=zr=lo=Gr=0,to="",or=Pn.charCodeAt(++Kr)}}switch(or){case 13:case 10:Tn===47?Tn=0:1+Gr===0&&Xn!==107&&0<to.length&&(zr=1,to+="\0"),0<Vn*Jn&&F(0,to,qn,Ln,Yn,En,qo.length,Xn,Gt,Xn),En=1,Yn++;break;case 59:case 125:if(Tn+Er+cr+lr===0){En++;break}default:switch(En++,di=Pn.charAt(Kr),or){case 9:case 32:if(Er+lr+Tn===0)switch(Fr){case 44:case 58:case 9:case 32:di="";break;default:or!==32&&(di=" ")}break;case 0:di="\\0";break;case 12:di="\\f";break;case 11:di="\\v";break;case 38:Er+Tn+lr===0&&(zr=Ci=1,di="\f"+di);break;case 108:if(Er+Tn+lr+kn===0&&0<lo)switch(Kr-lo){case 2:Fr===112&&Pn.charCodeAt(Kr-3)===58&&(kn=Fr);case 8:fr===111&&(kn=fr)}break;case 58:Er+Tn+lr===0&&(lo=Kr);break;case 44:Tn+cr+Er+lr===0&&(zr=1,di+="\r");break;case 34:case 39:Tn===0&&(Er=Er===or?0:Er===0?or:Er);break;case 91:Er+Tn+cr===0&&lr++;break;case 93:Er+Tn+cr===0&&lr--;break;case 41:Er+Tn+lr===0&&cr--;break;case 40:if(Er+Tn+lr===0){if(Gr===0)switch(2*Fr+3*fr){case 533:break;default:Gr=1}cr++}break;case 64:Tn+cr+Er+lr+lo+_r===0&&(_r=1);break;case 42:case 47:if(!(0<Er+lr+cr))switch(Tn){case 0:switch(2*or+3*Pn.charCodeAt(Kr+1)){case 235:Tn=47;break;case 220:Ho=Kr,Tn=42}break;case 42:or===47&&Fr===42&&Ho+2!==Kr&&(Pn.charCodeAt(Ho+2)===33&&(qo+=Pn.substring(Ho,Kr+1)),di="",Tn=0)}}Tn===0&&(to+=di)}fr=Fr,Fr=or,Kr++}if(Ho=qo.length,0<Ho){if(zr=qn,0<Vn&&(ea=F(2,qo,zr,Ln,Yn,En,Ho,Xn,Gt,Xn),ea!==void 0&&(qo=ea).length===0))return Ia+qo+wu;if(qo=zr.join(",")+"{"+qo+"}",bn*kn!==0){switch(bn!==2||M(qo,2)||(kn=0),kn){case 111:qo=qo.replace(Nt,":-moz-$1")+qo;break;case 112:qo=qo.replace(xt,"::-webkit-input-$1")+qo.replace(xt,"::-moz-$1")+qo.replace(xt,":-ms-input-$1")+qo}kn=0}}return Ia+qo+wu}function r(Ln,qn,Pn){var Xn=qn.trim().split(at);qn=Xn;var Gt=Xn.length,lr=Ln.length;switch(lr){case 0:case 1:var Tn=0;for(Ln=lr===0?"":Ln[0]+" ";Tn<Gt;++Tn)qn[Tn]=i(Ln,qn[Tn],Pn).trim();break;default:var cr=Tn=0;for(qn=[];Tn<Gt;++Tn)for(var Er=0;Er<lr;++Er)qn[cr++]=i(Ln[Er]+" ",Xn[Tn],Pn).trim()}return qn}function i(Ln,qn,Pn){var Xn=qn.charCodeAt(0);switch(33>Xn&&(Xn=(qn=qn.trim()).charCodeAt(0)),Xn){case 38:return qn.replace(pt,"$1"+Ln.trim());case 58:return Ln.trim()+qn.replace(pt,"$1"+Ln.trim());default:if(0<1*Pn&&0<qn.indexOf("\f"))return qn.replace(pt,(Ln.charCodeAt(0)===58?"":"$1")+Ln.trim())}return Ln+qn}function a(Ln,qn,Pn,Xn){var Gt=Ln+";",lr=2*qn+3*Pn+4*Xn;if(lr===944){Ln=Gt.indexOf(":",9)+1;var Tn=Gt.substring(Ln,Gt.length-1).trim();return Tn=Gt.substring(0,Ln).trim()+Tn+";",bn===1||bn===2&&M(Tn,1)?"-webkit-"+Tn+Tn:Tn}if(bn===0||bn===2&&!M(Gt,1))return Gt;switch(lr){case 1015:return Gt.charCodeAt(10)===97?"-webkit-"+Gt+Gt:Gt;case 951:return Gt.charCodeAt(3)===116?"-webkit-"+Gt+Gt:Gt;case 963:return Gt.charCodeAt(5)===110?"-webkit-"+Gt+Gt:Gt;case 1009:if(Gt.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+Gt+Gt;case 978:return"-webkit-"+Gt+"-moz-"+Gt+Gt;case 1019:case 983:return"-webkit-"+Gt+"-moz-"+Gt+"-ms-"+Gt+Gt;case 883:if(Gt.charCodeAt(8)===45)return"-webkit-"+Gt+Gt;if(0<Gt.indexOf("image-set(",11))return Gt.replace(In,"$1-webkit-$2")+Gt;break;case 932:if(Gt.charCodeAt(4)===45)switch(Gt.charCodeAt(5)){case 103:return"-webkit-box-"+Gt.replace("-grow","")+"-webkit-"+Gt+"-ms-"+Gt.replace("grow","positive")+Gt;case 115:return"-webkit-"+Gt+"-ms-"+Gt.replace("shrink","negative")+Gt;case 98:return"-webkit-"+Gt+"-ms-"+Gt.replace("basis","preferred-size")+Gt}return"-webkit-"+Gt+"-ms-"+Gt+Gt;case 964:return"-webkit-"+Gt+"-ms-flex-"+Gt+Gt;case 1023:if(Gt.charCodeAt(8)!==99)break;return Tn=Gt.substring(Gt.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+Tn+"-webkit-"+Gt+"-ms-flex-pack"+Tn+Gt;case 1005:return Ye.test(Gt)?Gt.replace(Ue,":-webkit-")+Gt.replace(Ue,":-moz-")+Gt:Gt;case 1e3:switch(Tn=Gt.substring(13).trim(),qn=Tn.indexOf("-")+1,Tn.charCodeAt(0)+Tn.charCodeAt(qn)){case 226:Tn=Gt.replace(Tt,"tb");break;case 232:Tn=Gt.replace(Tt,"tb-rl");break;case 220:Tn=Gt.replace(Tt,"lr");break;default:return Gt}return"-webkit-"+Gt+"-ms-"+Tn+Gt;case 1017:if(Gt.indexOf("sticky",9)===-1)break;case 975:switch(qn=(Gt=Ln).length-10,Tn=(Gt.charCodeAt(qn)===33?Gt.substring(0,qn):Gt).substring(Ln.indexOf(":",7)+1).trim(),lr=Tn.charCodeAt(0)+(Tn.charCodeAt(7)|0)){case 203:if(111>Tn.charCodeAt(8))break;case 115:Gt=Gt.replace(Tn,"-webkit-"+Tn)+";"+Gt;break;case 207:case 102:Gt=Gt.replace(Tn,"-webkit-"+(102<lr?"inline-":"")+"box")+";"+Gt.replace(Tn,"-webkit-"+Tn)+";"+Gt.replace(Tn,"-ms-"+Tn+"box")+";"+Gt}return Gt+";";case 938:if(Gt.charCodeAt(5)===45)switch(Gt.charCodeAt(6)){case 105:return Tn=Gt.replace("-items",""),"-webkit-"+Gt+"-webkit-box-"+Tn+"-ms-flex-"+Tn+Gt;case 115:return"-webkit-"+Gt+"-ms-flex-item-"+Gt.replace(rn,"")+Gt;default:return"-webkit-"+Gt+"-ms-flex-line-pack"+Gt.replace("align-content","").replace(rn,"")+Gt}break;case 973:case 989:if(Gt.charCodeAt(3)!==45||Gt.charCodeAt(4)===122)break;case 931:case 953:if(yn.test(Ln)===!0)return(Tn=Ln.substring(Ln.indexOf(":")+1)).charCodeAt(0)===115?a(Ln.replace("stretch","fill-available"),qn,Pn,Xn).replace(":fill-available",":stretch"):Gt.replace(Tn,"-webkit-"+Tn)+Gt.replace(Tn,"-moz-"+Tn.replace("fill-",""))+Gt;break;case 962:if(Gt="-webkit-"+Gt+(Gt.charCodeAt(5)===102?"-ms-"+Gt:"")+Gt,Pn+Xn===211&&Gt.charCodeAt(13)===105&&0<Gt.indexOf("transform",10))return Gt.substring(0,Gt.indexOf(";",27)+1).replace(Ve,"$1-webkit-$2")+Gt}return Gt}function M(Ln,qn){var Pn=Ln.indexOf(qn===1?":":"{"),Xn=Ln.substring(0,qn!==3?Pn:10);return Pn=Ln.substring(Pn+1,Ln.length-1),ar(qn!==2?Xn:Xn.replace(ln,"$1"),Pn,qn)}function k(Ln,qn){var Pn=a(qn,qn.charCodeAt(0),qn.charCodeAt(1),qn.charCodeAt(2));return Pn!==qn+";"?Pn.replace(qt," or ($1)").substring(4):"("+qn+")"}function F(Ln,qn,Pn,Xn,Gt,lr,Tn,cr,Er,Gr){for(var or=0,Fr=qn,fr;or<Vn;++or)switch(fr=rr[or].call(ge,Ln,Fr,Pn,Xn,Gt,lr,Tn,cr,Er,Gr)){case void 0:case!1:case!0:case null:break;default:Fr=fr}if(Fr!==qn)return Fr}function B(Ln){switch(Ln){case void 0:case null:Vn=rr.length=0;break;default:if(typeof Ln=="function")rr[Vn++]=Ln;else if(typeof Ln=="object")for(var qn=0,Pn=Ln.length;qn<Pn;++qn)B(Ln[qn]);else Jn=!!Ln|0}return B}function Y(Ln){return Ln=Ln.prefix,Ln!==void 0&&(ar=null,Ln?typeof Ln!="function"?bn=1:(bn=2,ar=Ln):bn=0),Y}function ge(Ln,qn){var Pn=Ln;if(33>Pn.charCodeAt(0)&&(Pn=Pn.trim()),Qn=Pn,Pn=[Qn],0<Vn){var Xn=F(-1,qn,Pn,Pn,Yn,En,0,0,0,0);Xn!==void 0&&typeof Xn=="string"&&(qn=Xn)}var Gt=t(er,Pn,qn,0,0);return 0<Vn&&(Xn=F(-2,Gt,Pn,Pn,Yn,En,Gt.length,0,0,0),Xn!==void 0&&(Gt=Xn)),Qn="",kn=0,En=Yn=1,Gt}var Ce=/^\0+/g,Se=/[\0\r\f]/g,Ue=/: */g,Ye=/zoo|gra/,Ve=/([,: ])(transform)/g,at=/,\r+?/g,pt=/([\t\r\n ])*\f?&/g,gt=/@(k\w+)\s*(\S*)\s*/,xt=/::(place)/g,Nt=/:(read-only)/g,Tt=/[svh]\w+-[tblr]{2}/,Ut=/\(\s*(.*)\s*\)/g,qt=/([\s\S]*?);/g,rn=/-self|flex-/g,ln=/[^]*?(:[rp][el]a[\w-]+)[^]*/,yn=/stretch|:\s*\w+\-(?:conte|avail)/,In=/([^-])(image-set\()/,En=1,Yn=1,kn=0,bn=1,er=[],rr=[],Vn=0,ar=null,Jn=0,Qn="";return ge.use=B,ge.set=Y,n!==void 0&&Y(n),ge}const l9=s9;var Sf="/*|*/",u9=Sf+"}";function c9(n){n&&mc.current.insert(n+"}")}var mc={current:null},d9=function(t,r,i,a,M,k,F,B,Y,ge){switch(t){case 1:{switch(r.charCodeAt(0)){case 64:return mc.current.insert(r+";"),"";case 108:if(r.charCodeAt(2)===98)return""}break}case 2:{if(B===0)return r+Sf;break}case 3:switch(B){case 102:case 112:return mc.current.insert(i[0]+r),"";default:return r+(ge===0?Sf:"")}case-2:r.split(u9).forEach(c9)}},f9=function(t){t===void 0&&(t={});var r=t.key||"css",i;t.prefix!==void 0&&(i={prefix:t.prefix});var a=new l9(i),M={},k;{k=t.container||document.head;var F=document.querySelectorAll("style[data-emotion-"+r+"]");Array.prototype.forEach.call(F,function(Se){var Ue=Se.getAttribute("data-emotion-"+r);Ue.split(" ").forEach(function(Ye){M[Ye]=!0}),Se.parentNode!==k&&k.appendChild(Se)})}var B;if(a.use(t.stylisPlugins)(d9),B=function(Ue,Ye,Ve,at){var pt=Ye.name;if(mc.current=Ve,!1)var gt;a(Ue,Ye.styles),at&&(Ce.inserted[pt]=!0)},!1)var Y,ge;var Ce={key:r,sheet:new a9({key:r,container:k,nonce:t.nonce,speedy:t.speedy}),nonce:t.nonce,inserted:M,registered:{},insert:B};return Ce};const p9=f9;var h9=!0;function K_(n,t,r){var i="";return r.split(" ").forEach(function(a){n[a]!==void 0?t.push(n[a]):i+=a+" "}),i}var $_=function(t,r,i){var a=t.key+"-"+r.name;if((i===!1||h9===!1&&t.compat!==void 0)&&t.registered[a]===void 0&&(t.registered[a]=r.styles),t.inserted[r.name]===void 0){var M=r;do{var k=t.insert("."+a,M,t.sheet,!0);M=M.next}while(M!==void 0)}};function m9(n){for(var t=0,r,i=0,a=n.length;a>=4;++i,a-=4)r=n.charCodeAt(i)&255|(n.charCodeAt(++i)&255)<<8|(n.charCodeAt(++i)&255)<<16|(n.charCodeAt(++i)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(a){case 3:t^=(n.charCodeAt(i+2)&255)<<16;case 2:t^=(n.charCodeAt(i+1)&255)<<8;case 1:t^=n.charCodeAt(i)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}const _9=m9;var g9={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};const v9=g9;function y9(n){var t={};return function(r){return t[r]===void 0&&(t[r]=n(r)),t[r]}}const b9=y9;var m$=`You have illegal escape sequence in your template literal, most likely inside content's property value.
Because you write your CSS inside a JavaScript string you actually have to do double escaping, so for example "content: '\\00d7';" should become "content: '\\\\00d7';".
You can read more about this here:
https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#ES2018_revision_of_illegal_escape_sequences`,_$="You have passed in falsy value as style object's key (can happen when in example you pass unexported component as computed key).",P9=/[A-Z]|^ms/g,E9=/_EMO_([^_]+?)_([^]*?)_EMO_/g,z_=function(t){return t.charCodeAt(1)===45},G_=function(t){return t!=null&&typeof t!="boolean"},Tf=b9(function(n){return z_(n)?n:n.replace(P9,"-$&").toLowerCase()}),Z_=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(E9,function(i,a,M){return Ca={name:a,styles:M,next:Ca},a})}return v9[t]!==1&&!z_(t)&&typeof r=="number"&&r!==0?r+"px":r};if(!1)var g$,v$,y$,b$,P$,E$;var w$=!0;function Ul(n,t,r,i){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return Ca={name:r.name,styles:r.styles,next:Ca},r.name;if(r.styles!==void 0){var a=r.next;if(a!==void 0)for(;a!==void 0;)Ca={name:a.name,styles:a.styles,next:Ca},a=a.next;var M=r.styles+";";return M}return w9(n,t,r)}case"function":{if(n!==void 0){var k=Ca,F=r(n);return Ca=k,Ul(n,t,F,i)}break}case"string":if(!1)var B,Y;break}if(t==null)return r;var ge=t[r];return ge!==void 0&&!i?ge:r}function w9(n,t,r){var i="";if(Array.isArray(r))for(var a=0;a<r.length;a++)i+=Ul(n,t,r[a],!1);else for(var M in r){var k=r[M];if(typeof k!="object")t!=null&&t[k]!==void 0?i+=M+"{"+t[k]+"}":G_(k)&&(i+=Tf(M)+":"+Z_(M,k)+";");else if(Array.isArray(k)&&typeof k[0]=="string"&&(t==null||t[k[0]]===void 0))for(var F=0;F<k.length;F++)G_(k[F])&&(i+=Tf(M)+":"+Z_(M,k[F])+";");else{var B=Ul(n,t,k,!1);switch(M){case"animation":case"animationName":{i+=Tf(M)+":"+B+";";break}default:i+=M+"{"+B+"}"}}}return i}var Y_=/label:\s*([^\s;\n{]+)\s*;/g,C$,Ca,If=function(t,r,i){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var a=!0,M="";Ca=void 0;var k=t[0];k==null||k.raw===void 0?(a=!1,M+=Ul(i,r,k,!1)):M+=k[0];for(var F=1;F<t.length;F++)M+=Ul(i,r,t[F],M.charCodeAt(M.length-1)===46),a&&(M+=k[F]);var B;Y_.lastIndex=0;for(var Y="",ge;(ge=Y_.exec(M))!==null;)Y+="-"+ge[1];var Ce=_9(M)+Y;return{name:Ce,styles:M,next:Ca}},xf=Object.prototype.hasOwnProperty,J_=(0,Kt.createContext)(typeof HTMLElement!="undefined"?p9():null),X_=(0,Kt.createContext)({}),O$=J_.Provider,Q_=function(t){var r=function(a,M){return(0,Kt.createElement)(J_.Consumer,null,function(k){return t(a,k,M)})};return(0,Kt.forwardRef)(r)},S$=function(t){return t.replace(/\$/g,"-")},Mf="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",T$="__EMOTION_LABEL_PLEASE_DO_NOT_USE__",C9=function(t,r){var i={};for(var a in r)xf.call(r,a)&&(i[a]=r[a]);if(i[Mf]=t,!1)var M,k;return i},q_=function(t,r,i,a){var M=i===null?r.css:r.css(i);typeof M=="string"&&t.registered[M]!==void 0&&(M=t.registered[M]);var k=r[Mf],F=[M],B="";typeof r.className=="string"?B=K_(t.registered,F,r.className):r.className!=null&&(B=r.className+" ");var Y=If(F);if(!1)var ge;var Ce=$_(t,Y,typeof k=="string");B+=t.key+"-"+Y.name;var Se={};for(var Ue in r)xf.call(r,Ue)&&Ue!=="css"&&Ue!==Mf&&(Se[Ue]=r[Ue]);Se.ref=a,Se.className=B;var Ye=(0,Kt.createElement)(k,Se);return Ye},O9=Q_(function(n,t,r){return typeof n.css=="function"?(0,Kt.createElement)(X_.Consumer,null,function(i){return q_(t,n,i,r)}):q_(t,n,null,r)});function S9(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return If(t)}const Df=S9;var so=function(t,r){var i=arguments;if(r==null||!xf.call(r,"css"))return Kt.createElement.apply(void 0,i);var a=i.length,M=new Array(a);M[0]=O9,M[1]=C9(t,r);for(var k=2;k<a;k++)M[k]=i[k];return Kt.createElement.apply(null,M)},I$=!1,x$=null,M$=null,T9=function(){var t=Df.apply(void 0,arguments),r="animation-"+t.name;return{name:r,styles:"@keyframes "+r+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},I9=function n(t){for(var r=t.length,i=0,a="";i<r;i++){var M=t[i];if(M!=null){var k=void 0;switch(typeof M){case"boolean":break;case"object":{if(Array.isArray(M))k=n(M);else{k="";for(var F in M)M[F]&&F&&(k&&(k+=" "),k+=F)}break}default:k=M}k&&(a&&(a+=" "),a+=k)}}return a};function x9(n,t,r){var i=[],a=K_(n,i,r);return i.length<2?r:a+t(i)}var M9=Q_(function(n,t){return(0,Kt.createElement)(X_.Consumer,null,function(r){var i=!1,a=function(){for(var Y=arguments.length,ge=new Array(Y),Ce=0;Ce<Y;Ce++)ge[Ce]=arguments[Ce];var Se=If(ge,t.registered);return $_(t,Se,!1),t.key+"-"+Se.name},M=function(){for(var Y=arguments.length,ge=new Array(Y),Ce=0;Ce<Y;Ce++)ge[Ce]=arguments[Ce];return x9(t.registered,a,I9(ge))},k={css:a,cx:M,theme:r},F=n.children(k);return i=!0,F})});function D9(n,t){if(n==null)return{};var r={},i=Object.keys(n),a,M;for(M=0;M<i.length;M++)a=i[M],!(t.indexOf(a)>=0)&&(r[a]=n[a]);return r}function bs(n,t){if(n==null)return{};var r=D9(n,t),i,a;if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(n);for(a=0;a<M.length;a++)i=M[a],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(r[i]=n[i])}return r}function _o(){return _o=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},_o.apply(this,arguments)}function A9(n){if(Array.isArray(n))return n}function N9(n,t){var r=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,a,M,k,F=[],B=!0,Y=!1;try{if(M=(r=r.call(n)).next,t===0){if(Object(r)!==r)return;B=!1}else for(;!(B=(i=M.call(r)).done)&&(F.push(i.value),F.length!==t);B=!0);}catch(ge){Y=!0,a=ge}finally{try{if(!B&&r.return!=null&&(k=r.return(),Object(k)!==k))return}finally{if(Y)throw a}}return F}}function Af(n,t){(t==null||t>n.length)&&(t=n.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=n[r];return i}function eg(n,t){if(n){if(typeof n=="string")return Af(n,t);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Af(n,t)}}function R9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tg(n,t){return A9(n)||N9(n,t)||eg(n,t)||R9()}function L9(n){if(Array.isArray(n))return Af(n)}function B9(n){if(typeof Symbol!="undefined"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function k9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U9(n){return L9(n)||B9(n)||eg(n)||k9()}function Ua(n){"@babel/helpers - typeof";return Ua=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ua(n)}function F9(n,t){if(Ua(n)!=="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,t||"default");if(Ua(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function ng(n){var t=F9(n,"string");return Ua(t)==="symbol"?t:String(t)}function Ni(n,t,r){return t=ng(t),t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function Ya(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function rg(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,ng(i.key),i)}}function Ja(n,t,r){return t&&rg(n.prototype,t),r&&rg(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n}function Nf(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Rf(n,t){return Rf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,a){return i.__proto__=a,i},Rf(n,t)}function Xa(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&Rf(n,t)}function Ps(n,t){if(t&&(Ua(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nf(n)}function Ri(n){return Ri=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ri(n)}function j9(n,t){if(n.length!==t.length)return!1;for(var r=0;r<n.length;r++)if(n[r]!==t[r])return!1;return!0}function W9(n,t){t===void 0&&(t=j9);var r,i=[],a,M=!1;function k(){for(var F=[],B=0;B<arguments.length;B++)F[B]=arguments[B];return M&&r===this&&t(F,i)||(a=n.apply(this,F),M=!0,r=this,i=F),a}return k}const og=W9;function H9(n,t){return t||(t=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(t)}}))}var V9=Et(35639),ig=function(){};function K9(n,t){return t?t[0]==="-"?n+t:n+"__"+t:n}function $9(n,t,r){var i=[r];if(t&&n)for(var a in t)t.hasOwnProperty(a)&&t[a]&&i.push("".concat(K9(n,a)));return i.filter(function(M){return M}).map(function(M){return String(M).trim()}).join(" ")}var ag=function(t){return Array.isArray(t)?t.filter(Boolean):Ua(t)==="object"&&t!==null?[t]:[]};function D$(n,t,r){if(r){var i=r(n,t);if(typeof i=="string")return i}return n}function Lf(n){return[document.documentElement,document.body,window].indexOf(n)>-1}function sg(n){return Lf(n)?window.pageYOffset:n.scrollTop}function _c(n,t){if(Lf(n)){window.scrollTo(0,t);return}n.scrollTop=t}function z9(n){var t=getComputedStyle(n),r=t.position==="absolute",i=/(auto|scroll)/,a=document.documentElement;if(t.position==="fixed")return a;for(var M=n;M=M.parentElement;)if(t=getComputedStyle(M),!(r&&t.position==="static")&&i.test(t.overflow+t.overflowY+t.overflowX))return M;return a}function G9(n,t,r,i){return r*((n=n/i-1)*n*n+1)+t}function gc(n,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ig,a=sg(n),M=t-a,k=10,F=0;function B(){F+=k;var Y=G9(F,a,M,r);_c(n,Y),F<r?window.requestAnimationFrame(B):i(n)}B()}function Z9(n,t){var r=n.getBoundingClientRect(),i=t.getBoundingClientRect(),a=t.offsetHeight/3;i.bottom+a>r.bottom?_c(n,Math.min(t.offsetTop+t.clientHeight-n.offsetHeight+a,n.scrollHeight)):i.top-a<r.top&&_c(n,Math.max(t.offsetTop-a,0))}function Y9(n){var t=n.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function lg(){try{return document.createEvent("TouchEvent"),!0}catch(n){return!1}}function J9(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(n){return!1}}function ug(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,i)}return r}function cg(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ug(Object(r),!0).forEach(function(i){Ni(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):ug(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function dg(n){var t=X9();return function(){var i=Ri(n),a;if(t){var M=Ri(this).constructor;a=Reflect.construct(i,arguments,M)}else a=i.apply(this,arguments);return Ps(this,a)}}function X9(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}function Q9(n){var t=n.maxHeight,r=n.menuEl,i=n.minHeight,a=n.placement,M=n.shouldScroll,k=n.isFixedPosition,F=n.theme,B=F.spacing,Y=z9(r),ge={placement:"bottom",maxHeight:t};if(!r||!r.offsetParent)return ge;var Ce=Y.getBoundingClientRect(),Se=Ce.height,Ue=r.getBoundingClientRect(),Ye=Ue.bottom,Ve=Ue.height,at=Ue.top,pt=r.offsetParent.getBoundingClientRect(),gt=pt.top,xt=window.innerHeight,Nt=sg(Y),Tt=parseInt(getComputedStyle(r).marginBottom,10),Ut=parseInt(getComputedStyle(r).marginTop,10),qt=gt-Ut,rn=xt-at,ln=qt+Nt,yn=Se-Nt-at,In=Ye-xt+Nt+Tt,En=Nt+at-Ut,Yn=160;switch(a){case"auto":case"bottom":if(rn>=Ve)return{placement:"bottom",maxHeight:t};if(yn>=Ve&&!k)return M&&gc(Y,In,Yn),{placement:"bottom",maxHeight:t};if(!k&&yn>=i||k&&rn>=i){M&&gc(Y,In,Yn);var kn=k?rn-Tt:yn-Tt;return{placement:"bottom",maxHeight:kn}}if(a==="auto"||k){var bn=t,er=k?qt:ln;return er>=i&&(bn=Math.min(er-Tt-B.controlHeight,t)),{placement:"top",maxHeight:bn}}if(a==="bottom")return _c(Y,In),{placement:"bottom",maxHeight:t};break;case"top":if(qt>=Ve)return{placement:"top",maxHeight:t};if(ln>=Ve&&!k)return M&&gc(Y,En,Yn),{placement:"top",maxHeight:t};if(!k&&ln>=i||k&&qt>=i){var rr=t;return(!k&&ln>=i||k&&qt>=i)&&(rr=k?qt-Ut:ln-Ut),M&&gc(Y,En,Yn),{placement:"top",maxHeight:rr}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(a,'".'))}return ge}function q9(n){var t={bottom:"top",top:"bottom"};return n?t[n]:"bottom"}var Bf=function(t){return t==="auto"?"bottom":t},ex=function(t){var r,i=t.placement,a=t.theme,M=a.borderRadius,k=a.spacing,F=a.colors;return r={label:"menu"},Ni(r,q9(i),"100%"),Ni(r,"backgroundColor",F.neutral0),Ni(r,"borderRadius",M),Ni(r,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),Ni(r,"marginBottom",k.menuGutter),Ni(r,"marginTop",k.menuGutter),Ni(r,"position","absolute"),Ni(r,"width","100%"),Ni(r,"zIndex",1),r},fg=(0,Kt.createContext)({getPortalPlacement:null}),pg=function(n){Xa(r,n);var t=dg(r);function r(){var i;Ya(this,r);for(var a=arguments.length,M=new Array(a),k=0;k<a;k++)M[k]=arguments[k];return i=t.call.apply(t,[this].concat(M)),i.state={maxHeight:i.props.maxMenuHeight,placement:null},i.getPlacement=function(F){var B=i.props,Y=B.minMenuHeight,ge=B.maxMenuHeight,Ce=B.menuPlacement,Se=B.menuPosition,Ue=B.menuShouldScrollIntoView,Ye=B.theme;if(F){var Ve=Se==="fixed",at=Ue&&!Ve,pt=Q9({maxHeight:ge,menuEl:F,minHeight:Y,placement:Ce,shouldScroll:at,isFixedPosition:Ve,theme:Ye}),gt=i.context.getPortalPlacement;gt&&gt(pt),i.setState(pt)}},i.getUpdatedProps=function(){var F=i.props.menuPlacement,B=i.state.placement||Bf(F);return cg(cg({},i.props),{},{placement:B,maxHeight:i.state.maxHeight})},i}return Ja(r,[{key:"render",value:function(){var a=this.props.children;return a({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),r}(Kt.Component);pg.contextType=fg;var tx=function(t){var r=t.children,i=t.className,a=t.cx,M=t.getStyles,k=t.innerRef,F=t.innerProps;return so("div",_o({css:M("menu",t),className:a({menu:!0},i)},F,{ref:k}),r)},nx=function(t){var r=t.maxHeight,i=t.theme.spacing.baseUnit;return{maxHeight:r,overflowY:"auto",paddingBottom:i,paddingTop:i,position:"relative",WebkitOverflowScrolling:"touch"}},rx=function(t){var r=t.children,i=t.className,a=t.cx,M=t.getStyles,k=t.isMulti,F=t.innerRef,B=t.innerProps;return so("div",_o({css:M("menuList",t),className:a({"menu-list":!0,"menu-list--is-multi":k},i),ref:F},B),r)},hg=function(t){var r=t.theme,i=r.spacing.baseUnit,a=r.colors;return{color:a.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px"),textAlign:"center"}},ox=hg,ix=hg,mg=function(t){var r=t.children,i=t.className,a=t.cx,M=t.getStyles,k=t.innerProps;return so("div",_o({css:M("noOptionsMessage",t),className:a({"menu-notice":!0,"menu-notice--no-options":!0},i)},k),r)};mg.defaultProps={children:"No options"};var _g=function(t){var r=t.children,i=t.className,a=t.cx,M=t.getStyles,k=t.innerProps;return so("div",_o({css:M("loadingMessage",t),className:a({"menu-notice":!0,"menu-notice--loading":!0},i)},k),r)};_g.defaultProps={children:"Loading..."};var ax=function(t){var r=t.rect,i=t.offset,a=t.position;return{left:r.left,position:a,top:i,width:r.width,zIndex:1}},sx=function(n){Xa(r,n);var t=dg(r);function r(){var i;Ya(this,r);for(var a=arguments.length,M=new Array(a),k=0;k<a;k++)M[k]=arguments[k];return i=t.call.apply(t,[this].concat(M)),i.state={placement:null},i.getPortalPlacement=function(F){var B=F.placement,Y=Bf(i.props.menuPlacement);B!==Y&&i.setState({placement:B})},i}return Ja(r,[{key:"render",value:function(){var a=this.props,M=a.appendTo,k=a.children,F=a.controlElement,B=a.menuPlacement,Y=a.menuPosition,ge=a.getStyles,Ce=Y==="fixed";if(!M&&!Ce||!F)return null;var Se=this.state.placement||Bf(B),Ue=Y9(F),Ye=Ce?0:window.pageYOffset,Ve=Ue[Se]+Ye,at={offset:Ve,position:Y,rect:Ue},pt=so("div",{css:ge("menuPortal",at)},k);return so(fg.Provider,{value:{getPortalPlacement:this.getPortalPlacement}},M?(0,Kt.createPortal)(pt,M):pt)}}]),r}(Kt.Component),gg=Array.isArray,vg=Object.keys,lx=Object.prototype.hasOwnProperty;function kf(n,t){if(n===t)return!0;if(n&&t&&Ua(n)=="object"&&Ua(t)=="object"){var r=gg(n),i=gg(t),a,M,k;if(r&&i){if(M=n.length,M!=t.length)return!1;for(a=M;a--!==0;)if(!kf(n[a],t[a]))return!1;return!0}if(r!=i)return!1;var F=n instanceof Date,B=t instanceof Date;if(F!=B)return!1;if(F&&B)return n.getTime()==t.getTime();var Y=n instanceof RegExp,ge=t instanceof RegExp;if(Y!=ge)return!1;if(Y&&ge)return n.toString()==t.toString();var Ce=vg(n);if(M=Ce.length,M!==vg(t).length)return!1;for(a=M;a--!==0;)if(!lx.call(t,Ce[a]))return!1;for(a=M;a--!==0;)if(k=Ce[a],!(k==="_owner"&&n.$$typeof)&&!kf(n[k],t[k]))return!1;return!0}return n!==n&&t!==t}function ux(n,t){try{return kf(n,t)}catch(r){if(r.message&&r.message.match(/stack|recursion/i))return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}}var cx=function(t){var r=t.isDisabled,i=t.isRtl;return{label:"container",direction:i?"rtl":null,pointerEvents:r?"none":null,position:"relative"}},dx=function(t){var r=t.children,i=t.className,a=t.cx,M=t.getStyles,k=t.innerProps,F=t.isDisabled,B=t.isRtl;return so("div",_o({css:M("container",t),className:a({"--is-disabled":F,"--is-rtl":B},i)},k),r)},fx=function(t){var r=t.theme.spacing;return{alignItems:"center",display:"flex",flex:1,flexWrap:"wrap",padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}},px=function(t){var r=t.children,i=t.className,a=t.cx,M=t.isMulti,k=t.getStyles,F=t.hasValue;return so("div",{css:k("valueContainer",t),className:a({"value-container":!0,"value-container--is-multi":M,"value-container--has-value":F},i)},r)},hx=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},mx=function(t){var r=t.children,i=t.className,a=t.cx,M=t.getStyles;return so("div",{css:M("indicatorsContainer",t),className:a({indicators:!0},i)},r)};function yg(){var n=H9([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]);return yg=function(){return n},n}function A$(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}var _x={name:"19bqh2r",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0;"},bg=function(t){var r=t.size,i=bs(t,["size"]);return so("svg",_o({height:r,width:r,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:_x},i))},Uf=function(t){return so(bg,_o({size:20},t),so("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Pg=function(t){return so(bg,_o({size:20},t),so("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},Eg=function(t){var r=t.isFocused,i=t.theme,a=i.spacing.baseUnit,M=i.colors;return{label:"indicatorContainer",color:r?M.neutral60:M.neutral20,display:"flex",padding:a*2,transition:"color 150ms",":hover":{color:r?M.neutral80:M.neutral40}}},gx=Eg,vx=function(t){var r=t.children,i=t.className,a=t.cx,M=t.getStyles,k=t.innerProps;return so("div",_o({},k,{css:M("dropdownIndicator",t),className:a({indicator:!0,"dropdown-indicator":!0},i)}),r||so(Pg,null))},yx=Eg,bx=function(t){var r=t.children,i=t.className,a=t.cx,M=t.getStyles,k=t.innerProps;return so("div",_o({},k,{css:M("clearIndicator",t),className:a({indicator:!0,"clear-indicator":!0},i)}),r||so(Uf,null))},Px=function(t){var r=t.isDisabled,i=t.theme,a=i.spacing.baseUnit,M=i.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:r?M.neutral10:M.neutral20,marginBottom:a*2,marginTop:a*2,width:1}},Ex=function(t){var r=t.className,i=t.cx,a=t.getStyles,M=t.innerProps;return so("span",_o({},M,{css:a("indicatorSeparator",t),className:i({"indicator-separator":!0},r)}))},wx=T9(yg()),Cx=function(t){var r=t.isFocused,i=t.size,a=t.theme,M=a.colors,k=a.spacing.baseUnit;return{label:"loadingIndicator",color:r?M.neutral60:M.neutral20,display:"flex",padding:k*2,transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"}},Ff=function(t){var r=t.delay,i=t.offset;return so("span",{css:Df({animation:"".concat(wx," 1s ease-in-out ").concat(r,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:i?"1em":null,height:"1em",verticalAlign:"top",width:"1em"},"")})},wg=function(t){var r=t.className,i=t.cx,a=t.getStyles,M=t.innerProps,k=t.isRtl;return so("div",_o({},M,{css:a("loadingIndicator",t),className:i({indicator:!0,"loading-indicator":!0},r)}),so(Ff,{delay:0,offset:k}),so(Ff,{delay:160,offset:!0}),so(Ff,{delay:320,offset:!k}))};wg.defaultProps={size:4};var Ox=function(t){var r=t.isDisabled,i=t.isFocused,a=t.theme,M=a.colors,k=a.borderRadius,F=a.spacing;return{label:"control",alignItems:"center",backgroundColor:r?M.neutral5:M.neutral0,borderColor:r?M.neutral10:i?M.primary:M.neutral20,borderRadius:k,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(M.primary):null,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:F.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:i?M.primary:M.neutral30}}},Sx=function(t){var r=t.children,i=t.cx,a=t.getStyles,M=t.className,k=t.isDisabled,F=t.isFocused,B=t.innerRef,Y=t.innerProps,ge=t.menuIsOpen;return so("div",_o({ref:B,css:a("control",t),className:i({control:!0,"control--is-disabled":k,"control--is-focused":F,"control--menu-is-open":ge},M)},Y),r)};function Cg(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,i)}return r}function Tx(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cg(Object(r),!0).forEach(function(i){Ni(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Cg(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}var Ix=function(t){var r=t.theme.spacing;return{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},xx=function(t){var r=t.children,i=t.className,a=t.cx,M=t.getStyles,k=t.Heading,F=t.headingProps,B=t.label,Y=t.theme,ge=t.selectProps;return so("div",{css:M("group",t),className:a({group:!0},i)},so(k,_o({},F,{selectProps:ge,theme:Y,getStyles:M,cx:a}),B),so("div",null,r))},Mx=function(t){var r=t.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:"500",marginBottom:"0.25em",paddingLeft:r.baseUnit*3,paddingRight:r.baseUnit*3,textTransform:"uppercase"}},Dx=function(t){var r=t.className,i=t.cx,a=t.getStyles,M=t.theme,k=t.selectProps,F=bs(t,["className","cx","getStyles","theme","selectProps"]);return so("div",_o({css:a("groupHeading",Tx({theme:M},F)),className:i({"group-heading":!0},r)},F))};function Og(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,i)}return r}function Ax(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Og(Object(r),!0).forEach(function(i){Ni(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Og(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}var Nx=function(t){var r=t.isDisabled,i=t.theme,a=i.spacing,M=i.colors;return{margin:a.baseUnit/2,paddingBottom:a.baseUnit/2,paddingTop:a.baseUnit/2,visibility:r?"hidden":"visible",color:M.neutral80}},Rx=function(t){return{label:"input",background:0,border:0,fontSize:"inherit",opacity:t?0:1,outline:0,padding:0,color:"inherit"}},Lx=function(t){var r=t.className,i=t.cx,a=t.getStyles,M=t.innerRef,k=t.isHidden,F=t.isDisabled,B=t.theme,Y=t.selectProps,ge=bs(t,["className","cx","getStyles","innerRef","isHidden","isDisabled","theme","selectProps"]);return so("div",{css:a("input",Ax({theme:B},ge))},so(V9.Z,_o({className:i({input:!0},r),inputRef:M,inputStyle:Rx(k),disabled:F},ge)))};function Sg(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,i)}return r}function jf(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sg(Object(r),!0).forEach(function(i){Ni(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Sg(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}var Bx=function(t){var r=t.theme,i=r.spacing,a=r.borderRadius,M=r.colors;return{label:"multiValue",backgroundColor:M.neutral10,borderRadius:a/2,display:"flex",margin:i.baseUnit/2,minWidth:0}},kx=function(t){var r=t.theme,i=r.borderRadius,a=r.colors,M=t.cropWithEllipsis;return{borderRadius:i/2,color:a.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:M?"ellipsis":null,whiteSpace:"nowrap"}},Ux=function(t){var r=t.theme,i=r.spacing,a=r.borderRadius,M=r.colors,k=t.isFocused;return{alignItems:"center",borderRadius:a/2,backgroundColor:k&&M.dangerLight,display:"flex",paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:M.dangerLight,color:M.danger}}},Tg=function(t){var r=t.children,i=t.innerProps;return so("div",i,r)},Fx=Tg,jx=Tg;function Wx(n){var t=n.children,r=n.innerProps;return so("div",r,t||so(Uf,{size:14}))}var Ig=function(t){var r=t.children,i=t.className,a=t.components,M=t.cx,k=t.data,F=t.getStyles,B=t.innerProps,Y=t.isDisabled,ge=t.removeProps,Ce=t.selectProps,Se=a.Container,Ue=a.Label,Ye=a.Remove;return so(M9,null,function(Ve){var at=Ve.css,pt=Ve.cx;return so(Se,{data:k,innerProps:jf(jf({},B),{},{className:pt(at(F("multiValue",t)),M({"multi-value":!0,"multi-value--is-disabled":Y},i))}),selectProps:Ce},so(Ue,{data:k,innerProps:{className:pt(at(F("multiValueLabel",t)),M({"multi-value__label":!0},i))},selectProps:Ce},r),so(Ye,{data:k,innerProps:jf({className:pt(at(F("multiValueRemove",t)),M({"multi-value__remove":!0},i))},ge),selectProps:Ce}))})};Ig.defaultProps={cropWithEllipsis:!0};var Hx=function(t){var r=t.isDisabled,i=t.isFocused,a=t.isSelected,M=t.theme,k=M.spacing,F=M.colors;return{label:"option",backgroundColor:a?F.primary:i?F.primary25:"transparent",color:r?F.neutral20:a?F.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(k.baseUnit*2,"px ").concat(k.baseUnit*3,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:!r&&(a?F.primary:F.primary50)}}},Vx=function(t){var r=t.children,i=t.className,a=t.cx,M=t.getStyles,k=t.isDisabled,F=t.isFocused,B=t.isSelected,Y=t.innerRef,ge=t.innerProps;return so("div",_o({css:M("option",t),className:a({option:!0,"option--is-disabled":k,"option--is-focused":F,"option--is-selected":B},i),ref:Y},ge),r)},Kx=function(t){var r=t.theme,i=r.spacing,a=r.colors;return{label:"placeholder",color:a.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2,position:"absolute",top:"50%",transform:"translateY(-50%)"}},$x=function(t){var r=t.children,i=t.className,a=t.cx,M=t.getStyles,k=t.innerProps;return so("div",_o({css:M("placeholder",t),className:a({placeholder:!0},i)},k),r)},zx=function(t){var r=t.isDisabled,i=t.theme,a=i.spacing,M=i.colors;return{label:"singleValue",color:r?M.neutral40:M.neutral80,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2,maxWidth:"calc(100% - ".concat(a.baseUnit*2,"px)"),overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",top:"50%",transform:"translateY(-50%)"}},Gx=function(t){var r=t.children,i=t.className,a=t.cx,M=t.getStyles,k=t.isDisabled,F=t.innerProps;return so("div",_o({css:M("singleValue",t),className:a({"single-value":!0,"single-value--is-disabled":k},i)},F),r)};function xg(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,i)}return r}function Mg(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xg(Object(r),!0).forEach(function(i){Ni(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):xg(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}for(var Zx={ClearIndicator:bx,Control:Sx,DropdownIndicator:vx,DownChevron:Pg,CrossIcon:Uf,Group:xx,GroupHeading:Dx,IndicatorsContainer:mx,IndicatorSeparator:Ex,Input:Lx,LoadingIndicator:wg,Menu:tx,MenuList:rx,MenuPortal:sx,LoadingMessage:_g,NoOptionsMessage:mg,MultiValue:Ig,MultiValueContainer:Fx,MultiValueLabel:jx,MultiValueRemove:Wx,Option:Vx,Placeholder:$x,SelectContainer:dx,SingleValue:Gx,ValueContainer:px},Yx=function(t){return Mg(Mg({},Zx),t.components)},Wf=[{base:"A",letters:"A\u24B6\uFF21\xC0\xC1\xC2\u1EA6\u1EA4\u1EAA\u1EA8\xC3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\xC4\u01DE\u1EA2\xC5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F"},{base:"AA",letters:"\uA732"},{base:"AE",letters:"\xC6\u01FC\u01E2"},{base:"AO",letters:"\uA734"},{base:"AU",letters:"\uA736"},{base:"AV",letters:"\uA738\uA73A"},{base:"AY",letters:"\uA73C"},{base:"B",letters:"B\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181"},{base:"C",letters:"C\u24B8\uFF23\u0106\u0108\u010A\u010C\xC7\u1E08\u0187\u023B\uA73E"},{base:"D",letters:"D\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779"},{base:"DZ",letters:"\u01F1\u01C4"},{base:"Dz",letters:"\u01F2\u01C5"},{base:"E",letters:"E\u24BA\uFF25\xC8\xC9\xCA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\xCB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E"},{base:"F",letters:"F\u24BB\uFF26\u1E1E\u0191\uA77B"},{base:"G",letters:"G\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E"},{base:"H",letters:"H\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D"},{base:"I",letters:"I\u24BE\uFF29\xCC\xCD\xCE\u0128\u012A\u012C\u0130\xCF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197"},{base:"J",letters:"J\u24BF\uFF2A\u0134\u0248"},{base:"K",letters:"K\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2"},{base:"L",letters:"L\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780"},{base:"LJ",letters:"\u01C7"},{base:"Lj",letters:"\u01C8"},{base:"M",letters:"M\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C"},{base:"N",letters:"N\u24C3\uFF2E\u01F8\u0143\xD1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4"},{base:"NJ",letters:"\u01CA"},{base:"Nj",letters:"\u01CB"},{base:"O",letters:"O\u24C4\uFF2F\xD2\xD3\xD4\u1ED2\u1ED0\u1ED6\u1ED4\xD5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\xD6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\xD8\u01FE\u0186\u019F\uA74A\uA74C"},{base:"OI",letters:"\u01A2"},{base:"OO",letters:"\uA74E"},{base:"OU",letters:"\u0222"},{base:"P",letters:"P\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754"},{base:"Q",letters:"Q\u24C6\uFF31\uA756\uA758\u024A"},{base:"R",letters:"R\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782"},{base:"S",letters:"S\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784"},{base:"T",letters:"T\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786"},{base:"TZ",letters:"\uA728"},{base:"U",letters:"U\u24CA\uFF35\xD9\xDA\xDB\u0168\u1E78\u016A\u1E7A\u016C\xDC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244"},{base:"V",letters:"V\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245"},{base:"VY",letters:"\uA760"},{base:"W",letters:"W\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72"},{base:"X",letters:"X\u24CD\uFF38\u1E8A\u1E8C"},{base:"Y",letters:"Y\u24CE\uFF39\u1EF2\xDD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE"},{base:"Z",letters:"Z\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762"},{base:"a",letters:"a\u24D0\uFF41\u1E9A\xE0\xE1\xE2\u1EA7\u1EA5\u1EAB\u1EA9\xE3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\xE4\u01DF\u1EA3\xE5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250"},{base:"aa",letters:"\uA733"},{base:"ae",letters:"\xE6\u01FD\u01E3"},{base:"ao",letters:"\uA735"},{base:"au",letters:"\uA737"},{base:"av",letters:"\uA739\uA73B"},{base:"ay",letters:"\uA73D"},{base:"b",letters:"b\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253"},{base:"c",letters:"c\u24D2\uFF43\u0107\u0109\u010B\u010D\xE7\u1E09\u0188\u023C\uA73F\u2184"},{base:"d",letters:"d\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A"},{base:"dz",letters:"\u01F3\u01C6"},{base:"e",letters:"e\u24D4\uFF45\xE8\xE9\xEA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\xEB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD"},{base:"f",letters:"f\u24D5\uFF46\u1E1F\u0192\uA77C"},{base:"g",letters:"g\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F"},{base:"h",letters:"h\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265"},{base:"hv",letters:"\u0195"},{base:"i",letters:"i\u24D8\uFF49\xEC\xED\xEE\u0129\u012B\u012D\xEF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131"},{base:"j",letters:"j\u24D9\uFF4A\u0135\u01F0\u0249"},{base:"k",letters:"k\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3"},{base:"l",letters:"l\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747"},{base:"lj",letters:"\u01C9"},{base:"m",letters:"m\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F"},{base:"n",letters:"n\u24DD\uFF4E\u01F9\u0144\xF1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5"},{base:"nj",letters:"\u01CC"},{base:"o",letters:"o\u24DE\uFF4F\xF2\xF3\xF4\u1ED3\u1ED1\u1ED7\u1ED5\xF5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\xF6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\xF8\u01FF\u0254\uA74B\uA74D\u0275"},{base:"oi",letters:"\u01A3"},{base:"ou",letters:"\u0223"},{base:"oo",letters:"\uA74F"},{base:"p",letters:"p\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755"},{base:"q",letters:"q\u24E0\uFF51\u024B\uA757\uA759"},{base:"r",letters:"r\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783"},{base:"s",letters:"s\u24E2\uFF53\xDF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B"},{base:"t",letters:"t\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787"},{base:"tz",letters:"\uA729"},{base:"u",letters:"u\u24E4\uFF55\xF9\xFA\xFB\u0169\u1E79\u016B\u1E7B\u016D\xFC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289"},{base:"v",letters:"v\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C"},{base:"vy",letters:"\uA761"},{base:"w",letters:"w\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73"},{base:"x",letters:"x\u24E7\uFF58\u1E8B\u1E8D"},{base:"y",letters:"y\u24E8\uFF59\u1EF3\xFD\u0177\u1EF9\u0233\u1E8F\xFF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF"},{base:"z",letters:"z\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763"}],Jx=new RegExp("["+Wf.map(function(n){return n.letters}).join("")+"]","g"),Dg={},Hf=0;Hf<Wf.length;Hf++)for(var Vf=Wf[Hf],Kf=0;Kf<Vf.letters.length;Kf++)Dg[Vf.letters[Kf]]=Vf.base;var Ag=function(t){return t.replace(Jx,function(r){return Dg[r]})};function Ng(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,i)}return r}function Xx(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ng(Object(r),!0).forEach(function(i){Ni(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Ng(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}var Rg=function(t){return t.replace(/^\s+|\s+$/g,"")},Qx=function(t){return"".concat(t.label," ").concat(t.value)},qx=function(t){return function(r,i){var a=Xx({ignoreCase:!0,ignoreAccents:!0,stringify:Qx,trim:!0,matchFrom:"any"},t),M=a.ignoreCase,k=a.ignoreAccents,F=a.stringify,B=a.trim,Y=a.matchFrom,ge=B?Rg(i):i,Ce=B?Rg(F(r)):F(r);return M&&(ge=ge.toLowerCase(),Ce=Ce.toLowerCase()),k&&(ge=Ag(ge),Ce=Ag(Ce)),Y==="start"?Ce.substr(0,ge.length)===ge:Ce.indexOf(ge)>-1}};function N$(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}var eM={name:"1laao21-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap;"},tM=function(t){return so("span",_o({css:eM},t))};function nM(n){var t=n.in,r=n.out,i=n.onExited,a=n.appear,M=n.enter,k=n.exit,F=n.innerRef,B=n.emotion,Y=bs(n,["in","out","onExited","appear","enter","exit","innerRef","emotion"]);return so("input",_o({ref:F},Y,{css:Df({label:"dummyInput",background:0,border:0,fontSize:"inherit",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(0)"},"")}))}function rM(n){var t=oM();return function(){var i=Ri(n),a;if(t){var M=Ri(this).constructor;a=Reflect.construct(i,arguments,M)}else a=i.apply(this,arguments);return Ps(this,a)}}function oM(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var Lg=function(n){Xa(r,n);var t=rM(r);function r(){return Ya(this,r),t.apply(this,arguments)}return Ja(r,[{key:"componentDidMount",value:function(){this.props.innerRef((0,Kt.findDOMNode)(this))}},{key:"componentWillUnmount",value:function(){this.props.innerRef(null)}},{key:"render",value:function(){return this.props.children}}]),r}(Kt.Component),Bg=["boxSizing","height","overflow","paddingRight","position"],kg={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function Ug(n){n.preventDefault()}function Fg(n){n.stopPropagation()}function jg(){var n=this.scrollTop,t=this.scrollHeight,r=n+this.offsetHeight;n===0?this.scrollTop=1:r===t&&(this.scrollTop=n-1)}function Wg(){return"ontouchstart"in window||navigator.maxTouchPoints}function iM(n){var t=aM();return function(){var i=Ri(n),a;if(t){var M=Ri(this).constructor;a=Reflect.construct(i,arguments,M)}else a=i.apply(this,arguments);return Ps(this,a)}}function aM(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var Hg=!!(window.document&&window.document.createElement),Fl=0,Vg=function(n){Xa(r,n);var t=iM(r);function r(){var i;Ya(this,r);for(var a=arguments.length,M=new Array(a),k=0;k<a;k++)M[k]=arguments[k];return i=t.call.apply(t,[this].concat(M)),i.originalStyles={},i.listenerOptions={capture:!1,passive:!1},i}return Ja(r,[{key:"componentDidMount",value:function(){var a=this;if(Hg){var M=this.props,k=M.accountForScrollbars,F=M.touchScrollTarget,B=document.body,Y=B&&B.style;if(k&&Bg.forEach(function(Ue){var Ye=Y&&Y[Ue];a.originalStyles[Ue]=Ye}),k&&Fl<1){var ge=parseInt(this.originalStyles.paddingRight,10)||0,Ce=document.body?document.body.clientWidth:0,Se=window.innerWidth-Ce+ge||0;Object.keys(kg).forEach(function(Ue){var Ye=kg[Ue];Y&&(Y[Ue]=Ye)}),Y&&(Y.paddingRight="".concat(Se,"px"))}B&&Wg()&&(B.addEventListener("touchmove",Ug,this.listenerOptions),F&&(F.addEventListener("touchstart",jg,this.listenerOptions),F.addEventListener("touchmove",Fg,this.listenerOptions))),Fl+=1}}},{key:"componentWillUnmount",value:function(){var a=this;if(Hg){var M=this.props,k=M.accountForScrollbars,F=M.touchScrollTarget,B=document.body,Y=B&&B.style;Fl=Math.max(Fl-1,0),k&&Fl<1&&Bg.forEach(function(ge){var Ce=a.originalStyles[ge];Y&&(Y[ge]=Ce)}),B&&Wg()&&(B.removeEventListener("touchmove",Ug,this.listenerOptions),F&&(F.removeEventListener("touchstart",jg,this.listenerOptions),F.removeEventListener("touchmove",Fg,this.listenerOptions)))}}},{key:"render",value:function(){return null}}]),r}(Kt.Component);Vg.defaultProps={accountForScrollbars:!0};function R$(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}function sM(n){var t=lM();return function(){var i=Ri(n),a;if(t){var M=Ri(this).constructor;a=Reflect.construct(i,arguments,M)}else a=i.apply(this,arguments);return Ps(this,a)}}function lM(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var uM={name:"1dsbpcp",styles:"position:fixed;left:0;bottom:0;right:0;top:0;"},cM=function(n){Xa(r,n);var t=sM(r);function r(){var i;Ya(this,r);for(var a=arguments.length,M=new Array(a),k=0;k<a;k++)M[k]=arguments[k];return i=t.call.apply(t,[this].concat(M)),i.state={touchScrollTarget:null},i.getScrollTarget=function(F){F!==i.state.touchScrollTarget&&i.setState({touchScrollTarget:F})},i.blurSelectInput=function(){document.activeElement&&document.activeElement.blur()},i}return Ja(r,[{key:"render",value:function(){var a=this.props,M=a.children,k=a.isEnabled,F=this.state.touchScrollTarget;return k?so("div",null,so("div",{onClick:this.blurSelectInput,css:uM}),so(Lg,{innerRef:this.getScrollTarget},M),F?so(Vg,{touchScrollTarget:F}):null):M}}]),r}(Kt.PureComponent);function dM(n){var t=fM();return function(){var i=Ri(n),a;if(t){var M=Ri(this).constructor;a=Reflect.construct(i,arguments,M)}else a=i.apply(this,arguments);return Ps(this,a)}}function fM(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var pM=function(n){Xa(r,n);var t=dM(r);function r(){var i;Ya(this,r);for(var a=arguments.length,M=new Array(a),k=0;k<a;k++)M[k]=arguments[k];return i=t.call.apply(t,[this].concat(M)),i.isBottom=!1,i.isTop=!1,i.scrollTarget=void 0,i.touchStart=void 0,i.cancelScroll=function(F){F.preventDefault(),F.stopPropagation()},i.handleEventDelta=function(F,B){var Y=i.props,ge=Y.onBottomArrive,Ce=Y.onBottomLeave,Se=Y.onTopArrive,Ue=Y.onTopLeave,Ye=i.scrollTarget,Ve=Ye.scrollTop,at=Ye.scrollHeight,pt=Ye.clientHeight,gt=i.scrollTarget,xt=B>0,Nt=at-pt-Ve,Tt=!1;Nt>B&&i.isBottom&&(Ce&&Ce(F),i.isBottom=!1),xt&&i.isTop&&(Ue&&Ue(F),i.isTop=!1),xt&&B>Nt?(ge&&!i.isBottom&&ge(F),gt.scrollTop=at,Tt=!0,i.isBottom=!0):!xt&&-B>Ve&&(Se&&!i.isTop&&Se(F),gt.scrollTop=0,Tt=!0,i.isTop=!0),Tt&&i.cancelScroll(F)},i.onWheel=function(F){i.handleEventDelta(F,F.deltaY)},i.onTouchStart=function(F){i.touchStart=F.changedTouches[0].clientY},i.onTouchMove=function(F){var B=i.touchStart-F.changedTouches[0].clientY;i.handleEventDelta(F,B)},i.getScrollTarget=function(F){i.scrollTarget=F},i}return Ja(r,[{key:"componentDidMount",value:function(){this.startListening(this.scrollTarget)}},{key:"componentWillUnmount",value:function(){this.stopListening(this.scrollTarget)}},{key:"startListening",value:function(a){a&&(typeof a.addEventListener=="function"&&a.addEventListener("wheel",this.onWheel,!1),typeof a.addEventListener=="function"&&a.addEventListener("touchstart",this.onTouchStart,!1),typeof a.addEventListener=="function"&&a.addEventListener("touchmove",this.onTouchMove,!1))}},{key:"stopListening",value:function(a){a&&(typeof a.removeEventListener=="function"&&a.removeEventListener("wheel",this.onWheel,!1),typeof a.removeEventListener=="function"&&a.removeEventListener("touchstart",this.onTouchStart,!1),typeof a.removeEventListener=="function"&&a.removeEventListener("touchmove",this.onTouchMove,!1))}},{key:"render",value:function(){return Kt.default.createElement(Lg,{innerRef:this.getScrollTarget},this.props.children)}}]),r}(Kt.Component);function hM(n){var t=n.isEnabled,r=t===void 0?!0:t,i=bs(n,["isEnabled"]);return r?Kt.default.createElement(pM,i):i.children}var mM=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.isSearchable,a=r.isMulti,M=r.label,k=r.isDisabled,F=r.tabSelectsValue;switch(t){case"menu":return"Use Up and Down to choose options".concat(k?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(F?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(M||"Select"," is focused ").concat(i?",type to refine list":"",", press Down to open the menu, ").concat(a?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value"}},_M=function(t,r){var i=r.value,a=r.isDisabled;if(i)switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"select-option":return a?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.")}},gM=function(t){var r=t.focusedValue,i=t.getOptionLabel,a=t.selectValue;return"value ".concat(i(r)," focused, ").concat(a.indexOf(r)+1," of ").concat(a.length,".")},vM=function(t){var r=t.focusedOption,i=t.getOptionLabel,a=t.options;return"option ".concat(i(r)," focused").concat(r.isDisabled?" disabled":"",", ").concat(a.indexOf(r)+1," of ").concat(a.length,".")},yM=function(t){var r=t.inputValue,i=t.screenReaderMessage;return"".concat(i).concat(r?" for search term "+r:"",".")},bM=function(t){return t.label},PM=function(t){return t.label},EM=function(t){return t.value},Kg=function(t){return!!t.isDisabled};function $g(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,i)}return r}function wM(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$g(Object(r),!0).forEach(function(i){_defineProperty(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):$g(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}var CM={clearIndicator:yx,container:cx,control:Ox,dropdownIndicator:gx,group:Ix,groupHeading:Mx,indicatorsContainer:hx,indicatorSeparator:Px,input:Nx,loadingIndicator:Cx,loadingMessage:ix,menu:ex,menuList:nx,menuPortal:ax,multiValue:Bx,multiValueLabel:kx,multiValueRemove:Ux,noOptionsMessage:ox,option:Hx,placeholder:Kx,singleValue:zx,valueContainer:fx};function L$(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=wM({},n);return Object.keys(t).forEach(function(i){n[i]?r[i]=function(a,M){return t[i](n[i](a,M),M)}:r[i]=t[i]}),r}var OM={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},SM=4,zg=4,TM=38,IM=zg*2,xM={baseUnit:zg,controlHeight:TM,menuGutter:IM},$f={borderRadius:SM,colors:OM,spacing:xM};function Gg(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,i)}return r}function Qs(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gg(Object(r),!0).forEach(function(i){Ni(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Gg(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function MM(n){var t=DM();return function(){var i=Ri(n),a;if(t){var M=Ri(this).constructor;a=Reflect.construct(i,arguments,M)}else a=i.apply(this,arguments);return Ps(this,a)}}function DM(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var AM={backspaceRemovesValue:!0,blurInputOnSelect:lg(),captureMenuScroll:!lg(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:qx(),formatGroupLabel:bM,getOptionLabel:PM,getOptionValue:EM,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:Kg,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!J9(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var r=t.count;return"".concat(r," result").concat(r!==1?"s":""," available")},styles:{},tabIndex:"0",tabSelectsValue:!0},NM=1,Zg=function(n){Xa(r,n);var t=MM(r);function r(i){var a;Ya(this,r),a=t.call(this,i),a.state={ariaLiveSelection:"",ariaLiveContext:"",focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,menuOptions:{render:[],focusable:[]},selectValue:[]},a.blockOptionHover=!1,a.isComposing=!1,a.clearFocusValueOnUpdate=!1,a.commonProps=void 0,a.components=void 0,a.hasGroups=!1,a.initialTouchX=0,a.initialTouchY=0,a.inputIsHiddenAfterUpdate=void 0,a.instancePrefix="",a.openAfterFocus=!1,a.scrollToFocusedOptionOnUpdate=!1,a.userIsDragging=void 0,a.controlRef=null,a.getControlRef=function(B){a.controlRef=B},a.focusedOptionRef=null,a.getFocusedOptionRef=function(B){a.focusedOptionRef=B},a.menuListRef=null,a.getMenuListRef=function(B){a.menuListRef=B},a.inputRef=null,a.getInputRef=function(B){a.inputRef=B},a.cacheComponents=function(B){a.components=Yx({components:B})},a.focus=a.focusInput,a.blur=a.blurInput,a.onChange=function(B,Y){var ge=a.props,Ce=ge.onChange,Se=ge.name;Ce(B,Qs(Qs({},Y),{},{name:Se}))},a.setValue=function(B){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"set-value",ge=arguments.length>2?arguments[2]:void 0,Ce=a.props,Se=Ce.closeMenuOnSelect,Ue=Ce.isMulti;a.onInputChange("",{action:"set-value"}),Se&&(a.inputIsHiddenAfterUpdate=!Ue,a.onMenuClose()),a.clearFocusValueOnUpdate=!0,a.onChange(B,{action:Y,option:ge})},a.selectOption=function(B){var Y=a.props,ge=Y.blurInputOnSelect,Ce=Y.isMulti,Se=a.state.selectValue;if(Ce)if(a.isOptionSelected(B,Se)){var Ue=a.getOptionValue(B);a.setValue(Se.filter(function(Ye){return a.getOptionValue(Ye)!==Ue}),"deselect-option",B),a.announceAriaLiveSelection({event:"deselect-option",context:{value:a.getOptionLabel(B)}})}else a.isOptionDisabled(B,Se)?a.announceAriaLiveSelection({event:"select-option",context:{value:a.getOptionLabel(B),isDisabled:!0}}):(a.setValue([].concat(U9(Se),[B]),"select-option",B),a.announceAriaLiveSelection({event:"select-option",context:{value:a.getOptionLabel(B)}}));else a.isOptionDisabled(B,Se)?a.announceAriaLiveSelection({event:"select-option",context:{value:a.getOptionLabel(B),isDisabled:!0}}):(a.setValue(B,"select-option"),a.announceAriaLiveSelection({event:"select-option",context:{value:a.getOptionLabel(B)}}));ge&&a.blurInput()},a.removeValue=function(B){var Y=a.state.selectValue,ge=a.getOptionValue(B),Ce=Y.filter(function(Se){return a.getOptionValue(Se)!==ge});a.onChange(Ce.length?Ce:null,{action:"remove-value",removedValue:B}),a.announceAriaLiveSelection({event:"remove-value",context:{value:B?a.getOptionLabel(B):""}}),a.focusInput()},a.clearValue=function(){a.onChange(null,{action:"clear"})},a.popValue=function(){var B=a.state.selectValue,Y=B[B.length-1],ge=B.slice(0,B.length-1);a.announceAriaLiveSelection({event:"pop-value",context:{value:Y?a.getOptionLabel(Y):""}}),a.onChange(ge.length?ge:null,{action:"pop-value",removedValue:Y})},a.getValue=function(){return a.state.selectValue},a.cx=function(){for(var B=arguments.length,Y=new Array(B),ge=0;ge<B;ge++)Y[ge]=arguments[ge];return $9.apply(void 0,[a.props.classNamePrefix].concat(Y))},a.getOptionLabel=function(B){return a.props.getOptionLabel(B)},a.getOptionValue=function(B){return a.props.getOptionValue(B)},a.getStyles=function(B,Y){var ge=CM[B](Y);ge.boxSizing="border-box";var Ce=a.props.styles[B];return Ce?Ce(ge,Y):ge},a.getElementId=function(B){return"".concat(a.instancePrefix,"-").concat(B)},a.getActiveDescendentId=function(){var B=a.props.menuIsOpen,Y=a.state,ge=Y.menuOptions,Ce=Y.focusedOption;if(!(!Ce||!B)){var Se=ge.focusable.indexOf(Ce),Ue=ge.render[Se];return Ue&&Ue.key}},a.announceAriaLiveSelection=function(B){var Y=B.event,ge=B.context;a.setState({ariaLiveSelection:_M(Y,ge)})},a.announceAriaLiveContext=function(B){var Y=B.event,ge=B.context;a.setState({ariaLiveContext:mM(Y,Qs(Qs({},ge),{},{label:a.props["aria-label"]}))})},a.onMenuMouseDown=function(B){B.button===0&&(B.stopPropagation(),B.preventDefault(),a.focusInput())},a.onMenuMouseMove=function(B){a.blockOptionHover=!1},a.onControlMouseDown=function(B){var Y=a.props.openMenuOnClick;a.state.isFocused?a.props.menuIsOpen?B.target.tagName!=="INPUT"&&B.target.tagName!=="TEXTAREA"&&a.onMenuClose():Y&&a.openMenu("first"):(Y&&(a.openAfterFocus=!0),a.focusInput()),B.target.tagName!=="INPUT"&&B.target.tagName!=="TEXTAREA"&&B.preventDefault()},a.onDropdownIndicatorMouseDown=function(B){if(!(B&&B.type==="mousedown"&&B.button!==0)&&!a.props.isDisabled){var Y=a.props,ge=Y.isMulti,Ce=Y.menuIsOpen;a.focusInput(),Ce?(a.inputIsHiddenAfterUpdate=!ge,a.onMenuClose()):a.openMenu("first"),B.preventDefault(),B.stopPropagation()}},a.onClearIndicatorMouseDown=function(B){B&&B.type==="mousedown"&&B.button!==0||(a.clearValue(),B.stopPropagation(),a.openAfterFocus=!1,B.type==="touchend"?a.focusInput():setTimeout(function(){return a.focusInput()}))},a.onScroll=function(B){typeof a.props.closeMenuOnScroll=="boolean"?B.target instanceof HTMLElement&&Lf(B.target)&&a.props.onMenuClose():typeof a.props.closeMenuOnScroll=="function"&&a.props.closeMenuOnScroll(B)&&a.props.onMenuClose()},a.onCompositionStart=function(){a.isComposing=!0},a.onCompositionEnd=function(){a.isComposing=!1},a.onTouchStart=function(B){var Y=B.touches,ge=Y&&Y.item(0);ge&&(a.initialTouchX=ge.clientX,a.initialTouchY=ge.clientY,a.userIsDragging=!1)},a.onTouchMove=function(B){var Y=B.touches,ge=Y&&Y.item(0);if(ge){var Ce=Math.abs(ge.clientX-a.initialTouchX),Se=Math.abs(ge.clientY-a.initialTouchY),Ue=5;a.userIsDragging=Ce>Ue||Se>Ue}},a.onTouchEnd=function(B){a.userIsDragging||(a.controlRef&&!a.controlRef.contains(B.target)&&a.menuListRef&&!a.menuListRef.contains(B.target)&&a.blurInput(),a.initialTouchX=0,a.initialTouchY=0)},a.onControlTouchEnd=function(B){a.userIsDragging||a.onControlMouseDown(B)},a.onClearIndicatorTouchEnd=function(B){a.userIsDragging||a.onClearIndicatorMouseDown(B)},a.onDropdownIndicatorTouchEnd=function(B){a.userIsDragging||a.onDropdownIndicatorMouseDown(B)},a.handleInputChange=function(B){var Y=B.currentTarget.value;a.inputIsHiddenAfterUpdate=!1,a.onInputChange(Y,{action:"input-change"}),a.props.menuIsOpen||a.onMenuOpen()},a.onInputFocus=function(B){var Y=a.props,ge=Y.isSearchable,Ce=Y.isMulti;a.props.onFocus&&a.props.onFocus(B),a.inputIsHiddenAfterUpdate=!1,a.announceAriaLiveContext({event:"input",context:{isSearchable:ge,isMulti:Ce}}),a.setState({isFocused:!0}),(a.openAfterFocus||a.props.openMenuOnFocus)&&a.openMenu("first"),a.openAfterFocus=!1},a.onInputBlur=function(B){if(a.menuListRef&&a.menuListRef.contains(document.activeElement)){a.inputRef.focus();return}a.props.onBlur&&a.props.onBlur(B),a.onInputChange("",{action:"input-blur"}),a.onMenuClose(),a.setState({focusedValue:null,isFocused:!1})},a.onOptionHover=function(B){a.blockOptionHover||a.state.focusedOption===B||a.setState({focusedOption:B})},a.shouldHideSelectedOptions=function(){var B=a.props,Y=B.hideSelectedOptions,ge=B.isMulti;return Y===void 0?ge:Y},a.onKeyDown=function(B){var Y=a.props,ge=Y.isMulti,Ce=Y.backspaceRemovesValue,Se=Y.escapeClearsValue,Ue=Y.inputValue,Ye=Y.isClearable,Ve=Y.isDisabled,at=Y.menuIsOpen,pt=Y.onKeyDown,gt=Y.tabSelectsValue,xt=Y.openMenuOnFocus,Nt=a.state,Tt=Nt.focusedOption,Ut=Nt.focusedValue,qt=Nt.selectValue;if(!Ve&&!(typeof pt=="function"&&(pt(B),B.defaultPrevented))){switch(a.blockOptionHover=!0,B.key){case"ArrowLeft":if(!ge||Ue)return;a.focusValue("previous");break;case"ArrowRight":if(!ge||Ue)return;a.focusValue("next");break;case"Delete":case"Backspace":if(Ue)return;if(Ut)a.removeValue(Ut);else{if(!Ce)return;ge?a.popValue():Ye&&a.clearValue()}break;case"Tab":if(a.isComposing||B.shiftKey||!at||!gt||!Tt||xt&&a.isOptionSelected(Tt,qt))return;a.selectOption(Tt);break;case"Enter":if(B.keyCode===229)break;if(at){if(!Tt||a.isComposing)return;a.selectOption(Tt);break}return;case"Escape":at?(a.inputIsHiddenAfterUpdate=!1,a.onInputChange("",{action:"menu-close"}),a.onMenuClose()):Ye&&Se&&a.clearValue();break;case" ":if(Ue)return;if(!at){a.openMenu("first");break}if(!Tt)return;a.selectOption(Tt);break;case"ArrowUp":at?a.focusOption("up"):a.openMenu("last");break;case"ArrowDown":at?a.focusOption("down"):a.openMenu("first");break;case"PageUp":if(!at)return;a.focusOption("pageup");break;case"PageDown":if(!at)return;a.focusOption("pagedown");break;case"Home":if(!at)return;a.focusOption("first");break;case"End":if(!at)return;a.focusOption("last");break;default:return}B.preventDefault()}},a.buildMenuOptions=function(B,Y){var ge=B.inputValue,Ce=ge===void 0?"":ge,Se=B.options,Ue=function(Ve,at){var pt=a.isOptionDisabled(Ve,Y),gt=a.isOptionSelected(Ve,Y),xt=a.getOptionLabel(Ve),Nt=a.getOptionValue(Ve);if(!(a.shouldHideSelectedOptions()&&gt||!a.filterOption({label:xt,value:Nt,data:Ve},Ce))){var Tt=pt?void 0:function(){return a.onOptionHover(Ve)},Ut=pt?void 0:function(){return a.selectOption(Ve)},qt="".concat(a.getElementId("option"),"-").concat(at);return{innerProps:{id:qt,onClick:Ut,onMouseMove:Tt,onMouseOver:Tt,tabIndex:-1},data:Ve,isDisabled:pt,isSelected:gt,key:qt,label:xt,type:"option",value:Nt}}};return Se.reduce(function(Ye,Ve,at){if(Ve.options){a.hasGroups||(a.hasGroups=!0);var pt=Ve.options,gt=pt.map(function(Tt,Ut){var qt=Ue(Tt,"".concat(at,"-").concat(Ut));return qt&&Ye.focusable.push(Tt),qt}).filter(Boolean);if(gt.length){var xt="".concat(a.getElementId("group"),"-").concat(at);Ye.render.push({type:"group",key:xt,data:Ve,options:gt})}}else{var Nt=Ue(Ve,"".concat(at));Nt&&(Ye.render.push(Nt),Ye.focusable.push(Ve))}return Ye},{render:[],focusable:[]})};var M=i.value;a.cacheComponents=og(a.cacheComponents,ux).bind(Nf(a)),a.cacheComponents(i.components),a.instancePrefix="react-select-"+(a.props.instanceId||++NM);var k=ag(M);a.buildMenuOptions=og(a.buildMenuOptions,function(B,Y){var ge=B,Ce=tg(ge,2),Se=Ce[0],Ue=Ce[1],Ye=Y,Ve=tg(Ye,2),at=Ve[0],pt=Ve[1];return Ue===pt&&Se.inputValue===at.inputValue&&Se.options===at.options}).bind(Nf(a));var F=i.menuIsOpen?a.buildMenuOptions(i,k):{render:[],focusable:[]};return a.state.menuOptions=F,a.state.selectValue=k,a}return Ja(r,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:"UNSAFE_componentWillReceiveProps",value:function(a){var M=this.props,k=M.options,F=M.value,B=M.menuIsOpen,Y=M.inputValue;if(this.cacheComponents(a.components),a.value!==F||a.options!==k||a.menuIsOpen!==B||a.inputValue!==Y){var ge=ag(a.value),Ce=a.menuIsOpen?this.buildMenuOptions(a,ge):{render:[],focusable:[]},Se=this.getNextFocusedValue(ge),Ue=this.getNextFocusedOption(Ce.focusable);this.setState({menuOptions:Ce,selectValue:ge,focusedOption:Ue,focusedValue:Se})}this.inputIsHiddenAfterUpdate!=null&&(this.setState({inputIsHidden:this.inputIsHiddenAfterUpdate}),delete this.inputIsHiddenAfterUpdate)}},{key:"componentDidUpdate",value:function(a){var M=this.props,k=M.isDisabled,F=M.menuIsOpen,B=this.state.isFocused;(B&&!k&&a.isDisabled||B&&F&&!a.menuIsOpen)&&this.focusInput(),B&&k&&!a.isDisabled&&this.setState({isFocused:!1},this.onMenuClose),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(Z9(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){var a=this.props,M=a.isSearchable,k=a.isMulti;this.announceAriaLiveContext({event:"input",context:{isSearchable:M,isMulti:k}}),this.onInputChange("",{action:"menu-close"}),this.props.onMenuClose()}},{key:"onInputChange",value:function(a,M){this.props.onInputChange(a,M)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(a){var M=this,k=this.state,F=k.selectValue,B=k.isFocused,Y=this.buildMenuOptions(this.props,F),ge=this.props,Ce=ge.isMulti,Se=ge.tabSelectsValue,Ue=a==="first"?0:Y.focusable.length-1;if(!Ce){var Ye=Y.focusable.indexOf(F[0]);Ye>-1&&(Ue=Ye)}this.scrollToFocusedOptionOnUpdate=!(B&&this.menuListRef),this.inputIsHiddenAfterUpdate=!1,this.setState({menuOptions:Y,focusedValue:null,focusedOption:Y.focusable[Ue]},function(){M.onMenuOpen(),M.announceAriaLiveContext({event:"menu",context:{tabSelectsValue:Se}})})}},{key:"focusValue",value:function(a){var M=this.props,k=M.isMulti,F=M.isSearchable,B=this.state,Y=B.selectValue,ge=B.focusedValue;if(k){this.setState({focusedOption:null});var Ce=Y.indexOf(ge);ge||(Ce=-1,this.announceAriaLiveContext({event:"value"}));var Se=Y.length-1,Ue=-1;if(Y.length){switch(a){case"previous":Ce===0?Ue=0:Ce===-1?Ue=Se:Ue=Ce-1;break;case"next":Ce>-1&&Ce<Se&&(Ue=Ce+1);break}Ue===-1&&this.announceAriaLiveContext({event:"input",context:{isSearchable:F,isMulti:k}}),this.setState({inputIsHidden:Ue!==-1,focusedValue:Y[Ue]})}}}},{key:"focusOption",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",M=this.props,k=M.pageSize,F=M.tabSelectsValue,B=this.state,Y=B.focusedOption,ge=B.menuOptions,Ce=ge.focusable;if(Ce.length){var Se=0,Ue=Ce.indexOf(Y);Y||(Ue=-1,this.announceAriaLiveContext({event:"menu",context:{tabSelectsValue:F}})),a==="up"?Se=Ue>0?Ue-1:Ce.length-1:a==="down"?Se=(Ue+1)%Ce.length:a==="pageup"?(Se=Ue-k,Se<0&&(Se=0)):a==="pagedown"?(Se=Ue+k,Se>Ce.length-1&&(Se=Ce.length-1)):a==="last"&&(Se=Ce.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:Ce[Se],focusedValue:null}),this.announceAriaLiveContext({event:"menu",context:{isDisabled:Kg(Ce[Se]),tabSelectsValue:F}})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme($f):Qs(Qs({},$f),this.props.theme):$f}},{key:"getCommonProps",value:function(){var a=this.clearValue,M=this.cx,k=this.getStyles,F=this.getValue,B=this.setValue,Y=this.selectOption,ge=this.props,Ce=ge.isMulti,Se=ge.isRtl,Ue=ge.options,Ye=this.hasValue();return{cx:M,clearValue:a,getStyles:k,getValue:F,hasValue:Ye,isMulti:Ce,isRtl:Se,options:Ue,selectOption:Y,setValue:B,selectProps:ge,theme:this.getTheme()}}},{key:"getNextFocusedValue",value:function(a){if(this.clearFocusValueOnUpdate)return this.clearFocusValueOnUpdate=!1,null;var M=this.state,k=M.focusedValue,F=M.selectValue,B=F.indexOf(k);if(B>-1){var Y=a.indexOf(k);if(Y>-1)return k;if(B<a.length)return a[B]}return null}},{key:"getNextFocusedOption",value:function(a){var M=this.state.focusedOption;return M&&a.indexOf(M)>-1?M:a[0]}},{key:"hasValue",value:function(){var a=this.state.selectValue;return a.length>0}},{key:"hasOptions",value:function(){return!!this.state.menuOptions.render.length}},{key:"countOptions",value:function(){return this.state.menuOptions.focusable.length}},{key:"isClearable",value:function(){var a=this.props,M=a.isClearable,k=a.isMulti;return M===void 0?k:M}},{key:"isOptionDisabled",value:function(a,M){return typeof this.props.isOptionDisabled=="function"?this.props.isOptionDisabled(a,M):!1}},{key:"isOptionSelected",value:function(a,M){var k=this;if(M.indexOf(a)>-1)return!0;if(typeof this.props.isOptionSelected=="function")return this.props.isOptionSelected(a,M);var F=this.getOptionValue(a);return M.some(function(B){return k.getOptionValue(B)===F})}},{key:"filterOption",value:function(a,M){return this.props.filterOption?this.props.filterOption(a,M):!0}},{key:"formatOptionLabel",value:function(a,M){if(typeof this.props.formatOptionLabel=="function"){var k=this.props.inputValue,F=this.state.selectValue;return this.props.formatOptionLabel(a,{context:M,inputValue:k,selectValue:F})}else return this.getOptionLabel(a)}},{key:"formatGroupLabel",value:function(a){return this.props.formatGroupLabel(a)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"constructAriaLiveMessage",value:function(){var a=this.state,M=a.ariaLiveContext,k=a.selectValue,F=a.focusedValue,B=a.focusedOption,Y=this.props,ge=Y.options,Ce=Y.menuIsOpen,Se=Y.inputValue,Ue=Y.screenReaderStatus,Ye=F?gM({focusedValue:F,getOptionLabel:this.getOptionLabel,selectValue:k}):"",Ve=B&&Ce?vM({focusedOption:B,getOptionLabel:this.getOptionLabel,options:ge}):"",at=yM({inputValue:Se,screenReaderMessage:Ue({count:this.countOptions()})});return"".concat(Ye," ").concat(Ve," ").concat(at," ").concat(M)}},{key:"renderInput",value:function(){var a=this.props,M=a.isDisabled,k=a.isSearchable,F=a.inputId,B=a.inputValue,Y=a.tabIndex,ge=a.form,Ce=this.components.Input,Se=this.state.inputIsHidden,Ue=F||this.getElementId("input"),Ye={"aria-autocomplete":"list","aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"]};if(!k)return Kt.default.createElement(nM,_o({id:Ue,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:ig,onFocus:this.onInputFocus,readOnly:!0,disabled:M,tabIndex:Y,form:ge,value:""},Ye));var Ve=this.commonProps,at=Ve.cx,pt=Ve.theme,gt=Ve.selectProps;return Kt.default.createElement(Ce,_o({autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",cx:at,getStyles:this.getStyles,id:Ue,innerRef:this.getInputRef,isDisabled:M,isHidden:Se,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,selectProps:gt,spellCheck:"false",tabIndex:Y,form:ge,theme:pt,type:"text",value:B},Ye))}},{key:"renderPlaceholderOrValue",value:function(){var a=this,M=this.components,k=M.MultiValue,F=M.MultiValueContainer,B=M.MultiValueLabel,Y=M.MultiValueRemove,ge=M.SingleValue,Ce=M.Placeholder,Se=this.commonProps,Ue=this.props,Ye=Ue.controlShouldRenderValue,Ve=Ue.isDisabled,at=Ue.isMulti,pt=Ue.inputValue,gt=Ue.placeholder,xt=this.state,Nt=xt.selectValue,Tt=xt.focusedValue,Ut=xt.isFocused;if(!this.hasValue()||!Ye)return pt?null:Kt.default.createElement(Ce,_o({},Se,{key:"placeholder",isDisabled:Ve,isFocused:Ut}),gt);if(at){var qt=Nt.map(function(ln,yn){var In=ln===Tt;return Kt.default.createElement(k,_o({},Se,{components:{Container:F,Label:B,Remove:Y},isFocused:In,isDisabled:Ve,key:"".concat(a.getOptionValue(ln)).concat(yn),index:yn,removeProps:{onClick:function(){return a.removeValue(ln)},onTouchEnd:function(){return a.removeValue(ln)},onMouseDown:function(Yn){Yn.preventDefault(),Yn.stopPropagation()}},data:ln}),a.formatOptionLabel(ln,"value"))});return qt}if(pt)return null;var rn=Nt[0];return Kt.default.createElement(ge,_o({},Se,{data:rn,isDisabled:Ve}),this.formatOptionLabel(rn,"value"))}},{key:"renderClearIndicator",value:function(){var a=this.components.ClearIndicator,M=this.commonProps,k=this.props,F=k.isDisabled,B=k.isLoading,Y=this.state.isFocused;if(!this.isClearable()||!a||F||!this.hasValue()||B)return null;var ge={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return Kt.default.createElement(a,_o({},M,{innerProps:ge,isFocused:Y}))}},{key:"renderLoadingIndicator",value:function(){var a=this.components.LoadingIndicator,M=this.commonProps,k=this.props,F=k.isDisabled,B=k.isLoading,Y=this.state.isFocused;if(!a||!B)return null;var ge={"aria-hidden":"true"};return Kt.default.createElement(a,_o({},M,{innerProps:ge,isDisabled:F,isFocused:Y}))}},{key:"renderIndicatorSeparator",value:function(){var a=this.components,M=a.DropdownIndicator,k=a.IndicatorSeparator;if(!M||!k)return null;var F=this.commonProps,B=this.props.isDisabled,Y=this.state.isFocused;return Kt.default.createElement(k,_o({},F,{isDisabled:B,isFocused:Y}))}},{key:"renderDropdownIndicator",value:function(){var a=this.components.DropdownIndicator;if(!a)return null;var M=this.commonProps,k=this.props.isDisabled,F=this.state.isFocused,B={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return Kt.default.createElement(a,_o({},M,{innerProps:B,isDisabled:k,isFocused:F}))}},{key:"renderMenu",value:function(){var a=this,M=this.components,k=M.Group,F=M.GroupHeading,B=M.Menu,Y=M.MenuList,ge=M.MenuPortal,Ce=M.LoadingMessage,Se=M.NoOptionsMessage,Ue=M.Option,Ye=this.commonProps,Ve=this.state,at=Ve.focusedOption,pt=Ve.menuOptions,gt=this.props,xt=gt.captureMenuScroll,Nt=gt.inputValue,Tt=gt.isLoading,Ut=gt.loadingMessage,qt=gt.minMenuHeight,rn=gt.maxMenuHeight,ln=gt.menuIsOpen,yn=gt.menuPlacement,In=gt.menuPosition,En=gt.menuPortalTarget,Yn=gt.menuShouldBlockScroll,kn=gt.menuShouldScrollIntoView,bn=gt.noOptionsMessage,er=gt.onMenuScrollToTop,rr=gt.onMenuScrollToBottom;if(!ln)return null;var Vn=function(Xn){var Gt=at===Xn.data;return Xn.innerRef=Gt?a.getFocusedOptionRef:void 0,Kt.default.createElement(Ue,_o({},Ye,Xn,{isFocused:Gt}),a.formatOptionLabel(Xn.data,"menu"))},ar;if(this.hasOptions())ar=pt.render.map(function(Pn){if(Pn.type==="group"){var Xn=Pn.type,Gt=bs(Pn,["type"]),lr="".concat(Pn.key,"-heading");return Kt.default.createElement(k,_o({},Ye,Gt,{Heading:F,headingProps:{id:lr,data:Pn.data},label:a.formatGroupLabel(Pn.data)}),Pn.options.map(function(Tn){return Vn(Tn)}))}else if(Pn.type==="option")return Vn(Pn)});else if(Tt){var Jn=Ut({inputValue:Nt});if(Jn===null)return null;ar=Kt.default.createElement(Ce,Ye,Jn)}else{var Qn=bn({inputValue:Nt});if(Qn===null)return null;ar=Kt.default.createElement(Se,Ye,Qn)}var Ln={minMenuHeight:qt,maxMenuHeight:rn,menuPlacement:yn,menuPosition:In,menuShouldScrollIntoView:kn},qn=Kt.default.createElement(pg,_o({},Ye,Ln),function(Pn){var Xn=Pn.ref,Gt=Pn.placerProps,lr=Gt.placement,Tn=Gt.maxHeight;return Kt.default.createElement(B,_o({},Ye,Ln,{innerRef:Xn,innerProps:{onMouseDown:a.onMenuMouseDown,onMouseMove:a.onMenuMouseMove},isLoading:Tt,placement:lr}),Kt.default.createElement(hM,{isEnabled:xt,onTopArrive:er,onBottomArrive:rr},Kt.default.createElement(cM,{isEnabled:Yn},Kt.default.createElement(Y,_o({},Ye,{innerRef:a.getMenuListRef,isLoading:Tt,maxHeight:Tn}),ar))))});return En||In==="fixed"?Kt.default.createElement(ge,_o({},Ye,{appendTo:En,controlElement:this.controlRef,menuPlacement:yn,menuPosition:In}),qn):qn}},{key:"renderFormField",value:function(){var a=this,M=this.props,k=M.delimiter,F=M.isDisabled,B=M.isMulti,Y=M.name,ge=this.state.selectValue;if(!(!Y||F))if(B)if(k){var Ce=ge.map(function(Ye){return a.getOptionValue(Ye)}).join(k);return Kt.default.createElement("input",{name:Y,type:"hidden",value:Ce})}else{var Se=ge.length>0?ge.map(function(Ye,Ve){return Kt.default.createElement("input",{key:"i-".concat(Ve),name:Y,type:"hidden",value:a.getOptionValue(Ye)})}):Kt.default.createElement("input",{name:Y,type:"hidden"});return Kt.default.createElement("div",null,Se)}else{var Ue=ge[0]?this.getOptionValue(ge[0]):"";return Kt.default.createElement("input",{name:Y,type:"hidden",value:Ue})}}},{key:"renderLiveRegion",value:function(){return this.state.isFocused?Kt.default.createElement(tM,{"aria-live":"polite"},Kt.default.createElement("span",{id:"aria-selection-event"},"\xA0",this.state.ariaLiveSelection),Kt.default.createElement("span",{id:"aria-context"},"\xA0",this.constructAriaLiveMessage())):null}},{key:"render",value:function(){var a=this.components,M=a.Control,k=a.IndicatorsContainer,F=a.SelectContainer,B=a.ValueContainer,Y=this.props,ge=Y.className,Ce=Y.id,Se=Y.isDisabled,Ue=Y.menuIsOpen,Ye=this.state.isFocused,Ve=this.commonProps=this.getCommonProps();return Kt.default.createElement(F,_o({},Ve,{className:ge,innerProps:{id:Ce,onKeyDown:this.onKeyDown},isDisabled:Se,isFocused:Ye}),this.renderLiveRegion(),Kt.default.createElement(M,_o({},Ve,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:Se,isFocused:Ye,menuIsOpen:Ue}),Kt.default.createElement(B,_o({},Ve,{isDisabled:Se}),this.renderPlaceholderOrValue(),this.renderInput()),Kt.default.createElement(k,_o({},Ve,{isDisabled:Se}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}]),r}(Kt.Component);Zg.defaultProps=AM;function RM(n){var t=LM();return function(){var i=Ri(n),a;if(t){var M=Ri(this).constructor;a=Reflect.construct(i,arguments,M)}else a=i.apply(this,arguments);return Ps(this,a)}}function LM(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var BM={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null},kM=function(t){var r,i;return i=r=function(a){Xa(k,a);var M=RM(k);function k(){var F;Ya(this,k);for(var B=arguments.length,Y=new Array(B),ge=0;ge<B;ge++)Y[ge]=arguments[ge];return F=M.call.apply(M,[this].concat(Y)),F.select=void 0,F.state={inputValue:F.props.inputValue!==void 0?F.props.inputValue:F.props.defaultInputValue,menuIsOpen:F.props.menuIsOpen!==void 0?F.props.menuIsOpen:F.props.defaultMenuIsOpen,value:F.props.value!==void 0?F.props.value:F.props.defaultValue},F.onChange=function(Ce,Se){F.callProp("onChange",Ce,Se),F.setState({value:Ce})},F.onInputChange=function(Ce,Se){var Ue=F.callProp("onInputChange",Ce,Se);F.setState({inputValue:Ue!==void 0?Ue:Ce})},F.onMenuOpen=function(){F.callProp("onMenuOpen"),F.setState({menuIsOpen:!0})},F.onMenuClose=function(){F.callProp("onMenuClose"),F.setState({menuIsOpen:!1})},F}return Ja(k,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"getProp",value:function(B){return this.props[B]!==void 0?this.props[B]:this.state[B]}},{key:"callProp",value:function(B){if(typeof this.props[B]=="function"){for(var Y,ge=arguments.length,Ce=new Array(ge>1?ge-1:0),Se=1;Se<ge;Se++)Ce[Se-1]=arguments[Se];return(Y=this.props)[B].apply(Y,Ce)}}},{key:"render",value:function(){var B=this,Y=this.props,ge=Y.defaultInputValue,Ce=Y.defaultMenuIsOpen,Se=Y.defaultValue,Ue=bs(Y,["defaultInputValue","defaultMenuIsOpen","defaultValue"]);return Kt.default.createElement(t,_o({},Ue,{ref:function(Ve){B.select=Ve},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")}))}}]),k}(Kt.Component),r.defaultProps=BM,i};function B$(n){var t=UM();return function(){var i=_getPrototypeOf(n),a;if(t){var M=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,M)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function UM(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var k$=null,FM=kM(Zg);const jM=FM;var WM=Object.defineProperty,Yg=Object.getOwnPropertySymbols,HM=Object.prototype.hasOwnProperty,VM=Object.prototype.propertyIsEnumerable,Jg=(n,t,r)=>t in n?WM(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Xg=(n,t)=>{for(var r in t||(t={}))HM.call(t,r)&&Jg(n,r,t[r]);if(Yg)for(var r of Yg(t))VM.call(t,r)&&Jg(n,r,t[r]);return n};const Qg=(0,e.createContext)({publication:{},pub:{},setPublication:({pub:n,publication:t})=>{}});Qg.displayName="PublishContext";const U$=n=>{const t=r=>{const i=qg();return h(n,Xg(Xg({},i),r))};return t.displayName=`withPublishContext(${n.name||n.displayName||"Anonymous"})`,t},qg=()=>(0,o.qp)(Qg);var KM=Object.defineProperty,$M=Object.defineProperties,zM=Object.getOwnPropertyDescriptors,vc=Object.getOwnPropertySymbols,ev=Object.prototype.hasOwnProperty,tv=Object.prototype.propertyIsEnumerable,nv=(n,t,r)=>t in n?KM(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Es=(n,t)=>{for(var r in t||(t={}))ev.call(t,r)&&nv(n,r,t[r]);if(vc)for(var r of vc(t))tv.call(t,r)&&nv(n,r,t[r]);return n},yc=(n,t)=>$M(n,zM(t)),GM=(n,t)=>{var r={};for(var i in n)ev.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&vc)for(var i of vc(n))t.indexOf(i)<0&&tv.call(n,i)&&(r[i]=n[i]);return r};const ZM=()=>null,rv=n=>{var t=n,{variant:r="default",isSearchable:i=!1,className:a}=t,M=GM(t,["variant","isSearchable","className"]),k,F;const{pub:B}=qg();return(0,e.h)(jM,yc(Es({},M),{isDisabled:M.isDisabled,className:l()("themed-select",a),components:Es({IndicatorSeparator:ZM},M.components),theme:(0,O.getSelectTheme)({primary:((k=B.theme)==null?void 0:k.background_pop_color)||B.theme_var_background_pop||"#1a1a1a",neutral0:r==="light"?"white":(F=B.theme)==null?void 0:F.web_bg_color}),isSearchable:i,styles:Es(Es({container:Y=>yc(Es({},Y),{flex:1}),dropdownIndicator:Y=>yc(Es({},Y),{color:"#1a1a1a"})},M.showOnlyIndicator&&{valueContainer:Y=>yc(Es({},Y),{width:0,padding:0})}),M.styles)}))};var YM=Object.defineProperty,JM=Object.defineProperties,XM=Object.getOwnPropertyDescriptors,ov=Object.getOwnPropertySymbols,QM=Object.prototype.hasOwnProperty,qM=Object.prototype.propertyIsEnumerable,iv=(n,t,r)=>t in n?YM(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,av=(n,t)=>{for(var r in t||(t={}))QM.call(t,r)&&iv(n,r,t[r]);if(ov)for(var r of ov(t))qM.call(t,r)&&iv(n,r,t[r]);return n},eD=(n,t)=>JM(n,XM(t)),jl=(n,t,r)=>new Promise((i,a)=>{var M=B=>{try{F(r.next(B))}catch(Y){a(Y)}},k=B=>{try{F(r.throw(B))}catch(Y){a(Y)}},F=B=>B.done?i(B.value):Promise.resolve(B.value).then(M,k);F((r=r.apply(n,t)).next())});const sv=2,lv=5,tD=35,nD=255,rD=({isExpired:n,isPublished:t,remainingHours:r,language:i})=>{const{iString:a,iTemplate:M}=I18N.i(i);if(n)return a("POLL CLOSED");if(!t)return a("NOT PUBLISHED");if(r>=168)return"";if(r>=48){const k=Math.floor(r/24);return M`${k} DAYS REMAINING`}return r>=24?M`1 DAY REMAINING`:r>=2?M`${r} HOURS REMAINING`:r==1?a("1 HOUR REMAINING"):a("LESS THAN 1 HOUR REMAINING")},zf=n=>n>1?`Choice ${n+1} (optional)`:`Choice ${n+1}`,oD=({question:n,expiry:t,audience:r,options:i})=>{const a=i.filter(Boolean);if(n.length<1||n.length>255)return"The question must be between 1 and 255 characters long.";if(a.length<2||a.length>5)return"Your poll must have 2 to 5 options.";if(a.some(M=>M.length<1||M.length>50))return"Each option must be between 1 and 50 characters long.";if(["all_subscribers","only_paid"].includes(r)){if(![1,24,72,168,999999].includes(t))return"The length of your poll is invalid."}else return"Your poll audience is invalid.";return null},iD=({index:n,text:t,onChange:r,onDelete:i,showDeleteButton:a,disabled:M})=>(0,e.h)("div",{className:"poll-option-editor"},(0,e.h)("input",{type:"text",onChange:k=>{r(n,k.currentTarget.value)},value:t,disabled:M,placeholder:zf(n),maxLength:tD}),(0,e.h)("button",{className:l()("poll-remove-option",{"is-hidden":!a}),onClick:()=>i(n),disabled:M,tabIndex:a?void 0:-1},(0,e.h)(Ks.Z,null))),aD=({poll:n,isOpen:t,onClose:r,onSave:i,isPublished:a,totalVotes:M,shouldShowAudiencePicker:k})=>{let F=n.options.map(Vn=>Vn.label);F.length>1?F.length<lv&&F.push(""):F=["",""];const{payments_state:B}=(0,Ud.I)()||{},Y=k&&B==="enabled"?"only_paid":"all_subscribers",[ge,Ce]=(0,o.eJ)(n.question||""),[Se,Ue]=(0,o.eJ)(F),[Ye,Ve]=(0,o.eJ)(n.expiry||24),[at,pt]=(0,o.eJ)(n.audience||Y),[gt,xt]=(0,o.eJ)(!1),[Nt,Tt]=(0,o.eJ)(n.votes_hidden||!1),[Ut,qt]=(0,o.eJ)(null),rn=oD({question:ge,options:Se,expiry:Ye,audience:at,votes_hidden:Nt}),ln=(0,o.I4)(()=>{var Vn;Ce(n.question||""),Ue(((Vn=n.options)==null?void 0:Vn.map(ar=>ar.label))||["",""]),Ve(n.expiry||24),pt(n.audience||Y),Tt(n.votes_hidden||!1),qt(null),r()},[Ce,Ue,Ve,pt,n,r]),yn=(0,o.I4)(({value:Vn})=>{["only_paid","all_subscribers"].includes(Vn)&&pt(Vn)},[pt]),In=at==="only_paid"?"Only paid subscribers":"All subscribers who can see this post",En=(0,o.I4)(({value:Vn})=>{const ar=Number(Vn);[1,24,72,168,999999].includes(ar)&&Ve(ar)},[Ve]),Yn=Ye===1?"1 hour":Ye===24?"1 day":Ye===72?"3 days":Ye===168?"1 week":"Forever",kn=(0,o.I4)((Vn,ar)=>{const Jn=[...Se];Jn.splice(Vn,1,ar),Vn===Jn.length-1&&Jn.length<lv&&Jn.push(""),Ue(Jn)},[Se,Ue]),bn=(0,o.I4)(Vn=>{if(Se.length<=sv||Vn>=Se.length)return;const ar=[...Se];ar.splice(Vn,1),ar[ar.length-1].length&&ar.push(""),Ue(ar)},[Se,Ue]),er=Array(Math.max(2,Se.length||0)).fill("").map((Vn,ar)=>Se.length>ar?Se[ar]:Vn),rr=Ut||a&&`This poll is part of a post that has already been published. If you modify it, ${M} existing ${M===1?"vote":"votes"} will be removed.`;return(0,e.h)(ra.u_,{className:"poll-editor-modal",isOpen:t,onClose:r},(0,e.h)("div",{className:"poll-editor"},(0,e.h)("div",{className:"poll-editor-section question-section"},(0,e.h)("input",{className:"poll-question-editor",type:"text",value:ge,onChange:Vn=>Ce(Vn.currentTarget.value),placeholder:"Enter your question...",disabled:gt,maxLength:nD})),(0,e.h)("div",{className:"poll-editor-section options-section"},(0,e.h)("div",{className:"poll-options-editor"},er.map((Vn,ar)=>(0,e.h)(iD,{index:ar,text:Vn,onChange:kn,onDelete:bn,disabled:gt,showDeleteButton:er.length>sv&&(ar<er.length-1||Vn.length>0)})))),(0,e.h)("div",{className:"poll-editor-section length-section"},(0,e.h)("div",{className:"poll-section-title"},"Length"),(0,e.h)(rv,{options:[{label:"1 hour",value:"1"},{label:"1 day",value:"24"},{label:"3 days",value:"72"},{label:"1 week",value:"168"},{label:"Forever",value:"999999"}],isDisabled:gt,value:{label:Yn,value:String(Ye)},onChange:En})),k&&B==="enabled"&&(0,e.h)("div",{className:"poll-editor-section audience-section"},(0,e.h)("div",{className:"poll-section-title"},"Who can vote?"),(0,e.h)(rv,{options:[{label:"Only paid subscribers",value:"only_paid"},{label:"All subscribers who can see this post",value:"all_subscribers"}],isDisabled:gt,value:{label:In,value:at},onChange:yn})),(0,e.h)("div",{className:"poll-editor-section vote-visibility-section"},(0,e.h)(j_.p,{checked:Nt,onChange:()=>Tt(!Nt),label:"Hide the total vote count from readers?",name:"votes-hidden"})),(0,e.h)("div",{className:"poll-editor-section action-section"},rr&&(0,e.h)("div",{className:"edit-warning"},rr),(0,e.h)("div",{className:"action-buttons"},(0,e.h)(ua.z,{className:"button btn btn-secondary poll-editor-cancel-button",variant:"secondary",look:"button",onClick:ln,disabled:gt},"Cancel"),(0,e.h)(r9.L,{content:rn,className:l()("inverse",{disabled:rn===null})},(0,e.h)(ua.z,{className:"button btn btn-primary poll-editor-confirm-button",variant:"primary",look:"button",onClick:()=>jl(void 0,null,function*(){xt(!0);try{yield i({audience:at,question:ge,options:Se.filter(Boolean),expiry:Ye,votes_hidden:Nt})}catch(Vn){qt("An error occurred while saving this poll.")}xt(!1)}),disabled:rn!==null||gt},"Save"))))))},sD=({id:n,text:t,onVote:r,showVotes:i,currentVotes:a,totalVotes:M,myVote:k,canVote:F})=>{const B=(0,o.I4)(()=>jl(void 0,null,function*(){n&&(yield r(n))}),[n,r]),Y=Math.round(100*(M===0?0:a/M));return(0,e.h)("div",{className:l()("poll-option",{"show-votes":i,"hide-votes":!i,"can-vote":F,"my-vote":k}),onClick:B},i&&(0,e.h)("div",{className:"poll-vote-background",style:{width:`${Y}%`}}),(0,e.h)("div",{className:"poll-option-background"},(0,e.h)("div",{className:"poll-option-text"},t,i&&k&&(0,e.h)(lm,{className:"vote-icon"}))),i&&(0,e.h)("div",{className:"poll-percentage-text"},Y,"%"))},lD=({id:n,isEditor:t,post:r,pub:i,isVersionView:a})=>{var M,k,F;const[B,Y]=(0,o.eJ)(!1),[ge,Ce]=(0,o.eJ)(!0),[Se,Ue]=(0,o.eJ)(null),[Ye,Ve]=(0,o.eJ)(null),[at,pt]=(0,o.eJ)(!0),[gt,xt]=(0,o.eJ)(a!=null?a:!1),{iString:Nt,language:Tt}=(0,P.M1)(),Ut=(0,ii.pm)(),qt={token:void 0,uuid:void 0};if(typeof window!="undefined"&&!t){const fr=(0,p.parseQuery)(window.location.href);if(fr&&fr.token&&(qt.token=fr.token),!qt.token&&((M=window._preloads)!=null&&M.original_url)){const _r=(0,p.parseQuery)(window._preloads.original_url);_r&&_r.token&&(qt.token=_r.token)}}if(typeof window!="undefined"&&!t&&r.is_draft){const fr=(0,p.getPostSlug)(window.location.href);fr&&(0,nn.isUUID)(fr)&&(qt.uuid=fr)}const rn=(0,Na.aF)()||{},ln=av({is_subscribed:!1,is_free_subscribed:!1,is_contributor:!1,is_author:!1,is_admin:!1},rn),{is_subscribed:yn,is_admin:In,is_contributor:En,is_author:Yn}=ln;let{is_free_subscribed:kn}=ln;Y3()&&(kn=!0);const bn=En||In||Yn,er=un()(),rr=Se&&Se.published_at&&un()(Se.published_at).add(Se.expiry,"hour"),Vn=rr&&rr.diff(er,"hour"),Jn=(Se==null?void 0:Se.audience)==="only_paid"?yn:kn,Qn=Se&&Se.options.some(fr=>fr.my_vote),Ln=!!(Se!=null&&Se.is_published),qn=Ln&&rr&&rr.isBefore(er),Pn=t&&((Se==null?void 0:Se.post_type)!=="adhoc_email"||!Ln),Xn=(0,o.sO)(null),Gt=!Qn&&Ln&&!qn&&Jn,lr=(Se==null?void 0:Se.total_votes)==1?"1 VOTE":`${Se==null?void 0:Se.total_votes} VOTES`,Tn=rD({isExpired:qn,isPublished:Ln,remainingHours:Vn,language:Tt}),cr=(0,o.I4)((...fr)=>jl(void 0,[...fr],function*({shouldNotSetLoading:_r}={shouldNotSetLoading:!1}){_r||Ce(!0);try{const lo=yield jn()(`/api/v1/poll/${n}`).query(qt);Ue(lo.body),Ve(null)}catch(lo){Ve(Nt("We were unable to load this poll. Please refresh the page."))}Ce(!1)}),[n,Ce,Ue]);(0,o.d4)(()=>{cr()},[cr]);const Er=(0,o.I4)(fr=>jl(void 0,null,function*(){try{yield jn().put(`/api/v1/poll/${n}`).send(fr)}catch(_r){return _r}return Y(!1),Ce(!0),yield cr(),null}),[n,Ce,cr]),Gr=(0,o.I4)(fr=>jl(void 0,null,function*(){var _r;if(!Jn&&Ln&&!qn&&!Pn){(_r=Xn.current)==null||_r.open();return}if(!(Pn||!Gt||gt)){xt(!0);try{yield jn().post(`/api/v1/poll/${n}/vote`).send({poll_option_id:fr}).query(qt),Ve(null)}catch(lo){Ve(Nt("We were unable to record your vote. Please refresh the page and try again.")),xt(!1);return}yield cr({shouldNotSetLoading:!0}),xt(!1)}}),[Pn,Gt,gt,xt,n,cr,Jn,Ln,qn]),or=Pn?Array(Math.max(2,((k=Se==null?void 0:Se.options)==null?void 0:k.length)||0)).fill("").map((fr,_r)=>{var lo;return Se&&((lo=Se.options)==null?void 0:lo.length)>_r?Se.options[_r].label:zf(_r)}):(F=Se==null?void 0:Se.options)==null?void 0:F.map(fr=>fr.label);if(Ye!==null&&!Se)return(0,e.h)("div",{className:"poll-wrapper poll-web"},(0,e.h)("div",{className:"poll-error"},Ye));const Fr=t?null:`${(0,p.getPostUrl)(i,r)}#poll-${n}`;return(0,e.h)(he.tu,{className:"poll-wrapper poll-web",gap:24,"data-component-name":"Poll"},Fr&&(0,e.h)("div",{className:"poll-anchor-target",id:`poll-${n}`},(0,e.h)("div",{className:"poll-anchor-copy-button",onClick:fr=>{location!=null&&location.href&&(fr.preventDefault(),(0,O.copyToClipboard)(Fr),Ut.popToast(_r=>(0,e.h)(ii.FN,eD(av({},_r),{text:Nt("Link copied"),Icon:$s.Z}))))}},(0,e.h)("a",{href:Fr},(0,e.h)($s.Z,{size:20})))),Pn&&Se&&(0,e.h)(aD,{poll:Se,isOpen:B,onClose:()=>{Y(!1)},isPublished:Ln,totalVotes:(Se==null?void 0:Se.total_votes)||0,onSave:Er,shouldShowAudiencePicker:(Se==null?void 0:Se.post_type)!=="adhoc_email"}),!t&&Se&&(0,e.h)(n9,{ref:Xn,noCloseButton:!0,className:"poll-dialog",pub:i,post:r,user:rn,pollId:Se.id,audience:Se.audience}),ge?(0,e.h)(he.tu,{gap:8,paddingY:48,alignItems:"center",justifyContent:"center"},(0,e.h)(I.xv.Meta,{translated:!0},"Loading...")):(0,e.h)(e.Fragment,null,Pn&&(0,e.h)("button",{className:"poll-edit",onClick:()=>{Y(!0)},disabled:ge},(0,e.h)(G3.Z,{height:20})),(0,e.h)(he.tu,{gap:4},(0,e.h)(he.gq,{className:"poll-title",alignItems:"baseline",gap:4},(Se==null?void 0:Se.audience)==="only_paid"?(0,e.h)(e.Fragment,null,(0,e.h)(Ku.Z,{size:16}),(0,e.h)(I.xv.Meta,{translated:!0,className:"subscriber-only-poll"},"SUBSCRIBER-ONLY POLL")):(0,e.h)(I.xv.Meta,{translated:!0},"POLL")),(0,e.h)(I.xv.H3,{className:"poll-question",color:"pub-primary-text"},(Se==null?void 0:Se.question)||Nt("New Poll"))),Ye!==null&&(0,e.h)("div",{className:"poll-error"},Ye),(0,e.h)(he.tu,{gap:12,className:l()("poll-options",{"no-margins":!Ln})},or.map((fr,_r)=>{var lo,Kr,zr;return(0,e.h)(sD,{id:((lo=Se==null?void 0:Se.options[_r])==null?void 0:lo.id)||null,text:fr,canVote:!Qn&&Ln&&!qn&&(!t||(Se==null?void 0:Se.post_type)==="adhoc_email"),onVote:Gr,showVotes:Qn||qn||bn&&at,totalVotes:(Se==null?void 0:Se.total_votes)||0,currentVotes:((Kr=Se==null?void 0:Se.options[_r])==null?void 0:Kr.votes)||0,myVote:((zr=Se==null?void 0:Se.options[_r])==null?void 0:zr.my_vote)||!1})})),Ln&&(0,e.h)(I.xv.Meta,{className:"poll-status"},(bn||!Se.votes_hidden)&&`${lr} \xB7 `,Tn,bn&&!Qn&&!qn&&(0,e.h)(e.Fragment,null," \xB7 ",(0,e.h)("span",{className:"poll-author-visibility-toggle",title:Nt("Only the author, contributors, and admins may view results before voting."),onClick:()=>{pt(!at)}},Nt(at?"SHOW OPTIONS":"SHOW RESULTS"))))))},uD=({id:n,embeddedPolls:t})=>{const r=t.find(a=>a.id===n),{iString:i}=(0,P.M1)();return r?(0,e.h)(ao.YF,{className:"poll-email-wrapper","data-component-name":"StaticPoll"},(0,e.h)("tr",null,(0,e.h)("td",null,(0,e.h)(ao.YF,{width:"100%"},(0,e.h)("tr",null,(0,e.h)("td",{className:"poll-header"},(r==null?void 0:r.audience)==="only_paid"?i("SUBSCRIBER-ONLY POLL"):i("POLL"))),(0,e.h)("tr",{className:"poll-question",width:"100%"},(0,e.h)("td",null,r.question||i("New Poll"))),(0,e.h)("tr",null,(0,e.h)("td",null,(0,e.h)(ao.YF,{className:"poll-options",width:"100%"},r.options.map(({label:a,id:M},k)=>(0,e.h)("tr",null,(0,e.h)("td",{className:"poll-option",width:"100%"},(0,e.h)("a",{className:"poll-vote-link",href:`%%poll_vote_option_${M}_url%%`,width:"100%"},(0,e.h)("div",{className:"poll-vote-contents"},a||zf(k))))))))))))):(0,e.h)("table",{className:"poll-wrapper"},i("Something went wrong."))};var Wl=Et(25380),cD=Object.defineProperty,dD=Object.defineProperties,fD=Object.getOwnPropertyDescriptors,uv=Object.getOwnPropertySymbols,pD=Object.prototype.hasOwnProperty,hD=Object.prototype.propertyIsEnumerable,cv=(n,t,r)=>t in n?cD(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,mD=(n,t)=>{for(var r in t||(t={}))pD.call(t,r)&&cv(n,r,t[r]);if(uv)for(var r of uv(t))hD.call(t,r)&&cv(n,r,t[r]);return n},_D=(n,t)=>dD(n,fD(t));const gD=n=>(0,e.h)(L.l,_D(mD({},n),{name:"LucideCheck",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)(Wl.Z,{height:24,stroke:n.stroke,fill:n.fill,strokeWidth:n.strokeWidth})),bc=(0,e.createContext)({isSubstack:!1,customDomain:null});bc.displayName="DomainInfoContext";function W$(){return useContext(bc)}function H$({value:n,children:t}){const r=useMemo(()=>n,Object.values(n));return h(bc.Provider,{value:r},t)}var vD=Object.defineProperty,yD=Object.defineProperties,bD=Object.getOwnPropertyDescriptors,dv=Object.getOwnPropertySymbols,PD=Object.prototype.hasOwnProperty,ED=Object.prototype.propertyIsEnumerable,fv=(n,t,r)=>t in n?vD(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Gf=(n,t)=>{for(var r in t||(t={}))PD.call(t,r)&&fv(n,r,t[r]);if(dv)for(var r of dv(t))ED.call(t,r)&&fv(n,r,t[r]);return n},wD=(n,t)=>yD(n,bD(t));const CD=["Subscribe","Subscribe now","Sign up","Sign up now"];function pv({isStatic:n,pub:t,user:r,freeSignup:i,children:a,pledgesEnabled:M}){if(n)return(0,e.h)(Of.E.Consumer,null,({isFreemail:Y,isFreeSubscribed:ge,isPledged:Ce})=>a({isFreeSubscribed:ge,isSubscribed:!Y,isFullySubscribed:t.plans?!Y:!M||Ce,isForPaidSubscription:!!t.plans&&Y,isPledged:Ce}));const k=i||(r==null?void 0:r.is_free_subscribed),F=r==null?void 0:r.is_subscribed,B=r==null?void 0:r.is_pledged;return a({isFreeSubscribed:k,isSubscribed:F,isFullySubscribed:t.plans?F:k&&(!M||B),isForPaidSubscription:!!t.plans&&k&&!F,isPledged:B})}function Zf({pub:n,user:t,now:r,isStatic:i}){const{getExperimentVariant:a,exposeExperiment:M}=(0,Pr.jc)();return(0,e.h)(Mn.vz.Consumer,null,({getSettingFor:k})=>{const F=n.payments_state==="disabled"&&!n.invite_only&&k("payment_pledges_enabled");return(0,e.h)(pv,{isStatic:i,user:t,pub:n,pledgesEnabled:F},({isFreeSubscribed:B,isPledged:Y})=>i?(0,nn.getSubscribeText)(n,{now:r,isFreeSubscribed:B,isPledged:Y,pledgesEnabled:F}):(0,e.h)(y.gq,{alignItems:"center",gap:8},B?null:(0,e.h)(bl.Z,{size:20}),(0,nn.getSubscribeText)(n,{now:r,isFreeSubscribed:B,isPledged:Y,pledgesEnabled:F})))})}class Qa extends e.Component{onSignup(t){this.setState({loading:!0}),this.props.onSignup?this.props.onSignup(t):!this.props.forceEmailInput&&(this.props.pub.plans||this.props.pub.has_recommendations)?document.location.href=(0,p.getSubscribeUrl)(this.props.pub,wD(Gf(Gf({addBase:!0,utm_medium:"web",utm_source:this.props.source||"subscribe-widget",utm_content:this.props.post&&this.props.post.id,just_signed_up:!0,requires_confirmation:t.body.requires_confirmation?"true":""},t.body.subscription_id&&{subscription_id:t.body.subscription_id}),t.body.referral_token&&{referral_token:t.body.referral_token}),{next:this.props.next||document.location.href})):document.location.reload()}getHref(t){const{pub:r,subscribeButtonAttrs:i,isStatic:a,source:M,post:k,next:F}=this.props,B={utm_medium:a?"email":"web",utm_source:M||"subscribe-widget",utm_content:k&&k.id,next:F,referring_pub_ids:a?void 0:(0,p.getQueryItem)("referring_pub_ids")};return t?a?Ei.Substitutions.ACCOUNT_URL:(0,p.getPubAccountSettingsUrl)(r,{params:B}):(0,p.getSubscribeUrl)(r,Gf({addBase:!0,root:i?i.url:a&&Ei.Substitutions.CHECKOUT_URL},B))}getButtonLabel(t,r,{isPledged:i,pledgesEnabled:a}){const{pub:M,subscribeButtonAttrs:k}=this.props,{iString:F}=I18N.i({pub:M});if(t||i)return F("Subscribed");const B=k&&k.text;if(B&&!CD.includes(B))return B;const Y=r;return(0,nn.getSubscribeText)(M,{now:!Y,isFreeSubscribed:Y,isPledged:i,pledgesEnabled:a})}render({pub:t,user:r,freeSignup:i,freeSignupEmail:a,source:M,isStatic:k,forceEmailInput:F,expectTruncation:B,onPrepareData:Y,onError:ge},{loading:Ce}){const Se=typeof window!="undefined"&&t.hostname!==window.location.hostname.replace(/[.]localhost$/,"");return(0,e.h)(Mn.vz.Consumer,null,({getSettingFor:Ue})=>(0,e.h)(bc.Consumer,null,Ye=>(0,e.h)(pv,{pub:t,user:r,isStatic:k,freeSignup:i,pledgesEnabled:t.payments_state==="disabled"&&!t.invite_only&&Ue("payment_pledges_enabled")},({isFreeSubscribed:Ve,isSubscribed:at,isFullySubscribed:pt,isPledged:gt})=>{var xt;const Nt=this.getButtonLabel(at,Ve,{isPledged:gt,pledgesEnabled:t.payments_state==="disabled"&&!t.invite_only&&Ue("payment_pledges_enabled")}),Tt=Ve||at;return(0,e.h)("div",{className:l()("subscribe-widget",{"is-signed-up":Tt,"is-fully-subscribed":pt}),"data-component-name":"SubscribeWidget"},!F&&(Tt||k)?(0,e.h)("p",{className:"button-wrapper"},k?(0,e.h)("a",{className:l()("button subscribe-btn",pt?"outline":"primary"),href:this.getHref(pt),native:!k},pt&&(0,e.h)(gD,{stroke:((xt=t==null?void 0:t.theme)==null?void 0:xt.background_pop_color)||(t==null?void 0:t.theme_var_background_pop)||A.substack_color,fill:"transparent",isStatic:!0,className:"check-icon static",height:20}),(0,e.h)("span",null,Nt)):(0,e.h)(ua.z,{className:"subscribe-btn",href:this.getHref(pt),localNavigation:!1,variant:pt?"themed-secondary":"themed-primary",leftIcon:pt?(0,e.h)(Wl.Z,{size:20}):null},(0,e.h)("span",null,Nt))):(0,e.h)(y.gq,{justifyContent:"center"},(0,e.h)(Be.Z,{disabled:Tt||Ce,freeSignup:i,freeSignupEmail:a,expectTruncation:B,next:Se?window.location.href:null,pub:t,source:M||"subscribe-widget",submitButtonText:Tt?"\u2713":(0,nn.getSubscribeText)(t),useSubscribeLink:(Ye==null?void 0:Ye.isSubstack)||Se,user:r,utm_campaign:Ye!=null&&Ye.isSubstack?"reader2":Se?"cross-post":null,onConfirmationRequired:(t==null?void 0:t.payments_state)==="enabled"?()=>null:void 0,onError:ge,onPrepareData:Y,onSuccess:Ut=>this.onSignup(Ut)})))})))}}var OD=Object.defineProperty,SD=Object.defineProperties,TD=Object.getOwnPropertyDescriptors,hv=Object.getOwnPropertySymbols,ID=Object.prototype.hasOwnProperty,xD=Object.prototype.propertyIsEnumerable,mv=(n,t,r)=>t in n?OD(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Fa=(n,t)=>{for(var r in t||(t={}))ID.call(t,r)&&mv(n,r,t[r]);if(hv)for(var r of hv(t))xD.call(t,r)&&mv(n,r,t[r]);return n},_v=(n,t)=>SD(n,TD(t));const MD=(n,t)=>(0,e.h)("div",{className:"subscription-widget-wrap"},(0,e.h)("div",{className:"subscription-widget show-subscribe"},(0,e.h)("div",{className:"preamble"},(0,e.h)("p",{dangerouslySetInnerHTML:{__html:n.children[0].children[0].children[0].innerHTML}})),(0,e.h)(Qa,Fa({pub:t.pub,subscribeButtonAttrs:null,source:"subscribe-widget-preamble"},t.props)))),DD=(n,t)=>{try{const r=JSON.parse(wi()(n.getAttribute("data-attrs")));if([`${t.pub.base_url}/subscribe?`,"${ctx.pub.base_url}/subscribe?plan=founding",Ei.Substitutions.CHECKOUT_URL,Ei.Substitutions.FOUNDING_CHECKOUT_URL].includes(r.url)){const i=JSON.parse(wi()(n.getAttribute("data-attrs")));return(0,e.h)(Qa,Fa({pub:t.pub,subscribeButtonAttrs:i},t.props))}}catch(r){console.error("Failed to parse button:",r)}},AD=(n,{pub:t,props:{isStatic:r,post:i}})=>{try{const a=n.getAttribute("data-attrs");if(a){const M=JSON.parse(wi()(a));return r?(0,e.h)(a_,{label:M.label,pub:t,post:i,duration:M.duration}):(0,e.h)(i_,{label:M.label,pub:t,post:i,src:`/api/v1/audio/upload/${M.mediaUploadId}/src`,duration:M.duration,autoPlay:!1})}}catch(a){console.error("Failed to parse audio:",a)}},ND=(n,{pub:t,props:{isStatic:r,post:i}})=>{try{const a=n.getAttribute("data-attrs");if(a){const M=JSON.parse(wi()(a));return r?(0,e.h)(a_,{label:M.label,pub:t,post:i,duration:M.duration}):(0,e.h)(i_,{label:M.label,pub:t,post:i,src:M.url,duration:M.duration,autoPlay:!1})}}catch(a){console.error("Failed to parse audio:",a)}},RD=(n,{props:{isStatic:t}})=>{try{const r=n.getAttribute("data-attrs");if(r){const{name:i,avatarUrl:a,url:M}=JSON.parse(wi()(r));return t?(0,e.h)($T,{name:i,avatarUrl:a,url:M}):(0,e.h)(zT,{name:i,avatarUrl:a,url:M})}}catch(r){console.error("Failed to parse audio:",r)}},LD=n=>{try{const t=JSON.parse(n.dataset.attrs).symbol;return t?(0,e.h)(pI,{symbol:t,prependSymbol:JSON.parse(n.dataset.attrs).prependSymbol,isStatic:JSON.parse(n.dataset.attrs).isStatic}):(0,e.h)(e.Fragment,null)}catch(t){return(0,e.h)(e.Fragment,null)}},BD=(n,{pub:t,props:{isStatic:r,post:i}})=>{const{iString:a}=I18N.i({pub:t});try{if(r){const M=n.getAttribute("data-attrs");if(M){const k=JSON.parse(wi()(M)),F=k==null?void 0:k.persistentExpression;return F?(0,e.h)("img",{src:(0,p.getLatexUrl)(F),style:{transform:"scale(0.5)"},"data-component-name":"LatexImg"}):(0,e.h)("p",null,a("Failed to render LaTeX expression \u2014 no expression found in email"))}else return(0,e.h)("p",null,a("Failed to render LaTeX expression \u2014 data attributes not found"))}else{const M=n.getAttribute("data-attrs"),k=JSON.parse(wi()(M)),F=k==null?void 0:k.persistentExpression;return F?(0,e.h)(he.gq,{className:"latex-rendered",justifyContent:"center",flex:"grow",paddingBottom:"4px",paddingTop:"4px","data-component-name":"Latex"},(0,e.h)(he.tu,{justifyContent:"center"},(0,e.h)(sT,{inline:!1},`\\(${F}\\)`))):(0,e.h)("p",null,a("Failed to render LaTeX expression \u2014 no expression found"))}}catch(M){return console.error("failed to render mathjax",M),(0,e.h)("p",null,a("Failed to render LaTeX expression \u2014 error"))}},kD=n=>{try{const t=JSON.parse(n.dataset.attrs),{name:r,id:i,type:a,url:M,photo_url:k,uuid:F,isStatic:B}=t;return r?(0,e.h)(Vd.default,{name:r,id:i,type:a,url:M,photo_url:k,uuid:F,isStatic:B}):(0,e.h)(e.Fragment,null)}catch(t){return(0,e.h)(e.Fragment,null)}},UD=(n,t)=>{var r;try{const i=JSON.parse(wi()(n.getAttribute("data-attrs")));return i!=null&&i.isEmail?(0,e.h)("table",{className:"poll-embed poll-email",cellSpacing:"16px",width:"100%"},(0,e.h)("tbody",null,(0,e.h)("tr",null,(0,e.h)("td",{align:"center"},(0,e.h)(uD,{id:i.id,embeddedPolls:(r=t.props.dataForEmailRender)==null?void 0:r.embeddedPolls}))))):(0,e.h)("div",{className:"poll-embed",dataAttrs:n.getAttribute("data-attrs")},(0,e.h)(lD,{id:i.id,isEditor:!1,post:t.props.post,pub:t.pub,isVersionView:!!t.props.isVersionView}))}catch(i){return console.log("Failed to parse poll:",i),(0,e.h)(e.Fragment,null)}};function FD(n,{props:{isStatic:t}}){try{const r=n.getAttribute("data-attrs"),i=JSON.parse(wi()(r));return!i.pub||!i.subdomain?(console.error("could not deepPrepare communityChat, subdomain or pub missing from node"),(0,e.h)(e.Fragment,null)):(0,e.h)("div",{className:"community-chat",dataAttrs:r},t?(0,e.h)(cT,Fa({},i)):(0,e.h)(uT,{pub:i.pub,subdomain:i.subdomain}))}catch(r){return console.error("Failed to parse chat embed:",r),(0,e.h)(e.Fragment,null)}}function jD(n,t){const{props:{isStatic:r,is_freemail:i}}=t;try{const a=n.getAttribute("data-attrs"),M=JSON.parse(wi()(a));return r?(0,e.h)(TT,Fa({is_freemail:i},M)):(0,e.h)(ST,Fa({},M))}catch(a){return console.error("Failed to parse chat post embed:",a),(0,e.h)(e.Fragment,null)}}function WD(n,{props:{isStatic:t}}){try{const r=n.getAttribute("data-attrs"),i=JSON.parse(wi()(r));return t?(0,e.h)(L0,Fa({},i)):(0,e.h)(DT,Fa({},i))}catch(r){return console.error("Failed to parse chat post embed:",r),(0,e.h)(e.Fragment,null)}}const HD=(n,t,r)=>{var i;const a=n.id,[M,,k]=a.split("-"),F=(i=r.wrapper.querySelector(`#${M}-${k}`))==null?void 0:i.nextElementSibling;return F?((0,D.isMobile)()&&(n.href="javascript:void(0)"),(0,e.h)(Xd.z,{content:(0,e.h)("div",{className:"markup"},Hl(F,t,r)),className:"footnote-hovercard-target",layerClassName:"typography footnote-hovercard"},Hl(n,t,r))):Hl(n,t,r)},Pc=(n,t,{shallow:r}={})=>{var i,a,M;if(n.nodeName==="A"&&(n.getAttribute("rel")||n.setAttribute("rel",(i=t.pub)!=null&&i.no_follow?"nofollow ugc noopener":"")),t.pub&&n.nodeName==="P"&&(0,O.hasClass)(n,"button-wrapper")){const k=DD(n,t);if(k)return k}return(0,O.hasClass)(n,"subscription-widget-wrap")?MD(n,t):(0,O.hasClass)(n,"cashtag-wrap")?LD(n):(0,O.hasClass)(n,"mention-wrap")?kD(n):t.pub&&(0,O.hasClass)(n,"native-audio-url-embed")?ND(n,t):t.pub&&(0,O.hasClass)(n,"native-audio-embed")?AD(n,t):t.pub&&(0,O.hasClass)(n,"native-video-embed")?W3(n,t):t.pub&&(0,O.hasClass)(n,"meeting-embed")?RD(n,t):(0,O.hasClass)(n,"poll-embed")?UD(n,t):(0,O.hasClass)(n,"image-gallery-embed")?$3(n,t):(0,O.hasClass)(n,"image3")?K3(n,t):(0,O.hasClass)(n,"latex-rendered")?BD(n,t):(0,O.hasClass)(n,"community-chat")?FD(n,t):(0,O.hasClass)(n,"community-post")?jD(n,t):(0,O.hasClass)(n,"digest-post-embed")?H3(n,t):(0,O.hasClass)(n,"comment")&&!(0,O.hasClass)(n,"template-comment")?WD(n,t):(0,O.hasClass)(n,"referrals-tier-card")?V3(n,t):((M=(a=t.props)==null?void 0:a.post)!=null&&M.id&&(0,O.hasClass)(n,"footnote")&&(n.id&&(n.id+=`-${t.props.post.id}`),n.href&&(n.href+=`-${t.props.post.id}`)),(0,O.hasClass)(n,"footnote-anchor")?HD(n,Pc,t):r?null:Hl(n,Pc,t))},VD=function(n){const t={},r=Array.prototype.slice.call(n);for(const{name:i,value:a}of r)t[i]=a;return t},KD=(n,t)=>{let r=0;return function(){const i=[].slice.call(arguments,0),a=++r>t;a&&console.error("Too many post nodes to recurse",{postId:i[2].props.post.id,depth:r});const M=n.apply(null,[...i,...a?[!0]:[]]);return r--,M}};function $D(n,t,r,i){var a,M,k;const F=l()("header-with-anchor-widget",t.className),B=r.children.length?Array.prototype.map.call(r.childNodes,Y=>Pc(Y,i)):[r.textContent];return(0,e.h)(n,_v(Fa({},t),{className:F}),...B,(0,e.h)(z3,{text:r.textContent,pub:i==null?void 0:i.pub,post:(a=i==null?void 0:i.props)==null?void 0:a.post,offsetTop:!0,isAboutPage:(k=(M=i==null?void 0:i.props)==null?void 0:M.isAboutPage)!=null?k:!1}))}const Hl=KD((n,t,r,i)=>{var a,M;if(!n)throw new Error("Empty node, cannot preactify!");const k=n.nodeType===3?"span":n.nodeType===8?"x_preact_compatible_html_comment_x":n.tagName.toLowerCase(),F=n.nodeType!==1?{}:VD(n.attributes),B=n.children&&n.children.length>0?null:n.textContent;if(i)return(0,e.h)(k,_v(Fa({},F),{dangerouslySetInnerHTML:{__html:n.innerHTML}}));const Y=!!((a=n.parentElement)!=null&&a.getAttribute("data-prose-mirror-wrapper"));if(((M=r==null?void 0:r.pub)==null?void 0:M.type)!=="rss"&&Y&&["h1","h2","h3","h4"].includes(k)&&!n.className)return $D(k,F,n,r);if(B)return(0,e.h)(k,F,B);const ge=t(n,r,{shallow:!0});return ge||(0,e.h)(k,F,...Array.prototype.map.call(n.childNodes,Ce=>t(Ce,r)))},2500);function zD(n,t,r={}){const i=document.createElement("div");return i.setAttribute("data-prose-mirror-wrapper",1),i.innerHTML=n,Array.prototype.map.call(i.childNodes,a=>Hl(a,Pc,{wrapper:i,pub:t,props:r}))}var Yf=Et(62017);const gv=typeof window!="undefined";function vv(n,t,r=gv?localStorage:void 0){var i;const[a,M]=(0,o.eJ)(typeof r!="undefined"&&(i=r.getItem(n))!=null?i:t);return[a,F=>{M(B=>{const Y=typeof F=="function"?F(B):F;return r&&r.setItem(n,Y),Y})}]}function K$(n,t,r=gv?localStorage:void 0){const i=useMemo(()=>JSON.stringify(t),[t]),[a,M]=vv(n,i,r);return[useMemo(()=>{try{return JSON.parse(a)}catch(B){return console.error("Failed to parse stored value:",B),t}},[a,t]),B=>M(JSON.stringify(B))]}var yv=Et(16742);const Qi={button:"frontend-components-selection_popover-module__button--lynvl",popover:"frontend-components-selection_popover-module__popover--rjfPU",popoverButtons:"frontend-components-selection_popover-module__popoverButtons--Jlk3U",icon:"frontend-components-selection_popover-module__icon--fJlTy",disabled:"frontend-components-selection_popover-module__disabled--q2o7U",explainer:"frontend-components-selection_popover-module__explainer--PBsHq",dismissExplainer:"frontend-components-selection_popover-module__dismissExplainer--SCSfS",mobileFooter:"frontend-components-selection_popover-module__mobileFooter--gk9tq"};var GD=Object.defineProperty,ZD=Object.defineProperties,YD=Object.getOwnPropertyDescriptors,Ec=Object.getOwnPropertySymbols,bv=Object.prototype.hasOwnProperty,Pv=Object.prototype.propertyIsEnumerable,Ev=(n,t,r)=>t in n?GD(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,ws=(n,t)=>{for(var r in t||(t={}))bv.call(t,r)&&Ev(n,r,t[r]);if(Ec)for(var r of Ec(t))Pv.call(t,r)&&Ev(n,r,t[r]);return n},Vl=(n,t)=>ZD(n,YD(t)),JD=(n,t)=>{var r={};for(var i in n)bv.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Ec)for(var i of Ec(n))t.indexOf(i)<0&&Pv.call(n,i)&&(r[i]=n[i]);return r},Kl=(n,t,r)=>new Promise((i,a)=>{var M=B=>{try{F(r.next(B))}catch(Y){a(Y)}},k=B=>{try{F(r.throw(B))}catch(Y){a(Y)}},F=B=>B.done?i(B.value):Promise.resolve(B.value).then(M,k);F((r=r.apply(n,t)).next())});function XD(n){var t,r,i,a;const{nuxModal:M,showRestackNux:k}=(0,yv.y)("post");return(0,e.h)(e.Fragment,null,M,((a=(i=(r=(t=n.selection)==null?void 0:t.text)==null?void 0:r.split)==null?void 0:i.call(r," "))==null?void 0:a.length)>=3&&(0,e.h)(QD,ws({onShare:k},n)))}function QD({pub:n,post:t,selection:r,onShare:i,onClose:a,userInteractionDisabled:M}){var k;const F=(0,Na.aF)(),B=(0,ii.pm)(),Y=(0,Ol.i3)(),ge=(0,Fi.XA)(),Ce="has_dismissed_restack_selection_explainer",[Se]=vv(Ce),Ue=(0,Na.SE)();(0,o.d4)(()=>{Se==="true"&&(Ue!=null&&Ue.userSettings)&&!Ue.userSettings.has_seen_select_to_restack_tooltip_nux&&Ue.changeSetting("has_seen_select_to_restack_tooltip_nux",!0)},[]);const Ye=!t.is_draft&&!!F,Ve=!t.is_draft,at=()=>Kl(this,null,function*(){const rn=yield(0,Ot.rd)("/api/v1/post_selection",{method:"PUT",json:{postId:t.id,publication_id:n.id,startParagraph:r.startParagraph,endParagraph:r.endParagraph,startOffset:r.startOffset,endOffset:r.endOffset}});if(rn instanceof Error)throw rn;return rn.selection.id}),pt=()=>Kl(this,null,function*(){const rn=yield at();return(0,p.getPostUrl)(n,t,{urlParams:{r:F?F.id.toString(36):null,selection:rn,utm_campaign:"post_selection",utm_medium:"web"}})}),gt=()=>Kl(this,null,function*(){if(!Ye)return;a();let rn;try{rn=yield pt()}catch(yn){B.popToast(In=>(0,e.h)(ii.FN,Vl(ws({},In),{text:"Failed to generate quote"})));return}const ln=yield Y.open({restackUrl:rn});ln instanceof Error?(console.error(ln),B.popToast(yn=>(0,e.h)(ii.FN,Vl(ws({},yn),{text:"Failed to post"})))):(i(),B.popToast(yn=>(0,e.h)(ii.FN,Vl(ws({},yn),{text:"Note sent",cta:"View",href:(0,te.getFeedUrl)()}))))}),xt=()=>Kl(this,null,function*(){if(!Ve)return;a();let rn;try{rn=yield pt()}catch(ln){B.popToast(yn=>(0,e.h)(ii.FN,Vl(ws({},yn),{text:"Failed to copy link to quote"})));return}(0,O.copyToClipboard)(rn),B.popToast(ln=>(0,e.h)(ii.FN,Vl(ws({},ln),{text:"Link copied to clipboard"})))}),Nt=rn=>Kl(this,null,function*(){if(F)return;a();let ln;try{ln=yield at()}catch(En){}const yn=(0,p.updateQuery)(document.location.href,{selection:ln}),In=(0,p.getSigninUrl)({redirect:yn});(0,O.redirect)(In,{local_navigation:!1,event:rn})});(0,o.d4)(()=>(window.addEventListener("scroll",a,{passive:!0,capture:!0,once:!0}),()=>{window.removeEventListener("scroll",a,{capture:!0,once:!0})}),[a]);const Tt=(Ue==null?void 0:Ue.userSettings)&&!((k=Ue.userSettings)!=null&&k.has_seen_select_to_restack_tooltip_nux),Ut=Tt?156:40,qt=()=>{Ue.changeSetting("has_seen_select_to_restack_tooltip_nux",!0)};return(0,e.h)(he.tu,{style:{top:(0,nn.isTouchDevice)()?r.y+r.height+8:r.y-Ut-8,left:r.rect.x+r.rect.width/2,transform:"translateX(-50%)",pointerEvents:M?"none":"auto",maxWidth:240},justifyContent:"center",className:Qi.popover,shadow:"md",radius:12},(0,e.h)(he.tu,{className:l()(Qi.popoverButtons,ge&&Qi.isMobile),radius:12,padding:Tt?8:4,gap:8},Tt&&(0,e.h)(qD,{onDismiss:qt}),(0,e.h)(wv,{onClick:F?gt:Nt,disabled:!Ye&&!!F,isExplainer:Tt},(0,e.h)(Nl.Z,{className:l()(Qi.icon,!Ye&&Qi.disabled)}),(0,e.h)(I.xv.B4,{color:Ye?"bg-light":"secondary",weight:"medium"},Ye?"Restack quote":F?t.is_draft?"Cannot quote a draft":n!=null&&n.invite_only?"Cannot quote on invite-only publication":["only_paid","founding"].includes(t==null?void 0:t.audience)?"Cannot quote paid post":"Cannot quote this post":"Sign in to restack quote"))))}function wv(n){var t=n,{isExplainer:r}=t,i=JD(t,["isExplainer"]);return(0,e.h)(yt.kG,ws({className:l()(Qi.button,r&&Qi.explainerButton),resetCss:!0},i))}function qD({onDismiss:n}){return(0,e.h)(he.tu,{className:Qi.explainer,radius:6,paddingX:16,paddingY:8,gap:4},(0,e.h)(yt.kG,{resetCss:!0,className:Qi.dismissExplainer,onClick:n},(0,e.h)(Ks.Z,{size:16,stroke:"var(--color-secondary)"})),(0,e.h)(I.xv.B4,{color:"bg-light",weight:"medium"},"New: Quote this post"),(0,e.h)(I.xv.Detail,{size:14,color:"secondary"},"Share your favorite part of this post to"," ",(0,e.h)(Yf.hh,{color:"secondary",decoration:"underline",href:"https://substack.com/notes",target:"_blank"},"Notes"),"."))}var e6=Et(42441),Cv=Et.n(e6),t6=Et(592);const n6=(n,t=500)=>{const r=(0,o.sO)(null),i=(0,o.sO)({x:0,y:0}),a=(0,o.sO)(!1),M=(0,o.I4)(B=>{i.current={x:B.touches[0].clientX,y:B.touches[0].clientY},r.current=window.setTimeout(()=>{a.current=!0,n()},t)},[n,t]),k=(0,o.I4)(()=>{r.current!==null&&clearTimeout(r.current),a.current=!1},[]),F=(0,o.I4)(B=>{const Y={x:B.touches[0].clientX,y:B.touches[0].clientY},ge=Math.abs(Y.x-i.current.x),Ce=Math.abs(Y.y-i.current.y),Se=10;(ge>Se||Ce>Se)&&(r.current!==null&&clearTimeout(r.current),a.current=!1)},[]);return(0,o.d4)(()=>()=>{r.current!==null&&clearTimeout(r.current)},[]),{onTouchStart:M,onTouchEnd:k,onTouchMove:F,longPressActivated:a}};var r6=Et(40946);const ba={root:"frontend-components-ShareSelectionImage-module__root--pmZjU",stories:"frontend-components-ShareSelectionImage-module__stories--GtFB9",small:"frontend-components-ShareSelectionImage-module__small--xwYwM",square:"frontend-components-ShareSelectionImage-module__square--ahhUC",link:"frontend-components-ShareSelectionImage-module__link--RAXSX",image:"frontend-components-ShareSelectionImage-module__image--A2mIB",download:"frontend-components-ShareSelectionImage-module__download--d6vx_",secondaryBorder:"frontend-components-ShareSelectionImage-module__secondaryBorder--GZZF_",imageLoading:"frontend-components-ShareSelectionImage-module__imageLoading--CWfsY",spinner:"frontend-components-ShareSelectionImage-module__spinner--Cngzw",text:"frontend-components-ShareSelectionImage-module__text--WP_9Y"};var o6=Object.defineProperty,Ov=Object.getOwnPropertySymbols,i6=Object.prototype.hasOwnProperty,a6=Object.prototype.propertyIsEnumerable,Sv=(n,t,r)=>t in n?o6(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,s6=(n,t)=>{for(var r in t||(t={}))i6.call(t,r)&&Sv(n,r,t[r]);if(Ov)for(var r of Ov(t))a6.call(t,r)&&Sv(n,r,t[r]);return n},Tv=(n,t,r)=>new Promise((i,a)=>{var M=B=>{try{F(r.next(B))}catch(Y){a(Y)}},k=B=>{try{F(r.throw(B))}catch(Y){a(Y)}},F=B=>B.done?i(B.value):Promise.resolve(B.value).then(M,k);F((r=r.apply(n,t)).next())});const l6=({pub:n,post:t,aspectRatio:r,text:i,selectionId:a,small:M})=>{const[k,F]=(0,o.eJ)(""),[B,Y]=(0,o.eJ)(""),[ge,Ce]=(0,o.eJ)(!1),[Se,Ue]=(0,o.eJ)({});(0,o.d4)(()=>{(0,D.isMobile)()&&navigator.share&&navigator.canShare(Se)&&Ce(!0)},[Se]),(0,o.d4)(()=>{function pt(){return Tv(this,null,function*(){const gt={aspectRatio:r};F("");const xt=(0,p.getPostSelectionMediaUrl)(n,t,a,gt);if((0,O.preloadImage)((0,p.getPostSelectionMediaUrl)(n,t,a,gt),()=>{F(xt),Y((0,p.getPostSelectionMediaUrl)(n,t,a,gt,`${i}${r?` - ${r}`:""}`))}),(0,D.isMobile)()){const Nt=yield fetch(xt);Ue({title:"Share this post",text:t.title,files:[new File([yield Nt.blob()],"image.png",{type:"image/png"})],url:(0,p.getPostUrl)(n,t)})}})}pt()},[Y,F,n,t,a,r,i]);const Ye=(0,Kt.useCallback)(()=>{(0,C.j)(C.FP.SHARE_SELECTION_IMAGE_DOWNLOADED,{post_id:t.id,selection_id:a,type:i,aspect_ratio:r,interaction:"longpress"})},[t.id,a,i,r]),Ve=n6(Ye),at=(0,Kt.useCallback)(pt=>Tv(void 0,null,function*(){if(Ve.longPressActivated.current){pt.preventDefault();return}if((0,C.j)(C.FP.SHARE_SELECTION_IMAGE_DOWNLOADED,{post_id:t.id,selection_id:a,type:i,aspect_ratio:r,interaction:"click"}),ge&&Se)try{yield navigator.share(Se)}catch(gt){}}),[Ve.longPressActivated,t.id,a,i,r,ge,Se]);return(0,e.h)("a",s6({href:(0,D.isMobile)()?void 0:B,alt:"Download Image",download:!0,className:ba.link,target:"_blank",onClick:at},Ve),(0,e.h)("div",{className:l()(ba.root,r==="stories"?ba.stories:ba.square,M&&ba.small)},!(0,D.isMobile)()&&(0,e.h)("div",{className:ba.download},(0,e.h)(r6.Z,{stroke:"white",fill:"none"})),!k&&(0,e.h)("div",{className:l()(ba.image,ba.imageLoading),alt:"Loading"},(0,e.h)(Ka.Sv,{className:ba.spinner})),k&&(0,e.h)("img",{src:k,className:l()(ba.image,M&&ba.small)})))};var u6=Et(99574),c6=Et(71765),d6=Et(64484),f6=Et(36543),p6=Et(66839),Iv=Et(91004);const Jf={root:"frontend-components-SelectionV2Modal-module__root--xQnU9",imageSmall:"frontend-components-SelectionV2Modal-module__imageSmall--R16_y",image:"frontend-components-SelectionV2Modal-module__image--xR25n",imageCarousel:"frontend-components-SelectionV2Modal-module__imageCarousel--JV4OT",modalWithFooter:"frontend-components-SelectionV2Modal-module__modalWithFooter--DhxFS"};var h6=Object.defineProperty,m6=Object.defineProperties,_6=Object.getOwnPropertyDescriptors,xv=Object.getOwnPropertySymbols,g6=Object.prototype.hasOwnProperty,v6=Object.prototype.propertyIsEnumerable,Mv=(n,t,r)=>t in n?h6(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Xf=(n,t)=>{for(var r in t||(t={}))g6.call(t,r)&&Mv(n,r,t[r]);if(xv)for(var r of xv(t))v6.call(t,r)&&Mv(n,r,t[r]);return n},Qf=(n,t)=>m6(n,_6(t)),qs=(n,t,r)=>new Promise((i,a)=>{var M=B=>{try{F(r.next(B))}catch(Y){a(Y)}},k=B=>{try{F(r.throw(B))}catch(Y){a(Y)}},F=B=>B.done?i(B.value):Promise.resolve(B.value).then(M,k);F((r=r.apply(n,t)).next())});const Dv=["square","stories"],y6={square:"Square (1:1)",stories:"Vertical (9:16)"},Av=({pub:n,post:t,selectionId:r,aspectRatio:i,small:a=!1})=>{const M=y6[i];return(0,e.h)("div",{className:l()(Jf.root,a&&Jf.imageSmall)},(0,e.h)(l6,{pub:n,post:t,aspectRatio:i,text:M,selectionId:r,small:a}),M&&(0,e.h)(y.xv.Meta,{paddingTop:a?8:16},M))},b6=({pub:n,post:t,isOpen:r,onClose:i,onShareToInstagram:a,selection:M,selectionId:k,setSelectionId:F})=>{const[B,Y]=(0,o.eJ)(!1),ge=(0,Na.aF)(),Ce=(0,y.pm)(),Se=(0,Ol.i3)(),Ue=(0,D.isMobile)({checkFirst4:!0}),Ye=r&&(!!k||B);(0,o.d4)(()=>{Ye&&(0,C.j)(C.FP.SHARE_SELECTION_MODAL_OPENED,{post_id:t.id})},[Ye,t.id]),(0,o.d4)(()=>{if(!M||!r)return;(()=>qs(void 0,null,function*(){Y(!0);const Ut=yield(0,Ot.rd)("/api/v1/post_selection",{method:"PUT",json:{postId:t.id,publication_id:n.id,startParagraph:M.startParagraph,endParagraph:M.endParagraph,startOffset:M.startOffset,endOffset:M.endOffset}});if(Y(!1),Ut instanceof Error)throw Ut;F(Ut.selection.id.toString())}))()},[n,t,M,r,F]);const Ve=(Tt,Ut)=>{const qt=(0,Iv.O1)(null,{pub:n,post:t,selectionId:k,user:ge||void 0,medium:"web",utm_campaign:"post-share-selection"});(0,Iv.I)(Tt,Ut,{shareUrl:qt,post:t,pub:n,selectionId:k,utm_campaign:"post-share-selection"})},at=()=>qs(void 0,null,function*(){Ve("copy",Tt=>((0,O.copyToClipboard)(Tt),Ce.popToast(Ut=>(0,e.h)(y.FN,Qf(Xf({},Ut),{text:"Link copied to clipboard"}))),!1))}),pt=()=>qs(void 0,null,function*(){Ve("facebook",Tt=>(0,te.pathWithQuery)("https://www.facebook.com/sharer/sharer.php",{u:Tt}))}),gt=()=>qs(void 0,null,function*(){Ve("twitter",Tt=>(0,te.pathWithQuery)("https://twitter.com/share",{url:Tt,text:t.title}))}),xt=()=>qs(void 0,null,function*(){Ve("linkedin",Tt=>(0,te.pathWithQuery)("https://www.linkedin.com/sharing/share-offsite/",{url:Tt}))}),Nt=()=>qs(void 0,null,function*(){i();const Tt=(0,p.getPostUrl)(n,t,{urlParams:{r:ge?ge.id.toString(36):null,selection:k,utm_campaign:"post-share-selection",utm_medium:"web"}});(yield Se.open({restackUrl:Tt}))instanceof Error?Ce.popToast(qt=>(0,e.h)(y.FN,Qf(Xf({},qt),{text:"Failed to post"}))):Ce.popToast(qt=>(0,e.h)(y.FN,Qf(Xf({},qt),{text:"Note sent",cta:"View",href:(0,te.getFeedUrl)()})))});return(0,e.h)(y.u_,{isOpen:Ye,onClose:i,width:480,fullscreenMobile:!0,className:Jf.modalWithFooter},(0,e.h)(y.xB,{title:"Share Quote",includeClose:!0,onClose:i}),(0,e.h)(y.xu,null,(0,e.h)(y.iz,{paddingY:20})),Ue&&(0,e.h)(y.gq,{justifyContent:"center",alignItems:"center",paddingY:8},(0,e.h)(y.xv.B4,{color:"secondary"},"Long press to download image")),(0,e.h)(y.xu,{flex:"grow"},(0,e.h)(u6.H,{hideArrowsMobile:!0},k&&!B&&Dv.map((Tt,Ut)=>(0,e.h)(Av,{pub:n,post:t,selectionId:k,aspectRatio:Tt,key:Ut})))),(0,e.h)(y.xu,null,(0,e.h)(y.iz,null)),(0,e.h)(y.gq,{padding:16,gap:8},(0,e.h)(y.hU,{fill:"outline",rounded:!1,onClick:at,disabled:!k},(0,e.h)($s.Z,{height:20,width:20})),(0,e.h)(y.hU,{fill:"outline",rounded:!1,onClick:a,disabled:!k},(0,e.h)(f6.Z,{height:20,width:20})),(0,e.h)(y.hU,{fill:"outline",rounded:!1,onClick:gt,disabled:!k},(0,e.h)(p6.Z,{height:20,width:20})),(0,e.h)(y.hU,{fill:"outline",rounded:!1,onClick:pt,disabled:!k},(0,e.h)(c6.Z,{height:20,width:20})),(0,e.h)(y.hU,{fill:"outline",rounded:!1,onClick:xt,disabled:!k},(0,e.h)(d6.Z,{height:20,width:20})),(0,e.h)(y.zx,{grow:!0,onClick:Nt,disabled:!k},"Restack")))};var Nv=(n,t,r)=>new Promise((i,a)=>{var M=B=>{try{F(r.next(B))}catch(Y){a(Y)}},k=B=>{try{F(r.throw(B))}catch(Y){a(Y)}},F=B=>B.done?i(B.value):Promise.resolve(B.value).then(M,k);F((r=r.apply(n,t)).next())});function P6({bodyRef:n,post:t,pub:r,selection:i,onClose:a,userInteractionDisabled:M}){var k,F,B;const[Y,ge]=(0,o.eJ)(!1),[Ce,Se]=(0,o.eJ)(!1),[Ue,Ye]=(0,o.eJ)(),Ve=((B=(F=(k=i==null?void 0:i.text)==null?void 0:k.split)==null?void 0:F.call(k," "))==null?void 0:B.length)||0,pt=i&&Ve>=3&&!t.is_draft&&!(r!=null&&r.invite_only)?(0,e.h)(E6,{pub:r,post:t,selection:i,onClose:a,userInteractionDisabled:M,bodyRef:n,onShowSelectionModal:ge}):null,gt=()=>{Se(!0),ge(!1),(0,C.j)(C.FP.SHARE_SELECTION_INSTAGRAM_MODAL_OPENED,{post_id:t.id})};return(0,e.h)(e.Fragment,null,pt,(0,e.h)(b6,{pub:r,post:t,selection:i,isOpen:Y,onClose:()=>ge(!1),onShareToInstagram:gt,selectionId:Ue,setSelectionId:Ye}),(0,e.h)(t6.I,{pub:r,post:t,isOpen:Ce,onClose:()=>Se(!1),mediaCarousel:(0,e.h)(y.xu,{gap:16,alignItems:"center",display:"flex",direction:"row"},Ue&&Dv.map((xt,Nt)=>(0,e.h)(Av,{pub:r,post:t,selectionId:Ue,aspectRatio:xt,key:Nt,small:!0}))),source:"post-share-selection",hideEmail:!0,hideAssetTitle:!0,smallAssetPadding:!0}))}function E6({bodyRef:n,pub:t,post:r,selection:i,onClose:a,userInteractionDisabled:M,onShowSelectionModal:k}){var F,B;const Y=(0,Na.aF)();(0,o.d4)(()=>(window.addEventListener("scroll",a,{passive:!0,capture:!0,once:!0}),Y&&!(0,nn.isTouchDevice)()&&Cv().bind("command+s",Ye=>{Ye.preventDefault(),k(!0)}),()=>{window.removeEventListener("scroll",a,{capture:!0}),Cv().unbind("command+s")}),[Y,a,k]);const ge=()=>Nv(this,null,function*(){const Ye=yield(0,Ot.rd)("/api/v1/post_selection",{method:"PUT",json:{postId:r.id,publication_id:t.id,startParagraph:i.startParagraph,endParagraph:i.endParagraph,startOffset:i.startOffset,endOffset:i.endOffset}});if(Ye instanceof Error)throw Ye;return Ye.selection.id}),Ce=Ye=>Nv(this,null,function*(){if(Y)return;a();let Ve;try{Ve=yield ge()}catch(gt){}const at=(0,p.updateQuery)(document.location.href,{selection:Ve}),pt=(0,p.getSigninUrl)({redirect:at});(0,O.redirect)(pt,{local_navigation:!1,event:Ye})}),Se=Ye=>{Y?k(!0):Ce(Ye)},Ue=Y?"Share quote":"Sign in to share";return(0,nn.isTouchDevice)()?(0,e.h)(y.gq,{className:Qi.mobileFooter,justifyContent:"center",padding:8},(0,e.h)(y.zx,{priority:"primary-theme",rounded:!0,onClick:Se,leftIcon:(0,e.h)(ff.Z,{width:14,height:14})},Ue)):(0,e.h)(y.gq,{style:{top:i.y+8,left:(((F=n.current)==null?void 0:F.offsetLeft)||0)+(((B=n.current)==null?void 0:B.offsetWidth)||0)+8,pointerEvents:M?"none":"auto",maxWidth:240},className:Qi.popover,gap:8},(0,e.h)(y.tu,{radius:12,padding:4},(0,e.h)(y.u,{text:Ue,hotkeys:Y?["\u2318","s"]:[],preferPlacement:"right-center"},(0,e.h)(y.hU,{rounded:!0,size:40,priority:"secondary",fill:"borderless",inverted:!1,onClick:Se},(0,e.h)(ff.Z,null)))))}var w6=Object.defineProperty,C6=Object.defineProperties,O6=Object.getOwnPropertyDescriptors,wc=Object.getOwnPropertySymbols,Rv=Object.prototype.hasOwnProperty,Lv=Object.prototype.propertyIsEnumerable,qf=(n,t,r)=>t in n?w6(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,S6=(n,t)=>{for(var r in t||(t={}))Rv.call(t,r)&&qf(n,r,t[r]);if(wc)for(var r of wc(t))Lv.call(t,r)&&qf(n,r,t[r]);return n},T6=(n,t)=>C6(n,O6(t)),I6=(n,t)=>{var r={};for(var i in n)Rv.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&wc)for(var i of wc(n))t.indexOf(i)<0&&Lv.call(n,i)&&(r[i]=n[i]);return r},ja=(n,t,r)=>(qf(n,typeof t!="symbol"?t+"":t,r),r),x6=(n,t,r)=>new Promise((i,a)=>{var M=B=>{try{F(r.next(B))}catch(Y){a(Y)}},k=B=>{try{F(r.throw(B))}catch(Y){a(Y)}},F=B=>B.done?i(B.value):Promise.resolve(B.value).then(M,k);F((r=r.apply(n,t)).next())});const Bv=`
div.body.markup > p:not(.button-wrapper),
.pullquote > p:not(.button-wrapper),
blockquote > p:not(.button-wrapper),
li > p:not(.button-wrapper),
caption > p:not(.button-wrapper),
.footnote-content > p:not(.button-wrapper)
`,M6=".image-link.image2";class $l extends e.Component{constructor(t,r){super(t,r),ja(this,"state",{selection:null,urlSelection:null,selectedImgIndex:null,selectionUserInteractionDisabled:!1}),ja(this,"onBodyMouseDown",()=>{this.setState({selectionUserInteractionDisabled:!0})}),ja(this,"onMouseUp",()=>{this.setState((i,a)=>i.selectionUserInteractionDisabled?(i.selection&&a.trackSelection&&(0,C.j)(C.FP.POST_TEXT_SELECTED,{post_id:a.post.id,post_audience:a.post.audience,post_type:a.post.type}),{selectionUserInteractionDisabled:!1}):null)}),ja(this,"onSelectionChange",zu()(()=>{const i=this.getSelectionState();i?this.setState({selection:i}):this.state.selection&&this.setState({selection:null})},100)),ja(this,"onDocumentClick",i=>{const a=i.target.closest(".image-link.image2");if(a&&this.originalImageState){const M=a.querySelector("img"),k=this.originalImageState.findIndex(F=>F.src===M.src);if(k>=0){i.preventDefault(),this.setState({selectedImgIndex:k});return}}if(!this.props.skipTrackClick)this.onLinkClick(i);else return null}),ja(this,"clearActiveSelection",()=>{this.setState({selection:null})}),ja(this,"closeImageViewerModal",()=>{this.setState({selectedImgIndex:null})}),ja(this,"shouldUseSelectionV2Popover",()=>{let i=(0,Pi.default)("share_selection_v2");return i==="experiment"&&(this.context.exposeExperiment("share_selection_v2"),i=this.context.getExperimentVariant("share_selection_v2")),i==="treatment"}),this.body=(0,e.createRef)()}componentDidMount(){return x6(this,null,function*(){const t=Array.from(this.body.current.querySelectorAll(Bv));this.originalParagraphState=t.map(F=>({text:F.textContent}));const r=new URL(window.location).searchParams.get("img");let i=Array.from(this.body.current.querySelectorAll(M6));i=i.map(F=>{const B=F.querySelector("img"),Y=JSON.parse(B.getAttribute("data-attrs")),ge=Y.width/Y.height,Ce=Y.resizeWidth?Y.resizeWidth/ge:Y.height,Se=Y.resizeWidth?Y.resizeWidth/Ce:ge;return{element:F,image:B,attrs:Y,extraAttrs:{imageRatio:ge,resizeHeight:Ce,resizeRatio:Se}}});let a=0;if(r){const F=i.find(B=>B.attrs.src===r);F&&(a=F.image.getBoundingClientRect().top-65)}const M=240,k=4;if(i=i.filter(F=>(0,p.unimginary)(F.image.src)===(0,p.unimginary)(F.element.href)),i=i.filter(F=>F.attrs.height>M&&F.extraAttrs.resizeHeight>M),i=i.filter(F=>F.extraAttrs.imageRatio<k&&F.extraAttrs.resizeRatio<k),this.originalImageState=i.map(F=>{var B;const Y=F.image.src;let ge=null;const Ce=F.element.parentElement;return Ce.tagName==="FIGURE"&&(ge=(B=Ce.querySelector(":scope > figcaption"))==null?void 0:B.textContent),{src:Y,attrs:F.attrs,caption:ge}}),r){window.scrollTo({top:a});const F=this.originalImageState.findIndex(B=>B.attrs.src===r);F>=0&&this.setState({selectedImgIndex:F})}typeof window!="undefined"&&(document.addEventListener("selectionchange",this.onSelectionChange),document.addEventListener("mouseup",this.onMouseUp),window.addEventListener("mouseup",this.onMouseUp))})}componentWillUnmount(){typeof window!="undefined"&&(document.removeEventListener("selectionchange",this.onSelectionChange),document.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mouseup",this.onMouseUp))}shouldComponentUpdate(t,r){return this.props.html!==t.html||this.state.selectedImgIndex!==r.selectedImgIndex||this.state.selection!==r.selection||this.state.selectionUserInteractionDisabled!==r.selectionUserInteractionDisabled}onLinkClick(t){if(!t.target.nodeName||t.target.nodeName!=="A"&&t.target.parentNode.nodeName!=="A")return;const r=t.target.nodeName==="A"?t.target:t.target.parentNode;if((0,C.j)(C.FP.POST_LINK_CLICKED,{post_id:this.props.post.id,publication_id:this.props.post.publication_id,url:r.href}),window.location.host===r.host){const i=(0,nn.transformDocumentLink)(r.href);i!==r.href&&(0,O.redirect)(i,{local_navigation:!1,event:t});return}t.preventDefault(),(0,nn.handleDocumentLinkClick)(r.href)}getSelectionState(){if(this.props.trackSelection&&window.getSelection)try{const t=window.getSelection();if(!t||t.isCollapsed||t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset)return;const r=this.findParentParagraph(t.anchorNode);if(!r)return;const i=this.findParentParagraph(t.focusNode);if(!i)return;const a=Array.from(this.body.current.querySelectorAll(Bv)),M=a.findIndex(Ce=>Ce.isSameNode(r));if(M===-1)return;const k=a.findIndex(Ce=>Ce.isSameNode(i));if(k===-1)return;const F=this.getCharacterOffsetParagraph(r,t.anchorNode,t.anchorOffset);if(F===null)return;const B=this.getCharacterOffsetParagraph(i,t.focusNode,t.focusOffset);if(B===null)return;const Y=M>k||M===k&&F>B,ge=t.getRangeAt(0).getBoundingClientRect();return{startParagraph:Y?k:M,endParagraph:Y?M:k,startOffset:Y?B:F,endOffset:Y?F:B,y:ge.y,height:ge.height,rect:ge,text:t.toString()}}catch(t){console.error("Failed to parse selection:",t)}}findParentParagraph(t){return t?t.nodeName==="P"?t:this.findParentParagraph(t.parentNode):null}isAncestorOf(t,r){return t===null?!1:t.isSameNode(r)?!0:this.isAncestorOf(t.parentNode,r)}getCharacterOffsetParagraph(t,r,i){var a;let M=i;for(let k=0;k<t.childNodes.length;k++){const F=t.childNodes[k];if(this.isAncestorOf(r,F))return M;F.className!=="footnote-anchor"&&(M+=((a=F.textContent)==null?void 0:a.length)||0)}return M}shouldShowImageViewerModal(){const{selectedImgIndex:t}=this.state;return t!=null}render(t){var r=t,{children:i,html:a,pub:M,skipTrackClick:k,trackSelection:F,paywall:B,isAboutPage:Y}=r,ge=I6(r,["children","html","pub","skipTrackClick","trackSelection","paywall","isAboutPage"]);const{selection:Ce,selectedImgIndex:Se}=this.state;a&&(i=zD(a,M,T6(S6({},ge),{isAboutPage:Y})),i&&(a=null));const Ue=i?Array.from(i).some(at=>{var pt;return((pt=at.props)==null?void 0:pt.className)==="latex-rendered"}):!1,Ye=this.shouldUseSelectionV2Popover(),Ve=(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"body markup",dangerouslySetInnerHTML:a?{__html:a}:null,ref:this.body,onClick:this.onDocumentClick,onMouseDown:this.onBodyMouseDown,onMouseUp:this.onMouseUp,dir:"auto"},i),Ye?(0,e.h)(P6,{pub:M,post:this.props.post,selection:Ce,onClose:this.clearActiveSelection,userInteractionDisabled:this.state.selectionUserInteractionDisabled,bodyRef:this.body}):(0,e.h)(XD,{pub:M,post:this.props.post,selection:Ce,onClose:this.clearActiveSelection,userInteractionDisabled:this.state.selectionUserInteractionDisabled}),(0,e.h)(Cf.ImageViewerModal,{showModal:this.shouldShowImageViewerModal(),modalContent:this.originalImageState,onClose:this.closeImageViewerModal,step:Se}));return Ue&&!ge.isStatic?(0,e.h)(oT,null,Ve):Ve}}ja($l,"contextType",Pr.kx);const D6=({tabs:n,tab:t,onTabClick:r})=>(0,e.h)("div",{className:"ui-tabs"},n.map(({id:i,title:a})=>(0,e.h)("a",{className:`ui-tab ${i}-tab ${t===i?"active":""}`,onClick:()=>r&&r(i)},a)));var ep=Et(36868);const qa={childPublication:"frontend-main-pub_or_section_list-module__childPublication--zPmyV",details:"frontend-main-pub_or_section_list-module__details--oUx97",subscribe:"frontend-main-pub_or_section_list-module__subscribe--tRHIu",logo:"frontend-main-pub_or_section_list-module__logo--tBlg5",info:"frontend-main-pub_or_section_list-module__info--AS8uz",title:"frontend-main-pub_or_section_list-module__title--pK0QU",link:"frontend-main-pub_or_section_list-module__link--yIfBi",description:"frontend-main-pub_or_section_list-module__description--UKfMu"},zl=(n,t)=>({logoUrl:n.podcast_art_url||n.logo_url||(0,p.getDefaultPodcastArtUrl)(),mainClickUrl:(0,p.getPodcastLandingUrl)({pub:n,section:null,addBase:!0}),buttonClickUrl:t,name:n.podcast_title||n.name,description:n.podcast_description||n.hero_text}),A6=({logoUrl:n,mainClickUrl:t,buttonClickUrl:r,name:i,description:a,showButton:M,buttonText:k,openInNewTab:F=!1})=>(0,e.h)("div",{className:qa.childPublication},n&&(0,e.h)("img",{className:qa.logo,src:(0,p.imginary)(n,144),alt:`${i} logo`}),(0,e.h)("div",{className:qa.details},(0,e.h)("div",{className:qa.info},(0,e.h)("div",{className:qa.title},(0,e.h)("a",{className:qa.link,href:t},i)),(0,e.h)("div",{className:qa.description},a)),M&&(0,e.h)(yt.zx,{priority:"primary",className:qa.subscribe,href:r,newTab:F},k))),Cc=({showButton:n,items:t,openInNewTab:r=!1,buttonText:i})=>(0,e.h)("div",{"data-testid":"child-pub-container"},t.map(a=>(0,e.h)(A6,{logoUrl:a.logoUrl,mainClickUrl:a.mainClickUrl,buttonClickUrl:a.buttonClickUrl,name:a.name,description:a.description,buttonText:i,openInNewTab:r,showButton:n}))),tp={authorPic:"frontend-main-about_page-module__authorPic--UbtRf",heroText:"frontend-main-about_page-module__heroText--DMzgi",container:"frontend-main-about_page-module__container--IFzcg"};var N6=Object.defineProperty,R6=(n,t,r)=>t in n?N6(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,L6=(n,t,r)=>(R6(n,typeof t!="symbol"?t+"":t,r),r),Oc=(n,t,r)=>new Promise((i,a)=>{var M=B=>{try{F(r.next(B))}catch(Y){a(Y)}},k=B=>{try{F(r.throw(B))}catch(Y){a(Y)}},F=B=>B.done?i(B.value):Promise.resolve(B.value).then(M,k);F((r=r.apply(n,t)).next())});function B6(n){if(typeof window=="undefined")return!0;const t=document.createElement("div");t.innerHTML=n;for(let r=t.childNodes.length-1;r>=0;r--){const i=t.childNodes[r];if((0,O.hasClass)(i,"button-wrapper")||(0,O.hasClass)(i,"subscription-widget-wrap"))return!1}return!0}const k6=({pub:n,user:t,freeSignup:r,freeSignupEmail:i})=>{const a=n.payments_state==="enabled"&&(t!=null&&t.is_free_subscribed)&&!(t!=null&&t.is_subscribed)?"paid_upsell":"free_upsell";return(0,o.d4)(()=>{(0,C.j)(C.FP.ABOUT_PAGE_END_CTA_RENDERED,{pub_id:n.id,type:a})},[]),(0,e.h)(e.Fragment,null,(0,e.h)(ce,{onVisible:()=>{(0,C.j)(C.FP.ABOUT_PAGE_END_CTA_SEEN,{pub_id:n.id,type:a})}}),(0,e.h)(he.tu,{alignItems:"center",gap:16,padding:24,className:l()(tp.container,"end-cta-container")},(0,e.h)("img",{src:(0,p.imginary)(n.author_photo_url||n.logo_url,64),className:tp.authorPic}),(0,e.h)(he.tu,{alignItems:"center"},(0,e.h)(I.xv.H2,{lineHeight:30,align:"center",color:"pub-primary-text"},"Subscribe to ",n.name),n.hero_text&&(0,e.h)(I.xv.Meta,{size:12,className:tp.heroText,align:"center",color:"pub-secondary-text"},n.hero_text)),(0,e.h)(Qa,{pub:n,user:t,freeSignup:r,freeSignupEmail:i,isStatic:!1,source:"about-page-end-cta"})))};function U6({pub:n,user:t,freeSignup:r,freeSignupEmail:i,subscribeContent:a}){return typeof a!="string"?(0,e.h)("div",{className:"content-about-silhouette"},(0,e.h)("div",{className:"content-about-silhouette-line"}),(0,e.h)("div",{className:"content-about-silhouette-line"}),(0,e.h)("div",{className:"content-about-silhouette-line"}),(0,e.h)("div",{className:"content-about-silhouette-line"}),(0,e.h)("div",{className:"content-about-silhouette-line"})):(0,e.h)("div",{className:"content-about"},(0,e.h)($l,{html:a,pub:n,user:t,freeSignup:r,freeSignupEmail:i,isAboutPage:!0}))}function F6({pub:n,people:t}){const r=(0,Nr.useMediaQuery)({maxWidth:540}),i=r?[[]]:[[],[]];for(let a=0;a<t.length;++a)i[r?0:a%2].push(t[a]);return(0,e.h)("div",{className:"content-people"},i.map(a=>(0,e.h)("div",{className:"people-column"},a.map(M=>(0,e.h)("div",{className:"content-person",onclick:k=>(0,rm.Q)(k,(0,p.getProfileUrl)(M,n,{utm_source:"about-page"}),{native:!0})},(0,e.h)(ca.PP,{subject:M,profile:M,themed:!0,hideSubscribeButtons:!0,utmSource:"about-page"}))))))}class j6 extends e.Component{constructor(t,r){if(super(t,r),L6(this,"onTabClick",i=>{this.loadTab({tabId:i})}),this.state={subscribeContent:t.subscribeContent,people:t.people,tabs:[]},(t.pub.child_publications||[]).length){this.state.tabs.push({id:"about",title:"About"}),this.state.tab=this.state.tabs[0];const i=(0,nn.group_by)(t.pub.child_publications,"type");for(const a of Array.from(i.keys()).sort())this.state.tabs.push({id:a,title:`${(0,nn.toTitleCase)(a)}s`});this.state.tab=this.state.tabs.find(a=>a.id===t.sort)||this.state.tabs[0]}}componentDidMount(){return Oc(this,null,function*(){if(this.props.pub.parent_publication&&this.props.pub.parent_about_page_enabled){(0,O.redirect)((0,p.getAboutUrl)(this.props.pub.parent_publication,{addBase:!0}));return}this.loadPeople(),this.loadAbout()})}loadAbout(){return Oc(this,null,function*(){if(this.state.subscribeContent!=="")try{const{body:t}=yield jn().get("/api/v1/publication/subscribe_content");this.setState({subscribeContent:t})}catch(t){console.error("Failed to load about content:",t)}})}loadPeople(){return Oc(this,null,function*(){if(!this.state.people)try{const{body:t}=yield jn().get("/api/v1/publication/users/ranked").query({public:!0});this.setState({people:t})}catch(t){console.error("Failed to load people:",t)}})}loadTab(){return Oc(this,arguments,function*({tabId:t}={}){const r=t?this.state.tabs.find(i=>i.id===t):this.state.tab;this.state.tab.id!==r.id&&(this.setState({tab:r}),typeof window!="undefined"&&window.history.replaceState&&window.history.replaceState({},document.title,(0,p.updateQuery)({sort:r.id})))})}renderChildPublications({pub:t,user:r,freeSignup:i},{tab:a}){let M,k;t.plans?(k=r&&r.is_subscribed,M=k):(M=i||r&&r.is_free_subscribed,k=r&&r.is_free_subscribed);const F=ge=>`${(0,p.getBaseUrl)(ge)}/?showWelcome=true`;if(a.id==="podcast")if(k){const ge=li.getMultiPubChildPodcasts(t).map(Ce=>zl(Ce,(0,p.getPodcatcherSetupUrl)(Ce,{addBase:!0,user:null,section:null,noSection:null,params:null})));return(0,e.h)(Cc,{pub:t,showButton:!0,buttonText:"Set up podcast",items:ge})}else{const ge=li.getMultiPubChildPodcasts(t).map(Ce=>zl(Ce,F(Ce)));return(0,e.h)(Cc,{pub:t,showButton:!M,buttonText:"Subscribe",items:ge})}const Y=(t.child_publications?t.child_publications.filter(ge=>ge.type===a.id):[]).map(ge=>zl(ge,F(ge)));return(0,e.h)(Cc,{pub:t,showButton:!M,buttonText:"Subscribe",items:Y})}render({pub:t,user:r,freeSignup:i,freeSignupEmail:a,metadata:M},{subscribeContent:k,people:F,tabs:B,tab:Y}){const ge=B.length>0&&(Y==null?void 0:Y.id),Ce=!ge||(Y==null?void 0:Y.id)==="about",Se=(!r||!(0,ep.P)(r,t))&&B6(k);return(0,e.h)("div",{className:"page typography about-page typography"},M&&(0,O.setMetaData)(M),(0,e.h)("div",{className:"container"},(r==null?void 0:r.is_contributor)&&Ce&&(0,e.h)(ua.z,{variant:"themed-secondary",href:(0,p.pathWithQuery)("/publish/settings/edit",{title:"About page",bodyField:"subscribe_content",redirect:document.location.href}),localNavigation:!1,leftIcon:(0,e.h)(Zs.Z,{size:20})},(0,e.h)(I.xv,null,"Edit")),ge&&(0,e.h)(D6,{tabs:B,tab:Y.id,onTabClick:this.onTabClick}),Ce&&(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"about-content-wrap"},(0,e.h)(U6,{pub:t,user:r,freeSignup:i,freeSignupEmail:a,subscribeContent:k})),Se?(0,e.h)(k6,{pub:t,user:r,freeSignup:i,freeSignupEmail:a}):null,(F!=null?F:[]).length>0&&(0,e.h)(he.tu,{gap:24},(0,e.h)("h3",{className:"about-page-section-title"},"People"),(0,e.h)(F6,{pub:t,people:F}))),ge&&["podcast","newsletter"].includes(Y.id)&&this.renderChildPublications({pub:t,user:r,freeSignup:i},{tab:Y})))}}const np={container:"frontend-main-home-Layout-module__container--GJ6Wt","full-width":"frontend-main-home-Layout-module__full-width--ziPTp","full-width-with-sidebar":"frontend-main-home-Layout-module__full-width-with-sidebar--vLFfe","show-below":"frontend-main-home-Layout-module__show-below--NmYGu","three-column-width":"frontend-main-home-Layout-module__three-column-width--hAsTb","three-column-width-with-sidebar":"frontend-main-home-Layout-module__three-column-width-with-sidebar--a1h_K","one-column-two-column":"frontend-main-home-Layout-module__one-column-two-column--qBLtq","one-column-two-column-one-column":"frontend-main-home-Layout-module__one-column-two-column-one-column--uQ3yl"},es=({children:n,showContentBelowOnMobile:t,stretchVertically:r,variant:i})=>(0,e.h)("div",{style:r?{flexGrow:1,display:"flex",alignItems:"stretch"}:void 0},(0,e.h)("div",{className:l()(np.container,np[i],{[np["show-below"]]:t})},n)),Gl=({numColumns:n,paddingBottom:t,paddingTop:r})=>(0,e.h)(es,{variant:n===3?"three-column-width":"full-width"},(0,e.h)(y.tu,{paddingBottom:typeof t=="number"?t:24,paddingTop:typeof r=="number"?r:24},(0,e.h)(y.hs,{borderBottom:"detail-themed"})));var W6=Object.defineProperty,H6=Object.defineProperties,V6=Object.getOwnPropertyDescriptors,Sc=Object.getOwnPropertySymbols,kv=Object.prototype.hasOwnProperty,Uv=Object.prototype.propertyIsEnumerable,Fv=(n,t,r)=>t in n?W6(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,K6=(n,t)=>{for(var r in t||(t={}))kv.call(t,r)&&Fv(n,r,t[r]);if(Sc)for(var r of Sc(t))Uv.call(t,r)&&Fv(n,r,t[r]);return n},$6=(n,t)=>H6(n,V6(t)),z6=(n,t)=>{var r={};for(var i in n)kv.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Sc)for(var i of Sc(n))t.indexOf(i)<0&&Uv.call(n,i)&&(r[i]=n[i]);return r};const Tc=n=>{var t=n,{stroke:r}=t,i=z6(t,["stroke"]);return(0,e.h)(L.l,$6(K6({},i),{name:"SearchIcon",svgParams:{height:24,width:24}}),(0,e.h)("path",{d:"M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z",stroke:r||"#555555","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M21.0004 21.0004L16.6504 16.6504",stroke:r||"#555555","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}))};var rp=Et(71212);const G6=(0,Oo.Z)("Clapperboard",[["path",{d:"M4 11v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8H4Z",key:"1hxvyx"}],["path",{d:"m4 11-.88-2.87a2 2 0 0 1 1.33-2.5l11.48-3.5a2 2 0 0 1 2.5 1.32l.87 2.87L4 11.01Z",key:"1vz1k2"}],["path",{d:"m6.6 4.99 3.38 4.2",key:"192ida"}],["path",{d:"m11.86 3.38 3.38 4.2",key:"hhucvz"}]]),Z6=(0,Oo.Z)("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]),Y6=(0,Oo.Z)("PauseCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]),Ic={container:"frontend-pencraft-unstable-Silhouette-module__container--Z3aFA",containerAnimated:"frontend-pencraft-unstable-Silhouette-module__containerAnimated--bFndg","silhouette-scroll":"frontend-pencraft-unstable-Silhouette-module__silhouette-scroll--LoRab"},da=({animated:n=!0,width:t,height:r,aspectRatio:i,className:a})=>i?(0,e.h)("div",{style:`aspect-ratio:${i}`},(0,e.h)("div",{className:l()(Ic.container,a,{[Ic.containerAnimated]:n}),style:{width:t,height:r!=null?r:"100%"}})):(0,e.h)("div",{className:l()(Ic.container,a,{[Ic.containerAnimated]:n}),style:{width:t,height:r}});var J6=Et(34518);const ji={transcriptionStatus:"frontend-components-TranscriptionText-module__transcriptionStatus--xwFBI",transcriptionChunk:"frontend-components-TranscriptionText-module__transcriptionChunk--EGTI3",hoverChunk:"frontend-components-TranscriptionText-module__hoverChunk--taY2G",rowIndicator:"frontend-components-TranscriptionText-module__rowIndicator--qPF6l",hoverRow:"frontend-components-TranscriptionText-module__hoverRow--p30tM",activeRow:"frontend-components-TranscriptionText-module__activeRow--JGmX3",rowText:"frontend-components-TranscriptionText-module__rowText--uiBoy",activeWord:"frontend-components-TranscriptionText-module__activeWord--gq5t5",loadingSilhouette:"frontend-components-TranscriptionText-module__loadingSilhouette--TnTGs",playCircle:"frontend-components-TranscriptionText-module__playCircle--YrnqH"};var X6=Object.defineProperty,Q6=Object.defineProperties,q6=Object.getOwnPropertyDescriptors,jv=Object.getOwnPropertySymbols,eA=Object.prototype.hasOwnProperty,tA=Object.prototype.propertyIsEnumerable,Wv=(n,t,r)=>t in n?X6(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Hv=(n,t)=>{for(var r in t||(t={}))eA.call(t,r)&&Wv(n,r,t[r]);if(jv)for(var r of jv(t))tA.call(t,r)&&Wv(n,r,t[r]);return n},Vv=(n,t)=>Q6(n,q6(t));function nA({transcription:n,player:t,postId:r}){var i,a;const[M,k]=(0,o.eJ)(!1),[F,B]=(0,o.eJ)(),[Y,ge]=(0,o.eJ)(0),[Ce,Se]=(0,o.eJ)(!1),[Ue,Ye]=(0,o.eJ)(!1),[Ve,at]=(0,o.eJ)(),[pt,gt]=(0,o.eJ)(),[xt,Nt]=(0,o.eJ)();if((0,o.d4)(()=>{n.cdn_url&&(k(!0),jn().get(n.cdn_url).then(qt=>qt.text&&B(JSON.parse(qt.text))).finally(()=>k(!1)))},[n]),(0,o.d4)(()=>{var qt;const rn=(qt=t.current)==null?void 0:qt.player;if(rn){const ln=Yn=>{typeof Yn.target.currentTime=="number"&&ge(Yn.target.currentTime)},yn=()=>Se(!0),In=()=>Se(!1),En=()=>Se(!1);return rn.addEventListener("timeupdate",ln),rn.addEventListener("play",yn),rn.addEventListener("pause",In),rn.addEventListener("ended",En),()=>{rn.removeEventListener("timeupdate",ln),rn.removeEventListener("play",yn),rn.removeEventListener("pause",In),rn.removeEventListener("ended",En)}}},[t]),(0,o.d4)(()=>{const qt=()=>{setTimeout(()=>{var rn,ln,yn;const In=window.getSelection();if(!In||In.rangeCount===0||In.isCollapsed){Nt(void 0),gt(void 0);return}const En=In.getRangeAt(0),Yn=En.startContainer.parentNode,kn=En.endContainer.parentNode,bn=(rn=Yn==null?void 0:Yn.dataset)==null?void 0:rn.chunkIndex,er=(ln=kn==null?void 0:kn.dataset)==null?void 0:ln.chunkIndex;if(bn&&er){let rr=parseInt(bn,10),Vn=parseInt(er,10);En.startOffset===((yn=Yn==null?void 0:Yn.textContent)==null?void 0:yn.length)&&(rr+=1),En.endOffset===0&&(Vn-=1),Nt(In),gt([rr,Vn])}else Nt(void 0),gt(void 0)},0)};return document.addEventListener("mouseup",qt),()=>{document.removeEventListener("mouseup",qt)}},[]),M)return(0,e.h)(Kv,null);if(!(F!=null&&F.length))return(0,e.h)("div",{className:ji.transcriptionStatus},(0,e.h)("p",null,(n==null?void 0:n.status)==="in_progress"?"Transcription in progress...":"No transcript..."),(0,e.h)(Kv,null));const Tt=((a=(i=t==null?void 0:t.current)==null?void 0:i.player)==null?void 0:a.tagName)==="VIDEO"?"videogram":"audiogram";function Ut(qt){return(0,C.j)(C.FP.AUDIOGRAM_DOWNLOAD_CLICKED,{post_id:r,media_upload_id:n.media_upload_id}),fetch(qt,{method:"GET"}).then(rn=>rn.blob()).then(rn=>{var ln;const yn=(ln=Ve==null?void 0:Ve.video_url)==null?void 0:ln.split("/").pop(),In=yn==null?void 0:yn.match(/^([^-]+-[^_]+)_/),En=(In==null?void 0:In[1])||"",Yn=URL.createObjectURL(rn),kn=document.createElement("a");kn.href=Yn,kn.download=`substack-${Tt}-${r}-${En}.mp4`,document.body.appendChild(kn),kn.click(),URL.revokeObjectURL(Yn),kn.remove()})}return(0,e.h)(e.Fragment,null,xt&&pt&&(0,e.h)(rA,{noun:Tt,selection:xt,onMakeAudiogram:()=>{if(pt){const[qt,rn]=pt;Ye(!0),jn().post("/api/v1/audiogram").send({post_id:r,start_idx:qt,end_idx:rn}).then(ln=>{var yn;(yn=ln.body)!=null&&yn.data&&(at(ln.body.data),Nt(void 0),gt(void 0))}).finally(()=>Ye(!1))}}}),F.map((qt,rn)=>(0,e.h)(oA,{key:rn,idx:rn,row:qt,currentTime:Y,isPlaying:Ce,isSelected:!!(pt&&rn>=pt[0]&&rn<=pt[1]),onClick:()=>{Nt(void 0),gt(void 0)},onPause:()=>{var ln;(ln=t.current)!=null&&ln.player&&t.current.player.pause()},onPlay:()=>{var ln;(ln=t.current)!=null&&ln.player&&(t.current.player.currentTime=qt.start+1e-4,t.current.player.play())}})),!!(Ue||Ve)&&(0,e.h)(J6.Yy,{isPopup:!0,hasClosePill:!0,onClose:()=>{at(void 0)}},(0,e.h)(I.xv.H3,{style:{marginTop:22,paddingLeft:16}},Ue?`Generating ${Tt}...`:`Shareable ${Tt}...`),(0,e.h)(y.tu,{padding:16},Ve?(0,e.h)(e.Fragment,null,(0,e.h)("video",{src:Ve.cdn_url,style:{borderRadius:12,alignSelf:"center",marginBottom:12},controls:!0,download:!0,width:512}),(0,e.h)(y.zx,{priority:"secondary",leftIcon:(0,e.h)(rp.Z,{height:18}),onClick:()=>Ut(Ve.cdn_url)},"Download")):(0,e.h)(y.tu,{alignItems:"center",justifyContent:"center",style:{flex:1,minHeight:280}},(0,e.h)("div",{className:"embed-loader"})))))}function rA({selection:n,onMakeAudiogram:t,noun:r}){var i,a;const M=(0,Fi.XA)(),k=(a=(i=n.anchorNode)==null?void 0:i.parentElement)==null?void 0:a.getBoundingClientRect();return k?(0,e.h)(y.tu,{style:{top:(0,nn.isTouchDevice)()?Math.max(k.y,0)+k.height+12:Math.max(k.y,0)-48,left:"50vw",transform:"translateX(-50%)",pointerEvents:"auto",maxWidth:240},justifyContent:"center",className:Qi.popover,shadow:"md"},(0,e.h)(y.tu,{className:l()(Qi.popoverButtons,M&&Qi.isMobile),radius:12,padding:4,gap:8},(0,e.h)(wv,{onClick:t,disabled:!1,isExplainer:!1},(0,e.h)(G6,{color:"white"}),(0,e.h)(I.xv.B4,{color:"bg-light",weight:"medium"},"Make ",r)))):null}function Kv(){return(0,e.h)(e.Fragment,null,(0,e.h)(da,{width:"80%",height:"24px",className:ji.loadingSilhouette}),(0,e.h)(da,{width:"34%",height:"24px",className:ji.loadingSilhouette}),(0,e.h)(da,{width:"75%",height:"24px",className:ji.loadingSilhouette}),(0,e.h)(da,{width:"100%",height:"24px",className:ji.loadingSilhouette}),(0,e.h)(da,{width:"68%",height:"24px",className:ji.loadingSilhouette}))}function oA({row:n,currentTime:t,onPlay:r,isPlaying:i,onPause:a,isSelected:M,onClick:k,idx:F}){const[B,Y]=(0,o.eJ)(!1),ge=n.start<=t&&n.end>=t;return(0,e.h)("div",{onClick:k,onMouseEnter:()=>Y(!0),onMouseLeave:()=>Y(!1),style:{display:"flex",width:"100%",alignItems:"center"}},!i||B&&!ge?(0,e.h)(Z6,{onClick:r,size:24,className:ji.playCircle,style:Vv(Hv({},B&&{color:"var(--color-accent-substack)"}),{visibility:ge||B?"visible":"hidden"})}):(0,e.h)(Y6,{onClick:a,size:24,className:ji.playCircle,style:Vv(Hv({},B&&{color:"var(--color-accent-substack)"}),{visibility:ge||B?"visible":"hidden"})}),(0,e.h)("div",{className:l()(ji.transcriptionChunk,{[ji.activeRow]:ge||M,[ji.hoverChunk]:B}),"data-chunk-index":F},(0,e.h)("div",{className:l()(ji.rowIndicator,{[ji.hoverRow]:B})}),(0,e.h)("div",{className:ji.rowText,"data-chunk-index":F},M,n.words.map(Ce=>Ce.start<=t&&Ce.end>=t?(0,e.h)(e.Fragment,null,(0,e.h)("span",{className:ji.activeWord},Ce.word)," "):`${Ce.word} `))))}var iA=Object.defineProperty,xc=Object.getOwnPropertySymbols,$v=Object.prototype.hasOwnProperty,zv=Object.prototype.propertyIsEnumerable,op=(n,t,r)=>t in n?iA(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,aA=(n,t)=>{for(var r in t||(t={}))$v.call(t,r)&&op(n,r,t[r]);if(xc)for(var r of xc(t))zv.call(t,r)&&op(n,r,t[r]);return n},sA=(n,t)=>{var r={};for(var i in n)$v.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&xc)for(var i of xc(n))t.indexOf(i)<0&&zv.call(n,i)&&(r[i]=n[i]);return r},ip=(n,t,r)=>(op(n,typeof t!="symbol"?t+"":t,r),r),lA=(n,t,r)=>new Promise((i,a)=>{var M=B=>{try{F(r.next(B))}catch(Y){a(Y)}},k=B=>{try{F(r.throw(B))}catch(Y){a(Y)}},F=B=>B.done?i(B.value):Promise.resolve(B.value).then(M,k);F((r=r.apply(n,t)).next())});const Zl=({className:n=null,title:t,subtitle:r=null,reauthenticationTitle:i,publication:a,post:M,user:k,freeSignup:F=null,freeSignupEmail:B=null,email_form:Y=!1,autoFocus:ge=!1,isStatic:Ce=!1,coupon:Se=null})=>{const{iString:Ue,iTemplate:Ye}=(0,P.M1)(),Ve=k&&k.email||B||null,at=!!(k!=null&&k.is_subscribed&&(k!=null&&k.is_magic)),pt=(M==null?void 0:M.audience)==="founding",gt=!!(k!=null&&k.is_free_subscribed||F),xt=(0,p.getPostUrl)(a,M),Nt=Se&&Se.id&&!pt;let Tt;return Nt?(M==null?void 0:M.type)==="podcast"?Tt=Ue("Listen to this episode with a 7-day free trial"):(M==null?void 0:M.type)==="video"?Tt=Ue("Watch with a 7-day free trial"):Tt=Ue("Keep reading with a 7-day free trial"):at?Tt=i:Tt=t,(0,e.h)("div",{className:l()("paywall",n),"data-testid":"paywall","data-component-name":"Paywall"},Ve&&(0,e.h)(I.xv,{translated:!0,as:"div",className:"paywall-intro"},"Hi ",(0,e.h)("b",null,I18N.p(Ve))),(0,e.h)("h2",{className:"paywall-title"},Tt),r&&!Nt&&(0,e.h)("p",{className:"paywall-subtitle"},r),Nt&&(0,e.h)("div",{className:"paywall-free-trial-subtitle"},(M==null?void 0:M.type)==="podcast"&&(0,e.h)(I.xv,{translated:!0,as:"p",className:"paywall-subtitle"},"Subscribe to"," ",(0,e.h)(I.xv,{weight:"bold",fontStyle:"italic"},I18N.p(a.name))," ","to listen to this episode and get 7 days of free access to the full post archives."),(M==null?void 0:M.type)==="video"&&(0,e.h)(I.xv,{translated:!0,as:"p",className:"paywall-subtitle"},"Subscribe to"," ",(0,e.h)(I.xv,{weight:"bold",fontStyle:"italic"},I18N.p(a.name))," ","to watch this video and get 7 days of free access to the full post archives."),(M==null?void 0:M.type)==="newsletter"&&(0,e.h)(I.xv,{translated:!0,as:"p",className:"paywall-subtitle"},"Subscribe to"," ",(0,e.h)(I.xv,{weight:"bold",fontStyle:"italic"},I18N.p(a.name))," ","to keep reading this post and get 7 days of free access to the full post archives."),(M==null?void 0:M.type)==="adhoc_email"&&(0,e.h)(I.xv,{translated:!0,as:"p",className:"paywall-subtitle"},"Subscribe to"," ",(0,e.h)(I.xv,{weight:"bold",fontStyle:"italic"},I18N.p(a.name))," ","to keep reading this email and get 7 days of free access to the full post archives.")),Y?!gt&&(0,e.h)(y.gq,{paddingTop:24,justifyContent:"center"},(0,e.h)(Be.Z,{autoFocus:ge!=null?ge:!0,email:Ve,freeSignup:F,freeSignupEmail:B,onAccentBackground:!0,pub:a,source:"post-unlock",submitButtonText:(M==null?void 0:M.type)==="podcast"?Ue("Start listening"):(M==null?void 0:M.type)==="video"?Ue("Start watching"):Ue("Start reading"),user:k,onSuccess:()=>document.location.reload()})):(0,e.h)(uA,{coupon:Se,email:Ve,isStatic:Ce,post:M,postUrl:xt,publication:a,useCoupon:Nt,user:k}),!at&&!Ce&&(0,e.h)("div",{className:"paywall-login"},(0,e.h)("a",{href:(0,p.getSigninUrl)({for_pub:a.subdomain,change_user:!!Ve}),native:!0},pA({post:M,publication:a,isPaid:!Y})," ",(0,e.h)("b",null,Ue(Ve?"Switch accounts":"Sign in")))))},uA=({coupon:n,email:t,isStatic:r,post:i,postUrl:a,publication:M,useCoupon:k,user:F})=>{const B=!!(F!=null&&F.is_founding),Y=!!(F!=null&&F.is_subscribed),ge=!!(F!=null&&F.is_subscribed&&(F!=null&&F.is_magic)),Ce=(i==null?void 0:i.audience)==="founding",{exposeExperiment:Se,getExperimentVariant:Ue}=(0,Pr.jc)(),Ye=Ue("autosubscribe_from_paywall")==="treatment",{iString:Ve,iTemplate:at}=(0,P.M1)();if(r){if(!M.plans)return null;const pt=Ce?Ei.Substitutions.FOUNDING_CHECKOUT_URL:Ei.Substitutions.CHECKOUT_URL,gt=k?`&coupon=${n.id}`:"",xt=Ce?at`Upgrade to ${(0,li.getFoundingTierName)(M)}`:k?Ve("Start trial"):(0,e.h)(Zf,{pub:M,user:F,isStatic:r});return(0,e.h)(cA,{href:`${pt}simple=true&utm_source=paywall&utm_medium=email&utm_content=${i.id}&next=${a}${gt}`},xt)}return!B&&Ce?M.plans?(0,e.h)(Mc,{href:(0,p.getCheckoutUrl)(M,{simple:!0,next:document.location.href,utm_source:"paywall",utm_medium:"web",utm_content:i?i.id:null,plan:"founding"})},at`Upgrade to ${(0,li.getFoundingTierName)(M)}`):null:Y?ge?(0,e.h)(Mc,{href:(0,p.getSigninUrl)({for_pub:M.subdomain,email:t})},Ve("Click here to sign in")):null:M.plans?F!=null&&F.email&&!k?(0,e.h)(Mc,{onClick:()=>lA(void 0,null,function*(){yield Se("autosubscribe_from_paywall");let pt;if(Ye)try{pt=(yield jn().post("/api/v1/free").send({source:"paywall",email:t,first_url:u.xY,first_referrer:u.ip,current_url:u.UE,current_referrer:u.xU})).body.referral_token}catch(gt){(0,C.j)(C.FP.PAYWALL_FREE_SIGNUP_FAILED,{reason:gt.message})}window.location.href=(0,p.getCheckoutUrl)(M,{simple:!0,next:document.location.href,utm_source:"paywall",utm_medium:r?"email":"web",utm_content:i?i.id:null,just_signed_up:Ye,referral_token:pt})})},(0,e.h)(Zf,{pub:M,user:F,isStatic:r})):(0,e.h)(Mc,{href:(0,p.getCheckoutUrl)(M,{simple:!0,next:document.location.href,utm_source:k?"paywall-free-trial":"paywall",utm_medium:r?"email":"web",utm_content:i?i.id:null,coupon:k?n.id:null})},k?Ve("Start trial"):(0,e.h)(Zf,{pub:M,user:F,isStatic:r})):null},cA=({children:n,href:t})=>(0,e.h)("div",{className:"paywall-cta"},(0,e.h)("a",{className:"button primary subscribe-btn",href:t},(0,e.h)("span",null,n))),Mc=({children:n,href:t,onClick:r})=>(0,e.h)("div",{className:"paywall-cta"},(0,e.h)("a",{href:t,onClick:r,native:!0},(0,e.h)($t.Z,{className:"subscribe-btn"},n)));class dA extends Mt.p{renderChildren(){const t=this.props,{ref:r}=t,i=sA(t,["ref"]);return(0,e.h)(Zl,aA({className:"modal-paywall"},i))}}class fA extends Bl{constructor(){super(...arguments),ip(this,"playbackEnabled",()=>this.props.mediaUpload.preview_duration>0),ip(this,"cta",()=>{const{iString:t}=I18N.i({pub:this.props.pub});return this.playbackEnabled()&&!this.state.allSourcesFailed&&!this.state.hasReachedEnd?"":this.playbackEnabled()?t("Subscribe for full video"):t("Subscribe and watch")}),ip(this,"href",()=>{var t;return this.playbackEnabled()&&!this.state.allSourcesFailed&&!this.state.hasReachedEnd?this.props.href:this.props.href||(0,p.getCheckoutUrl)(this.props.pub,{simple:!0,next:document.location.href,utm_source:"paywall",utm_medium:"web",utm_content:(t=this.props.post)==null?void 0:t.id})})}}function pA({post:n,publication:t,isPaid:r=!0}={}){const{iString:i,iTemplate:a}=I18N.i({pub:t});return r?(n==null?void 0:n.audience)==="founding"?(0,li.getFoundingTierName)(t)?a`Already in the ${(0,li.getFoundingTierName)(t)} plan?`:a`Already in the Founding Member plan?`:i("Already a paid subscriber?"):i("Already a subscriber?")}const Gv=({post:n,pub:t,user:r,playerRef:i})=>{var a,M;const k=!(0,nn.canSeeTranscription)(r,n),F=((a=n==null?void 0:n.podcastUpload)==null?void 0:a.transcription)||((M=n==null?void 0:n.videoUpload)==null?void 0:M.transcription),{iString:B}=(0,P.M1)();return F?k?(0,e.h)(Zl,{user:r,publication:t,post:n,title:B("Transcriptions on this episode are for paid subscribers"),reauthenticationTitle:B("To see the transcription, please re-authenticate.")}):(0,e.h)(nA,{transcription:F,player:i,postId:n.id}):null};var Yl=Et(43615);const Oa={container:"frontend-main-home-PostPreview-PostPreviewCoverImage-module__container--Wg_Ug",image:"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image--rPbBU","image-square-legacy":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image-square-legacy--_GME6",containerSquare:"frontend-main-home-PostPreview-PostPreviewCoverImage-module__containerSquare--FzVt2","inner-wrapper":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__inner-wrapper--ygG2h","inner-wrapper-small":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__inner-wrapper-small--OSiYt","inner-wrapper-medium":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__inner-wrapper-medium--VWRZy","inner-wrapper-large":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__inner-wrapper-large--t45Cv","image-square":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image-square--hVSXS","image-square-small":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image-square-small--GS7r4","image-square-medium":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image-square-medium--SzURN","image-square-large":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image-square-large--QbhB7"},Cs=({className:n,hidePlaceholder:t,imageAspectRatio:r,imageWidth:i,isBelowTheFold:a,post:M,squareImageSize:k})=>{const{getConfigFor:F}=(0,$n.xR)(),{isMobile:B}=yi(),Y=F("show_entire_square_image"),ge=(0,Tr.getCoverImageUrl)(M);if(!ge&&t)return null;const Ce=!i&&!r?1.32:r,Se=i||336,Ue=!!ge&&M.cover_image_is_square&&Y,Ye=Ue&&!!k&&!B,Ve=a?"lazy":void 0;return Ye?(0,e.h)(hA,{aspectRatio:Ce,className:n,imageUrl:ge,loading:Ve,size:k,width:Se}):(0,e.h)("div",{className:l()(n,Oa.container,{"post-preview-cover-image-container--empty":!ge}),style:`aspect-ratio: ${Ce}`},ge?(0,e.h)(pn.e,{className:l()(Oa.image,{[Oa["image-square-legacy"]]:Ue}),src:ge,alt:"",maxWidth:Se,imageProps:Ce?{height:Math.round(Se/Ce),smartCrop:!0,gravity:"center"}:{},loading:Ve,style:`aspect-ratio: ${Ce}`}):null)},hA=({aspectRatio:n,className:t,imageUrl:r,width:i,loading:a,size:M})=>(0,e.h)("div",{className:l()(t,Oa.container,Oa.containerSquare),style:`aspect-ratio: ${n}`},(0,e.h)("div",{className:l()(Oa["inner-wrapper"],Oa[`inner-wrapper-${M}`])},(0,e.h)(pn.e,{className:l()(Oa.image,Oa["image-square"],Oa[`image-square-${M}`]),src:r,alt:"",maxWidth:i,imageProps:{height:i,smartCrop:!0,gravity:"center"},loading:a})));var mA=Et(98913),_A=Et.n(mA),Zv=(n,t,r)=>new Promise((i,a)=>{var M=B=>{try{F(r.next(B))}catch(Y){a(Y)}},k=B=>{try{F(r.throw(B))}catch(Y){a(Y)}},F=B=>B.done?i(B.value):Promise.resolve(B.value).then(M,k);F((r=r.apply(n,t)).next())});const gA={"1m":"one minute","1h":"one hour","24h":"24 hours","7d":"one week","30d":"one month","100y":"all time"},vA=({ban:n,onReply:t,showReplyLink:r,name:i})=>{const a=un()(n.expiry).standardDatetimeWithYear();return(0,e.h)("div",{className:"banned"},i," is banned until ",a,"."," ",r&&(0,e.h)("span",null,(0,e.h)("a",{onClick:t,href:"javascript:void(0)"},"Leave a comment")," ","to let them know why."))};function ap({pub:n,sub:t,children:r,tab:i}){return!t||!t.email?r:(0,e.h)("a",{target:"_blank",href:(0,p.getSubscriberDetailsUrl)(n,t.email,{tab:i})},r)}const yA=({sub:n})=>n?n.is_subscribed?(0,e.h)("span",{className:"subscribed"},"Subscribed (Paid)"):n.is_free_subscribed?(0,e.h)("span",{className:"subscribed"},"Subscribed (Free)"):(0,e.h)("span",{className:"not-subscribed"},"Not Subscribed"):null,bA=({bans:n,activeBans:t})=>n.length===0?(0,e.h)("span",null,"No previous bans"):t.length>0?(0,e.h)("span",{className:"banned status"},"Banned"):(0,e.h)("span",{className:"status"},"Banned previously from ",un()(n[0].start).standardDatetimeWithYear()," to"," ",un()(n[0].expiry).standardDatetimeWithYear()),PA=({comment:n,pub:t,onReply:r,onBan:i,onClose:a})=>{const[M,k]=(0,o.eJ)(null),[F,B]=(0,o.eJ)(!1),[Y,ge]=(0,o.eJ)([]),[Ce,Se]=(0,o.eJ)(!1),[Ue,Ye]=(0,o.eJ)("24h"),[Ve,at]=(0,o.eJ)(null),[pt,gt]=(0,o.eJ)(!0),xt=(0,o.sO)(null),Nt=!!n||F,Tt=yn=>{const In=yn;yn.forEach(En=>{In.findIndex(Yn=>Yn.id===En.id)==-1&&In.push(En)}),ge(In)},Ut=()=>{r(n.id),xt.current.close()};(0,o.d4)(()=>{xt!=null&&xt.current&&(Nt?xt.current.state.open||xt.current.open():xt.current.state.open&&xt.current.close())},[n,F]),(0,o.d4)(()=>Zv(void 0,null,function*(){if(n){Se(!1),B(!0),ge([]),at(null),k(null);try{const yn=yield jn().get(`/api/v1/user/${n.user_id}/bans`);ge(yn.body.bans),k(yn.body.sub)}catch(yn){console.error("Failed to get bans:",yn),at(!0)}B(!1)}}),[n]);const qt=()=>Zv(void 0,null,function*(){B(!0);try{const yn=yield jn().post(`/api/v1/comment_ban/${n.id}`,{pub:t}).send({user_id:n.user_id,expiry:Ue,removeAllComments:pt});pt&&document.location.reload(),Tt(yn.body.bans),Se(!0),B(!1),i(n,Y)}catch(yn){console.error("Failed to submit ban",yn),at(!0)}B(!1)});if(!n)return null;const rn=gA[Ue],ln=Y.filter(yn=>un()(yn.expiry).isAfter(un()()));return(0,e.h)(Mt.p,{ref:xt,noExitOnClick:!0,onClose:a},(0,e.h)("div",{className:"ban-dialog comment"},(0,e.h)("div",{className:"profile"},(0,e.h)("div",{className:"photo"},(0,e.h)(ap,{pub:t,sub:M},(0,e.h)(Oi.fi,{photo_url:n.photo_url,size:80,banned:ln.length>0}))),(0,e.h)("div",{className:"info"},(0,e.h)(ap,{pub:t,sub:M},(0,e.h)("span",{className:"name"},n.name)),(0,e.h)(yA,{sub:M}),(0,e.h)(bA,{bans:Y,activeBans:ln}))),Ve&&(0,e.h)("div",{className:"error"},"Sorry, an error occurred."),F?"Loading...":(0,e.h)("form",{className:"form"},ln.length===0&&(0,e.h)("div",null,(0,e.h)("label",null,"Ban from commenting for",(0,e.h)("select",{onInput:yn=>Ye(yn.target.value),value:Ue},(0,e.h)("option",{value:"1h"},"one hour"),(0,e.h)("option",{value:"24h"},"24 hours"),(0,e.h)("option",{value:"7d"},"one week"),(0,e.h)("option",{value:"30d"},"one month"),(0,e.h)("option",{value:"100y"},"indefinitely"))),(0,e.h)("label",null,(0,e.h)("input",{type:"checkbox",checked:pt,onInput:yn=>gt(yn.target.checked)}),"Remove ",(0,nn.guessFirstName)(n.name),"'s"," ",(0,e.h)(ap,{pub:t,sub:M,tab:"comments"},"previous comments on your publication")," ","(this action cannot be reversed)"),(0,e.h)("div",{className:"button-wrapper"},(0,e.h)($t.Z,{className:"button primary",onClick:qt},"Ban for ",rn))),ln.length>0&&Y.filter(yn=>yn.user_id).map(yn=>(0,e.h)(vA,{ban:yn,showReplyLink:Ce,onReply:Ut,name:n.name})))))},J$=null;var Wi=Et(82622),sp=Et(38441),EA=Et(7617);const Yv=(0,Oo.Z)("Pin",[["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z",key:"13yl11"}]]),wA=(0,Oo.Z)("Gift",[["polyline",{points:"20 12 20 22 4 22 4 12",key:"nda8fc"}],["rect",{width:"20",height:"5",x:"2",y:"7",key:"wkgdzj"}],["line",{x1:"12",x2:"12",y1:"22",y2:"7",key:"1n8zgp"}],["path",{d:"M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z",key:"zighg4"}],["path",{d:"M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z",key:"1pa5tk"}]]),CA=(0,Oo.Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"16",y2:"12",key:"1y1yb1"}],["line",{x1:"12",x2:"12.01",y1:"8",y2:"8",key:"110wyk"}]]);var OA=Et(66440),SA=Et(81108),TA=Object.defineProperty,IA=Object.defineProperties,xA=Object.getOwnPropertyDescriptors,Jv=Object.getOwnPropertySymbols,MA=Object.prototype.hasOwnProperty,DA=Object.prototype.propertyIsEnumerable,Xv=(n,t,r)=>t in n?TA(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,AA=(n,t)=>{for(var r in t||(t={}))MA.call(t,r)&&Xv(n,r,t[r]);if(Jv)for(var r of Jv(t))DA.call(t,r)&&Xv(n,r,t[r]);return n},NA=(n,t)=>IA(n,xA(t));const RA=n=>(0,e.h)(L.l,NA(AA({},n),{name:"LinearIcon",svgParams:{height:50,width:50,fill:"#5E6AD2"}}),(0,e.h)("path",{d:"M41.3,44c0.5-0.4,0.9-0.8,1.3-1.3c9.8-9.8,9.8-25.6,0-35.4c-9.8-9.8-25.6-9.8-35.4,0C6.8,7.8,6.4,8.2,6,8.7   L41.3,44z"}),(0,e.h)("path",{d:"M38.3,46.2L3.8,11.7c-0.7,1.1-1.3,2.2-1.8,3.4L34.9,48C36.1,47.5,37.2,46.9,38.3,46.2z"}),(0,e.h)("path",{d:"M31.1,49.3L0.7,18.9c-0.4,1.5-0.6,3-0.7,4.5L26.6,50C28.1,49.9,29.6,49.7,31.1,49.3z"}),(0,e.h)("path",{d:"M21.1,49.8L0.2,28.9c0.8,5.1,3.1,9.9,7,13.9C11.2,46.6,16.1,49,21.1,49.8z"}));var Os=Et(31533),el=Et(36250);const Qv="comment-collapse-state",qv=250,Wa=jA(),LA=()=>{if(typeof window!="undefined"&&window.location.hash){const n=/^#comment-(\d+)/.exec(window.location.hash);if(n)return Number(n[1])}return null},BA=()=>typeof window!="undefined"&&window.location.hash==="#input",e1=(n,t)=>{if(!n||!t||!t.length)return null;for(const r of t){if(r.id===n)return r;if(r.children&&r.children.length){const i=e1(n,r.children);if(i)return i}}return null};function Jl(n,t){return n.map(r=>r.id===t.id?t:(r.children=Jl(r.children,t),r)).filter(r=>r)}function kA(n,t,{recurse:r=!0}={}){var i,a,M,k;return!!(n.id!==t.id||((i=n==null?void 0:n.metadata)==null?void 0:i.is_author)!==((a=t==null?void 0:t.metadata)==null?void 0:a.is_author)||((M=n==null?void 0:n.metadata)==null?void 0:M.founding)!==((k=t==null?void 0:t.metadata)==null?void 0:k.founding)||(n==null?void 0:n.body)!==(t==null?void 0:t.body)||(n==null?void 0:n.status)!==(t==null?void 0:t.status)||n.reaction!==t.reaction||n.user_banned!==t.user_banned||n.reported_by_user!==t.reported_by_user||(n.reactor_names?n.reactor_names.length:0)!==(t.reactor_names?t.reactor_names.length:0)||Object.values(n.reactions).reduce((F,B)=>F+B,0)!==Object.values(t.reactions).reduce((F,B)=>F+B,0)||r&&UA(n.children,t.children,{recurse:r}))}function UA(n,t,{recurse:r=!0}={}){if((n?n.length:0)!==(t?t.length:0))return!0;if(n)for(const i of n){const a=t.find(M=>M.id===i.id);if(!a||r&&kA(i,a,{recurse:r}))return!0}return!1}function Xl(n,t,r){return(0,p.pathWithQuery)((0,p.getPostUrl)(t,n,{comments:!(0,nn.shouldUseInlineComments)(t,n)}),r)}function FA(n){return(n||"").split(`
`).filter(t=>t.trim()).map(t=>(0,e.h)("p",null,(0,e.h)(am(),{options:{validate:{url:r=>r&&!r.startsWith("/")},attributes:{rel:"nofollow ugc noopener"}}},t)))}const Dc=n=>{var t,r,i,a;return{id:n.user_id,photo_url:n.photo_url,name:n.name,bestseller_tier:n.user_bestseller_tier,primary_publication:n.user_primary_publication,is_free_subscribed:["free_signup, subscribed"].includes((t=n.metadata)==null?void 0:t.membership_state),is_subscribed:((r=n.metadata)==null?void 0:r.membership_state)==="subscribed",is_founding:(i=n.metadata)==null?void 0:i.founding,is_author:(a=n.metadata)==null?void 0:a.is_author}};function jA(){try{return(0,Ai.mM)(Qv,[])}catch(n){return console.error("Failed to load comment collapse state:",n),[]}}function WA(n,t){let r=!1;if(t)Wa.includes(n)||(r=!0,Wa.push(n),Wa.length>qv&&Wa.splice(0,Wa.length-qv));else{const i=Wa.indexOf(n);i>=0&&(r=!0,Wa.splice(i,1))}if(r)try{(0,Ai.ex)(Qv,Wa)}catch(i){console.error("Failed to store comment collapse state:",i)}}function HA(n){return Wa.includes(n)}const VA={link:"frontend-main-comments-CommentActions-module__link--yWV0t"};var Ac=(n,t,r)=>new Promise((i,a)=>{var M=B=>{try{F(r.next(B))}catch(Y){a(Y)}},k=B=>{try{F(r.throw(B))}catch(Y){a(Y)}},F=B=>B.done?i(B.value):Promise.resolve(B.value).then(M,k);F((r=r.apply(n,t)).next())});const KA=({comment:n,pub:t,user:r,post:i,reaction_token:a,commentsEnabledForPost:M,hideContextMenu:k,noRestack:F,onChange:B,startReply:Y,startEdit:ge,startReport:Ce,openBan:Se,updateCommentReacted:Ue})=>{var Ye;const{pinned_by_user_id:Ve}=n,at=!!Ve,pt=(0,o.sO)(),[gt,xt]=(0,o.eJ)(!1),[Nt,Tt]=(0,o.eJ)(!1),[Ut,qt]=(0,o.eJ)(!1),{iString:rn,iTemplate:ln}=(0,P.M1)(),yn=()=>Ac(void 0,null,function*(){if(!Ut&&window.confirm(at?ln`Are you sure you want to unpin this comment?`:ln`Are you sure you want to pin this comment?`)&&!Ut){qt(!0);try{yield jn().patch(`/api/v1/comment/${n.id}/pin`).send({pinned:!at}),B({pinned:!at}),document.location.reload()}catch(or){alert((0,O.getNetworkErrorMessage)(or)),qt(!1)}}}),In=()=>Ac(void 0,null,function*(){var or;if(!gt&&window.confirm(rn("Are you sure you want to remove this comment?"))&&!gt){xt(!0);try{yield jn().patch(`/api/v1/comment/${n.id}/status`).send({status:Wi.COMMENT_STATUS.moderator_removed}),B({suppressed:!0,status:Wi.COMMENT_STATUS.moderator_removed,body:null}),(or=pt.current)==null||or.close()}catch(Fr){alert((0,O.getNetworkErrorMessage)(Fr))}xt(!1)}}),En=()=>Ac(void 0,null,function*(){var or;if(!Nt&&window.confirm(rn("Are you sure you want to delete this comment?"))&&!Nt){Tt(!0);try{yield jn().delete(`/api/v1/comment/${n.id}`).send(),B({status:Wi.COMMENT_STATUS.deleted,deleted:!0,user_id:null,name:null,body:null}),(or=pt.current)==null||or.close()}catch(Fr){alert((0,O.getNetworkErrorMessage)(Fr))}Tt(!1)}}),Yn=()=>Ac(void 0,null,function*(){const or=(0,el.getCommentUrl)(i,n,t),Fr=`https://linear.app/substackinc/team/TPT/new?description=${n.body}%0A%0AComment%20author:%20[${n.name}](https://admin.substack.com/users/${n.user_id})%0A%0ALink:%20${or}&status=Triage`;window.open(Fr,"_blank")}),kn=!!(r&&r.id===n.user_id),bn=(r==null?void 0:r.is_contributor)&&(0,Wi.Ng)(n)&&n.ancestor_path==="",er=(0,nn.canEditComment)(r,n),rr=(r==null?void 0:r.is_contributor)&&(0,Wi.Ng)(n)&&n.ancestor_path==="",Vn=!kn&&n.metadata.eligibleForGift&&!n.metadata.is_author,ar=(r==null?void 0:r.is_contributor)&&(0,Wi.Ng)(n),Jn=!kn&&t.moderation_enabled&&!n.reported_by_user&&!n.hidden&&!n.suppressed,Qn=kn,Ln=ar&&!kn,qn=ar&&r.is_global_admin,Pn=r==null?void 0:r.is_global_admin,Xn=ar&&!n.user_banned&&!kn,Gt=ar&&n.email&&!kn,lr=er||rr||Vn||Gt,Tn=Xn||Jn||Ln||Qn||qn,cr=(0,Pi.default)("like_comments_enabled"),Er=!k&&(lr||Tn),Gr=`${t.base_url}/subscribe?gift=true&recipient=${n.user_id}-${(0,B_.cleanSlug)(n.name,{hashIfEmpty:!0})}&comment_id=${n.id}}`;return(0,e.h)(he.hs,{gap:16,alignItems:"center",justifyContent:"start",paddingTop:8,className:"comment-actions"},!n.deleted&&[cr&&(0,e.h)(Os.dJ,{user:r,pub:t,post:i,comment:n,height:16,countInParenthesesStyle:!0,token:a,onChange:({comment:or})=>B(or),onReactedChange:or=>{Ue&&Ue(n.id,or)},noSelfUpdate:!!Ue}),M&&(0,e.h)(Yf.hh,{onClick:()=>Y(),className:VA.link},(0,e.h)(he.hs,{gap:6,alignItems:"center"},(0,e.h)(EA.Z,{stroke:"var(--color-secondary-themed)",size:16}),(0,e.h)(I.xv.Meta,{color:"pub-secondary-text"},rn("Reply"),((Ye=n.children)==null?void 0:Ye.length)>0&&` (${n.children.length})`))),!F&&(0,e.h)(zA,{pub:t,post:i,comment:n,onChange:B}),Er&&(0,e.h)(Mo.v2,{trigger:(0,e.h)(yt.hU,{priority:"secondary-theme",rounded:!1,size:20},(0,e.h)(sm.Z,{size:16})),useMobileBottomSheet:!0,mobileBottomSheetTitle:rn("More")},bn&&(0,e.h)($A,{pub:t,post:i,comment:n}),er&&(0,e.h)(Mo.sN,{icon:(0,e.h)(Zs.Z,null),onClick:ge},rn("Edit")),rr&&(0,e.h)(Mo.sN,{icon:(0,e.h)(Yv,null),onClick:yn},rn(Ut?at?"Unpinning...":"Pinning...":at?"Unpin":"Pin")),Vn&&(0,e.h)(Mo.sN,{icon:(0,e.h)(wA,null),href:Gr},rn("Gift a subscription")),Pn&&(0,e.h)(Mo.sN,{icon:(0,e.h)(RA,{strokeWidth:0,height:24,width:24}),onClick:Yn},rn("Add comment to Linear")),Gt&&(0,e.h)(Mo.sN,{icon:(0,e.h)(CA,null),onClick:()=>window.open((0,p.getSubscriberDetailsUrl)(t,n.email),"_blank")},rn("Subscriber details")),lr&&Tn&&(0,e.h)(d_.i,null),Qn&&(0,e.h)(Mo.sN,{icon:(0,e.h)(OA.Z,null),onClick:En,priority:"destructive"},rn(Nt?"Deleting...":"Delete")),Ln&&(0,e.h)(Mo.sN,{icon:(0,e.h)(SA.Z,null),onClick:In,priority:"destructive"},rn(gt?"Removing...":"Remove")),Jn&&(0,e.h)(Mo.sN,{icon:(0,e.h)(um.Z,null),onClick:Ce,priority:"destructive"},rn("Report")),Xn&&(0,e.h)(Mo.sN,{icon:(0,e.h)(cm.Z,null),onClick:Se,priority:"destructive"},rn("Ban or suspend user")))])};function $A({pub:n,post:t,comment:r}){const i=(0,Ol.i3)(),{iString:a}=(0,P.M1)();return(0,e.h)(Mo.sN,{icon:(0,e.h)(Nl.Z,null),onClick:()=>{i.open({restackUrl:(0,el.getCommentUrl)(t,r,n)})}},a("Restack"))}function zA({pub:n,post:t,comment:r,onChange:i}){const{iString:a}=(0,P.M1)(),{canRestack:M,isRestacked:k,restacks:F,menuItems:B,nuxModal:Y}=(0,yv.K)({pub:n,post:t,comment:r,onRestack:ge=>{i({restacked:ge,restacks:F+(ge?1:-1)})}});if(M)return(0,e.h)("span",null,Y,(0,e.h)(Mo.v2,{layerClassName:"comment-restack-menu",useMobileBottomSheet:!0,mobileBottomSheetTitle:"Restack",trigger:(0,e.h)("a",{className:l()("restack-button",k&&"restacked"),href:"javascript:void(0)"},(0,e.h)(Nl.Z,null),a("Restack"),F>0&&` (${F})`)},B))}const GA=KA,ZA=({comment:n,bodyRef:t,expandToggleClicked:r})=>{const[i,a]=(0,o.eJ)(!1),M=(n.user_banned_for_comment||n.reported_by_user)&&!i;return(0,e.h)("div",{className:"comment-body",ref:t},(0,e.h)(YA,{comment:n,showHiddenComment:i,setShowHiddenComment:a}),n.hidden?(0,e.h)("i",null,"Comment hidden"):n.deleted?(0,e.h)("i",null,"Comment deleted"):M?(0,e.h)("i",null):n.suppressed&&!i?(0,e.h)("i",null,"Comment removed"):n.type==="reply"?(0,e.h)(JA,{comment:n}):FA(n.body),(0,e.h)("div",{role:"button",className:"show-all-toggle",onClick:()=>r()},(0,e.h)("div",{className:"show-all-toggle-label"},"Expand full comment")))},YA=({comment:n,showHiddenComment:t,setShowHiddenComment:r})=>{const i=(0,Wi.Ng)(n)&&(n.user_banned_for_comment||n.reported_by_user),a=n.user_banned_for_comment?"User was banned for this comment. ":"You reported this comment. ";return i&&(0,e.h)("div",{className:"comment_notice"},(0,e.h)("i",null,a,(0,e.h)("a",{href:"javascript:void(0)",onClick:()=>r(!t)},t?"Hide":"Show")))},JA=({comment:n})=>{const{title:t,truncated_body_text:r,date:i,bylines:a,like_count:M,comment_count:k,url:F}=n.reply;return(0,e.h)("a",{className:"reply-comment",href:(0,p.pathWithQuery)(F,{utm_source:"substack",utm_campaign:"post_reply_comment",utm_medium:"web"}),native:!0},(0,e.h)("div",{className:"reply-comment-title"},t),r&&(0,e.h)("div",{className:"reply-comment-body"},(0,nn.formatEllipsis)(r)),(0,e.h)("button",{className:"reply-comment-read-more"},"Read more"),(0,e.h)("div",{className:"reply-comment-meta"},(0,nn.getPostEmbedMeta)({date:i,bylines:a,like_count:M,comment_count:k})))},XA=ZA;var lp=Et(95847),t1=Et(61152),QA=Object.defineProperty,qA=Object.defineProperties,e8=Object.getOwnPropertyDescriptors,n1=Object.getOwnPropertySymbols,t8=Object.prototype.hasOwnProperty,n8=Object.prototype.propertyIsEnumerable,r1=(n,t,r)=>t in n?QA(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,r8=(n,t)=>{for(var r in t||(t={}))t8.call(t,r)&&r1(n,r,t[r]);if(n1)for(var r of n1(t))n8.call(t,r)&&r1(n,r,t[r]);return n},o8=(n,t)=>qA(n,e8(t));const i8=n=>(0,e.h)(L.l,o8(r8({},n),{name:"CommentBadgeHeartIcon",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)("path",{d:"M20.4134 4.58753C19.9121 4.08434 19.3164 3.68508 18.6606 3.41266C18.0047 3.14023 17.3015 3 16.5914 3C15.8812 3 15.178 3.14023 14.5222 3.41266C13.8663 3.68508 13.2707 4.08434 12.7694 4.58753L12 5.36717L11.2306 4.58753C10.7293 4.08434 10.1337 3.68508 9.47781 3.41266C8.82195 3.14023 8.11878 3 7.40863 3C6.69847 3 5.9953 3.14023 5.33944 3.41266C4.68358 3.68508 4.08793 4.08434 3.58665 4.58753C1.46832 6.70656 1.33842 10.2849 4.00631 13.0037L12 21L19.9937 13.0037C22.6616 10.2849 22.5317 6.70656 20.4134 4.58753Z"}));var a8=Object.defineProperty,s8=Object.defineProperties,l8=Object.getOwnPropertyDescriptors,o1=Object.getOwnPropertySymbols,u8=Object.prototype.hasOwnProperty,c8=Object.prototype.propertyIsEnumerable,i1=(n,t,r)=>t in n?a8(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,d8=(n,t)=>{for(var r in t||(t={}))u8.call(t,r)&&i1(n,r,t[r]);if(o1)for(var r of o1(t))c8.call(t,r)&&i1(n,r,t[r]);return n},f8=(n,t)=>s8(n,l8(t));const p8=n=>(0,e.h)(L.l,f8(d8({},n),{name:"CommentBadgePinIcon",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)("path",{d:"M5 14.4709C5 15.3204 5.57723 15.8867 6.45681 15.8867H11.0196V20.0246C11.0196 21.1024 11.7251 22.5 12 22.5C12.2657 22.5 12.9712 21.1024 12.9712 20.0246V15.8867H17.5432C18.4136 15.8867 19 15.3204 19 14.4709C19 12.5709 17.4882 10.6709 15.0236 9.74837L14.7487 5.66529C16.0772 4.91627 17.0759 4.11244 17.5249 3.55524C17.7723 3.23554 17.9005 2.89756 17.9005 2.58699C17.9005 1.96585 17.4149 1.5 16.7094 1.5H7.28141C6.57592 1.5 6.09031 1.96585 6.09031 2.58699C6.09031 2.89756 6.21859 3.23554 6.47513 3.55524C6.91492 4.11244 7.91361 4.91627 9.25131 5.66529L8.96728 9.74837C6.50262 10.6709 5 12.5709 5 14.4709Z"}));var h8=Object.defineProperty,m8=Object.defineProperties,_8=Object.getOwnPropertyDescriptors,a1=Object.getOwnPropertySymbols,g8=Object.prototype.hasOwnProperty,v8=Object.prototype.propertyIsEnumerable,s1=(n,t,r)=>t in n?h8(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,y8=(n,t)=>{for(var r in t||(t={}))g8.call(t,r)&&s1(n,r,t[r]);if(a1)for(var r of a1(t))v8.call(t,r)&&s1(n,r,t[r]);return n},b8=(n,t)=>m8(n,_8(t));const P8=n=>(0,e.h)(L.l,b8(y8({},n),{name:"CommentBadgePenIcon",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.58889 3.9704L6.25332 2.32056C6.16709 1.89657 6.49112 1.5 6.92378 1.5H16.9301C17.442 1.5 17.8255 1.96925 17.7234 2.47094L17.4389 3.87C17.3621 4.2472 17.0304 4.51823 16.6455 4.51823H7.25935C6.93405 4.51823 6.65372 4.28918 6.58889 3.9704ZM4.67357 12.2151C6.5326 10.2165 7.65784 7.75994 8.04929 6.22991C8.12323 5.94092 8.37629 5.72559 8.67459 5.72559H15.3334C15.6317 5.72559 15.8847 5.94092 15.9587 6.22991C16.3501 7.75993 17.4754 10.2164 19.3344 12.215C19.5386 12.4346 19.5681 12.7681 19.3936 13.012L12.6044 22.4985V14.098C13.6219 13.8276 14.373 12.8839 14.373 11.7613C14.373 10.4277 13.3133 9.34668 12.0061 9.34668C10.6989 9.34668 9.63916 10.4277 9.63916 11.7613C9.63916 12.8827 10.3886 13.8256 11.4044 14.0971L11.4044 22.5L4.61435 13.012C4.43985 12.7681 4.46936 12.4346 4.67357 12.2151ZM11.1162 11.7619C11.1162 11.2618 11.5136 10.8564 12.0038 10.8564C12.494 10.8564 12.8914 11.2618 12.8914 11.7619C12.8914 12.262 12.494 12.6674 12.0038 12.6674C11.5136 12.6674 11.1162 12.262 11.1162 11.7619Z"}));var E8=Et(18446),Ql=Et.n(E8),w8=Object.defineProperty,l1=Object.getOwnPropertySymbols,C8=Object.prototype.hasOwnProperty,O8=Object.prototype.propertyIsEnumerable,up=(n,t,r)=>t in n?w8(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,S8=(n,t)=>{for(var r in t||(t={}))C8.call(t,r)&&up(n,r,t[r]);if(l1)for(var r of l1(t))O8.call(t,r)&&up(n,r,t[r]);return n},Nc=(n,t,r)=>(up(n,typeof t!="symbol"?t+"":t,r),r);class u1 extends e.Component{constructor(t,r){super(t,r),Nc(this,"open",()=>{this.updateCoords(),this.createScrollListeners(),document.addEventListener("mouseup",this.onDocumentMouseUp),document.addEventListener("keydown",this.onDocumentKeyDown),this.props.onOpen&&this.props.onOpen()}),Nc(this,"close",()=>{this.removeScrollListeners(),document.removeEventListener("mouseup",this.onDocumentMouseUp),document.removeEventListener("keydown",this.onDocumentKeyDown),this.props.onClose&&this.props.onClose()}),Nc(this,"onDocumentMouseUp",i=>{var a;!(0,O.isRootOrChild)(i.target,this.portalRef.current,((a=this.props.baseRef)==null?void 0:a.current)||this.props.baseRef)&&this.state.open&&(this.close(),this.setState({open:!1}))}),Nc(this,"onDocumentKeyDown",i=>{i.key==="Escape"&&this.state.open&&(this.close(),this.setState({open:!1}))}),this.onResize=zu()(this.updateCoords.bind(this)),this.scrollListenersToRemove=[],this.state={coords:{},open:!1},this.portalRef=(0,e.createRef)()}toggle(){const t=!this.state.open;t?(this.removeScrollListeners(),this.open()):this.close(),this.setState({open:t})}updateCoords(){var t,r,i,a,M,k,F;const B=(a=(r=((t=this.props.baseRef)==null?void 0:t.current)||this.props.baseRef)==null?void 0:r.getBoundingClientRect)==null?void 0:a.call(((i=this.props.baseRef)==null?void 0:i.current)||this.props.baseRef);if(B){let Y=0,ge=((M=this.props.baseRef)==null?void 0:M.current)||this.props.baseRef;for(;ge=ge==null?void 0:ge.parentElement;)Y+=ge.scrollTop;this.setState({coords:{left:B.x+(this.props.rightAlign?B.width:0)+(typeof window!="undefined"?window.scrollX:0)+(((k=this.props.offset)==null?void 0:k.x)||0),top:B.y+Y+(((F=this.props.offset)==null?void 0:F.y)||0),width:B.width,height:B.height}})}}componentDidMount(){typeof window!="undefined"&&window.addEventListener("resize",this.onResize),this.updateCoords(),this.props.hoverToggle&&this.createMouseListeners()}createMouseListeners(){var t,r,i,a;(r=((t=this.props.baseRef)==null?void 0:t.current)||this.props.baseRef)==null||r.addEventListener("mouseenter",this.open),(a=((i=this.props.baseRef)==null?void 0:i.current)||this.props.baseRef)==null||a.addEventListener("mouseleave",this.close)}removeMouseListeners(){var t,r,i,a;(r=((t=this.props.baseRef)==null?void 0:t.current)||this.props.baseRef)==null||r.removeEventListener("mouseenter",this.open),(a=((i=this.props.baseRef)==null?void 0:i.current)||this.props.baseRef)==null||a.removeEventListener("mouseleave",this.close)}componentDidUnmount(){typeof window!="undefined"&&window.removeEventListener("resize",this.onResize),this.removeScrollListeners(),this.removeMouseListeners()}onScroll(t){var r,i;const a=t==null?void 0:t.getBoundingClientRect(),M=(i=((r=this.props.baseRef)==null?void 0:r.current)||this.props.baseRef)==null?void 0:i.getBoundingClientRect();if(!a||!M)return;const k=({x:Ce,y:Se})=>Y<=Ce&&Ce<=ge&&F<=Se&&Se<=B,{top:F,bottom:B,left:Y,right:ge}=a;k({x:M.left,y:M.top})||k({x:M.right,y:M.top})||k({x:M.left,y:M.bottom})||k({x:M.right,y:M.bottom})?(this.updateCoords(),this.props.hoverToggle?this.createMouseListeners():this.state.open&&this.props.onOpen&&this.props.onOpen()):(this.removeMouseListeners(),this.props.onClose&&this.props.onClose())}removeScrollListeners(){this.scrollListenersToRemove.forEach(t=>t())}createScrollListeners(){this.scrollListenersToRemove=this.props.scrollContainers.map(t=>{const r=(t==null?void 0:t.current)||t,i=zu()(()=>this.onScroll(r),10);return r==null||r.addEventListener("scroll",i),()=>r==null?void 0:r.removeEventListener("scroll",i)})}componentShouldUpdate(t,r){return!Ql()(this.props,t)||!Ql()(this.state,r)}componentDidUpdate(t){var r,i,a,M;!Ql()(t.scrollContainers,this.props.scrollContainers)&&this.scrollListenersToRemove.length>0&&(this.removeScrollListeners(),this.createScrollListeners()),Ql()(t.baseRef,this.props.baseRef)||((i=((r=t.baseRef)==null?void 0:r.current)||t.baseRef)==null||i.removeEventListener("mouseenter",this.open),(M=((a=t.baseRef)==null?void 0:a.current)||t.baseRef)==null||M.removeEventListener("mouseleave",this.close),this.props.hoverToggle&&this.createMouseListeners())}render({children:t,rootElement:r,className:i},{coords:a}){return typeof window=="undefined"?null:(0,Kt.createPortal)((0,e.h)("div",{style:S8({},a),className:l()("tooltip-portal",i),ref:this.portalRef},t),r||document.body)}}u1.defaultProps={scrollContainers:[]};const c1=u1;var T8=Et(48403),I8=Et.n(T8),x8=Object.defineProperty,M8=Object.defineProperties,D8=Object.getOwnPropertyDescriptors,d1=Object.getOwnPropertySymbols,A8=Object.prototype.hasOwnProperty,N8=Object.prototype.propertyIsEnumerable,f1=(n,t,r)=>t in n?x8(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,R8=(n,t)=>{for(var r in t||(t={}))A8.call(t,r)&&f1(n,r,t[r]);if(d1)for(var r of d1(t))N8.call(t,r)&&f1(n,r,t[r]);return n},L8=(n,t)=>M8(n,D8(t));const p1=n=>(0,e.h)(L.l,L8(R8({},n),{name:"FoundingBadgeIconInCircle",svgParams:{height:18,width:18,viewBox:"0 0 18 18"}}),(0,e.h)("circle",{cx:"9",cy:"9",r:"9",stroke:"none"}),(0,e.h)("circle",{cx:"6.37499",cy:"8.125",r:"2.875",fill:"none"}),(0,e.h)("path",{d:"M10.125 11.1366C10.125 12.7245 8.83782 14.0116 7.25 14.0116C5.66218 14.0116 4.375 12.7245 4.375 11.1366C4.375 9.54881 5.66218 8.26163 7.25 8.26163C8.83782 8.26163 10.125 9.54881 10.125 11.1366Z",fill:"none"}),(0,e.h)("path",{d:"M13.625 11.1366C13.625 12.7245 12.3379 14.0116 10.75 14.0116C9.16223 14.0116 7.87504 12.7245 7.87504 11.1366C7.87504 9.54881 9.16223 8.26163 10.75 8.26163C12.3379 8.26163 13.625 9.54881 13.625 11.1366Z",fill:"none"}),(0,e.h)("circle",{cx:"9",cy:"6.375",r:"2.875",fill:"none"}),(0,e.h)("circle",{cx:"11.625",cy:"8.125",r:"2.875",fill:"none"}));var B8=Object.defineProperty,k8=Object.defineProperties,U8=Object.getOwnPropertyDescriptors,h1=Object.getOwnPropertySymbols,F8=Object.prototype.hasOwnProperty,j8=Object.prototype.propertyIsEnumerable,m1=(n,t,r)=>t in n?B8(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,W8=(n,t)=>{for(var r in t||(t={}))F8.call(t,r)&&m1(n,r,t[r]);if(h1)for(var r of h1(t))j8.call(t,r)&&m1(n,r,t[r]);return n},H8=(n,t)=>k8(n,U8(t));const _1=n=>(0,e.h)(L.l,H8(W8({},n),{name:"SubscriberBadgeIconInCircle",svgParams:{height:18,width:18,viewBox:"0 0 18 18"}}),(0,e.h)("circle",{cx:"9",cy:"9",r:"9",stroke:"none"}),(0,e.h)("circle",{cx:"7.08219",cy:"7.08219",r:"2.58219",fill:"none"}),(0,e.h)("circle",{cx:"7.08219",cy:"10.9178",r:"2.58219",fill:"none"}),(0,e.h)("circle",{cx:"10.9178",cy:"7.08219",r:"2.58219",fill:"none"}),(0,e.h)("circle",{cx:"10.9178",cy:"10.9178",r:"2.58219",fill:"none"})),tl={"hover-card-button":"frontend-components-SubscriberBadge-module__hover-card-button--uoeNv","hover-card-icon-section":"frontend-components-SubscriberBadge-module__hover-card-icon-section--eHOQJ","hover-card-icon":"frontend-components-SubscriberBadge-module__hover-card-icon--Hl0xm","hover-card-layer":"frontend-components-SubscriberBadge-module__hover-card-layer--xv2xd",badgeContainter:"frontend-components-SubscriberBadge-module__badgeContainter--GjZmD",badgeSVG:"frontend-components-SubscriberBadge-module__badgeSVG--jGAAs"};var V8=(n,t,r)=>new Promise((i,a)=>{var M=B=>{try{F(r.next(B))}catch(Y){a(Y)}},k=B=>{try{F(r.throw(B))}catch(Y){a(Y)}},F=B=>B.done?i(B.value):Promise.resolve(B.value).then(M,k);F((r=r.apply(n,t)).next())});function K8({status:n,pub:t,user:r,freeSignup:i,freeSignupEmail:a}){const[M,k]=n==="paid"?[_1,$8]:[p1,z8];return(0,e.h)(Xd.z,{content:(0,e.h)(k,{pub:t,user:r,freeSignup:i,freeSignupEmail:a}),layerClassName:tl["hover-card-layer"],layerOptions:{placement:"bottom-start"},onFetch:()=>{(0,C.j)(C.FP.SUBSCRIBER_BADGE_INFO_SHOWN,{status:n})}},(0,e.h)(he.gq,{className:tl.badgeContainter},(0,e.h)(M,{className:tl.badgeSVG,height:16,strokeWidth:1,stroke:"var(--print_on_pop)",fill:"none"})))}const g1=({Icon:n,heading:t,body:r,buttonText:i,href:a,user:M,pub:k,freeSignupEmail:F})=>(0,e.h)(he.tu,{alignItems:"center"},(0,e.h)(he.gq,{alignItems:"center",className:tl["hover-card-icon-section"]},(0,e.h)(n,{className:tl["hover-card-icon"],strokeWidth:1,stroke:"var(--print_on_pop)",fill:"none",height:50})),(0,e.h)(he.tu,{alignItems:"center",gap:20,paddingBottom:20,paddingX:20},(0,e.h)(he.tu,{alignItems:"center",gap:6},(0,e.h)(I.xv.H3,{weight:"semibold"},t),(0,e.h)(I.xv.B3,{align:"center",color:"secondary"},r)),i&&(0,e.h)(yt.zx,{className:tl["hover-card-button"],grow:!0,onClick:M&&!M.is_magic&&M.email||F?B=>V8(void 0,null,function*(){B.preventDefault();const Y=M&&!M.is_magic&&M.email||F;let ge;try{ge=(yield jn().post("/api/v1/free").send({source:"subscriber_badge",email:Y,first_url:u.xY,first_referrer:u.ip,current_url:u.UE,current_referrer:u.xU})).body.referral_token}catch(Ce){(0,C.j)(C.FP.FREE_SIGNUP_FAILED,{reason:Ce==null?void 0:Ce.message,source:"subscriber_badge"})}window.location.href=(0,te.getSubscribeUrl)(k,{addBase:!0,params:{next:document.location.href,utm_source:"subscriber_badge",simple:!0,just_signed_up:!0,skip_redirect_check:!0,referral_token:ge}})}):void 0,href:a,localNavigation:!1,priority:"primary-theme"},i)));function $8({pub:n,user:t,freeSignup:r,freeSignupEmail:i}){const a=!(t!=null&&t.is_subscribed)&&(0,li.paymentsAreEnabled)(n);return(0,e.h)(g1,{Icon:_1,heading:`Paid ${(0,nn.getSubscriptionWord)(n,"subscriber")}`,body:a?`This badge is only available to paid members \u2014 ${t!=null&&t.is_free_subscribed||r?"upgrade":"subscribe"} to claim your own.`:"This badge is available to paid members.",buttonText:a?(0,nn.getSubscribeText)(n,{isFreeSubscribed:(t==null?void 0:t.is_free_subscribed)||r}):void 0,href:a?(0,te.getSubscribeUrl)(n,{params:{next:window.location.href,utm_source:"subscriber_badge"}}):void 0,user:t,pub:n,freeSignupEmail:i})}function z8({pub:n,user:t,freeSignup:r,freeSignupEmail:i}){var a;const M=!(t!=null&&t.is_founding)&&(0,li.paymentsAreEnabled)(n)&&(0,li.getFoundingTierPlan)(n),k=(a=(0,li.getFoundingTierName)(n))!=null?a:"Founding Member";return(0,e.h)(g1,{Icon:p1,heading:k,body:`This badge is${M?" only":""} available to paid ${(0,nn.getSubscriptionWord)(n,"subscriber")}s under the "${k}" plan${M?` \u2014 ${t!=null&&t.is_free_subscribed||r?"upgrade":"subscribe"} to claim your own.`:"."}`,buttonText:M?t!=null&&t.is_free_subscribed||r?I8()((0,nn.getSubscriptionWord)(n,"upgrade")):(0,nn.getSubscribeText)(n):void 0,href:M?(0,te.getSubscribeUrl)(n,{params:{next:window.location.href,plan:"founding",utm_source:"subscriber_badge"}}):void 0,user:t,pub:n,freeSignupEmail:i})}function G8({subject:n,pub:t,user:r,freeSignup:i,freeSignupEmail:a,hoverDisabled:M=!1,onClick:k}){var F;const{exposeExperiment:B,getExperimentVariant:Y}=(0,Pr.jc)(),ge=(F=Y("subscriber_badges_2"))!=null?F:"control",Ce=n.is_founding&&!n.is_author?"founding":n.is_subscribed&&!n.is_author?"paid":null;return(0,e.h)(e.Fragment,null,(0,e.h)(ce,{onVisible:()=>{Ce&&B("subscriber_badges_2")}}),(0,e.h)(he.gq,{inline:!0,gap:4,alignItems:"center"},(0,e.h)(ca.Ct,{subject:n,disabled:M,utmSource:"comment"},(0,e.h)("a",{onClick:k,href:k?"javascript:void(0)":(0,te.getReaderProfileUrl)(n)},(0,e.h)(I.xv.B4,{color:"pub-primary-text",weight:"semibold"},n.name))),(0,e.h)(ho.s,{size:"sm",tier:n.bestseller_tier,userId:n.id}),Ce&&ge!=="control"&&(0,e.h)(K8,{status:Ce,pub:t,user:r,freeSignup:i,freeSignupEmail:a})))}var Z8=Et(44695);const v1=({post:n,pub:t,user:r,freeSignup:i,freeSignupEmail:a,comment:M,isCollapsed:k,onProfileClick:F,userBanned:B,toggleCollapse:Y,noHoverProfile:ge,userPendingApproval:Ce})=>{var Se,Ue;const{iString:Ye,iTemplate:Ve,language:at,iPlural:pt}=(0,P.M1)(),gt=Ut=>Ut.children.length+Ut.children.reduce((qt,rn)=>qt+gt(rn),0),xt=gt(M),Nt=!!M.edited_at,Tt=!M.hidden&&((Se=M.metadata.author_on_other_pub)==null?void 0:Se.id)!=null;return[(0,e.h)("div",{className:"comment-meta"},(0,e.h)("span",{className:"commenter-name"},M.name?(0,e.h)(G8,{subject:Dc(M),pub:t,user:r,freeSignup:i,freeSignupEmail:a,hoverDisabled:ge||!(0,Wi.Ng)(M)||M.hidden||k,onClick:F?()=>F(M):null}):M.hidden?(0,e.h)("i",null,Ye("hidden")):M.deleted?(0,e.h)("i",null,Ye("deleted")):(0,Wi.Ng)(M)?Ye("Anonymous"):Ye("Removed"),B&&(0,e.h)("span",{className:"ban-status"}," (Banned)"),Ce&&(0,e.h)("a",{className:"pending-approval",href:`/publish/moderation/new-commenters?user=${M.user_id}`,target:"_blank",rel:"noopener"}," ","(",Ye("Awaiting New Commenter Approval"),")")),M.metadata.author_on_other_pub&&!M.metadata.is_author&&(Tt?(0,e.h)(Z8.Sm,{publication_id:(Ue=M.metadata.author_on_other_pub)==null?void 0:Ue.id},(0,e.h)(y1,{comment:M})):(0,e.h)(y1,{comment:M})),(0,e.h)("a",{className:"comment-timestamp",href:(0,el.getCommentUrl)(n,M,t),onClick:Ut=>(void 0).onDateClick(Ut),rel:"nofollow",native:!0},un()(M.date).locale(at).standardDateOrTime()),Nt&&[(0,e.h)("span",{className:"comment-publication-name-separator"},"\xB7"),(0,e.h)("span",{className:"edited-indicator"},(0,e.h)("em",null,Ve`edited ${un()(M.edited_at).locale(at).standardDateOrTime()}`))],(0,e.h)(Y8,{comment:M})),k&&(0,e.h)("div",{className:"tags-row"},(0,e.h)($t.Z,{className:"outline comment-collapse-toggle",onClick:Y},pt("Expand comment reply","Expand comment replies",xt)))]};function y1({comment:n}){const{iTemplate:t}=(0,P.M1)();return(0,e.h)("a",{className:"commenter-publication",href:(0,p.updateQuery)(n.metadata.author_on_other_pub.base_url,{utm_source:"substack",utm_medium:"web",utm_content:"comment_metadata"}),rel:"nofollow",target:"_blank"},(0,e.h)("span",null,t`Writes ${(0,nn.truncateText)(n.metadata.author_on_other_pub.name,32)}`," "))}const Y8=({comment:n})=>{const[t,r]=(0,o.eJ)(!1),i=(0,o.sO)(null),a=(0,o.sO)(null),{iString:M,iTemplate:k}=(0,P.M1)(),F=n.pinned_by_user_id?"pinned":n.metadata.is_author?"author":n.reactor_names.length>0?"liked":null;if(!F)return null;const B={pinned:(0,e.h)(p8,null),author:(0,e.h)(P8,null),liked:(0,e.h)(i8,null)},Y={pinned:M("Pinned"),author:M("Author"),liked:k`Liked by ${n.reactor_names.join(", ")}`},ge=F==="pinned"&&n.pinned_by_name;return(0,e.h)("span",{ref:i,className:l()("highlight",{hover:t}),onMouseEnter:()=>ge&&r(!0),onMouseLeave:()=>ge&&r(!1)},B[F],(0,e.h)("span",{className:"highlight-text"},Y[F]),ge&&(0,e.h)(c1,{baseRef:i,hoverToggle:!0,onOpen:()=>{var Ce;return(Ce=a.current)==null?void 0:Ce.open()},onClose:()=>{var Ce;return(Ce=a.current)==null?void 0:Ce.close()}},(0,e.h)(zi.Fx,{ref:a,noList:!0,className:"explanation above small thin"},(0,e.h)(I.xv,{as:"span",translated:!0},"Pinned by ",(0,e.h)("span",{className:"bold"},I18N.p(n.pinned_by_name))))))};var J8=Object.defineProperty,X8=Object.defineProperties,Q8=Object.getOwnPropertyDescriptors,b1=Object.getOwnPropertySymbols,q8=Object.prototype.hasOwnProperty,eN=Object.prototype.propertyIsEnumerable,P1=(n,t,r)=>t in n?J8(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,E1=(n,t)=>{for(var r in t||(t={}))q8.call(t,r)&&P1(n,r,t[r]);if(b1)for(var r of b1(t))eN.call(t,r)&&P1(n,r,t[r]);return n},tN=(n,t)=>X8(n,Q8(t)),ql=(n,t,r)=>new Promise((i,a)=>{var M=B=>{try{F(r.next(B))}catch(Y){a(Y)}},k=B=>{try{F(r.throw(B))}catch(Y){a(Y)}},F=B=>B.done?i(B.value):Promise.resolve(B.value).then(M,k);F((r=r.apply(n,t)).next())});const Rc="commentInput";class nN extends e.Component{constructor(t){var r;super(t),this.state={value:(r=t.commentBeingEdited)==null?void 0:r.body,alsoShareToNotes:!1}}componentWillMount(){if(typeof localStorage!="undefined"){const t=JSON.parse(localStorage.getItem(Rc)||"{}");t.postId===this.props.post.id&&this.setState({value:t.value,alsoShareToNotes:!!t.alsoShareToNotes}),localStorage.removeItem(Rc)}}componentDidMount(){var t;this.props.autoFocus&&((t=this.bodyInput)==null||t.focus())}needsProfile(){const{user:t}=this.props;return!t||!t.name}onKeyDown(t){var r;if((r=this.props.user)!=null&&r.is_magic){t&&t.preventDefault(),this.showFinishMagicLoginModal();return}if(!(0,nn.canPostComments)(this.props.user,this.props.post,this.props.pub).canReply){t&&t.preventDefault(),this.showPaywall();return}t.key==="Escape"&&this.bodyInput.value.trim()===""?this.props.onCancel&&this.props.onCancel():t.key==="Enter"&&t.metaKey&&this.form.handleSubmit(t)}maybeSaveComment(){typeof localStorage!="undefined"&&localStorage.setItem(Rc,JSON.stringify({postId:this.props.post.id,value:this.state.value,alsoShareToNotes:this.state.alsoShareToNotes}))}onInput(t){if(!(0,nn.canPostComments)(this.props.user,this.props.post,this.props.pub).canReply){t&&t.preventDefault(),this.showPaywall();return}this.setState({value:this.bodyInput.value||""})}postComment(){return ql(this,arguments,function*({profileUpdated:t}={}){const{user:r,pub:i,post:a,parent:M,token:k,iString:F}=this.props,{alsoShareToNotes:B}=this.state;if(!(0,nn.canPostComments)(r,a,i).canReply)throw this.maybeSaveComment(),yield this.showPaywall(),yield new Promise(ge=>setTimeout(ge,600)),new je.ew(F("Please sign in"));if(this.needsProfile()&&!t)throw this.maybeSaveComment(),yield this.showProfileUpdate(),yield new Promise(ge=>setTimeout(ge,600)),new je.ew(F("Please update your profile"));const Y={body:this.bodyInput.value,token:k};try{let ge;if(B){const Se=yield jn().post("/api/v1/comment/attachment").send({type:"link",url:(0,p.getPostUrl)(i,a)});if(!(Se!=null&&Se.body))console.log("Error creating attachment");else{const Ue=E1({},Y);Ue.attachmentIds=[Se.body.id],ge=yield jn().post("/api/v1/comment/feed").send(Ue)}}M&&(Y.parent_id=M.id);const Ce=yield jn().post(`/api/v1/post/${a.id}/comment`).send(Y);if(typeof localStorage!="undefined"&&localStorage.removeItem(Rc),!(r!=null&&r.profile_set_up_at)){const{body:{count:Se}}=yield jn().get("/api/v1/user/profile_role_count");if(Se>=2)return window.location=(0,p.pathWithQuery)(`${(0,p.getSubstackUrl)()}/profile/start`,{commentProfileFlow:!0,next:(0,el.getCommentUrl)(a,Ce.body,i)}),!1}return{notesComment:ge,res:Ce}}catch(ge){throw ge.response&&ge.response.statusCode===403&&(r&&r.is_magic?yield this.showFinishMagicLoginModal():yield this.showPaywall()),ge}})}onSuccess(t){const{res:r,notesComment:i}=t,{iString:a}=this.props;if(r!==!1)if(this.props.onSuccess&&!this.needsProfile()){if(this.state.alsoShareToNotes&&i){const M=(0,te.getFeedCommentUrl)(i.body);this.props.popToast(k=>(0,e.h)(y.FN,tN(E1({},k),{icon:Wl.Z,text:a("Shared to Notes"),cta:a("View Now"),href:M})))}this.setState({value:""}),this.props.onSuccess(r.body)}else{const M=Xl(this.props.post,this.props.pub);window.location.pathname===M?window.location.reload():window.location.href=Xl(this.props.post,this.props.pub,this.state.alsoShareToNotes?{feedCommentUrl:(0,te.getFeedCommentUrl)(r.body)}:{})}}showFinishMagicLoginModal(){return ql(this,null,function*(){this.finishMagicLoginModalShown||(this.finishMagicLoginModalShown=!0,(0,C.j)(C.FP.FINISH_MAGIC_LOGIN_MODAL_SHOWN,{post_id:this.props.post.id,post_type:this.props.post.type,parent_id:this.props.parent&&this.props.parent.id})),this.finishMagicLoginModal&&(this.sendLoginEmail(),yield this.finishMagicLoginModal.open())})}showPaywall(){return ql(this,null,function*(){this.paywallShown||(this.paywallShown=!0,(0,C.j)(C.FP.COMMENT_PAYWALL_SHOWN,{post_id:this.props.post.id,post_type:this.props.post.type,parent_id:this.props.parent&&this.props.parent.id})),this.modalPaywall&&this.modalPaywall.open&&(yield this.modalPaywall.open())})}showProfileUpdate(){return ql(this,null,function*(){this.profileUpdaterShown||(this.profileUpdaterShown=!0,(0,C.j)(C.FP.PROFILE_UPDATER_SHOWN,{post_id:this.props.post.id,parent_id:this.props.parent&&this.props.parent.id})),this.profileUpdater&&(yield this.profileUpdater.open())})}sendLoginEmail(){return ql(this,null,function*(){if(!this.loginEmailSent){this.loginEmailSent=!0;try{yield jn().post("/api/v1/email-login").send({email:this.props.user.email,redirect:document.location.href.split("?")[0].split("#")[0]})}catch(t){alert((0,O.getNetworkErrorMessage)(t))}}})}focus(){this.bodyInput.focus()}render({user:t,freeSignup:r,freeSignupEmail:i,pub:a,post:M,token:k,onCancel:F,autoFocus:B,commentBeingEdited:Y,saveEdit:ge,formClassName:Ce,bannedFromNotes:Se,iString:Ue},{value:Ye,alsoShareToNotes:Ve}){return(0,e.h)(he.hs,{flex:"grow",className:l()("comment-input-wrap",{comment:Y})},(0,e.h)(je.ZP,{ref:at=>this.form=at,className:l()("comment-input",Ce),performSubmit:at=>Y?ge(Ye):this.postComment(at),onSuccess:at=>this.onSuccess(at),noInlineErrors:!0,autoLock:!0},(0,e.h)(Gs.qE,{user:t,size:32}),(0,e.h)(he.tu,{flex:"grow",className:"comment-input-right"},Y&&(0,e.h)(v1,{post:M,pub:a,user:t,freeSignup:r,freeSignupEmail:i,comment:Y,isCollapsed:!1,userBanned:!1}),(0,e.h)(t1.Z,{ref:at=>this.bodyInput=at&&at.base,name:"body",placeholder:Ue("Write a comment..."),autoHeight:!0,maxLines:8,value:Ye||"",onInput:at=>this.onInput(at),onKeyDown:at=>this.onKeyDown(at)}),(0,e.h)("div",{id:"error-container"}),(0,e.h)(he.hs,{alignItems:"center",justifyContent:"space-between",paddingTop:8},!!Ye&&!F&&(0,e.h)(he.hs,{gap:8,alignItems:"center",justifyContent:"center"},!Se&&(0,e.h)(y.XZ,{name:"also_feed",size:"medium",as:"div",checked:Ve,onChange:()=>{this.setState({alsoShareToNotes:!Ve})},withTheme:!0}),!Se&&(0,e.h)(I.xv.B4,{translated:!0,color:"pub-secondary-text"},"Also share to"," ",(0,e.h)(Yf.hh,{color:"pub-secondary-text",decoration:"underline",target:"_blank",href:(0,te.getFeedUrl)({urlParams:{utm_content:"comment-share-checkbox"}})},"Notes"))),(F||!!Ye)&&(0,e.h)($t.Z,{className:"primary",type:"submit"},Ue(Y?"Save":"Post")),F&&(0,e.h)($t.Z,{className:"cancel",onClick:F},Ue("Cancel"))))),(0,e.h)(Lu.h,null,(0,e.h)(lp.EB,{ref:at=>this.profileUpdater=at,user:t,freeSignup:r,freeSignupEmail:i,optionalPhoto:!0,token:k,text:Ue("Save & Post Comment"),onBeforeClose:at=>at&&this.form.handleSubmitAsync(null,{profileUpdated:!0})}),(0,e.h)(dA,{ref:at=>this.modalPaywall=at,user:t,freeSignup:r,freeSignupEmail:i,publication:a,post:M,title:Ue("Only paid subscribers can comment on this post"),reauthenticationTitle:Ue("To post a comment, please re-authenticate.")}),(0,e.h)(Mt.p,{ref:at=>this.finishMagicLoginModal=at,className:"finish-magic-login-modal"},(0,e.h)("h4",null,Ue("Check your email")),(0,e.h)("p",null,Ue("For your security, we need to re-authenticate you.")),(0,e.h)(I.xv,{as:"p",translated:!0},"Click the link we sent to ",I18N.p(t==null?void 0:t.email),", or"," ",(0,e.h)("a",{href:(0,p.getSigninUrl)({for_pub:a.subdomain,with_password:!0}),native:!0},"click here to sign in"),"."))))}}const eu=(0,y.dd)((0,P.fz)(nN));var rN=Et(702),oN=Object.defineProperty,iN=Object.defineProperties,aN=Object.getOwnPropertyDescriptors,w1=Object.getOwnPropertySymbols,sN=Object.prototype.hasOwnProperty,lN=Object.prototype.propertyIsEnumerable,cp=(n,t,r)=>t in n?oN(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,nl=(n,t)=>{for(var r in t||(t={}))sN.call(t,r)&&cp(n,r,t[r]);if(w1)for(var r of w1(t))lN.call(t,r)&&cp(n,r,t[r]);return n},C1=(n,t)=>iN(n,aN(t)),Hi=(n,t,r)=>(cp(n,typeof t!="symbol"?t+"":t,r),r),O1=(n,t,r)=>new Promise((i,a)=>{var M=B=>{try{F(r.next(B))}catch(Y){a(Y)}},k=B=>{try{F(r.throw(B))}catch(Y){a(Y)}},F=B=>B.done?i(B.value):Promise.resolve(B.value).then(M,k);F((r=r.apply(n,t)).next())});const S1=200,uN=50,cN=140,dN=728,fN=80;function pN(){const t=Math.min(dN,document.body.clientWidth)-cN;return Math.ceil(t/uN)}const T1=pN();class I1 extends e.Component{constructor(t,r){super(t,r),Hi(this,"bodyRef",(0,e.createRef)(null)),Hi(this,"headContainerRef",(0,e.createRef)(null)),Hi(this,"openBan",()=>{this.props.banComment()}),Hi(this,"setSelectedHighlight",()=>{const a=LA()===this.props.comment.id;this.setState({isSelected:a})}),Hi(this,"startEdit",()=>{this.setState({editing:!0})}),Hi(this,"saveEdit",i=>O1(this,null,function*(){return this.state.editing?{res:yield jn().patch(`/api/v1/comment/${this.props.comment.id}`).send({body:i})}:void 0})),Hi(this,"onSaveEditSuccess",({edited:i})=>{this.setState({editing:!1}),this.props.onChange(nl(nl({},this.props.comment),i))}),Hi(this,"startReport",()=>{this.setState({reporting:!0})}),Hi(this,"cancelReport",()=>{this.setState({reporting:!1})}),Hi(this,"onReportSuccess",()=>{this.props.onChange(C1(nl({},this.props.comment),{reported_by_user:!0}))}),Hi(this,"expandToggleClicked",()=>{const i=this.bodyRef.current;i&&(i.classList.remove("long"),i.classList.add("expanded"),(0,C.j)(C.FP.COMMENT_EXPAND_TOGGLE_CLICKED,{hiddenHeight:i.getAttribute("data-hidden-height")}))}),Hi(this,"onChange",i=>{this.props.onChange?this.props.onChange(nl(nl({},this.props.comment),i)):document.location.href=Xl(this.props.post,this.props.pub)}),Hi(this,"setComment",i=>{this.setState({comment:i})}),Hi(this,"setCollapsed",i=>{var a,M;if(this.setState({isCollapsed:i}),i&&((M=(a=this.headContainerRef)==null?void 0:a.current)!=null&&M.scrollIntoView)){const k=this.headContainerRef.current.getBoundingClientRect();k.top<0&&(document.documentElement.scrollTop+=k.top-fN)}this.props.retainUserCollapseState&&WA(this.props.comment.id,i)}),this.state={editing:!1,replying:!1,reporting:!1,hideAnchors:!1,isSelected:!1,isCollapsed:this.props.retainUserCollapseState&&HA(this.props.comment.id)}}componentDidMount(){this.setSelectedHighlight(),this.setReplyStateFromHash(),typeof window!="undefined"&&(window.addEventListener("hashchange",this.setSelectedHighlight,!1),window.addEventListener("popstate",this.setSelectedHighlight,!1),this.updateOverflows())}componentWillUnmount(){typeof window!="undefined"&&(window.removeEventListener("hashchange",this.setSelectedHighlight,!1),window.removeEventListener("popstate",this.setSelectedHighlight,!1))}componentDidUpdate(t){var r,i;((r=t.comment)==null?void 0:r.id)!==((i=this.props.comment)==null?void 0:i.id)&&this.setSelectedHighlight(),t.replying!==this.props.replying&&this.props.replying&&this.startReply()}setReplyStateFromHash(){if(this.props.comment.deleted||typeof window=="undefined"||!window.location.hash)return;const t=/^#comment-(\d+)-reply$/.exec(window.location.hash);!t||Number(t[1])!==this.props.comment.id||(window.location.hash=window.location.hash.replace(/-reply$/,""),this.startReply())}startReply(){return O1(this,null,function*(){this.props.onStartReply?this.props.onStartReply(this.props.comment):(yield new Promise(t=>this.setState({replying:!0},t)),this.commentInput&&this.commentInput.bodyInput&&this.commentInput.bodyInput.focus&&this.commentInput.bodyInput.focus())})}onDateClick(t){const[r,i]=t.target.href.split("?")[0].split("#");r===window.location.href.split("?")[0].split("#")[0]&&i&&(t.preventDefault(),this.setState({hideAnchors:!0},()=>{window.location.hash=`#${i}`,this.setState({hideAnchors:!1})}))}updateOverflows(){const t=this.bodyRef.current;if(!t)return;const r=t.scrollHeight-t.clientHeight;r>0&&r<S1?t.classList.add("expanded"):r>=S1&&(t.classList.add("long"),t.setAttribute("data-hidden-height",r))}render({user:t,comment:r,freeSignup:i,freeSignupEmail:a,pub:M,post:k,reaction_token:F,depth:B,collapseAtDepth:Y,onChange:ge,scrollRef:Ce,retainUserCollapseState:Se,onStartReply:Ue,noHoverProfile:Ye,onProfileClick:Ve,hideContextMenu:at,noRestack:pt,updateCommentReacted:gt,iString:xt},{isSelected:Nt,replying:Tt,editing:Ut,reporting:qt,hideAnchors:rn,isCollapsed:ln}){var yn,In,En;const Yn=M.community_enabled&&k&&k.write_comment_permissions!=="none",{user_banned:kn}=r;let bn=!1;return((yn=this.context.getExperimentVariant("subscriber_badges_2"))!=null?yn:"control")==="control"&&((In=r.metadata)!=null&&In.is_author?bn="author":(En=r.metadata)!=null&&En.founding&&(bn="founding")),Ut?(0,e.h)(eu,{autoFocus:!0,user:t,freeSignup:i,freeSignupEmail:a,pub:M,post:k,commentBeingEdited:r,saveEdit:this.saveEdit,token:F,onCancel:()=>this.setState({editing:!1}),onSuccess:ge?this.onSaveEditSuccess:null}):(0,e.h)("div",{className:l()("comment",{selected:Nt,"post-reply":r.type==="reply",collapsed:ln}),key:`comment-${r.id}`},!rn&&[(0,e.h)("div",{id:`comment-${r.id}`,className:"comment-anchor"}),(0,e.h)("div",{id:`comment-${r.id}-reply`,className:"comment-anchor"})],(0,e.h)("table",{className:"comment-content"},(0,e.h)("tr",null,(0,e.h)("td",{className:"comment-head",ref:this.headContainerRef},(0,e.h)(ca.Ct,{subject:Dc(r),disabled:Ye||!(0,Wi.Ng)(r)||r.hidden||ln,utmSource:"comment"},(0,e.h)(sp.ZP,{subject:Dc(r),pub:M,user:t,freeSignup:i,freeSignupEmail:a,token:F,isBanned:kn,tooltip:{founding:(0,nn.foundingMemberDescription)(M),author_ons_other_pub:xt("Author of another publication")}[bn],badge:bn,isAuthor:r.metadata.is_author,onClick:Ve?()=>Ve(r):null,lazy:!0}))),(0,e.h)("td",{className:"comment-rest"},(0,e.h)(v1,{post:k,pub:M,user:t,freeSignup:i,freeSignupEmail:a,comment:r,commentUser:Dc,isCollapsed:ln,toggleCollapse:()=>this.setCollapsed(!this.state.isCollapsed),onProfileClick:Ve,userBanned:kn,noHoverProfile:Ye,userPendingApproval:r.status===Wi.COMMENT_STATUS.new_commenter_approval_required&&t.is_admin}),(0,e.h)(XA,{comment:r,bodyRef:this.bodyRef,expandToggleClicked:this.expandToggleClicked}),!Tt&&(0,e.h)(GA,{comment:r,pub:M,user:t,post:k,reaction_token:F,commentsEnabledForPost:Yn,hideContextMenu:at,noRestack:pt,onChange:this.onChange,startReply:()=>this.startReply(),startEdit:()=>this.startEdit(),startReport:()=>this.startReport(),openBan:this.openBan,updateCommentReacted:gt})))),Tt&&Yn&&(0,e.h)(eu,{ref:er=>this.commentInput=er,user:t,freeSignup:i,freeSignupEmail:a,pub:M,post:k,parent:r,token:F,onCancel:()=>this.setState({replying:!1}),onSuccess:ge?er=>{this.setState({replying:!1});const rr=C1(nl({},r),{children:[er].concat(r.children)});ge(rr)}:null}),r.childrenSummary&&(0,e.h)("div",{className:"more-replies-container"},(0,e.h)("a",{className:"more-replies",href:(0,el.getCommentUrl)(k,r,M)},r.childrenSummary)),!r.childrenSummary&&B>=T1&&!!r.children.length&&(0,e.h)($t.Z,{className:"outline continue-thread-button",href:(0,el.getCommentUrl)(k,r,M)},xt("Continue Thread \u2192")),!r.childrenSummary&&B<T1&&(0,e.h)(Lc,{key:`comment:${r.id}`,user:t,freeSignup:i,freeSignupEmail:a,pub:M,post:k,comments:r.children,parent:r,reaction_token:F,depth:(B||0)+1,collapseAtDepth:Y,onChange:ge,isChild:!0,scrollRef:Ce,retainUserCollapseState:Se,onStartReply:Ue,noHoverProfile:Ye,onProfileClick:Ve,hideContextMenu:at,updateCommentReacted:gt,noRestack:!0}),!ln&&(0,e.h)("div",{className:"comment-list-collapser",onClick:()=>this.setCollapsed(!0)},(0,e.h)("div",{className:"comment-list-collapser-line"})),qt&&(0,e.h)(rN.Z,{pub:M,comment:r,onClose:this.cancelReport,onReportSuccess:this.onReportSuccess}))}}Hi(I1,"contextType",Pr.kx);const hN=(0,P.fz)(I1);var mN=Object.defineProperty,_N=Object.defineProperties,gN=Object.getOwnPropertyDescriptors,x1=Object.getOwnPropertySymbols,vN=Object.prototype.hasOwnProperty,yN=Object.prototype.propertyIsEnumerable,M1=(n,t,r)=>t in n?mN(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,bN=(n,t)=>{for(var r in t||(t={}))vN.call(t,r)&&M1(n,r,t[r]);if(x1)for(var r of x1(t))yN.call(t,r)&&M1(n,r,t[r]);return n},PN=(n,t)=>_N(n,gN(t));const EN=Et(43174),wN=5,CN=1,D1=16,ON=50,SN=200;function A1(n){return n.reduce((t,r)=>t+1+A1(r.children||[]),0)}function Lc({user:n,freeSignup:t,freeSignupEmail:r,pub:i,post:a,comments:M,reaction_token:k,depth:F,collapseAtDepth:B,onChange:Y,pageSize:ge,retainUserCollapseState:Ce,updateCommentReacted:Se,parent:Ue,scrollRef:Ye,className:Ve,onStartReply:at,noHoverProfile:pt,onProfileClick:gt,hideContextMenu:xt,noRestack:Nt}){const Tt=ge||D1,[Ut,qt]=(0,o.eJ)(Tt),[rn,ln]=(0,o.eJ)(-1),[yn,In]=(0,o.eJ)(null),[En,Yn]=(0,o.eJ)(null),[kn,bn]=(0,o.eJ)(new Set(M.map(({id:Qn})=>Qn))),{iString:er,iPlural:rr}=(0,P.M1)();if((0,o.d4)(()=>{rn>=0&&window.scrollTo(window.scrollX,rn)},[rn]),(M||[]).length===0)return;const[Vn,ar]=EN(M,({id:Qn,user_id:Ln})=>kn.has(Qn)||Ln===(n==null?void 0:n.id)),Jn=Vn.slice(0,Ut);return(0,e.h)("div",{className:l()("comment-list",Ve,{"has-new-comments":ar.length>0})},(0,e.h)(PA,{pub:i,comment:yn,onClose:()=>In(null),onReply:Qn=>{Yn(Qn),In(null)},onBan:(Qn,Ln)=>{Y?Y(PN(bN({},Qn),{user_banned:!0,bans:Ln.concat(Qn.bans)})):document.location.href=Xl(a,i)}}),ar.length>0&&(0,e.h)($t.Z,{className:"collapsed-reply outline",onClick:()=>bn(new Set(M.map(({id:Qn})=>Qn)))},rr("1 new reply","%1 new replies",A1(ar))),(0,e.h)("div",{className:"comment-list-items"},Jn.map(Qn=>(0,e.h)(hN,{banComment:()=>In(Qn),key:`cmt-${Qn.id}`,user:n,freeSignup:t,freeSignupEmail:r,pub:i,post:a,comment:Qn,parent:Ue,reaction_token:k,collapseAtDepth:B,depth:F||0,onChange:Y,replying:En===Qn.id,scrollRef:Ye,retainUserCollapseState:Ce,onStartReply:at,noHoverProfile:pt,onProfileClick:gt,hideContextMenu:xt,noRestack:Nt,updateCommentReacted:Se}))),Vn.length>Jn.length&&(0,e.h)($t.Z,{className:"collapsed-reply outline",onClick:()=>{ln(window.scrollY),qt(Ut+Tt)}},er("Load More")))}var N1=Et(70444),TN=Et(35442),tu=Et(85200);function dp(n){var t;return!!(!n.invite_only&&((t=n.rankingDetailFreeIncluded)!=null&&t.toLowerCase().includes("subscribers"))&&n.rankingDetailFreeIncludedOrderOfMagnitude)}function IN({publication:n,siteConfigs:t={},twitterCardUrl:r=null}){var i;const{getExperimentVariant:a}=(0,Pr.jc)(),{title:M,description:k}=Bc(n,{rankingVariant:dp(n)&&a("seo_meta_subscriber_count_x1",{onlyConsiderExposedValues:!0})||void 0});let F,B;return r?(F=r,B=!0):[F,B]=fp(n,null),(0,O.setMetaData)({title:M,description:k,image:F,isLargeImage:B,pub:n,siteConfigs:t,themeColor:(i=n.theme)==null?void 0:i.web_bg_color})}function Bc(n,{rankingVariant:t,primaryTitleOverride:r,primaryDescriptionOverride:i}={}){var a,M;let k;const F=!!(0,Pi.default)("publication_author_display_override")&&String((0,Pi.default)("publication_author_display_override"))||((a=(0,tu.Im)(n.contributors))==null?void 0:a.owner),B=F&&!((M=n.name)!=null&&M.toLowerCase().includes(F==null?void 0:F.toLowerCase())),Y=r!=null?r:n.name;return B?k=`${Y} | ${F} | Substack`:k=`${Y} | Substack`,{title:k,description:wi()(R1(n,{primaryDescriptionOverride:i,rankingVariant:t}))}}function R1(n,{primaryDescriptionOverride:t,rankingVariant:r}={}){var i,a,M,k;const F=(i=n.name)==null?void 0:i.trim();let B=F;(0,nn.endsWithPunctuation)(F)&&(B=`"${F}"`);const Y=(0,tu.Im)(n.contributors);let ge,Ce,Se;return n.invite_only?(ge=null,Ce=null):(Se=r&&dp(n)&&["treatment_string","treatment_num"].includes(r),Se?r==="treatment_string"?ge=(a=n.rankingDetailFreeIncluded)!=null&&a.toLowerCase().includes("subscribers")?n.rankingDetailFreeIncluded:null:r==="treatment_num"&&(ge=n.rankingDetailFreeIncludedOrderOfMagnitude&&n.rankingDetailFreeIncludedOrderOfMagnitude>0?`${n.rankingDetailFreeIncludedOrderOfMagnitude.toLocaleString()}+ subscribers`:null):ge=(M=n.rankingDetailFreeIncluded)!=null&&M.toLowerCase().includes("subscribers")?n.rankingDetailFreeIncluded.toLowerCase():null,Ce=n.rankingDetailFreeIncluded||n.rankingDetail),(0,tu.ab)(t!=null?t:(k=n.hero_text)==null?void 0:k.trim(),Y,ge,B,Ce,Se)}function kc({publication:n,post:t,siteConfigs:r={},twitterCardUrl:i=null,isCommentPage:a=!1,selection:M=null,pageCanShowSmartBanner:k=!1}){const F=(t==null?void 0:t.social_title)||(t==null?void 0:t.title)||n.name,{title:B,description:Y}=L1(t,n,{isCommentPage:a});let ge,Ce;i?(ge=i,Ce=!0):M?(ge=(0,p.getPostSelectionPreviewUrl)(n,t,M),Ce=!0):[ge,Ce]=fp(n,t);const Se=a&&t&&t.type!=="thread"&&t.comment_count===0||(t==null?void 0:t.type)==="restack";return(0,O.setMetaData)({title:B,socialTitle:F,searchDescription:t==null?void 0:t.search_engine_description,description:Y,image:ge,isLargeImage:Ce,imageHeight:M&&564,imageWidth:M&&1128,seoProps:{noindex:Se,noarchive:!!(t&&t.post_paywall_content_for_google)},isPodcast:(t==null?void 0:t.type)==="podcast",isVideo:(t==null?void 0:t.type)==="video",slug:t==null?void 0:t.slug,pub:n,post:t,siteConfigs:r,appUpsellLink:k&&(0,p.getPostAppLinkUrl)(n.subdomain,t==null?void 0:t.slug,{params:{comments:a?!0:void 0}})})}function L1(n,t,{isCommentPage:r=!1}={}){var i,a;const M=(n==null?void 0:n.social_title)||(n==null?void 0:n.title)||t.name;let k,F;n?F=(0,nn.getPrintedByline)(t,n):F=(0,Pi.default)("publication_author_display_override")||((i=(0,tu.Im)(t.contributors))==null?void 0:i.owner);const B=F&&!((a=t.name)!=null&&a.toLowerCase().includes(F==null?void 0:F.toLowerCase()));n!=null&&n.title?(k=(n==null?void 0:n.search_engine_title)||M,r&&n.type!=="thread"&&(k=`Comments - ${k}`),`${k} - by ${F}`.length<60&&(F&&B&&(k+=` - by ${F}`),`${k} - ${t.name}`.length<60&&(k+=` - ${t.name}`))):B?k=`${t.name} | ${F} | Substack`:k=`${t.name} | Substack`;let Y;return n?Y=(0,nn.postSocialDescription)(n,t):Y=R1(t),Y=wi()(Y),{title:k,description:Y}}function fp(n,t){let r,i;return t!=null&&t.cover_image?(r=(0,p.imginary)(t.cover_image,1200,{height:600,smartCrop:!0,format:"jpg"}),i=!0):n.subdomain==="numlock"?(r=(0,p.imginary)("/img/numlock_square.png?v=2",840),i=!1):(r=(0,p.getTwitterSubscribeCardUrl)(n),i=!0),[r,i]}var xN=Object.defineProperty,B1=Object.getOwnPropertySymbols,MN=Object.prototype.hasOwnProperty,DN=Object.prototype.propertyIsEnumerable,k1=(n,t,r)=>t in n?xN(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,AN=(n,t)=>{for(var r in t||(t={}))MN.call(t,r)&&k1(n,r,t[r]);if(B1)for(var r of B1(t))DN.call(t,r)&&k1(n,r,t[r]);return n};function NN({comment:n,post:t,publication:r}){var i,a,M;const k=`${n.name} on Substack`,F=t&&r?L1(t,r,{isCommentPage:!0}).title:`${k}: "${(0,nn.truncateText)(n.body,280)}"`,B=(i=n.attachments)==null?void 0:i.find(Ve=>Ve.type==="image"),Y=B==null?void 0:B.imageUrl,ge=!1,Ce=ge?680:void 0,Se=ge?680:void 0,Ue=Y!=null?Y:ge?(0,te.imginary)((0,N1.IY)(n.id),Se,{height:Ce}):(0,p.getUserPhotoUrl)(n),Ye=!ge||Y?n.body:"Subscribe to see all their notes.";return(0,e.h)(TN.Metadata,AN({},{title:F,socialTitle:k,description:Ye,image:Ue,imageHeight:Ce,imageWidth:Se,isLargeImage:!0,siteName:r?r.name:"Notes",publishedTime:n.date.toString(),meta:[{name:"twitter:label1",content:"Likes"},{name:"twitter:data1",content:String((a=n.reaction_count)!=null?a:0)},{name:"twitter:label2",content:"Replies"},{name:"twitter:data2",content:String((M=n.children_count)!=null?M:0)}]}))}var U1=Et(49786),rl=Et(69427),RN=Object.defineProperty,LN=(n,t,r)=>t in n?RN(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,BN=(n,t,r)=>(LN(n,typeof t!="symbol"?t+"":t,r),r),kN=(n,t,r)=>new Promise((i,a)=>{var M=B=>{try{F(r.next(B))}catch(Y){a(Y)}},k=B=>{try{F(r.throw(B))}catch(Y){a(Y)}},F=B=>B.done?i(B.value):Promise.resolve(B.value).then(M,k);F((r=r.apply(n,t)).next())});class F1 extends e.Component{onTopReached(){this.state.topReached||(this.setState({topReached:!0}),(0,C.j)(C.FP.POST_SEEN,{post_id:this.props.post.id,post_audience:this.props.post.audience,post_type:this.props.post.type}))}onBottomReached(){this.state.bottomReached||(this.setState({bottomReached:!0}),(0,C.j)(C.FP.POST_BOTTOM_SEEN,{post_id:this.props.post.id,post_audience:this.props.post.audience,post_type:this.props.post.type}))}enableEmailNotifications(){return kN(this,null,function*(){try{yield jn().post(`/api/v1/post/${this.props.post.id}/subscribe`),window.location.reload()}catch(t){console.error("Failed to subscribe to email notifications:",t),alert((0,O.getNetworkErrorMessage)(t))}})}render({className:t,pub:r,post:i,user:a,freeSignup:M,freeSignupEmail:k,isStatic:F,hidden:B,truncated:Y,invisible:ge,post_reaction_token:Ce,onChange:Se,showCta:Ue=Y,showUnsubscribeNotice:Ye,dataForEmailRender:Ve={},showReactions:at=!0,gap:pt=16,iString:gt,iTemplate:xt,iPlural:Nt,language:Tt}){typeof B!="boolean"&&(B=i.hidden);let Ut,qt;B?(Ut=gt("Subscribe to view"),qt=(0,p.pathWithQuery)("/subscribe",{simple:!0,next:document.location.href,utm_source:"thread",utm_medium:"web",utm_content:i.id})):(qt=(0,p.getPostUrl)(r,i,{noBase:!0}),i.type!=="thread"||Y?Ut=(0,nn.getPostCtaText)(i,Tt):i.comment_count?Ut=Nt("View 1 comment","View %1 comments",i.comment_count):Ut=gt("Reply"));const rn=F&&!this.context.isAmp;return(0,e.h)(ao.YF,{className:`thread-head typography ${t||""}`},(0,e.h)("tr",null,(0,e.h)("td",null,(0,e.h)(ao.i$,{width:"100%"},!ge&&!B&&(0,e.h)(ce,{onVisible:()=>this.onTopReached()}),(0,e.h)(ao.i$,{gap:pt,width:"100%"},(0,e.h)(qc,{pub:r,post:i,user:a,isStatic:F,freeSignup:M,freeSignupEmail:k,reaction_token:Ce,allowEdit:!0,allowTruncate:Y,showReactions:!!Ue||at,showShare:!1,showComments:!!i.comment_count,small:!0,inThreadHead:!0,showActiveBadge:!0,onChange:Se,showLabel:!0}),(0,e.h)($l,{user:a,freeSignup:M,freeSignupEmail:k,pub:r,post:i,html:!B&&!Y&&i.body_html,isStatic:F,dataForEmailRender:Ve},B?(0,e.h)("p",null,(0,e.h)("i",null,xt`This thread is only visible to paid subscribers of ${r.name}`)):Y?(0,e.h)("p",null,i.description):null),Ue?(0,e.h)("a",{className:"thread-head-cta",href:qt,native:!0},Ut," \u2192"):B&&(0,e.h)("p",{className:"thread-head-cta"},(0,e.h)("a",{href:(0,p.getSubscribeUrl)(r,{simple:!0,next:document.location.href,utm_source:"thread",utm_medium:"web",utm_content:i.id}),className:"button primary subscribe-btn",native:!F},(0,nn.getSubscribeText)(r)),(0,e.h)("a",{href:(0,p.getSigninUrl)({for_pub:r.subdomain}),className:"button",native:!0},gt("Sign in")))),rn&&(0,e.h)(ao.i$,{gap:pt,style:{width:"100%"}},(0,e.h)(ao.i$,{style:{width:"100%",textAlign:"center"}},(0,e.h)("a",{role:"button",className:"button primary",style:{margin:"0 auto"},href:Ei.Substitutions.HALF_MAGIC_COMMENTS_URL},gt("See the discussion"))),(0,e.h)(Jo.yT,{isFooter:!0,customization:{showShare:!0,showComments:!0,showReactions:{showReactions:at},showRestack:!1,showLabels:!0,showCommentRestack:!0}})),Ye&&i.unsubscribed&&(0,e.h)("div",{className:"notifications-alert"},gt("Email notifications are disabled for this thread.")," ",(0,e.h)("a",{href:"javascript:void(0)",onClick:()=>this.enableEmailNotifications()},gt("Re-enable"))),!ge&&!B&&(0,e.h)(ce,{onVisible:()=>this.onBottomReached()})))))}}BN(F1,"contextType",Of.E);const j1=(0,P.fz)(F1);class UN extends e.Component{render(){return(0,e.h)("div",{className:"thread-head-silhouette"},(0,e.h)("div",{className:"thread-head-silhouette-head"}),(0,e.h)("div",{className:"thread-head-silhouette-content"},(0,e.h)("div",{className:"thread-head-silhouette-title"}),(0,e.h)("div",{className:"thread-head-silhouette-meta"}),(0,e.h)("div",{className:"thread-head-silhouette-body"},(0,e.h)("div",{className:"thread-head-silhouette-body-line"}),(0,e.h)("div",{className:"thread-head-silhouette-body-line"}),(0,e.h)("div",{className:"thread-head-silhouette-body-line"}))))}}const pp=()=>(0,e.h)("div",{className:"comment-silhouette"},(0,e.h)("div",{className:"comment-silhouette-head"}),(0,e.h)("div",{className:"comment-silhouette-content"},(0,e.h)("div",{className:"comment-silhouette-meta"}),(0,e.h)("div",{className:"comment-silhouette-body"}),(0,e.h)("div",{className:"comment-silhouette-actions"})));var FN=Object.defineProperty,jN=Object.defineProperties,WN=Object.getOwnPropertyDescriptors,W1=Object.getOwnPropertySymbols,HN=Object.prototype.hasOwnProperty,VN=Object.prototype.propertyIsEnumerable,H1=(n,t,r)=>t in n?FN(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,KN=(n,t)=>{for(var r in t||(t={}))HN.call(t,r)&&H1(n,r,t[r]);if(W1)for(var r of W1(t))VN.call(t,r)&&H1(n,r,t[r]);return n},$N=(n,t)=>jN(n,WN(t));const zN=n=>(0,e.h)(L.l,$N(KN({},n),{name:"MenuIcon",svgParams:{height:10,width:18}}),(0,e.h)("path",{d:"M1 1L9 9L17 1",stroke:"#999","stroke-width":"1"}));var GN=Object.defineProperty,ZN=(n,t,r)=>t in n?GN(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,YN=(n,t,r)=>(ZN(n,typeof t!="symbol"?t+"":t,r),r);class JN extends e.Component{constructor(){super(...arguments),YN(this,"onSortCommentsClicked",t=>{this.sortMenuRef.toggle(),this.props.onSortSelected(t)})}render({sort:t,loading:r,pub:i}){const a=(0,Pi.default)("like_comments_enabled");return(0,e.h)("div",{className:l()("comments-page-sort-controls",{loading:r})},(0,e.h)("div",{className:"comments-page-sort-menu"},(0,e.h)("button",{className:"comments-page-sort-menu-button",onClick:()=>this.sortMenuRef.toggle()},(0,e.h)("span",{className:"comments-page-sort-menu-button-label"},(0,Wi.Sh)(t,i.language)),(0,e.h)(zN,{height:"6"})),(0,e.h)(zi.ZP,{className:"comments-page-sort-menu-dropdown",ref:M=>this.sortMenuRef=M},(0,Wi.Hz)({likesEnabled:a,language:i.language}).map(({key:M,text:k})=>(0,e.h)(dn.Z,{className:t===M?"selected":"",onClick:()=>this.onSortCommentsClicked(M)},k)))))}}const V1=JN;var XN=Object.defineProperty,QN=Object.defineProperties,qN=Object.getOwnPropertyDescriptors,K1=Object.getOwnPropertySymbols,eR=Object.prototype.hasOwnProperty,tR=Object.prototype.propertyIsEnumerable,hp=(n,t,r)=>t in n?XN(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,mp=(n,t)=>{for(var r in t||(t={}))eR.call(t,r)&&hp(n,r,t[r]);if(K1)for(var r of K1(t))tR.call(t,r)&&hp(n,r,t[r]);return n},nR=(n,t)=>QN(n,qN(t)),_p=(n,t,r)=>(hp(n,typeof t!="symbol"?t+"":t,r),r),nu=(n,t,r)=>new Promise((i,a)=>{var M=B=>{try{F(r.next(B))}catch(Y){a(Y)}},k=B=>{try{F(r.throw(B))}catch(Y){a(Y)}},F=B=>B.done?i(B.value):Promise.resolve(B.value).then(M,k);F((r=r.apply(n,t)).next())});const rR=30*1e3;class $1 extends e.Component{constructor(t,r){super(t,r),_p(this,"modalRef",(0,e.createRef)(null)),_p(this,"onWindowVisibilityChange",()=>{(0,O.isWindowVisible)()?this.loadPost():clearTimeout(this.loadTimeout)}),this.state={},t.post&&t.post.slug===t.slug&&(this.state.post=t.post),this.state.sort=t.sort||this.state.post&&this.state.post.default_comment_sort||t.publication.default_comment_sort||"best_first",this.state.comments=t.initialComments,this.scrollRef=(0,e.createRef)(),this.shareDialogRef=(0,e.createRef)(),this.state.loading=!1,this.state.reactionSigninComment=null}componentDidMount(){return nu(this,null,function*(){var t;const{iString:r}=this.props;if(this.shouldPageShowSmartBanner(),(0,O.onWindowVisibilityChange)(this.onWindowVisibilityChange),!this.props.publication.community_enabled&&!this.props.inline?document.location.href="./":yield this.loadPost(),(t=this.props.matches)!=null&&t.feedCommentUrl){const i=this.props.matches.feedCommentUrl,a=new URL(location.toString());a.searchParams.delete("feedCommentUrl"),history.replaceState({},"",a),this.props.popToast(M=>(0,e.h)(y.FN,nR(mp({},M),{text:r("Note Shared."),cta:r("View Now"),href:i})),{ttl:1e4})}})}componentWillUnmount(){(0,O.offWindowVisibilityChange)(this.onWindowVisibilityChange),clearInterval(this.loadTimeout)}componentDidUpdate(t,r){return nu(this,null,function*(){if(t.slug!==this.props.slug||r.sort!==this.state.sort){const i=this.props.post&&this.props.post.slug===this.props.slug;yield(0,O.setState)(this,{post:i?this.props.post:null,comments:null}),yield this.loadPost()}else if(this.state.post&&this.state.comments&&!this.commentsViewed&&!this.state.loading){let i=0;(0,Wi.hO)(this.state.comments,()=>i++),this.state.post.comment_count!==i&&(this.state.post.comment_count=i,this.setState({post:this.state.post}),this.props.onChange&&this.props.onChange({post:this.state.post}))}})}queueRefresh(){if(!this.commentsViewed&&this.state.comments){this.commentsViewed=!0;const{post:t}=this.state;(0,C.j)(C.FP.COMMENTS_VIEWED,{post_id:t.id,comment_count:this.state.comments.length}),this.props.publication.community_enabled&&!(t.type==="thread"||(0,nn.canSeeComments)(this.props.user,t))&&(0,C.j)(C.FP.COMMENT_PAYWALL_SHOWN,{post_id:t.id,post_type:t.type}),t.type==="thread"&&this.props.user&&Promise.resolve(jn().post(`/api/v1/posts/${t.id}/seen`))}clearTimeout(this.loadTimeout),this.loadTimeout=setTimeout(()=>this.loadPost(),rR)}areCommentsSSRd(){return!!this.props.post}shouldPageShowSmartBanner(){var t,r;let i=!!document.querySelector('meta[name="apple-itunes-app"]');!i&&this.areCommentsSSRd()&&(0,D.isIos)()&&(this.context.exposeExperiment("apple_smart_banners_on_post_pages"),i=this.context.getExperimentVariant("apple_smart_banners_on_post_pages")==="treatment"||((t=this.props.user)==null?void 0:t.id)===263713||((r=this.props.publication)==null?void 0:r.subdomain)==="thirdcluster"),this.setState({pageCanShowSmartBanner:i})}loadPost(){return nu(this,null,function*(){if(this.state.comments&&!(0,O.isWindowVisible)())return;clearTimeout(this.loadTimeout),this.setState({loading:!0});const t=this.state.comments&&this.state.comments.length>0;let r;this.state.comments&&(r=null,(0,Wi.hO)(this.state.comments,i=>{!i.deleted&&i.date&&(!r||i.date>r)&&(r=i.date)}));try{const i=this.props.slug,a=this.state.sort,M={token:this.props.post_reaction_token||"",all_comments:!0,sort:a,last_comment_at:r};this.state.post&&this.props.commentId&&(M.comment_id=this.props.commentId);const k=yield jn().get(this.state.post?`/api/v1/post/${this.state.post.id}/comments`:`/api/v1/posts/${i}`).query(M);if(this.setState({loading:!1}),i!==this.props.slug||a!==this.state.sort)return;let F=this.state.sort;!this.state.post&&k.body.default_comment_sort&&(F=k.body.default_comment_sort),(!this.state.post||!this.state.comments||k.body.comments)&&(yield(0,O.setState)(this,{post:this.state.post||k.body,comments:k.body.comments||[],sort:F}))}catch(i){console.error("Failed to load post:",i),i.statusCode===400&&(yield(0,O.setState)(this,{notAllowedToFetchComments:!0})),this.setState({loading:!1})}!t&&this.state.comments&&this.state.comments.length>0&&(0,O.scrollToHash)(),(0,O.isWindowVisible)()&&this.queueRefresh(),this.triggerShareOnLoad()})}onChange(t){this.setState({comments:Jl(this.state.comments,t)})}onSortSelected(t){this.setState({sort:t}),(0,C.j)(C.FP.COMMENTS_SORTED,{post_id:this.state.post.id,post_type:this.state.post.type,sort:t})}triggerShareOnLoad(){var t;(t=this.shareDialogRef)!=null&&t.current&&(0,p.getQueryItem)("action")==="share"&&(window.history.replaceState({},document.title,(0,p.updateQuery)({action:null})),this.shareDialogRef.current.fromEmail())}_isPub(t){var r;const{publication:i}=this.props;return((r=(i==null?void 0:i.parent_publication)||i)==null?void 0:r.subdomain)===t}render({slug:t,user:r,freeSignup:i,freeSignupEmail:a,publication:M,post_reaction_token:k,inline:F,commentId:B,selectionFromQuery:Y,freeTrialCoupon:ge,show_reaction_upsell:Ce,bannedFromNotes:Se,iString:Ue,iPlural:Ye,iTemplate:Ve},{sort:at,post:pt,comments:gt,notAllowedToFetchComments:xt,reactionSigninComment:Nt,pageCanShowSmartBanner:Tt}){if(!pt||!M.community_enabled)return!F&&(0,e.h)("div",{className:"comments-page"},(0,e.h)("div",{className:"container"},(0,e.h)(UN,null)));const Ut=M.community_enabled&&pt&&pt.write_comment_permissions!=="none",qt=xt||Ut&&!(0,nn.canSeeComments)(r,pt),rn=(ln,yn)=>nu(this,null,function*(){return G1({user:r,reactionToken:k,comments:gt,id:ln,reacted:yn,setComments:In=>this.setState({comments:In}),onNeedsSignin:In=>new Promise(En=>this.setState({reactionSigninComment:In},()=>this.modalRef.current.open(En)))})});return(0,e.h)("div",{className:"comments-page"},B&&(gt==null?void 0:gt.length)>0?(0,e.h)(NN,{comment:gt[0],post:pt,publication:M}):(0,e.h)(kc,{post:pt,publication:M,isCommentPage:!this.props.inline,selection:Y,pageCanShowSmartBanner:Tt}),(0,e.h)(rl.ZP,{ref:this.shareDialogRef,user:r,pub:M,post:pt,reaction_token:k}),!F&&!B&&(0,e.h)("div",{className:"container"},(0,e.h)(j1,{pub:M,post:Object.assign({},pt,{comment_url_override:(0,p.getPostUrl)(M,pt,{comments:!0})}),user:r,freeSignup:i,freeSignupEmail:a,hidden:!(0,nn.isUUID)(t)&&pt.hidden,truncated:pt.type!=="thread",post_reaction_token:k,onChange:ln=>this.setState(ln),showUnsubscribeNotice:!0,gap:0},(0,e.h)("div",{className:"full-container-border"}))),qt&&(0,e.h)("div",{className:"container"},(0,e.h)(Zl,{user:r,freeSignupEmail:a,freeSignup:i,publication:M,post:pt,title:pt.type==="podcast"?Ue("Comments on this episode are for paid subscribers"):Ue("Comments on this post are for paid subscribers"),reauthenticationTitle:Ue("To see the comments, please re-authenticate."),coupon:ge})),pt.type==="thread"||(0,nn.canSeeComments)(r,pt)?(0,e.h)("div",{className:"container"},gt&&(0,e.h)("div",{className:"comments-heading"},Ye("1 Comment","%1 Comments",pt.comment_count)),gt&&gt.length>0&&!Ut&&(0,e.h)(z1,{post:pt}),Ut&&(0,e.h)(eu,{user:r,freeSignup:i,freeSignupEmail:a,pub:M,post:pt,token:k,autoFocus:BA(),onSuccess:ln=>this.setState({comments:[ln].concat(gt)}),bannedFromNotes:Se}),(!gt||gt.length>0)&&!xt&&!B&&(0,e.h)(V1,{sort:at,loading:!gt,onSortSelected:ln=>this.onSortSelected(ln),pub:M}),B&&gt&&(0,e.h)("a",{className:"return-to-thread-link",href:(0,p.getPostUrl)(M,pt,{comments:!0,commentId:B,highlightComment:!0})},Ue("\u2B60 Return to thread")),!gt&&!xt?[(0,e.h)(pp,null),(0,e.h)(pp,null)]:gt.length>0?[(0,e.h)("div",{className:"comment-list-container",ref:this.scrollRef},(0,e.h)(Lc,{key:`post:${pt.id}`,user:r,freeSignup:i,freeSignupEmail:a,pub:M,post:pt,comments:gt,reaction_token:k,depth:0,collapseAtDepth:F?10:gt.length>3&&at==="most_recent_first"?CN:wN,onChange:ln=>this.onChange(ln),pageSize:F||this._isPub("astralcodexten")?SN:pt.type==="thread"?ON:D1,scrollRef:this.scrollRef,retainUserCollapseState:!0,updateCommentReacted:rn,noRestack:!0}))]:null):null,Nt&&(0,e.h)(Os.oq,{comment:Nt,pub:M,user:r,react:()=>rn(Nt.id,!0),modalRef:this.modalRef}),Ce?(0,e.h)(U1.hF,{user:r,pub:M,post:pt}):null)}}_p($1,"contextType",Pr.kx);const gp=(0,y.dd)((0,P.fz)($1)),z1=({post:n})=>{const{iString:t}=(0,P.M1)();return(0,e.h)("div",{className:"locked-comments"},n.type==="podcast"?t("Commenting has been turned off for this episode"):n.type==="adhoc_email"?t("Commenting has been turned off for this email"):t("Commenting has been turned off for this post"))};function G1(n){return nu(this,arguments,function*({user:t,reactionToken:r,comments:i,id:a,reacted:M,setComments:k,onNeedsSignin:F}){var B;const Y=e1(a,i);if(!Y)return;const ge=mp({},Y);(0,Os.E6)(t,ge,M),k(Jl(i.slice(0),ge));try{yield(0,Os.xl)(ge,!0,M,r)}catch(Ce){if((0,Os.E6)(t,ge,!M),k(Jl(i.slice(0),mp({},ge))),((B=Ce.response)==null?void 0:B.statusCode)!==401){alert((0,O.getNetworkErrorMessage)(Ce));return}yield F({comment:ge})}})}const oR=({comments:n,expectedCommentCount:t,inputRef:r,post:i,pub:a,sort:M,token:k,user:F,onAddComment:B,onUpdateComment:Y,onUpdateSort:ge})=>{const Ce=!(0,nn.canSeeComments)(F,i),{iString:Se}=(0,P.M1)();return Ce?(0,e.h)(Zl,{user:F,publication:a,post:i,title:Se("Comments on this episode are for paid subscribers"),reauthenticationTitle:Se("To see the comments, please re-authenticate.")}):(0,e.h)("div",null,(0,e.h)(eu,{ref:r,formClassName:"tw-m-0",user:F,pub:a,post:i,token:k,onSuccess:B}),t>0&&(0,e.h)(V1,{sort:M,loading:!n,onSortSelected:ge,pub:a}),n?(0,e.h)(Lc,{comments:n,post:i,pub:a,reaction_token:k,user:F,onChange:Y,noRestack:!0}):(0,e.h)("div",{className:"tw-mt-4"},_A()(Math.min(t,5),()=>(0,e.h)(pp,null))))};var iR=Et(91613),Z1=Et(25597),aR=Object.defineProperty,sR=Object.defineProperties,lR=Object.getOwnPropertyDescriptors,Y1=Object.getOwnPropertySymbols,uR=Object.prototype.hasOwnProperty,cR=Object.prototype.propertyIsEnumerable,J1=(n,t,r)=>t in n?aR(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,dR=(n,t)=>{for(var r in t||(t={}))uR.call(t,r)&&J1(n,r,t[r]);if(Y1)for(var r of Y1(t))cR.call(t,r)&&J1(n,r,t[r]);return n},fR=(n,t)=>sR(n,lR(t));const X1=n=>(0,e.h)(L.l,fR(dR({},n),{name:"UsersIcon",svgParams:{height:14,width:15,stroke:"#B6B6B6"}}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.91732 12.249V11.0824C9.91732 9.79369 8.87265 8.74902 7.58398 8.74902H2.91732C1.62865 8.74902 0.583984 9.79369 0.583984 11.0824V12.249",fill:"#838383",stroke:"#838383","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.24935 6.41423C6.53801 6.41423 7.58268 5.36956 7.58268 4.08089C7.58268 2.79223 6.53801 1.74756 5.24935 1.74756C3.96068 1.74756 2.91602 2.79223 2.91602 4.08089C2.91602 5.36956 3.96068 6.41423 5.24935 6.41423Z",fill:"#838383",stroke:"#838383","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.8118 12.2659H13.563C13.5622 11.2025 14.0005 8.82373 11.666 8.82373",fill:"#838383",stroke:"#838383","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.33398 1.82227C10.3664 2.08661 11.0886 3.01693 11.0886 4.08268C11.0886 5.14844 10.3664 6.07875 9.33398 6.3431",fill:"#838383",stroke:"#838383","stroke-linecap":"round","stroke-linejoin":"round"}));function Q1({post:n,pub:t,user:r,showDate:i,showDatetime:a,isStatic:M,className:k,postReactionToken:F,onChange:B,allowEdit:Y,hidePinning:ge,showEmailSent:Ce,allowSendEmail:Se,allowMobileFooter:Ue,reactors:Ye,onCommentsClick:Ve,useWashBackground:at,showRestackModal:pt,setFooterShown:gt}){const xt=(0,D.isMobile)({checkFirst4:!0}),Nt=typeof window=="undefined",Tt=(0,$n.xR)(),Ut=(0,nn.getBylineUsers)(n),qt=a?un()(n.post_date).standardDatetime():M?un()(n.post_date).standardDate():un()(n.post_date).standardDateOrTime(),{getSettingFor:rn}=(0,Mn.So)(),ln=t.bylines_enabled&&(0,nn.getPrintedByline)(t,n)&&n.type!=="podcast",yn=ln&&t.byline_images_enabled&&Ut.some(({photo_url:rr})=>!!rr),In=n.type!=="page",En=xt&&yn&&Ut.length>2,Yn=(t==null?void 0:t.community_enabled)&&n.slug&&!n.is_draft&&(0,nn.showCommentsOnPost)({publication:t,post:n}),kn=ln&&Ut.length===1&&Ut[0].is_guest&&Ut[0].primaryPublicationSubscribeUrl&&Ut[0].primaryPublicationId!==t.id&&!t.parent_publication&&!n.is_draft&&!(0,Pi.default)("dont_show_guest_byline"),bn=(0,nn.oxfordComma)(Ut.map(rr=>M?(0,e.h)("a",{className:"byline-profile-link",href:(0,p.getProfileUrl)(rr,t,{base:M}),onClick:Vn=>Vn.stopPropagation()},rr.name):(0,e.h)(he.gq,{inline:!0,gap:4,alignItems:"center"},(0,e.h)(ca.Ct,{subject:rr,utmSource:"byline"},(0,e.h)("a",{className:"byline-profile-link",href:(0,p.getProfileUrl)(rr,t,{base:M}),onClick:Vn=>Vn.stopPropagation()},rr.name)),!M&&(0,e.h)(ho.s,{tier:rr.bestseller_tier,size:"sm",userId:rr.id})))),er=!n.is_draft&&(0,iR.x)(r,{enable_restacking:!!rn("enable_restacking")},n,t,M);return(0,e.h)("div",{className:l()("post-subheader",k)},(0,e.h)("div",{className:l()("left",{vertical:En})},yn&&(M?(0,e.h)(Yl.Pn,{pub:t,post:n}):(0,e.h)(Yl.ZP,{className:"bylines-facepile",maximum:5,hoverProfiles:!0,faces:Ut.map(({id:rr,name:Vn,photo_url:ar})=>({id:rr,name:Vn,photo_url:ar})),faceUtmSource:"author-byline-face",elevated:at})),(0,e.h)("div",{className:"label-stack"},ln&&(0,e.h)("div",{className:"bylines"},(0,e.h)("span",{className:"byline-names"},bn)),kn&&(0,e.h)("div",{className:"guest-author-publication"},"Writes\xA0",(0,e.h)("a",{className:"guest-author-publication-name",href:Ut[0].primaryPublicationUrl,title:Ut[0].primaryPublicationName},Ut[0].primaryPublicationName),"\xA0\xB7\xA0",(0,e.h)("a",{className:"guest-author-publication-subscribe",href:Ut[0].primaryPublicationSubscribeUrl},"Subscribe")),(0,e.h)("div",{className:"publish-context"},n.type==="adhoc_email"?(0,e.h)(X1,{className:"audience-icon adhoc-email-icon",height:16,isStatic:M}):In&&(0,Tr.isPaidAudience)(n.audience)&&(0,e.h)(Z1.Z,{audience:n.audience,className:"audience-icon audience-lock-icon",size:16,isStatic:M,thin:!0}),(i||a)&&n.post_date&&!n.is_draft&&(0,e.h)("time",{dateTime:un()(n.post_date).toISOString()},qt),n.is_draft&&(i||a)&&"Draft"))),(0,e.h)("div",{className:"right"},xt&&!Nt&&Ue&&(0,e.h)(Jo.mt,{post:n,pub:t,user:r,isStatic:M,onChange:B,allowEdit:Y,hidePinning:ge,showEmailSent:Ce,allowSendEmail:Se,hideComments:!Yn,onCommentsClick:Ve,showRestackButton:er,showRestackModal:pt,setFooterShown:gt}),!xt&&(0,e.h)(Jo._2,{post:n,pub:t,user:r,isStatic:M,style:"button",onChange:B,allowEdit:Y,hidePinning:ge,showEmailSent:Ce,allowSendEmail:Se,labelStyle:"counts-or-none",hideComments:!Yn,onCommentsClick:Ve,position:"post-header",showRestackButton:er,showRestackModal:pt})))}const pR=({post:n})=>(0,e.h)("a",{className:"tw-no-underline hover:tw-underline",href:(0,p.pathWithQuery)("/subscribe",{simple:!0,next:document.location.href,utm_source:"paywall",utm_medium:"web",utm_content:n.id}),native:!0},(0,e.h)("div",{className:"podcast-embed tw-flex tw-items-center tw-justify-center tw-gap-3 tw-rounded tw-bg-pub-background tw-p-6 tw-font-sans tw-font-sans tw-text-base tw-shadow"},(0,e.h)(Ll,{className:"tw-fill-pub-accent tw-stroke-0"}),(0,e.h)("span",{className:"tw-text-sm tw-font-semibold tw-text-pub-accent"},"Upgrade to listen")));var hR=Et(22939),mR=Et(99758),_R=Object.defineProperty,gR=Object.defineProperties,vR=Object.getOwnPropertyDescriptors,q1=Object.getOwnPropertySymbols,yR=Object.prototype.hasOwnProperty,bR=Object.prototype.propertyIsEnumerable,ey=(n,t,r)=>t in n?_R(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,PR=(n,t)=>{for(var r in t||(t={}))yR.call(t,r)&&ey(n,r,t[r]);if(q1)for(var r of q1(t))bR.call(t,r)&&ey(n,r,t[r]);return n},ER=(n,t)=>gR(n,vR(t));const ty=n=>(0,e.h)(L.l,ER(PR({},n),{name:"CopyIcon",svgParams:{height:15,width:15}}),(0,e.h)("rect",{x:"4",y:"1",width:"10.2862",height:"10.2862",rx:"1"}),(0,e.h)("rect",{x:"1",y:"4",width:"10.2862",height:"10.2862",rx:"1"}));var wR=Object.defineProperty,CR=Object.defineProperties,OR=Object.getOwnPropertyDescriptors,Uc=Object.getOwnPropertySymbols,ny=Object.prototype.hasOwnProperty,ry=Object.prototype.propertyIsEnumerable,oy=(n,t,r)=>t in n?wR(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,SR=(n,t)=>{for(var r in t||(t={}))ny.call(t,r)&&oy(n,r,t[r]);if(Uc)for(var r of Uc(t))ry.call(t,r)&&oy(n,r,t[r]);return n},TR=(n,t)=>CR(n,OR(t)),IR=(n,t)=>{var r={};for(var i in n)ny.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Uc)for(var i of Uc(n))t.indexOf(i)<0&&ry.call(n,i)&&(r[i]=n[i]);return r};const xR=n=>{var t=n,{strokeWidth:r=1.5}=t,i=IR(t,["strokeWidth"]);return(0,e.h)(L.l,TR(SR({},i),{strokeWidth:r,name:"SendIcon",svgParams:{height:20,width:20,viewBox:"0 0 20 20"}}),(0,e.h)("path",{d:"M18.3332 1.66699L12.4998 18.3337L9.1665 10.8337L1.6665 7.50033L18.3332 1.66699Z","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M18.3332 1.66699L9.1665 10.8337","stroke-linecap":"round","stroke-linejoin":"round"}))};var iy=Et(46209);const ay=[{name:"Choose installed player",ios:!1,android:!0,desktop:!1,icon:"/img/podcast-app-icons/generic-orange-microphone.svg?v=1",onClick:n=>{document.location.href=`itpc://${(0,p.stripProtocol)(n)}`}},{name:"Apple Podcasts",ios:!0,android:!1,desktop:!0,icon:"/img/podcast-app-icons/apple-podcasts.svg?v=1",onClick:n=>{document.location.href=`podcast://${(0,p.stripProtocol)(n)}`}},{name:"Google Podcasts",ios:!0,android:!0,desktop:!1,icon:"/img/podcast-app-icons/google-podcasts.svg?v=1",onClick:n=>{document.location.href=`googlepodcasts://subscribe-by-rss-feed?feed=${Buffer.from(n).toString("base64")}`}},{name:"Overcast",ios:!0,android:!1,desktop:!0,icon:"/img/podcast-app-icons/overcast.svg?v=1",onClick:n=>{document.location.href=`overcast://x-callback-url/add?url=${encodeURIComponent(n)}`}},{name:"Pocket Casts",ios:!0,android:!0,desktop:!1,icon:"/img/podcast-app-icons/pocketcasts.svg?v=1",onClick:n=>{document.location.href=`pktc://subscribe/${(0,p.stripProtocol)(n)}`}},{name:"Downcast",ios:!0,android:!1,desktop:!1,icon:"/img/podcast-app-icons/downcast.svg?v=1",onClick:n=>{document.location.href=`downcast://${(0,p.stripProtocol)(n)}`}},{name:"Podcast Addict",ios:!1,android:!0,desktop:!1,icon:"/img/podcast-app-icons/podcast-addict.svg?v=1",onClick:n=>{document.location.href=`podcastaddict://${(0,p.stripProtocol)(n)}`}},{name:"Castro",ios:!0,android:!1,desktop:!1,icon:"/img/podcast-app-icons/castro.svg?v=1",onClick:n=>{(0,O.copyToClipboard)(n),document.location.href=`castros://subscribe/${(0,p.stripProtocol)(n)}`}},{name:"Radio Public",ios:!0,android:!0,desktop:!1,icon:"/img/podcast-app-icons/radiopublic.svg?v=1",onClick:n=>{document.location.href=`https://radiopublic.com/${encodeURIComponent(n)}`}}],sy=({className:n,pub:t,utmSource:r})=>{const i=typeof window!="undefined"?window.location.href:"",a=(0,te.getSubscribeUrl)(t,{params:{utm_source:r,simple:!0,next:i}});return(0,e.h)($t.Z,{className:l()("primary tw-text-sm tw-font-semibold",n),href:a},(0,nn.getSubscribeText)(t))};var MR=Object.defineProperty,Fc=Object.getOwnPropertySymbols,ly=Object.prototype.hasOwnProperty,uy=Object.prototype.propertyIsEnumerable,cy=(n,t,r)=>t in n?MR(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,dy=(n,t)=>{for(var r in t||(t={}))ly.call(t,r)&&cy(n,r,t[r]);if(Fc)for(var r of Fc(t))uy.call(t,r)&&cy(n,r,t[r]);return n},DR=(n,t)=>{var r={};for(var i in n)ly.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Fc)for(var i of Fc(n))t.indexOf(i)<0&&uy.call(n,i)&&(r[i]=n[i]);return r},AR=(n,t,r)=>new Promise((i,a)=>{var M=B=>{try{F(r.next(B))}catch(Y){a(Y)}},k=B=>{try{F(r.throw(B))}catch(Y){a(Y)}},F=B=>B.done?i(B.value):Promise.resolve(B.value).then(M,k);F((r=r.apply(n,t)).next())});const NR=Et(39776),RR="hide_media_download_option",LR="https://support.substack.com/hc/en-us/articles/4519588148244-How-do-I-listen-to-episodes-on-my-podcast-app-",BR=({feedUrl:n,post:t,pub:r,sectionId:i,hasAccessToPrivatePodcastFeed:a,fileSrc:M})=>{const[k,F]=(0,o.eJ)(!1),[B,Y]=(0,hR.E)(),{iString:ge}=(0,P.M1)();return(0,e.h)("div",{className:"tw-relative"},(0,e.h)("div",{className:l()("audio-button tw-flex tw-cursor-pointer tw-items-center tw-justify-center tw-gap-3 tw-rounded tw-border tw-border-solid tw-px-5 tw-py-3 tw-text-sm tw-font-semibold tw-text-pub-secondary-text tw-transition-colors sm:tw-py-2",k?"tw-border-pub-detail-dark":"tw-border-pub-detail-light hover:tw-border-pub-detail"),role:"button",onClick:Y},(0,e.h)("span",{className:"sm:tw-hidden"},ge("Open in player")),(0,e.h)("span",{className:"tw-hidden sm:tw-block"},ge("Listen on")),(0,e.h)(mR.Z,{className:"tw-hidden tw-fill-pub-secondary-text tw-stroke-pub-secondary-text sm:tw-block",height:4})),(0,e.h)(kR,{feedUrl:n,menuRef:B,post:t,pub:r,sectionId:i,onToggle:F,hasAccessToPrivatePodcastFeed:a,fileSrc:M}))},kR=({feedUrl:n,menuRef:t,post:r,pub:i,sectionId:a,onToggle:M,hasAccessToPrivatePodcastFeed:k,fileSrc:F})=>{const B=(0,O.isMobileBrowser)(),Y=()=>{(0,C.j)(C.FP.PODCAST_FEED_URL_COPIED),(0,O.copyToClipboard)(n),alert("Copied")},ge=()=>{(0,C.j)(C.FP.PODCAST_APP_LINK_CLICK,{appName:"Substack App",feedUrl:n}),document.location.href=(0,p.getPostAppLinkUrl)(i==null?void 0:i.subdomain,r==null?void 0:r.slug,{redirect:"app-marketing",source:"podcast-dropdown"})};return(0,e.h)(zi.ZP,{ref:t,noTail:!0,noList:!0,noPlace:!0,useDrawerOnMobile:!0,className:"tw-right-0 tw-border-pub-wash tw-bg-pub-background tw-p-0 tw-font-sans tw-transition sm:tw-max-w-none",wrapperClassName:"tw-max-h-[90vh]",onToggle:({active:Ce})=>{(0,C.j)(C.FP.PODCAST_LISTEN_ON_CLICKED),M(Ce)}},B?(0,e.h)(UR,{feedUrl:n,pub:i,onCopyFeed:Y,onClickSubstackApp:ge,hasAccessToPrivatePodcastFeed:k,fileSrc:F}):(0,e.h)(FR,{feedUrl:n,pub:i,sectionId:a,onCopyFeed:Y,onClickSubstackApp:ge,hasAccessToPrivatePodcastFeed:k,fileSrc:F}))},fy=({fileSrc:n})=>NR.getConfigFor(RR)?null:(0,e.h)(ru,{onClick:()=>{(0,O.downloadSrc)((0,p.updateQuery)(n,{download:!0}))}},(0,e.h)("div",{className:"tw-flex tw-w-6 tw-justify-center"},(0,e.h)(rp.Z,null)),(0,e.h)("span",null,"Download MP3")),UR=({feedUrl:n,pub:t,onCopyFeed:r,onClickSubstackApp:i,hasAccessToPrivatePodcastFeed:a,fileSrc:M})=>{var k;const{iString:F}=(0,P.M1)(),B=["Podcast Addict"],Y=[F("Apple Podcasts")];return(0,e.h)("div",{className:"tw-px-2 tw-pt-5 tw-pb-6"},(0,e.h)("div",{className:"tw-mb-2 tw-px-2 tw-text-xl tw-font-bold tw-text-pub-primary-text"},F("Listen in app")),(0,O.isIOs)()&&(0,e.h)(ru,{onClick:i},(0,e.h)("div",{className:"tw-flex tw-w-6 tw-justify-center"},(0,e.h)(iy.Z,null)),(0,e.h)("span",null,F("Substack App"))),n&&ay.filter(ge=>(0,O.isIOs)()?Y.includes(ge.name):B.includes(ge.name)).map(({name:ge,icon:Ce,onClick:Se})=>(0,e.h)(ru,{key:ge,onClick:()=>{(0,C.j)(C.FP.PODCAST_APP_LINK_CLICK,{appName:ge,feedUrl:n}),Se(n)}},(0,e.h)("img",{src:Ce,alt:`${ge} logo`,className:"tw-w-6"}),(0,e.h)("span",{className:"tw-whitespace-nowrap"},ge))),(0,e.h)(fy,{fileSrc:M}),n?(0,e.h)("div",{className:"tw-px-2 tw-pt-2"},(0,e.h)("div",{className:"tw-mb-4 tw-text-base tw-font-bold"},F("Private RSS feed")),(0,e.h)("div",{className:"tw-mb-6 tw-text-sm tw-text-pub-secondary-text"},F("Listen to paid episodes on your favorite podcast app with your private RSS feed.")," ",(0,e.h)(Wc,null)),(0,e.h)("div",null,(0,e.h)(jc,{className:"tw-w-full",onClick:r},(0,e.h)(ty,{className:"tw-stroke-pub-secondary-text"}),(0,e.h)("span",null,F("Copy link"))))):a?(0,e.h)("div",{className:"tw-mt-3 tw-border-0 tw-border-t tw-border-solid tw-border-pub-detail-light tw-px-2 tw-pt-6 tw-text-sm"},(0,e.h)("div",{className:"tw-mb-2 tw-font-bold"},F("Private RSS feed")),(0,e.h)("div",{className:"tw-mb-6 tw-text-pub-secondary-text"},F("Listen to paid episodes on your favorite podcast app with your private RSS feed.")),(0,e.h)("div",null,(0,e.h)(py,{pub:t}))):(0,e.h)("div",{className:"tw-mt-3 tw-border-0 tw-border-t tw-border-solid tw-border-pub-detail-light tw-px-2 tw-pt-6 tw-text-sm"},(0,e.h)("div",{className:"tw-mb-2 tw-font-bold"},"Subscribe to ",(k=t.podcast_title)!=null?k:"this podcast"),(0,e.h)("div",{className:"tw-mb-6 tw-text-pub-secondary-text"},F("Subscribe now to get a private link for listening in your favorite podcast player or listen in the Substack app.")," ",(0,e.h)(Wc,null)),(0,e.h)(sy,{className:"tw-w-full",pub:t,utmSource:"podcast_post_listen_on"})))},FR=({feedUrl:n,pub:t,sectionId:r,onCopyFeed:i,onClickSubstackApp:a,hasAccessToPrivatePodcastFeed:M,fileSrc:k})=>{const[F,B]=(0,o.eJ)(!1),[Y,ge]=(0,o.eJ)(null),{iString:Ce,iTemplate:Se}=(0,P.M1)(),Ue=()=>AR(void 0,null,function*(){try{(0,C.j)(C.FP.PODCAST_EMAIL_LINK_CLICKED),yield jn().post("/api/v1/subscription/send_podcast_email").send({section_id:r}),alert(Ce("Email sent")),B(!0)}catch(at){console.error("Failed to send podcast setup email:",at),ge(at)}}),Ye=[Ce("Apple Podcasts")],Ve=[];return(0,e.h)("div",{className:"tw-min-w-[280px] tw-px-2 tw-py-2"},(0,e.h)("div",{className:"tw-border-0 tw-border-b tw-border-solid tw-border-pub-detail-light tw-pb-2"},(0,e.h)(ru,{onClick:a},(0,e.h)("div",{className:"tw-flex tw-w-6 tw-justify-center"},(0,e.h)(iy.Z,null)),(0,e.h)("span",null,"Substack App")),n&&ay.filter(at=>(0,O.isMac)()?Ye.includes(at.name):Ve.includes(at.name)).map(({name:at,icon:pt,onClick:gt})=>(0,e.h)(ru,{key:at,onClick:()=>{(0,C.j)(C.FP.PODCAST_APP_LINK_CLICK,{appName:at,feedUrl:n}),gt(n)}},(0,e.h)("img",{src:pt,alt:`${at} logo`,className:"tw-w-6"}),(0,e.h)("span",{className:"tw-whitespace-nowrap"},at))),(0,e.h)(fy,{fileSrc:k})),(0,e.h)("div",{className:"tw-p-2 tw-pt-4 tw-text-sm"},n?(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"tw-mb-2 tw-font-bold"},Ce("Your private RSS feed")),(0,e.h)("div",{className:"tw-mb-6 tw-text-pub-secondary-text"},Ce("Copy your RSS link and paste it in your podcast app.")," ",(0,e.h)(Wc,null)),(0,e.h)("div",{className:"tw-flex tw-gap-2"},(0,e.h)(jc,{onClick:i},(0,e.h)(ty,{className:"tw-stroke-pub-secondary-text",strokeWidth:1.5}),(0,e.h)("span",null,Ce("Copy link"))),(0,e.h)(jc,{onClick:Ue,disabled:F},(0,e.h)(xR,{className:"tw-stroke-pub-secondary-text"}),(0,e.h)("span",null,Ce("Email link")))),Y&&(0,e.h)("div",{className:"tw-mt-2 tw-text-red-600"},(0,O.getNetworkErrorMessage)(Y))):M?(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"tw-mb-2 tw-font-bold"},Ce("Your private RSS feed")),(0,e.h)("div",{className:"tw-mb-6 tw-text-pub-secondary-text"},Ce("Listen to paid episodes on your favorite podcast app with your private RSS feed.")),(0,e.h)("div",null,(0,e.h)(py,{pub:t}))):(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"tw-mb-2 tw-font-bold"},Ce("Get a private RSS link for listening")),(0,e.h)("div",{className:"tw-mb-6 tw-text-pub-secondary-text"},t.podcast_title?Se`Subscribe to ${t.podcast_title} to get a private link for listening in your favorite podcast player.`:Ce("Subscribe to this podcast to get a private link for listening in your favorite podcast player.")," ",(0,e.h)(Wc,null)),(0,e.h)(sy,{pub:t,utmSource:"podcast_post_listen_on"}))))},ru=n=>{var t=n,{children:r,href:i}=t,a=DR(t,["children","href"]);const M="tw-box-border tw-flex tw-items-center tw-gap-3 tw-whitespace-nowrap tw-rounded tw-py-3 tw-px-2 tw-text-base tw-font-bold tw-text-pub-primary-text tw-transition-colors hover:tw-bg-pub-wash sm:tw-gap-2 sm:tw-py-2 sm:tw-text-sm sm:tw-font-medium";return i?(0,e.h)("a",dy({className:l()("tw-no-underline",M),href:i},a),r):(0,e.h)("div",dy({className:l()("tw-cursor-pointer",M),role:"button"},a),r)},jc=({children:n,className:t="",disabled:r=!1,onClick:i})=>(0,e.h)($t.Z,{className:l()("outline-grayscale tw-flex tw-items-center tw-justify-center tw-gap-3 tw-border-pub-detail-light tw-text-sm tw-font-medium tw-text-pub-secondary-text hover:tw-border-pub-detail",t),onClick:i,disabled:r},n),Wc=()=>{const{iString:n}=(0,P.M1)();return(0,e.h)("a",{href:LR,target:"_blank",rel:"noopener",className:"tw-text-pub-accent"},n("Learn about RSS."))},py=({pub:n})=>{const{iString:t}=(0,P.M1)();return(0,e.h)(jc,{className:"tw-w-full",onClick:()=>{}},(0,e.h)(dn.Z,{className:"tw-stroke-pub-secondary-text tw-no-underline",href:(0,p.getPodcatcherSetupUrl)(n),onClick:()=>{}},t("Set up feed")))},jR=BR;var WR=(n,t,r)=>new Promise((i,a)=>{var M=B=>{try{F(r.next(B))}catch(Y){a(Y)}},k=B=>{try{F(r.throw(B))}catch(Y){a(Y)}},F=B=>B.done?i(B.value):Promise.resolve(B.value).then(M,k);F((r=r.apply(n,t)).next())});const HR=({isFreeSubscribed:n,isSubscribed:t,pub:r,post:i,magicToken:a,onGetDuration:M,isPreview:k,playerRef:F})=>{const[B,Y]=(0,o.eJ)(null);return(0,o.d4)(()=>{if(!t&&!n)return;(()=>WR(void 0,null,function*(){const Ce=yield jn().get("/api/v1/subscription/podcast_rss_url").query({token:a,section_id:i.section_id});Ce.body.podcast_rss_url&&Y(Ce.body.podcast_rss_url)}))()},[n,t,a]),(0,e.h)(cc,{ref:F,feature:"Podcast",pub:r,src:i.podcast_url,duration:i.podcast_duration,autoPlay:!1,metricsPost:i,addToPodcastLink:null,onGetDuration:M,render:({currentTime:ge,isPlaying:Ce,progress:Se,progressBarRef:Ue,progressBarOnMouseDown:Ye,remainingTime:Ve,playbackRate:at,setPlaybackRate:pt,skipBack:gt,skipForward:xt,togglePlayback:Nt})=>(0,e.h)("div",{className:"podcast-embed tw-select-none tw-items-center tw-space-y-4 tw-rounded tw-bg-pub-background tw-p-6 tw-font-sans tw-shadow sm:tw-flex sm:tw-gap-4 sm:tw-space-y-0"},(0,e.h)("div",{className:"tw-flex tw-items-center tw-justify-between tw-gap-4"},(0,e.h)("div",{className:"tw-w-16 sm:tw-hidden"},"\xA0"),(0,e.h)(uI,{isPlaying:Ce,onSkipBack:gt,onSkipForward:xt,onTogglePlayback:Nt}),(0,e.h)("div",{className:"tw-flex tw-w-16 tw-justify-end sm:tw-w-auto"},(0,e.h)(bf,{onSetPlaybackRate:pt,playbackRate:at,className:"audio-button tw-w-12 tw-cursor-pointer tw-rounded-full tw-border-0 tw-border-solid tw-border-pub-detail-light tw-py-1 tw-text-center tw-font-meta tw-text-sm tw-font-semibold tw-leading-none tw-text-pub-primary-text hover:tw-border-pub-detail sm:tw-border sm:tw-text-pub-secondary-text"}))),(0,e.h)(yf,{currentTime:ge,remainingTime:Ve,containerRef:Ue,progress:Se,onMouseDown:Ye}),k?(0,e.h)("div",{className:"tw-m-auto tw-w-min tw-whitespace-nowrap tw-rounded-full tw-bg-pub-detail-light tw-py-1 tw-px-3 tw-font-meta tw-text-xs tw-font-medium tw-leading-5 tw-text-pub-secondary-text"},"FREE PREVIEW"):(0,e.h)(jR,{feedUrl:B,post:i,pub:r,sectionId:i.section_id,hasAccessToPrivatePodcastFeed:t||n,fileSrc:i.podcast_url}))})},VR=({expiry:n,podcastName:t,pub:r,postId:i})=>{const a=un()(n).calendar(null,{sameDay:"[today]",nextDay:"[tomorrow]",nextWeek:"MMMM D",sameElse:"MMMM D"});return(0,e.h)("div",{className:"tw-co tw-mt-12 tw-flex tw-flex-col tw-items-center tw-rounded-md tw-text-center"},(0,e.h)("div",{className:"tw-leading-5 md:tw-w-3/4"},(0,e.h)("p",{className:"tw-mb-2 tw-font-sans tw-text-lg tw-font-bold"},"Set up your subscription"),(0,e.h)("p",{className:"podcast-description tw-mb-4 tw-font-sans tw-text-base tw-text-pub-secondary-text"},"Your complimentary subscription to ",t," ends ",a,". To keep access and continue your support, finish setting up your subscription.")),(0,e.h)(ua.z,{look:"button",variant:"themed-primary",size:"medium",href:(0,p.getSubscribeUrl)(r,{utm_source:"continue_your_support",utm_medium:"web",utm_content:i,simple:!0,next:document.location.href})},"Continue your support"))},KR=({freeSignupEmail:n,pub:t,source:r,user:i,onSuccess:a})=>{const M=typeof window!="undefined"&&t.hostname!==window.location.hostname.replace(/[.]localhost$/,"");return(0,e.h)("div",{className:"inline-free-email-form"},(0,e.h)(Be.Z,{user:i,pub:t,freeSignupEmail:n,source:r,onSuccess:a,useSubscribeLink:M,submitButtonText:(0,nn.getSubscribeText)(t)}))},vp="podcast_post_header",$R=({freeSignupEmail:n,isFreeSubscribed:t,pub:r,user:i})=>{const[a,M]=(0,o.eJ)(!1),[k,F]=(0,o.eJ)(!1),B=(0,o.sO)(null),Y=r.section?r.section.description:r.podcast_description,ge=Se=>{if(r.plans){let Ue=(0,p.getSubscribeUrl)(r,{just_signed_up:!0,referral_token:Se.body.referral_token});Se.body.prompt_to_login&&(Ue=`/account/login?redirect=${encodeURIComponent(Ue)}&email=${encodeURIComponent(Se.body.email)}`),document.location.href=Ue}else window.location.reload()},Ce=(0,o.I4)(()=>{M(!a)},[M,a]);return(0,o.bt)(()=>{const Se=()=>{const Ye=B.current&&B.current.scrollHeight>B.current.clientHeight;F(a||Ye)};Se();const Ue=(0,O.debounce)(Se);return window.addEventListener("resize",Ue),()=>{window.removeEventListener("resize",Ue)}},[F,B,a]),(0,e.h)("div",{className:"tw-mt-6 tw-text-center"},Y&&(0,e.h)("div",{className:"podcast-description tw-mb-6 tw-font-sans tw-text-base tw-text-pub-secondary-text"},(0,e.h)("span",{ref:B,"data-testid":"podcast-description",className:l()({"podcast-description--clamped":!a})},Y),k&&(0,e.h)("span",{className:"tw-cursor-pointer tw-font-bold",onClick:Ce},!a&&(0,e.h)("span",null,"show more"),a&&(0,e.h)("span",null," show less"))),t?(0,e.h)($t.Z,{href:(0,p.getSubscribeUrl)(r,{utm_source:vp}),className:"primary tw-w-full tw-text-sm tw-font-semibold sm:tw-w-auto"},(0,nn.getSubscribeText)(r,{isFreeSubscribed:!0})):(0,O.isMobileBrowser)()?(0,e.h)($t.Z,{href:(0,p.getSubscribeUrl)(r,{utm_source:vp,simple:!0,next:document.location.href}),className:"primary tw-w-full tw-text-sm tw-font-semibold sm:tw-w-auto"},(0,nn.getSubscribeText)(r)):(0,e.h)(he.gq,{justifyContent:"center"},(0,e.h)(KR,{freeSignupEmail:n,pub:r,source:vp,user:i,onSuccess:ge})))},zR={facepile:"frontend-podcast_post_page-PodcastPostHeader-module__facepile--_7Aou"},GR=({freeSignupEmail:n,isFreeSignup:t,isPaywall:r,post:i,pub:a,magicToken:M,user:k,onChange:F,onClickCommentButton:B,onTopReached:Y,playerRef:ge})=>{var Ce;const[Se,Ue]=(0,o.eJ)((Ce=i.podcast_duration)!=null?Ce:0),Ye=Tt=>{Ue(Tt)},Ve=!!(k!=null&&k.is_subscribed),at=!!(t||k!=null&&k.is_free_subscribed),pt=!at||!Ve&&!!a.plans,gt=Ve&&(k==null?void 0:k.subscription_type)==="comp"&&un()(k==null?void 0:k.subscription_expiry).subtract(30,"days").isBeforeNow(),xt=at&&!Ve&&(k==null?void 0:k.comp_expired_recently),Nt=(0,nn.getBylineUsers)(i).sort((Tt,Ut)=>Tt.id===a.author_id?-1:Ut.id===a.author_id?1:Tt.is_guest&&!Ut.is_guest?-1:!Tt.is_guest&&Ut.is_guest?1:(Tt.name||"").localeCompare(Ut.name||""));return(0,e.h)("div",{className:"tw-bg-pub-wash tw-py-8 sm:tw-pb-16"},(0,e.h)("div",{className:"container"},(0,e.h)(ZR,{post:i,podcastDuration:Se}),(0,e.h)(Q1,{allowEdit:k==null?void 0:k.is_contributor,allowMobileFooter:!0,isStatic:!1,post:i,postReactionToken:M,pub:a,showDate:!0,showDatetime:!1,user:k,onChange:F,onCommentsClick:B,useWashBackground:!0}),(0,e.h)(ce,{onVisible:Y}),r&&!(0,li.podcastPostIsFreePreview)(i)?(0,e.h)(pR,{post:i}):(0,e.h)(HR,{isFreeSubscribed:at,isSubscribed:Ve,post:i,pub:a,magicToken:M,onGetDuration:Ye,isPreview:(0,li.podcastPostIsFreePreview)(i),playerRef:ge}),a.bylines_enabled&&Nt&&Nt.length?(0,e.h)(he.hs,{direction:"column",gap:24,paddingTop:24},(0,e.h)(I.xv.H4,{translated:!0,color:"pub-primary-text"},"Appears in this episode"),Nt.map(Tt=>(0,e.h)(he.hs,{direction:"column",gap:24},(0,e.h)(he.hs,{direction:"row",alignItems:"center",gap:16},(0,e.h)(he.hs,null,(0,e.h)(Yl.ZP,{className:zR.facepile,maximum:1,hoverProfiles:!0,faces:[Tt],faceUtmSource:"author-byline-face-podcast",elevated:!0})),(0,e.h)(he.hs,{direction:"column"},(0,e.h)(he.gq,{gap:4,alignItems:"center"},(0,e.h)(I.xv.B4,{color:"pub-primary-text",weight:"bold"},Tt.name),(0,e.h)(ho.s,{userId:Tt.id,tier:Tt.bestseller_tier,size:"sm"})),Tt.primaryPublicationName&&(Tt.primaryPublicationUrl?(0,e.h)(I.xv.B4,{color:"pub-secondary-text",translated:!0},"Writes"," ",(0,e.h)("a",{style:{textDecoration:"none"},href:Tt.primaryPublicationUrl},I18N.p(Tt.primaryPublicationName))," ",(0,e.h)("a",{href:`${Tt.primaryPublicationUrl}/subscribe`},"Subscribe")):(0,e.h)(I.xv.B4,{color:"pub-secondary-text",translated:!0},"Writes ",I18N.p(Tt.primaryPublicationName)))))))):null,gt||xt?(0,e.h)(VR,{expiry:k.subscription_expiry,postId:i.id,podcastName:a.podcast_title,pub:a}):pt?(0,e.h)($R,{freeSignupEmail:n,isFreeSubscribed:at,pub:a,user:k}):null))};function ZR({post:n,podcastDuration:t}){const{language:r}=(0,P.M1)();return(0,e.h)("div",{className:"tw-items-end tw-gap-8 sm:tw-flex"},n.podcast_episode_image_url&&(0,e.h)("div",{className:"tw-mx-auto tw-mb-6 tw-box-border tw-h-32 tw-w-32 tw-shrink-0 tw-overflow-hidden tw-rounded-lg tw-border-4 tw-border-solid tw-border-white tw-bg-gray-400 tw-shadow-md sm:tw-mx-0 sm:tw-mb-0 sm:tw-h-56 sm:tw-w-56"},(0,e.h)("img",{className:"tw-h-full tw-w-full tw-object-cover",src:(0,te.imginary)(n.podcast_episode_image_url,512,{height:512,crop:"fill"})})),(0,e.h)("div",{className:"tw-text-center sm:tw-text-left"},(0,e.h)("div",{className:"tw-mb-1 tw-font-sans tw-text-sm tw-font-semibold tw-uppercase tw-text-pub-secondary-text"},n.post_date?un()(n.post_date).locale(r).standardDate():un()().locale(r).standardDate(),t>0&&` \u2022 ${(0,nn.formatPodcastDuration)(t)}`),n.title&&(0,e.h)("h1",{className:l()("tw-mt-0 tw-mb-2 tw-leading-tight sm:tw-mb-1",{"tw-text-3xl sm:tw-text-4xl":n.title.length<60,"tw-text-3xl sm:tw-text-3xl":n.title.length>=60&&n.title.length<110,"tw-text-2xl sm:tw-text-2xl":n.title.length>=110&&n.title.length<140,"tw-text-xl sm:tw-text-xl":n.title.length>=140})},n.title),n.subtitle&&(0,e.h)("h3",{className:l()("tw-my-0 tw-font-sans tw-font-normal tw-text-pub-secondary-text",{"tw-text-lg":n.subtitle.length<110,"tw-text-base":n.subtitle.length>=110})},n.subtitle)))}function mz({post:n,pub:t,user:r,isPaywall:i}){const a=!!(r!=null&&r.is_subscribed),M=!!(r.is_subscribed||r.is_free_subscribed),k="";return i&&!podcastPostIsFreePreview(n)?h(PodcastAudioPaywall,{post:n}):h(PodcastPostAudioPlayer,{isFreeSubscribed:M,isSubscribed:a,post:n,pub:t,magicToken:k,isPreview:podcastPostIsFreePreview(n)})}const YR=(0,Oo.Z)("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]]);var JR=Et(77951);const XR={small:"tw-py-2 tw-px-3",medium:"tw-py-3 tw-px-4",large:"tw-py-6 tw-px-4"},QR=({label:n,icon:t,isActive:r=!1,size:i,onClick:a,useSubstackTheme:M=!1,isDisabled:k=!1})=>{const F=XR[i];return(0,e.h)("div",{className:l()("tw-flex tw-items-center tw-gap-2 tw-border-y-2 tw-border-x-0 tw-border-solid tw-border-y-transparent tw-font-sans tw-text-sm tw-font-semibold tw-transition-colors ",F,{"tw-cursor-pointer":!k||r,"tw-cursor-not-allowed tw-opacity-50":k&&!r,"tw-border-b-pub-primary-text tw-text-pub-primary-text":r&&!M,"tw-text-pub-secondary-text":!r&&!M,"tw-border-b-substack-primary tw-text-substack-primary":r&&M,"tw-text-substack-secondary":!r&&M,"hover:tw-bg-pub-wash":!M&&!r&&!k,"hover:tw-bg-substack-wash":M&&!r&&!k}),disabled:k,onClick:k?()=>{}:a,role:"button"},typeof t=="function"?t({active:r}):t,(0,e.h)("span",null,n))},qR=({items:n,size:t="large",onSelect:r,activeTab:i,useSubstackTheme:a=!1,className:M})=>(0,e.h)("div",{className:l()("tw-flex",M)},n.map(({key:k,icon:F,label:B,isDisabled:Y})=>(0,e.h)(QR,{isActive:k==i,icon:F,onClick:()=>{r(k)},size:t,label:B,useSubstackTheme:a,isDisabled:Y}))),eL=({activeTab:n,commentCount:t,onClickTab:r,loadedWithHeaderLink:i,transcription:a,hideComments:M})=>{const{iString:k,iPlural:F}=(0,P.M1)(),[B,Y]=(0,o.eJ)(i);return(0,o.d4)(()=>{if(typeof window=="undefined"||B){Y(!1);return}window.history.replaceState?window.history.replaceState(null,null,`#${n}`):window.location.hash=`#${n}`},[n]),(0,e.h)("div",{className:"tw-border tw-border-solid tw-border-pub-detail-light"},(0,e.h)("div",{className:"container"},(0,e.h)(qR,{items:[{key:"details",icon:(0,e.h)(YR,{height:18}),label:k("Episode details")},...M?[]:[{key:"comments",icon:({active:ge})=>(0,e.h)(Id.Z,{className:l()("tw-fill-transparent",ge?"tw-stroke-pub-primary-text":"tw-stroke-pub-secondary-text"),height:18,strokeWidth:1.5}),label:t===0?k("Comments"):F("%1 comment","%1 comments",t)}],...a?[{key:"transcription",icon:(0,e.h)(JR.Z,{height:18}),label:k("Transcript")}]:[]],onSelect:r,activeTab:n})))},tL=({children:n,href:t})=>(0,e.h)(e.Fragment,null,(0,e.h)("table",{cellSpacing:"0",cellPadding:"8",border:"0",width:"100%"},(0,e.h)("tr",null,(0,e.h)("td",{align:"center"},(0,e.h)("a",{href:t,className:"tw-font-sans tw-text-[13px] tw-font-semibold tw-text-error"},n))))),nL=({post:n,compAlreadyExpired:t=!1})=>{const r=`${Ei.Substitutions.CHECKOUT_URL}&utm_medium=email&utm_campaign=continue_your_support&utm_content=${n.id}`;return(0,e.h)("table",{width:"100%",cellSpacing:"0",cellPadding:"0",border:"0",className:"tw-bg-error-wash",bgcolor:"#FFFAFA"},(0,e.h)("tr",null,(0,e.h)("td",{height:"16"})),(0,e.h)("tr",null,(0,e.h)("td",{align:"center",className:"tw-leading-5"},(0,e.h)("span",{className:"tw-font-sans tw-text-base tw-font-bold tw-text-error"},"Continue your support"),(0,e.h)("br",null),t?(0,e.h)("span",{className:"tw-font-sans tw-text-ssm tw-text-error"},"Your free trial has ended!",(0,e.h)("br",null),"Continue your support to access paid-only content."):(0,e.h)("span",{className:"tw-font-sans tw-text-ssm tw-text-error"},"Subscribe now to keep your paid status. You won't be",(0,e.h)("br",null),"charged until your free trial ends on ",Ei.Substitutions.SUBSCRIPTION_EXPIRY_DATE,"."))),(0,e.h)("tr",null,(0,e.h)("td",{height:"16"})),(0,e.h)("tr",null,(0,e.h)("td",null,(0,e.h)(tL,{href:r},"Subscribe now"))),(0,e.h)("tr",null,(0,e.h)("td",{height:"16"})))};var Hc=Et(43498);const ou={container:"frontend-components-CrossPostBlurb-module__container--U8kba",podcastContainer:"frontend-components-CrossPostBlurb-module__podcastContainer--w0Cjq",attribution:"frontend-components-CrossPostBlurb-module__attribution--EmzLg",icon:"frontend-components-CrossPostBlurb-module__icon--BXDY0",pub:"frontend-components-CrossPostBlurb-module__pub--NCtMB"};var rL=Object.defineProperty,oL=Object.defineProperties,iL=Object.getOwnPropertyDescriptors,hy=Object.getOwnPropertySymbols,aL=Object.prototype.hasOwnProperty,sL=Object.prototype.propertyIsEnumerable,my=(n,t,r)=>t in n?rL(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,lL=(n,t)=>{for(var r in t||(t={}))aL.call(t,r)&&my(n,r,t[r]);if(hy)for(var r of hy(t))sL.call(t,r)&&my(n,r,t[r]);return n},uL=(n,t)=>oL(n,iL(t));const cL=({postType:n,crossPostInfo:{introText:t,crossPostedPub:r,crossPostingByLine:i}})=>{const a=i[0];return(0,e.h)(he.tu,{className:l()(ou.container,n==="podcast"&&ou.podcastContainer),paddingLeft:16,gap:20,paddingTop:12,paddingBottom:20},(0,e.h)(he.hs,{className:ou.attribution,gap:4,alignItems:"center"},(0,e.h)(Hc.Z,{className:ou.icon,height:16})," ",(0,e.h)(I.xv.Meta,{translated:!0,color:"pub-accent"},"Cross-post from"," ",(0,e.h)("a",{className:ou.pub,href:(0,te.getBaseUrl)(r)},I18N.p(r.name)))),(0,e.h)(I.xv.B2,{color:"pub-primary-text"},t," - ",(0,e.h)(Vd.default,uL(lL({},a),{type:"user",uuid:"",isStatic:!1,isEditorContext:!1}))))};var dL=Object.defineProperty,fL=Object.defineProperties,pL=Object.getOwnPropertyDescriptors,Vc=Object.getOwnPropertySymbols,_y=Object.prototype.hasOwnProperty,gy=Object.prototype.propertyIsEnumerable,vy=(n,t,r)=>t in n?dL(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,hL=(n,t)=>{for(var r in t||(t={}))_y.call(t,r)&&vy(n,r,t[r]);if(Vc)for(var r of Vc(t))gy.call(t,r)&&vy(n,r,t[r]);return n},mL=(n,t)=>fL(n,pL(t)),_L=(n,t)=>{var r={};for(var i in n)_y.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Vc)for(var i of Vc(n))t.indexOf(i)<0&&gy.call(n,i)&&(r[i]=n[i]);return r};const yp=n=>{var t=n,{stroke:r="black"}=t,i=_L(t,["stroke"]);return(0,e.h)(L.l,mL(hL({},i),{name:"ThreadIcon",svgParams:{height:19,width:19}}),(0,e.h)("path",{d:"M10.4286 3H8.57143C5.49441 3 3 5.49441 3 8.57143C3 10.2355 4.16477 12.1934 5.32143 13.2143V16L11.3571 14.1429C14.6071 13.067 16 10.9973 16 8.57143C16 5.49441 13.5056 3 10.4286 3Z",stroke:r,"stroke-linejoin":"round"}))};var gL=Object.defineProperty,vL=Object.defineProperties,yL=Object.getOwnPropertyDescriptors,Kc=Object.getOwnPropertySymbols,yy=Object.prototype.hasOwnProperty,by=Object.prototype.propertyIsEnumerable,Py=(n,t,r)=>t in n?gL(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,bL=(n,t)=>{for(var r in t||(t={}))yy.call(t,r)&&Py(n,r,t[r]);if(Kc)for(var r of Kc(t))by.call(t,r)&&Py(n,r,t[r]);return n},PL=(n,t)=>vL(n,yL(t)),EL=(n,t)=>{var r={};for(var i in n)yy.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Kc)for(var i of Kc(n))t.indexOf(i)<0&&by.call(n,i)&&(r[i]=n[i]);return r};const Ey=n=>{var t=n,{stroke:r="black",height:i=19,width:a=19}=t,M=EL(t,["stroke","height","width"]);return(0,e.h)(L.l,PL(bL({},M),{name:"VideoIcon",svgParams:{height:i,width:a,viewBox:"2 2 15 15"}}),(0,e.h)("g",{fill:"transparent"},(0,e.h)("path",{d:"M15.5 15H3.5V4H15.5V15Z",stroke:r,"stroke-linejoin":"round"}),(0,e.h)("path",{d:"M11.5 11L8.5 9V12.5L11.5 11Z",stroke:r,"stroke-linejoin":"round"}),(0,e.h)("path",{d:"M4 7H15",stroke:r}),(0,e.h)("path",{d:"M4.5 4L7.5 7",stroke:r}),(0,e.h)("path",{d:"M8 4L11 7",stroke:r}),(0,e.h)("path",{d:"M11.5 4L14.5 7",stroke:r})))};var bp=Et(50615),wL=Et(12297),CL=Et.n(wL),OL=Object.defineProperty,SL=Object.defineProperties,TL=Object.getOwnPropertyDescriptors,wy=Object.getOwnPropertySymbols,IL=Object.prototype.hasOwnProperty,xL=Object.prototype.propertyIsEnumerable,Cy=(n,t,r)=>t in n?OL(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,ML=(n,t)=>{for(var r in t||(t={}))IL.call(t,r)&&Cy(n,r,t[r]);if(wy)for(var r of wy(t))xL.call(t,r)&&Cy(n,r,t[r]);return n},DL=(n,t)=>SL(n,TL(t));const Oy=n=>(0,e.h)(L.l,DL(ML({},n),{name:"EmailIcon",svgParams:{height:25,width:25,strokeWidth:0,fill:"#000Z"}}),(0,e.h)("g",null,(0,e.h)("path",{d:"M22.93,7a2.43,2.43,0,0,0-.41-.93A2.61,2.61,0,0,0,20.39,5H4.61A2.61,2.61,0,0,0,2.48,6.1,2.43,2.43,0,0,0,2.07,7h0A2.78,2.78,0,0,0,2,7.61v9.78A2.61,2.61,0,0,0,4.61,20H20.39A2.61,2.61,0,0,0,23,17.39V7.61A2.25,2.25,0,0,0,22.93,7ZM4.61,6H20.39a1.58,1.58,0,0,1,1.26.62l-8.91,5.31a.49.49,0,0,1-.47,0L3.35,6.62A1.58,1.58,0,0,1,4.61,6ZM22,17.39A1.61,1.61,0,0,1,20.39,19H4.61A1.61,1.61,0,0,1,3,17.39V7.58l8.77,5.22a1.48,1.48,0,0,0,1.47,0L22,7.58Z"})));var AL=Object.defineProperty,NL=Object.defineProperties,RL=Object.getOwnPropertyDescriptors,$c=Object.getOwnPropertySymbols,Sy=Object.prototype.hasOwnProperty,Ty=Object.prototype.propertyIsEnumerable,Iy=(n,t,r)=>t in n?AL(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,LL=(n,t)=>{for(var r in t||(t={}))Sy.call(t,r)&&Iy(n,r,t[r]);if($c)for(var r of $c(t))Ty.call(t,r)&&Iy(n,r,t[r]);return n},BL=(n,t)=>NL(n,RL(t)),kL=(n,t)=>{var r={};for(var i in n)Sy.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&$c)for(var i of $c(n))t.indexOf(i)<0&&Ty.call(n,i)&&(r[i]=n[i]);return r};const UL=n=>{var t=n,{color:r="#B6B6B6",height:i=18}=t,a=kL(t,["color","height"]);return(0,e.h)(L.l,BL(LL({},a),{height:i,name:"LockFullIcon",svgParams:{height:18,width:18,viewBox:"0 0 18 18"}}),(0,e.h)("rect",{x:"5.5",y:"2.5",width:"7",height:"13",rx:"3.5",stroke:r,fill:"none"}),(0,e.h)("rect",{x:"3.5",y:"8.5",width:"11",height:"8",rx:"0.5",fill:r,stroke:r}))};var FL=Et(15440);const xy=(0,Oo.Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);var jL=Object.defineProperty,WL=Object.defineProperties,HL=Object.getOwnPropertyDescriptors,My=Object.getOwnPropertySymbols,VL=Object.prototype.hasOwnProperty,KL=Object.prototype.propertyIsEnumerable,Dy=(n,t,r)=>t in n?jL(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,$L=(n,t)=>{for(var r in t||(t={}))VL.call(t,r)&&Dy(n,r,t[r]);if(My)for(var r of My(t))KL.call(t,r)&&Dy(n,r,t[r]);return n},zL=(n,t)=>WL(n,HL(t));const GL=n=>(0,e.h)(L.l,zL($L({},n),{name:"LucideRecommend",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)(xy,{height:24,stroke:n.stroke,fill:n.fill,strokeWidth:n.strokeWidth}));var ZL=Et(11762),Ay=Et(11628);class YL extends e.Component{onShare(t){this.props.position&&(0,C.j)(C.FP.POST_SHARE_BUTTON_CLICKED,{position:this.props.position}),!this.props.isStatic&&(t&&t.stopPropagation(),this.props.sharedShareDialog?t.target.dispatchEvent(new CustomEvent("share-post",{bubbles:!0})):this.modal.open())}render({className:t,linkClassName:r,user:i,pub:a,post:M,reaction_token:k,height:F,onChange:B,isStatic:Y,children:ge,sharedShareDialog:Ce,noIcon:Se}){let Ue;return M.share_url_override?Ue=M.share_url_override:Y?M?Ue=Ei.Substitutions.SHARE_URL:Ue=Ei.Substitutions.SHARE_PUB_URL:Ue="javascript:void(0)",(0,e.h)("span",{className:t},(0,e.h)("a",{href:Ue,onClick:Ye=>this.onShare(Ye),className:r},!Se&&(0,e.h)(Ay.Z,{className:"recommend-icon post-meta-icon",isStatic:Y,height:F,alt:"Share",stroke:"#757575",fill:"transparent",strokeWidth:Y?1:1.5}),ge),!Y&&!Ce&&(0,e.h)(rl.ZP,{ref:Ye=>this.modal=Ye,user:i,pub:a,post:M,reaction_token:k,onChange:B}))}}const JL=({children:n,content:t,baseRef:r=void 0,portalClass:i="",className:a="",style:M=void 0})=>{const k=(0,o.sO)(null),F=(0,o.sO)(null);return t?(0,e.h)("div",{ref:k,className:a,style:M},n,(0,e.h)(c1,{baseRef:r||k,hoverToggle:!0,onOpen:()=>{var B;return(B=F.current)==null?void 0:B.open()},onClose:()=>{var B;return(B=F.current)==null?void 0:B.close()},className:i},(0,e.h)(zi.Fx,{ref:F,noList:!0,className:"explanation"},t))):n};var XL=Et(73413),QL=Object.defineProperty,qL=Object.defineProperties,e7=Object.getOwnPropertyDescriptors,Ny=Object.getOwnPropertySymbols,t7=Object.prototype.hasOwnProperty,n7=Object.prototype.propertyIsEnumerable,Pp=(n,t,r)=>t in n?QL(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Ep=(n,t)=>{for(var r in t||(t={}))t7.call(t,r)&&Pp(n,r,t[r]);if(Ny)for(var r of Ny(t))n7.call(t,r)&&Pp(n,r,t[r]);return n},Ry=(n,t)=>qL(n,e7(t)),r7=(n,t,r)=>(Pp(n,typeof t!="symbol"?t+"":t,r),r);const{getPaidOrFoundingTierNameForPost:o7}=Et(6378),i7=46438;class a7 extends e.Component{constructor(t,r){if(super(t,r),r7(this,"withAuthorLine",(i,a)=>{const{pub:M,post:k,showAuthor:F,showPhoto:B}=i,Y=k.type==="adhoc_email",ge=(0,nn.getBylineUsers)(k).length,Ce=ge===1,Se=Ce&&(0,nn.getBylineUsers)(k)[0],Ue=Ce&&Se.is_guest&&!(0,Pi.default)("dont_show_guest_byline")&&!Y,Ye=i.showDate||i.showDatetime,Ve=!k.is_published&&!i.inThreadHead&&Ye&&!Y,at=i.isFreePreview&&i.showAudience&&Ye&&!Y,pt=(0,Tr.isFoundingAudience)(k.audience)&&i.showAudience&&!at&&Ye&&!Y,gt=(0,Tr.isPaidAudience)(k.audience)&&i.showAudience&&!pt&&!at&&Ye&&!Y,xt=(0,Jo.F6)({pub:M,post:k,showAuthor:F,showPhoto:B});return(0,e.h)(ao.YF,{width:"100%",className:l()("post-meta")},(0,e.h)("tr",null,(0,e.h)("td",null,(0,e.h)(ao.i$,null,(0,e.h)(ao.zK,{gap:4},(0,e.h)(I.xv.Meta,{color:"primary",className:s_.A.postAuthor},ge>0?(0,nn.oxfordComma)((0,nn.getBylineUsers)(k).map(Nt=>(0,e.h)(I.xv.Meta,{as:"a",href:(0,p.getProfileUrl)(Nt,M,{base:i.isStatic}),color:"primary",style:"text-decoration: none"},Nt.name))):(0,nn.getPrintedByline)(M,k))),(0,e.h)(ao.zK,{gap:4},(0,e.h)(I.xv.Meta,null,(i.showDate||i.showDatetime)&&k.post_date&&(0,e.h)("time",{dateTime:un()(k.post_date).toISOString()},un()(k.post_date).standardDate())),gt&&(0,e.h)(ao.zK,{gap:4},(0,e.h)(I.xv.Meta,null,"\u2219"),(0,e.h)(I.xv.Meta,{color:"accent-purple"},"Paid")),pt&&(0,e.h)(ao.zK,{gap:4},(0,e.h)(I.xv.Meta,null,"\u2219"),(0,e.h)(I.xv.Meta,{color:"accent-purple"},o7(M,k))),at&&(0,e.h)(ao.zK,{gap:4},(0,e.h)(I.xv.Meta,null,"\u2219"),(0,e.h)(I.xv.Meta,{color:"accent-purple"},"Preview")),Ue&&(0,e.h)(ao.zK,{gap:4},(0,e.h)(I.xv.Meta,null,"\u2219"),(0,e.h)(I.xv.Meta,null,"Guest post")),Ve&&(0,e.h)(ao.zK,{gap:4},(0,e.h)(I.xv.Meta,null,"\u2219"),(0,e.h)(I.xv.Meta,null,"Draft"))))),xt&&(0,e.h)("td",{align:"right"},(0,e.h)(ao.zK,{gap:4},ge>0&&(0,nn.getBylineUsers)(k).map((Nt,Tt)=>Tt<4&&(0,e.h)("a",{href:(0,p.getProfileUrl)(Nt,M,{base:i.isStatic})},(0,e.h)(ao.NS,{src:Nt.photo_url,size:ge>1?32:40})))))))}),typeof window!="undefined"&&(window!=null&&window.matchMedia)){const i=window.matchMedia("screen and (max-width: 650px)");this.state={isMobileWidth:i.matches};const a=M=>{this.unmounted||this.setState({isMobileWidth:M.matches})};i.addEventListener?i.addEventListener("change",a):i.addListener&&i.addListener(a)}}componentWillUnmount(){this.unmounted=!0}render({pub:t,post:r,showAuthor:i,showPhoto:a,fromPostPage:M}){return(0,Jo.F6)({pub:t,post:r,showAuthor:i,showPhoto:a})||(0,Jo.Cz)({pub:t,post:r,showAuthor:i})||(0,Jo.z5)({pub:t,post:r,showAuthor:i})?this.withAuthorLine(this.props,this.state):(0,e.h)(l7,Ry(Ep({},this.props),{editOnRightSide:this.props.showUpdatedIcons,className:this.props.showUpdatedIcons?"alternative-meta":this.props.className,isMobileWidth:this.state.isMobileWidth,actionBarStyle:M?"post-header-compact":"post-preview"}))}}const s7=({shouldShowFullWidthUfi:n,isMobileWidth:t,children:r})=>n?h(FlexColumn,{style:{width:"100%"},gap:{desktop:16,mobile:0}},r):t?r:h(FlexRow,{style:{width:"100%"},justifyContent:"space-between",direction:"row-reverse"},r),Cz=({additionalCommentCount:n,user:t,pub:r,post:i,showReactions:a,showComments:M,reaction_token:k,onChange:F,shareTooltipText:B,fromPostPage:Y,onClickCommentButton:ge,reactors:Ce,isStatic:Se,base_url:Ue,className:Ye,showShare:Ve})=>{a=a&&r.community_enabled&&i.slug&&!i.is_draft;const at=useMediaQuery({maxWidth:540}),{getSettingFor:pt}=usePublicationSettings(),gt=!Se&&(i==null?void 0:i.id)&&r.community_enabled&&!i.is_draft&&i.slug,xt=sum(Object.values((i==null?void 0:i.reactions)||{})),Nt=gt&&!!xt&&a,Tt=!i.is_draft&&canPostBeRestacked(t,{enable_restacking:!!pt("enable_restacking")},i,r,!1),Ut=Tt;return h(s7,{shouldShowFullWidthUfi:Ut,isMobileWidth:at},h(PostUfi,{style:"button",post:i,pub:r,user:t,postReactionToken:k,hideReactions:!a||at&&Tt,hideComments:!M||at&&Tt,hideSavePost:at&&Tt,hideShare:!Ve||at&&Tt,useShareLabel:at&&!Ut,labelStyle:at&&!Ut?"labels":"counts-or-none",onChange:F,additionalCommentCount:n,showShare:Ve,onCommentsClick:ge,position:Ut?"post-footer-full-width":"post-footer",showRestackButton:Tt}),Nt&&h(Fragment,null,(Ut||at)&&h("hr",{className:"footer-facepile-separator"}),h("div",{className:"footer-facepile-container"},h(wp,{postId:i.id,totalLikes:xt,reactors:ol(Ce,t,!!i.reaction,r),loading:!Ce,hoverProfiles:!0,enableModal:!0,showFaces:r.post_reaction_faces_enabled}))))};function Ly({pub:n,post:t,user:r,reactors:i,secondaryFaces:a}){var M;return(0,e.h)(wp,{postId:t.id,totalLikes:Math.max((M=t.reactions["\u2764"])!=null?M:0,(i!=null?i:[]).length),reactors:ol(i,r,!!t.reaction,n),secondaryFaces:ol(a,r,!!t.restacked,n),totalRestacks:t.restacks||0,loading:!i,hoverProfiles:!0,enableModal:!0,showFaces:n.post_reaction_faces_enabled})}function Oz(n){const{post:t,user:r,pub:i}=n,{result:a,isLoading:M}=useFetch({pathname:`/api/v1/post/${t.id}/reactors`,auto:!0,deps:[t.id]}),{result:k,isLoading:F}=useFetch({pathname:`/api/v1/post/${t.id}/restackers`,auto:!0,deps:[t.id]});return h(Ly,Ep({reactors:ol(a,r,!!t.reaction,i),secondaryFaces:ol(k,r,!!t.restacked,i)},n))}function ol(n,t,r,i){if(!n)return[];if(t){const a=n.findIndex(M=>M.id===t.id);r&&(t.subscription_visibility!=="private"||i.id===i7)&&t.activity_likes_enabled&&a<0?n.splice(0,0,{id:t.id,name:t.name,photo_url:t.photo_url}):!r&&a>=0&&n.splice(a,1)}return n}function l7({additionalCommentCount:n=0,className:t,user:r,pub:i,post:a,showAudience:M=!1,showDate:k=!1,showEmailSent:F=!1,showDatetime:B=!1,showReactions:Y=!0,showComments:ge=!0,showShare:Ce=!1,showRestack:Se=!1,showPublicationName:Ue=!1,hidePinning:Ye=!1,reaction_token:Ve,onClick:at,onChange:pt,isStatic:gt=!1,isFreePreview:xt=!1,allowSendEmail:Nt=!1,allowEdit:Tt=!1,shareTooltipText:Ut,showPins:qt,sharedShareDialog:rn,showUpdatedIcons:ln,editOnRightSide:yn=!1,onClickCommentButton:In,reactors:En,showAuthor:Yn,showPhoto:kn,fromPostPage:bn,isMobileWidth:er,actionBarStyle:rr="post-header-compact"}){var Vn;const ar=[i].concat(i.child_publications).find(fr=>fr.id===a.publication_id),Jn=ol(En,r,!!a.reaction,i),Qn=rr==="post-footer",Ln=Qn?20:rr==="post-preview"?14:18,qn=rr==="post-header-large"?20:rr==="post-preview"?16:rr==="thread-head"||Qn?14:18;let Pn;a.comment_url_override?Pn=a.comment_url_override:gt?Pn=`${Ei.Substitutions.HALF_MAGIC_COMMENTS_URL}&utm_source=substack&utm_medium=email`:Pn=(0,p.getPostUrl)(i,a,{comments:!0});const Xn=n+((Vn=a.comment_count)!=null?Vn:0),Gt=ge&&!xt&&(0,nn.showCommentsOnPost)({publication:i,post:a})&&a.type!=="restack",lr=Y&&!xt&&!["adhoc_email","restack"].includes(a.type),Tn=(k||B)&&a.post_date&&!a.is_draft,cr=F?!!a.email_sent_at:null,Er=(0,im.S)({user:r,noBase:!1}),Gr=fr=>{var _r;(_r=fr.post)!=null&&_r.reaction&&r&&Er({user:r}),pt(fr)},or=(0,e.h)(Os.dJ,{user:r,pub:i,post:a,token:Ve,onChange:Gr,height:qn,isStatic:gt,isFreePreview:xt,alt:"Like",buttonStyle:Qn,className:"post-meta-icon like-reaction-button",hideReactionCount:Qn&&!gt}),Fr=[F&&cr&&{className:"email-sent",title:"This post was sent as an email",content:(0,e.h)(Oy,{className:"post-meta-icon",height:Ln,isStatic:gt})},qt&&a.is_section_pinned&&{className:"icon pinned",content:(0,e.h)(ZL.Z,{className:"post-meta-icon",isStatic:gt})},a.type==="adhoc_email"?{className:"audience-adhoc",content:(0,e.h)(X1,{className:"post-meta-icon",isStatic:gt})}:M&&(0,Tr.isPaidAudience)(a.audience)&&{className:"audience-lock",content:(0,e.h)(UL,{color:"#666666",height:Ln,isStatic:gt})},(0,Jo.Er)({pub:i,post:a,showAuthor:Yn,showPhoto:kn,isMobileWidth:er})&&{className:"author",content:(0,nn.getBylineUsers)(a).length>0?(0,nn.oxfordComma)((0,nn.getBylineUsers)(a).map(fr=>(0,e.h)(ca.Ct,{disabled:gt,subject:fr,utmSource:"byline"},(0,e.h)("a",{href:(0,p.getProfileUrl)(fr,i,{base:gt}),onClick:_r=>_r.stopPropagation()},fr.name)))):(0,nn.getPrintedByline)(i,a)},Ue&&{className:"post-publication-name",content:i.name},ln&&!yn&&Tt&&!gt&&r&&r.is_contributor&&{className:"post-meta-item icon edit-icon",onClick:fr=>fr.stopPropagation(),content:(0,e.h)(bp.l,{pub:i,post:a,iconHeight:Ln,hidePinning:Ye,user:r,emailSent:cr,allowSendEmail:Nt,showUpdatedIcons:ln})},Tn&&{className:"post-date",title:un()(a.post_date).toISOString(),content:(0,e.h)(I.xv.Meta,null,(0,e.h)("time",{dateTime:un()(a.post_date).toISOString()},(0,Jo.fh)({post:a,showDatetime:B,isStatic:gt,fromPostPage:bn,showReactions:lr})))},(ar==null?void 0:ar.community_enabled)&&a.slug&&lr&&!a.is_draft&&{className:"icon",onClick:fr=>fr.stopPropagation(),content:!Qn&&!gt&&Jn.length?(0,e.h)(JL,{portalClass:"facepile-tooltip",content:(0,e.h)(wp,{postId:a.id,totalLikes:CL()(Object.values(a.reactions)),reactors:Jn,loading:!En})},or):or},r&&{className:"icon",onClick:fr=>fr.stopPropagation(),content:(0,e.h)(u7,{post:a,isPostFooter:Qn,isStatic:gt,lucideIconHeight:qn,onChange:pt})},(ar==null?void 0:ar.community_enabled)&&a.slug&&Gt&&!a.is_draft&&{className:"icon",onClick:fr=>fr.stopPropagation(),content:(0,e.h)("a",{className:Qn?"post-meta-button button":"",href:Pn,native:ar&&(0,p.isPublishPath)(document.location.pathname,ar),onClick:In},(0,e.h)(Id.Z,{className:"comment-icon post-meta-icon",isStatic:gt,height:qn,alt:"Comment",stroke:"#757575",fill:"transparent",strokeWidth:gt?1:1.5,ampProps:{layout:"fixed"}}),!Xn&&Qn&&(0,e.h)("span",{className:"meta-button-label"},"Comment"),Xn>0&&(0,e.h)("span",{className:"comment-count"},(0,nn.numberToString)(Xn)))},Se&&!Qn&&{className:"icon",onClick:fr=>fr.stopPropagation(),content:(0,e.h)("a",{href:Ei.Substitutions.RESTACK_URL,className:Qn?"button post-meta-button":void 0},(0,e.h)(GL,{className:"recommend-icon post-meta-icon",isStatic:gt,height:qn,alt:"Recommend",stroke:"#757575",fill:"transparent",strokeWidth:gt?1:1.5,ampProps:{layout:"fixed"}}),Qn&&(0,e.h)("span",{className:"meta-button-label"},"Recommend"))},Ce&&a.audience!=="only_free"&&!a.is_draft&&!xt&&{className:"icon",onClick:fr=>fr.stopPropagation(),content:(0,e.h)(YL,{user:r,pub:ar,post:a,reaction_token:Ve,height:qn,onChange:pt,isStatic:gt,sharedShareDialog:rn,position:rr==="post-footer"?"post-footer":"post-header",linkClassName:Qn?"button post-meta-button":void 0},Qn&&(0,e.h)("span",{className:"meta-button-label"},"Share"),Ut&&(0,e.h)("div",{className:"share-tooltip-wrap"},(0,e.h)("div",{className:"share-tooltip"},Ut)))},(!ln||yn)&&Tt&&!gt&&r&&r.is_contributor&&{className:"icon edit-icon",onClick:fr=>fr.stopPropagation(),content:(0,e.h)(bp.l,{pub:i,post:a,iconHeight:Ln,hidePinning:Ye,user:r,emailSent:cr,allowSendEmail:Nt,showUpdatedIcons:ln})}].filter(fr=>!!fr);return gt?(0,e.h)("table",{className:l()("post-meta custom",{big:Qn},t),cellpadding:"0",cellspacing:"0",onClick:at},(0,e.h)("tr",null,Fr.map(({className:fr,title:_r,onClick:lo,content:Kr})=>(0,e.h)("td",{className:l()("post-meta-item",fr),title:_r,onClick:lo},Kr)))):(0,e.h)("div",{className:l()("post-meta post-meta-actions-web custom",{big:Qn},t),onClick:at},Fr.map(({className:fr,title:_r,onClick:lo,content:Kr})=>(0,e.h)("div",{className:l()("post-meta-item",fr),title:_r,onClick:lo},Kr)))}function wp({className:n,postId:t,reactors:r,secondaryFaces:i,totalLikes:a,totalRestacks:M,loading:k,hoverProfiles:F,enableModal:B,showFaces:Y}){const ge=a>0?(0,nn.pluralize)(a,"Like"):"";let Ce="";return M>0&&(Ce=`${(0,nn.pluralize)(M,"Restack")}`),(0,e.h)(Yl.ZP,{className:n,loading:k,faces:r,secondaryFaces:i,pileLabel:ge,modalLabel:ge,secondaryLabel:Ce,secondaryHref:(0,N1.Oi)(t,{noBase:XL.L,urlParams:{utm_source:"substack",utm_content:"facepile-restacks"}}),totalCount:a,totalRestacks:M,hoverProfiles:F,enableModal:B,faceUtmSource:"post-reactions-face",detailUtmSource:"post-reactions-modal",onDialogOpen:()=>{(0,C.j)(C.FP.POST_REACTIONS_MODAL_VIEWED,{post_id:t})},showFaces:Y})}function u7({post:n,isPostFooter:t,isStatic:r,isSaved:i,lucideIconHeight:a,onChange:M}){const{onSave:k,isSaved:F}=(0,Jo.vk)({post:n,isSaved:n.is_saved}),B=()=>{const Y=k();M({post:Ry(Ep({},n),{is_saved:Y})})};return(0,e.h)("a",{className:l()("post-meta-save-button",t?"post-meta-button button":"",{isSaved:F}),href:r&&Ei.Substitutions.SAVE_POST_URL,onClick:B},(0,e.h)(FL.Z,{isStatic:r,height:a,stroke:"#757575",strokeWidth:r?1:1.5}),t&&(0,e.h)("span",{className:"meta-button-label"},"Save"))}const c7=(0,Oo.Z)("ArrowLeft",[["line",{x1:"19",x2:"5",y1:"12",y2:"12",key:"9fu2vq"}],["polyline",{points:"12 19 5 12 12 5",key:"1ksm0z"}]]);var d7=Object.defineProperty,f7=Object.defineProperties,p7=Object.getOwnPropertyDescriptors,By=Object.getOwnPropertySymbols,h7=Object.prototype.hasOwnProperty,m7=Object.prototype.propertyIsEnumerable,ky=(n,t,r)=>t in n?d7(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,_7=(n,t)=>{for(var r in t||(t={}))h7.call(t,r)&&ky(n,r,t[r]);if(By)for(var r of By(t))m7.call(t,r)&&ky(n,r,t[r]);return n},g7=(n,t)=>f7(n,p7(t));const v7=n=>(0,e.h)(L.l,g7(_7({},n),{name:"LudiceArrowLeft",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)(c7,{height:24,stroke:n.stroke,fill:n.fill,strokeWidth:n.strokeWidth}));var y7=Object.defineProperty,b7=Object.defineProperties,P7=Object.getOwnPropertyDescriptors,Uy=Object.getOwnPropertySymbols,E7=Object.prototype.hasOwnProperty,w7=Object.prototype.propertyIsEnumerable,Fy=(n,t,r)=>t in n?y7(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,C7=(n,t)=>{for(var r in t||(t={}))E7.call(t,r)&&Fy(n,r,t[r]);if(Uy)for(var r of Uy(t))w7.call(t,r)&&Fy(n,r,t[r]);return n},O7=(n,t)=>b7(n,P7(t));const S7=n=>(0,e.h)(L.l,O7(C7({},n),{name:"LucideArrowRight",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)(f_,{height:24,stroke:n.stroke,fill:n.fill,strokeWidth:n.strokeWidth})),jy=({post:n})=>{const t=(0,Mn.So)().getSettingFor("enable_prev_next_nav"),r=(0,Fi.XA)(),{iString:i}=(0,P.M1)();return!t||!(n!=null&&n.previous_post_slug)&&!(n!=null&&n.next_post_slug)?null:(0,e.h)("div",{className:"post-footer use-separators post-ufi themed next-prev"},(0,e.h)("div",null,n.previous_post_slug&&(0,e.h)(Jo.Ng,{icon:(0,e.h)(v7,{className:"icon",strokeWidth:1.5,height:20}),noLabel:!1,style:"button",noBorder:r,onClick:()=>{(0,C.j)(C.FP.PREVIOUS_POST_LINK_CLICKED,{post_id:n.id}),(0,v.route)(`/p/${n.previous_post_slug}`)}},(0,e.h)("div",{className:"tw-flex tw-items-center"},i("Previous")))),(0,e.h)("div",null,n.next_post_slug&&(0,e.h)(Jo.Ng,{icon:(0,e.h)(S7,{className:"icon",strokeWidth:1.5,height:20}),iconPosition:"right",noLabel:!1,style:"button",noBorder:r,onClick:()=>{(0,C.j)(C.FP.NEXT_POST_LINK_CLICKED,{post_id:n.id}),(0,v.route)(`/p/${n.next_post_slug}`)}},(0,e.h)("div",{className:"tw-flex tw-items-center"},i("Next")))))};var T7=Object.defineProperty,I7=Object.defineProperties,x7=Object.getOwnPropertyDescriptors,zc=Object.getOwnPropertySymbols,Wy=Object.prototype.hasOwnProperty,Hy=Object.prototype.propertyIsEnumerable,Vy=(n,t,r)=>t in n?T7(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,M7=(n,t)=>{for(var r in t||(t={}))Wy.call(t,r)&&Vy(n,r,t[r]);if(zc)for(var r of zc(t))Hy.call(t,r)&&Vy(n,r,t[r]);return n},D7=(n,t)=>I7(n,x7(t)),A7=(n,t)=>{var r={};for(var i in n)Wy.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&zc)for(var i of zc(n))t.indexOf(i)<0&&Hy.call(n,i)&&(r[i]=n[i]);return r};const N7=n=>{var t=n,{stroke:r="black",height:i=19,width:a=19}=t,M=A7(t,["stroke","height","width"]);return(0,e.h)(L.l,D7(M7({},M),{name:"AdhocEmailIcon",svgParams:{height:i,width:a,viewBox:"0 0 19 19"}}),(0,e.h)("path",{d:"M3 4C3 3.72386 3.22386 3.5 3.5 3.5H13C13.2761 3.5 13.5 3.72386 13.5 4V12.5C13.5 12.7761 13.2761 13 13 13H3.5C3.22386 13 3 12.7761 3 12.5V4Z",stroke:r}),(0,e.h)("path",{d:"M3.5 4L8.25 9.02499L13 4",stroke:r,"stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M5 13.5V15C5 15.2761 5.22386 15.5 5.5 15.5H15.3151C15.5913 15.5 15.8151 15.2761 15.8151 15V7C15.8151 6.72386 15.5913 6.5 15.3151 6.5H14",stroke:r}))};var R7=Object.defineProperty,L7=Object.defineProperties,B7=Object.getOwnPropertyDescriptors,Gc=Object.getOwnPropertySymbols,Ky=Object.prototype.hasOwnProperty,$y=Object.prototype.propertyIsEnumerable,zy=(n,t,r)=>t in n?R7(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,k7=(n,t)=>{for(var r in t||(t={}))Ky.call(t,r)&&zy(n,r,t[r]);if(Gc)for(var r of Gc(t))$y.call(t,r)&&zy(n,r,t[r]);return n},U7=(n,t)=>L7(n,B7(t)),F7=(n,t)=>{var r={};for(var i in n)Ky.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Gc)for(var i of Gc(n))t.indexOf(i)<0&&$y.call(n,i)&&(r[i]=n[i]);return r};const j7=n=>{var t=n,{stroke:r="black",height:i=19,width:a=19}=t,M=F7(t,["stroke","height","width"]);return(0,e.h)(L.l,U7(k7({},M),{name:"NewsletterIcon",svgParams:{height:i,width:a,viewBox:"0 0 19 19"}}),(0,e.h)("path",{d:"M3.5 3.5H15.5",stroke:r,"stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M3.5 7.5H15.5",stroke:r,"stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M3.5 11.5H15.5",stroke:r,"stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M3.5 15.5H12",stroke:r,"stroke-linecap":"round","stroke-linejoin":"round"}))};var W7=Object.defineProperty,Zc=Object.getOwnPropertySymbols,Gy=Object.prototype.hasOwnProperty,Zy=Object.prototype.propertyIsEnumerable,Yy=(n,t,r)=>t in n?W7(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,il=(n,t)=>{for(var r in t||(t={}))Gy.call(t,r)&&Yy(n,r,t[r]);if(Zc)for(var r of Zc(t))Zy.call(t,r)&&Yy(n,r,t[r]);return n},H7=(n,t)=>{var r={};for(var i in n)Gy.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Zc)for(var i of Zc(n))t.indexOf(i)<0&&Zy.call(n,i)&&(r[i]=n[i]);return r};const V7=n=>{var t=n,{postType:r}=t,i=H7(t,["postType"]);switch(r){case"newsletter":return(0,e.h)(j7,il({},i));case"adhoc_email":return(0,e.h)(N7,il({},i));case"thread":return(0,e.h)(yp,il({},i));case"podcast":return(0,e.h)(Co,il({},i));case"video":return(0,e.h)(Ey,il({},i));case"restack":return(0,e.h)(Hc.Z,il({},i));default:return console.warn(`Unrecognized post type: [${r}]`),null}};var K7=Object.defineProperty,Jy=Object.getOwnPropertySymbols,$7=Object.prototype.hasOwnProperty,z7=Object.prototype.propertyIsEnumerable,Xy=(n,t,r)=>t in n?K7(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Qy=(n,t)=>{for(var r in t||(t={}))$7.call(t,r)&&Xy(n,r,t[r]);if(Jy)for(var r of Jy(t))z7.call(t,r)&&Xy(n,r,t[r]);return n},G7=(n,t,r)=>new Promise((i,a)=>{var M=B=>{try{F(r.next(B))}catch(Y){a(Y)}},k=B=>{try{F(r.throw(B))}catch(Y){a(Y)}},F=B=>B.done?i(B.value):Promise.resolve(B.value).then(M,k);F((r=r.apply(n,t)).next())});const Yc=500,Z7={PUBLICATION:"publication",CHOOSE:"choose"},Y7=({pubToRecommendBack:n,recommendingPub:t,recommendedPubs:r,setStep:i,close:a,setLoading:M,source:k})=>{const[F,B]=(0,o.eJ)(null);(0,o.d4)(()=>{var ge;F==null&&(r!=null&&r.find(({id:Ce})=>Ce===n.id))&&B((ge=r==null?void 0:r.find(({id:Ce})=>Ce===n.id))==null?void 0:ge.blurb)},[F,r,n.id]);const Y=(0,nn.getByLine)(n);return(0,e.h)("div",{className:"add-recommending-pub-modal-container"},(0,e.h)(Nn.Z,{pub:n,logo_url:n.logo_url,size:84}),(0,e.h)("h2",null,"Recommend ",n.name),n.hero_text&&(0,e.h)("p",{className:"pub-hero-text"},n.hero_text),(0,e.h)("p",{className:"pub-author-subs"},Y?`By ${Y}`:null,Y&&n.rankingDetail?"\xA0\xA0\xB7\xA0\xA0":null,n.rankingDetail),(0,e.h)("p",{className:"why-recommend"},"Why are you recommending ",n.name,"? (optional)"),(0,e.h)("textarea",Qy({placeholder:"Share why your readers might enjoy it...",onChange:ge=>{B(ge.target.value)},value:F},t1.J)),(0,e.h)("div",{className:"footer"},(0,e.h)("p",{className:"learn-more"},"Recommendations are shown to readers after they subscribe to your publication."," ",(0,e.h)("a",{href:"https://support.substack.com/hc/en-us/articles/5036794583828-How-can-I-recommend-other-publications-on-Substack-",onClick:()=>{(0,C.j)(C.FP.MANAGE_RECOMMENDATIONS_LEARN_MORE_CLICKED,{source:"modal-recommend-pub"})}},(0,e.h)("u",null,"Learn more"))),(0,e.h)("button",{className:l()("continue-button button primary",{disabled:((F==null?void 0:F.length)||0)>Yc}),disabled:((F==null?void 0:F.length)||0)>Yc,title:((F==null?void 0:F.length)||0)>Yc?`Please enter a description shorter than ${Yc} characters`:"",onClick:()=>G7(void 0,null,function*(){yield jn().put("/api/v1/recommendations").send(Qy({recommended_publication_id:n.id,recommending_publication_id:t.id,source:k||"recommendation_notification_email",suggested:!1},!!F&&{description:F.length>=2?F:null})),r!=null&&r.filter(({id:ge})=>ge!==n.id).length?a():i(Z7.CHOOSE),M?(M(!0),a()):((0,O.redirect)("/publish/settings/recommendations"),(0,ms.ZP)(`Started recommending ${n.name}`,{timeout:1500}))})},"Continue")))};var J7=(n,t,r)=>new Promise((i,a)=>{var M=B=>{try{F(r.next(B))}catch(Y){a(Y)}},k=B=>{try{F(r.throw(B))}catch(Y){a(Y)}},F=B=>B.done?i(B.value):Promise.resolve(B.value).then(M,k);F((r=r.apply(n,t)).next())});const X7=({pub:n})=>{const[t,r]=(0,o.eJ)(!0),[i,a]=(0,o.eJ)(null),[M,k]=(0,o.eJ)(!1),F=(0,o.sO)(null),B=()=>{F.current.close()};if((0,o.d4)(()=>{!i&&t&&(()=>J7(void 0,null,function*(){try{const Ce=(yield jn().get("/api/v1/publication_user/default")).body;if(a(Ce),!Ce||Ce.id===n.id){k(!0),r(!1);return}const Se=yield jn().get(`/api/v1/recommendations/from/${Ce.id}/to/${n.id}`);k(!!Se.body),r(!1)}catch(ge){console.error("Failed to load recommend cta: ",ge)}}))()},[n,t,r,i,a]),!(t||M||i&&i.invite_only))return(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"end-of-post-recommend-cta-container"},(0,e.h)(Nn.Z,{pub:n,size:54,openInNewTab:!0,logo_url:n.logo_url}),(0,e.h)("h3",{className:"publication-name"},"Recommend ",n.name," to the readers of ",i.name),(0,e.h)("p",{className:"publication-hero-text"},n.hero_text),(0,e.h)($t.Z,{className:l()({primary:!0,"subscribe-button":!0}),onClick:()=>{(0,C.j)(C.FP.END_OF_POST_RECOMMEND_CTA_CLICKED,{pub:n,recommending_pub_id:i==null?void 0:i.id}),F.current.isOpen()?F.current.close():F.current.open()}},"Recommend")),(0,e.h)(Q7,{pubToRecommend:n,recommendingPub:i,setLoading:r,setStep:B,ref:F}))};class Q7 extends Mt.p{getClassName(){return"settings-add-pub-modal-wrapper"}renderChildren(){return(0,e.h)(Y7,{pubToRecommendBack:this.props.pubToRecommend,recommendingPub:this.props.recommendingPub,setStep:this.props.setStep,close:this.close,setLoading:t=>{this.props.setLoading(t),(0,ms.ZP)(`Started recommending ${this.props.pubToRecommend.name}`,{timeout:1500})},source:"end-of-post-recommend-cta"})}}var q7=Et(86804),qy=Et(92630),eB=Object.defineProperty,tB=Object.defineProperties,nB=Object.getOwnPropertyDescriptors,eb=Object.getOwnPropertySymbols,rB=Object.prototype.hasOwnProperty,oB=Object.prototype.propertyIsEnumerable,tb=(n,t,r)=>t in n?eB(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,iB=(n,t)=>{for(var r in t||(t={}))rB.call(t,r)&&tb(n,r,t[r]);if(eb)for(var r of eb(t))oB.call(t,r)&&tb(n,r,t[r]);return n},aB=(n,t)=>tB(n,nB(t));const sB=n=>(0,e.h)(L.l,aB(iB({},n),{name:"WarningIcon",svgParams:{viewBox:"-2 -2 18 18"}}),(0,e.h)("path",{d:"M8 0C3.582 0 0 3.582 0 8s3.582 8 8 8 8-3.582 8-8S12.418 0 8 0zM9 12H7v-2h2V12zM9 8H7V4h2V8z"})),al={outlineWrapper:"frontend-components-FoundingPlanPriceInput-module__outlineWrapper--vbdll",outlineWrapperWithWarning:"frontend-components-FoundingPlanPriceInput-module__outlineWrapperWithWarning--OeRIn",warningContainer:"frontend-components-FoundingPlanPriceInput-module__warningContainer--RO2Fw",outlineWrapperSelected:"frontend-components-FoundingPlanPriceInput-module__outlineWrapperSelected--xUFzY",amountInput:"frontend-components-FoundingPlanPriceInput-module__amountInput--F5mTT",amountInputDeselected:"frontend-components-FoundingPlanPriceInput-module__amountInputDeselected--BClJR"},Dz=({amount:n,isSelected:t,outlineOnSelect:r,plan:i,usePer:a,disableInput:M=!1,onChangeAmount:k})=>{const F=useRef(null),B=useCallback(Ue=>{k(Ue.toString().replace(/[^\d.]/g,""))},[k]),[Y,ge]=useState(!1);useEffect(()=>{t&&(F.current.focus(),F.current.select())},[F,t]),useEffect(()=>{ge(i.metadata.minimum&&(isZeroDecimalCurrency(i.currency)?n:n*100)<=i.metadata.minimum&&t)},[n]);const{iString:Ce}=useI18N(),Se=centsToPriceString(100,i.currency).replace(/\d/g,"");return h(FlexColumn,{className:"fancy-founding-input"},h(FlexRow,{className:"outer-price-select",alignItems:"center"},h("div",{className:"unified-input"},h(FlexBox,{className:"currency-symbol",justifyContent:"center",alignItems:"center"},h(Text,{size:14,color:"secondary"},Se)),h("input",{disabled:M,ref:F,id:"",type:"text","aria-label":"",autoComplete:"off",value:typeof n=="string"?n:i.amount/100,onKeyDown:Ue=>{Ue.key==="ArrowUp"?(B(Number(n||i.amount/100)+5),setTimeout(()=>{F.current.selectionStart=F.current.selectionEnd=F.current.value.length},0)):Ue.key==="ArrowDown"&&(!n||n>=5)&&(B(Number(n||i.amount/100)-5),setTimeout(()=>{F.current.selectionStart=F.current.selectionEnd=F.current.value.length},0))},onInput:Ue=>{const Ye=Ue.target;B(Ye.value)}})),h(Text,{className:"year-label",size:14,lineHeight:20,color:"secondary"},"/ ",Ce("year"))),Y&&h(Text,{translated:!0,size:14,lineHeight:20,color:"error",weight:"bold",className:"founding-error"},"Must be greater than"," ",I18N.p(Se+(isZeroDecimalCurrency(i.currency)?i.metadata.minimum:i.metadata.minimum/100))))},lB=({amount:n,isSelected:t,outlineOnSelect:r,plan:i,usePer:a,showDuration:M=!0,disableInput:k=!1,onChangeAmount:F})=>{const B=(0,o.sO)(null),Y=(0,o.I4)(Ue=>{F(Ue.toString().replace(/[^\d.]/g,""))},[F]),ge=i.metadata.minimum&&((0,nn.isZeroDecimalCurrency)(i.currency)?n:n*100)<i.metadata.minimum&&t;(0,o.bt)(()=>{B.current&&(B.current.style.width="1px",B.current.style.width=`${B.current.scrollWidth}px`,B.current.scrollLeft=0)},[n,B]),(0,o.d4)(()=>{t&&(B.current.focus(),B.current.select())},[B,t]);const{iTemplate:Ce,iString:Se}=(0,P.M1)();return(0,e.h)("span",{className:l()(al.outlineWrapper,{[al.outlineWrapperSelected]:r&&t,[al.outlineWrapperWithWarning]:ge})},(0,nn.centsToPriceString)(100,i.currency).replace("1",""),(0,e.h)("input",{disabled:k,ref:B,className:l()(al.amountInput,{[al.amountInputDeselected]:!t}),id:"money-variable-amount",type:"text","aria-label":"founding member amount",autoComplete:"off",value:typeof n=="string"?n:i.amount/100,onKeyDown:Ue=>{Ue.key==="ArrowUp"?(Y(Number(n||i.amount/100)+5),setTimeout(()=>{B.current.selectionStart=B.current.selectionEnd=B.current.value.length},0)):Ue.key==="ArrowDown"&&(!n||n>=5)&&(Y(Number(n||i.amount/100)-5),setTimeout(()=>{B.current.selectionStart=B.current.selectionEnd=B.current.value.length},0))},onInput:Ue=>{const Ye=Ue.target;Y(Ye.value)}}),(0,e.h)("input",{name:"amount",type:"hidden",value:typeof n=="string"?(Number(n)||0)*100:i.amount}),M&&i.interval!=="forever"&&(a?Ce` per ${Se(i.interval)}`:`/${Se(i.interval)}`),ge&&(0,e.h)("div",{className:al.warningContainer},(0,e.h)(qy.u,{text:Ce`Amount must be greater than ${(0,nn.centsToPriceString)(i.metadata.minimum,i.currency)}`,dangerouslySetTooltipZIndex:12},(0,e.h)(sB,{stroke:"white",height:20,fill:"red",strokeWidth:1}))))};var uB=Object.defineProperty,nb=Object.getOwnPropertySymbols,cB=Object.prototype.hasOwnProperty,dB=Object.prototype.propertyIsEnumerable,rb=(n,t,r)=>t in n?uB(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,fB=(n,t)=>{for(var r in t||(t={}))cB.call(t,r)&&rb(n,r,t[r]);if(nb)for(var r of nb(t))dB.call(t,r)&&rb(n,r,t[r]);return n};const pB=n=>(0,e.h)(L.l,fB({name:"CheckmarkBrokenCircleIcon",svgParams:{height:16,width:16,stroke:"#808080"}},n),(0,e.h)("path",{d:"M14.6667 7.38656V7.99989C14.6659 9.4375 14.2004 10.8363 13.3396 11.9878C12.4788 13.1392 11.2689 13.9815 9.89028 14.3892C8.51166 14.7968 7.03821 14.7478 5.68969 14.2496C4.34116 13.7514 3.18981 12.8306 2.40735 11.6246C1.62488 10.4186 1.25323 8.99193 1.34783 7.55743C1.44242 6.12293 1.99818 4.75744 2.93223 3.6646C3.86628 2.57177 5.12856 1.81014 6.53083 1.49332C7.9331 1.1765 9.40022 1.32145 10.7134 1.90656","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M14.6667 2.66669L8 9.34002L6 7.34002","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}));var hB=Object.defineProperty,ob=Object.getOwnPropertySymbols,mB=Object.prototype.hasOwnProperty,_B=Object.prototype.propertyIsEnumerable,ib=(n,t,r)=>t in n?hB(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,gB=(n,t)=>{for(var r in t||(t={}))mB.call(t,r)&&ib(n,r,t[r]);if(ob)for(var r of ob(t))_B.call(t,r)&&ib(n,r,t[r]);return n};const vB=n=>(0,e.h)(L.l,gB({name:"CircleCrossIcon",svgParams:{height:16,width:16,stroke:"#808080"}},n),(0,e.h)("path",{d:"M8.00004 14.6666C11.6819 14.6666 14.6667 11.6819 14.6667 7.99998C14.6667 4.31808 11.6819 1.33331 8.00004 1.33331C4.31814 1.33331 1.33337 4.31808 1.33337 7.99998C1.33337 11.6819 4.31814 14.6666 8.00004 14.6666Z","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M10 6L6 10","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M6 6L10 10","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}));var yB=Object.defineProperty,bB=Object.defineProperties,PB=Object.getOwnPropertyDescriptors,ab=Object.getOwnPropertySymbols,EB=Object.prototype.hasOwnProperty,wB=Object.prototype.propertyIsEnumerable,sb=(n,t,r)=>t in n?yB(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,CB=(n,t)=>{for(var r in t||(t={}))EB.call(t,r)&&sb(n,r,t[r]);if(ab)for(var r of ab(t))wB.call(t,r)&&sb(n,r,t[r]);return n},OB=(n,t)=>bB(n,PB(t));const lb=n=>(0,e.h)(L.l,OB(CB({},n),{name:"CreditCardIcon",svgParams:{height:21,width:32}}),(0,e.h)("g",{fill:"none",fillRule:"evenodd"},(0,e.h)("g",{fill:n.fill||"#515e80",stroke:"none"},(0,e.h)("g",{transform:"translate(0 2)"},(0,e.h)("path",{d:"M26.58 19H2.42A2.4 2.4 0 0 1 0 16.62V2.38A2.4 2.4 0 0 1 2.42 0h24.16A2.4 2.4 0 0 1 29 2.38v14.25A2.4 2.4 0 0 1 26.58 19zM10 5.83c0-.46-.35-.83-.78-.83H3.78c-.43 0-.78.37-.78.83v3.34c0 .46.35.83.78.83h5.44c.43 0 .78-.37.78-.83V5.83z",opacity:".2"}),(0,e.h)("path",{d:"M25 15h-3c-.65 0-1-.3-1-1s.35-1 1-1h3c.65 0 1 .3 1 1s-.35 1-1 1zm-6 0h-3c-.65 0-1-.3-1-1s.35-1 1-1h3c.65 0 1 .3 1 1s-.35 1-1 1zm-6 0h-3c-.65 0-1-.3-1-1s.35-1 1-1h3c.65 0 1 .3 1 1s-.35 1-1 1zm-6 0H4c-.65 0-1-.3-1-1s.35-1 1-1h3c.65 0 1 .3 1 1s-.35 1-1 1z",opacity:".3"})))));var SB=Et(49619);const ub=n=>{try{return n!=null&&n.text?JSON.parse(n==null?void 0:n.text).error:"Something went wrong"}catch(t){return"Something went wrong"}},Cp=n=>{var t;return((t=n==null?void 0:n.metadata)==null?void 0:t.founding)==="yes"||(n==null?void 0:n.id.includes("founding"))},ci={container:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__container--h0NUk",closeModal:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__closeModal--BTBok",subscribeButton:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__subscribeButton--YUyLO",radio:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__radio--HWCWT",circle:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__circle--BzRf4",selectedPlan:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__selectedPlan--TDQaA",planRow:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__planRow--JyRia",publicationIcon:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__publicationIcon--Vw7_m",benefitIcon:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__benefitIcon--_cHY4",planOptions:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__planOptions--poLpI",fancyStripe:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__fancyStripe--iBwGQ",cardOnFileIcon:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__cardOnFileIcon--qZGEa",tos_text:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__tos_text--WQNU8",fullWidth:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__fullWidth--dXsZT",inputWrapper:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__inputWrapper--eN00v",spacing:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__spacing--j9imu",clickable:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__clickable--RWWu0"};var TB=Object.defineProperty,IB=Object.defineProperties,xB=Object.getOwnPropertyDescriptors,cb=Object.getOwnPropertySymbols,MB=Object.prototype.hasOwnProperty,DB=Object.prototype.propertyIsEnumerable,db=(n,t,r)=>t in n?TB(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,iu=(n,t)=>{for(var r in t||(t={}))MB.call(t,r)&&db(n,r,t[r]);if(cb)for(var r of cb(t))DB.call(t,r)&&db(n,r,t[r]);return n},Jc=(n,t)=>IB(n,xB(t)),Xc=(n,t,r)=>new Promise((i,a)=>{var M=B=>{try{F(r.next(B))}catch(Y){a(Y)}},k=B=>{try{F(r.throw(B))}catch(Y){a(Y)}},F=B=>B.done?i(B.value):Promise.resolve(B.value).then(M,k);F((r=r.apply(n,t)).next())});const fb=({selected:n})=>(0,e.h)("span",{className:l()(ci.circle,n&&ci.selectedPlan)}),AB=({pub:n,includeHeaderCloseButton:t,close:r})=>{const i=n.logo_url||n.author_photo_url,a=()=>{(0,O.redirect)((0,p.pathWithQuery)((0,te.getBaseUrl)(n),{utm_source:"suggest",utm_campaign:n.id}),{newTab:!0})};return(0,e.h)(he.tu,{justifyContent:"center",alignItems:"center",gap:16},t&&(0,e.h)(Ks.Z,{className:ci.closeModal,onClick:r}),(0,e.h)("img",{src:(0,te.imginary)(i,40*2,{height:40*2,smartCrop:!0}),className:ci.publicationIcon,onClick:a}),(0,e.h)("div",{onClick:a,className:ci.clickable},(0,e.h)(I.xv,{as:"h3",size:20,font:"text",lineHeight:24,color:"pub-primary-text",align:"center"},"Choose a plan for ",n.name||n.author_name)))},NB=({plan:n,selected:t,currentPrice:r,foundingOnChange:i,setSelected:a})=>{const{language:M}=(0,P.M1)();return(0,e.h)(he.gq,{as:"label",alignItems:"center",gap:8,className:ci.planRow},(0,e.h)("input",{name:"plan",type:"radio",checked:t,onChange:a,className:ci.radio}),(0,e.h)(fb,{selected:t}),(0,e.h)(I.xv,{weight:"semibold",font:"text",size:14,lineHeight:20,color:t?"pub-primary-text":"pub-secondary-text"},(0,nn.getPlanTitle)(n,M)),(0,e.h)("span",null,(0,e.h)(I.xv,{as:"span",weight:"normal",font:"text",color:"pub-secondary-text",size:14,lineHeight:20,className:l()(ci.inputWrapper,{[ci.spacing]:t})},(0,e.h)(lB,{amount:r!=null?r:0,disableInput:!t,isSelected:t,outlineOnSelect:!0,plan:n,showDuration:!1,onChangeAmount:i}),(0,e.h)(I.xv,{translated:!0},"per year"))))},pb=({plan:n,selected:t,isFreePlan:r,setSelected:i})=>{const{language:a,iString:M}=(0,P.M1)(),k=r?M("None"):(0,nn.getPlanTitle)(n,a),F=r?"":(0,SB.t)(n);return(0,e.h)(he.gq,{as:"label",alignItems:"center",gap:8,className:ci.planRow},(0,e.h)("input",{name:"plan",type:"radio",checked:t,onChange:i,className:ci.radio}),(0,e.h)(fb,{selected:t}),(0,e.h)(I.xv,{weight:"semibold",font:"text",size:14,lineHeight:20,color:t?"pub-primary-text":"pub-secondary-text"},k),(0,e.h)(I.xv,{weight:"normal",font:"text",color:"pub-secondary-text",size:14,lineHeight:20},F))},hb=({benefit:n,ineligible:t})=>(0,e.h)(he.gq,{alignItems:"center",justifyContent:"center",gap:8},(0,e.h)(he.gq,{className:ci.benefitIcon},t?(0,e.h)(vB,{width:16,height:16}):(0,e.h)(pB,{width:16,height:16})),(0,e.h)(I.xv,{size:14,lineHeight:20,weight:"normal",font:"text",color:"pub-secondary-text",style:{textDecoration:t?"line-through":"none",overflow:"hidden"}},n)),RB=({plans:n,selectedPlan:t,paidBenefits:r,freeBenefits:i,foundingPlanPrice:a,setSelectedPlan:M,setFoundingPlanPrice:k})=>{const F=t==="free";return(0,e.h)(he.tu,{alignItems:"start",justifyContent:"start",gap:16,className:ci.planOptions},n==null?void 0:n.map(B=>{const Y=Cp(B),ge=B.id===t;return Y?(0,e.h)(NB,{plan:B,currentPrice:a,selected:ge,foundingOnChange:k,setSelected:()=>M(B.id)}):(0,e.h)(pb,{plan:B,selected:ge,isFreePlan:!1,setSelected:()=>M(B.id)})}),(0,e.h)(pb,{plan:null,selected:t==="free",isFreePlan:!0,setSelected:()=>M("free")}),r.map(B=>(0,e.h)(hb,{benefit:B,ineligible:t==="free"})),F&&(i==null?void 0:i.map(B=>(0,e.h)(hb,{benefit:B,ineligible:!1}))))},LB=({stripeCard:n,cardLast4:t})=>(0,e.h)(he.tu,{gap:12,className:ci.fullWidth},(0,e.h)(he.tu,{className:ci.fancyStripe,alignItems:"center",justifyContent:"center"},t?(0,e.h)("div",{className:"input card-on-file"},(0,e.h)(he.gq,{paddingTop:12,paddingBottom:12,gap:12},(0,e.h)(lb,{className:ci.cardOnFileIcon}),(0,e.h)(I.xv.B4,{color:"pub-secondary-text"},t?`**** **** **** ${t}`:"Use card on file"))):n&&(0,e.h)(je.GP,{className:"input",element:n}))),BB=({pub:n})=>(0,e.h)(I.xv.B4,{color:"pub-secondary-text",align:"center"},"By subscribing you agree to"," ",(0,e.h)("a",{className:ci.tos_text,target:"_blank",rel:"noopener",href:(0,p.pathWithQuery)("/tos",{utm_source:"subscribe"})},"Substack's Terms of Use"),", ",(0,e.h)("a",{className:ci.tos_text,target:"_blank",rel:"noopener",href:(0,p.getPrivacyUrl)({pub:n,utm_source:"subscribe"})},"our Privacy Policy")," ","and"," ",(0,e.h)("a",{className:ci.tos_text,target:"_blank",rel:"noopener",href:(0,p.updateQuery)(`${(0,p.getSubstackUrl)()}/ccpa#personal-data-collected`,{utm_source:"subscribe"})},"our Information collection notice")),kB=({pub:n,isFreeSubscribed:t,loading:r,freePlanSelected:i,allowFreePlanReselection:a,onSuccess:M})=>{let k="Subscribe";return r?k="Subscribing...":i&&(k=t?"You're already on the free plan":"Continue without paying"),(0,e.h)(e.Fragment,null,(0,e.h)(yt.zx,{priority:"primary-theme",className:ci.subscribeButton,onClick:M,disabled:r||!a&&i&&t},k),(0,e.h)(BB,{pub:n}))},UB=({error:n})=>(0,e.h)(I.xv.B4,{align:"center",color:"error"},n),FB=({isFreeSubscribed:n,pub:t,recommendingPubId:r,user:i,cardLast4:a,stripe_publishable_key:M,email:k,includeHeaderCloseButton:F=!1,source:B,sameDomain:Y=!0,allowFreePlanReselection:ge=!0,onClose:Ce,onSuccess:Se,subscribe_auth_token:Ue})=>{const[Ye,Ve]=(0,o.eJ)(""),[at,pt]=(0,o.eJ)({}),[gt,xt]=(0,o.eJ)(!1),[Nt,Tt]=(0,o.eJ)(null),[Ut,qt]=(0,o.eJ)(null),[rn,ln]=(0,o.eJ)(""),[yn,In]=(0,o.eJ)(0),[En,Yn]=(0,o.eJ)(!1),kn=(0,o.sO)(null),bn={publication_id:t.id,source:B};r&&(bn.recommending_publication_id=r,bn.recommended_publication_id=t.id),(0,o.d4)(()=>{var Pn,Xn;const Gt=(0,je.lQ)(M,t),lr=Gt&&(0,je.UD)(Gt);Tt(Gt),qt(lr);const Tn={};(Pn=t==null?void 0:t.plans)==null||Pn.forEach(cr=>{Cp(cr)?In(cr==null?void 0:cr.amount):cr.interval==="year"&&Ve(cr.id),Tn[cr.id]=cr}),Tn.free={id:"free"},Ye||Ve((Xn=t==null?void 0:t.plans[0])==null?void 0:Xn.id),pt(Tn),(0,C.j)(C.FP.PLAN_PURCHASE_BOX_SEEN,iu({},bn))},[t,i==null?void 0:i.has_saved_payment]);const er=()=>Xc(void 0,null,function*(){return Nt?yield Nt.createToken(Ut):{token:null,error:{message:""}}}),rr=()=>Xc(void 0,null,function*(){var Pn;const Xn=at[Ye];let Gt;if(!a){const{token:cr,error:Er}=yield er();if(Er)return xt(!1),ln(Er&&Er.message),(0,C.j)(C.FP.PLAN_PURCHASE_BOX_STRIPE_ERROR,{type:Er&&Er.type,code:Er&&Er.code,decline_code:Er&&Er.decline_code,reason:Er&&Er.message}),{subscription_id:null,error:Er};Gt=cr}const lr={email:k,captcha_response:En&&((Pn=kn==null?void 0:kn.current)==null?void 0:Pn.getResponse()),amount:Cp(Xn)?yn*100:Xn.amount,stripe_token:Gt,plan:Xn.id};return Y||(lr.subscribe_to_pub_id=t.id,lr.subscribe_auth_token=Ue),{subscription_id:(yield jn().post(`/api/v1/subscription?utm_source=${B!=null?B:"plan-purchase-box"}`).send(lr)).body.subscription_id,error:null}}),Vn=()=>Xc(void 0,null,function*(){try{return(yield jn().get("/api/v1/subscription/last4")).body.last4}catch(Pn){return""}}),ar=Pn=>{In(Pn.toString().replace(/[^\d.]/g,""))},Jn=Pn=>{Ve(Pn)},Qn=()=>Xc(void 0,null,function*(){if(Ye==="free"){(0,C.j)(C.FP.PLAN_PURCHASE_BOX_SUBMITTED,Jc(iu({},bn),{plan_id:"free"})),Ce();return}xt(!0);try{const{subscription_id:Pn,error:Xn}=yield rr();if(Xn){xt(!1);return}(0,C.j)(C.FP.PLAN_PURCHASE_BOX_SUBMITTED,Jc(iu({},bn),{plan_id:Ye}));const Gt=a||(yield Vn());Se(Gt,Pn)}catch(Pn){if(Pn.response)switch(Pn.response.statusCode){case 400:ln(ub(Pn.response));break;case 401:Yn(!0);break;default:ln("Something went wrong. Please try again."),(0,C.j)(C.FP.PLAN_PURCHASE_BOX_ERROR,Jc(iu({},bn),{errorMessage:ub(Pn.response)}))}else ln("Something went wrong. Please try again."),(0,C.j)(C.FP.PLAN_PURCHASE_BOX_ERROR,Jc(iu({},bn),{errorMessage:Pn.message}))}xt(!1)}),Ln=()=>{Ce()},qn=Ye==="free";return(0,e.h)(he.tu,{justifyContent:"center",alignItems:"center",gap:32,className:ci.container},(0,e.h)("script",{src:"https://js.stripe.com/v3/"}),(0,e.h)(AB,{pub:t,close:Ln,includeHeaderCloseButton:F}),(0,e.h)(RB,{plans:t.plans,paidBenefits:t==null?void 0:t.paid_subscription_benefits,freeBenefits:t==null?void 0:t.free_subscription_benefits,selectedPlan:Ye,foundingPlanPrice:yn,setSelectedPlan:Jn,setFoundingPlanPrice:ar}),(0,e.h)(he.tu,{justifyContent:"center",alignItems:"center",gap:0},rn&&(0,e.h)(UB,{error:rn}),En&&(0,e.h)(q7.Z,{ref:kn}),!qn&&(0,e.h)(LB,{cardLast4:a,stripeCard:Ut}),(0,e.h)(ra.mz,{alignment:"center",includeDivider:!1,primaryButton:(0,e.h)(kB,{pub:t,loading:gt,freePlanSelected:qn,isFreeSubscribed:n,allowFreePlanReselection:ge,onSuccess:Qn})})))};var jB=Et(55886);const Sa={subscribeDialog:"frontend-components-SubscribePrompt-module__subscribeDialog--Yce7g",form:"frontend-components-SubscribePrompt-module__form--HqYBK",dismissButton:"frontend-components-SubscribePrompt-module__dismissButton--E1_n0",emailInput:"frontend-components-SubscribePrompt-module__emailInput--rslUF",pictureBox:"frontend-components-SubscribePrompt-module__pictureBox--OPDpP",authorIcon:"frontend-components-SubscribePrompt-module__authorIcon--BGgpW",childPublicationIcon:"frontend-components-SubscribePrompt-module__childPublicationIcon--eAS5i",signInLink:"frontend-components-SubscribePrompt-module__signInLink--zy99q",background:"frontend-components-SubscribePrompt-module__background--WF3cB",error:"frontend-components-SubscribePrompt-module__error--ZTiN5"};var WB=Object.defineProperty,mb=Object.getOwnPropertySymbols,HB=Object.prototype.hasOwnProperty,VB=Object.prototype.propertyIsEnumerable,_b=(n,t,r)=>t in n?WB(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,gb=(n,t)=>{for(var r in t||(t={}))HB.call(t,r)&&_b(n,r,t[r]);if(mb)for(var r of mb(t))VB.call(t,r)&&_b(n,r,t[r]);return n},KB=(n,t,r)=>new Promise((i,a)=>{var M=B=>{try{F(r.next(B))}catch(Y){a(Y)}},k=B=>{try{F(r.throw(B))}catch(Y){a(Y)}},F=B=>B.done?i(B.value):Promise.resolve(B.value).then(M,k);F((r=r.apply(n,t)).next())});const $B=300,zB=({pub:n,post:t,isTest:r,stripe_publishable_key:i})=>{const[a,M]=(0,o.eJ)(!1),[k,F]=(0,o.eJ)(!1),[B,Y]=(0,o.eJ)(!1),[ge,Ce]=(0,o.eJ)(""),[Se,Ue]=(0,o.eJ)([]),[Ye,Ve]=(0,o.eJ)(200),[at,pt]=(0,o.eJ)(0),[gt,xt]=(0,o.eJ)(!1),[Nt,Tt]=(0,o.eJ)(!1),Ut=(0,o.sO)(null),{exposeExperiment:qt,getExperimentVariant:rn}=(0,Pr.jc)(),ln=(0,Fi.XA)(),yn=!ln&&rn("post_page_modal_subscription_upsell"),In=yn&&n.payments_state==="enabled",En=In&&yn==="treatment",Yn=`pub-${n.id}-subscribe-prompt-next-shown-at`,kn=`pub-${n.id}-takeover-next-shown-at`,bn=typeof window!="undefined"&&(window!=null&&window.innerHeight)?window.innerHeight:700,er=document.getElementsByClassName("available-content"),rr=er.length>0?er[0].scrollHeight:0;let Vn=600;Vn=Math.max(Math.min(Vn,rr-bn),600);const ar=()=>{var or;const{height:Fr,width:fr}=((or=Ut.current)==null?void 0:or.getBoundingClientRect())||{height:0,width:0};Ve(typeof window!="undefined"&&window&&Ut.current?(window.innerHeight-Fr)/2:200),pt(typeof window!="undefined"&&window&&Ut.current?(window.innerWidth-fr)/2:0)};ar(),(0,o.d4)(()=>{typeof window!="undefined"&&ar()},[gt]);const[Jn,Qn]=(0,o.eJ)(bn+Math.max(Ye,Vn)),[Ln,qn]=(0,o.eJ)(Math.max(document.documentElement.scrollTop||document.body.scrollTop,0)),[Pn,Xn]=(0,o.eJ)("absolute"),[Gt,lr]=(0,o.eJ)(Pn==="fixed"||Ln>Jn-bn),Tn=Pn==="fixed"?60:Math.min(Math.max((Ln-Jn+bn)/(bn-Ye)*60,0),60),cr=(0,o.I4)(()=>{!ln&&Ln>=Jn-$B&&F(!0)},[Ln,ln,Jn,Ye,F]);(0,o.d4)(()=>{if(r)return;let or=!0;rr<=1.5*bn&&(M(!0),or=!1);let Fr=null;if(document!=null&&document.referrer){try{Fr=new URL(document.referrer)}catch(fr){}((Fr==null?void 0:Fr.hostname)==="news.ycombinator.com"||(Fr==null?void 0:Fr.hostname)==="hckrnews.com")&&(M(!0),or=!1)}(0,Ai.mM)(Yn)>Date.now()&&M(!0),typeof window!="undefined"&&(window!=null&&window.Stripe)&&Tt(!0)},[]),(0,o.d4)(()=>{Gt&&(a||((0,C.j)(C.FP.SUBSCRIBE_PROMPT_SHOWN,{post_id:t.id}),(0,Ai.ex)(Yn,un()().add(1,"hour").valueOf()),(0,Ai.ex)(kn,un()().add(1,"hour").valueOf())))},[Gt,a]),(0,o.d4)(()=>{k&&((0,C.j)(C.FP.SUBSCRIBE_PROMPT_DISMISSED,{post_id:t.id}),(0,Ai.ex)(Yn,un()().add(1,"day").valueOf()),(0,Ai.ex)(kn,un()().add(1,"hour").valueOf()))},[k]);const Er=or=>{window.location.href=(0,p.getPostUrl)(n,t,{urlParams:{subscribe_prompt:or}})},Gr=(0,o.I4)(or=>KB(void 0,null,function*(){var Fr,fr,_r,lo,Kr;if(!B){Y(!0),Ue([]),(0,C.j)(C.FP.SUBSCRIBE_PROMPT_SUBMITTED,{post_id:t.id});try{const zr=yield jn().post("/api/v1/free").send({email:or,source:"post-subscribe-prompt"});In&&qt("post_page_modal_subscription_upsell"),En?xt(!0):n.payments_state!=="enabled"&&!n.has_recommendations?Er("free"):document.location.href=(0,p.getSubscribeUrl)(n,gb(gb({utm_medium:"web",utm_source:"post-subscribe-prompt",utm_content:t&&t.id,simple:!0,just_signed_up:!0,next:(0,p.getPostUrl)(n,t),requires_confirmation:zr.body.requires_confirmation?"true":""},zr.body.subscription_id&&{subscription_id:zr.body.subscription_id}),zr.body.referral_token&&{referral_token:zr.body.referral_token}))}catch(zr){(fr=(Fr=zr==null?void 0:zr.response)==null?void 0:Fr.body)!=null&&fr.error&&typeof zr.response.body.error=="string"?Ue([zr.response.body.error]):(lo=(_r=zr==null?void 0:zr.response)==null?void 0:_r.body)!=null&&lo.errors&&Array.isArray(zr.response.body.errors)&&zr.response.body.errors.length>0&&typeof((Kr=zr.response.body.errors[0])==null?void 0:Kr.msg)=="string"&&Ue(zr.response.body.errors.map(Ci=>Ci.msg))}finally{Y(!1)}}}),[t,n,B,Y]);return(0,o.d4)(()=>{if(a||k)return;const or=()=>{const Fr=Math.max(document.documentElement.scrollTop||document.body.scrollTop,0),fr=Fr-Ln;fr>0&&Pn==="absolute"&&Fr>Jn-Ye&&Xn("fixed"),fr<0&&Pn==="fixed"&&(Xn("absolute"),Qn(Ln+Ye)),fr<0&&Pn==="absolute"&&Fr<Jn-bn&&Qn(bn+Math.max(Ye,Vn,Ln)),qn(Fr),(Pn==="fixed"||fr>0&&Fr>Jn-bn)&&lr(!0)};return window.addEventListener("scroll",or),window.addEventListener("resize",or),()=>{window.removeEventListener("scroll",or),window.removeEventListener("resize",or)}},[Pn,Jn,Qn,Ln,qn,lr]),(0,o.d4)(()=>{if(a||k)return;const or=Fr=>{Fr.key==="Escape"&&F(!0)};return window.addEventListener("keydown",or),()=>{window.removeEventListener("keydown",or)}},[a,k,F]),a||k?(0,e.h)(e.Fragment,null):(0,e.h)(e.Fragment,null,!Nt&&En&&(0,e.h)("script",{src:"https://js.stripe.com/v3/"}),(0,e.h)(he.tu,{ref:Ut,className:Sa.subscribeDialog,style:{top:Pn==="absolute"?`${Jn}px`:`${Ye}px`,left:`${at}px`,position:Pn},alignItems:"center"},gt?(0,e.h)(FB,{email:ge,pub:n,stripe_publishable_key:i,isFreeSubscribed:!0,includeHeaderCloseButton:!0,allowFreePlanReselection:!0,onClose:()=>Er("free"),onSuccess:()=>Er("paid"),source:"subscribe-prompt"}):(0,e.h)(e.Fragment,null,(0,e.h)(he.gq,{justifyContent:"center",alignItems:"end",paddingBottom:20},(0,e.h)("div",{className:Sa.pictureBox},(0,e.h)(Gs.qE,{user:{photo_url:n.author_photo_url},size:64,className:Sa.authorIcon}),n.logo_url&&(0,e.h)(jB.t,{src:n.logo_url,size:24,className:Sa.childPublicationIcon,alt:n.name}))),(0,e.h)(I.xv.H4,{paddingBottom:4,align:"center",color:"pub-primary-text"},"Discover more from ",n.name),(0,e.h)(I.xv.B4,{color:"pub-secondary-text",paddingBottom:n.rankingDetail?4:24,align:"center"},n.hero_text),n.rankingDetail&&(0,e.h)(I.xv.Detail,{paddingBottom:24,color:"pub-secondary-text"},n.rankingDetailFreeSubscriberCount),(0,e.h)("form",{className:Sa.form,onSubmit:or=>{or.preventDefault(),Gr(ge)}},(0,e.h)("input",{className:Sa.emailInput,placeholder:"Type your email...",value:ge,disabled:B,onChange:or=>{or.stopPropagation(),or.preventDefault(),Ce(or.currentTarget.value)}}),(0,e.h)("div",{id:"error-container"},Se&&Se.map(or=>(0,e.h)("div",{className:Sa.error},or))),(0,e.h)(yt.zx,{type:"submit",disabled:B,grow:!0,priority:"primary-theme"},"Subscribe")),(0,e.h)(he.gq,{gap:8,alignItems:"center",justifyContent:"center",className:Sa.dismissButton,onClick:()=>F(!0)},(0,e.h)(I.xv.B4,{weight:"semibold",color:"pub-secondary-text"},"Continue reading"),(0,e.h)(Pl.Z,null)),(0,e.h)(I.xv.B4,{align:"center",className:Sa.signInLink,weight:"semibold",color:"pub-primary-text"},(0,e.h)("a",{onClick:()=>{(0,C.j)(C.FP.SUBSCRIBE_PROMPT_SIGN_IN_CLICKED,{post_id:t.id}),(0,O.redirect)((0,p.getSigninUrl)({for_pub:n.subdomain,redirect:(0,p.getPostUrl)(n,t)}))},style:{cursor:"pointer"}},"Sign in")," ")," ")),Tn>0&&(0,e.h)("div",{className:Sa.background,onClick:cr,style:{opacity:`${Tn}%`}}))};function GB({postId:n,onClose:t}){return(0,o.d4)(()=>{(0,C.j)(C.FP.LISTEN_TO_THIS_POST_MODAL_SHOWN,{post_id:n})},[]),(0,e.h)(ra.u_,{isOpen:!0,onClose:t},(0,e.h)(ra.xB,{includeClose:!0,onClose:t}),(0,e.h)(ra.fe,null,(0,e.h)(he.tu,{alignItems:"center",gap:24},(0,e.h)(he.tu,{style:{textAlign:"center"},justifyContent:"center",gap:8},(0,e.h)(ra.r6,null,"Listen to this post"),(0,e.h)(I.xv,{color:"secondary",style:{lineHeight:1.5}},"Get the Substack app to hear this article read aloud.")),(0,e.h)(ZB,null))),(0,e.h)(ra.mz,{includeDivider:!0,alignment:"center",primaryButton:(0,e.h)(ua.z,{variant:"primary",href:(0,p.getAppStoreRedirectUrl)({utm_source:"web",utm_campaign:"tts-modal"}),onClick:()=>(0,C.j)(C.FP.LISTEN_TO_THIS_POST_MODAL_GET_THE_APP_CLICKED,{post_id:n})},"Get the app")}))}function ZB(){const n="/img/main/tts-dialog";return(0,e.h)("video",{height:220,autoPlay:!0,muted:!0,loop:!0},(0,e.h)("source",{src:`${n}/nux.mp4`,type:"video/mp4"}),(0,e.h)("img",{width:374,height:233,src:`${n}/1x.png`,srcset:Array.from(YB(1,4)).map(t=>`${n}/${t}x.png ${t}x`).join(", ")}))}function*YB(n,t){for(let r=n;r<t;r++)yield r}var JB=Object.defineProperty,XB=Object.defineProperties,QB=Object.getOwnPropertyDescriptors,vb=Object.getOwnPropertySymbols,qB=Object.prototype.hasOwnProperty,ek=Object.prototype.propertyIsEnumerable,Op=(n,t,r)=>t in n?JB(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,au=(n,t)=>{for(var r in t||(t={}))qB.call(t,r)&&Op(n,r,t[r]);if(vb)for(var r of vb(t))ek.call(t,r)&&Op(n,r,t[r]);return n},Qc=(n,t)=>XB(n,QB(t)),fa=(n,t,r)=>(Op(n,typeof t!="symbol"?t+"":t,r),r),Sp=(n,t,r)=>new Promise((i,a)=>{var M=B=>{try{F(r.next(B))}catch(Y){a(Y)}},k=B=>{try{F(r.throw(B))}catch(Y){a(Y)}},F=B=>B.done?i(B.value):Promise.resolve(B.value).then(M,k);F((r=r.apply(n,t)).next())});const Tp="focus-comment-input",tk=["details","comments"],nk=(n,t)=>n&&!n.invite_only&&t&&t.has_publication&&!t.is_admin&&!t.is_contributor&&!t.is_public_admin&&(0,ep.P)(t,n),rk=(n,t,r,i)=>n.payments_state==="enabled"?!(t!=null&&t.is_subscribed):t!=null&&t.is_free_subscribed&&n.payments_state==="disabled"&&!n.invite_only?!i&&r&&!(t!=null&&t.is_pledged):!(t!=null&&t.is_free_subscribed);class Ip extends e.Component{constructor(t,r){var i,a;super(t,r),fa(this,"onTopReached",B=>{this.state.topReached||this.props.postPreview||(this.setState({topReached:!0}),(0,C.jJ)({post:this.props.post,hasPaywall:B,surface:"publication",markRead:this.props.user&&!this.props.noPageView}))}),fa(this,"onTranscriptionClick",()=>{this.setState(B=>({showTranscription:!B.showTranscription}))}),fa(this,"onCommentButtonClicked",B=>{if(this.props.post.type==="podcast"){B.preventDefault(),this.state.activeTab!=="comments"&&(this.setState({activeTab:"comments"}),this.state.podcastComments||this.loadComments()),setTimeout(()=>{var Y;(Y=this.podcastCommentInput.current)==null||Y.focus()},0);return}!this.props.showComments||this.props.post.comment_count||(B.stopPropagation(),B.preventDefault(),document.dispatchEvent(new CustomEvent(Tp)))}),fa(this,"handleClickTab",B=>{this.setState({activeTab:B}),B==="comments"&&!this.state.podcastComments&&this.loadComments()}),fa(this,"handleAddPodcastComment",B=>{this.setState({podcastComments:[B].concat(this.state.podcastComments),addedPodcastComments:this.state.addedPodcastComments+1})}),fa(this,"handleUpdatePodcastComments",B=>{let Y=0;const ge=(Se,Ue)=>Se.map(Ye=>Ye.id===Ue.id?(Ue.status==="deleted"?Y-=1:Y+=Ue.children.length-Ye.children.length,Ue):Qc(au({},Ye),{children:ge(Ye.children,Ue)})),Ce=ge(this.state.podcastComments,B);this.setState({podcastComments:Ce,addedPodcastComments:this.state.addedPodcastComments+Y})}),fa(this,"handleUpdateSortPodcastComments",B=>{(0,C.j)(C.FP.COMMENTS_SORTED,{post_id:this.props.post.id,post_type:this.props.post.type,sort:B}),this.setState({commentSort:B},()=>{this.loadComments()})});const M=(0,O.getUrlHash)();this.state={showTranscription:!1,autoPlay:!1,autoPlayVoiceOver:!1,podcastComments:null,addedPodcastComments:0,commentSort:(i=t.post.default_comment_sort)!=null?i:"best_first",activeTab:tk.includes(M)?M:"details",loadedWithHeaderLink:typeof window!="undefined"&&((a=window.location.hash)==null?void 0:a.startsWith(`#${encodeURIComponent("\xA7")}`)),reactors:null},!t.paywall&&!t.post.hidden&&t.post.body_html&&(this.state.canShowSubscribeFooterAfterPost=lk(t.post.body_html),this.state.truncated=t.truncateAt?sk(t.post.body_html,t.truncateAt,t.truncateTo):null),typeof window!="undefined"&&window.history.replaceState&&((0,p.getQueryItem)("autoPlay")==="true"&&(window.history.replaceState({},document.title,(0,p.updateQuery)({autoPlay:null})),this.state.autoPlay=!0),(0,p.getQueryItem)("play_audio")==="true"&&(window.history.replaceState({},document.title,(0,p.updateQuery)({play_audio:null})),this.state.autoPlayVoiceOver=!0)),this.containerRef=(0,e.createRef)(),this.shareDialogRef=(0,e.createRef)(),this.podcastCommentInput=(0,e.createRef)(),this.podcastPlayer=(0,e.createRef)(),this.videoPlayer=(0,e.createRef)(),this.shouldShowRecommendCta=nk(t.pub,t.user);const F=(typeof window!="undefined"&&window._preloads.publicationSettings||{}).enable_post_page_conversion===!0;this.shouldShowSubscribePrompt=t.post.type==="newsletter"&&F&&!t.disableSubscribePrompt&&!t.paywall&&!t.freeSignup&&!t.user&&!M&&!t.readerIsSearchCrawler}loadReactors(){return Sp(this,null,function*(){const[t,r]=yield Promise.all([jn().get(`/api/v1/post/${this.props.post.id}/reactors`),jn().get(`/api/v1/post/${this.props.post.id}/restackers`)]);this.setState({reactors:t.body,restackers:r.body})})}componentDidMount(){return Sp(this,null,function*(){this.props.post.type==="podcast"&&this.state.activeTab==="comments"&&(0,nn.canSeeComments)(this.props.user,this.props.post)&&this.loadComments(),this.props.paywall&&!this.props.postPreview&&(0,C.j)(C.FP.POST_PAYWALL_SHOWN,{post_id:this.props.post.id,post_audience:this.props.post.audience,post_type:this.props.post.type,user:this.props.user}),this._triggerShare=()=>this.triggerShare(),this.containerRef.current.addEventListener("share-post",this._triggerShare),this.props.post&&this.loadReactors(),Math.random()<.001&&(0,C.K8)({post:this.props.post});const t=(0,p.getQueryItem)("subscribe_prompt");t&&(t==="paid"?this.props.popToast(r=>(0,e.h)(y.FN,Qc(au({},r),{text:`Subscription purchased for ${this.props.pub.name}`}))):this.props.popToast(r=>(0,e.h)(y.FN,Qc(au({},r),{text:`Subscribed to ${this.props.pub.name}`}))))})}componentWillUnmount(){this._triggerShare&&this.containerRef.current.removeEventListener("share-post",this._triggerShare)}loadComments(){return Sp(this,null,function*(){const t={all_comments:!0,sort:this.state.commentSort};try{this.setState({podcastComments:null});const r=yield jn().get(`/api/v1/post/${this.props.post.id}/comments`).query(t);this.setState({podcastComments:r.body.comments})}catch(r){alert((0,O.getNetworkErrorMessage)(r))}})}triggerShare({fromEmail:t}={}){t?this.shareDialogRef.current.fromEmail():this.shareDialogRef.current.open()}onBottomReached(t){this.state.bottomReached||this.props.postPreview||(this.setState({bottomReached:!0}),(0,C.xG)({post:this.props.post,hasPaywall:t,surface:"publication"}))}shouldShowUFI(){const{fromPostPage:t,user:r,pub:i,getSettingFor:a}=this.props,{canShowSubscribeFooterAfterPost:M}=this.state;return t&&M?rk(i,r,a("payment_pledges_enabled"),this.shouldShowRecommendCta):!1}shouldTrackPaywallPostSeen(){const t=document.createElement("div");t.innerHTML=this.props.post.body_html;const r=this.props.pub.post_preview_limit||nn.DEFAULT_PREVIEW_LIMIT;let i="",a=!1;for(let M=t.childNodes.length-1;M>=0;M--){const k=t.childNodes[M];if(i+=k.textContent,i.length>r){a=!0;break}}return a}render({commentsEnabled:t,user:r,pub:i,post:a,freeSignup:M,freeSignupEmail:k,reaction_token:F,invisible:B,paywall:Y,onChange:ge,hideTitle:Ce,noTitleLink:Se,showComments:Ue,fromPostPage:Ye,freeTrialCoupon:Ve,showRestackModal:at,stripe_publishable_key:pt,crossPostInfo:gt,iString:xt,iTemplate:Nt,themeVariables:Tt},{showTranscription:Ut,activeTab:qt,loadedWithHeaderLink:rn,truncated:ln,coupon:yn,autoPlay:In,autoPlayVoiceOver:En,podcastComments:Yn,commentSort:kn,addedPodcastComments:bn,reactors:er,restackers:rr}){var Vn,ar,Jn,Qn,Ln,qn;const Pn=(0,Pi.default)("like_posts_enabled"),Xn=(0,Pi.default)("allow_video_transcription");let Gt=null;(r&&(r.is_subscribed||r.is_free_subscribed)||M||i.podcast_feed_url||(ar=(Vn=a.section)==null?void 0:Vn.podcastSettings)!=null&&ar.podcast_feed_url)&&(Gt=(0,p.getPodcatcherSetupUrl)(i));const lr=!Y||Y&&this.shouldTrackPaywallPostSeen(),Tn=a.type==="video"&&(Y?fA:Bl),cr=a.type==="video"&&Xn&&!Y&&((Jn=a.videoUpload)==null?void 0:Jn.transcription),Er=a.type==="podcast"&&(t||!!((Qn=a.podcastUpload)!=null&&Qn.transcription)),Gr=a.comment_count+bn,or=this.shouldShowUFI(),Fr=Pb(a),fr=er?er.length>0:!1;let _r="";return a.type==="podcast"?_r=a.audience==="founding"&&(0,li.getFoundingTierName)(i)?Nt`This episode is for subscribers in the ${(0,li.getFoundingTierName)(i)} plan`:a.audience==="founding"?Nt`This episode is for subscribers in the Founding Member plan`:Nt`This episode is for paid subscribers`:a.type==="video"?_r=a.audience==="founding"&&(0,li.getFoundingTierName)(i)?Nt`The full video is for subscribers in the ${(0,li.getFoundingTierName)(i)} plan`:a.audience==="founding"?Nt`The full video is for subscribers in the Founding Member plan`:Nt`The full video is for paid subscribers`:a.type==="adhoc_email"?_r=a.audience==="founding"&&(0,li.getFoundingTierName)(i)?Nt`This email is for subscribers in the ${(0,li.getFoundingTierName)(i)} plan`:a.audience==="founding"?Nt`This email is for subscribers in the Founding Member plan`:Nt`This email is for paid subscribers`:_r=a.audience==="founding"&&(0,li.getFoundingTierName)(i)?Nt`This post is for subscribers in the ${(0,li.getFoundingTierName)(i)} plan`:a.audience==="founding"?Nt`This post is for subscribers in the Founding Member plan`:Nt`This post is for paid subscribers`,(0,e.h)("article",{className:l()(`typography ${a.type}-post post`,{"tw-p-0":a.type==="podcast"}),ref:this.containerRef},(r==null?void 0:r.is_contributor)&&(a==null?void 0:a.id)&&(a==null?void 0:a.type)==="page"&&(0,e.h)(ua.z,{variant:"themed-secondary",href:(0,te.getEditPostUrlById)(i,a.id,a.editor_v2,{back:document.location.href}),localNavigation:!1,leftIcon:(0,e.h)(Zs.Z,{size:20})},"Edit"),(0,e.h)(uk,{post:a,user:r,onChange:ge}),(0,e.h)(rl.ZP,{ref:this.shareDialogRef,user:r,pub:i,post:a,reaction_token:F,source:"email-share"}),this.shouldShowSubscribePrompt&&(0,e.h)(zB,{pub:i,post:a,stripe_publishable_key:pt}),a.videoUpload&&Tn&&(0,e.h)(Tn,{mediaUpload:a.videoUpload,pub:i,post:a,autoPlay:In,restorePlaybackLocation:!0,reaction_token:F,ref:this.videoPlayer}),a.type==="podcast"?(0,e.h)(e.Fragment,null,(0,e.h)(GR,{bylinesEnabled:i.bylines_enabled,commentCount:Gr,commentsEnabled:t,freeSignupEmail:k,isFreeSignup:M,isLikesEnabled:Pn,isPaywall:Y,post:a,pub:i,magicToken:F,renderEditButton:()=>(0,e.h)(bp.l,{pub:i,post:a,iconHeight:18,user:r,showUpdatedIcons:!0,dropdownClassName:"tw-ml-2",iconClassName:"tw-block tw-stroke-pub-primary-text"}),user:r,onChange:ge,onClickCommentButton:t?this.onCommentButtonClicked:void 0,onTopReached:this.onTopReached,playerRef:this.podcastPlayer}),Er&&(0,e.h)(eL,{activeTab:qt,loadedWithHeaderLink:rn,commentCount:Gr,onClickTab:this.handleClickTab,transcription:(Ln=a.podcastUpload)==null?void 0:Ln.transcription,hideComments:!t})):(0,e.h)(e.Fragment,null,(0,e.h)(qc,{user:r,pub:i,post:a,isOnPostPage:!0,freeSignup:M,freeSignupEmail:k,reaction_token:F,allowEdit:!0,showShare:!0,showSubtitle:!0,showPhoto:!0,showCommentRestack:!0,hideTitle:Ce,noTitleLink:Se,onChange:ge,hideDate:a.type==="page",hideAudience:a.type==="page",showReactions:Pn,showComments:Ue,showLabel:!0,showUpdatedIcons:!0,fromPostPage:Ye,onClickCommentButton:this.onCommentButtonClicked,reactors:er,showRestackModal:at,showTranscriptionButton:!!cr,onTranscriptionClick:this.onTranscriptionClick,themeVariables:Tt}),!B&&lr&&(0,e.h)(ce,{onVisible:()=>this.onTopReached(Y)}),(a.has_voiceover||!!a.voiceoverUpload)&&(0,e.h)(cI,{pub:i,post:a,mediaUploadId:a.voiceover_upload_id,duration:(qn=a.voiceoverUpload)==null?void 0:qn.duration,autoPlay:En,href:a.canonical_url,isPaywalled:!a.voiceover_upload_id}),!a.voiceoverUpload&&En&&Fr&&(0,e.h)(GB,{postId:a.id,onClose:()=>{(0,C.j)(C.FP.LISTEN_TO_THIS_POST_MODAL_DISMISSED,{post_id:a.id}),this.setState({autoPlayVoiceOver:!1})}})),gt?(0,e.h)(cL,{postType:a.type,crossPostInfo:gt}):null,(a.type!=="podcast"||qt==="details"||!Er)&&(0,e.h)("div",{className:l()({"container container--podcast-post container--podcast-post-with-ufi":a.type==="podcast"})},(0,e.h)("div",{className:"available-content"},Ut?(0,e.h)("div",{className:"container tw-py-12"},(0,e.h)(Gv,{post:a,pub:i,user:r,playerRef:this.videoPlayer})):(0,e.h)($l,{html:ln||a.body_html,pub:i,trackSelection:!0,user:r,freeSignup:M,freeSignupEmail:k,post:a,paywall:Y,showing_behind_paywall:!!a.post_paywall_content_for_google})),a.post_paywall_content_for_google&&(0,e.h)("div",{className:"paywall-content"},(0,e.h)($l,{html:a.post_paywall_content_for_google,pub:i,trackSelection:!1,user:r,freeSignup:M,freeSignupEmail:k,post:a,paywall:Y})),!B&&lr&&(0,e.h)(ce,{onVisible:()=>this.onBottomReached(Y)}),Y&&!a.post_paywall_content_for_google?(0,e.h)(e.Fragment,null,(0,e.h)(Zl,au({user:r,freeSignupEmail:k,freeSignup:M,publication:i,post:a,fromPostPage:Ye,coupon:this.props.paywall===!0&&this.props.pub.paywall_free_trial_enabled?Ve:null},Object.assign({title:_r,reauthenticationTitle:xt("To read this, please re-authenticate.")},Y))),(0,e.h)(jy,{post:a})):ln?(0,e.h)("p",null,(0,e.h)($t.Z,{className:"expander",onClick:()=>this.setState({truncated:null})},"+ ",xt("show full post"))):!["page"].includes(a==null?void 0:a.type)&&(0,e.h)(e.Fragment,null,or&&(0,e.h)(ok,{pub:i,post:a,user:r,freeSignup:M,freeSignupEmail:k}),!or&&this.shouldShowRecommendCta&&(0,e.h)(X7,{pub:i}),(0,Pi.default)("like_posts_enabled")&&i.community_enabled&&fr&&(0,e.h)(y.hs,{borderTop:"detail-themed",paddingY:16},(0,e.h)(Ly,{post:a,pub:i,user:r,reactors:er,secondaryFaces:rr})),(0,e.h)("div",{className:"post-footer"},(0,e.h)(Jo.Mp,{post:a,pub:i,user:r,onChange:ge,themeVariables:Tt})),(0,e.h)(jy,{post:a})),a.show_guest_bios&&a.type!=="podcast"&&(0,e.h)(ak,{user:r,pub:i,post:a})),a.type==="podcast"&&qt==="comments"&&t&&(0,e.h)("div",{className:"container tw-py-12"},(0,e.h)(oR,{comments:Yn,expectedCommentCount:Gr,post:a,pub:i,sort:kn,token:F,user:r,inputRef:this.podcastCommentInput,onAddComment:this.handleAddPodcastComment,onUpdateSort:this.handleUpdateSortPodcastComments,onUpdateComment:this.handleUpdatePodcastComments})),a.type==="podcast"&&qt==="transcription"&&(0,e.h)("div",{className:"container tw-py-12"},(0,e.h)(Gv,{post:a,pub:i,user:r,playerRef:this.podcastPlayer})))}}fa(Ip,"contextType",ga),fa(Ip,"displayName","Post");const xp=(0,y.dd)((0,Mn.us)((0,P.fz)(Ip))),ok=({pub:n,post:t,user:r,freeSignup:i,freeSignupEmail:a,overridePledgesEnabled:M})=>{const{iString:k,iTemplate:F}=(0,P.M1)(),{getSettingFor:B}=(0,Mn.So)(),Y=n.payments_state==="disabled"&&!n.invite_only&&(B("payment_pledges_enabled")||M),ge=n.payments_state==="enabled"&&(r!=null&&r.is_free_subscribed)&&!(r!=null&&r.is_subscribed)?"paid_upsell":Y&&(r!=null&&r.is_free_subscribed)&&!(r!=null&&r.is_pledged)?"pledge_upsell":"free_upsell";(0,o.d4)(()=>{(0,C.j)(C.FP.POST_END_CTA_RENDERED,{pub_id:n.id,post_id:t.id,type:ge})},[n.id,t.id,ge]);const Ce=(0,nn.getByLine)(n);return(0,e.h)("div",{className:"post-end-cta-full"},(0,e.h)(ce,{onVisible:()=>{(0,C.j)(C.FP.POST_END_CTA_SEEN,{pub_id:n.id,post_id:t.id,type:ge})}}),(0,e.h)("h3",null,Y&&(r!=null&&r.is_free_subscribed)?F`Support ${n.name}`:F`Subscribe to ${n.name}`),(0,e.h)("p",{className:"end-cta-author-subs"},Ce?F`By ${Ce}`:null,Ce&&n.rankingDetail?" \xB7 ":null,n.rankingDetail),n.hero_text&&(0,e.h)("p",{className:"end-cta-hero-text"},n.hero_text),Y&&(r!=null&&r.is_free_subscribed)&&!(r!=null&&r.is_pledged)?(0,e.h)(yt.zx,{priority:"primary-theme",onClick:()=>{(0,C.j)(C.FP.POST_END_CTA_CLICKED,{type:"pledge"}),(0,O.redirect)((0,te.getSubscribeUrl)(n,{params:{utm_source:"post-end-cta"}}),{local_navigation:!1})}},k("Pledge your support")):(0,e.h)(Qa,{pub:n,post:t,user:r,freeSignup:i,freeSignupEmail:a,isStatic:!1,source:"post-end-cta"}))},yb=({pub:n})=>(0,e.h)("div",{className:"post-silhouette"},(0,e.h)("div",{className:"post-silhouette-title"}),(0,e.h)("div",{className:`post-silhouette-meta ${n&&n.bylines_enabled&&n.byline_images_enabled?"with-byline-image":""}`}),(0,e.h)("div",{className:"post-silhouette-body"})),qc=({allowEdit:n,allowSendEmail:t,allowTruncate:r,base_url:i,children:a,className:M,hideAudience:k,hideDate:F,hideTitle:B,hidePinning:Y,noTitleLink:ge,isStatic:Ce,isFreePreview:Se,is_draft:Ue,onChange:Ye,post:Ve,pub:at,reaction_token:pt,showComments:gt,showDatetime:xt,showEmailSent:Nt,showReactions:Tt,showShare:Ut,showAppUpsell:qt,showSubtitle:rn,showPhoto:ln,showLabel:yn,showRestack:In,showCommentRestack:En,hideAuthor:Yn,user:kn,utm_source:bn,showUpdatedIcons:er,fromPostPage:rr,onClickCommentButton:Vn,reactors:ar,inThreadHead:Jn,publishedPost:Qn,compEndsSoon:Ln,compEndedRecently:qn,siteConfigValues:Pn={},eligibleForTTS:Xn,showRestackModal:Gt,showIcon:lr,isOnPostPage:Tn,showTranscriptionButton:cr,onTranscriptionClick:Er,themeVariables:Gr})=>{const or=(0,D.isMobile)({checkFirst4:!0}),Fr=typeof r=="number"?r:45,fr=Ve.title&&Ve.title.length>Fr,_r=Ue?Ve.draft_title:Ve.title,lo=[(lr||Ve.type==="thread")&&(0,e.h)(V7,{postType:Ve.type,isStatic:Ce,height:15,className:Ve.type}),fr&&r?(0,nn.truncateWords)(_r,Fr):_r],Kr=Ue?Ve.draft_subtitle:Ve.subtitle;Ve.section_id&&at.sections&&at.sections.length&&(Ve.section=at.sections.find(qo=>qo.id===Ve.section_id));const zr=!["page"].includes(Ve==null?void 0:Ve.type),Ci=zr&&Ce&&Ln&&(Pn==null?void 0:Pn.continue_support_cta_in_newsletter_emails),Ho=Pb(Ve)||Xn||Ve.voiceoverUpload,ha=(Ve==null?void 0:Ve.type)==="adhoc_email",Vi=zr&&Ce&&!ha;let di;Ve.post_url_override?di=Ve.post_url_override:Ce?di=Ei.Substitutions.POST_TITLE_URL:di=`${(0,te.getPostUrl)(at,Ve)}${bn?`?utm_source=${bn}`:""}`;const to=`${at.base_url+(Ve.section?(0,te.getSectionUrl)(at,{section:Ve.section}):"")}/?utm_source=substack&utm_medium=menu`;return(0,e.h)("div",{className:l()("post-header",M)},yn&&(at.parent_publication||Ve.section)&&(0,e.h)(y.hs,{className:"post-label"},(0,e.h)(y.xv.Meta,{as:"a",size:14,href:to},at.parent_publication?at.name:Ve.section.name)),Ci&&(0,e.h)(nL,{post:Ve,compAlreadyExpired:qn}),!B&&(0,e.h)("h1",{className:l()("post-title",Ve.is_published?"published":Ve.type==="restack"?"email-only-cross-post":Ve.type==="adhoc_email"?"adhoc":"unpublished")},ge?lo:(0,e.h)("a",{href:di},lo)),rn&&Kr&&(0,e.h)("h3",{className:"subtitle"},Kr),Tn&&!Ce?(0,e.h)(y.tu,{paddingBottom:16},(0,e.h)(y.tu,{paddingY:16},(0,e.h)(ck,{post:Ve,pub:at})),or?rr&&(0,e.h)(Jo.mt,{post:Ve,pub:at,user:kn,isStatic:Ce,postReactionToken:pt,onChange:Ye,allowEdit:n,hidePinning:Y,showEmailSent:Nt,allowSendEmail:t,hideComments:!gt,onCommentsClick:Vn,showRestackModal:Gt}):(0,e.h)(Jo.Mp,{post:Ve,pub:at,user:kn,onChange:Ye,showRestackModal:Gt,showTranscriptionButton:cr,onTranscriptionClick:Er,themeVariables:Gr})):(0,e.h)(e.Fragment,null,zr&&!Ce&&!Qn&&!Jn?(0,e.h)(Q1,{className:"meta-subheader",pub:at,post:Ve,user:kn,showDate:!F,showDatetime:xt,isStatic:Ce,postReactionToken:pt,onChange:Ye,allowEdit:n,hidePinning:Y,showEmailSent:Nt,allowSendEmail:t,allowMobileFooter:rr,reactors:ar,onCommentsClick:Vn,showRestackModal:Gt}):zr&&!Ce&&Qn?(0,e.h)(Jo._2,{post:Ve,pub:at,user:kn,style:"compressed",labelStyle:"counts-or-none",postReactionToken:pt,showEmailSent:Nt,hideShare:!Ut||Ve.type==="restack",hideComments:Ve.type==="restack",hideSavePost:Ve.type==="restack",hideReactions:Ve.type==="restack",showPreamble:!0,allowEdit:n,allowSendEmail:t,editButtonIsLast:!0,preambleConfig:{showAudience:!k,showDate:!F,showDatetime:xt,showAuthor:!Yn},position:"publisher-post-list"}):Jn&&!Ce?(0,e.h)(Jo._2,{post:Ve,pub:at,user:kn,style:"compressed",labelStyle:"counts-or-none",postReactionToken:pt,hideSavePost:!0,showPreamble:!0,allowEdit:n,allowSendEmail:t,editButtonIsLast:!0,onChange:Ye,preambleConfig:{showAudience:!k,showDate:!F,showDatetime:xt,showAuthor:!Yn},position:"publisher-post-list"}):zr?(0,e.h)(a7,{user:kn,pub:at,post:Ve,showDate:!F,showDatetime:xt,showEmailSent:Nt,showAudience:!k,showReactions:!Vi&&Tt,showComments:!Vi&&gt,showShare:!Vi&&Ut,showRestack:!Vi&&In,reaction_token:pt,onChange:Ye,isStatic:Ce,isFreePreview:Se,sharedShareDialog:!0,base_url:i,allowSendEmail:t,allowEdit:n,showAuthor:!Yn,showPhoto:ln,hidePinning:Y,showUpdatedIcons:er,inThreadHead:Jn,fromPostPage:rr,onClickCommentButton:Vn,reactors:ar}):(0,e.h)("div",{className:"spacer",style:{height:24}}),zr&&Vi&&(0,e.h)(Jo.yT,{customization:{showShare:Ut,showComments:gt,showReactions:Tt,showListen:!In&&!Se&&Ho,showSave:!In,showRestack:In,showCommentRestack:En,showAppUpsell:qt}}),ha&&(0,e.h)("div",{className:"email-ufi-2-empty"})),a)};class bb extends e.Component{constructor(){super(...arguments),fa(this,"onClick",t=>{const r=this.getLink();this.props.onClick&&this.props.onClick(),!this.props.disableInteractive&&(0,O.redirect)(r,{event:t})}),fa(this,"getLink",()=>{var t;return this.props.linkToComments?(0,te.getPostUrl)(this.props.pub,this.props.post,{comments:this.props.linkToComments}):((t=this.props.post)==null?void 0:t.type)==="video"?(0,p.updateQuery)(this.props.post.canonical_url,{autoPlay:!0}):this.props.utm?(0,te.pathWithQuery)(this.props.post.canonical_url,this.props.utm):this.props.post.canonical_url})}getMaxTitleLength(){let t=this.props.maxTitleLength;return typeof t=="function"&&(t=t(this)),(typeof t!="number"||!(t>0))&&(t=140),t}getMaxDescriptionLength(){let t=this.props.maxDescriptionLength;return typeof t=="function"&&(t=t(this)),(typeof t!="number"||!(t>0))&&(t=152),t}render({className:t,post:r,pub:i,user:a,showDate:M,hideShare:k,authorInMeta:F,imageAssetSize:B,imageAspectRatio:Y,onChange:ge,linkToComments:Ce,showPublicationName:Se,isBigPost:Ue,showPins:Ye,hideDescription:Ve,hideAuthor:at,isBelowTheFold:pt}){const gt=this.getLink(),xt=typeof window=="undefined"||(0,Pi.default)("like_posts_enabled"),Nt=!at&&!F&&(i==null?void 0:i.bylines_enabled)&&(0,nn.getPrintedByline)(i,r),Tt=this.props.showCoverImage&&((0,Tr.getCoverImageUrl)(r)||!this.props.coverImageOptional);!B&&!Y&&(Y=1.32);const Ut=B||336,qt=(0,nn.getBylineUsers)(r);return(0,e.h)("div",{className:l()("post-preview",t,{"has-image":Tt,"has-author-line":!F}),onClick:this.onClick},(0,e.h)(y.tu,{className:"post-preview-container"},Tt&&r.type==="restack"&&(0,e.h)(y.hs,{className:"post-preview-restack",alignItems:"center",gap:4,paddingBottom:8},(0,e.h)(Hc.Z,{height:Ue?26:16,className:"restack"}),(0,e.h)(y.xv.Meta,{color:"secondary"},"CROSS-POST")),(0,e.h)(y.hs,{className:"post-preview-content-container",gap:4},Tt&&(0,e.h)(Cs,{className:"post-preview-image",imageAspectRatio:Y,post:r,imageWidth:Ut,isBelowTheFold:pt}),(0,e.h)("div",{className:"post-preview-content"},(i==null?void 0:i.parent_publication)&&Ue&&(0,e.h)(y.hs,{className:"post-label"},(0,e.h)(y.xv.Meta,{as:"a",size:14,href:`${i.base_url}/?utm_source=substack&utm_medium=menu`},i.name)),!Tt&&r.type==="restack"&&(0,e.h)(y.hs,{className:"post-preview-restack",alignItems:"center",gap:4},(0,e.h)(Hc.Z,{height:Ue?26:16,className:"restack"}),(0,e.h)(y.xv.Meta,{color:"secondary"},"CROSS-POST")),(0,e.h)("a",{href:gt,className:`post-preview-title ${r.type}`},r.type==="thread"&&(0,e.h)(yp,{height:Ue?26:17,className:"thread"}),r.type==="podcast"&&(0,e.h)(Co,{height:Ue?26:17,className:"podcast"}),r.type==="video"&&(0,e.h)(Ey,{height:Ue?26:19,width:Ue?26:19,className:"video"}),Ce&&r.type!=="thread"&&"Comments on: ",(0,nn.truncateWords)(r.title,this.getMaxTitleLength())),!Ve&&(0,e.h)("a",{href:gt,className:"post-preview-description"},wi()((0,nn.truncateWords)(r.description,this.getMaxDescriptionLength()))),Nt&&(0,e.h)("div",{className:"post-preview-author"},qt.length>0?(0,nn.oxfordComma)(qt.map(rn=>(0,e.h)(ca.Ct,{subject:rn,utmSource:"byline"},(0,e.h)("a",{href:(0,p.getProfileUrl)(rn,i),onClick:ln=>ln.stopPropagation()},rn.name)))):(0,nn.getPrintedByline)(i,r)),i&&(0,e.h)(Jo._2,{pub:i,post:r,user:a,hideShare:r.type==="restack"||k,hideReactions:r.type==="restack"||!xt,hideComments:r.type==="restack"||!(0,nn.showCommentsOnPost)({publication:i,post:r}),hideSavePost:r.type==="restack",showRestackButton:r.type!=="restack",hideFeedRestackButton:r.type==="restack",allowEdit:r.type!=="restack",editButtonIsLast:!0,labelStyle:"counts-or-none",style:"compressed",onChange:ge,showPreamble:!0,preambleConfig:{showPins:Ye,showAudience:!0,showDate:M,showAuthor:r.type!=="restack"&&!at&&!Nt&&F,showPublicationName:Se,showCrossPostedPublicationName:!0},position:"post-list"})))))}}fa(bb,"contextType",$n.QA);const ik=({className:n,pub:t})=>(0,e.h)("div",{className:`post-preview-silhouette has-image ${n||""}`},(0,e.h)("div",{className:"post-preview-silhouette-image"}),(0,e.h)("div",{className:"post-preview-silhouette-content"},(0,e.h)("div",{className:"post-preview-silhouette-title"}),(0,e.h)("div",{className:"post-preview-silhouette-description"}),t&&t.bylines_enabled&&(0,e.h)("div",{className:"post-preview-silhouette-author"}),(0,e.h)("div",{className:"post-preview-silhouette-meta"}))),ak=({user:n,pub:t,post:r})=>{const{iString:i,iTemplate:a}=(0,P.M1)(),M=(0,nn.getBylineUsers)(r).filter(k=>k.is_guest);return M.length===0?null:(0,e.h)("div",{className:"post-contributor-footer"},(0,e.h)("div",{className:"container-border"}),M.map(k=>{const F=(0,nn.guessFirstName)(k.name);let B=k.primaryPublicationSubscribeUrl;B&&(n!=null&&n.email)&&(B=(0,p.updateQuery)(B,{email:n.email,autoSubmit:!0,utm_source:"substack",utm_campaign:"guest_post_bio",utm_medium:"web"}));const Y=(0,p.updateQuery)((0,te.getReaderProfileUrl)(k),{utm_campaign:"guest_post_bio",utm_medium:"web"}),ge=sp.ZP.hasCustomProfilePhoto(k);return(0,e.h)("div",{className:l()("post-contributor-bio",{"post-contributor-bio-no-text":!k.bio}),"data-user-id":k.id},(0,e.h)("table",{cellpadding:"0",cellspacing:"0",className:"post-contributor-bio-table"},(0,e.h)("tr",{className:"post-contributor-bio-table-row"},ge&&(0,e.h)("td",{className:"post-contributor-bio-userhead-cell post-contributor-bio-userhead-cell-web"},(0,e.h)(ca.Ct,{subject:k,utmSource:"byline"},(0,e.h)(sp.ZP,{size:52,user:n,pub:t,subject:k}))),(0,e.h)("td",{className:"post-contributor-bio-body-cell post-contributor-bio-body-cell-web"},(0,e.h)("div",{className:"post-contributor-bio-body"},k.bio&&(0,e.h)("div",{className:"post-contributor-bio-preamble"},i("A guest post by")),(0,e.h)("table",{cellpadding:"0",cellspacing:"0",className:"post-contributor-bio-body-table"},(0,e.h)("tr",{className:"post-contributor-bio-body-table-row"},(0,e.h)("td",{className:"post-contributor-bio-copy-cell"},!k.bio&&(0,e.h)("div",{className:"post-contributor-bio-preamble"},i("A guest post by")),(0,e.h)(y.gq,{gap:4,alignItems:"center",paddingBottom:4},(0,e.h)(ca.Ct,{subject:k,utmSource:"byline"},(0,e.h)("a",{className:"post-contributor-bio-title no-margin",href:Y,native:!0},k.name)),(0,e.h)(ho.s,{size:"sm",tier:k.bestseller_tier,userId:k.id})),k.bio&&(0,e.h)("div",{className:"post-contributor-bio-text"},k.bio)),(0,e.h)("td",{className:"post-contributor-bio-controls-cell post-contributor-bio-controls-cell-web"},(0,e.h)("div",{className:"post-contributor-bio-controls"},B&&(0,e.h)("a",{className:"post-contributor-bio-subscribe-button button primary",href:B,native:!0},(0,e.h)("span",{className:"post-contributor-bio-subscribe-button-label"},a`Subscribe to ${F}`)))))))))))}))};class Lz extends null{render({renderPost:t,posts:r,hideFirstHeading:i,className:a,top:M,children:k}){return r=r.slice(0).sort((F,B)=>dayjs(B.post_date)-dayjs(F.post_date)),h("div",{className:`calendared-post-list ${a||""}`},M,flat(this.renderByHeading(r,"year",(F,B)=>[!B.isSameNow("year")&&h("h2",{date:B},B.year()),this.renderByHeading(F,"month",(Y,ge)=>[!(ge.isSameNow("year")&&ge.isSameNow("month"))&&h("h3",{date:B},get_month_name(ge)," ",!ge.isSameNow("year")&&ge.year()),Y.map(Ce=>t(Ce,r.indexOf(Ce),r))])]),1/0).filter(F=>F).filter((F,B,Y)=>!i||B>=Y.findIndex(ge=>!ge.props||!ge.props.date)),k)}renderByHeading(t,r,i){return Array.from(group_by(t,a=>dayjs(a.post_date)[r]())).sort((a,M)=>M[0]-a[0]).map(([,a])=>i(a,dayjs(a[0].post_date)))}}function sk(n,t=1e4,r=t){if(typeof window=="undefined")return null;const i=document.createElement("div");if(i.innerHTML=n,i.textContent.length<t||i.childNodes.length<=1)return null;do i.removeChild(i.lastChild);while(i.childNodes.length>1&&i.textContent.length>r);return i.innerHTML}function lk(n,t=500){if(typeof window=="undefined")return!1;const r=document.createElement("div");r.innerHTML=n;let i="",a=!1;for(let M=r.childNodes.length-1;M>=0;M--){const k=r.childNodes[M];if((0,O.hasClass)(k,"button-wrapper")||(0,O.hasClass)(k,"subscription-widget-wrap")){a=!0;break}if(i+=k.textContent,i.length>t)break}return!a}function uk({post:n,user:t,onChange:r}){const{onSave:i}=(0,Jo.vk)({post:n,isSaved:!1});return(0,o.d4)(()=>{if(new URL(location).searchParams.get("action")==="save"&&(history.replaceState({},"",(0,p.updateQuery)({action:null})),t)){const M=i();r({post:Qc(au({},n),{is_saved:M})})}},[]),null}function Pb(n){var t;return(t=n.audio_items)==null?void 0:t.some(r=>r.type==="tts")}function ck({post:n,pub:t,relativeLinks:r}){const{publishedBylines:i=[]}=n,a=t.bylines_enabled&&(0,nn.getPrintedByline)(t,n)&&n.type!=="podcast",M=a&&t.byline_images_enabled&&i.some(({photo_url:ge})=>!!ge),k=n.type!=="page",{iString:F,language:B}=(0,P.M1)(),Y=new Intl.DateTimeFormat(B==="en"?void 0:B,{dateStyle:"medium"});return(0,e.h)(y.hs,{justifyContent:"start",gap:12,alignItems:"center"},M&&(0,e.h)(y.hs,null,(0,e.h)(Yl.ZP,{faces:i,hoverProfiles:!0,maximum:4,showBlanks:!0,relativeLinks:r})),(0,e.h)(y.tu,null,a&&(0,e.h)(y.xv.Meta,{color:"pub-primary-text"},(0,e.h)(Ef.M,{array:i,formatter:ge=>(0,e.h)(ca.Ct,{subject:ge,utmSource:"byline"},(0,e.h)(y.xv,{as:"a",href:(0,te.getReaderProfileUrl)(ge),decoration:"hover-underline"},ge.name)),limit:4})),(0,e.h)(y.hs,{gap:4},(0,e.h)(y.xv.Meta,{color:"pub-secondary-text"},Y.format(un()(n.post_date).toDate())),k&&(0,Tr.isPaidAudience)(n.audience)&&(0,e.h)(y.xv.Meta,{color:"pub-secondary-text"},"\u2219 ",F("Paid")))))}var dk=Object.defineProperty,Eb=Object.getOwnPropertySymbols,fk=Object.prototype.hasOwnProperty,pk=Object.prototype.propertyIsEnumerable,Mp=(n,t,r)=>t in n?dk(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Dp=(n,t)=>{for(var r in t||(t={}))fk.call(t,r)&&Mp(n,r,t[r]);if(Eb)for(var r of Eb(t))pk.call(t,r)&&Mp(n,r,t[r]);return n},Ss=(n,t,r)=>(Mp(n,typeof t!="symbol"?t+"":t,r),r),hk=(n,t,r)=>new Promise((i,a)=>{var M=B=>{try{F(r.next(B))}catch(Y){a(Y)}},k=B=>{try{F(r.throw(B))}catch(Y){a(Y)}},F=B=>B.done?i(B.value):Promise.resolve(B.value).then(M,k);F((r=r.apply(n,t)).next())});class mk extends e.Component{constructor(t,r){if(super(t,r),Ss(this,"onTabClick",i=>a=>{a.preventDefault(),this.loadTab(i)}),Ss(this,"onSearchInput",i=>{this.state.tab.id==="search"&&this.loadTab("search",i.target.value||"")}),Ss(this,"onSearchKeyDown",i=>{this.state.tab.id==="search"&&i.key==="Escape"&&(i.target.blur(),this.loadTab(this.state.tabs[0].id))}),Ss(this,"onPostClicked",(i,a,M,k)=>{(0,C.j)(C.FP.ARCHIVE_PAGE_POST_CLICKED,{post_id:a,tab:this.state.tab.id,rank_in_feed:M,source:k!=null?k:this.props.source})}),Ss(this,"onSearchBlur",i=>{this.state.tab.id==="search"&&!i.target.value&&this.loadTab(this.state.tabs[0].id,"")}),Ss(this,"loadTab",(i,a)=>hk(this,null,function*(){const M=this.state.tabs.find(ge=>ge.id===i);let k=!1;if(M.id==="search"&&typeof a=="string"&&M.query!==a&&(k=!0,M.query=a,M.posts=null,M.fullyLoaded=!1,M.loading=!1,M.loadingError=null),M.id!==this.state.tab.id?(this.setState({tab:M},()=>{M.id==="search"&&this.searchInput&&(this.searchInput.focus(),this.searchInput.select())}),this.props.stateInUrl&&typeof window!="undefined"&&window.history.replaceState&&window.history.replaceState({},document.title,(0,p.updateQuery)({sort:M.id,search:M.query||null}))):k&&this.props.stateInUrl&&typeof window!="undefined"&&window.history.replaceState&&window.history.replaceState({},document.title,(0,p.updateQuery)({search:M.query||null})),M.loading||M.fullyLoaded)return;if(M.id==="search"&&!M.query){M.posts=[],M.fullyLoaded=!0,this.setState({tabs:this.state.tabs});return}const F=(0,nn.randomString)();if(M.loading=F,M.loadingError=null,this.setState({tabs:this.state.tabs}),M.id==="search"&&M.query&&(yield new Promise(ge=>setTimeout(ge,300)),M.loading!==F))return;!this.state.tabs.find(ge=>ge.posts||ge.fullyLoaded||ge.loading||ge.loadingError)&&this.props.delayFirstLoad&&(yield new Promise(ge=>setTimeout(ge,this.props.delayFirstLoad)));const Y=this.props.pub?"/api/v1/archive":this.props.profile?"/api/v1/profile-archive":null;try{const ge=this.props.maxPosts?this.props.maxPosts*2:this.getFetchLimit(),Ce=(yield jn().get(Y).query(Dp(Dp(Dp({sort:M.id==="search"?"new":M.id,search:M.id==="search"?M.query:"",offset:(M.posts||[]).length,limit:this.props.maxPosts?this.props.maxPosts*2:this.getFetchLimit(),type:this.props.isPodcast?"podcast":void 0},this.props.postTagId&&{post_tag_id:this.props.postTagId}),this.props.sectionId&&{section_id:this.props.sectionId}),this.props.profile&&{profile_user_id:this.props.profile.id}))).body;if(M.loading!==F)return;M.posts=M.posts?M.posts.concat(Ce):Ce,M.fullyLoaded=Ce.length<ge||this.props.maxPosts&&M.posts.length>=this.props.maxPosts}catch(ge){console.error("Failed to load tab:",ge),M.loadingError=ge}M.loading=!1,this.setState({tabs:this.state.tabs})})),Ss(this,"onChange",({post:i})=>{i&&((0,O.stateTransaction)(this,a=>{let M=!1;const k=a.tabs.map(F=>F.posts).filter(F=>Array.isArray(F));for(const F of k){const B=F.findIndex(Y=>Y.id===i.id);B!==-1&&(F[B]=i,M=!0)}M&&this.setState({tabs:a.tabs})}),this.props.onChange&&this.props.onChange(i))}),!(this.props.pub||this.props.profile))throw new Error("Archive must be loaded for a publication or a profile");this.loadTab=this.loadTab.bind(this),this.state=this.getTabs()}componentDidMount(){this.loadTab(this.state.tab.id)}componentWillUnmount(){this.state.tab.id==="search"&&this.searchInput&&this.searchInput.blur()}componentDidUpdate(t){(t.hideTop!==this.props.hideTop||t.newPosts!==this.props.newPosts)&&this.setState(this.getTabs())}getTabs(){var t,r;let i=[];const{iString:a}=this.props;i.push({id:"new",title:this.props.newTitle||a("New"),posts:this.props.newPosts,fullyLoaded:!!(this.props.maxPosts&&this.props.newPosts)}),(!this.props.newPosts||this.props.newPosts.length>=this.getFetchLimit())&&(this.props.hideTop||i.push({id:"top",title:this.props.topTitle||a("Top"),posts:this.props.topPosts,fullyLoaded:!!(this.props.maxPosts&&this.props.topPosts)}),(t=this.props.pub)!=null&&t.community_enabled&&((r=this.props.pub)!=null&&r.has_community_content)&&i.push({id:"community",title:this.props.communityTitle||a("Community"),posts:this.props.communityPosts,fullyLoaded:!!(this.props.maxPosts&&this.props.communityPosts)})),i=this.props.sortTabs&&this.props.sortTabs(i)||i,(this.props.sort==="search"||!(this.props.newPosts&&this.props.newPosts.length<this.getFetchLimit()))&&i.push({id:"search",title:a("Search"),posts:this.props.searchPosts,fullyLoaded:!!(this.props.maxPosts&&this.props.searchPosts),query:this.props.search||"",hidden:!0});const M=i.find(k=>k.id===this.props.sort)||this.props.search&&i.find(k=>k.id==="search")||i[0];return{tabs:i,tab:M}}getFetchLimit(){return this.props.maxPosts||12}render({authorInMeta:t,className:r,disableInteractive:i,emptyMessage:a,filterPosts:M,hideAuthor:k,hideSearchTab:F,hideShare:B,isBelowTheFold:Y,isPodcast:ge,maxPosts:Ce,maxTitleLength:Se,pinnedPosts:Ue,profile:Ye,pub:Ve,renderLoading:at,renderPosts:pt,renderTabs:gt,renderSeeAll:xt,showMonthDividers:Nt,showPins:Tt,showPublicationName:Ut,source:qt,user:rn,iString:ln,iTemplate:yn},{tabs:In,tab:En}){a=a||ln("No posts");const Yn=Nt&&En.id==="new",kn=In.find(Gt=>Gt.id==="search"),bn=In.find(Gt=>Gt.id==="community");let er=Array.isArray(En.posts)?En.posts.filter(Gt=>!(Ve&&En.id==="top"&&Gt.top_exclusions.includes(Ve.id))).filter(Gt=>Ve!=null&&Ve.section&&(Ue!=null&&Ue.length)?!Ue.find(lr=>lr.id===Gt.id):!0).filter(Gt=>!nn.hidePaidPostsFor.includes(Ve==null?void 0:Ve.subdomain)||Gt.audience==="everyone"||(rn==null?void 0:rn.is_subscribed)).filter(M||(()=>!0)):[];Ve!=null&&Ve.section&&(Ue!=null&&Ue.length)&&["new","top"].includes(En.id)&&(er=[...Ue,...er]);const rr=er.length===0,Vn=!er&&!En.loadingError,ar=er.some&&er.some(Gt=>Gt.cover_image);let Jn;Ye&&(Jn=new Map(Ye.publicationUsers.map(Gt=>[Gt.publication.id,Gt.publication])));const Qn=Ce?er.slice(0,Ce):er,Ln=pt?pt({posts:Qn,linkToComments:En===bn,onClickPost:({event:Gt,post:lr,index:Tn,source:cr})=>this.onPostClicked(Gt,lr.id,Tn,cr),postGroups:Yn?_k(Qn,Ve.language):null}):[];if(!pt){let Gt;Qn.forEach((lr,Tn)=>{if(Yn){const cr=Vs()(lr.post_date).format("MMMM YYYY");cr!==Gt&&(Tn!==0&&Ln.push((0,e.h)("h3",null,cr)),Gt=cr)}Ln.push((0,e.h)(bb,{key:lr.id,className:"portable-archive-post",post:lr,pub:Ve||Jn&&Jn.get(lr.publication_id),user:rn,showDate:!0,showCoverImage:ar,authorInMeta:(0,nn.getBylineUsers)(lr).length<=1&&t!==!1,linkToComments:En===bn,onChange:this.onChange,disableInteractive:i,showPins:Tt,showPublicationName:Ut,hideAuthor:k,onClick:cr=>this.onPostClicked(cr,lr.id,Tn,qt),maxTitleLength:Se,hideShare:B,isBelowTheFold:Y}))})}const qn=ge?(0,te.getPodcastArchiveUrl)({pub:Ve,section:Ve.section,params:{sort:En.id,search:En.query}}):(0,p.getArchiveUrl)(Ve,{params:{sort:En.id,search:En.query}}),Pn=xt?xt({url:qn}):(0,e.h)("a",{className:"portable-archive-all",href:qn,native:!0},ln("See all")," ",(0,e.h)(ct,{height:12,width:12})),Xn=at?at():Array.from(new Array(this.getFetchLimit())).map(()=>(0,e.h)(ik,{pub:Ve}));return(0,e.h)("div",{className:l()("portable-archive",r,{"empty-list":rr})},gt&&gt({activeTabId:En.id,isSearching:En===kn,showSearch:!!(kn&&!F),searchInputProps:{value:kn==null?void 0:kn.query,onKeyDown:this.onSearchKeyDown,onKeyPress:this.onSearchInput,onInput:this.onSearchInput,onChange:this.onSearchInput,onBlur:this.onSearchBlur},searchRef:Gt=>{this.searchInput=Gt},tabs:In.filter(Gt=>!Gt.hidden),onClick:Gt=>{this.loadTab(Gt)},onClickSearch:()=>{this.loadTab("search")},onClickSearchClose:()=>{this.loadTab(In[0].id)}}),!gt&&(0,e.h)("div",{className:"portable-archive-tabs"},En===kn?(0,e.h)("div",{className:"portable-archive-search-bar"},(0,e.h)(Tc,{className:"portable-archive-search-bar-icon"}),(0,e.h)("input",{ref:Gt=>this.searchInput=Gt,className:"portable-archive-search-bar-input",type:"text",placeholder:ln("Search..."),value:En.query,onKeyDown:this.onSearchKeyDown,onKeyPress:this.onSearchInput,onInput:this.onSearchInput,onChange:this.onSearchInput,onBlur:this.onSearchBlur}),(0,e.h)(S.Z,{className:"portable-archive-search-bar-close",onClick:this.onTabClick(In[0].id)})):(0,e.h)(e.Fragment,null,In.filter(Gt=>!Gt.hidden).map(({id:Gt,title:lr})=>(0,e.h)("a",{className:`portable-archive-tab ${Gt}-tab ${En.id===Gt?"active":""}`,onClick:this.onTabClick(Gt)},(0,e.h)("span",{className:"portable-archive-tab-content"},lr))),kn&&!F&&(0,e.h)("a",{className:"portable-archive-tab search-tab",href:"javascript:void(0)",onClick:this.onTabClick("search")},(0,e.h)(Tc,null)))),(0,e.h)("div",{className:"portable-archive-list"},En.loadingError?(0,e.h)("p",{className:"portable-archive-empty"},ln("Failed to load posts")):er.length===0&&!En.loading?(0,e.h)("p",{className:"portable-archive-empty"},En.id!=="search"?a:En.query?ln("No results"):yn`Search ${Ve?Ve.name:""}`):(0,e.h)(e.Fragment,null,Ln,!Ce&&!Vn&&!En.loading&&!En.fullyLoaded&&(0,e.h)(ce,{threshold:640,onVisible:()=>this.loadTab(En.id,En.query)})),En.loading||Vn?Xn:Ce&&er.length>=Ce&&Pn))}}const Ap=(0,P.fz)(mk),_k=(n,t="en")=>{let r;const i=[];return n.forEach((a,M)=>{const k=Vs()(a.post_date).locale(t).format("MMMM YYYY");k!==r?(M===0?i.push({label:"",posts:[a]}):i.push({label:k,posts:[a]}),r=k):i[i.length-1].posts.push(a)}),i},wb={pillTab:"frontend-pencraft-unstable-PillTabs-module__pillTab--cqGWE",pillTabActive:"frontend-pencraft-unstable-PillTabs-module__pillTabActive--bmZsx"},gk=({tabs:n,activeTabId:t,onClick:r})=>(0,e.h)(he.gq,{gap:8},n.map(i=>(0,e.h)(vk,{onClick:()=>{r(i.id)},active:i.id===t},i.title))),vk=({active:n,onClick:t,children:r})=>(0,e.h)("div",{className:l()(wb.pillTab,{[wb.pillTabActive]:n}),role:"button",onClick:t},r),Np=(0,e.createContext)({url:"",linkToComments:!1}),su=3/2,Rp=16/9,yk=(0,Kt.forwardRef)(({animated:n=!0,variant:t},r)=>["grid","grid-groups"].includes(t)?(0,e.h)(y.tu,{gap:12,ref:r},(0,e.h)(da,{animated:n,aspectRatio:su}),(0,e.h)(y.tu,{gap:8},(0,e.h)(da,{animated:n,height:24,width:"70%"}),(0,e.h)(da,{animated:n,height:20,width:"90%"}),(0,e.h)(da,{animated:n,height:20,width:"50%"}))):t==="list"?(0,e.h)(y.tu,{gap:8,ref:r},(0,e.h)(da,{animated:n,height:28,width:"60%"}),(0,e.h)(da,{animated:n,height:24,width:"80%"}),(0,e.h)(da,{animated:n,height:20,width:"20%"})):null),Cb={loadingContainerGrid:"frontend-main-home-PostPreviewSilhouetteLayout-module__loadingContainerGrid--uCg9L",loadingContainerList:"frontend-main-home-PostPreviewSilhouetteLayout-module__loadingContainerList--Hndyu"},Lp=(0,Kt.forwardRef)(({animated:n=!0,postCount:t,variant:r},i)=>(0,e.h)("div",{className:l()({[Cb.loadingContainerGrid]:["grid","grid-groups"].includes(r),[Cb.loadingContainerList]:r==="list"}),ref:i},Array.from(new Array(t)).map(()=>(0,e.h)(yk,{variant:r,animated:n})))),lu={iconButton:"frontend-main-home-ArchiveAdapted-module__iconButton--_iQQr",searchInput:"frontend-main-home-ArchiveAdapted-module__searchInput--ZBorP",searchIcon:"frontend-main-home-ArchiveAdapted-module__searchIcon--cweE0",monthHeader:"frontend-main-home-ArchiveAdapted-module__monthHeader--H_zx5"};var bk=Object.defineProperty,Pk=Object.defineProperties,Ek=Object.getOwnPropertyDescriptors,Ob=Object.getOwnPropertySymbols,wk=Object.prototype.hasOwnProperty,Ck=Object.prototype.propertyIsEnumerable,Sb=(n,t,r)=>t in n?bk(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Ok=(n,t)=>{for(var r in t||(t={}))wk.call(t,r)&&Sb(n,r,t[r]);if(Ob)for(var r of Ob(t))Ck.call(t,r)&&Sb(n,r,t[r]);return n},Sk=(n,t)=>Pk(n,Ek(t));const ed=({children:n,communityTitle:t,delayFirstLoad:r,filterPosts:i,isBelowTheFold:a,isPodcast:M,maxPosts:k,pinnedPosts:F,newPosts:B,pub:Y,search:ge,sectionId:Ce,showMonthDividers:Se,sort:Ue,sortTabs:Ye,source:Ve,user:at,variant:pt="list"})=>{const{iString:gt}=(0,P.M1)();return(0,e.h)(Ap,{communityTitle:t,delayFirstLoad:r,filterPosts:i,isBelowTheFold:a,isPodcast:M,maxPosts:k,newPosts:B,pinnedPosts:F,pub:Y,renderPosts:({posts:xt,linkToComments:Nt,onClickPost:Tt,postGroups:Ut})=>Ut?Ut.map(({label:qt,posts:rn})=>(0,e.h)(e.Fragment,null,qt&&(0,e.h)(e.Fragment,null,(0,e.h)(Gl,{paddingTop:8,paddingBottom:8}),(0,e.h)(y.xv.Meta,{className:lu.monthHeader,color:"pub-accent",paddingBottom:24},qt)),n({posts:rn,linkToComments:Nt,onClickPost:Tt}))):n({posts:xt,linkToComments:Nt,onClickPost:Tt}),renderLoading:()=>(0,e.h)(Lp,{variant:pt,postCount:k!=null?k:7}),renderSeeAll:({url:xt})=>pt==="grid-groups"?null:(0,e.h)(y.gq,{paddingTop:16},(0,e.h)(y.zx,{href:xt,rightIcon:(0,e.h)(Pl.Z,{size:20}),priority:"secondary-theme",fill:"outline","data-testid":"archive-view-all"},gt("See all"))),renderTabs:({activeTabId:xt,isSearching:Nt,tabs:Tt,searchInputProps:Ut,searchRef:qt,showSearch:rn,onClick:ln,onClickSearch:yn,onClickSearchClose:In})=>pt==="grid-groups"?null:Nt?(0,e.h)(y.gq,{alignItems:"center",justifyContent:"space-between",paddingBottom:16},(0,e.h)(y.gq,{gap:4,alignItems:"center",paddingLeft:8},(0,e.h)(Tc,{height:16,className:lu.searchIcon}),(0,e.h)("input",Sk(Ok({},Ut),{ref:qt,type:"text",placeholder:gt("Search..."),className:lu.searchInput}))),(0,e.h)("div",{role:"button",onClick:In,className:lu.iconButton},(0,e.h)(S.Z,{height:20}))):(0,e.h)(y.gq,{alignItems:"center",justifyContent:"space-between",paddingBottom:16},(0,e.h)(gk,{activeTabId:xt,tabs:Tt,onClick:ln}),rn&&(0,e.h)("div",{role:"button",onClick:yn,className:lu.iconButton},(0,e.h)(Tc,{height:20}))),sectionId:Ce,search:ge,showMonthDividers:Se,sort:Ue,sortTabs:Ye,source:Ve,stateInUrl:!0,user:at})},Tb=(0,e.createContext)({alwaysShowActions:!1}),Tk=({justified:n,post:t,pub:r,user:i,onChange:a})=>{const M=t.type==="restack";return(0,e.h)(Jo._2,{allowEdit:!M,editButtonIsLast:!0,hideComments:!(0,nn.showCommentsOnPost)({publication:r,post:t})||M,hideReactions:!r.community_enabled||M,hideShare:M,isStatic:!1,justified:n,labelStyle:"counts-or-none",post:t,pub:r,hideFeedRestackButton:M,showRestackButton:!M,style:"compressed",user:i,onChange:a,position:"pub-preview"})},ts={textContainer:"frontend-main-home-PostPreview-PostPreviewAuthors-module__textContainer--DYUfJ",date:"frontend-main-home-PostPreview-PostPreviewAuthors-module__date--MMeK8",pub:"frontend-main-home-PostPreview-PostPreviewAuthors-module__pub--OGpa8",icon:"frontend-main-home-PostPreview-PostPreviewAuthors-module__icon--Q4O7L",iconClamped:"frontend-main-home-PostPreview-PostPreviewAuthors-module__iconClamped--X6gF7",link:"frontend-main-home-PostPreview-PostPreviewAuthors-module__link--XzaS3"},sl=({clamp:n,post:t,pub:r,showPin:i})=>{const a=(0,nn.getBylineUsers)(t),{iTemplate:M,language:k}=(0,P.M1)();return(0,e.h)(y.xv.Meta,{className:ts.textContainer,color:"pub-secondary-text",clamp:n},i&&(0,e.h)("div",{className:ts.icon},(0,e.h)(Yv,{size:12})),(0,Tr.isPaidAudience)(t.audience)&&(0,e.h)("div",{className:l()(ts.icon,n&&ts.iconClamped)},(0,e.h)(Z1.Z,{audience:t.audience,size:12})),t.restacked_pub_name?(0,e.h)(e.Fragment,null,(0,e.h)("span",{className:ts.pub},M`Published on ${t.restacked_pub_name}`),"\xA0","\u2022","\xA0"):null,(0,e.h)("time",{className:ts.date,dateTime:un()(t.post_date).toISOString()},(0,Jo.fh)({post:t,showDatetime:!1,language:k})),t.type!=="restack"&&a.length>0&&r.bylines_enabled&&(0,e.h)(e.Fragment,null,"\xA0","\u2022","\xA0",(0,nn.oxfordComma)(a.map(F=>n?(0,e.h)("a",{className:ts.link,href:(0,p.getProfileUrl)(F,r),onClick:B=>B.stopPropagation()},F.name):(0,e.h)(ca.Ct,{subject:F,utmSource:"byline"},(0,e.h)("a",{className:ts.link,href:(0,p.getProfileUrl)(F,r),onClick:B=>B.stopPropagation()},F.name))),{noBreakSpace:!0})))},uu=({align:n,clamp:t,lineHeight:r=20,maxLength:i=152,paddingBottom:a,post:M,size:k=14})=>{const{url:F}=(0,o.qp)(Np);return(0,e.h)(y.tu,{paddingBottom:a},(0,e.h)(y.xv,{as:"a",align:n,href:F,clamp:t,color:"pub-secondary-text",font:"text",size:k,lineHeight:r},wi()((0,nn.truncateWords)(M.description,i))))};var Ik=Et(98961);const Bp={sm:{size:14,lineHeight:20},md:{size:18,lineHeight:28},lg:{size:28,lineHeight:40},mobileMd:{size:16,lineHeight:24},mobileLg:{size:24,lineHeight:36}},cu={icon:"frontend-main-home-PostPreview-PostPreviewTitle-module__icon--ftllQ","iconVideo-16":"frontend-main-home-PostPreview-PostPreviewTitle-module__iconVideo-16--SoCpZ","iconVideo-20":"frontend-main-home-PostPreview-PostPreviewTitle-module__iconVideo-20--ZxgZa","iconVideo-28":"frontend-main-home-PostPreview-PostPreviewTitle-module__iconVideo-28--q2Mu_","iconVideo-32":"frontend-main-home-PostPreview-PostPreviewTitle-module__iconVideo-32--sMZ1R"},ll=({align:n,clamp:t,maxLength:r=140,paddingBottom:i,post:a,preset:M})=>{const{url:k,linkToComments:F}=(0,o.qp)(Np),{lineHeight:B,size:Y}=Bp[M],ge=Y>=28;return(0,e.h)(y.tu,{paddingBottom:i},(0,e.h)(y.xv,{as:"a",href:k,align:n,clamp:t,font:"pub-headings",lineHeight:B,size:Y,weight:"semibold","data-testid":"post-preview-title"},a.type==="thread"&&(0,e.h)(yp,{height:ge?26:17,className:cu.icon}),a.type==="podcast"&&(0,e.h)(Co,{height:ge?26:17,className:cu.icon}),a.type==="video"&&(0,e.h)(Ik.Z,{height:ge?26:19,width:ge?26:19,className:l()(cu.icon,cu.iconVideo,cu[`iconVideo-${Y}`]),strokeWidth:1.8}),F&&a.type!=="thread"&&"Comments on: ",(0,nn.truncateWords)(a.title,r)))},td={container:"frontend-main-home-PostPreview-PostPreviewJumbo-module__container--TIl7m",containerNoImage:"frontend-main-home-PostPreview-PostPreviewJumbo-module__containerNoImage--hOvi7",image:"frontend-main-home-PostPreview-PostPreviewJumbo-module__image--kibZN",content:"frontend-main-home-PostPreview-PostPreviewJumbo-module__content--PDmTG"};var xk=Object.defineProperty,Mk=Object.defineProperties,Dk=Object.getOwnPropertyDescriptors,Ib=Object.getOwnPropertySymbols,Ak=Object.prototype.hasOwnProperty,Nk=Object.prototype.propertyIsEnumerable,xb=(n,t,r)=>t in n?xk(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Rk=(n,t)=>{for(var r in t||(t={}))Ak.call(t,r)&&xb(n,r,t[r]);if(Ib)for(var r of Ib(t))Nk.call(t,r)&&xb(n,r,t[r]);return n},Lk=(n,t)=>Mk(n,Dk(t));const Mb=({actions:n,isSmall:t,post:r,pub:i})=>{const{isTablet:a}=yi(),M=!!(0,Tr.getCoverImageUrl)(r);return(0,e.h)("div",{className:l()(td.container,{[td.containerNoImage]:!M})},M&&(0,e.h)(Cs,{className:td.image,imageAspectRatio:t?su:Rp,imageWidth:1280,isBelowTheFold:!1,post:r,squareImageSize:"large"}),(0,e.h)(y.tu,{className:td.content,alignItems:"center",justifyContent:"center",paddingX:M?32:64,paddingY:M?24:64},(0,e.h)(ll,{post:r,align:"center",preset:a?"mobileLg":"lg",clamp:3,paddingBottom:8}),(0,e.h)(uu,{post:r,align:"center",size:16,lineHeight:24,clamp:3,paddingBottom:20}),(0,e.h)(sl,{post:r,pub:i}),(0,e.h)(y.tu,{paddingTop:20},n({justified:!1}))))},Bk=n=>(0,e.h)(Mb,Lk(Rk({},n),{isSmall:!0})),kk={image:"frontend-main-home-PostPreview-PostPreviewLarge-module__image--jXUNi"},Uk=({actions:n,hideImage:t,imageAspectRatio:r,post:i,pub:a})=>(0,e.h)(y.tu,null,!t&&(0,e.h)(Cs,{post:i,className:kk.image,imageWidth:1250,imageAspectRatio:r==="wide"?Rp:su,isBelowTheFold:!1,squareImageSize:"large"}),(0,e.h)(y.tu,{flex:"grow",alignItems:"center",justifyContent:"center",paddingX:24,paddingY:16},(0,e.h)(ll,{post:i,align:"center",preset:"lg",clamp:4,paddingBottom:8}),(0,e.h)(uu,{post:i,align:"center",size:16,lineHeight:24,clamp:2,paddingBottom:16}),(0,e.h)(sl,{post:i,pub:a}),(0,e.h)(y.tu,{paddingTop:16},n({justified:!1})))),kp={container:"frontend-main-home-PostPreview-PostPreviewListing-module__container--zH3ui",containerNoImage:"frontend-main-home-PostPreview-PostPreviewListing-module__containerNoImage--AXgbN",image:"frontend-main-home-PostPreview-PostPreviewListing-module__image--RoIBP"},Fk=({actions:n,hideImage:t,post:r,pub:i,showPin:a})=>{const{isMobile:M}=yi();let k=!!i.community_enabled;return t&&!M&&(k=!1),(0,e.h)("div",{className:l()(kp.container,{[kp.containerNoImage]:t})},(0,e.h)(y.tu,{gap:8},(0,e.h)(ll,{clamp:3,post:r,preset:M?"mobileMd":"md"}),(0,e.h)(uu,{clamp:2,post:r,size:14,lineHeight:t?24:20}),(0,e.h)(sl,{post:r,pub:i,showPin:a})),!t&&(r.cover_image?(0,e.h)(Cs,{className:kp.image,post:r,imageWidth:M?150:320,imageAspectRatio:M?1:su,isBelowTheFold:!0,squareImageSize:"small"}):(0,e.h)("div",null)),n({justified:k}))},jk={image:"frontend-main-home-PostPreview-PostPreviewMini-module__image--Zfhnm"},Wk=({actions:n,post:t,pub:r})=>{const i=!!r.community_enabled;return(0,e.h)(y.tu,{padding:8},(0,e.h)(y.gq,{gap:12,paddingBottom:8,flex:"grow"},(0,e.h)(y.tu,{flex:"grow"},(0,e.h)(ll,{post:t,clamp:2,preset:"sm",paddingBottom:4}),(0,e.h)(sl,{clamp:1,post:t,pub:r})),(0,e.h)(Cs,{className:jk.image,hidePlaceholder:!0,imageWidth:150,imageAspectRatio:1,isBelowTheFold:!1,post:t})),n({justified:i}))},Hk={image:"frontend-main-home-PostPreview-PostPreviewMobileHero-module__image--kXonK"},Vk=({actions:n,hidePlaceholder:t,post:r,pub:i})=>{const a=!!i.community_enabled;return(0,e.h)(y.tu,null,r.cover_image&&(0,e.h)(Cs,{post:r,className:Hk.image,imageWidth:1250,imageAspectRatio:Rp,isBelowTheFold:!1,hidePlaceholder:t,squareImageSize:"large"}),(0,e.h)(y.tu,{flex:"grow",justifyContent:"center",paddingX:16,paddingTop:16},(0,e.h)(y.tu,{gap:8,paddingBottom:12},(0,e.h)(ll,{post:r,preset:"mobileLg",clamp:3}),(0,e.h)(uu,{post:r,size:14,lineHeight:20,clamp:3}),(0,e.h)(sl,{post:r,pub:i})),n({justified:a})))},Kk={image:"frontend-main-home-PostPreview-PostPreviewSquare-module__image--yvn4j"},$k=({actions:n,post:t,pub:r})=>{const{isMobile:i}=yi(),a=!!r.community_enabled;return(0,e.h)(y.tu,{padding:i?0:8},(0,e.h)(Cs,{post:t,className:Kk.image,imageWidth:600,imageAspectRatio:su,isBelowTheFold:!0,squareImageSize:"medium"}),(0,e.h)(y.tu,{paddingTop:12,flex:"grow"},(0,e.h)(y.tu,{gap:8,flex:"grow",paddingBottom:12},(0,e.h)(ll,{clamp:3,post:t,preset:"md"}),(0,e.h)(uu,{clamp:1,post:t}),(0,e.h)(sl,{post:t,pub:r})),n({justified:a})))},nd={container:"frontend-main-home-PostPreview-index-module__container--gXuU1",containerWithBackground:"frontend-main-home-PostPreview-index-module__containerWithBackground--p7B8K",actions:"frontend-main-home-PostPreview-index-module__actions--eae29","actions--always-show":"frontend-main-home-PostPreview-index-module__actions--always-show--XnNzu"},zk={jumbo:Mb,"jumbo-small":Bk,large:Uk,listing:Fk,mini:Wk,"mobile-hero":Vk,square:$k},ul=({disableInteractive:n,hideImage:t,hideWash:r,imageAspectRatio:i,linkToComments:a,variant:M,post:k,pub:F,showPin:B,testid:Y,user:ge,utm:Ce,onChange:Se,onClick:Ue})=>{const{alwaysShowActions:Ye}=(0,o.qp)(Tb),Ve=zk[M];if(!Ve)return(0,e.h)("div",null,"PostPreview: ",M," not implemented");const at=Gk({linkToComments:!!a,post:k,pub:F,utm:Ce}),pt=gt=>{Ue&&Ue(gt),!n&&(0,O.redirect)(at,{event:gt})};return(0,e.h)(Np.Provider,{value:{url:at,linkToComments:!!a}},(0,e.h)(y.tu,{className:l()(nd.container,{[nd.containerWithBackground]:!r&&["large","jumbo","jumbo-small"].includes(M)}),"data-testid":Y,radius:6,onClick:pt},(0,e.h)(Ve,{hideImage:t,imageAspectRatio:i,post:k,pub:F,showPin:B,actions:({justified:gt})=>k.type==="restack"?null:(0,e.h)(y.tu,{className:l()(nd.actions,{[nd["actions--always-show"]]:Ye})},(0,e.h)(Tk,{justified:gt,post:k,pub:F,user:ge,onChange:Se}))})))},Gk=({linkToComments:n,post:t,pub:r,utm:i})=>n?(0,te.getPostUrl)(r,t,{comments:!0}):t.type==="video"?(0,p.updateQuery)(t.canonical_url,{autoPlay:!0}):i?(0,te.pathWithQuery)(t.canonical_url,i):t.canonical_url,Pa={container:"frontend-main-home-PostsLayout-module__container--ZMlBv","two-small-one-large":"frontend-main-home-PostsLayout-module__two-small-one-large--dUc84",divider:"frontend-main-home-PostsLayout-module__divider--AxHuX","two-column-grid":"frontend-main-home-PostsLayout-module__two-column-grid--B3xhg","long-divider":"frontend-main-home-PostsLayout-module__long-divider--be7gz","three-column-grid":"frontend-main-home-PostsLayout-module__three-column-grid--eqPl6","four-column-grid":"frontend-main-home-PostsLayout-module__four-column-grid--KCnzZ","one-column-list":"frontend-main-home-PostsLayout-module__one-column-list--oWTZ1","large-listing-listing-column":"frontend-main-home-PostsLayout-module__large-listing-listing-column--kMStX","square-square-column":"frontend-main-home-PostsLayout-module__square-square-column--fCDpp","two-column-list":"frontend-main-home-PostsLayout-module__two-column-list--dzbTj","five-up":"frontend-main-home-PostsLayout-module__five-up--h8UyE","mini-row":"frontend-main-home-PostsLayout-module__mini-row--qwBsL","three-column-mini-row":"frontend-main-home-PostsLayout-module__three-column-mini-row--dyBS2"};var Zk=Object.defineProperty,Yk=Object.defineProperties,Jk=Object.getOwnPropertyDescriptors,rd=Object.getOwnPropertySymbols,Db=Object.prototype.hasOwnProperty,Ab=Object.prototype.propertyIsEnumerable,Nb=(n,t,r)=>t in n?Zk(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,ns=(n,t)=>{for(var r in t||(t={}))Db.call(t,r)&&Nb(n,r,t[r]);if(rd)for(var r of rd(t))Ab.call(t,r)&&Nb(n,r,t[r]);return n},du=(n,t)=>Yk(n,Jk(t)),Rb=(n,t)=>{var r={};for(var i in n)Db.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&rd)for(var i of rd(n))t.indexOf(i)<0&&Ab.call(n,i)&&(r[i]=n[i]);return r};const fi=n=>{const{flex:t,hideImages:r,linkToComments:i,posts:a,pub:M,showSectionPins:k,source:F,user:B,utm:Y,variant:ge,onChange:Ce,onClickPost:Se}=n;return ge==="two-three-two"?(0,e.h)(Qk,ns({},n)):ge==="two-small-three-medium"?(0,e.h)(Xk,ns({},n)):["mini-row","three-column-mini-row"].includes(ge)?(0,e.h)(qk,ns({},n)):(0,e.h)("div",{style:t==="grow"?{flexGrow:1,display:"flex",alignItems:"stretch"}:void 0},(0,e.h)("div",{className:l()(Pa.container,Pa[ge])},a.map((Ue,Ye)=>(0,e.h)(e.Fragment,null,Ye>0&&["one-column-list","two-column-list","two-column-grid","three-column-grid","four-column-grid","large-listing-listing-column","square-square-column"].includes(ge)&&(0,e.h)(y.gq,{className:Pa.divider,borderBottom:"detail-themed"}),[2,4].includes(Ye)&&ge==="five-up"&&(0,e.h)(y.gq,{className:Pa.divider,borderBottom:"detail-themed"}),Ye%2===0&&Ye>0&&["two-column-grid"].includes(ge)&&(0,e.h)(y.gq,{className:Pa["long-divider"],borderBottom:"detail-themed"}),Ye%3===0&&Ye>0&&["three-column-grid"].includes(ge)&&(0,e.h)(y.gq,{className:Pa["long-divider"],borderBottom:"detail-themed"}),Ye%4===0&&Ye>0&&["four-column-grid"].includes(ge)&&(0,e.h)(y.gq,{className:Pa["long-divider"],borderBottom:"detail-themed"}),Ye>0&&["mini-row","three-column-mini-row"].includes(ge)&&(0,e.h)(y.gq,{className:Pa.divider,paddingY:16,alignItems:"center"},(0,e.h)(y.gq,{borderLeft:"detail-themed"})),(0,e.h)(ul,{testid:["large-listing-listing-column","two-small-one-large"].includes(ge)?`magazine-spot-${Ye+1}`:void 0,hideImage:r,linkToComments:i,post:Ue,pub:M,showPin:k&&Ue.is_section_pinned,user:B,utm:Y,variant:Lb(ge,Ye),onChange:Ce,onClick:Se&&F?Ve=>{Se({event:Ve,post:Ue,index:Ye,source:F})}:void 0}))),ge==="two-small-one-large"&&(0,e.h)(y.gq,{borderBottom:"detail-themed"})))},Xk=n=>{const t=n,{posts:r}=t,i=Rb(t,["posts"]),a=r.slice(0,3),M=r.slice(3);return(0,e.h)(es,{variant:"one-column-two-column",stretchVertically:!0},(0,e.h)(fi,du(ns({},i),{flex:"grow",variant:"large-listing-listing-column",posts:a,hideImages:!0})),(0,e.h)(fi,du(ns({},i),{flex:"grow",variant:"square-square-column",posts:M,hideImages:!1})))},Qk=n=>{const t=n,{posts:r}=t,i=Rb(t,["posts"]),a=r.slice(0,3),M=r.slice(3,5),k=r.slice(5);return(0,e.h)(es,{variant:"one-column-two-column-one-column",stretchVertically:!0},(0,e.h)(fi,du(ns({},i),{flex:"grow",variant:"large-listing-listing-column",posts:a,hideImages:!0})),(0,e.h)(fi,du(ns({},i),{flex:"grow",variant:"square-square-column",posts:M,hideImages:!1})),(0,e.h)(fi,du(ns({},i),{flex:"grow",variant:"square-square-column",posts:k,hideImages:!1})))},qk=n=>{const{linkToComments:t,posts:r,pub:i,source:a,user:M,utm:k,variant:F,onChange:B,onClickPost:Y}=n,ge=F==="mini-row"?4:3;return(0,e.h)("div",null,(0,e.h)("div",{className:l()(Pa.container,Pa[F])},r.slice(0,ge).map((Ce,Se)=>(0,e.h)(e.Fragment,null,Se>0&&(0,e.h)(y.gq,{className:Pa.divider,paddingY:16,alignItems:"center"},(0,e.h)(y.gq,{borderLeft:"detail-themed"})),(0,e.h)(ul,{linkToComments:t,post:Ce,pub:i,user:M,utm:k,variant:Lb(F,Se),onChange:B,onClick:Y&&a?Ue=>{Y({event:Ue,post:Ce,index:Se,source:a})}:void 0}))),F==="two-small-one-large"&&(0,e.h)(y.gq,{borderBottom:"detail-themed"})))},Lb=(n,t)=>n==="square-square-column"?"square":n==="large-listing-listing-column"?t===0?"large":"listing":n==="two-small-one-large"?t===0?"large":"square":n==="two-column-list"?"listing":n==="five-up"?t===0?"large":"square":["mini-row","three-column-mini-row","one-column-list"].includes(n)?"mini":"square",eU={container:"frontend-main-archive_page-module__container--Brctc"};function fu({children:n,title:t,pub:r,user:i,freeSignup:a,freeSignupEmail:M,sort:k,search:F,newPosts:B,topPosts:Y,communityPosts:ge,searchPosts:Ce,sectionId:Se,isPodcast:Ue,metadata:Ye}){const Ve=!!(r!=null&&r.theme),{iString:at,iTemplate:pt}=(0,P.M1)();return(0,e.h)(N.ze,{value:{hasThemedBackground:Ve}},Ye&&(0,O.setMetaData)(Ye),(0,e.h)("div",{className:l()("archive-page typography",eU.container,{"use-theme-bg":Ve})},(0,e.h)("div",{className:"container"},t&&(0,e.h)("h2",null,t),(0,e.h)(ed,{communityPosts:ge,communityTitle:at("Discussion"),freeSignup:a,freeSignupEmail:M,isPodcast:Ue,newPosts:B,pub:r,search:F,searchPosts:Ce,sectionId:Se,showMonthDividers:!0,sort:k,source:"archive",topPosts:Y,user:i,variant:"list"},({posts:gt,linkToComments:xt,onClickPost:Nt})=>(0,e.h)(fi,{hideImages:r.theme.hide_images_from_list,linkToComments:xt,posts:gt,pub:r,user:i,variant:"two-column-list",onChange:()=>{},onClickPost:Nt})),n)))}var tU=Object.defineProperty,nU=(n,t,r)=>t in n?tU(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Bb=(n,t,r)=>(nU(n,typeof t!="symbol"?t+"":t,r),r),Up=(n,t,r)=>new Promise((i,a)=>{var M=B=>{try{F(r.next(B))}catch(Y){a(Y)}},k=B=>{try{F(r.throw(B))}catch(Y){a(Y)}},F=B=>B.done?i(B.value):Promise.resolve(B.value).then(M,k);F((r=r.apply(n,t)).next())});class kb extends e.Component{constructor(t,r){super(t,r),Bb(this,"likesEnabled",(0,Pi.default)("like_posts_enabled")),this.state={posts:null,hasMore:!0,loading:!1},this.props.notify_user&&typeof window!="undefined"&&(0,ms.ZP)(this.props.notify_user)}componentDidMount(){return Up(this,null,function*(){this.triggerShareOnLoad(),yield this.loadMore()})}getBatchSize(){return 5}loadMore(){return Up(this,null,function*(){if(!this.state.hasMore)return;(yield(0,O.stateLock)(this,"loading",r=>Up(this,[r],function*({hasMore:i,posts:a}){if(i){a=a||[];try{const k=(yield jn().get("/api/v1/posts").query({limit:this.getBatchSize(),offset:a.length})).body;a=a.concat(k),i=k.length>=this.getBatchSize(),this.makeSureIosCookiesArentBroken(k),this.setState({posts:a,hasMore:i})}catch(M){console.error(M)}return i}})))&&this.loader&&this.loader.checkVisibility()})}triggerShareOnLoad(){if((0,p.getQueryItem)("action")==="share")window.history.replaceState({},document.title,(0,p.updateQuery)({action:null}));else return;this.setState({share_on_load:!0}),this.shareDialog.open()}makeSureIosCookiesArentBroken(t){if(!/iPad|iPhone|iPod/.test(navigator.userAgent)||this.props.user&&this.props.user.is_subscribed||!t||t.filter(a=>(0,Tr.isPaidAudience)(a.audience)&&!a.hidden).length===0)return;const r="__cookie_checked",i=(0,p.parseQuery)(window.location.search);i[r]||(i[r]="true",window.location.search=`?${(0,p.serializeQuery)(i)}`)}onChange({post:t}){if(t){const r=(this.state.posts||[]).map(i=>i.id).indexOf(t&&t.id);r!==-1&&(this.state.posts[r]=t,this.setState({posts:this.state.posts}))}}render({user:t,pub:r,freeSignup:i,freeSignupEmail:a,preloadedPosts:M,hide_intro_popup:k,children:F,blurbs:B,noBalanceHeroText:Y,launchWelcomePage:ge},{posts:Ce,hasMore:Se,share_on_load:Ue}){const Ye=[];for(const Ve of Ce||M||[])Ve.hidden?Array.isArray(Ye[Ye.length-1])?Ye[Ye.length-1].push(Ve):Ye.push([Ve]):Ye.push(Ve);return(0,e.h)("div",{className:"classic-home-page"},(0,e.h)(rl.ZP,{ref:Ve=>this.shareDialog=Ve,user:t,pub:r}),(0,e.h)(Re,{freeSignup:i,freeSignupEmail:a,user:t,post:null,publication:r,hidden:k||Ue,blurbs:B,noBalance:Y,launchWelcomePage:ge}),r&&r.subdomain==="sinocism"&&(0,e.h)("div",{className:"sinocism-hero-small"},(0,e.h)("div",{className:"container"},(0,e.h)("div",{className:"hero-text"},(0,e.h)("p",null,"Bill Bishop's Sinocism China Newsletter provides analysis, commentary and curated links to the important English and Chinese news of the day."),(0,e.h)("p",null,"Join thousands of other subscribers and gain valuable insights into China and its role in the world.")),(0,e.h)("div",{className:"hero-left"},(0,e.h)("p",{className:"review-quote"},"\u201CSinocism is the presidential daily brief for China hands.\u201D"),(0,e.h)("div",{className:"review-footer"},(0,e.h)("h3",null,"Evan Osnos"),(0,e.h)("p",null,"New Yorker correspondent and ",(0,e.h)("br",null),"National Book Award winner"))))),(0,e.h)("div",{className:"post-list"},Ye.length===0&&!Se&&(0,e.h)("div",{className:"container-border coming-soon"},(0,e.h)("div",{className:"container"},(0,e.h)("p",null,"Coming soon"))),Ye.map((Ve,at)=>Array.isArray(Ve)?this.renderHiddenPosts(Ve,at):this.renderPost(Ve,at)),Se?(0,e.h)("div",{className:"post-loader"},(0,e.h)("div",{className:"container"},(0,e.h)(ce,{ref:Ve=>this.loader=Ve,noDedupe:!0,threshold:1280,onVisible:()=>this.loadMore()},(0,e.h)("p",null,"Loading more posts\u2026")))):r.has_posts&&Ce&&Ce.length>0&&(0,e.h)("div",{className:"container"},(0,e.h)("a",{className:"archive-link button invis",href:(0,p.getBaseArchiveUrl)(r)},"View archive"))),F)}renderPost(t){return(0,e.h)("div",{className:"container-border post-list-post"},(0,e.h)("div",{className:"container"},t.type==="thread"?(0,e.h)(j1,{post:t,user:this.props.user,pub:this.props.pub,freeSignup:this.props.freeSignup,freeSignupEmail:this.props.freeSignupEmail,invisible:!this.props.hide_intro_popup,showCta:!0,showReactions:this.likesEnabled}):(0,e.h)(xp,{post:t,user:this.props.user,freeSignup:this.props.freeSignup,freeSignupEmail:this.props.freeSignupEmail,pub:this.props.pub,invisible:!this.props.hide_intro_popup,truncateAt:1e4,truncateTo:8e3,onChange:r=>this.onChange(r),noTitleLink:!!this.props.disableInteractive,disableSubscribePrompt:!0})))}renderHiddenPosts(t,r){let i,a;return r===0?(i=t.slice(0,1),a=t.slice(1)):t.length<=3?(i=t,a=[]):(i=t.slice(0,2),a=t.slice(2)),(0,e.h)(rU,{user:this.props.user,pub:this.props.pub,posts:i,collapsedPosts:a,onChange:M=>this.onChange(M)})}}Bb(kb,"contextType",$n.QA);class rU extends e.Component{toggle(){this.state.showing?this.setState({showing:!1}):(this.state.toggled||(0,C.j)(C.FP.COLLAPSED_POSTS_SHOWN,{num_visible_posts:this.props.posts.length,num_collapsed_posts:this.props.collapsedPosts.length}),this.setState({showing:!0,toggled:!0}))}render({user:t,pub:r,posts:i,collapsedPosts:a,onChange:M},{showing:k}){return(0,e.h)("div",{className:`container-border post-list-hidden-posts ${k?"showing":""}`},(0,e.h)("div",{className:"container"},i.map(F=>(0,e.h)(qc,{user:t,pub:r,post:F,onChange:M})),a.length>0&&(0,e.h)("div",{className:"collapse-toggle",onClick:()=>this.toggle()},k?"hide":`+${a.length} more`),a.map(F=>(0,e.h)(qc,{className:"collapsed",user:t,pub:r,post:F,utm_source:"home",onChange:M}))))}}var oU=Et(2405);function Fp(){const n=t=>{var r,i;(t.data==="3pc.supported"||t.data==="3pc.unsupported")&&(t.data==="3pc.supported"&&Array.from(document.getElementsByClassName("tiktok-wrap outer")).forEach(M=>{const k=M.querySelector(".tiktok-iframe");k.classList.add("visible"),M.querySelector(".tiktok-wrap.static").classList.add("hidden");const F=M.querySelector(".fallback-failure");F.classList.add("no-border");try{(k.contentDocument||k.contentWindow.document).readyState=="complete"&&F.classList.add("visible")}catch(B){}k.onload=()=>{F.classList.add("visible")},k.onerror=()=>{F.classList.add("visible")},k.onabort=()=>{F.classList.add("visible")}}),(i=(r=document.getElementsByClassName("third-party-cookie-check-iframe"))==null?void 0:r.forEach)==null||i.call(r,a=>a.remove()))};return window.addEventListener("message",n),()=>{window.removeEventListener("message",n)}}function Bz(){useEffect(Fp,[])}var jp=(n,t,r)=>new Promise((i,a)=>{var M=B=>{try{F(r.next(B))}catch(Y){a(Y)}},k=B=>{try{F(r.throw(B))}catch(Y){a(Y)}},F=B=>B.done?i(B.value):Promise.resolve(B.value).then(M,k);F((r=r.apply(n,t)).next())});class iU extends e.Component{constructor(t,r){super(t,r),this.onVisible=a=>{const M=`${a} Seen`;this.state.post&&(this.state[M]||(this.setState({[M]:!0}),(0,C.j)(M,{post_id:this.state.post.id,post_audience:this.state.post.audience,post_type:this.state.post.type})))},this.fillEmbeddedEmailInputs=()=>{var a;const M=document.querySelectorAll('article.post input[type="email"]'),k=((a=this.state.user)==null?void 0:a.email)||this.props.freeSignupEmail;k&&M.forEach(F=>F.value=k),this.setState({embeddedEmailInputsFilled:!0})};const{user:i}=t;t.post?this.state={post:t.post,user:i,introText:t.introText,crossPostedPub:t.crossPostedPub,crossPostingByLine:t.crossPostingByLine,userWithCrossPostedPubContext:t.userWithCrossPostedPubContext,crossPostedPublicationSettings:t.crossPostedPublicationSettings,crossPostedSiteConfig:t.crossPostedSiteConfig}:this.state={user:i}}componentDidMount(){return jp(this,null,function*(){(0,O.scrollToHash)(),this.cleanUpTikTokEnhanceListener=Fp(),this.state.post||(yield this.loadPost()),this.triggerShareOnLoad(),this.fillEmbeddedEmailInputs()})}componentWillUnmount(){var t;(t=this.cleanUpTikTokEnhanceListener)==null||t.call(this)}componentDidUpdate(t){return jp(this,null,function*(){this.state.embeddedEmailInputsFilled||this.fillEmbeddedEmailInputs()})}loadPost(){return jp(this,null,function*(){if(this.setState({embeddedEmailInputsFilled:!1}),this.props.post)this.setState({post:this.props.post},()=>(0,O.scrollToHash)());else try{const t=yield jn().get(`/api/v1/cross-posts/${this.props.post_id}`);yield(0,O.setState)(this,{post:t.body.post,introText:t.body.intro_text,crossPostedPub:t.body.crossPostedPub,crossPostingByLine:t.body.crossPostingByLine,userWithCrossPostedPubContext:t.body.userWithCrossPostedPubContext,crossPostedPublicationSettings:t.body.crossPostedPublicationSettings,crossPostedSiteConfig:t.body.crossPostedSiteConfig}),(0,O.scrollToHash)()}catch(t){console.error("Failed to load post:",t),alert((0,O.getNetworkErrorMessage)(t))}})}triggerShareOnLoad(){if((0,p.getQueryItem)("action")==="share")window.history.replaceState({},document.title,(0,p.updateQuery)({action:null}));else return;this.post&&this.post.triggerShare({fromEmail:!0})}render({freeSignup:t,freeSignupEmail:r,publication:i},{post:a,user:M,introText:k,crossPostedPub:F,crossPostingByLine:B,userWithCrossPostedPubContext:Y,crossPostedPublicationSettings:ge,crossPostedSiteConfig:Ce}){const Se=(a==null?void 0:a.type)==="podcast";return(0,e.h)("div",null,(0,e.h)("div",{className:l()("single-post-container")},(0,e.h)("div",{className:l()({container:!Se})},(0,e.h)("div",{className:"single-post"},(0,e.h)(kc,{post:a,publication:i}),a&&ge&&Ce?(0,e.h)(Mn.Iz,{settings:ge},(0,e.h)($n.vC,{siteConfigs:Ce},(0,e.h)(oU.uL,{crossPost:{crossPostedPub:F}},(0,e.h)(xp,{ref:Ue=>{this.post=Ue},user:Y,post:a,pub:F,freeSignup:t,freeSignupEmail:r,paywall:!1,noTitleLink:!0,onChange:Ue=>this.setState(Ue),fromPostPage:!0,crossPostInfo:{introText:k,crossPostedPub:F,crossPostingByLine:B,userWithCrossPostedPubContext:Y}})))):(0,e.h)(yb,{pub:i}))),i.has_posts?(0,e.h)("div",{className:"single-post-section"},(0,e.h)("div",{className:"container"},(0,e.h)(ce,{onVisible:()=>this.onVisible("Top Posts Footer")}),(0,e.h)(Ap,{user:M,freeSignup:t,freeSignupEmail:r,pub:i,maxPosts:3,filterPosts:Ue=>Ue.id!==(a==null?void 0:a.id),stateInUrl:!0,sortTabs:Ue=>{const Ye=Ue.findIndex(Ve=>Ve.id==="top");if(Ye!==-1)return[Ue[Ye]].concat(Ue.filter((Ve,at)=>at!==Ye))},delayFirstLoad:1e3,source:"post",isBelowTheFold:!0}))):null))}}class aU extends e.Component{constructor(t,r){super(t,r),this.state={freeSignup:t.freeSignup,freeSignupEmail:t.freeSignupEmail,success:!1}}componentDidMount(){(0,O.preloadImage)((0,p.imginary)("/img/substack_wordmark.png",200));const t=this.props.freeSignupEmail||this.props.user&&this.props.user.email;t&&(this.emailInput.value=t)}onPrepareData(t){this.props.pub.plans&&!this.subscribeWindow&&(this.subscribeWindow=window.open("about:blank","_blank"))}onSignup(t){this.setState({freeSignup:!0,freeSignupEmail:t.body.email}),this.subscribeWindow&&(this.subscribeWindow.location=`${this.props.pub.base_url}/subscribe?just_signed_up=true`)}onError(t){if(this.subscribeWindow){try{this.subscribeWindow.close()}catch(r){console.error("Failed to close subscribe window:",r)}this.subscribeWindow=null}}render({pub:t,user:r,no_border:i},{freeSignup:a,freeSignupEmail:M,loading:k,success:F}){const B=M||r&&r.email;return(0,e.h)("div",{className:`embed-page ${i?"no-border":""}`},(0,e.h)("div",{className:"embed-page-inner"},t.logo_url&&(0,e.h)("a",{href:`${t.base_url}/`,target:"_blank"},(0,e.h)("img",{className:"publication-logo",src:(0,p.imginary)(t.logo_url,170,{quality:"auto:best"}),alt:"Logo"})),(0,e.h)("h1",{className:`publication-name${t.logo_url?"":" no-logo"}`},(0,e.h)("a",{href:`${t.base_url}/`,target:"_blank"},(0,e.h)(Lt,{text:t.name}))),(0,e.h)("p",{className:"publication-tagline"},!!t.hero_text&&(0,e.h)(Lt,{text:t.hero_text})),t.invite_only?(0,e.h)(je.ZP,{className:"subscription-request-form",ref:Y=>this.form=Y,noInlineErrors:!0,action:(0,p.pathWithQuery)("/api/v1/subscription/request"),noJsAction:(0,p.pathWithQuery)("/api/v1/subscription/request",{nojs:!0}),onSuccess:()=>this.setState({success:!0}),onError:Y=>{this.setState({loading:!1}),alert((0,O.getNetworkErrorMessage)(Y,"Failed to request a subscription"))}},(0,e.h)("input",{type:"hidden",name:"first_url",value:u.xY}),(0,e.h)("input",{type:"hidden",name:"first_referrer",value:u.ip}),(0,e.h)("input",{type:"hidden",name:"current_url",value:u.UE}),(0,e.h)("input",{type:"hidden",name:"current_referrer",value:u.xU}),!!B&&(0,O.inputPrefillHack)(),(0,e.h)("div",{className:"sideBySideWrap"},(0,e.h)("input",{className:l()(F?"secondary":"primary"),type:"email",name:"email",ref:Y=>this.emailInput=Y,readOnly:!!(B||k),disabled:!!(k||F||B),autoFocus:!B&&!(0,O.isMobileBrowser)(),placeholder:"Type your email\u2026"}),(0,e.h)($t.Z,{className:l()("rightButton",F?"secondary":"primary"),type:"submit",disabled:!!(k||F),onClick:()=>{this.setState({loading:!0})}},(0,e.h)("b",{className:"button-text"},F?"Requested":"Subscribe"))),(0,e.h)("div",{id:"error-container"})):(0,e.h)(Qa,{source:"embed",pub:t,user:r,freeSignup:a,freeSignupEmail:M,forceEmailInput:!0,onPrepareData:Y=>this.onPrepareData(Y),onSignup:Y=>this.onSignup(Y),onError:Y=>this.onError(Y)}),(r||a)&&(0,e.h)("p",null,(0,e.h)("span",{className:"account-info-logout"},(0,e.h)("a",{href:(0,p.getSignoutUrl)({redirect:document.location.href,for_pub:t.subdomain}),native:!0},"Sign out")))),(0,e.h)("a",{href:`${(0,p.getSubstackUrl)()}/?utm_source=embed&utm_content=${t.subdomain}`,target:"_blank"},(0,e.h)("img",{ref:Y=>this.img=Y,className:"substack-watermark",src:(0,p.imginary)("/img/substack_wordmark.black.png",200),onMouseEnter:()=>this.img.src=(0,p.imginary)("/img/substack_wordmark.png",200),onMouseLeave:()=>this.img.src=(0,p.imginary)("/img/substack_wordmark.black.png",200),alt:"Substack"})))}}var sU=(n,t,r)=>new Promise((i,a)=>{var M=B=>{try{F(r.next(B))}catch(Y){a(Y)}},k=B=>{try{F(r.throw(B))}catch(Y){a(Y)}},F=B=>B.done?i(B.value):Promise.resolve(B.value).then(M,k);F((r=r.apply(n,t)).next())});const lU=({pub:n,slug:t})=>{var r;const[i,a]=(0,o.eJ)(null);(0,o.d4)(()=>{function k(){return sU(this,null,function*(){try{const F=yield jn().get(`/api/v1/posts/${t}`);a(F.body)}catch(F){console.error("Failed to load post:",F),F.status===404?alert("Post not found"):alert((0,O.getNetworkErrorMessage)(F))}})}k()},[t]);let M=!1;return typeof window!="undefined"&&(M=((r=(0,p.parseQuery)(window.location.href).autoplay)!=null?r:"0")==="1"),i?(0,e.h)(cc,{feature:"Podcast",pub:n,post:i,src:i.podcast_url,autoPlay:M,metricsPost:i,isFancy:!0,showCTAs:!0}):(0,e.h)("div",{className:"loading-container"})};class uU extends e.Component{render(){return(0,e.h)("div",{className:"embed-test-page"},(0,e.h)("iframe",{style:{border:"1px solid #EEE",background:"white"},width:"480",height:"320",src:"/embed",frameBorder:"0",scrolling:"no"}))}}var cU=(n,t,r)=>new Promise((i,a)=>{var M=B=>{try{F(r.next(B))}catch(Y){a(Y)}},k=B=>{try{F(r.throw(B))}catch(Y){a(Y)}},F=B=>B.done?i(B.value):Promise.resolve(B.value).then(M,k);F((r=r.apply(n,t)).next())});const dU=({pub:n,slug:t})=>{var r;const[i,a]=(0,o.eJ)(null);(0,o.d4)(()=>{function k(){return cU(this,null,function*(){try{const F=yield jn().get(`/api/v1/posts/${t}`);a(F.body)}catch(F){console.error("Failed to load post:",F),F.status===404?alert("Post not found"):alert((0,O.getNetworkErrorMessage)(F))}})}k()},[t]);let M=!1;return typeof window!="undefined"&&(M=((r=(0,p.parseQuery)(window.location.href).autoplay)!=null?r:"0")==="1"),i?(0,e.h)("div",{className:"video-player-embed-container"},(0,e.h)(Bl,{mediaUpload:i.videoUpload,pub:n,post:i,autoPlay:M})):(0,e.h)("div",{className:"loading-container"})};var fU=Object.defineProperty,pU=Object.defineProperties,hU=Object.getOwnPropertyDescriptors,Ub=Object.getOwnPropertySymbols,mU=Object.prototype.hasOwnProperty,_U=Object.prototype.propertyIsEnumerable,Fb=(n,t,r)=>t in n?fU(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,gU=(n,t)=>{for(var r in t||(t={}))mU.call(t,r)&&Fb(n,r,t[r]);if(Ub)for(var r of Ub(t))_U.call(t,r)&&Fb(n,r,t[r]);return n},vU=(n,t)=>pU(n,hU(t));const jb=n=>(0,e.h)(L.l,vU(gU({},n),{name:"ChevronIcon",svgParams:{height:24,width:24,stroke:"#666666",viewBox:"0 0 24 24"}}),(0,e.h)("path",{d:"M9.88507 18.9609L15.8851 12.9609L9.88507 6.96094",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}));var yU=Object.defineProperty,bU=Object.defineProperties,PU=Object.getOwnPropertyDescriptors,Wb=Object.getOwnPropertySymbols,EU=Object.prototype.hasOwnProperty,wU=Object.prototype.propertyIsEnumerable,Hb=(n,t,r)=>t in n?yU(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,CU=(n,t)=>{for(var r in t||(t={}))EU.call(t,r)&&Hb(n,r,t[r]);if(Wb)for(var r of Wb(t))wU.call(t,r)&&Hb(n,r,t[r]);return n},OU=(n,t)=>bU(n,PU(t));const SU=n=>(0,e.h)(L.l,OU(CU({},n),{name:"DownloadIcon",svgParams:{height:32,width:32}}),(0,e.h)("rect",{width:"32",height:"32",rx:"6",fill:n.fill||"black"}),(0,e.h)("path",{d:"M23.5 18.5V21.8333C23.5 22.2754 23.3244 22.6993 23.0118 23.0118C22.6993 23.3244 22.2754 23.5 21.8333 23.5H10.1667C9.72464 23.5 9.30072 23.3244 8.98816 23.0118C8.67559 22.6993 8.5 22.2754 8.5 21.8333V18.5",stroke:n.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.h)("path",{d:"M11.8333 14.3335L16 18.5002L20.1667 14.3335",stroke:n.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.h)("path",{d:"M16 18.5V8.5",stroke:n.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}));var TU=Object.defineProperty,IU=Object.defineProperties,xU=Object.getOwnPropertyDescriptors,Vb=Object.getOwnPropertySymbols,MU=Object.prototype.hasOwnProperty,DU=Object.prototype.propertyIsEnumerable,Kb=(n,t,r)=>t in n?TU(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,AU=(n,t)=>{for(var r in t||(t={}))MU.call(t,r)&&Kb(n,r,t[r]);if(Vb)for(var r of Vb(t))DU.call(t,r)&&Kb(n,r,t[r]);return n},NU=(n,t)=>IU(n,xU(t));const RU=n=>(0,e.h)(L.l,NU(AU({},n),{name:"PanelsIcon",svgParams:{height:32,width:32}}),(0,e.h)("rect",{width:"32",height:"32",rx:"6",fill:"black"}),(0,e.h)("rect",{x:"7.19995",y:"7.2002",width:"8.49554",height:"11.8938",rx:"0.424777",fill:"white"}),(0,e.h)("rect",{opacity:"0.7",x:"7.19995",y:"19.603",width:"8.49554",height:"6.79643",rx:"0.424777",fill:"white"}),(0,e.h)("path",{opacity:"0.7",d:"M16.2048 7.62497C16.2048 7.39037 16.395 7.2002 16.6296 7.2002H20.4526C23.737 7.2002 26.3995 9.8627 26.3995 13.1471C26.3995 16.4314 23.737 19.094 20.4526 19.094H16.6296C16.395 19.094 16.2048 18.9038 16.2048 18.6692V7.62497Z",fill:"white"}));var LU=(n,t,r)=>new Promise((i,a)=>{var M=B=>{try{F(r.next(B))}catch(Y){a(Y)}},k=B=>{try{F(r.throw(B))}catch(Y){a(Y)}},F=B=>B.done?i(B.value):Promise.resolve(B.value).then(M,k);F((r=r.apply(n,t)).next())});function BU(){var n;return typeof window!="undefined"?((n=window._preloads)==null?void 0:n.file)||{}:{}}function kU(n,t){return`${n.title.toLowerCase().replace(/\s/g,"_")}.${t.toLowerCase()}`}function UU({file:n=BU(),pub:t}){const[r,i]=(0,o.eJ)(null);return(0,o.d4)(()=>(()=>LU(this,null,function*(){if(!n.fileKey){const a=yield fetch(`/api/v1/file/entry/${window.location.pathname.split("/").pop()}`);a.redirected&&(window.location.href=a.url);const M=yield a.json();i(M)}}))(),[n.fileKey]),(0,e.h)(FU,{file:r||n,pub:t})}function FU({file:n,pub:t}){var r;if(!n.id)return(0,e.h)("div",{className:"page"},(0,e.h)("div",{className:"container"},(0,e.h)("h3",null,"Read Now"),(0,e.h)("div",{className:"popup-container"},(0,e.h)("div",{className:"overlay"}))));const i=(r=n.file_key)==null?void 0:r.split(".").pop().toUpperCase(),a=(0,nn.numberToHumanFileSize)(n.num_bytes),M=kU(n,i);return(0,e.h)("div",{className:"page"},(0,e.h)("div",{className:"container"},(0,e.h)("span",{className:"table-list-title"},(0,e.h)("h3",null,"Read Now"),(0,e.h)("a",{className:"file-sidebar-header-button",href:`${(0,p.getBaseUrl)(t)}/p/${n.post_id}`},"Back")),(0,e.h)("div",{className:"table-list"},(0,e.h)("div",{className:"table-list-row table-list-header"},(0,e.h)("img",{className:`table-list-thumbnail ${n.thumbnail&&n.thumbnail.indexOf("/img/attachment_icon.svg")===-1?"":"default"}`,src:n.thumbnail||`${(0,p.getBaseUrl)(t)}/img/attachment_icon.svg`}),(0,e.h)("div",{className:"table-list-col"},(0,e.h)("div",{className:"table-list-h1"},n.title||"Unknown File"),(0,e.h)("div",{className:"table-list-h2"},a," \u2219 ",i," File"))),(0,e.h)("a",{className:"table-list-row table-list-item",href:`${(0,p.getBaseUrl)(t)}/api/v1/file/panels/${n.file_key}`},(0,e.h)(RU,null),(0,e.h)("span",{className:"table-list-grow"},(0,e.h)("div",{className:"table-list-h1"},"Open in Panels"),(0,e.h)("div",{className:"table-list-h2"},"Comic reader for iOS")),(0,e.h)(jb,{stroke:"#666",strokeWidth:0,isStatic:!0})),(0,e.h)("a",{className:"table-list-row table-list-item",download:M,href:`${(0,p.getBaseUrl)(t)}/api/v1/file/${n.file_key}`},(0,e.h)(SU,null),(0,e.h)("span",{className:"table-list-grow"},(0,e.h)("div",{className:"table-list-h1"},"Download file"),(0,e.h)("div",{className:"table-list-h2"},M)),(0,e.h)(jb,{stroke:"#666",strokeWidth:0,isStatic:!0})))))}var jU=Object.defineProperty,WU=(n,t,r)=>t in n?jU(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,$b=(n,t,r)=>(WU(n,typeof t!="symbol"?t+"":t,r),r),HU=(n,t,r)=>new Promise((i,a)=>{var M=B=>{try{F(r.next(B))}catch(Y){a(Y)}},k=B=>{try{F(r.throw(B))}catch(Y){a(Y)}},F=B=>B.done?i(B.value):Promise.resolve(B.value).then(M,k);F((r=r.apply(n,t)).next())});class Wp extends e.Component{constructor(){super(...arguments),$b(this,"acceptInvite",()=>HU(this,null,function*(){var t,r;try{const i=yield jn().post(`/api/v1/publication_user_invite/${this.props.matches.id}/accept`);(t=i.body)!=null&&t.postUrl?location.href=(r=i.body)==null?void 0:r.postUrl:(0,O.redirect)(`/invite-success/${this.props.matches.id}`)}catch(i){const a=(0,O.getNetworkErrorMessage)(i);this.setState({error:a})}}))}componentDidMount(){this.props.user||(0,O.redirectToLogin)()}render({pub:t,post:r,user:i,freeSignup:a,freeSignupEmail:M,inviteToPost:k,primaryEligiblePublications:F,switchAccountRedirectUrl:B},{error:Y}){if(Y)return(0,e.h)("div",{className:"container invite-success"},(0,e.h)("h3",null,"Error"),(0,e.h)("p",null,Y));const ge=k&&r&&r.type==="podcast",Ce=ge&&i?"Fill out your profile for your podcast appearance":ge&&!i?"Set up your profile for your podcast appearance":k&&i?"Set up your profile":k&&!i?"Fill out your profile":`Your invite to ${t.name}`,Se=ge?"Listeners will want to know more about you. Use your profile as a chance to express yourself.":k?"Readers will want to know more about you and even follow your writing. Use your profile as a chance to express yourself.":"Before you can accept your invite, finish setting up your profile:",Ue=k?"Update Profile & Accept Invite":"Accept Invite",Ye=i?"Already a writer?":"Already have an account?",Ve=i?"Switch accounts":"Login";return(0,e.h)("div",{className:"container finish-invite"},(0,e.h)("h3",null,Ce),(0,e.h)("p",null,Se),(0,e.h)(lp._0,{pageTitle:"",user:i,freeSignup:a,freeSignupEmail:M,needsPhoto:!1,optionalPhoto:k,isPostInvite:k,primaryEligiblePublications:F,onSuccess:this.acceptInvite,text:Ue}),k&&B&&(0,e.h)("div",{className:"invite-switch-account"},Ye," ",(0,e.h)("a",{href:B},Ve)))}}$b(Wp,"defaultProps",{inviteToPost:!1,primaryEligiblePublications:[]});class VU extends e.Component{renderNotAvailable(t,{time:r=!1}={}){const i=r?"this gift has expired":"all of these gifts have already been claimed";return(0,e.h)("div",{className:"container reward-page gift-reward-page"},(0,e.h)("h2",null,"All gone"),t,(0,e.h)("p",null,"Sorry, ",i,". You can still subscribe if you like."),(0,e.h)("div",{className:"signup"},(0,e.h)(Be.Z,{source:"viral_gift_none_left",pub:this.props.pub,onSuccess:()=>document.location.href="/subscribe"})))}renderForSender(){return[(0,e.h)("h3",{className:"sender-hint"},(0,e.h)("span",null,KU(this.props.user),", share this page to give your gift"),(0,e.h)("a",{className:"button twitter-button",href:this.props.viral_gift_data.tweet_link,native:!0},"Share on Twitter"))]}render({pub:t,t:r,user:i,freeSignupEmail:a,viral_gift_data:M}){const{sender_name:k,count_remaining:F,sender_id:B}=M,Y=(0,nn.getGiftValueText)(t.plans),ge=Y?` (value: ${Y})`:"",Ce=`Accept ${k||"your friend"}'s gift`,Se=`A three-month subscription to ${t.name}${ge}`,Ue=(0,O.setMetaData)({title:Ce,description:Se,image:t.logo_url});if(!r||!F)return this.renderNotAvailable(Ue);let Ye=null;i&&i.id==B&&(Ye=this.renderForSender());let Ve="",at=a||"";i&&!Ye&&(Ve=i.name,at=i.email);const pt=`${F} left`;return(0,e.h)("div",{className:"container reward-page receive-page"},Ye,Ue,(0,e.h)("h2",null,"Accept Gift Subscription"),(0,e.h)("p",null,k||"Your friend"," would like to give you a free, three-month subscription. ",ge),(0,e.h)("p",null,(0,e.h)("b",null,pt)),(0,e.h)(je.ZP,{action:"/api/v1/viral_gifts/accept_gift_from_link",onSuccess:()=>document.location.href="/account/gifts/accept"},(0,e.h)("input",{type:"text",name:"name",placeholder:"Your name",value:Ve}),(0,e.h)("input",{type:"email",name:"email",placeholder:"Your email",value:at}),(0,e.h)("input",{type:"hidden",value:r,name:"token"}),(0,e.h)("div",{id:"error-container"}),(0,e.h)("div",{className:"button-container"},(0,e.h)($t.Z,{className:"ok-button primary",type:"submit"},"Accept Gift"))))}}function KU(n){return n.name?n.name.trim().split(/\s+/g)[0]:n.email.split("@")[0]}var $U=Et(39693),zb=Et.n($U);const Gb=({pub:n,section:t,isPodcast:r})=>{const{getExperimentVariant:i}=(0,Pr.jc)();let a,M;return r&&n.podcast_title?({title:a}=Bc(n,{primaryTitleOverride:n.podcast_title}),M=n.podcast_description):t?{title:a,description:M}=Bc(n,{primaryTitleOverride:`${t.name} | ${n.name}`,primaryDescriptionOverride:t.description}):{title:a,description:M}=Bc(n,{rankingVariant:dp(n)&&i("seo_meta_subscriber_count_x1",{onlyConsiderExposedValues:!0})||void 0}),(0,e.h)(e.Fragment,null,(0,e.h)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:jd()((0,Wd.hd)(n),{json:!0,isScriptContext:!0})}}),(0,O.setMetaData)({title:a,description:M}))},Zb=({blurbs:n,freeSignup:t,freeSignupEmail:r,hide_intro_popup:i,noBalanceHeroText:a,pub:M,referralCode:k,showWelcome:F,user:B,launchWelcomePage:Y})=>{const ge=(0,o.sO)(!1),Ce=(0,o.sO)(null);return(0,o.d4)(()=>{(0,p.getQueryItem)("action")==="share"&&(window.history.replaceState({},document.title,(0,p.updateQuery)({action:null})),ge.current=!0),ge.current&&Ce.current&&Ce.current.open(),typeof window!="undefined"&&F&&(0,O.removeQueryParam)("showWelcome")},[F]),(0,e.h)(e.Fragment,null,(0,e.h)(rl.ZP,{ref:Se=>Ce.current=Se,pub:M,user:B}),(0,e.h)(Re,{blurbs:n,freeSignup:t,freeSignupEmail:r,hidden:i||ge.current,noBalance:a,publication:M,referralCode:k,showOnMount:F,user:B,launchWelcomePage:Y}))};var zU=Et(78718),Yb=Et.n(zU),GU=Object.defineProperty,ZU=Object.defineProperties,YU=Object.getOwnPropertyDescriptors,Jb=Object.getOwnPropertySymbols,JU=Object.prototype.hasOwnProperty,XU=Object.prototype.propertyIsEnumerable,Xb=(n,t,r)=>t in n?GU(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Qb=(n,t)=>{for(var r in t||(t={}))JU.call(t,r)&&Xb(n,r,t[r]);if(Jb)for(var r of Jb(t))XU.call(t,r)&&Xb(n,r,t[r]);return n},qb=(n,t)=>ZU(n,YU(t));const eP=({noFirstImage:n,posts:t,pub:r,user:i,utm:a,onChange:M})=>{const k={pub:r,user:i,utm:a,onChange:M};return(0,e.h)(fi,qb(Qb({},k),{variant:n?"two-three-two":"five-up",posts:t}))},QU=n=>(0,e.h)(eP,qb(Qb({},n),{noFirstImage:!0})),qU={link:"frontend-main-home-MetaLink-module__link--b9iM0"},pu=({children:n,href:t,testid:r})=>(0,e.h)(y.xv.Meta,{className:qU.link,color:"pub-primary-text",as:"a",native:!0,href:t,"data-testid":r},n),eF={title:"frontend-main-home-sidebar-SidebarTitle-module__title--njy6c"},Ts=({children:n})=>(0,e.h)(y.xv,{className:eF.title,color:"pub-primary-text",font:"pub-headings",weight:"bold"},n),tP=({pub:n})=>(0,e.h)(y.gq,{justifyContent:"space-between"},(0,e.h)(Ts,null,"Most Popular"),(0,e.h)(pu,{href:(0,p.getArchiveUrl)(n,{params:{sort:"top"}})},"View all"));var tF=Object.defineProperty,nF=Object.defineProperties,rF=Object.getOwnPropertyDescriptors,nP=Object.getOwnPropertySymbols,oF=Object.prototype.hasOwnProperty,iF=Object.prototype.propertyIsEnumerable,rP=(n,t,r)=>t in n?tF(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Hp=(n,t)=>{for(var r in t||(t={}))oF.call(t,r)&&rP(n,r,t[r]);if(nP)for(var r of nP(t))iF.call(t,r)&&rP(n,r,t[r]);return n},Vp=(n,t)=>nF(n,rF(t));const oP=({noFirstImage:n,posts:t,topPosts:r,pub:i,user:a,utm:M,onChange:k})=>{const F={pub:i,user:a,utm:M,onChange:k},{isTablet:B,isMobile:Y}=yi();return Y?null:(0,e.h)(es,{variant:"full-width-with-sidebar",showContentBelowOnMobile:!0},(0,e.h)(fi,Vp(Hp({},F),{variant:n?"two-small-three-medium":"two-small-one-large",posts:t,flex:"grow"})),r&&(0,e.h)(y.tu,{gap:12},(0,e.h)(tP,{pub:i}),(0,e.h)(fi,Vp(Hp({},F),{flex:"grow",variant:B?"mini-row":"one-column-list",posts:r.slice(0,B?3:5)}))))},aF=n=>(0,e.h)(oP,Vp(Hp({},n),{noFirstImage:!0})),sF=({posts:n,pub:t,user:r,utm:i,onChange:a})=>n.length?(0,e.h)(ul,{pub:t,user:r,utm:i,onChange:a,variant:"mobile-hero",post:n[0]}):null;var lF=Object.defineProperty,uF=Object.defineProperties,cF=Object.getOwnPropertyDescriptors,iP=Object.getOwnPropertySymbols,dF=Object.prototype.hasOwnProperty,fF=Object.prototype.propertyIsEnumerable,aP=(n,t,r)=>t in n?lF(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,pF=(n,t)=>{for(var r in t||(t={}))dF.call(t,r)&&aP(n,r,t[r]);if(iP)for(var r of iP(t))fF.call(t,r)&&aP(n,r,t[r]);return n},hF=(n,t)=>uF(n,cF(t));const sP=({isSmall:n,posts:t,pub:r,user:i,utm:a,onChange:M})=>t.length?(0,e.h)(es,{variant:n?"three-column-width":"full-width"},(0,e.h)(ul,{pub:r,user:i,utm:a,onChange:M,variant:n?"jumbo-small":"jumbo",post:t[0]})):null,mF=n=>(0,e.h)(sP,hF(pF({},n),{isSmall:!0}));var _F=Object.defineProperty,od=Object.getOwnPropertySymbols,lP=Object.prototype.hasOwnProperty,uP=Object.prototype.propertyIsEnumerable,cP=(n,t,r)=>t in n?_F(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,gF=(n,t)=>{for(var r in t||(t={}))lP.call(t,r)&&cP(n,r,t[r]);if(od)for(var r of od(t))uP.call(t,r)&&cP(n,r,t[r]);return n},vF=(n,t)=>{var r={};for(var i in n)lP.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&od)for(var i of od(n))t.indexOf(i)<0&&uP.call(n,i)&&(r[i]=n[i]);return r};const yF={magaziney:oP,"magazine-5":eP,newspaper:sP},bF=n=>{var t=n,{firstPostMissingImage:r,bodyVariant:i,isMobile:a,variant:M}=t,k=vF(t,["firstPostMissingImage","bodyVariant","isMobile","variant"]);let F=yF[M];return a?F=sF:M==="newspaper"&&i==="list"?F=mF:M==="magaziney"&&r?F=aF:M==="magazine-5"&&r&&(F=QU),F?(0,e.h)(F,gF({},k)):(console.error("Component not found, add one to HomeHero"),null)},cl=(0,e.createContext)({contributors:void 0,freeSignup:void 0,freeSignupEmail:void 0,homepageLinks:void 0,numRecommendations:void 0,recommendations:void 0});var PF=Et(7739),EF=Et.n(PF),wF=Object.defineProperty,CF=Object.defineProperties,OF=Object.getOwnPropertyDescriptors,dP=Object.getOwnPropertySymbols,SF=Object.prototype.hasOwnProperty,TF=Object.prototype.propertyIsEnumerable,fP=(n,t,r)=>t in n?wF(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,IF=(n,t)=>{for(var r in t||(t={}))SF.call(t,r)&&fP(n,r,t[r]);if(dP)for(var r of dP(t))TF.call(t,r)&&fP(n,r,t[r]);return n},xF=(n,t)=>CF(n,OF(t));const MF=n=>(0,e.h)(L.l,xF(IF({},n),{name:"PencilIcon",svgParams:{height:100,width:100}}),(0,e.h)("path",{d:"M55.3,25.6L22.5,58.4c-0.1,0.1-0.2,0.3-0.3,0.4c0,0,0,0.1-0.1,0.1c-0.1,0.1-0.1,0.3-0.2,0.4c0,0,0,0.1,0,0.1l-6.4,21.9   c-0.3,0.9,0,1.8,0.6,2.5c0.5,0.5,1.1,0.7,1.8,0.7c0.2,0,0.5,0,0.7-0.1l21.9-6.4c0,0,0.1,0,0.1,0c0.1,0,0.3-0.1,0.4-0.2   c0,0,0.1,0,0.1-0.1c0.2-0.1,0.3-0.2,0.4-0.3l32.8-32.8L55.3,25.6z M35.1,74.5l-13.5,3.9l3.9-13.5L35.1,74.5z"}),(0,e.h)("path",{d:"M62.1,18.8l-3.3,3.3l19.1,19.1l3.3-3.3c4.7-4.7,4.4-13.3-0.7-18.4C75.4,14.4,66.8,14.1,62.1,18.8z"}));var DF=Object.defineProperty,pP=Object.getOwnPropertySymbols,AF=Object.prototype.hasOwnProperty,NF=Object.prototype.propertyIsEnumerable,hP=(n,t,r)=>t in n?DF(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,mP=(n,t)=>{for(var r in t||(t={}))AF.call(t,r)&&hP(n,r,t[r]);if(pP)for(var r of pP(t))NF.call(t,r)&&hP(n,r,t[r]);return n};const RF=({homepageLinks:n,pub:t,renderGroup:r,renderLink:i})=>{const a=EF()(n,"group"),M=zt()(Object.keys(a),k=>a[k][0].rank);return(0,e.h)(e.Fragment,null,M.map(k=>(0,e.h)(LF,{group:k,items:a[k],pub:t,newTab:!0,renderGroup:r,renderLink:i})))},LF=({group:n,items:t,newTab:r,pub:i,renderGroup:a,renderLink:M})=>{const k=[];let F=null;r&&(F="_blank",k.push("noopener")),(!i||i!=null&&i.no_follow)&&k.push("ugc nofollow");const B={rel:k.join(" "),target:F},Y=(0,e.h)(e.Fragment,null,t.map(({title:ge,url:Ce,subtitle:Se,subtitleUrl:Ue,edit:Ye,className:Ve})=>M?M({title:ge,url:Ce,subtitle:Se,linkProps:B}):(0,e.h)("div",{className:l()("home-right-col",Ve)},Ye?(0,e.h)("div",{className:"home-right-col-editable"},(0,e.h)("a",{className:"home-right-col-title",href:Ce,native:!0},ge),(0,e.h)($t.Z,{className:"button secondary show-on-hover",href:Ye,title:"edit"},(0,e.h)(MF,{height:20,width:20,stroke:"#aaa"}))):(0,e.h)("a",mP({className:"home-right-col-title",href:Ce,native:!0},B),ge),Se&&(0,e.h)("a",mP({className:"home-right-col-sub",href:Ue||Ce,native:!0},B),Se))));return a?a({title:n,links:Y}):(0,e.h)("div",{className:"home-right-group"},(0,e.h)("div",{className:"home-right-group-title"},n),Y)},_P={container:"frontend-pencraft-unstable-ClickBox-module__container--Fi9JA",containerHoverLight:"frontend-pencraft-unstable-ClickBox-module__containerHoverLight--nsdj2"};var BF=Object.defineProperty,kF=Object.defineProperties,UF=Object.getOwnPropertyDescriptors,id=Object.getOwnPropertySymbols,gP=Object.prototype.hasOwnProperty,vP=Object.prototype.propertyIsEnumerable,yP=(n,t,r)=>t in n?BF(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,FF=(n,t)=>{for(var r in t||(t={}))gP.call(t,r)&&yP(n,r,t[r]);if(id)for(var r of id(t))vP.call(t,r)&&yP(n,r,t[r]);return n},jF=(n,t)=>kF(n,UF(t)),WF=(n,t)=>{var r={};for(var i in n)gP.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&id)for(var i of id(n))t.indexOf(i)<0&&vP.call(n,i)&&(r[i]=n[i]);return r};const HF=(0,Kt.forwardRef)((n,t)=>{var r=n,{children:i,className:a,disable:M,hoverBackground:k,onClick:F}=r,B=WF(r,["children","className","disable","hoverBackground","onClick"]);const Y=M?void 0:F;return(0,e.h)(Js.xu,jF(FF({},B),{ref:t,className:l()(a,!M&&_P.container,{[_P.containerHoverLight]:k==="light"&&!M}),role:Y?"button":void 0,onClick:Y}),i)});var VF=Object.defineProperty,KF=Object.defineProperties,$F=Object.getOwnPropertyDescriptors,ad=Object.getOwnPropertySymbols,bP=Object.prototype.hasOwnProperty,PP=Object.prototype.propertyIsEnumerable,EP=(n,t,r)=>t in n?VF(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,wP=(n,t)=>{for(var r in t||(t={}))bP.call(t,r)&&EP(n,r,t[r]);if(ad)for(var r of ad(t))PP.call(t,r)&&EP(n,r,t[r]);return n},CP=(n,t)=>KF(n,$F(t)),zF=(n,t)=>{var r={};for(var i in n)bP.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&ad)for(var i of ad(n))t.indexOf(i)<0&&PP.call(n,i)&&(r[i]=n[i]);return r};const hu=n=>{var t=n,{image:r,linkProps:i,subtitle:a,title:M,url:k}=t,F=zF(t,["image","linkProps","subtitle","title","url"]);const{size:B,lineHeight:Y}=Bp.sm;return(0,e.h)("a",CP(wP({},i),{href:k,style:{textDecoration:"none",display:"block"}}),(0,e.h)(HF,{hoverBackground:"light",padding:8,radius:6},(0,e.h)(y.gq,CP(wP({},F),{alignItems:"center",gap:16}),r&&(0,e.h)(y.xu,{alignSelf:"start"},r),(0,e.h)(y.tu,{style:{wordBreak:"break-word"}},(0,e.h)(y.xv,{color:"pub-primary-text",font:"pub-headings",lineHeight:Y,size:B},M),a&&(0,e.h)(y.xv.B4,{color:"pub-secondary-text",size:12,clamp:3},a)))))},OP=({hideHeaderBorder:n,pub:t})=>{const{homepageLinks:r}=(0,o.qp)(cl);return!r||r.length===0?null:(0,e.h)(y.tu,{gap:24,"data-testid":"homepage-links"},(0,e.h)(RF,{homepageLinks:r,pub:t,renderGroup:({title:i,links:a})=>(0,e.h)(y.tu,{gap:16},(0,e.h)(y.gq,{alignItems:"center",borderBottom:n?void 0:"detail-themed",paddingBottom:n?void 0:8},(0,e.h)(Ts,null,i)),(0,e.h)(y.tu,{gap:4},a)),renderLink:({linkProps:i,subtitle:a,title:M,url:k})=>(0,e.h)(hu,{linkProps:i,subtitle:a,title:M,url:k})}))},GF={container:"frontend-main-home-sidebar-SidebarEmptyState-module__container--YAmtL"},sd=()=>(0,e.h)(y.xu,{paddingX:16,paddingY:20,radius:6,className:GF.container},(0,e.h)(y.xv.B4,{color:"pub-secondary-text"},"Coming soon"));var ZF=Object.defineProperty,YF=Object.defineProperties,JF=Object.getOwnPropertyDescriptors,SP=Object.getOwnPropertySymbols,XF=Object.prototype.hasOwnProperty,QF=Object.prototype.propertyIsEnumerable,TP=(n,t,r)=>t in n?ZF(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,qF=(n,t)=>{for(var r in t||(t={}))XF.call(t,r)&&TP(n,r,t[r]);if(SP)for(var r of SP(t))QF.call(t,r)&&TP(n,r,t[r]);return n},ej=(n,t)=>YF(n,JF(t)),IP=(n,t,r)=>new Promise((i,a)=>{var M=B=>{try{F(r.next(B))}catch(Y){a(Y)}},k=B=>{try{F(r.throw(B))}catch(Y){a(Y)}},F=B=>B.done?i(B.value):Promise.resolve(B.value).then(M,k);F((r=r.apply(n,t)).next())});const tj=(n,t,r,i,{trackOnly:a=!1}={})=>()=>IP(void 0,null,function*(){if((0,C.j)(C.FP.RECOMMENDATION_SUBSCRIBE_BUTTON_CLICKED,{source:"recommendations-page",recommended_publication_id:n.id,recommending_publication_id:t.id}),!a)try{yield jn().post("/api/v1/free").send({email:r.email,source:"recommendations_page",other_publication_id:n.id}),i(n)}catch(M){alert("Something went wrong")}}),nj=(n,t,r,{trackOnly:i=!1}={})=>()=>IP(void 0,null,function*(){if((0,C.j)(C.FP.RECOMMENDATION_UNSUBSCRIBE_BUTTON_CLICKED,{source:"recommendations-page",recommended_publication_id:n.id,recommending_publication_id:t.id}),!i)try{yield jn().delete("/api/v1/free").send({publication_id:n.id,source:"recommendations_page"}),r(n)}catch(a){alert("Something went wrong")}}),rj=({pub:n,recommendations:t,allSubscribedPubs:r,fullySubscribedPubs:i,user:a})=>{const{getExperimentVariant:M,exposeExperiment:k}=(0,Pr.jc)(),{iString:F,iTemplate:B}=(0,P.M1)(),[Y,ge]=(0,o.eJ)(r),Ce=Ue=>{ge([...Y,Ue])},Se=Ue=>{ge(Y.filter(({id:Ye})=>Ye!==Ue.id))};return(0,e.h)("div",{className:"container"},(0,e.h)("div",{className:"recommendations-page-container"},(0,e.h)("h2",null,B`Recommended by ${(0,nn.getByLine)(n)||n.name}`),(0,e.h)("div",{className:"recommended-publications-container"},t.map((Ue,Ye)=>{const Ve=Ue.recommendedPublication;if(!Ve)return;const at=`${(0,p.getBaseUrl)(Ve)}/?utm_source=recommendations_page&utm_campaign=${n.id}`,pt=(0,p.getSubscribeUrl)(Ve,{addBase:!0,utm_source:"recommendations_page"}),gt=(0,nn.getByLine)(Ve),xt=i.map(({id:Nt})=>Nt).includes(Ve.id);return(0,e.h)("div",{className:"recommended-publications-text-container with-blurb"},(0,e.h)("div",{className:"recommendation-body"},(0,e.h)("div",{className:"publication-content"},(0,e.h)("div",{className:"top-row"},(0,e.h)("a",{className:"left",href:at,onClick:()=>{(0,C.j)(C.FP.PUBLICATION_RECOMMENDATION_LINK_CLICKED,{source:"recommendations-page",recommended_publication_id:Ve.id,recommending_publication_id:n.id})}},(0,e.h)(Nn.Z,{pub:Ve,size:48,logo_url:Ve.logo_url||Ve.author_photo_url,linkify:!1}),(0,e.h)("div",{className:"pub-meta"},(0,e.h)("div",{className:"publication-title"},Ve.name),!!gt&&(0,e.h)("div",{className:"publication-author"},B`By ${gt}`))),Y.map(({id:Nt})=>Nt).includes(Ve.id)?(0,e.h)($t.Z,{onClick:nj(Ve,n,Se,{trackOnly:xt}),href:xt?(0,p.getPubAccountSettingsUrl)(Ve,{addBase:!0}):null,className:"unsubscribe"},F("Subscribed")):(0,e.h)($t.Z,{onClick:tj(Ve,n,a,Ce,{trackOnly:!(a!=null&&a.email)}),href:a!=null&&a.email?null:pt},(0,e.h)(y.gq,{alignItems:"center",gap:8},(0,e.h)(bl.Z,{size:20}),F("Subscribe")))),(0,e.h)("div",{className:"publication-suggestion-text-area"},(Ve.editorial_bio||Ve.hero_text)&&(0,e.h)("div",{className:"publication-description"},Ve.editorial_bio||Ve.hero_text)),Ue.description&&(0,e.h)(oj,{content:Ue.description,author:(0,nn.getByLine)(n)||n.name}))))}))))},oj=({author:n,content:t})=>(0,e.h)("div",{className:"blurb"},(0,e.h)("p",{className:"blurb-content"},t),(0,e.h)("p",{className:"blurb-author"},"- ",n)),ij=({recommendations:n,numRecommendations:t,pub:r,user:i,render:a,renderRecommendation:M})=>{const{iString:k,iTemplate:F}=(0,P.M1)(),B=n.map(Y=>(0,e.h)(aj,{recommendation:Y,pub:r,signedIn:!!i,render:M}));return(0,o.d4)(()=>{(0,C.j)(C.FP.PUBLICATION_RECOMMENDATIONS_SHOWN,{source:"pub-home",recommendations:n.map(({recommendedPublication:Y})=>Y.id)})},[n]),a?a({recommendations:B,canManage:!!(i!=null&&i.is_admin),manageUrl:(0,p.getPublishSettingsRecommendationsUrl)(r),hasMore:t>n.length,hasMoreUrl:(0,p.getRecommendationsPageUrl)(r),recommendationsCount:t}):(0,e.h)("div",{className:"home-right-group recommendations"},(0,e.h)("div",{className:"home-right-group-title"},(0,e.h)("a",{href:(0,p.getRecommendationsPageUrl)(r)},"Recommendations"),i!=null&&i.is_admin?(0,e.h)("a",{href:(0,p.getPublishSettingsRecommendationsUrl)(r),native:!0},k("Manage")):t>n.length?(0,e.h)("a",{href:(0,p.getRecommendationsPageUrl)(r),native:!0},F`View all ${t}`):null),B)},aj=({recommendation:n,pub:t,signedIn:r,render:i})=>{const{recommendedPublication:a}=n,M=(0,p.getPubUrl)(a,{params:{utm_source:"homepage_recommendations",utm_campaign:t.id},signedIn:r}),k=()=>{(0,C.j)(C.FP.PUBLICATION_RECOMMENDATION_LINK_CLICKED,{recommending_publication_id:t.id,recommended_publication_id:a.id,source:"homepage-recommendations"})},F={pub:a,logo_url:a.logo_url,href:M,openInNewTab:!0,belowTheFold:!0};return i?i({pubIconProps:F,pubName:a.name,pubAuthor:a.author.name,url:M,onClick:k}):(0,e.h)("div",{className:"home-right-col"},(0,e.h)("div",{className:"recommendation-row"},(0,e.h)("div",{className:"left"},(0,e.h)("a",{onClick:k},(0,e.h)(Nn.Z,ej(qF({},F),{size:32}))),(0,e.h)("div",{className:"pub-meta"},(0,e.h)("a",{href:M,target:"_blank",onClick:k},a.name),(0,e.h)("div",{className:"pub-author"},a.author.name)))))},sj=ij;var lj=Object.defineProperty,uj=Object.defineProperties,cj=Object.getOwnPropertyDescriptors,xP=Object.getOwnPropertySymbols,dj=Object.prototype.hasOwnProperty,fj=Object.prototype.propertyIsEnumerable,MP=(n,t,r)=>t in n?lj(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,pj=(n,t)=>{for(var r in t||(t={}))dj.call(t,r)&&MP(n,r,t[r]);if(xP)for(var r of xP(t))fj.call(t,r)&&MP(n,r,t[r]);return n},hj=(n,t)=>uj(n,cj(t));const DP=({pub:n,showEmptyState:t,hideHeaderBorder:r,user:i})=>{const{numRecommendations:a,recommendations:M}=(0,o.qp)(cl),{iString:k,iTemplate:F}=(0,P.M1)();return!M||M.length===0&&!t?null:(0,e.h)(sj,{recommendations:M,numRecommendations:a,pub:n,user:i,render:({recommendations:B,canManage:Y,manageUrl:ge,hasMore:Ce,hasMoreUrl:Se,recommendationsCount:Ue})=>(0,e.h)(y.tu,{gap:16},(0,e.h)(y.gq,{alignItems:"center",justifyContent:"space-between",paddingBottom:r?void 0:8,borderBottom:r?void 0:"detail-themed"},(0,e.h)(Ts,null,k("Recommendations")),Y?(0,e.h)(pu,{href:ge},k("Manage")):Ce?(0,e.h)(pu,{href:Se,testid:"homepage-recommendations-view-all"},F`View all ${Ue}`):null),(0,e.h)(y.tu,{gap:4,"data-testid":"homepage-recommendations"},a===0?(0,e.h)(sd,null):B)),renderRecommendation:({url:B,onClick:Y,pubIconProps:ge,pubName:Ce,pubAuthor:Se})=>{const Ue={onClick:Y,target:"_blank",rel:"noopener"};return(0,e.h)(hu,{"data-testid":"homepage-recommendation",image:(0,e.h)(Nn.Z,hj(pj({},ge),{size:40,noMargin:!0})),linkProps:Ue,subtitle:Se,title:Ce,url:B})}})},AP={container:"frontend-main-home-sidebar-SidebarSubscribe-module__container--iNbOy",pubLogo:"frontend-main-home-sidebar-SidebarSubscribe-module__pubLogo--ujmr4"},NP=({pub:n,user:t})=>{const{freeSignup:r,freeSignupEmail:i}=(0,o.qp)(cl),{size:a,lineHeight:M}=Bp.sm;return(0,e.h)(y.tu,{className:AP.container,gap:24},(0,e.h)(y.tu,{gap:8},n.logo_url&&(0,e.h)("img",{"data-testid":"homepage-sidebar-pub-logo",className:AP.pubLogo,src:(0,p.imginary)(n.logo_url,88),alt:n.name}),(0,e.h)("div",null,(0,e.h)(y.xv,{size:a,lineHeight:M,weight:"semibold",color:"pub-primary-text",font:"pub-headings"},n.name),n.hero_text&&(0,e.h)(y.xv,{size:12,lineHeight:20,color:"pub-secondary-text",font:"text"},n.hero_text))),!(t!=null&&t.is_subscribed)&&(0,e.h)(Qa,{expectTruncation:!0,freeSignup:r,freeSignupEmail:i,isStatic:!1,pub:n,source:"magaziney-home-page",user:t}))},mj=({pub:n,user:t})=>{const{isMobile:r}=yi();return(0,e.h)(y.tu,{gap:40},!r&&(0,e.h)(NP,{pub:n,user:t}),n.show_recs_on_homepage&&(0,e.h)(DP,{pub:n,user:t}),(0,e.h)(OP,{pub:n}))},_j=(0,Oo.Z)("LayoutList",[["rect",{width:"7",height:"7",x:"3",y:"14",key:"8pmw4r"}],["rect",{width:"7",height:"7",x:"3",y:"3",key:"i95qnx"}],["line",{x1:"14",x2:"21",y1:"4",y2:"4",key:"1jpd8k"}],["line",{x1:"14",x2:"21",y1:"9",y2:"9",key:"z1w1u5"}],["line",{x1:"14",x2:"21",y1:"15",y2:"15",key:"evly31"}],["line",{x1:"14",x2:"21",y1:"20",y2:"20",key:"v5or0t"}]]);var gj=Et(35570);const mu={homePageGroupsGrid:"frontend-main-home-HomepageGroupsGrid-module__homePageGroupsGrid--PXkAL",divider:"frontend-main-home-HomepageGroupsGrid-module__divider--ER4Bl","three-column-grid":"frontend-main-home-HomepageGroupsGrid-module__three-column-grid--QWtWI","long-divider":"frontend-main-home-HomepageGroupsGrid-module__long-divider--Oskx5",emptyRowsView:"frontend-main-home-HomepageGroupsGrid-module__emptyRowsView--Py19H",emptyGroupView:"frontend-main-home-HomepageGroupsGrid-module__emptyGroupView--CMxWO",emptyContentIcon:"frontend-main-home-HomepageGroupsGrid-module__emptyContentIcon--3iM7o"};var vj=Object.defineProperty,yj=Object.defineProperties,bj=Object.getOwnPropertyDescriptors,ld=Object.getOwnPropertySymbols,RP=Object.prototype.hasOwnProperty,LP=Object.prototype.propertyIsEnumerable,BP=(n,t,r)=>t in n?vj(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,rs=(n,t)=>{for(var r in t||(t={}))RP.call(t,r)&&BP(n,r,t[r]);if(ld)for(var r of ld(t))LP.call(t,r)&&BP(n,r,t[r]);return n},dl=(n,t)=>yj(n,bj(t)),kP=(n,t)=>{var r={};for(var i in n)RP.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&ld)for(var i of ld(n))t.indexOf(i)<0&&LP.call(n,i)&&(r[i]=n[i]);return r},Pj=(n,t,r)=>new Promise((i,a)=>{var M=B=>{try{F(r.next(B))}catch(Y){a(Y)}},k=B=>{try{F(r.throw(B))}catch(Y){a(Y)}},F=B=>B.done?i(B.value):Promise.resolve(B.value).then(M,k);F((r=r.apply(n,t)).next())});const ud=n=>"email_from_name"in n,Ej=n=>{var t;const[r,i]=(0,o.eJ)((t=n.postsByGroupId)!=null?t:{}),[a,M]=(0,o.eJ)(!1),k=n,{posts:F,bodyPostGroups:B,hasEmptyGroupOptions:Y,setHasInvalidGroupSelection:ge}=k,Ce=kP(k,["posts","bodyPostGroups","hasEmptyGroupOptions","setHasInvalidGroupSelection"]);(0,o.d4)(()=>{const Ve=at=>Pj(void 0,null,function*(){const pt=rs({},r);for(const gt of at){const xt={limit:6};if(ud(gt)?xt.section_id=gt.id:xt.post_tag_id=gt.id,!pt[gt.id]){const{body:Nt}=yield jn().get("/api/v1/archive").query(xt);pt[gt.id]=Nt}}Ql()(pt,r)||(i(pt),M(!1))});Object.keys(r).length===0&&B&&(B==null?void 0:B.length)>0&&(M(!0),Ve(B))},[B,i,r]);const Se=(0,o.I4)(Ve=>{var at;const pt=(at=Ve.post_tag_id)!=null?at:Ve.section_id;if(!pt)throw new Error("Must supply section_id or post_tag_id");r&&r[pt]||jn().get("/api/v1/archive").query(rs({limit:3},Ve)).then(({body:gt})=>{i(dl(rs({},r),{[pt]:gt}))})},[r,i]),Ue=[F.slice(0,3),F.slice(3,6),F.slice(6)],Ye=(0,o.I4)(Ve=>!r||r&&Object.keys(r).length===0||!r[Ve]?null:r[Ve].slice(0,3),[r]);return Y||!B||(B==null?void 0:B.length)===0?ge?(ge(!0),(0,e.h)(UP,{message:"No groups selected"})):(0,e.h)(y.tu,null,(0,e.h)(Kp,{pub:n.pub}),(0,e.h)(fi,dl(rs({},Ce),{variant:"three-column-grid",posts:Ue.slice(B!=null&&B.length?B==null?void 0:B.length:0).flat()}))):(0,e.h)("div",{className:mu.homePageGroupsGrid},B.map(Ve=>{const at=Ye(Ve.id);return(0,e.h)(y.tu,{paddingBottom:24},(0,e.h)(Kp,{pub:n.pub,row:Ve}),(0,e.h)(wj,dl(rs({},Ce),{posts:F,loadingSync:a,groupModel:Ve,postsForId:at,setHasInvalidGroupSelection:ge,onIntersectCallback:()=>{const pt=ud(Ve)?{section_id:Ve.id}:{post_tag_id:Ve.id};Se(pt)}})))}),B.length<3?(0,e.h)(y.tu,null,(0,e.h)(Kp,{pub:n.pub}),(0,e.h)(fi,dl(rs({},Ce),{variant:"three-column-grid",posts:Ue.slice(B!=null&&B.length?B==null?void 0:B.length:0).flat()}))):null)},UP=({groupModel:n,message:t})=>(0,e.h)(y.xu,{paddingTop:8,paddingBottom:40},(0,e.h)(y.tu,{alignItems:"center",justifyContent:"center",className:l()(mu.homePageGroupsGrid,n?mu.emptyGroupView:mu.emptyRowsView)},(0,e.h)(_j,{className:mu.emptyContentIcon}),t&&(0,e.h)(y.xv.B4,{color:"pub-secondary-text",paddingTop:20,weight:"semi-bold"},t),n&&(0,e.h)(y.xv.B4,{color:"pub-secondary-text",paddingTop:4},"Add posts to this ",ud(n)?"section":"tag"," to include it on your homepage."))),Kp=({row:n,pub:t})=>{var r;const{isMobile:i}=yi();let a="/archive";return n&&(a=ud(n)?(0,te.getSectionUrl)(t,{section:n}):(0,te.getPostTagUrl)(t,n)),(0,e.h)(y.tu,{paddingBottom:12,paddingX:i?0:8},(0,e.h)(y.gq,{justifyContent:"space-between",alignItems:"center"},(0,e.h)(y.xv.H2,{color:"pub-primary-text",font:"pub-headings"},(r=n==null?void 0:n.name)!=null?r:"Recent posts"),(0,e.h)(pu,{href:a},"See all")))},wj=n=>{const t=n,{onIntersectCallback:r,groupModel:i,loadingSync:a,postsForId:M,setHasInvalidGroupSelection:k}=t,F=kP(t,["onIntersectCallback","groupModel","loadingSync","postsForId","setHasInvalidGroupSelection"]),[B,Y]=(0,gj.Z)();return(0,o.d4)(()=>{Y!=null&&Y.isIntersecting&&!a&&r()},[Y==null?void 0:Y.isIntersecting,r,a]),M?M.length===0?k?(k(!0),(0,e.h)(UP,{groupModel:i})):(0,e.h)(fi,dl(rs({},F),{variant:"three-column-grid",posts:F.posts.slice(0,3)})):(0,e.h)(fi,dl(rs({},F),{variant:"three-column-grid",posts:M})):(0,e.h)(Lp,{postCount:3,variant:"grid-groups",ref:B})};var Cj=Object.defineProperty,Oj=Object.defineProperties,Sj=Object.getOwnPropertyDescriptors,FP=Object.getOwnPropertySymbols,Tj=Object.prototype.hasOwnProperty,Ij=Object.prototype.propertyIsEnumerable,jP=(n,t,r)=>t in n?Cj(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,WP=(n,t)=>{for(var r in t||(t={}))Tj.call(t,r)&&jP(n,r,t[r]);if(FP)for(var r of FP(t))Ij.call(t,r)&&jP(n,r,t[r]);return n},xj=(n,t)=>Oj(n,Sj(t));function Mj({pub:n,user:t,freeSignup:r,freeSignupEmail:i,className:a=""}){const{iString:M}=(0,P.M1)();return(0,e.h)("div",{className:l()("home-sitemap",a)},(0,e.h)("h4",{className:"home-sitemap-title"},n.name),r||t&&t.is_free_subscribed?!(t&&t.is_subscribed)&&n.plans?(0,e.h)("a",{className:"button primary home-sitemap-subscribe subscribe-btn",href:(0,p.getSubscribeUrl)(n,{utm_source:"home-sitemap"}),native:!0},(0,nn.getSubscribeText)(n)):null:(0,e.h)(y.xu,{paddingTop:20},(0,e.h)(Be.Z,{className:"home-sitemap-signup-form",freeSignup:r,freeSignupEmail:i,pub:n,source:"home-sitemap",user:t,onSuccess:k=>{k.body.prompt_to_login?setTimeout(()=>{document.location.href=(0,p.pathWithQuery)("/account/login",{redirect:document.location.href,email:k.body.email})},30):n.plans?document.location.href=(0,p.pathWithQuery)("/subscribe",xj(WP(WP({next:document.location.href,later:!0,just_signed_up:!0},k.body.subscription_id&&{subscription_id:k.body.subscription_id}),k.body.referral_token&&{referral_token:k.body.referral_token}),{requires_confirmation:k.body.requires_confirmation?"true":""})):document.location.reload()},onConfirmationRequired:(n==null?void 0:n.payments_state)==="enabled"?()=>null:void 0})),(0,e.h)("div",{className:"home-sitemap-links"},(0,e.h)("a",{href:(0,p.getAboutUrl)(n),native:!!n.parent_publication_id},M("About")),(0,e.h)("a",{href:(0,p.getBaseArchiveUrl)(n)},M("Archive")),n.has_recommendations&&(0,e.h)("a",{href:(0,p.getRecommendationsPageUrl)(n),native:!0},M("Recommendations")),n.can_have_sitemap&&(0,e.h)("a",{href:(0,p.getSitemapUrl)(n),native:!0},M("Sitemap"))))}var Dj=Object.defineProperty,Aj=Object.defineProperties,Nj=Object.getOwnPropertyDescriptors,HP=Object.getOwnPropertySymbols,Rj=Object.prototype.hasOwnProperty,Lj=Object.prototype.propertyIsEnumerable,VP=(n,t,r)=>t in n?Dj(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Is=(n,t)=>{for(var r in t||(t={}))Rj.call(t,r)&&VP(n,r,t[r]);if(HP)for(var r of HP(t))Lj.call(t,r)&&VP(n,r,t[r]);return n},xs=(n,t)=>Aj(n,Nj(t));const KP=["newspaper","magaziney","magazine-5"],$P=16,Vz=7,zP={newspaper:{id:"newspaper",label:"Feature",description:"One featured post",legacyEquivalent:"newspaper",postCount:{desktop:1,tablet:1,mobile:1}},magaziney:{id:"magaziney",label:"Newspaper",description:"A side column of top posts",legacyEquivalent:"magaziney",postCount:{desktop:3,tablet:3,mobile:1}},"magazine-5":{id:"magazine-5",label:"Magazine",description:"Five featured posts",legacyEquivalent:"magaziney",postCount:{desktop:5,tablet:3,mobile:1}}},Bj=KP.map(n=>({value:n,label:zP[n].label})),Kz=()=>Bj,kj=KP.reduce((n,t)=>xs(Is({},n),{[t]:zP[t].postCount}),{}),GP=["list","grid","grid-groups","custom"],ZP={list:{id:"list",label:"List",description:"A list of posts",postCount:{desktop:7,tablet:7,mobile:7}},grid:{id:"grid",label:"Grid",description:"A grid of nine posts",postCount:{desktop:9,tablet:9,mobile:7}},"grid-groups":{id:"grid-groups",label:"Groups (sections or tags)",description:"A grid of nine posts, grouped by section or tag",postCount:{desktop:9,tablet:9,mobile:7}},custom:{id:"custom",label:"Custom",description:"Custom layout",postCount:{desktop:0,tablet:0,mobile:0}}},Uj=GP.reduce((n,t)=>xs(Is({},n),{[t]:ZP[t].postCount}),{}),$z=({excludeCustom:n})=>GP.filter(t=>!n||t!=="custom").map(t=>({value:t,label:ZP[t].label})),zz={subscribe:{id:"subscribe",label:"Subscribe"},recommendations:{id:"recommendations",label:"Recommendations"},links:{id:"links",label:"Links"},contributors:{id:"contributors",label:"Contributors"},newsletters:{id:"newsletters",label:"Newsletters"},podcasts:{id:"podcasts",label:"Podcasts"}},cd={posts:{min:3,default:6,max:7},rows:{min:1,default:2,max:3}},Gz=n=>{let t=!1;const r=[],i={},a=new Set,M=new Set;let k=0;return n.length===0&&(t=!0,r.push("You must have at least one content block")),n.forEach(F=>{const B=Fj(F);B==="latest"&&(k+=YP(F),k>$P&&(t=!0,i[F.id]=xs(Is({},i[F.id]),{post_source:[`You can't have more than ${$P} of your most recent posts`]}))),B!=="latest"&&B!=="none"&&(a.has(B)?(t=!0,i[F.id]=xs(Is({},i[F.id]),{post_source:["You can't use the same post source more than once"]})):a.add(B)),B==="none"&&F.block_type!=="subscribe"&&(t=!0,i[F.id]=xs(Is({},i[F.id]),{post_source:["This block type requires a post source"]})),F.primary_sidebar_modules.forEach(Y=>{M.has(Y)?(t=!0,i[F.id]=xs(Is({},i[F.id]),{primary_sidebar_modules:["You can't use the same module more than once"]})):M.add(Y)}),F.secondary_sidebar_modules.forEach(Y=>{M.has(Y)?(t=!0,i[F.id]=xs(Is({},i[F.id]),{secondary_sidebar_modules:["You can't use the same module more than once"]})):M.add(Y)})}),{hasError:t,errorObject:{global:r.length?r:null,contentBlocks:i}}},Fj=n=>n.post_source==="tag"?`tag:${n.post_tag_id}`:n.post_source==="section"?`section:${n.section_id}`:n.post_source,YP=n=>{if(n.block_type==="list")return n.num_posts||cd.posts.default;if(n.block_type==="grid"){const t=4-(n.primary_sidebar_modules.length>0?1:0)-(n.secondary_sidebar_modules.length>0?1:0),r=n.num_rows||cd.rows.default;return t*r}return n.block_type==="feature"?4:0};var jj=Object.defineProperty,Wj=Object.defineProperties,Hj=Object.getOwnPropertyDescriptors,dd=Object.getOwnPropertySymbols,JP=Object.prototype.hasOwnProperty,XP=Object.prototype.propertyIsEnumerable,QP=(n,t,r)=>t in n?jj(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,$p=(n,t)=>{for(var r in t||(t={}))JP.call(t,r)&&QP(n,r,t[r]);if(dd)for(var r of dd(t))XP.call(t,r)&&QP(n,r,t[r]);return n},zp=(n,t)=>Wj(n,Hj(t)),Vj=(n,t)=>{var r={};for(var i in n)JP.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&dd)for(var i of dd(n))t.indexOf(i)<0&&XP.call(n,i)&&(r[i]=n[i]);return r};const Kj={grid:"full-width-with-sidebar","grid-groups":"full-width-with-sidebar",list:"three-column-width-with-sidebar"},$j={grid:"three-column-grid",list:"two-column-list"},zj={grid:"full-width","grid-groups":"full-width",list:"three-column-width"},Gj=n=>{var t=n,{freeSignup:r,freeSignupEmail:i,hideImagesFromList:a,posts:M,pub:k,showSiteMap:F,source:B,user:Y,utm:ge,variant:Ce,onChange:Se,bodyPostGroups:Ue,postsByGroupId:Ye}=t,Ve=Vj(t,["freeSignup","freeSignupEmail","hideImagesFromList","posts","pub","showSiteMap","source","user","utm","variant","onChange","bodyPostGroups","postsByGroupId"]);const{breakpoint:at}=yi(),pt=Uj[Ce][at],gt=Ce==="list"&&(a||M.slice(0,pt).every(xt=>!xt.cover_image));return(0,e.h)(e.Fragment,null,(0,e.h)(es,{variant:Kj[Ce],showContentBelowOnMobile:!0},(0,e.h)(ed,zp($p({},Ve),{maxPosts:pt,newPosts:M,pub:k,user:Y,variant:Ce}),({posts:xt,linkToComments:Nt,onClickPost:Tt})=>{const Ut={hideImages:gt,linkToComments:Nt,posts:xt,pub:k,source:B,user:Y,utm:ge,onChange:Se,onClickPost:Tt};return Ce==="grid-groups"?(0,e.h)(Ej,zp($p({},Ut),{bodyPostGroups:Ue,postsByGroupId:Ye,setHasInvalidGroupSelection:Ve.setHasInvalidGroupSelection,hasEmptyGroupOptions:Ve.hasEmptyGroupOptions})):(0,e.h)(fi,zp($p({},Ut),{variant:$j[Ce]}))}),(0,e.h)(mj,{pub:k,user:Y})),F&&(0,e.h)(es,{variant:zj[Ce]},(0,e.h)(Mj,{pub:k,user:Y,freeSignup:r,freeSignupEmail:i})))},Zj={container:"frontend-main-home-content_blocks-ContentBlockEmptyState-module__container--FYIsx"},Gp=()=>(0,e.h)(y.xu,{paddingX:16,paddingY:48,radius:6,className:Zj.container},(0,e.h)(y.xv.B4,{color:"pub-secondary-text",textAlign:"center"},"No posts found")),Zp=({title:n,viewAllUrl:t})=>{const{isMobile:r}=yi();return(0,e.h)(y.gq,{alignItems:"baseline",justifyContent:"space-between",paddingBottom:r?12:16},r?(0,e.h)(Ts,null,n):(0,e.h)(y.xv.H2,{color:"pub-primary-text",font:"pub-headings"},n),t&&(0,e.h)(pu,{href:t},"View all"))},_u={container:"frontend-main-home-LayoutHalfHalf-module__container--UpdiU",column:"frontend-main-home-LayoutHalfHalf-module__column--xDXwf",left:"frontend-main-home-LayoutHalfHalf-module__left--GzFMe",right:"frontend-main-home-LayoutHalfHalf-module__right--IS8pD"},Yj=({leftContent:n,rightContent:t,mobileContent:r})=>{const{isMobile:i}=yi();return i&&r?r:(0,e.h)("div",{className:_u.container},(0,e.h)("div",{className:l()(_u.column,_u.left)},n),(0,e.h)("div",{className:l()(_u.column,_u.right)},t))},Jj=({posts:n,pub:t,showEmptyState:r,title:i,user:a,viewAllUrl:M,onChange:k})=>{const{isTablet:F}=yi();return!r&&n.length===0?null:(0,e.h)(e.Fragment,null,i&&(0,e.h)(Zp,{title:i,viewAllUrl:M}),n.length?(0,e.h)(Yj,{leftContent:(0,e.h)(ul,{imageAspectRatio:"wide",hideWash:!0,post:n[0],pub:t,user:a,variant:"large",onChange:k}),rightContent:(0,e.h)(fi,{posts:n.slice(1,4),pub:t,user:a,variant:F?"one-column-list":"two-column-list",onChange:k}),mobileContent:(0,e.h)(fi,{posts:n.slice(0,4),pub:t,user:a,variant:"two-column-list",onChange:k})}):(0,e.h)(Gp,null))},Ta={outerContainer:"frontend-main-home-LayoutColumns-module__outerContainer--qy4d2",container:"frontend-main-home-LayoutColumns-module__container--H9Z5Z",column:"frontend-main-home-LayoutColumns-module__column--wj9tn",column1:"frontend-main-home-LayoutColumns-module__column1--t4q5a",column2:"frontend-main-home-LayoutColumns-module__column2--XTexX",column3:"frontend-main-home-LayoutColumns-module__column3--xV51Q",column4:"frontend-main-home-LayoutColumns-module__column4--mmZnX"},Yp=({leftContent:n,mainContent:t,rightContent:r,stretchToFullWidth:i})=>{const{isMobile:a,isTablet:M,isDesktop:k}=yi(),F=n&&r;let B=2;return i&&(k?B=4-(n?1:0)-(r?1:0):M&&(B=3-(n||r?1:0))),a&&(B=1),(0,e.h)("div",{className:Ta.outerContainer},(0,e.h)("div",{className:Ta.container},n&&(0,e.h)(y.xu,{className:l()(Ta.column,Ta.column1),borderRight:F?"detail-themed":void 0,paddingTop:8},n),(0,e.h)(y.xu,{className:l()(Ta.column,{[Ta.column2]:B===2,[Ta.column3]:B===3,[Ta.column4]:B===4}),borderRight:F?"detail-themed":void 0},t),r&&(0,e.h)(y.xu,{className:l()(Ta.column,Ta.column1),paddingTop:8},r)))};var Xj=Et(8400),Qj=Et.n(Xj);const gu={postRow:"frontend-main-home-PostsGrid-module__postRow--IK5v4",postContainer:"frontend-main-home-PostsGrid-module__postContainer--cSdz5",postContainerTwoColumn:"frontend-main-home-PostsGrid-module__postContainerTwoColumn--sSPsj",postContainerThreeColumn:"frontend-main-home-PostsGrid-module__postContainerThreeColumn--S7iyT",postContainerFourColumn:"frontend-main-home-PostsGrid-module__postContainerFourColumn--eIjBf"},qj=({posts:n,pub:t,numColumns:r,user:i,onChange:a})=>{const M=Qj()(n,r);return(0,e.h)(y.tu,{gap:16},M.map(k=>(0,e.h)(y.gq,{className:gu.postRow},k.map(F=>(0,e.h)("div",{className:l()(gu.postContainer,{[gu.postContainerTwoColumn]:r===2,[gu.postContainerThreeColumn]:r===3,[gu.postContainerFourColumn]:r===4})},(0,e.h)(ul,{post:F,pub:t,user:i,variant:"square",onChange:a}))))))};var eW=Et(2731);const tW=()=>{const{contributors:n}=(0,o.qp)(cl);return n?(0,e.h)(y.tu,{gap:16},(0,e.h)(Ts,null,"Contributors"),(0,e.h)(y.tu,{gap:4},n.length?n.map(t=>(0,e.h)(hu,{image:t.photo_url?(0,e.h)(nc,{imageUrl:t.photo_url,size:"md"}):void 0,title:t.name||"",url:(0,eW.getReaderProfileUrl)(t,{utm_source:"pub-home-sidebar"})})):(0,e.h)(sd,null))):null},Ms={logo:"frontend-main-home-sidebar-PodcastArt-module__logo--NMNSr","logo-64":"frontend-main-home-sidebar-PodcastArt-module__logo-64--zEi9Z","logo-72":"frontend-main-home-sidebar-PodcastArt-module__logo-72--COwbG",logoPlaceholder:"frontend-main-home-sidebar-PodcastArt-module__logoPlaceholder--D2tNI"},qP=({altText:n="Section logo",size:t=64,url:r,showPlaceholder:i})=>r?(0,e.h)("img",{className:l()(Ms.logo,{[Ms["logo-64"]]:t===64,[Ms["logo-72"]]:t===72}),src:(0,p.imginary)(r,t*2),alt:n}):i?(0,e.h)("div",{className:l()(Ms.logo,Ms.logoPlaceholder,{[Ms["logo-64"]]:t===64,[Ms["logo-72"]]:t===72})}):null,nW=({pub:n})=>{const t=n.sections.filter(i=>!i.is_podcast),r=t.some(i=>i.logo_url);return(0,e.h)(y.tu,{gap:16},(0,e.h)(Ts,null,"Newsletters"),(0,e.h)(y.tu,{gap:4},t.length?t.map(i=>(0,e.h)(hu,{image:i.logo_url||r?(0,e.h)(qP,{size:64,url:i.logo_url,altText:`Logo for ${i.name}`,showPlaceholder:!0}):null,title:i.name,subtitle:i.description,url:(0,te.getSectionUrl)(n,{section:i,addBase:!0})})):(0,e.h)(sd,null)))},rW=({pub:n})=>{const t=(0,tu.FV)(n),r=t.some(i=>i.podcast_art_url);return(0,e.h)(y.tu,{gap:16},(0,e.h)(Ts,null,"Podcasts"),(0,e.h)(y.tu,{gap:4},t.length?t.map(i=>(0,e.h)(hu,{image:i.podcast_art_url||r?(0,e.h)(qP,{size:64,url:i.podcast_art_url,altText:`Logo for ${i.title}`,showPlaceholder:!0}):null,title:i.title,subtitle:i.subtitle,url:i.url})):(0,e.h)(sd,null)))};var oW=Object.defineProperty,e2=Object.getOwnPropertySymbols,iW=Object.prototype.hasOwnProperty,aW=Object.prototype.propertyIsEnumerable,t2=(n,t,r)=>t in n?oW(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,sW=(n,t)=>{for(var r in t||(t={}))iW.call(t,r)&&t2(n,r,t[r]);if(e2)for(var r of e2(t))aW.call(t,r)&&t2(n,r,t[r]);return n};const is=({ids:n,pub:t,user:r})=>{const i=zb()(n.map(a=>a==="subscribe"?(0,e.h)(NP,{pub:t,user:r}):a==="recommendations"?(0,e.h)(DP,{pub:t,user:r,showEmptyState:!0,hideHeaderBorder:!0}):a==="links"?lW(OP,{pub:t,hideHeaderBorder:!0}):a==="contributors"?(0,e.h)(tW,null):a==="podcasts"?(0,e.h)(rW,{pub:t}):a==="newsletters"?(0,e.h)(nW,{pub:t}):null));return(0,e.h)(y.tu,null,i.map((a,M)=>(0,e.h)(e.Fragment,null,a,M<i.length-1&&(0,e.h)(Gl,null))))},lW=(n,t)=>{const r=(0,e.h)(n,sW({},t));return typeof r.type=="function"&&r.type(t)===null?null:r},uW=({numRows:n,posts:t,pub:r,showEmptyState:i,sidebarLeft:a,sidebarRight:M,title:k,user:F,viewAllUrl:B,onChange:Y})=>{const{isDesktop:ge,isTablet:Ce}=yi();if(!i&&t.length===0)return null;const Se=a&&a.length>0,Ue=M&&M.length>0;let Ye,Ve,at;ge?(Ye=Se?(0,e.h)(is,{ids:a,pub:r,user:F}):void 0,Ve=Ue?(0,e.h)(is,{ids:M,pub:r,user:F}):void 0,at=4-(Ue?1:0)-(Se?1:0)):Ce?Ue?(Ve=(0,e.h)(is,{ids:[...M,...a!=null?a:[]],pub:r,user:F}),at=2):Se?(Ye=(0,e.h)(is,{ids:a,pub:r,user:F}),at=2):at=3:at=1;const pt=at*n,gt=(0,e.h)(e.Fragment,null,k&&(0,e.h)(Zp,{title:k,viewAllUrl:B}),t.length?(0,e.h)(qj,{posts:t.slice(0,pt),pub:r,user:F,numColumns:at,onChange:Y}):(0,e.h)(Gp,null));return(0,e.h)(Yp,{mainContent:gt,leftContent:Ye,rightContent:Ve,stretchToFullWidth:!0})},cW=({numPosts:n,posts:t,pub:r,showEmptyState:i,sidebarLeft:a,sidebarRight:M,title:k,user:F,viewAllUrl:B,onChange:Y})=>{const{isTablet:ge,isDesktop:Ce}=yi();if(!i&&t.length===0)return null;const Se=a&&a.length>0,Ue=M&&M.length>0;let Ye,Ve;const at=(0,e.h)(e.Fragment,null,k&&(0,e.h)(Zp,{title:k,viewAllUrl:B}),t.length?(0,e.h)(fi,{posts:t.slice(0,n),pub:r,user:F,variant:"two-column-list",onChange:Y}):(0,e.h)(Gp,null));return Ce?(Ye=Se?(0,e.h)(is,{ids:a,pub:r,user:F}):void 0,Ve=Ue?(0,e.h)(is,{ids:M,pub:r,user:F}):void 0):ge&&(Ue?Ve=(0,e.h)(is,{ids:[...M,...a!=null?a:[]],pub:r,user:F}):Se&&(Ye=(0,e.h)(is,{ids:a,pub:r,user:F}))),(0,e.h)(Yp,{mainContent:at,leftContent:Ye,rightContent:Ve})},n2={outerContainer:"frontend-main-home-content_blocks-ContentBlockSubscribe-module__outerContainer--y7q8i",innerContainer:"frontend-main-home-content_blocks-ContentBlockSubscribe-module__innerContainer--kL5ui"},dW=({contentBlock:n,pub:t,user:r})=>{const{iString:i}=(0,P.M1)(),{freeSignup:a,freeSignupEmail:M}=(0,o.qp)(cl),{isMobile:k}=yi(),F=a||(r==null?void 0:r.is_free_subscribed),B=r==null?void 0:r.is_subscribed,Y=(0,te.getSubscribeUrl)(t,{params:{utm_source:"subscribe_content_block",gift:!0,next:document.location.href}});return(0,e.h)("div",{className:n2.outerContainer},(0,e.h)(y.xu,{className:n2.innerContainer,paddingY:k?40:48},(0,e.h)(y.hs,{direction:k?"column":"row",alignItems:"center",gap:16,justifyContent:"center"},(0,e.h)(y.xv.B1,{textAlign:k?"center":"left"},B?n.attrs.paid_subscriber_message:F?n.attrs.free_subscriber_message:n.attrs.non_subscriber_message),(0,e.h)(y.xu,{flex:"auto"},B?(0,e.h)(y.zx,{priority:"primary-theme",href:Y,localNavigation:!1},i("Gift a subscription")):(0,e.h)(Qa,{pub:t,user:r,freeSignup:a,freeSignupEmail:M,source:"content-block"})))))},fW=({contentBlock:n,posts:t,pub:r,showEmptyState:i,title:a,user:M,viewAllUrl:k,onChange:F})=>{var B,Y;return n.block_type==="list"?(0,e.h)(cW,{numPosts:(B=n.num_posts)!=null?B:cd.posts.default,posts:t,pub:r,sidebarLeft:n.secondary_sidebar_modules,sidebarRight:n.primary_sidebar_modules,showEmptyState:i,title:a,user:M,viewAllUrl:k,onChange:F}):n.block_type==="grid"?(0,e.h)(uW,{numRows:(Y=n.num_rows)!=null?Y:cd.rows.default,posts:t,pub:r,sidebarLeft:n.secondary_sidebar_modules,sidebarRight:n.primary_sidebar_modules,showEmptyState:i,title:a,user:M,viewAllUrl:k,onChange:F}):n.block_type==="feature"?(0,e.h)(Jj,{posts:t,pub:r,showEmptyState:i,title:a,user:M,viewAllUrl:k,onChange:F}):n.block_type==="subscribe"?(0,e.h)(dW,{contentBlock:n,pub:r,user:M}):null},pW=()=>(0,e.h)(y.xu,{paddingBottom:120},(0,e.h)(Yp,{mainContent:(0,e.h)(Lp,{animated:!1,postCount:4,variant:"list"}),leftContent:(0,e.h)("div",null,"\xA0"),rightContent:(0,e.h)("div",null,"\xA0")})),hW=({contentBlocks:n,postsBySectionId:t,postsByTagId:r,postTagsById:i,pub:a,recentPosts:M,sectionsById:k,showEmptyStates:F,user:B,onChange:Y})=>{let ge=0;const Ce=n.filter(Se=>Se.post_source==="latest").length>1;return(0,e.h)(y.tu,{paddingBottom:40},n.length||!F?n.map((Se,Ue)=>{var Ye,Ve;let at=[],pt="",gt;if(Se.post_source==="latest"){const xt=YP(Se);at=M.slice(ge,ge+xt),ge+=xt,pt=Ce?"":"Recent posts",gt=(0,p.getBaseArchiveUrl)(a)}else if(Se.post_source==="section"&&Se.section_id){const xt=k[Se.section_id];at=(Ye=t[Se.section_id])!=null?Ye:[],pt=xt.name,gt=(0,te.getSectionUrl)(a,{section:xt})}else if(Se.post_source==="tag"&&Se.post_tag_id){const xt=i[Se.post_tag_id];at=(Ve=r[Se.post_tag_id])!=null?Ve:[],pt=xt==null?void 0:xt.name,gt=(0,te.getPostTagUrl)(a,xt)}return(0,e.h)(e.Fragment,null,(0,e.h)("div",{id:`block-${Se.id}`,style:{scrollMarginTop:48}},(0,e.h)(fW,{key:Se.id,contentBlock:Se,posts:at,pub:a,showEmptyState:F,title:pt,user:B,viewAllUrl:gt,onChange:Y})),Ue<n.length-1&&(0,e.h)(Gl,null))}):(0,e.h)(pW,null))};var mW=Object.defineProperty,_W=Object.defineProperties,gW=Object.getOwnPropertyDescriptors,fd=Object.getOwnPropertySymbols,r2=Object.prototype.hasOwnProperty,o2=Object.prototype.propertyIsEnumerable,i2=(n,t,r)=>t in n?mW(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,vW=(n,t)=>{for(var r in t||(t={}))r2.call(t,r)&&i2(n,r,t[r]);if(fd)for(var r of fd(t))o2.call(t,r)&&i2(n,r,t[r]);return n},yW=(n,t)=>_W(n,gW(t)),bW=(n,t)=>{var r={};for(var i in n)r2.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&fd)for(var i of fd(n))t.indexOf(i)<0&&o2.call(n,i)&&(r[i]=n[i]);return r};const PW=n=>{var t=n,{columns:r=4,posts:i,pub:a}=t,M=bW(t,["columns","posts","pub"]);const{isMobile:k}=yi();return k?null:(0,e.h)(es,{variant:r===3?"three-column-width":"full-width"},(0,e.h)(y.tu,{gap:12},(0,e.h)(tP,{pub:a}),(0,e.h)(fi,yW(vW({},M),{pub:a,posts:i,variant:r===3?"three-column-mini-row":"mini-row"}))))},pd={container:"frontend-main-home-ModularHome-module__container--u5zRH",bodyContainer:"frontend-main-home-ModularHome-module__bodyContainer--UX7ez","container--empty":"frontend-main-home-ModularHome-module__container--empty--aO2aD"};var EW=Object.defineProperty,wW=Object.defineProperties,CW=Object.getOwnPropertyDescriptors,hd=Object.getOwnPropertySymbols,a2=Object.prototype.hasOwnProperty,s2=Object.prototype.propertyIsEnumerable,l2=(n,t,r)=>t in n?EW(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,OW=(n,t)=>{for(var r in t||(t={}))a2.call(t,r)&&l2(n,r,t[r]);if(hd)for(var r of hd(t))s2.call(t,r)&&l2(n,r,t[r]);return n},SW=(n,t)=>wW(n,CW(t)),TW=(n,t)=>{var r={};for(var i in n)a2.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&hd)for(var i of hd(n))t.indexOf(i)<0&&s2.call(n,i)&&(r[i]=n[i]);return r};const IW="modular-home-posts",xW=n=>{var t;const r=n,{alwaysShowActions:i,bodyPostGroups:a,contentBlocks:M,contributors:k,freeSignup:F,freeSignupEmail:B,homepageLinks:Y,numRecommendations:ge,postsByGroupId:Ce,postsBySectionId:Se,postsByTagId:Ue,postTagsById:Ye,pub:Ve,recommendations:at,sectionsById:pt,showEmptyStates:gt,showSiteMap:xt,theme:Nt,user:Tt,utm:Ut}=r,qt=TW(r,["alwaysShowActions","bodyPostGroups","contentBlocks","contributors","freeSignup","freeSignupEmail","homepageLinks","numRecommendations","postsByGroupId","postsBySectionId","postsByTagId","postTagsById","pub","recommendations","sectionsById","showEmptyStates","showSiteMap","theme","user","utm"]),{posts:rn,topPosts:ln,onChange:yn}=oC(Yb()(n,["newPosts","pinnedPosts","topPosts"])),{breakpoint:In,isMobile:En}=yi();if(rn.length===0)return(0,e.h)(MW,null);const Yn=rn[0],kn=ln==null?void 0:ln.filter(Qn=>!Yn||Qn.id!==Yn.id),bn=!((t=rn[0])!=null&&t.cover_image);let er=kj[Nt.home_hero][In];bn&&["magaziney","magazine-5"].includes(Nt.home_hero)&&["desktop","tablet"].includes(In)&&(er+=2);let rr=Nt.home_hero;rn.length<er+1&&(rr="newspaper",er=1);const Vn=["newspaper","feature"].includes(rr)&&Nt.home_posts==="list",ar=rn.length>=er+1,Jn=ar?rn.slice(er):rn;return(0,e.h)(Tb.Provider,{value:{alwaysShowActions:i}},(0,e.h)(cl.Provider,{value:{contributors:k,freeSignup:F,freeSignupEmail:B,homepageLinks:Y,numRecommendations:ge,recommendations:at}},(0,e.h)(y.tu,{className:pd.container},(0,e.h)(y.tu,{gap:32,paddingTop:!ar&&En?24:0},ar&&(0,e.h)(bF,{firstPostMissingImage:bn,bodyVariant:Nt.home_posts,isMobile:En,posts:rn.slice(0,er),pub:Ve,topPosts:kn,user:Tt,utm:Ut,variant:rr,onChange:yn}),Nt.home_show_top_posts&&kn&&rr!=="magaziney"&&ar&&(0,e.h)(PW,{columns:Vn?3:4,posts:kn,pub:Ve,user:Tt,utm:Ut,onChange:yn})),(0,e.h)(y.tu,{className:pd.bodyContainer,id:IW},ar&&(0,e.h)(Gl,{numColumns:Vn?3:4}),(0,e.h)("div",{id:"home-body",style:{scrollMarginTop:48}},Nt.home_posts!=="custom"&&(0,e.h)(Gj,SW(OW({},qt),{freeSignup:F,freeSignupEmail:B,hideImagesFromList:Nt.hide_images_from_list,posts:Jn,pub:Ve,showSiteMap:xt,source:`${Nt.home_hero}-${Nt.home_posts}-home`,user:Tt,utm:Ut,variant:Nt.home_posts,onChange:yn,bodyPostGroups:a,postsByGroupId:Ce,hasEmptyGroupOptions:n.hasEmptyGroupOptions})),Nt.home_posts==="custom"&&M&&Se&&Ue&&Ye&&pt&&(0,e.h)(hW,{contentBlocks:M,postsBySectionId:Se,postsByTagId:Ue,postTagsById:Ye,pub:Ve,recentPosts:Jn,sectionsById:pt,showEmptyStates:gt,user:Tt,onChange:yn}))))))},MW=()=>(0,e.h)(y.tu,{className:l()(pd.container,pd["container--empty"]),alignItems:"center",justifyContent:"center"},"Coming Soon");var DW=Object.defineProperty,AW=Object.defineProperties,NW=Object.getOwnPropertyDescriptors,md=Object.getOwnPropertySymbols,u2=Object.prototype.hasOwnProperty,c2=Object.prototype.propertyIsEnumerable,d2=(n,t,r)=>t in n?DW(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,RW=(n,t)=>{for(var r in t||(t={}))u2.call(t,r)&&d2(n,r,t[r]);if(md)for(var r of md(t))c2.call(t,r)&&d2(n,r,t[r]);return n},LW=(n,t)=>AW(n,NW(t)),BW=(n,t)=>{var r={};for(var i in n)u2.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&md)for(var i of md(n))t.indexOf(i)<0&&c2.call(n,i)&&(r[i]=n[i]);return r};const kW=n=>{var t=n,{blurbs:r,contentBlocks:i,contentBlockPostTagsById:a,contentBlockSectionsById:M,contributors:k,freeSignup:F,freeSignupEmail:B,hasEmptyGroupOptions:Y,hide_intro_popup:ge,noBalanceHeroText:Ce,notify_user:Se,numRecommendations:Ue,pinnedPosts:Ye,pub:Ve,recommendations:at,referralCode:pt,showEmptyStates:gt,showWelcome:xt,user:Nt,postTags:Tt,postsByGroupId:Ut,postsBySectionId:qt,postsByTagId:rn,sections:ln,launchWelcomePage:yn}=t,In=BW(t,["blurbs","contentBlocks","contentBlockPostTagsById","contentBlockSectionsById","contributors","freeSignup","freeSignupEmail","hasEmptyGroupOptions","hide_intro_popup","noBalanceHeroText","notify_user","numRecommendations","pinnedPosts","pub","recommendations","referralCode","showEmptyStates","showWelcome","user","postTags","postsByGroupId","postsBySectionId","postsByTagId","sections","launchWelcomePage"]),En;(0,o.d4)(()=>{Se&&typeof window!="undefined"&&(0,ms.ZP)(Se)},[Se]);const Yn=!!(Ye&&Ye.length>0),kn=zb()((En=Ve.theme.body_post_groups)==null?void 0:En.map(bn=>{var er,rr,Vn,ar;return bn.tag_id?(rr=(er=bn.post_tag)!=null?er:Tt==null?void 0:Tt.find(Jn=>Jn.id===bn.tag_id))!=null?rr:null:bn.section_id&&(ar=(Vn=bn.section)!=null?Vn:ln==null?void 0:ln.find(Jn=>Jn.id===bn.section_id))!=null?ar:null}));return(0,e.h)("div",{className:"home-page home-page--modular"},(0,e.h)(Gb,{pub:Ve}),(0,e.h)(xW,LW(RW({},In),{alwaysShowActions:!1,bodyPostGroups:kn,contentBlocks:i,contributors:k,freeSignup:F,freeSignupEmail:B,hasEmptyGroupOptions:Y,numRecommendations:Ue,pinnedPosts:Ye,postsByGroupId:Ut,postsBySectionId:qt,postsByTagId:rn,postTagsById:a,pub:Ve,recommendations:at,sectionsById:M,showEmptyStates:!!gt,showSiteMap:Yn,theme:Ve.theme,user:Nt})),(0,e.h)(Zb,{blurbs:r,freeSignup:F,freeSignupEmail:B,hide_intro_popup:ge,noBalanceHeroText:Ce,pub:Ve,referralCode:pt,showWelcome:xt,user:Nt,launchWelcomePage:yn}))},UW={logo:"frontend-main-home-SectionHeader-module__logo--k74v2"},f2=({logoUrl:n,name:t,description:r})=>(0,e.h)(y.tu,{gap:12,paddingTop:32,paddingBottom:24},n&&(0,e.h)("img",{className:UW.logo,src:(0,p.imginary)(n,72*2),alt:t}),(0,e.h)(y.xv.H1,{font:"pub-headings",color:"pub-primary-text"},t),(0,e.h)(y.xv.B3,{color:"pub-secondary-text"},r)),FW={container:"frontend-main-home-SectionPage-module__container--W1M1c"},Jp=({blurbs:n,freeSignup:t,freeSignupEmail:r,hide_intro_popup:i,isPodcast:a,newPosts:M,noBalanceHeroText:k,notify_user:F,pinnedPosts:B,pub:Y,referralCode:ge,search:Ce,section:Se,sort:Ue,showWelcome:Ye,user:Ve,utm:at,launchWelcomePage:pt})=>{var gt,xt;if((0,o.d4)(()=>{F&&typeof window!="undefined"&&(0,ms.ZP)(F)},[F]),!Se&&!a)return console.warn("Should be either a section or podcast or both"),null;let Nt=null;return a&&(Nt=Se?(0,Sl.getSectionPodcastSettings)({pub:Y,section:Se}):(0,Sl.getPubPodcastSettings)({pub:Y})),(0,e.h)("div",{className:l()("home-page",FW.container)},(0,e.h)(Gb,{pub:Y,section:Se,isPodcast:a}),Nt?(0,e.h)(f2,{name:(gt=Nt.title)!=null?gt:"",description:(xt=Nt.description)!=null?xt:"",logoUrl:Nt.artUrl}):Se&&(0,e.h)(f2,{name:Se.name,description:Se.description,logoUrl:Se.logo_url}),(0,e.h)(Gl,null),(0,e.h)(ed,{isPodcast:a,maxPosts:7,newPosts:M,pinnedPosts:B,pub:Y,search:Ce,sectionId:Se==null?void 0:Se.id,sort:Ue,user:Ve,variant:"list"},({posts:Tt,linkToComments:Ut,onClickPost:qt})=>(0,e.h)(fi,{hideImages:Y.theme.hide_images_from_list,linkToComments:Ut,posts:Tt,pub:Y,showSectionPins:!0,user:Ve,utm:at,variant:"two-column-list",onChange:()=>{},onClickPost:qt})),(0,e.h)(Zb,{blurbs:n,freeSignup:t,freeSignupEmail:r,hide_intro_popup:i,isPodcast:a,noBalanceHeroText:k,pub:Y,referralCode:ge,showWelcome:Ye,user:Ve,launchWelcomePage:pt}))};var jW=Object.defineProperty,WW=(n,t,r)=>t in n?jW(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,p2=(n,t,r)=>(WW(n,typeof t!="symbol"?t+"":t,r),r),h2=(n,t,r)=>new Promise((i,a)=>{var M=B=>{try{F(r.next(B))}catch(Y){a(Y)}},k=B=>{try{F(r.throw(B))}catch(Y){a(Y)}},F=B=>B.done?i(B.value):Promise.resolve(B.value).then(M,k);F((r=r.apply(n,t)).next())});class HW extends e.Component{constructor(){super(...arguments),p2(this,"state",{loading:!0,invites:[]}),p2(this,"onSuccess",()=>h2(this,null,function*(){alert("Invite sent!"),document.location.reload()}))}componentDidMount(){if(!this.hasInvites()){(0,O.redirectToAccount)(this.props.pub);return}this.loadInvites()}hasInvites(){const{pub:t,user:r}=this.props;return t.invite_only?r&&r.is_contributor?!0:!(!(t.subscriber_invites>0)||!(r&&r.is_subscribed)):!1}loadInvites(){return h2(this,null,function*(){try{const t=yield jn().get("/api/v1/publication/invite");this.setState({invites:t.body,loading:!1})}catch(t){console.error("Failed to fetch invites:",t),alert((0,O.getNetworkErrorMessage)(t))}})}render({pub:t,user:r},{loading:i,invites:a}){if(!this.hasInvites())return(0,e.h)("p",{className:"main-loader"},"Loading\u2026");const M=r&&r.is_contributor,k=Math.max(r&&r.invites,a.length),F=Math.max(k,t.subscriber_invites),B=F-k;return(0,e.h)("div",{className:"invite-page page"},(0,e.h)("div",{className:"container"},(0,e.h)("h3",null,"Your invites"),(0,e.h)("p",null,t.name," is invite-only, but you\u2019ve been granted"," ",M?"an infinite number of invites":(0,nn.pluralize)(F,"invite")," to give out."),(B>0||M)&&[!M&&(0,e.h)("h5",null,"You have ",(0,nn.pluralize)(B,"invite")," left"),(0,e.h)(je.ZP,{ref:Y=>this.form=Y,action:"/api/v1/publication/invite",onSuccess:this.onSuccess,noInlineErrors:!0},(0,e.h)("div",{className:"sideBySideWrap"},(0,e.h)("input",{type:"text",name:"name",placeholder:"Name\u2026"}),(0,e.h)("input",{type:"text",name:"email",placeholder:"Email\u2026"}),(0,e.h)($t.Z,{type:"submit",className:"primary"},"Invite")),(0,e.h)("div",{id:"error-container"}))],i&&k>0?(0,e.h)("p",null,(0,e.h)("br",null),"Loading\u2026"):a.length>0?[(0,e.h)("h5",null,"Used invites"),(0,e.h)("ul",null,a.sort((Y,ge)=>new Date(ge.created_at)-new Date(Y.created_at)).map(Y=>(0,e.h)("li",null,Y.inviteeUser&&Y.inviteeUser.name||""," on"," ",un()(Y.created_at).standardDate())))]:null))}}function VW({pub:n,post:t}){return(0,e.h)(he.tu,{alignItems:"center",className:"container",gap:32},(0,e.h)(he.tu,{alignItems:"center",gap:4},(0,e.h)(he.tu,{paddingTop:24,paddingBottom:16},(0,e.h)(I.xv.H1,null,"You rejected your invite to ",n.name)),(0,e.h)(I.xv.B3,null,"If you change your mind, you can accept from your email invitation."),t.is_published?(0,e.h)(I.xv.B3,null,"Your byline has been removed from this post: ",(0,e.h)("a",{href:(0,p.getPostUrl)(n,t)},t.title)):null),(0,e.h)(yt.zx,{href:n.base_url},`Go to ${n.name}`))}function KW({pub:n,user:t,post:r,freeSignup:i,freeSignupEmail:a}){const M=(0,o.sO)(null),k=()=>M.current&&M.current.open();if(!r)return(0,e.h)(he.tu,{paddingTop:32},(0,e.h)("div",{className:"container invite-success"},(0,e.h)("p",null,"You accepted your invite to ",n.name,"."),(0,e.h)("p",null,"If you need admin access, ask your inviter to change your status in the publication settings."),(0,e.h)("p",null,"If you expect to be shown on this publication's author list, make sure your"," ",(0,e.h)(dn.Z,{onClick:k},"profile is up to date")),(0,e.h)(lp.EB,{ref:M,user:t,freeSignup:i,freeSignupEmail:a,needsPhoto:!0})));const F=r.type==="podcast"?"We\u2019ll let you know when the podcast episode goes live":"We\u2019ll let you know when your guest post is live",B="Your profile is set up and good to go!";return(0,e.h)(he.tu,{alignItems:"center",className:"container",gap:32},(0,e.h)(he.tu,{alignItems:"center",gap:4},(0,e.h)(he.tu,{paddingTop:24,paddingBottom:16},(0,e.h)(I.xv.H1,null,F)),(0,e.h)(I.xv.B3,null,B)),(0,e.h)(yt.zx,{href:n.base_url},`Go to ${n.name}`))}const $W=(0,Oo.Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);var zW=Et(78041),GW=(n=>(n.feedCtaDismissKey="feed-dashboard-cta.dismissed",n.publicationNotesTabAnnouncement="pub-notes-tab-announcement.dismissed",n.createChatInviteDraft2CtaKey="create-chat-invite-draft-2.dismissed",n.createChatInviteDraftCtaKey="create-chat-invite-draft.dismissed",n.newDashboardAnnouncement="new-dashboard-announcement.dismissed",n.enablePaid="enable-paid.dismissed",n.chatEnableReaderParticipation="chat-enable-reader-participation.dismissed",n.readerReferral="reader-referral.dismissed",n))(GW||{}),ZW=(n=>(n.post="post",n))(ZW||{}),YW=(n=>(n.DIRECT_EMAIL="direct_email",n.POST_REPLY="post_reply",n))(YW||{}),JW=(n=>(n.SENT="sent",n.REJECTED="rejected",n.NEEDS_REVIEW="needs_review",n.FAILED="failed",n))(JW||{});const XW={rewardBox:"frontend-components-referrals-RewardBox-module__rewardBox--kM6__"},QW=({isSelected:n,tier:t})=>(0,e.h)(he.tu,{className:XW.rewardBox,border:"detail-themed",radius:12,justifyContent:"space-between",alignItems:"center",flex:"grow",paddingTop:{desktop:20,mobile:20},paddingBottom:{desktop:8,mobile:8},paddingX:{desktop:8,mobile:8},textAlign:"center",sizing:"border-box",style:{borderColor:n?"var(--color-accent-themed)":void 0}},(0,e.h)(he.gq,{gap:4,alignItems:"center"},new Array(t.display_order).fill(0).map(()=>(0,e.h)(xy,{size:20,fill:"var(--color-accent-themed)",stroke:"var(--color-accent-themed)"}))),(0,e.h)(I.xv.H4,{weight:"bold",font:"pub-headings",color:"pub-primary-text"},t.reward_type==="custom"?t.reward_description:O_[t.reward_type]),(0,e.h)(I.xv.Meta,{weight:"semibold",style:{color:n?"var(--color-accent-themed)":void 0}},n?"You're here!":`${t.num_referrals_required} Referrals`)),ia={wrapper:"frontend-main-leaderboard-module__wrapper--AadCn",headerWrapper:"frontend-main-leaderboard-module__headerWrapper--f9bYD",copyLinkInput:"frontend-main-leaderboard-module__copyLinkInput--c5HVz",copyLinkButton:"frontend-main-leaderboard-module__copyLinkButton--QU9vO",shareButton:"frontend-main-leaderboard-module__shareButton--b9Eiq",referrerRow:"frontend-main-leaderboard-module__referrerRow--k8_kA",referrerRowInverted:"frontend-main-leaderboard-module__referrerRowInverted--I94_a",referrerLink:"frontend-main-leaderboard-module__referrerLink--Wzn16",responsiveHeader:"frontend-main-leaderboard-module__responsiveHeader--ZuruO",shareButtons:"frontend-main-leaderboard-module__shareButtons--G9JHR"};var qW=Object.defineProperty,eH=Object.defineProperties,tH=Object.getOwnPropertyDescriptors,m2=Object.getOwnPropertySymbols,nH=Object.prototype.hasOwnProperty,rH=Object.prototype.propertyIsEnumerable,_2=(n,t,r)=>t in n?qW(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,g2=(n,t)=>{for(var r in t||(t={}))nH.call(t,r)&&_2(n,r,t[r]);if(m2)for(var r of m2(t))rH.call(t,r)&&_2(n,r,t[r]);return n},v2=(n,t)=>eH(n,tH(t)),y2=(n,t,r)=>new Promise((i,a)=>{var M=B=>{try{F(r.next(B))}catch(Y){a(Y)}},k=B=>{try{F(r.throw(B))}catch(Y){a(Y)}},F=B=>B.done?i(B.value):Promise.resolve(B.value).then(M,k);F((r=r.apply(n,t)).next())});const Xp=(n,t)=>{(0,C.j)(C.FP.SHARE_LINK_CLICKED,{name:t,source:"leaderboard"}),n&&(n.startsWith("http")?window.open(n,"_blank"):document.location.href=n)},b2=({user:n,rank:t,referrals:r,isSelf:i,isHighlighted:a})=>{const{iString:M}=(0,P.M1)();return(0,e.h)(I.xv,{as:n?"a":"div",href:n?(0,te.getProfileUrlById)(n.id,n.name):void 0,className:ia.referrerLink},(0,e.h)(he.gq,{sizing:"border-box",style:{width:"100%"},alignItems:"center",border:i||a?"detail-themed":"transparent",radius:12,paddingLeft:12,paddingY:i?16:8,paddingRight:20,justifyContent:"space-between",className:l()(ia.referrerRow,{[ia.referrerRowInverted]:!i})},(0,e.h)(he.gq,{gap:8,alignItems:"center"},(0,e.h)(I.xv.Digit,{weight:"semibold",paddingRight:4,color:"primary-themed"},t,"."),n?(0,e.h)(ca.Ct,{subject:n,dontStopPropagation:!1},(0,e.h)(Gs.qE,{size:36,user:n})):(0,e.h)(Gs.qE,{size:36,showProfileHovercard:!1}),(0,e.h)(I.xv.B4,{color:"primary-themed",weight:"semibold"},(n==null?void 0:n.name)||M("Anonymous Reader"))),(0,e.h)(I.xv.B4,{color:"primary-themed",weight:"semibold"},r)))},oH=({pub:n,user:t,freeSignupEmail:r})=>{const{iString:i,iTemplate:a,iPlural:M}=(0,P.M1)(),{getExperimentVariant:k,exposeExperiment:F}=(0,Pr.jc)(),B=(0,ii.pm)(),{result:Y,isLoading:ge,refetch:Ce}=(0,Ot.ib)({pathname:"/api/v1/reader_referrals/leaderboard",auto:!0}),{refetch:Se}=(0,Ot.Q1)({auto:!1,pathname:"/api/v1/subscription/visibilities",method:"post"});if((0,o.d4)(()=>{!ge&&!Y&&(0,O.redirect)((0,te.getBaseUrl)(n))},[Y,ge,n]),ge||!Y)return(0,e.h)("div",{className:"page typography signup-page"},(0,e.h)("div",{className:"container"}));const{current_user_stats:Ue,tiers:Ye,top_referrers:Ve,current_user_can_share:at,current_user_id:pt,current_user_profile_hidden:gt}=Y,xt=t==null?void 0:t.is_admin,Nt=t==null?void 0:t.is_contributor,Tt=(0,p.getQueryItem)("referrer_token"),Ut=t&&!t.is_magic&&t.email||r||null,qt=(0,te.pathWithQuery)((0,te.getBaseUrl)(n),{r:(pt==null?void 0:pt.toString(36))||Tt});let rn,ln;Ye.find((In,En)=>{const Yn=(Ue==null?void 0:Ue.referrals)||0,kn=Ye[En+1];Yn>=In.num_referrals_required&&(!kn||Yn<kn.num_referrals_required)&&(rn=In,ln=kn)});let yn="";return!rn&&Ue?yn=`${M("You have %1 referral","You have %1 referrals",Ue.referrals)} - ${M("only %1 more referral to earn your first reward!","only %1 more referrals to earn your first reward!",Ye[0].num_referrals_required-Ue.referrals)}`:rn&&ln&&Ue?yn=`${M("You\u2019ve referred %1 reader!","You\u2019ve referred %1 readers!",Ue.referrals)} ${a`Youve qualified for the Tier ${rn.display_order} reward.`} ${M("Invite %1 more reader to earn the Tier %2 reward!","Invite %1 more readers to earn the Tier %2 reward!",ln.num_referrals_required-Ue.referrals,ln.display_order)}`:rn&&!ln&&Ue&&(yn=`${M("You\u2019ve referred %1 reader!","You\u2019ve referred %1 readers!",Ue.referrals)} You\u2019re number #${Ue.rank} on the leaderboard.`),(0,e.h)("div",{className:"page typography signup-page"},(0,e.h)("div",{className:"container"},(0,e.h)(he.tu,{gap:64,className:ia.wrapper},(xt||Nt)&&(0,e.h)(he.tu,{border:"detail-themed",gap:16,paddingX:24,paddingY:16,radius:12},(0,e.h)(he.tu,{gap:4},(0,e.h)(I.xv.Meta,{color:"pub-primary-text"},xt?"Admin View":"Contributor View"),(0,e.h)(I.xv.B4,{color:"pub-secondary-text"},i(xt?"A view of your leaderboard as it appears to your subscribers. Note: As an admin your referrals will not appear on the leaderboard.":"A view of your leaderboard as it appears to your subscribers. Note: As a contributor your referrals will not appear on the leaderboard."))),xt&&(0,e.h)(yt.zx,{priority:"secondary-theme",outline:"none",href:"/publish/settings#referrals",localNavigation:!1},i("Edit Referral Settings"))),(0,e.h)(he.tu,{alignItems:"center"},(0,e.h)(he.tu,{gap:24,className:ia.headerWrapper,alignItems:"center"},(0,e.h)(Js.xu,null,(0,e.h)($d.F,{pub:n,size:64})),(0,e.h)(he.tu,{alignItems:"center",gap:4},(0,e.h)(I.xv,{className:ia.responsiveHeader,font:"pub-headings",color:"pub-primary-text",textAlign:"center"},at||Tt?a`Refer friends to ${n.name}`:a`Subscribe and invite friends to ${n.name}`),(0,e.h)(I.xv.B3,{translated:!0,color:"pub-secondary-text",textAlign:"center",className:ia.introText},"Show your support by sharing ",I18N.p(n.name)," and earn rewards for your referrals.")),!at&&!Tt&&!(Nt||xt)&&(0,e.h)(he.tu,{style:{width:"100%"}},(0,e.h)(yt.zx,{grow:!0,priority:"primary-theme",onClick:In=>y2(void 0,null,function*(){In.preventDefault();let En;try{Ut&&(En=(yield jn().post("/api/v1/free").send({source:"referral-leaderboard",email:Ut,first_url:u.xY,first_referrer:u.ip,current_url:u.UE,current_referrer:u.xU})).body.referral_token)}catch(Yn){(0,C.j)(C.FP.FREE_SIGNUP_FAILED,{reason:Yn.message,source:"referral-leaderboard"})}window.location.href=(0,te.getSubscribeUrl)(n,{addBase:!0,params:{simple:!0,next:document.location.href,utm_source:"referral-leaderboard",utm_medium:"web",skip_redirect_check:!0,just_signed_up:!0,referral_token:En}})}),href:(0,te.pathWithQuery)("/subscribe",{next:(0,te.getLeaderboardUrl)(n,void 0,{addBase:!0}),utm_source:"referral-leaderboard"}),localNavigation:!1},(0,e.h)(he.gq,{alignItems:"center",gap:8},(0,e.h)(bl.Z,{size:20}),i("Subscribe")))))),(at||Nt||xt||Tt)&&(0,e.h)(he.tu,{alignItems:"center",gap:16,style:{width:"100%"}},(0,e.h)(he.gq,{style:{width:"100%"}},(0,e.h)(y.oi,{className:ia.copyLinkInput,readOnly:!0,value:qt}),(0,e.h)(yt.zx,{className:ia.copyLinkButton,priority:"primary-theme",onClick:()=>{(0,C.j)(C.FP.SHARE_LINK_CLICKED,{name:"copy",source:"leaderboard"}),(0,O.copyToClipboard)(qt),B.popToast(In=>(0,e.h)(ii.FN,v2(g2({},In),{Icon:Wl.Z,text:i("Link copied to clipboard")})))}},i("Copy link"))),(0,e.h)(he.hs,{className:ia.shareButtons,gap:{desktop:16,mobile:8},style:{width:"100%"}},(0,e.h)(yt.zx,{className:ia.shareButton,priority:"secondary-theme",leftIcon:(0,e.h)(en.Z,{width:18,height:18,style:{paddingTop:2}}),onClick:()=>Xp((0,te.pathWithQuery)("https://twitter.com/share",{url:qt,text:n.name}),"twitter")},"Twitter"),(0,e.h)(yt.zx,{className:ia.shareButton,priority:"secondary-theme",leftIcon:(0,e.h)(zW.Z,{height:20,width:20}),onClick:()=>Xp((0,te.pathWithQuery)("https://www.facebook.com/sharer/sharer.php",{u:qt}),"facebook")},"Facebook"),(0,e.h)(yt.zx,{className:ia.shareButton,priority:"secondary-theme",leftIcon:(0,e.h)(Oy,{strokeWidth:1,height:20,width:20,style:{paddingTop:2}}),onClick:()=>Xp((0,te.pathWithQuery)("mailto:",{subject:n.name,body:qt}),"email")},"Email"))),(0,e.h)(he.tu,{alignItems:"start",textAlign:"left",style:{width:"100%"},gap:16},(0,e.h)(I.xv.H3,{translated:!0,font:"pub-headings",color:"pub-primary-text"},"Rewards and Progress"),(0,e.h)(he.gq,{gap:{desktop:16,mobile:12},style:{width:"100%"}},Ye.map(In=>(0,e.h)(QW,{key:In.display_order,tier:In,isSelected:In.display_order===(rn==null?void 0:rn.display_order)}))),at&&Ue&&(0,e.h)(he.tu,{gap:8,style:{width:"100%"},textAlign:"center"},(0,e.h)(b2,{user:t,isSelf:!0,referrals:Ue.referrals,rank:Ue.rank}),!gt&&(0,e.h)(I.xv.B4,{color:"pub-secondary-text"},yn),gt&&(0,e.h)(he.gq,{sizing:"border-box",style:{width:"100%"},alignItems:"center",border:"detail-themed",radius:12,paddingX:12,paddingY:16,justifyContent:"space-between",bg:"secondary",gap:32},(0,e.h)(he.tu,{textAlign:"left",gap:4},(0,e.h)(I.xv.B4,{translated:!0,weight:"semibold",color:"pub-primary-text"},"Your subscription is private"),(0,e.h)(I.xv.B4,{translated:!0,color:"pub-secondary-text"},"To appear on the leaderboard, turn on visibility for ",I18N.p(n.name))),(0,e.h)(yt.zx,{fill:"outline",priority:"primary-theme",onClick:()=>y2(void 0,null,function*(){yield Se({body:{ids:[Y.current_user_subscription_id],visibility:"public"}}),Ce(),B.popToast(In=>(0,e.h)(ii.FN,v2(g2({},In),{text:`${n.name} is now visible on your profile!`})))})},i("Show on profile"))))),(0,e.h)(he.tu,{alignItems:"start",textAlign:"left",style:{width:"100%"},gap:16},(0,e.h)(I.xv.H3,{translated:!0,font:"pub-headings",color:"pub-primary-text"},"Leaderboard"),(Ve==null?void 0:Ve.length)===0&&(0,e.h)(he.tu,{alignItems:"center",justifyContent:"center",textAlign:"center",paddingX:48,sizing:"border-box",style:{width:"100%",minHeight:350},gap:4,border:"detail-themed",radius:12},(0,e.h)($W,{size:22,stroke:"var(--color-secondary-themed)"}),(0,e.h)(I.xv.B4,{color:"pub-secondary-text"},a`No referrers yet. Be the first on ${n.name}'s leaderboard by helping them find new readers.`)),(Ve==null?void 0:Ve.length)>0&&(0,e.h)(he.tu,{gap:8,style:{width:"100%"}},(0,e.h)(he.gq,{alignItems:"center",style:{width:"100%"},justifyContent:"space-between",paddingBottom:2},(0,e.h)(I.xv.Meta,{translated:!0,weight:"semibold"},"Referrer"),(0,e.h)(I.xv.Meta,{translated:!0,weight:"semibold"},"Referrals")),Ve==null?void 0:Ve.map(In=>(0,e.h)(b2,{key:In.rank,user:In.user,isHighlighted:In.isCurrentUser,rank:In.rank,referrals:In.referrals})))))))},iH=(0,Oo.Z)("CheckCircle2",[["path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",key:"14v8dr"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),aH=(0,Oo.Z)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),qi={button:"frontend-main-meetings-index-module__button--wsD2q",avatarWithPubLogo:"frontend-main-meetings-index-module__avatarWithPubLogo--y0aPR",avatar:"frontend-main-meetings-index-module__avatar--PXkDJ",pubLogo:"frontend-main-meetings-index-module__pubLogo--uZbq7",displayedBadge:"frontend-main-meetings-index-module__displayedBadge--iRT2H",pubIcon:"frontend-main-meetings-index-module__pubIcon--gVPS8",offer:"frontend-main-meetings-index-module__offer--CSaPR",unavailable:"frontend-main-meetings-index-module__unavailable--tuv9T",description:"frontend-main-meetings-index-module__description--hbU6r",check:"frontend-main-meetings-index-module__check--f6G_J",disabledCheck:"frontend-main-meetings-index-module__disabledCheck--A1ds_",originalPrice:"frontend-main-meetings-index-module__originalPrice--QstfM",closeButton:"frontend-main-meetings-index-module__closeButton--jdnTH",closeIcon:"frontend-main-meetings-index-module__closeIcon--yvID4"},P2=({pub:n})=>{const t=()=>{const r=(0,p.getQueryItem)("referrer"),i=r!=null?r:(0,p.getPubUrl)(n);(0,O.redirect)(i,{local_navigation:!1})};return(0,e.h)(yt.hU,{onClick:t,className:qi.closeButton,size:40,fill:"outline",priority:"secondary"},(0,e.h)(Ks.Z,{className:qi.closeIcon}))},fl=({pub:n,user_id:t,user_profile_photo_url:r,children:i})=>(0,Pi.getConfigFor)("meetings_embed_publication_name")?(0,e.h)(he.tu,{gap:20,alignItems:"center",paddingTop:32},(0,e.h)($d.F,{className:qi.pubLogo,pub:n,size:112}),i):(0,e.h)(he.tu,{gap:20,alignItems:"center",paddingTop:32},(0,e.h)("div",{className:qi.avatarWithPubLogo},(0,e.h)(Gs.qE,{className:qi.avatar,user:{id:t,photo_url:r},size:112}),(n.logo_url||n.cover_photo_url)&&(0,e.h)($d.F,{className:qi.pubIcon,pub:n,size:40})),i),sH=({pub:n,user:t,settings:r})=>{var i,a,M,k;const{selected_event_type:{price:F,subscriber_price:B,founding_price:Y,currency:ge,description_html:Ce,duration:Se,num_availabilities:Ue},user_name:Ye}=r;let Ve=F,at=null;((a=(i=n.plans)==null?void 0:i.length)!=null?a:0>0)&&(t!=null&&t.is_subscribed&&B&&(Ve=B,at="SUBSCRIBER DISCOUNT"),t!=null&&t.is_founding&&Y&&(Ve=Y,at=`${(M=(0,li.getFoundingTierName)(n)||"FOUNDING")==null?void 0:M.toUpperCase()} DISCOUNT`)),(0,o.d4)(()=>{var Tt,Ut;(0,C.j)(C.FP.MEETING_PAGE_VIEWED,{publication_id:n.id,user_id:t.id,referrer:(Tt=(0,p.getQueryItem)("referrer"))!=null?Tt:null,source:(Ut=(0,p.getQueryItem)("source"))!=null?Ut:null})},[]);const pt=(k=(0,p.getQueryItem)("referrer"))!=null?k:void 0,gt=(0,p.updateQuery)("/meetings/book",{referrer:pt}),xt=Ue>0,Nt=Ce?{__html:Ce.replace(/<br>/g,"")}:{__html:""};return(0,e.h)(e.Fragment,null,(0,e.h)(P2,{pub:n}),(0,e.h)(he.tu,{style:{minHeight:"100vh"},bg:"secondary",alignItems:"center",justifyContent:"center"},(0,e.h)(he.tu,{paddingX:24,gap:32,style:{width:400,maxWidth:"100%",boxSizing:"border-box"}},(0,e.h)(fl,{pub:n,user_id:r.user_id,user_profile_photo_url:r.user_profile_photo_url},(0,e.h)("div",null,(0,e.h)(I.xv.H2,{align:"center",size:20},"Book a meeting with"),(0,e.h)(I.xv.H2,{align:"center",paddingTop:4},(0,Pi.getConfigFor)("meetings_embed_publication_name")?n.name:Ye))),(0,e.h)(he.tu,{bg:"primary",className:l()(qi.offer,{[qi.unavailable]:!xt}),radius:12,shadow:"xl",padding:20},at&&(0,e.h)("div",{className:qi.displayedBadge},at),(0,e.h)(he.gq,{justifyContent:"space-between",paddingBottom:16},(0,e.h)(he.tu,null,Ve&&ge&&Se&&(0,e.h)(e.Fragment,null,(0,e.h)(I.xv.H3,{color:xt?"primary":"secondary"},Se,"-minute meeting"),(0,e.h)(I.xv.B4,{color:xt?"primary":"secondary",paddingTop:4},Ve<F&&(0,e.h)("span",{className:qi.originalPrice},(0,nn.centsToPriceString)(F,ge)),(0,nn.centsToPriceString)(Ve,ge)," \xB7"," ",xt?Ue>50?"Many availabilities":`${(0,nn.pluralize)(Ue,"slot")} available this month`:"No slots available in the next week"))),xt?(0,e.h)(iH,{className:qi.check,size:28}):(0,e.h)(aH,{size:28,className:qi.disabledCheck})),(0,e.h)(I.xv.B4,{color:"secondary"},(0,e.h)("div",{className:qi.description,dangerouslySetInnerHTML:Nt}))),(0,e.h)(yt.zx,{className:qi.button,disabled:!xt,grow:!0,localNavigation:!1,href:gt},xt?"Continue to book":"No meetings available"))))},E2={meetingDetails:"frontend-main-meetings-MeetingDetails-module__meetingDetails--kw2Rc"};var lH=Object.defineProperty,uH=Object.defineProperties,cH=Object.getOwnPropertyDescriptors,w2=Object.getOwnPropertySymbols,dH=Object.prototype.hasOwnProperty,fH=Object.prototype.propertyIsEnumerable,C2=(n,t,r)=>t in n?lH(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,pH=(n,t)=>{for(var r in t||(t={}))dH.call(t,r)&&C2(n,r,t[r]);if(w2)for(var r of w2(t))fH.call(t,r)&&C2(n,r,t[r]);return n},hH=(n,t)=>uH(n,cH(t));const mH=(n,t,r)=>{var i,a,M,k,F,B,Y,ge,Ce,Se,Ue,Ye,Ve,at,pt,gt,xt,Nt,Tt,Ut,qt,rn,ln,yn,In,En,Yn,kn,bn,er,rr,Vn,ar;return!((i=n.location)!=null&&i.location)&&!((a=n.location)!=null&&a.join_url)?t&&r?{href:(0,te.getMeetingOrderUrl)(r,n.id,{addBase:!0}),label:"View here"}:{href:null,label:"Processing..."}:{zoom:{href:(M=n.location)==null?void 0:M.join_url,copyContent:(k=n.location)==null?void 0:k.join_url,label:"Join Zoom"},zoom_conference:{href:(F=n.location)==null?void 0:F.join_url,copyContent:(B=n.location)==null?void 0:B.join_url,label:"Join Zoom"},google:{href:(Y=n.location)==null?void 0:Y.join_url,copyContent:(ge=n.location)==null?void 0:ge.join_url,label:"Join Meet"},google_conference:{href:(Ce=n.location)==null?void 0:Ce.join_url,copyContent:(Se=n.location)==null?void 0:Se.join_url,label:"Join Meet"},inbound_call:{href:`tel:${(Ue=n.location)==null?void 0:Ue.location}`,copyContent:(Ye=n.location)==null?void 0:Ye.location,label:(Ve=n.location)==null?void 0:Ve.location},outbound_call:{href:null,label:`${(0,nn.guessFirstName)(n.user_name)} will call you at ${(at=n.location)==null?void 0:at.location}`},microsoft_teams:{href:(pt=n.location)==null?void 0:pt.join_url,copyContent:(gt=n.location)==null?void 0:gt.join_url,label:"Join Teams"},microsoft_teams_conference:{href:(xt=n.location)==null?void 0:xt.join_url,copyContent:(Nt=n.location)==null?void 0:Nt.join_url,label:"Join Teams"},webex:{href:(Tt=n.location)==null?void 0:Tt.join_url,copyContent:(Ut=n.location)==null?void 0:Ut.join_url,label:"Join Webex"},webex_conference:{href:(qt=n.location)==null?void 0:qt.join_url,copyContent:(rn=n.location)==null?void 0:rn.join_url,label:"Join Webex"},gotomeeting:{href:(ln=n.location)==null?void 0:ln.join_url,copyContent:(yn=n.location)==null?void 0:yn.join_url,label:"Join GoToMeeting"},gotomeeting_conference:{href:(In=n.location)==null?void 0:In.join_url,copyContent:(En=n.location)==null?void 0:En.join_url,label:"Join GoToMeeting"},physical:{href:null,label:(kn=(Yn=n.location)==null?void 0:Yn.location)!=null?kn:"Unknown"},ask_invitee:{href:null,label:(er=(bn=n.location)==null?void 0:bn.location)!=null?er:"Unknown"},custom:{href:null,label:(Vn=(rr=n.location)==null?void 0:rr.location)!=null?Vn:"Unknown"}}[(ar=n.location)==null?void 0:ar.type]||{}},_H=({order:n,isStatic:t=!1,pub:r=null})=>{const i=(0,ii.pm)(),{href:a,label:M,copyContent:k}=mH(n,t,r),F=(0,e.h)(I.xv.B3,{align:"right"},a?(0,e.h)("a",{href:a},M):M);return t||!k?F:(0,e.h)(he.gq,{gap:4,alignItems:"center"},F,(0,e.h)(yt.hU,{size:24,onClick:()=>{(0,O.copyToClipboard)(k),i.popToast(B=>(0,e.h)(ii.FN,hH(pH({},B),{Icon:$s.Z,text:"Invite link copied"})))}},(0,e.h)(Hd,{height:20})))},gH=({order:n,pub:t})=>{const r=un()(n.start_time),i=un()(n.end_time),a=`${r.format("MMMM D, YYYY")} at ${r.format("h:mm A z")}`,M=i.diff(r,"minute");return(0,e.h)(he.tu,{gap:8,className:E2.meetingDetails},(0,e.h)(he.gq,{justifyContent:"space-between",gap:8},(0,e.h)(I.xv.B3,{weight:"bold"},"Time"),(0,e.h)(I.xv.B3,null,a)),(0,e.h)(he.gq,{justifyContent:"space-between",gap:8},(0,e.h)(I.xv.B3,{weight:"bold"},"Length"),(0,e.h)(I.xv.B3,null,M," minutes")),(0,e.h)(he.gq,{justifyContent:"space-between",alignItems:"center",gap:8},(0,e.h)(I.xv.B3,{weight:"bold"},"Location"),(0,e.h)(_H,{order:n,pub:t})),(0,e.h)(I.xv.B3,{align:"center",className:E2.description,paddingTop:16},(0,e.h)("i",null,n.description)))},vH=({booking:n,settings:t,pub:r})=>{const i=(0,Pi.getConfigFor)("meetings_embed_publication_name")?r.name:n.user_name;return n.cancelled_at?(0,e.h)(e.Fragment,null,(0,e.h)(fl,{pub:r,user_id:t.user_id,user_profile_photo_url:t.user_profile_photo_url},(0,e.h)(I.xv.H2,{align:"center"},"Your meeting with ",i," has been cancelled")),n.cancellation_reason&&(0,e.h)(e.Fragment,null,(0,e.h)(I.xv.B3,{align:"center",paddingBottom:16},"The author provided the following reason:"),(0,e.h)(I.xv.B4,{align:"center",paddingBottom:32},n.cancellation_reason)),n.refunded_at&&(0,e.h)(I.xv.B3,{align:"center"},"A refund has been issued to your original form of payment."),t.enabled&&(0,e.h)(I.xv.B3,{align:"center",paddingBottom:16},(0,e.h)(e.Fragment,null,"You can book another meeting"," ",(0,e.h)("a",{href:(0,te.getMeetingsUrl)(r,{params:{source:"cancellation-rebook"}})},"here"),"."))):(0,e.h)(e.Fragment,null,(0,e.h)(fl,{pub:r,user_id:t.user_id,user_profile_photo_url:t.user_profile_photo_url},(0,e.h)(I.xv.H2,{align:"center"},"Your meeting with ",i," has been ",n.num_rebookings>0?"rebooked":"booked")),(0,e.h)(he.tu,{gap:16,alignItems:"center"},(0,e.h)(gH,{order:n,pub:r}),(0,e.h)(I.xv.B4,{align:"center"},"A confirmation of your booking has been emailed to you."),n.refunded_at&&(0,e.h)(I.xv.B4,{align:"center"},"A refund has been issued to your original form of payment."),(0,e.h)(yt.zx,{onClick:()=>{const a=(0,p.getQueryItem)("referrer"),M=a!=null?a:(0,p.getPubUrl)(r);(0,O.redirect)(M,{local_navigation:!1})}},"Done")))};var Qp=Et(44043);const yH=(0,Oo.Z)("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]),Ds={dragArea:"frontend-pencraft-FilePicker-module__dragArea--LGGe6",dragActive:"frontend-pencraft-FilePicker-module__dragActive--C8WhV",text:"frontend-pencraft-FilePicker-module__text--k5tBg",icon:"frontend-pencraft-FilePicker-module__icon--y8qlT",browse:"frontend-pencraft-FilePicker-module__browse--Q1jvI",file:"frontend-pencraft-FilePicker-module__file--iTNSV"};var O2=(n,t,r)=>new Promise((i,a)=>{var M=B=>{try{F(r.next(B))}catch(Y){a(Y)}},k=B=>{try{F(r.throw(B))}catch(Y){a(Y)}},F=B=>B.done?i(B.value):Promise.resolve(B.value).then(M,k);F((r=r.apply(n,t)).next())});const bH=({onFileSelected:n,dragCTA:t="Drag file here",dropCTA:r=(0,e.h)("a",{className:Ds.browse,href:"javascript:void(0)"},"browse"),acceptableTypes:i,dropEvent:a,pickEvent:M,loading:k,className:F,multiple:B=!1,addMode:Y=!1})=>{const[ge,Ce]=(0,o.eJ)(!1),Se=(0,o.sO)(),Ue=at=>{at.preventDefault(),Ce(!0)},Ye=at=>{at.preventDefault(),Ce(!1)},Ve=at=>O2(void 0,null,function*(){var pt,gt,xt,Nt;at.preventDefault(),a&&(0,C.j)(a),Ce(!1);let Tt,Ut;if(((gt=(pt=at.dataTransfer)==null?void 0:pt.items)==null?void 0:gt.length)>0){const qt=Array.from(at.dataTransfer.items);for(const rn of qt)if(rn.kind!=="file"){alert("Please only drag files!");return}Tt=at.dataTransfer.items[0].getAsFile(),Ut=qt.map(rn=>rn.getAsFile())}else if(((Nt=(xt=at.dataTransfer)==null?void 0:xt.files)==null?void 0:Nt.length)>0)Tt=at.dataTransfer.files[0],Ut=at.dataTransfer.files;else{alert("Something went wrong!");return}B?yield n(Ut):yield n(Tt)});return(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:l()(Ds.dragArea,F,{[Ds.dragActive]:ge,"test-drag-active":ge}),onDragEnter:Ue,onDragOver:Ue,onDragLeave:Ye,onDrop:Ve,onClick:()=>Se.current.click(),"aria-label":"File Picker"},Y?(0,e.h)(bl.Z,{size:20,className:Ds.icon}):(0,e.h)(yH,{size:32,className:Ds.icon}),(0,e.h)("p",{className:Ds.text},k?"Loading...":ge?"Release to upload":Y?"Add another image":(0,e.h)(e.Fragment,null,t," or ")),k?null:r),(0,e.h)("input",{className:l()(Ds.file,"file-picker-input"),ref:Se,type:"file",name:"file",accept:i,multiple:B,onInput:at=>O2(void 0,null,function*(){M&&(0,C.j)(M);const pt=at.target.files;pt&&pt[0]&&(B?yield n(pt):yield n(pt[0]))})}))},PH={label:"frontend-pencraft-unstable-InputGroup-module__label--_DuZI"},S2=({className:n,children:t,detail:r,label:i,alignment:a="vertical",error:M=!1})=>{const k=a==="vertical"?EH:wH;return(0,e.h)(k,{className:n,detail:r,error:M,label:i},Kt.Children.map(t,F=>(0,Kt.isValidElement)(F)?(0,e.cloneElement)(F,{error:M}):F))},EH=({children:n,className:t,detail:r,error:i,label:a})=>(0,e.h)(he.tu,{className:t,gap:8,justifyContent:"start"},(0,e.h)("label",null,(0,e.h)(I.xv.B4,{weight:"semibold",as:"div",color:i?"error":"primary",paddingBottom:8},a),n),r&&(0,e.h)(T2,{detail:r,error:i})),wH=({children:n,className:t,detail:r,error:i,label:a})=>(0,e.h)(he.gq,{className:t,justifyContent:"space-between",alignItems:"center"},(0,e.h)(he.tu,{gap:4},a&&(0,e.h)(CH,{label:a,error:i}),r&&(0,e.h)(T2,{detail:r,error:i})),n),CH=({label:n,error:t})=>(0,e.h)(I.xv.B4,{weight:"semibold",className:PH.label,color:t?"error":"primary"},n),T2=({detail:n,error:t})=>(0,e.h)(I.xv.B4,{color:t?"error":"secondary"},n),aa={button:"frontend-main-meetings-book-index-module__button--EbzMe",tos:"frontend-main-meetings-book-index-module__tos--OWtRB",orderForm:"frontend-main-meetings-book-index-module__orderForm--Glxgf",input:"frontend-main-meetings-book-index-module__input--nYlb7",error:"frontend-main-meetings-book-index-module__error--P2ZlT",stripeError:"frontend-main-meetings-book-index-module__stripeError--fCZ4g",originalPrice:"frontend-main-meetings-book-index-module__originalPrice--ghITj",filePicker:"frontend-main-meetings-book-index-module__filePicker--Qc_29",fileAttachment:"frontend-main-meetings-book-index-module__fileAttachment--kG9Ix",fileName:"frontend-main-meetings-book-index-module__fileName--wcKMn",fileRemoveIcon:"frontend-main-meetings-book-index-module__fileRemoveIcon--zOEGl",savedCard:"frontend-main-meetings-book-index-module__savedCard--JV5Ce",cardOnFileIcon:"frontend-main-meetings-book-index-module__cardOnFileIcon--LFx2T",errorContainer:"frontend-main-meetings-book-index-module__errorContainer--J_c84",errorTooltip:"frontend-main-meetings-book-index-module__errorTooltip--gnIsr",checkoutBox:"frontend-main-meetings-book-index-module__checkoutBox--sZ81I"};var qp=(n,t,r)=>new Promise((i,a)=>{var M=B=>{try{F(r.next(B))}catch(Y){a(Y)}},k=B=>{try{F(r.throw(B))}catch(Y){a(Y)}},F=B=>B.done?i(B.value):Promise.resolve(B.value).then(M,k);F((r=r.apply(n,t)).next())});const OH=({stripe_publishable_key:n,onComplete:t,user:r,pub:i,booking:a,settings:M})=>{const[k,F]=(0,o.eJ)(a.name),[B,Y]=(0,o.eJ)(a.description),[ge,Ce]=(0,o.eJ)(null),[Se,Ue]=(0,o.eJ)(null),[Ye,Ve]=(0,o.eJ)(null),[at,pt]=(0,o.eJ)(null),[gt,xt]=(0,o.eJ)(!1),[Nt,Tt]=(0,o.eJ)(null);(0,o.d4)(()=>{const rr=(0,je.lQ)(n,i),Vn=rr&&(0,je.UD)(rr);Ue(rr),Ve(Vn)},[i,n,Ue,Ve]),(0,o.d4)(()=>{(0,C.j)(Qp.F.MEETING_ORDER_PAGE_VIEWED,{user_id:r.id,publication_id:i.id})},[]),(0,o.d4)(()=>{(()=>qp(void 0,null,function*(){var Vn;const ar=yield jn().get("/api/v1/subscription/last4");(Vn=ar.body)!=null&&Vn.last4&&pt(ar.body.last4)}))()},[i]);const Ut=M.selected_event_type,{price:qt,duration:rn,subscriber_price:ln,founding_price:yn,currency:In}=Ut;let En=qt;r.is_subscribed&&ln&&(En=ln),r.is_founding&&yn&&(En=yn);const Yn=!!(r!=null&&r.has_saved_payment),kn=(0,o.I4)(()=>qp(void 0,null,function*(){return Se?yield Se.createToken(Ye):{token:null,error:{message:""}}}),[Se,Ye]),bn=(0,o.I4)(()=>qp(void 0,null,function*(){var rr,Vn,ar,Jn;xt(!0),Tt(null);let Qn;if(!Yn){const{token:Pn,error:Xn}=yield kn();if(Xn){xt(!1),Tt(Xn&&Xn.message),(0,C.j)(Qp.F.MEETING_MISSING_PAYMENT,{type:Xn&&Xn.type,code:Xn&&Xn.code,decline_code:Xn&&Xn.decline_code,reason:Xn&&Xn.message});return}Qn=Pn}const Ln=new FormData;Ln.append("name",k),Ln.append("description",B),Qn&&Ln.append("stripe_token",JSON.stringify(Qn)),ge&&Ln.append("attachment",ge);const qn=Intl.DateTimeFormat().resolvedOptions().timeZone;qn&&Ln.append("timezone",qn),(0,C.j)(Qp.F.MEETING_SUBMIT_PRESSED,{publication_id:i.id,user_id:r.id});try{const Pn=yield jn().post("/api/v1/meetings/book").send(Ln);history.pushState({},"",`/meetings/book/${Pn.body.order_id}`),t("schedule",Yb()(Pn.body,["order_id","calendly_scheduling_uri","name","email","description"]))}catch(Pn){(Vn=(rr=Pn.response)==null?void 0:rr.body)!=null&&Vn.error?Tt((Jn=(ar=Pn.response)==null?void 0:ar.body)==null?void 0:Jn.error):Tt("Something went wrong.")}xt(!1)}),[k,B,kn,ge,xt,Tt]),er=!!k&&!!B;return(0,e.h)(e.Fragment,null,(0,e.h)(fl,{pub:i,user_id:M.user_id,user_profile_photo_url:M.user_profile_photo_url},(0,e.h)("div",null,(0,e.h)(y.xv.H2,{align:"center",size:20},"Book a meeting with"),(0,e.h)(y.xv.H2,{align:"center",paddingTop:4},(0,Pi.getConfigFor)("meetings_embed_publication_name")?i.name:M.user_name),(0,e.h)(y.xv.B3,{align:"center",paddingTop:8},En<qt&&(0,e.h)("span",{className:aa.originalPrice},(0,nn.centsToPriceString)(qt,In)),(0,nn.centsToPriceString)(En,In)," \xB7 ",rn,"-minute meeting"))),(0,e.h)(y.tu,{gap:32},(0,e.h)(S2,{alignment:"vertical",label:"Your name"},(0,e.h)(y.oi,{name:"name",value:k||"",onChange:rr=>F(rr.target.value),placeholder:"Name...",disabled:gt,maxLength:500})),(0,e.h)(S2,{alignment:"vertical",label:"What do you want to talk about?"},(0,e.h)(y.gx,{name:"description",value:B,onChange:rr=>Y(rr.target.value),rows:4,maxLength:1e3,placeholder:"E.g. I\u2019m really interested in knowing...",disabled:gt})),ge?(0,e.h)("div",null,(0,e.h)(y.xv.B4,{weight:"semibold",paddingBottom:8},"Add an attachment (optional)"),(0,e.h)(y.gq,{className:aa.fileAttachment,gap:8,alignItems:"center",flex:"auto"},(0,e.h)(Ks.Z,{onClick:()=>Ce(null),className:aa.fileRemoveIcon,height:24}),(0,e.h)(y.xv.B3,{className:aa.fileName},ge.name))):(0,e.h)("div",null,(0,e.h)(y.xv.B4,{weight:"semibold",paddingBottom:8},"Add an attachment (optional)"),(0,e.h)(bH,{className:aa.filePicker,onFileSelected:rr=>Ce(rr),acceptableTypes:".doc,.docx,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/pdf, image/*, audio/*, video/*, .pdf, .xls, .xlsx"})),(0,e.h)("div",{className:aa.checkoutBox},Yn&&(0,e.h)(y.gq,{className:aa.savedCard,padding:12,gap:12},(0,e.h)(lb,{className:aa.cardOnFileIcon}),(0,e.h)(y.xv.B4,null,at?`**** **** **** ${at}`:"Use card on file")),!Yn&&Ye&&(0,e.h)(je.GP,{className:aa.input,element:Ye}),Nt&&(0,e.h)(y.xv.B4,{paddingTop:12,className:aa.errorContainer},Nt),(0,e.h)(y.hs,{paddingTop:12},(0,e.h)(qy.u,{text:M.enabled?"You must provide your name and a topic for the meeting before booking.":"You must enable Meetings before one can be booked.",disabled:gt||er&&M.enabled,preferPlacement:"top-center",className:aa.errorTooltip},(0,e.h)(y.zx,{className:aa.button,grow:!0,type:"submit",onClick:bn,disabled:gt||!er||!M.enabled},gt?"Loading...":"Book meeting"))))),(0,e.h)(y.xv,{className:aa.tos,paddingBottom:16,size:14,align:"center",color:"secondary"},"By booking, you will be automatically signed up for a free subscription to ",i.name,". Additionally, you agree to Substack's"," ",(0,e.h)("a",{href:"https://substack.com/tos",target:"__blank"},"Terms of Service"),", our"," ",(0,e.h)("a",{href:"https://substack.com/privacy",target:"__blank"},"Privacy Policy"),", and our"," ",(0,e.h)("a",{href:"https://substack.com/ccpa#personal-data-collected",target:"__blank"},"Information Collection Notice"),"."))};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var eh=function(n,t){return eh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},eh(n,t)};function vu(n,t){eh(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var yu=function(){return yu=Object.assign||function(t){for(var r,i=1,a=arguments.length;i<a;i++){r=arguments[i];for(var M in r)Object.prototype.hasOwnProperty.call(r,M)&&(t[M]=r[M])}return t},yu.apply(this,arguments)};function SH(n,t){t===void 0&&(t={});var r=t.insertAt;if(!(!n||typeof document=="undefined")){var i=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",r==="top"&&i.firstChild?i.insertBefore(a,i.firstChild):i.appendChild(a),a.styleSheet?a.styleSheet.cssText=n:a.appendChild(document.createTextNode(n))}}var TH=`/*
  code is extracted from Calendly's embed stylesheet: https://assets.calendly.com/assets/external/widget.css
*/

.calendly-inline-widget,
.calendly-inline-widget *,
.calendly-badge-widget,
.calendly-badge-widget *,
.calendly-overlay,
.calendly-overlay * {
    font-size:16px;
    line-height:1.2em
}

.calendly-inline-widget iframe,
.calendly-badge-widget iframe,
.calendly-overlay iframe {
    display:inline;
    width:100%;
    height:100%
}

.calendly-popup-content {
    position:relative
}

.calendly-popup-content.calendly-mobile {
    -webkit-overflow-scrolling:touch;
    overflow-y:auto
}

.calendly-overlay {
    position:fixed;
    top:0;
    left:0;
    right:0;
    bottom:0;
    overflow:hidden;
    z-index:9999;
    background-color:#a5a5a5;
    background-color:rgba(31,31,31,0.4)
}

.calendly-overlay .calendly-close-overlay {
    position:absolute;
    top:0;
    left:0;
    right:0;
    bottom:0
}

.calendly-overlay .calendly-popup {
    box-sizing:border-box;
    position:absolute;
    top:50%;
    left:50%;
    -webkit-transform:translateY(-50%) translateX(-50%);
    transform:translateY(-50%) translateX(-50%);
    width:80%;
    min-width:900px;
    max-width:1000px;
    height:90%;
    max-height:680px
}

@media (max-width: 975px) {
    .calendly-overlay .calendly-popup {
        position:fixed;
        top:50px;
        left:0;
        right:0;
        bottom:0;
        -webkit-transform:none;
        transform:none;
        width:100%;
        height:auto;
        min-width:0;
        max-height:none
    }
}

.calendly-overlay .calendly-popup .calendly-popup-content {
    height:100%;
}

.calendly-overlay .calendly-popup-close {
    position:absolute;
    top:25px;
    right:25px;
    color:#fff;
    width:19px;
    height:19px;
    cursor:pointer;
    background:url(https://assets.calendly.com/assets/external/close-icon.svg) no-repeat;
    background-size:contain
}

@media (max-width: 975px) {
    .calendly-overlay .calendly-popup-close {
        top:15px;
        right:15px
    }
}

.calendly-badge-widget {
    position:fixed;
    right:20px;
    bottom:15px;
    z-index:9998
}

.calendly-badge-widget .calendly-badge-content {
    display:table-cell;
    width:auto;
    height:45px;
    padding:0 30px;
    border-radius:25px;
    box-shadow:rgba(0,0,0,0.25) 0 2px 5px;
    font-family:sans-serif;
    text-align:center;
    vertical-align:middle;
    font-weight:bold;
    font-size:14px;
    color:#fff;
    cursor:pointer
}

.calendly-badge-widget .calendly-badge-content.calendly-white {
    color:#666a73
}

.calendly-badge-widget .calendly-badge-content span {
    display:block;
    font-size:12px
}

.calendly-spinner {
    position:absolute;
    top:50%;
    left:0;
    right:0;
    -webkit-transform:translateY(-50%);
    transform:translateY(-50%);
    text-align:center;
    z-index:-1
}

.calendly-spinner>div {
    display:inline-block;
    width:18px;
    height:18px;
    background-color:#e1e1e1;
    border-radius:50%;
    vertical-align:middle;
    -webkit-animation:calendly-bouncedelay 1.4s infinite ease-in-out;
    animation:calendly-bouncedelay 1.4s infinite ease-in-out;
    -webkit-animation-fill-mode:both;
    animation-fill-mode:both
}

.calendly-spinner .calendly-bounce1 {
    -webkit-animation-delay:-0.32s;
    animation-delay:-0.32s
}

.calendly-spinner .calendly-bounce2 {
    -webkit-animation-delay:-0.16s;
    animation-delay:-0.16s
}

@-webkit-keyframes calendly-bouncedelay {
    0%,80%,100% {
        -webkit-transform:scale(0);
        transform:scale(0)
    } 
    
    40%{
        -webkit-transform:scale(1);
        transform:scale(1)
    }
}

@keyframes calendly-bouncedelay{ 
    0%,80%,100% {
        -webkit-transform:scale(0);
        transform:scale(0)
    }
    
    40% {
        -webkit-transform:scale(1);
        transform:scale(1)
    }
}`;SH(TH);var pl;(function(n){n.PROFILE_PAGE_VIEWED="calendly.profile_page_viewed",n.EVENT_TYPE_VIEWED="calendly.event_type_viewed",n.DATE_AND_TIME_SELECTED="calendly.date_and_time_selected",n.EVENT_SCHEDULED="calendly.event_scheduled"})(pl||(pl={}));var I2=function(n){var t=n.url,r=n.prefill,i=r===void 0?{}:r,a=n.pageSettings,M=a===void 0?{}:a,k=n.utm,F=k===void 0?{}:k,B=n.embedType,Y=M.backgroundColor,ge=M.hideEventTypeDetails,Ce=M.hideLandingPageDetails,Se=M.primaryColor,Ue=M.textColor,Ye=M.hideGdprBanner,Ve=i.customAnswers,at=i.date,pt=i.email,gt=i.firstName,xt=i.guests,Nt=i.lastName,Tt=i.location,Ut=i.name,qt=F.utmCampaign,rn=F.utmContent,ln=F.utmMedium,yn=F.utmSource,In=F.utmTerm,En=F.salesforce_uuid,Yn=t.indexOf("?"),kn=Yn>-1,bn=t.slice(Yn+1),er=kn?t.slice(0,Yn):t,rr=[kn?bn:null,Y?"background_color="+Y:null,ge?"hide_event_type_details=1":null,Ce?"hide_landing_page_details=1":null,Se?"primary_color="+Se:null,Ue?"text_color="+Ue:null,Ye?"hide_gdpr_banner=1":null,Ut?"name="+encodeURIComponent(Ut):null,Tt?"location="+encodeURIComponent(Tt):null,gt?"first_name="+encodeURIComponent(gt):null,Nt?"last_name="+encodeURIComponent(Nt):null,xt?"guests="+xt.map(encodeURIComponent).join(","):null,pt?"email="+encodeURIComponent(pt):null,at&&at instanceof Date?"date="+IH(at):null,qt?"utm_campaign="+encodeURIComponent(qt):null,rn?"utm_content="+encodeURIComponent(rn):null,ln?"utm_medium="+encodeURIComponent(ln):null,yn?"utm_source="+encodeURIComponent(yn):null,In?"utm_term="+encodeURIComponent(In):null,En?"salesforce_uuid="+encodeURIComponent(En):null,B?"embed_type="+B:null,"embed_domain=1"].concat(Ve?MH(Ve):[]).filter(function(Vn){return Vn!==null}).join("&");return er+"?"+rr},IH=function(n){var t=n.getMonth()+1,r=n.getDate(),i=n.getFullYear();return[i,t<10?"0"+t:t,r<10?"0"+r:r].join("-")},xH=/^a\d{1,2}$/,MH=function(n){var t=Object.keys(n).filter(function(r){return r.match(xH)});return t.length?t.map(function(r){return r+"="+encodeURIComponent(n[r])}):[]},x2=function(n){vu(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.render=function(){return(0,Kt.createElement)("div",{className:"calendly-spinner"},(0,Kt.createElement)("div",{className:"calendly-bounce1"}),(0,Kt.createElement)("div",{className:"calendly-bounce2"}),(0,Kt.createElement)("div",{className:"calendly-bounce3"}))},t}(Kt.Component),DH={minWidth:"320px",height:"630px"},AH=function(n){vu(t,n);function t(r){var i=n.call(this,r)||this;return i.state={isLoading:!0},i.onLoad=i.onLoad.bind(i),i}return t.prototype.onLoad=function(){this.setState({isLoading:!1})},t.prototype.render=function(){var r=I2({url:this.props.url,pageSettings:this.props.pageSettings,prefill:this.props.prefill,utm:this.props.utm,embedType:"Inline"});return(0,Kt.createElement)("div",{className:"calendly-inline-widget",style:this.props.styles||DH},this.state.isLoading&&(0,Kt.createElement)(x2,null),(0,Kt.createElement)("iframe",{width:"100%",height:"100%",frameBorder:"0",title:this.props.iframeTitle||"Calendly Scheduling Page",onLoad:this.onLoad,src:r}))},t}(Kt.Component),NH=function(n){vu(t,n);function t(r){var i=n.call(this,r)||this;return i.state={isLoading:!0},i.onLoad=i.onLoad.bind(i),i}return t.prototype.onLoad=function(){this.setState({isLoading:!1})},t.prototype.render=function(){var r=I2({url:this.props.url,pageSettings:this.props.pageSettings,prefill:this.props.prefill,utm:this.props.utm,embedType:"PopupWidget"});return(0,Kt.createElement)(Kt.Fragment,null,this.state.isLoading&&(0,Kt.createElement)(x2,null),(0,Kt.createElement)("iframe",{width:"100%",height:"100%",frameBorder:"0",title:this.props.iframeTitle||"Calendly Scheduling Page",onLoad:this.onLoad,src:r}))},t}(Kt.Component),M2=function(n){return n.open?(0,Kt.createPortal)((0,Kt.createElement)("div",{className:"calendly-overlay"},(0,Kt.createElement)("div",{onClick:n.onModalClose,className:"calendly-close-overlay"}),(0,Kt.createElement)("div",{className:"calendly-popup"},(0,Kt.createElement)("div",{className:"calendly-popup-content"},(0,Kt.createElement)(NH,yu({},n)))),(0,Kt.createElement)("button",{className:"calendly-popup-close",onClick:n.onModalClose,"aria-label":"Close modal",style:{display:"block",border:"none",padding:0}})),n.rootElement):null},Yz=function(n){vu(t,n);function t(r){var i=n.call(this,r)||this;return i.state={isOpen:!1},i.onClick=i.onClick.bind(i),i.onClose=i.onClose.bind(i),i}return t.prototype.onClick=function(r){r.preventDefault(),this.setState({isOpen:!0})},t.prototype.onClose=function(r){r.stopPropagation(),this.setState({isOpen:!1})},t.prototype.render=function(){return(0,Kt.createElement)(Kt.Fragment,null,(0,Kt.createElement)("button",{onClick:this.onClick,style:this.props.styles||{},className:this.props.className||""},this.props.text),(0,Kt.createElement)(M2,yu({},this.props,{open:this.state.isOpen,onModalClose:this.onClose,rootElement:this.props.rootElement})))},t}(Kt.Component),Jz=function(n){vu(t,n);function t(r){var i=n.call(this,r)||this;return i.state={isOpen:!1},i.onClick=i.onClick.bind(i),i.onClose=i.onClose.bind(i),i}return t.prototype.onClick=function(){this.setState({isOpen:!0})},t.prototype.onClose=function(r){r.stopPropagation(),this.setState({isOpen:!1})},t.prototype.render=function(){return(0,Kt.createElement)("div",{className:"calendly-badge-widget",onClick:this.onClick},(0,Kt.createElement)("div",{className:"calendly-badge-content",style:{background:this.props.color||"#00a2ff",color:this.props.textColor||"#ffffff"}},this.props.text||"Schedule time with me",this.props.branding&&(0,Kt.createElement)("span",null,"powered by Calendly")),(0,Kt.createElement)(M2,yu({},this.props,{open:this.state.isOpen,onModalClose:this.onClose,rootElement:this.props.rootElement})))},t}(Kt.Component),D2="message";function RH(n){var t=n||{},r=t.onDateAndTimeSelected,i=t.onEventScheduled,a=t.onEventTypeViewed,M=t.onProfilePageViewed;(0,Kt.useEffect)(function(){var k=function(F){var B=F.data.event;B===pl.DATE_AND_TIME_SELECTED?r&&r(F):B===pl.EVENT_SCHEDULED?i&&i(F):B===pl.EVENT_TYPE_VIEWED?a&&a(F):B===pl.PROFILE_PAGE_VIEWED&&M&&M(F)};return window.addEventListener(D2,k),function(){window.removeEventListener(D2,k)}},[n])}var LH=Et(56288),BH=(n,t,r)=>new Promise((i,a)=>{var M=B=>{try{F(r.next(B))}catch(Y){a(Y)}},k=B=>{try{F(r.throw(B))}catch(Y){a(Y)}},F=B=>B.done?i(B.value):Promise.resolve(B.value).then(M,k);F((r=r.apply(n,t)).next())});const kH=({booking:n,onComplete:t,settings:r,pub:i})=>{const a="calendly",[M,k]=(0,o.eJ)(!1),[F,B]=(0,o.eJ)(!1),{duration:Y}=r.selected_event_type,ge=(0,Pi.getConfigFor)("meetings_embed_publication_name")?i.name:n.user_name,Ce=(0,Nr.useMediaQuery)({maxWidth:698});return RH({onEventScheduled:Se=>BH(void 0,null,function*(){var Ue,Ye,Ve;const at=(Ve=(Ye=(Ue=Se.data)==null?void 0:Ue.payload)==null?void 0:Ye.event)==null?void 0:Ve.uri;k(!0);try{const pt=yield jn().put(`/api/v1/meetings/order/${n.order_id}`).send({calendly_event_uri:at});yield new Promise(gt=>setTimeout(gt,2e3)),t("confirmation",pt.body)}catch(pt){B(!0)}})}),F?(0,e.h)(fl,{pub:i,user_id:r.user_id,user_profile_photo_url:r.user_profile_photo_url},(0,e.h)(I.xv.H2,{align:"center"},"Something went wrong with your booking. Please contact meetings@substackinc.com.")):M?(0,e.h)(he.hs,{justifyContent:"center"},(0,e.h)(LH.a,{type:"circular"})):(0,e.h)(e.Fragment,null,(0,e.h)(fl,{pub:i,user_id:r.user_id,user_profile_photo_url:r.user_profile_photo_url},(0,e.h)("div",null,(0,e.h)(I.xv.H2,{align:"center"},n.num_rebookings>0?"Rebook":"Book"," your meeting with ",ge),(0,e.h)(I.xv.B3,{align:"center",paddingTop:8},"Schedule your ",Y,"-minute meeting"))),typeof window!="undefined"&&n.calendly_scheduling_uri&&(0,e.h)(AH,{iframeTitle:a,url:`${n.calendly_scheduling_uri}?hide_gdpr_banner=1`,prefill:{name:n.name||"",email:n.email,customAnswers:{a1:n.description}},styles:{minWidth:"320px",height:"700px",marginTop:Ce?"0px":"-66px"}}))};var UH=Object.defineProperty,_d=Object.getOwnPropertySymbols,A2=Object.prototype.hasOwnProperty,N2=Object.prototype.propertyIsEnumerable,R2=(n,t,r)=>t in n?UH(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,hl=(n,t)=>{for(var r in t||(t={}))A2.call(t,r)&&R2(n,r,t[r]);if(_d)for(var r of _d(t))N2.call(t,r)&&R2(n,r,t[r]);return n},FH=(n,t)=>{var r={};for(var i in n)A2.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&_d)for(var i of _d(n))t.indexOf(i)<0&&N2.call(n,i)&&(r[i]=n[i]);return r};const jH=n=>{var t=n,{step:r}=t,i=FH(t,["step"]);switch(r){case"order":return(0,e.h)(OH,hl({},i));case"schedule":return(0,e.h)(kH,hl({},i));case"confirmation":return(0,e.h)(vH,hl({},i))}},L2=({stripe_publishable_key:n,pub:t,user:r,order:i,order_id:a,settings:M})=>{const k=a?i.calendly_scheduling_uri?"schedule":"confirmation":"order",[F,B]=(0,o.eJ)(k),[Y,ge]=(0,o.eJ)(hl({name:r.name,email:r.email,description:""},i)),Ce=jH({step:F,booking:Y,settings:M,order:i,onComplete:(Se,Ue)=>{ge(hl(hl({},Y),Ue)),B(Se)},pub:t,stripe_publishable_key:n,user:r,orderId:a});return(0,e.h)(e.Fragment,null,(0,e.h)(P2,{pub:t}),(0,e.h)(he.hs,{style:{minHeight:"100vh"},bg:"secondary",alignItems:"center",justifyContent:"center"},(0,e.h)(he.tu,{paddingX:24,gap:32,style:{width:F==="schedule"?"100%":450,maxWidth:"100%",boxSizing:"border-box"}},Ce)))},WH=({subdomain:n})=>(0,e.h)("div",{className:"page typography signup-page",path:"/not-found"},(0,O.setMetaData)({title:"Not Found"}),(0,e.h)("div",{className:"container"},(0,e.h)("h2",null,"Not Found"),(0,e.h)("p",null,"The page you are attempting to access is not found."),(0,e.h)("p",null,"If you want to claim this URL you can start a Substack today"),(0,e.h)("p",null,(0,e.h)("a",{href:(0,p.getStartPublishingUrl)(),class:"button primary",rel:"nofollow"},"Start a Substack")),(0,e.h)("p",null,(0,e.h)("a",{href:(0,p.getDiscoverSearchUrl)({query:n,params:{searching:"publication"}})},'Search Substack for "',n,'"'))));var HH=Et(66141),B2=Et(19696);function VH(){return useDismissed("reader-ios-install-banner",60*60*24*7)}function Xz({user:n,pathname:t="/inbox"}){const[r,i]=VH(),a=W2();if(r||!a||n!=null&&n.reader_installed_at&&a==="ios"&&(t.startsWith("/notes")||t.includes("/note/")))return null;const M=()=>{track(EVENTS.APP_BANNER_DISMISSED),i()},k=F=>{track(EVENTS.APP_BANNER_TAPPED,{surface:"reader"})};return h(U2,{className:"app-banner-fixed"},h(k2,{surface:"reader"}),h(j2,null),h(F2,null,h("div",null,"Get the full experience")),h("a",{href:$H(t,n,a),className:"app-banner-cta",onClick:k},"Get app"),h("button",{className:"reader2-button-reset",onClick:M},h(X,{size:16,className:"app-banner-x-out"})))}function KH({post:n,subdomain:t}){const r=W2();if(!(0,D.isMobile)({checkFirst4:!0})||!r)return null;const i=(0,p.getPostAppLinkUrl)(t,n.slug,{redirect:"app-store",source:"post-banner"}),a=()=>{(0,C.j)(C.FP.APP_BANNER_TAPPED,{surface:"post"})};return(0,e.h)(U2,null,(0,e.h)(k2,{surface:"post"}),(0,e.h)(j2,null),(0,e.h)(F2,null,(0,e.h)("div",null,n.type==="podcast"?"Listen":n.type==="video"?"Watch":"Read"," in the Substack app")),(0,e.h)("a",{className:"app-banner-cta",href:i,onClick:a},"Open app"))}function k2({surface:n}){return(0,o.d4)(()=>{(0,C.j)(C.FP.APP_BANNER_VIEWED,{surface:"post"})},[]),null}const U2=(0,B2.L)("app-banner"),F2=(0,B2.L)("app-banner-text");function j2(){return(0,e.h)("div",{className:"app-banner-icon"},(0,e.h)(oe.Z,{height:16}))}function W2(){return(0,D.isIos)()?"ios":(0,D.isAndroid)()?"android":null}function $H(n,t,r){return t!=null&&t.reader_installed_at?r==="android"&&["/chat","/notes","/activity","/library"].includes(n)?getAppLinkTabUrl({tab:n.substring(1),redirect:"app-store"}):getAppLinkTabUrl({tab:"inbox",redirect:"app-store"}):r==="android"?getPlayStoreUrl():getAppStoreUrl()}var zH=Object.defineProperty,GH=Object.defineProperties,ZH=Object.getOwnPropertyDescriptors,H2=Object.getOwnPropertySymbols,YH=Object.prototype.hasOwnProperty,JH=Object.prototype.propertyIsEnumerable,V2=(n,t,r)=>t in n?zH(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,XH=(n,t)=>{for(var r in t||(t={}))YH.call(t,r)&&V2(n,r,t[r]);if(H2)for(var r of H2(t))JH.call(t,r)&&V2(n,r,t[r]);return n},QH=(n,t)=>GH(n,ZH(t));const Qz=n=>h(SvgIcon,QH(XH({},n),{name:"BellIcon",svgParams:{viewBox:"0 0 20 20",height:20,width:20,fill:"none"}}),h("path",{d:"M3.54717 7.14905L2.80009 7.08297L2.79717 7.11595V7.14905H3.54717ZM2.91038 10.6428L2.24437 10.298H2.24436L2.91038 10.6428ZM1 15.1428H0.25C0.25 15.557 0.585786 15.8928 0.999999 15.8928L1 15.1428ZM1.63679 12.6832L2.30281 13.0281L1.63679 12.6832ZM16.4528 7.14907H17.2028V7.10282L17.1971 7.05691L16.4528 7.14907ZM17.0896 10.8385L17.7556 10.4937L17.0896 10.8385ZM19 15.1429V15.8929C19.1989 15.8929 19.3896 15.8138 19.5303 15.6732C19.6709 15.5325 19.75 15.3418 19.75 15.1429H19ZM18.3632 12.6832L17.6972 13.0281V13.0281L18.3632 12.6832ZM11.8822 16.4286C11.8822 17.4412 11.0709 18.25 10.085 18.25V19.75C11.9127 19.75 13.3822 18.2562 13.3822 16.4286H11.8822ZM10.085 18.25C9.09913 18.25 8.28782 17.4412 8.28782 16.4286H6.78782C6.78782 18.2562 8.25733 19.75 10.085 19.75V18.25ZM8.28782 16.4286V15.1429H6.78782V16.4286H8.28782ZM13.3822 16.4286V15.1429H11.8822V16.4286H13.3822ZM10.085 0.25C8.89057 0.25 7.20474 0.623466 5.74421 1.66361C4.25626 2.7233 3.0324 4.45632 2.80009 7.08297L4.29425 7.21512C4.48647 5.04178 5.4702 3.70027 6.61436 2.88543C7.78595 2.05106 9.15677 1.75 10.085 1.75V0.25ZM2.79717 7.14905C2.79717 7.71546 2.73571 8.36489 2.63006 8.95552C2.52161 9.56174 2.37824 10.0394 2.24437 10.298L3.57639 10.9877C3.81469 10.5275 3.98971 9.87319 4.10662 9.21966C4.22632 8.55054 4.29717 7.81245 4.29717 7.14905H2.79717ZM2.24436 10.298C2.08304 10.6095 1.89068 10.8906 1.66386 11.2217C1.44351 11.5434 1.19295 11.9093 0.97078 12.3384L2.30281 13.0281C2.47688 12.6919 2.67702 12.3969 2.90136 12.0694C3.11923 11.7514 3.36554 11.3949 3.57639 10.9877L2.24436 10.298ZM0.97078 12.3384C0.607085 13.0407 0.428923 13.7345 0.340527 14.2466C0.296032 14.5044 0.27347 14.721 0.261993 14.8761C0.256245 14.9538 0.25325 15.0165 0.25169 15.0617C0.25091 15.0843 0.250487 15.1026 0.25026 15.1162C0.250146 15.123 0.250081 15.1287 0.250045 15.1331C0.250026 15.1353 0.250015 15.1373 0.250009 15.1389C0.250005 15.1397 0.250003 15.1404 0.250002 15.1411C0.250001 15.1414 0.250001 15.1417 0.25 15.142C0.25 15.1422 0.25 15.1424 0.25 15.1424C0.25 15.1426 0.25 15.1428 1 15.1428C1.75 15.1428 1.75 15.143 1.75 15.1432C1.75 15.1433 1.75 15.1434 1.75 15.1435C1.75 15.1438 1.75 15.144 1.75 15.1441C1.75 15.1445 1.75 15.1448 1.75 15.145C1.74999 15.1454 1.74999 15.1456 1.74999 15.1454C1.75 15.1452 1.75001 15.1437 1.75005 15.1412C1.75013 15.1362 1.75033 15.1269 1.7508 15.1135C1.75172 15.0866 1.7537 15.0436 1.75791 14.9868C1.76633 14.8729 1.78357 14.7052 1.81867 14.5018C1.88947 14.0916 2.02971 13.5555 2.30281 13.0281L0.97078 12.3384ZM10.085 1.75C11.0068 1.75 12.2869 2.04746 13.3926 2.87498C14.4767 3.68634 15.4356 5.03759 15.7085 7.24122L17.1971 7.05691C16.8756 4.46053 15.712 2.73725 14.2914 1.67407C12.8924 0.627065 11.2858 0.25 10.085 0.25V1.75ZM15.7028 7.14907C15.7028 7.81063 15.7733 8.59469 15.8917 9.30825C16.0065 9.99938 16.1801 10.7132 16.4236 11.1834L17.7556 10.4937C17.6269 10.245 17.4821 9.72906 17.3715 9.06262C17.2646 8.4186 17.2028 7.71732 17.2028 7.14907H15.7028ZM16.4236 11.1834C16.6493 11.6193 16.9157 11.9442 17.1336 12.2143C17.3558 12.4898 17.5373 12.7194 17.6972 13.0281L19.0292 12.3384C18.7928 11.8818 18.5236 11.5484 18.3011 11.2726C18.0743 10.9913 17.902 10.7765 17.7556 10.4937L16.4236 11.1834ZM17.6972 13.0281C17.9703 13.5555 18.1105 14.0916 18.1813 14.5018C18.2164 14.7052 18.2336 14.8729 18.2421 14.9868C18.2463 15.0436 18.2482 15.0866 18.2492 15.1135C18.2496 15.1269 18.2498 15.1363 18.2499 15.1413C18.25 15.1438 18.25 15.1452 18.25 15.1455C18.25 15.1456 18.25 15.1455 18.25 15.145C18.25 15.1448 18.25 15.1445 18.25 15.1442C18.25 15.144 18.25 15.1438 18.25 15.1436C18.25 15.1435 18.25 15.1433 18.25 15.1432C18.25 15.143 18.25 15.1429 19 15.1429C19.75 15.1429 19.75 15.1427 19.75 15.1425C19.75 15.1424 19.75 15.1422 19.75 15.142C19.75 15.1417 19.75 15.1414 19.75 15.1411C19.75 15.1405 19.75 15.1397 19.75 15.1389C19.7499 15.1373 19.7499 15.1354 19.7499 15.1331C19.7499 15.1287 19.7498 15.123 19.7497 15.1162C19.7495 15.1026 19.7491 15.0843 19.7483 15.0617C19.7467 15.0165 19.7437 14.9539 19.738 14.8762C19.7265 14.721 19.7039 14.5045 19.6594 14.2467C19.571 13.7345 19.3929 13.0408 19.0292 12.3384L17.6972 13.0281ZM0.999999 15.8928L19 15.8929V14.3929L1 14.3928L0.999999 15.8928Z"})),qz=null,gd=({children:n,dismissKey:t,dismissDurationInSeconds:r,beforeDismiss:i,className:a,level:M="info"}={})=>{const[k,F]=(0,HH.Z)(t,r,i);if(!k)return(0,e.h)("div",{className:l()("banner",M,a)},n,(0,e.h)(S.Z,{width:12,height:12,className:"banner-close",onClick:B=>{B.preventDefault(),B.stopPropagation(),F()}}))},eG=null,tG=()=>(useEffect(()=>{track(EVENTS.GO_PAID_CTA_SHOWN,{type:"banner"})},[]),h(gd,{dismissKey:"go-paid-banner.dismissed",dismissDurationInSeconds:3*WEEK_IN_SECONDS,beforeDismiss:()=>{track(EVENTS.GO_PAID_CTA_DISMISSED,{type:"banner"})}},h(BellIcon,{stroke:"var(--print_pop)",fill:"var(--print_pop)",strokeWidth:0,className:"go-paid-banner-bell"}),h("a",{href:"/publish/settings#connect",native:!0,onClick:()=>{track(EVENTS.GO_PAID_CTA_CLICKED,{type:"banner"})}},"Turn on paid subscriptions")," ",h("span",{className:"go-paid-banner-text"},"to get paid for your writing"))),nG=({action:n="connect"})=>{const{getConfigFor:t}=useSiteConfigs(),[r,i]=useState(!1);return r||!t("twitter_connect_flows_enabled")?null:h(gd,{level:"setup",dismissKey:"setup-twitter-banner.dismissed",beforeDismiss:()=>{track(EVENTS.SETUP_TWITTER_CTA_DISMISSED,{type:"banner"})}},h("div",{className:"setup-twitter-banner-header"},"Help more readers discover your writing"),h("p",null,"Connect your Twitter account so we can notify your followers about your Substack."),n==="connect"&&h(Button,{className:"twitter-button centered-icon",onClick:()=>{track(EVENTS.SETUP_TWITTER_CTA_CONNECT_CLICKED,{type:"banner"}),location.href=getConnectTwitterUrl({type:"connect_pub"})}},"Connect Twitter"),n==="set-discoverable"&&h(FancyForm,{className:"minimal",action:"/api/v1/twitter/set-discoverable",method:"put",onSuccess:()=>i(!0)},h("input",{type:"hidden",name:"d",value:"true"}),h(Button,{className:"twitter-button centered-icon",type:"Submit",onClick:()=>track(EVENTS.SETUP_TWITTER_CTA_SETDISCOVERABLE_CLICKED,{type:"banner"})},"Turn on Discoverability")),h("div",{className:"twitter-permission-notice"},"We never tweet without your explicit permission"))},qH=()=>(0,e.h)(gd,{level:"coming-soon",dismissKey:"coming-soon-banner.dismissed",beforeDismiss:()=>{jn().put("/api/v1/publication_settings").send({seen_coming_soon_explainer:!0})}},(0,e.h)("div",{className:"coming-soon-banner-header"},"Welcome to Substack!"),(0,e.h)("br",null),(0,e.h)("p",null,`We've created this "Coming Soon" post for you. To edit it, click the three-dot icon.`),(0,e.h)("br",null),(0,e.h)("p",null,`It's just a placeholder and won't be sent out to your subscribers. To email them, click the "New Post" button.`)),rG=({children:n,className:t,level:r="info",onClose:i}={})=>{const[a,M]=useState(!1);if(!(a&&r!=="error"))return h("div",{className:classnames("banner",r,t)},n,r!=="error"&&h(CloseIcon,{width:12,height:12,className:"banner-close",onClick:k=>{k.preventDefault(),k.stopPropagation(),i&&i(),M(!0)}}))},oG=({featureName:n,featureLink:t,preText:r,linkedText:i,postText:a,children:M})=>{useEffect(()=>{track(EVENTS.FEATURE_ANNOUNCEMENT_BANNER_SHOWN,{type:n})},[n]);const k=isMobileBrowser();return h(gd,{level:"new-feature",dismissKey:"new-feature-banner.dismissed",dismissDurationInSeconds:3*WEEK_IN_SECONDS},!k&&M,h("p",{className:"new-feature-banner-text"},r," ",h("a",{href:t,native:!0,onClick:()=>{track(EVENTS.FEATURE_ANNOUNCEMENT_BANNER_CLICKED,{type:n})}},i)," ",a))};var eV=Et(65207),tV=Object.defineProperty,nV=Object.defineProperties,rV=Object.getOwnPropertyDescriptors,K2=Object.getOwnPropertySymbols,oV=Object.prototype.hasOwnProperty,iV=Object.prototype.propertyIsEnumerable,$2=(n,t,r)=>t in n?tV(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,aV=(n,t)=>{for(var r in t||(t={}))oV.call(t,r)&&$2(n,r,t[r]);if(K2)for(var r of K2(t))iV.call(t,r)&&$2(n,r,t[r]);return n},sV=(n,t)=>nV(n,rV(t));const lV=n=>(0,e.h)(L.l,sV(aV({},n),{name:"LucideExternalLink",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)(eV.Z,{height:24,stroke:n.stroke,fill:n.fill,strokeWidth:n.strokeWidth}));var uV=Object.defineProperty,cV=Object.defineProperties,dV=Object.getOwnPropertyDescriptors,z2=Object.getOwnPropertySymbols,fV=Object.prototype.hasOwnProperty,pV=Object.prototype.propertyIsEnumerable,G2=(n,t,r)=>t in n?uV(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,hV=(n,t)=>{for(var r in t||(t={}))fV.call(t,r)&&G2(n,r,t[r]);if(z2)for(var r of z2(t))pV.call(t,r)&&G2(n,r,t[r]);return n},mV=(n,t)=>cV(n,dV(t));const _V=n=>(0,e.h)(L.l,mV(hV({},n),{name:"ShareFacebookBoxedIcon",svgParams:{height:17,width:16,viewBox:"10 0 10 26"}}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15,3C8.373,3,3,8.373,3,15c0,6.016,4.432,10.984,10.206,11.852V18.18h-2.969v-3.154h2.969v-2.099c0-3.475,1.693-5,4.581-5 c1.383,0,2.115,0.103,2.461,0.149v2.753h-1.97c-1.226,0-1.654,1.163-1.654,2.473v1.724h3.593L19.73,18.18h-3.106v8.697 C22.481,26.083,27,21.075,27,15C27,8.373,21.627,3,15,3z"}));var gV=Et(7775),vV=Et(74957);const th={toast:"frontend-components-prompts-WriterShareModal-module__toast--Vdu8m",cta:"frontend-components-prompts-WriterShareModal-module__cta--ozgSr",modal:"frontend-components-prompts-WriterShareModal-module__modal--XLKpl"};var yV=Object.defineProperty,bV=Object.defineProperties,PV=Object.getOwnPropertyDescriptors,Z2=Object.getOwnPropertySymbols,EV=Object.prototype.hasOwnProperty,wV=Object.prototype.propertyIsEnumerable,Y2=(n,t,r)=>t in n?yV(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,bu=(n,t)=>{for(var r in t||(t={}))EV.call(t,r)&&Y2(n,r,t[r]);if(Z2)for(var r of Z2(t))wV.call(t,r)&&Y2(n,r,t[r]);return n},J2=(n,t)=>bV(n,PV(t));const X2="https://twitter.com",Q2=()=>{const n=(0,ii.pm)();return(t,r=null)=>n.popToast(i=>(0,e.h)(ii.FN,J2(bu({},i),{className:th.toast,text:t,cta:r})))},CV=({post:n,publication:t,autoSharedOnTwitter:r,showAfter:i,publicationTwitterScreenName:a,authorVersion:M})=>{const k=(0,o.sO)(null),[F,B]=(0,o.eJ)(!0),Y=Q2();(0,o.d4)(()=>{r&&Y("Post shared to Twitter",a?(0,e.h)("a",{className:th.cta,href:`${X2}/${a}`,target:"_blank",rel:"noopener"},"View"):null)},[]);const ge=()=>{B(!1)};return!F&&i?i:(0,e.h)(Mt.Z,{testID:"share-modal",openByDefault:!0,className:l()("force-light-theme",th.modal),ref:k,variant:"structured",modalTitle:`Share your ${M?"substack:":"post:"}`,modalFooter:(0,e.h)(ua.z,{variant:M?"primary":"secondary",look:"button",onClick:Ce=>{Ce.preventDefault(),k.current.close()}},M?"View Dashboard":"View post"),onBeforeClose:ge},(0,e.h)("div",{className:"author-post-share-container author-post-share-container--fullscreen author-post-share-container--publish"},(0,e.h)("div",{className:"author-post-share__check-container"},(0,e.h)(Wl.Z,{size:20,strokeWidth:2})),(0,e.h)("h5",null,M?"Share your Substack with your friends, fans, and communities":"Your post has been published! It\u2019s time to get the word out"),!M&&(0,e.h)("div",{className:"tw-mb-8"},(0,e.h)(SV,{modalRef:k})),(0,e.h)(OV,{post:n,publication:t,hideEmailOption:!M,trackingParams:{sd:"pf"},autoSharedOnTwitter:r,authorVersion:M})))},OV=({post:n,publication:t,hideEmailOption:r=!1,trackingParams:i,autoSharedOnTwitter:a,authorVersion:M})=>{const k=M?(0,p.getBaseUrl)(t):n.canonical_url,F=Y=>{(0,C.j)(C.FP.SHARE_LINK_CLICKED,{name:Y,post_id:n==null?void 0:n.id,source:"fullscreen-author-share-dialog"})},B=Q2();return(0,e.h)(e.Fragment,null,(0,e.h)(Pu,{onClick:()=>{F("facebook"),window.open(`https://www.facebook.com/sharer/sharer.php?${(0,p.serializeQuery)({u:(0,p.updateQuery)(k,bu({utm_source:"facebook"},i))})}`)},className:"share facebook"},(0,e.h)("button",{className:"button tw-w-full"},(0,e.h)(_V,{height:16,fill:"#256fe2",stroke:"white",strokeWidth:1}),"Share on Facebook")),!a&&(0,e.h)(Pu,{onClick:()=>{F("twitter"),window.open(`${X2}/share?${(0,p.serializeQuery)({url:(0,p.updateQuery)(k,bu({utm_source:"twitter"},i))})}`)},className:"share twitter"},(0,e.h)("button",{className:"button tw-w-full"},(0,e.h)(en.Z,{height:16,fill:"#1DA1F2",stroke:"#1DA1F2",strokeWidth:0}),"Share on Twitter")),(0,e.h)(Pu,{onClick:()=>{(0,O.copyToClipboard)((0,p.updateQuery)(k,i)),F("copy"),B("Link copied to clipboard")},className:"share copy"},(0,e.h)("button",{className:"button short-button tw-w-full"},(0,e.h)(gV.Z,{height:16,strokeWidth:0,fill:"black"}),"Copy Link")),!r&&(0,e.h)(Pu,{onClick:()=>{F("email"),window.open(`mailto:?${(0,p.serializeQuery)({subject:M?`Check out ${t.name}`:n.title,body:(0,p.updateQuery)(k,bu({utm_source:"email"},i))})}`)},className:"share email"},(0,e.h)("button",{className:"button short-button tw-mb-8 tw-w-full"},(0,e.h)(vV.Z,{height:16,strokeWidth:0,fill:"black"}),"Share with email")),!M&&(0,e.h)(Pu,{onClick:()=>{F("media-assets"),window.open(`${(0,p.getPostUrl)(t,n)}/media-assets`)},className:"share press-kit"},(0,e.h)("button",{className:"button tw-w-full"},(0,e.h)(lV,{stroke:"#404040",fill:"white"}),"View shareable images")))},Pu=n=>(0,e.h)("a",J2(bu({},n),{native:!0})),SV=({modalRef:n})=>{var t,r,i;let a="";typeof window!="undefined"&&(a=window.location.host);const M=(t=document.head.querySelector('meta[property="og:image"]'))==null?void 0:t.content,k=(r=document.head.querySelector('meta[property="og:title"]'))==null?void 0:r.content,F=(i=document.head.querySelector('meta[property="og:description"]'))==null?void 0:i.content;return(0,e.h)("div",{onClick:()=>{n.current.close()},className:"overflow-hidden tw-cursor-pointer tw-rounded-xl tw-border tw-border-solid tw-border-substack-detail"},M&&(0,e.h)("div",{className:"tw-border-0 tw-border-b tw-border-solid tw-border-substack-detail"},(0,e.h)("img",{src:M,className:"social-media-share-preview__image"})),(0,e.h)("div",{className:"tw-p-3"},(0,e.h)("div",{className:"tw-text-sm tw-font-bold tw-text-substack-secondary"},a),(0,e.h)("div",{className:"tw-text-base tw-font-bold tw-text-substack-primary"},k),(0,e.h)("div",{className:"social-media-share-preview__description tw-text-sm tw-font-medium tw-text-substack-secondary"},F)))},TV=CV;var IV=Object.defineProperty,xV=Object.defineProperties,MV=Object.getOwnPropertyDescriptors,q2=Object.getOwnPropertySymbols,DV=Object.prototype.hasOwnProperty,AV=Object.prototype.propertyIsEnumerable,eE=(n,t,r)=>t in n?IV(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,tE=(n,t)=>{for(var r in t||(t={}))DV.call(t,r)&&eE(n,r,t[r]);if(q2)for(var r of q2(t))AV.call(t,r)&&eE(n,r,t[r]);return n},NV=(n,t)=>xV(n,MV(t)),RV=(n,t,r)=>new Promise((i,a)=>{var M=B=>{try{F(r.next(B))}catch(Y){a(Y)}},k=B=>{try{F(r.throw(B))}catch(Y){a(Y)}},F=B=>B.done?i(B.value):Promise.resolve(B.value).then(M,k);F((r=r.apply(n,t)).next())});const LV=({pub:n,pubsToRecommend:t})=>{const[r,i]=(0,o.eJ)(!0),[a,M]=(0,o.eJ)(!0),[k,F]=(0,o.eJ)((t||[]).reduce((Ue,Ye)=>NV(tE({},Ue),{[Ye.id]:!0}),{})),B=()=>{i(!r),M(!1)},Y=Ue=>{const Ye=tE({},k);Ye[Ue]=!Ye[Ue],F(Ye)},ge=()=>RV(void 0,null,function*(){try{const Ue=Object.keys(k).filter(Ye=>k[Ye]===!0).map(Ye=>Number(Ye));yield jn().put("/api/v1/recommendations/multiple").send({recommending_publication_id:n.id,recommended_publication_ids:Ue,source:"post_publish_cta",suggested:Ue.map(()=>!0)}),Ue.length&&(0,ms.ZP)(`Recommended ${(0,nn.pluralize)(Ue.length,"publication")}`,{timeout:1500}),B()}catch(Ue){console.error("Failed to add recommendations: ",Ue),B()}});let Ce,Se;return t!=null&&t.length&&(Ce=(Object.values(k).filter(Ue=>Ue===!0)||[]).length,Se=`Do you want to recommend ${t[0].name}${t.length>1?` and ${t.length-1} other ${(0,nn.pluralize)(t.length-1,"publication",{just_word:!0})}`:""}?`),(0,e.h)(e.Fragment,null,a?(0,e.h)(ra.u_,{isOpen:r,onClose:B},(0,e.h)(ra.xB,{onClose:B,title:Se}),(0,e.h)(ra.fe,null,(0,e.h)("div",{className:"recommend-linked-publication-modal-container"},(0,e.h)("p",{className:"subtitle"},"Since you embedded"," ",t.length>1?`${t.length} publications`:t[0].name," on your post, we thought you might want to recommend them to your readers"),t&&t.length&&t.map((Ue,Ye)=>(0,e.h)("div",{className:l()("recommend-publication-container",{last:Ye===t.length-1}),onClick:()=>Y(Ue.id)},(0,e.h)(Nn.Z,{pub:Ue,size:40,logo_url:Ue.logo_url,openInNewTab:!0}),(0,e.h)("div",{className:"publication-name-author"},(0,e.h)("a",{className:"publication-name",href:(0,p.getBaseUrl)(Ue),target:"_blank"},Ue.name),(0,e.h)("p",{className:"author-name"},(0,nn.getByLine)(Ue))),(0,e.h)(j_.p,{checked:k[Ue.id]?k[Ue.id]:!1}))))),(0,e.h)(ra.mz,{alignment:"center",primaryButton:(0,e.h)(ua.z,{onClick:ge,variant:"primary"},Ce===0?"Continue":`Recommend ${(0,nn.pluralize)(Ce,"publication")}`),secondaryButton:(0,e.h)(ua.z,{onClick:B,variant:"secondary"},"Maybe later")})):null)};class BV extends e.Component{isSubscribed(){const{user:t}=this.props;return t&&t.is_subscribed}isFreeSubscribed(){const{freeSignup:t,user:r}=this.props;return t||r&&r.is_free_subscribed&&!r.is_contributor}onFreeSubscribe(t){if(this.props.publication.plans){let r=(0,p.getSubscribeUrl)(this.props.publication,{just_signed_up:!0,referral_token:t.body.referral_token});t.body.prompt_to_login&&(r=`/account/login?redirect=${encodeURIComponent(r)}&email=${encodeURIComponent(t.body.email)}`),document.location.href=r}else window.location.reload()}render({publication:t,user:r,freeSignupEmail:i,features:a,iString:M}){if(!(this.isSubscribed()||this.isFreeSubscribed()&&!t.plans))return(0,e.h)("div",{className:"subscribe-footer"},(0,e.h)("div",{className:"container"},(0,e.h)("p",null,M("Ready for more?")),this.isFreeSubscribed()?(0,e.h)("div",null,(0,e.h)("a",{className:"cta",href:(0,p.getSubscribeUrl)(t,{utm_source:"ready-for-more"}),native:!0},(0,e.h)($t.Z,{className:"primary"},(0,e.h)("b",null,(0,nn.getSubscribeText)(t))))):(0,e.h)(y.gq,{justifyContent:"center"},(0,e.h)("div",null,(0,e.h)(Be.Z,{freeSignupEmail:i,onAccentBackground:!0,pub:t,source:"subscribe_footer",submitButtonText:(0,nn.getSubscribeText)(t),user:r,onSuccess:this.onFreeSubscribe.bind(this)})))))}}const kV=(0,P.fz)(BV);var UV=(n,t,r)=>new Promise((i,a)=>{var M=B=>{try{F(r.next(B))}catch(Y){a(Y)}},k=B=>{try{F(r.throw(B))}catch(Y){a(Y)}},F=B=>B.done?i(B.value):Promise.resolve(B.value).then(M,k);F((r=r.apply(n,t)).next())});function sG(n,t={}){n=n||getQueryItem("selection");const{isLoading:r,error:i,result:a}=useFetch({pathname:`/api/v1/post_selection/${n}`,auto:!!n,deps:[n]});return{isLoading:r,error:i,postSelection:a!=null?a:null,highlightSelection:()=>{a&&nE(a,t)}}}function FV(n){return UV(this,arguments,function*(t,r={}){t=t||(0,p.getQueryItem)("selection");let i=null;try{i=yield(0,Ot.rd)(`/api/v1/post_selection/${t}`,{})}catch(a){}i&&nE(i,r)})}function nE(n,t={}){var r,i;if(t.ignoreSafari&&(0,O.isSafari)()||!n.text)return;const a=(i=(r=/^[^.]+\./.exec(n.text))==null?void 0:r[0])!=null?i:n.text;if(!a)return;const M=`#:~:text=${encodeURIComponent(a)}`;history.replaceState({},document.title,M),document.location.hash=M}const jV=n=>{const{delayFirstLoad:t,filterPosts:r,isBelowTheFold:i,maxPosts:a,pub:M,search:k,sort:F,sortTabs:B,source:Y,user:ge}=n;return(0,e.h)(y.xu,{paddingY:24},(0,e.h)(ed,{delayFirstLoad:t,filterPosts:r,isBelowTheFold:i,maxPosts:a,pub:M,search:k,sort:F,sortTabs:B,source:Y,user:ge},({posts:Ce,linkToComments:Se,onClickPost:Ue})=>(0,e.h)(fi,{hideImages:M.theme.hide_images_from_list,linkToComments:Se,posts:Ce,pub:M,user:ge,variant:"two-column-list",onChange:()=>{},onClickPost:Ue})))},pa={container:"frontend-main-scheduled_post_page-module__container--IhNeJ",imageContainer:"frontend-main-scheduled_post_page-module__imageContainer--r8zca",postContainer:"frontend-main-scheduled_post_page-module__postContainer--XGEvi",imagePreview:"frontend-main-scheduled_post_page-module__imagePreview--qfOgy",shareButton:"frontend-main-scheduled_post_page-module__shareButton--QQbjJ",upsellDescription:"frontend-main-scheduled_post_page-module__upsellDescription--WIiTE",countdownContainer:"frontend-main-scheduled_post_page-module__countdownContainer--ozFoc",countdownInnerContainer:"frontend-main-scheduled_post_page-module__countdownInnerContainer--JhNKd",refreshLink:"frontend-main-scheduled_post_page-module__refreshLink--h1Cco"},WV=({post:n,publication:t,user:r,freeSignup:i,freeSignupEmail:a})=>{var M,k,F,B,Y,ge,Ce,Se,Ue;const Ye=(0,o.sO)(),Ve=n.cover_image,at=n.title,pt=n.description,gt=(0,nn.getPrintedByline)(t,n),xt=((M=n.postSchedule)==null?void 0:M.email_audience)==="founding"&&(r==null?void 0:r.is_founding)||((k=n.postSchedule)==null?void 0:k.email_audience)==="only_paid"&&r&&(0,ep.P)(r,t)||((F=n.postSchedule)==null?void 0:F.email_audience)==="everyone"&&(r==null?void 0:r.is_free_subscribed),[Nt,Tt]=(0,o.eJ)(un()((B=n.postSchedule)==null?void 0:B.trigger_at).diff(un()(),"second")),Ut=Math.floor(Nt/60/60/24),qt=Math.floor(Nt/60/60%24),rn=Math.floor(Nt/60%60),ln=Nt%60;return(0,o.d4)(()=>{const yn=setInterval(()=>{var In;Tt(un()((In=n.postSchedule)==null?void 0:In.trigger_at).diff(un()(),"second"))},500);return()=>{clearInterval(yn)}}),(0,e.h)(e.Fragment,null,(0,e.h)(kc,{post:n,publication:t}),(0,e.h)(y.tu,{className:pa.container,alignItems:"center",gap:96,paddingTop:{desktop:64,mobile:32},paddingX:12},(0,e.h)(y.tu,{className:pa.postAndImageContainer,alignItems:"center",gap:32},Ve&&(0,e.h)("div",{className:pa.imageContainer},(0,e.h)("img",{src:Ve,className:pa.imagePreview})),(0,e.h)(y.tu,{className:pa.postContainer,alignItems:"center",gap:4},(0,e.h)(y.xv.H2,{color:"pub-primary-text",align:"center"},at),(0,e.h)(y.xv.B3,{color:"pub-secondary-text",align:"center"},(0,nn.truncateText)(pt,135)),(0,e.h)(y.xv.Meta,{color:"pub-secondary-text",align:"center"},((Y=n.postSchedule)==null?void 0:Y.email_audience)==="founding"?(0,e.h)(e.Fragment,null,(0,e.h)(y.xv.Meta,{as:"span",color:"pub-accent"},"Founding"),"\xA0\xA0","\u2022","\xA0\xA0"):((ge=n.postSchedule)==null?void 0:ge.email_audience)==="only_paid"?(0,e.h)(e.Fragment,null,(0,e.h)(y.xv.Meta,{as:"span",color:"pub-accent"},"Paid"),"\xA0\xA0","\u2022","\xA0\xA0"):"","By ",gt))),(0,e.h)(y.tu,{className:pa.upsellContainer,alignItems:"center"},xt?(0,e.h)(y.gq,{gap:12},(0,e.h)(y.zx,{onClick:()=>{var yn;r!=null&&r.is_admin||r!=null&&r.is_contributor?(0,O.redirect)((0,te.getPostDetailsShareCenterUrl)(t,n.id),{local_navigation:!1}):(yn=Ye.current)==null||yn.open()},className:pa.shareButton,leftIcon:(0,e.h)(Ay.Z,null),priority:"primary-theme"},"Share"),r!=null&&r.is_admin||r!=null&&r.is_contributor?(0,e.h)(y.zx,{onClick:()=>{(0,O.redirect)((0,te.getEditPostUrlById)(t,n.id,!!n.editor_v2),{local_navigation:!1})},className:pa.shareButton,leftIcon:(0,e.h)(Zs.Z,null),priority:"secondary-theme"},"Edit Post"):null):(0,e.h)(Qa,{pub:t,post:n,user:r,freeSignup:i,freeSignupEmail:a,isStatic:!1,source:"post-scheduled-page"}),(0,e.h)(y.xv.B3,{className:pa.upsellDescription,color:"pub-primary-text",align:"center"},"Publishes on ",un()((Ce=n.postSchedule)==null?void 0:Ce.trigger_at).format("MMMM Do, h:mma"),"."," ",r!=null&&r.is_admin||r!=null&&r.is_contributor?"":xt?"You\u2019ll receive this post in your inbox when it\u2019s live. Meanwhile, help spread the word!":((Se=n.postSchedule)==null?void 0:Se.email_audience)==="founding"&&(r!=null&&r.is_free_subscribed)?"Upgrade to founding and receive this post in your inbox when it\u2019s live":((Ue=n.postSchedule)==null?void 0:Ue.email_audience)==="only_paid"&&(r!=null&&r.is_free_subscribed)?"Upgrade to paid and receive this post in your inbox when it\u2019s live":"Subscribe now and recieve the post in your inbox when it\u2019s live"))),(0,e.h)("div",{className:pa.countdownContainer},(0,e.h)(y.tu,{className:pa.countdownInnerContainer,alignItems:"center",gap:4},Nt>0?(0,e.h)(y.xv.B3,{color:"pub-secondary-text",align:"center"},"Available in ",Ut>0?`${(0,nn.pluralize)(Ut,"day")}, `:"",Ut>0||qt>0?`${(0,nn.pluralize)(qt,"hour")}, `:"",Ut>0||qt>0||rn>0?`${(0,nn.pluralize)(rn,"minute")}${Ut>0||qt>0?",":""} and `:"",(0,nn.pluralize)(ln,"second")):(0,e.h)(y.xv.B3,{color:"pub-secondary-text",align:"center"},"Available now!"," ",(0,e.h)(y.xv.B3,{as:"a",color:"pub-secondary-text",align:"center",onClick:()=>{location.reload()},className:pa.refreshLink,decoration:"underline"},"Refresh to see the post"),"."))),(0,e.h)(rl.ZP,{ref:Ye,user:r,pub:t,post:n}))};var HV=Object.defineProperty,VV=Object.defineProperties,KV=Object.getOwnPropertyDescriptors,rE=Object.getOwnPropertySymbols,$V=Object.prototype.hasOwnProperty,zV=Object.prototype.propertyIsEnumerable,nh=(n,t,r)=>t in n?HV(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,GV=(n,t)=>{for(var r in t||(t={}))$V.call(t,r)&&nh(n,r,t[r]);if(rE)for(var r of rE(t))zV.call(t,r)&&nh(n,r,t[r]);return n},ZV=(n,t)=>VV(n,KV(t)),As=(n,t,r)=>(nh(n,typeof t!="symbol"?t+"":t,r),r),vd=(n,t,r)=>new Promise((i,a)=>{var M=B=>{try{F(r.next(B))}catch(Y){a(Y)}},k=B=>{try{F(r.throw(B))}catch(Y){a(Y)}},F=B=>B.done?i(B.value):Promise.resolve(B.value).then(M,k);F((r=r.apply(n,t)).next())});class rh extends e.Component{constructor(t,r){super(t,r),As(this,"updateSubscribeTakeover",()=>{const a=this.props.publication.id,M=`pub-${a}-subscribe-prompt-next-shown-at`,k=`pub-${a}-takeover-next-shown-at`,F=(0,Ai.mM)(k),B=!F||Date.now()>=F;(0,O.isWindowVisible)()?this.state.subscribeTakeOverTimer&&(B&&Date.now()-this.state.subscribeTakeOverTimer>=2*60*1e3&&this.setState({showSubscribeTakeover:!0}),this.setState({subscribeTakeOverTimer:null}),(0,Ai.ex)(M,un()().add(1,"hour").valueOf()),(0,Ai.ex)(k,un()().add(1,"hour").valueOf())):this.state.subscribeTakeOverTimer||this.setState({subscribeTakeOverTimer:new Date})}),As(this,"onChangeComment",a=>{this.setState({comments:Jl(this.state.comments,a)})}),As(this,"onVisible",a=>{const M=`${a} Seen`;this.state.post&&(this.state[M]||(this.setState({[M]:!0}),(0,C.j)(M,{post_id:this.state.post.id,post_audience:this.state.post.audience,post_type:this.state.post.type})))}),As(this,"_inlineComments",()=>{const{inlineComments:a,publication:M}=this.props;return a||(0,nn.shouldUseInlineComments)(M,this.state.post||this.props.post)}),As(this,"fillEmbeddedEmailInputs",()=>{var a;const M=document.querySelectorAll('article.post input[type="email"]'),k=((a=this.state.user)==null?void 0:a.email)||this.props.freeSignupEmail;if(k)for(const F of M)F.value=k;this.setState({embeddedEmailInputsFilled:!0})});let{user:i}=t;this.I18N=I18N.i({pub:t.publication}),t.postPreview&&(i=ZV(GV({},i),{is_draft:!1,is_subscribed:t.postPreview!=="free",is_founding:t.postPreview==="founding"})),t.post&&[t.post.slug,t.post.uuid].filter(a=>a).includes(t.slug)&&!this.shouldRedirectToComments(t.post)?this.state={post:t.post,comments:t.renderedComments,user:i}:this.state={post:null,comments:null,user:i}}componentDidMount(){return vd(this,null,function*(){(0,O.scrollToHash)(),this.cleanUpTikTokEnhanceListener=Fp();const t=this.props.post&&[this.props.post.slug,this.props.post.uuid].filter(r=>r).includes(this.props.slug)&&this.props.post;this.shouldPageShowSmartBanner(),this.shouldRedirectToComments(t)?this.redirectToComments(t):this.state.post||(yield this.loadPost()),this.triggerShareOnLoad(),this.checkMetaForSmartBanner(),this.fillEmbeddedEmailInputs(),this.props.justPublished&&((0,O.removeQueryParam)("justPublished"),(0,O.preloadImage)(fp(this.props.publication,this.props.post)[0])),(this.props.embeddedPostPublications||this.props.embeddedPostPublications==="")&&(0,O.removeQueryParam)("embeddedPostPublications"),this.props.autoSharedOnTwitter&&(0,O.removeQueryParam)("autoSharedOnTwitter"),this.props.showRestackModal&&(0,O.removeQueryParam)("showRestackModal"),this.props.action&&(0,O.removeQueryParam)("action"),this.props.showWelcome||(0,O.onWindowVisibilityChange)(this.updateSubscribeTakeover),this.props.selectionFromQuery&&FV(this.props.selectionFromQuery)})}componentWillUnmount(){var t;(t=this.cleanUpTikTokEnhanceListener)==null||t.call(this),(0,O.offWindowVisibilityChange)(this.updateSubscribeTakeover)}componentDidUpdate(t){return vd(this,null,function*(){t.slug!==this.props.slug&&this.loadPost(),this.state.embeddedEmailInputsFilled||this.fillEmbeddedEmailInputs()})}isPostSSRd(){return!!this.props.post}shouldPageShowSmartBanner(){var t,r,i;let a=!!document.querySelector('meta[name="apple-itunes-app"]');!a&&this.isPostSSRd()&&!((t=this.state.user)!=null&&t.reader_installed_at)&&(0,D.isIos)()&&(this.context.exposeExperiment("apple_smart_banners_on_post_pages"),a=this.context.getExperimentVariant("apple_smart_banners_on_post_pages")==="treatment"||((r=this.state.user)==null?void 0:r.id)===263713||((i=this.props.publication)==null?void 0:i.subdomain)==="thirdcluster"),this.setState({pageCanShowSmartBanner:a})}shouldRedirectToComments(t){if(t&&t.type==="thread")return!0}redirectToComments(t){(0,v.route)((0,p.getPostUrl)(this.props.publication,t,{comments:!0,noBase:!0}),!0)}loadPost(){return vd(this,null,function*(){if(this.setState({embeddedEmailInputsFilled:!1}),this.props.post&&[this.props.post.slug,this.props.post.uuid].filter(t=>t).includes(this.props.slug)&&!this.shouldRedirectToComments(this.props.post))this.setState({post:this.props.post,comments:this.props.renderedComments},()=>(0,O.scrollToHash)());else{this.setState({post:null,comments:null});try{const t=yield jn().get(`/api/v1/posts/${this.props.slug}`).query({postPreview:this.props.postPreview});this.shouldRedirectToComments(t.body)?this.redirectToComments(t.body):(yield(0,O.setState)(this,{post:t.body,comments:t.body.comments,stateThemeVariables:t.body.themeVariables}),(0,O.scrollToHash)())}catch(t){console.error("Failed to load post:",t),t.status===404?this.setState({notFound:!0}):alert((0,O.getNetworkErrorMessage)(t))}}})}triggerShareOnLoad(){if((0,p.getQueryItem)("action")==="share")window.history.replaceState({},document.title,(0,p.updateQuery)({action:null}));else return;this.post&&this.post.triggerShare({fromEmail:!0})}checkMetaForSmartBanner(){document.querySelector('meta[name="apple-itunes-app"]')&&(0,D.isIos)()&&this.setState({pageMayShowSmartBanner:!0})}render({slug:t,freeSignup:r,freeSignupEmail:i,publication:a,reaction_token:M,hide_intro_popup:k,freewallVariant:F,unlock:B,sort:Y,search:ge,children:Ce,showWelcome:Se,justPublished:Ue,autoSharedOnTwitter:Ye,readerIsSearchCrawler:Ve,postPreview:at,truncatedPost:pt,selectionFromQuery:gt,embeddedPublications:xt,siteConfigs:Nt={},freeTrialCoupon:Tt,showRestackModal:Ut,action:qt,publicationSettings:rn,show_reaction_upsell:ln,stripe_publishable_key:yn,bannedFromNotes:In,themeVariables:En},{comments:Yn,notFound:kn,post:bn,user:er,showSubscribeTakeover:rr,stateThemeVariables:Vn,pageCanShowSmartBanner:ar}){const{iString:Jn,iTemplate:Qn}=this.I18N,Ln=this._inlineComments(),qn=bn!=null&&bn.audience?(0,Tr.userHasFullAccessToPost)(er,bn):!0,Pn=(er==null?void 0:er.is_subscribed)&&qn,Xn=bn&&bn.slug&&bn.slug!=="coming-soon"&&bn.type!=="page",Gt=(0,nn.commentsEnabledForPost)({publication:a,post:bn}),lr=(0,nn.showCommentsOnPost)({publication:a,post:bn}),Tn=Pn||(er==null?void 0:er.is_free_subscriber)||r,Er=(B||(bn==null?void 0:bn.free_unlock_required))&&!Tn&&["treatment_short","treatment_long"].includes(F),Gr=Vn||En,or=er&&er.is_contributor&&(bn==null?void 0:bn.slug)=="coming-soon"&&!(rn!=null&&rn.seen_coming_soon_explainer);Er&&(pt?bn.body_html=pt.body_html:bn.truncatedBody&&(bn.body_html=bn.truncatedBody));const Fr=(bn==null?void 0:bn.type)==="podcast",fr=!(bn!=null&&bn.hidden)&&((0,nn.isUUID)(t)||Pn||Ve||bn&&!(0,Tr.isPaidAudience)(bn.audience)&&!Er||bn&&!bn.slug&&!Er),_r=!fr||(er==null?void 0:er.is_contributor)&&bn&&(0,Tr.isPaidAudience)(bn.audience),lo=Ue&&(er==null?void 0:er.is_contributor)&&!this.props.publication.invite_only&&!["page"].includes(bn.type);return bn!=null&&bn.is_scheduled?(0,e.h)(WV,{freeSignup:r,freeSignupEmail:i,user:er,post:bn,publication:a}):(0,e.h)("div",null,qt==="restack-comment"&&(0,e.h)(XV,{post:bn,pub:a}),(0,e.h)(JV,{pub:a,post:bn}),Se||rr?(0,e.h)(Re,{freeSignup:r,freeSignupEmail:i,user:er,post:bn,publication:a,hidden:k||Er}):null,bn&&a&&!Ve&&!ar&&(0,e.h)(KH,{subdomain:a.subdomain,post:bn}),or&&(0,e.h)(qH,null),(0,e.h)("div",{className:l()("single-post-container")},(0,e.h)("div",{className:l()({container:!Fr})},(0,e.h)("div",{className:"single-post"},(0,e.h)(kc,{post:bn,publication:a,selection:gt,siteConfigs:Nt,pageCanShowSmartBanner:ar}),bn?(0,e.h)(xp,{ref:Kr=>{this.post=Kr},commentsEnabled:Gt,postPreview:at,showComments:lr,user:er,post:bn,pub:a,freeSignup:r,freeSignupEmail:i,reaction_token:M,disableSubscribePrompt:Se&&!(k||Er),paywall:fr?!1:Er?{email_form:!0,autoFocus:!1,title:bn.type==="podcast"?Qn`Subscribe for free to ${a.name} to unlock this episode`:Qn`Subscribe for free to ${a.name} to unlock this post`}:!0,noTitleLink:!0,onChange:Kr=>this.setState(Kr),fromPostPage:!0,freeTrialCoupon:Tt,showRestackModal:!!Ut,stripe_publishable_key:yn,readerIsSearchCrawler:Ve,themeVariables:Gr}):kn?(0,e.h)("p",{className:"main-loader"},Jn("Post not found")):(0,e.h)(yb,{pub:a}),Ce)),Xn&&fr&&[lr&&!Fr&&(0,e.h)(YV,{commentsEnabled:Gt,comments:Yn,post:bn,slug:t,user:er,freeSignup:r,freeSignupEmail:i,publication:a,reaction_token:M,onVisible:this.onVisible,onChangeComment:this.onChangeComment,inlineComments:Ln,selectionFromQuery:gt,onChange:Kr=>this.setState(Kr),bannedFromNotes:In}),a.has_posts&&(0,e.h)("div",{className:"single-post-section"},(0,e.h)("div",{className:"container"},(0,e.h)(ce,{onVisible:()=>this.onVisible("Top Posts Footer")}),(0,e.h)(jV,{user:er,freeSignup:r,freeSignupEmail:i,pub:a,maxPosts:!_r&&!Pn&&!(Tn&&!a.plans)?3:10,filterPosts:Kr=>Kr.id!==bn.id,sort:Y,search:ge,stateInUrl:!0,sortTabs:Kr=>{const zr=Kr.findIndex(Ci=>Ci.id==="top");if(zr!==-1)return[Kr[zr]].concat(Kr.filter((Ci,Ho)=>Ho!==zr))},delayFirstLoad:1e3,source:"post",isBelowTheFold:!0}))),!_r&&[(0,e.h)(ce,{onVisible:()=>this.onVisible("Subscribe Footer")}),(0,e.h)(kV,{publication:a,user:er,freeSignupEmail:i,freeSignup:r})]],lo?(0,e.h)(TV,{post:bn,autoSharedOnTwitter:Ye==="true",publicationTwitterScreenName:a.twitter_screen_name,publication:a,showAfter:xt!=null&&xt.length?(0,e.h)(LV,{pub:a,pubsToRecommend:xt}):null}):null,ln?(0,e.h)(U1.hF,{user:er,pub:a,post:bn}):null))}}As(rh,"contextType",ga);class YV extends e.Component{constructor(t,r){super(t,r),As(this,"modalRef",(0,e.createRef)(null)),this.I18N=I18N.i({pub:t.publication}),this.inputRef=(0,e.createRef)(null),this.handleFocusInput=()=>{this.inputRef.current.focus()},this.state={comments:t.comments,reactionSigninComment:null}}componentDidMount(){document.addEventListener(Tp,this.handleFocusInput)}componentWillUnmount(){document.removeEventListener(Tp,this.handleFocusInput)}render({commentsEnabled:t,inlineComments:r,post:i,user:a,freeSignup:M,freeSignupEmail:k,publication:F,reaction_token:B,onVisible:Y,onChangeComment:ge,selectionFromQuery:Ce,slug:Se,onChange:Ue,bannedFromNotes:Ye},{comments:Ve,reactionSigninComment:at}){if(r)return(0,e.h)("div",null,(0,e.h)("div",{className:"full-container-border"}),(0,e.h)(gp,{slug:Se,user:a,freeSignupEmail:k,freeSignup:M,post:i,publication:F,post_reaction_token:B,selectionFromQuery:Ce,initialComments:Ve,inline:!0,onChange:Ue}));const{iPlural:pt,iString:gt}=this.I18N,xt=(Nt,Tt)=>vd(this,null,function*(){return G1({user:a,reactionToken:B,comments:Ve,id:Nt,reacted:Tt,setComments:Ut=>this.setState({comments:Ut}),onNeedsSignin:Ut=>new Promise(qt=>this.setState({reactionSigninComment:Ut},()=>this.modalRef.current.open(qt)))})});return(0,e.h)("div",{className:"single-post-section comments-section"},(0,e.h)("div",{className:"container"},(t||i.comment_count>0)&&(0,e.h)("div",{className:"comments-section-title"},i.comment_count>0?pt("1 Comment","%1 Comments",i.comment_count):gt("Comments")),(0,e.h)(ce,{onVisible:()=>Y("Post Comments Footer")}),t&&(0,e.h)(eu,{user:a,freeSignup:M,freeSignupEmail:k,pub:F,post:i,token:B,ref:this.inputRef,bannedFromNotes:Ye}),Ve.length>0&&!t&&(0,e.h)(z1,{post:i}),Ve&&Ve.length>0&&F.community_enabled&&(0,e.h)(Lc,{className:"post-page-root-comment-list",key:`post:${i.id}`,user:a,freeSignup:M,freeSignupEmail:k,pub:F,post:i,comments:Ve,reaction_token:B,onChange:ge,updateCommentReacted:xt,noRestack:!0}),t&&i.comment_count>(Ve||[]).length&&(0,e.h)("a",{className:"more-comments",href:Xl(i,F)},pt("1 more comment...","%1 more comments...",i.comment_count-(Ve||[]).length)),at&&(0,e.h)(Os.oq,{comment:at,pub:F,user:a,react:()=>xt(at.id,!0),modalRef:this.modalRef})))}}const JV=({pub:n,post:t})=>{if(t)return(0,e.h)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:jd()((0,Wd.Rg)(n,t),{json:!0,isScriptContext:!0})}})};function XV({pub:n,post:t}){const r=(0,Ol.i3)();return(0,o.d4)(()=>{r.open({restackUrl:(0,p.getPostUrl)(n,t)})},[]),null}var yd=Et(80387);const ml={root:"frontend-main-PressKitPage-module__root--dLeu2",pageTitle:"frontend-main-PressKitPage-module__pageTitle--kpiZE",container:"frontend-main-PressKitPage-module__container--zXRkh",imageContainer:"frontend-main-PressKitPage-module__imageContainer--ha3vh",divider:"frontend-main-PressKitPage-module__divider--RPKz6",text:"frontend-main-PressKitPage-module__text--H7Zpf",textFooter:"frontend-main-PressKitPage-module__textFooter--XdCwH",textWithGreyBox:"frontend-main-PressKitPage-module__textWithGreyBox--vRGlY"},QV=n=>{const t=n.themeVariables,r=t.web_bg_color||t.cover_bg_color,i=n.post.cover_image||n.publication.cover_photo_url,[a,M]=(0,o.eJ)("square");return(0,o.d4)(()=>{(0,C.j)(C.FP.WRITER_MEDIA_ASSETS_PAGE_VISITED,{post_id:n.post.id})},[n.post.id]),(0,e.h)("div",{className:ml.root},(0,e.h)(I.xv.H2,{color:"pub-primary-text",className:ml.pageTitle},"Share ",n.post.title),(0,e.h)(I.xv.B3,{color:"pub-primary-text",className:ml.text},"We\u2019ve generated custom images to help you promote your post on other social networks. Download your images and share with a link to your post!"),(0,e.h)(he.gq,{paddingY:24,gap:8,alignItems:"center"},(0,e.h)(I.xv.B4,{weight:"semibold",color:"pub-primary-text"},"Aspect Ratio:"),(0,e.h)(y.gu,{name:"aspectRatio",value:a,onChange:M,options:[{value:"square",label:"Square"},{value:"instagram",label:(0,D.isMobile)()?"Insta":"Instagram"},{value:"stories",label:(0,D.isMobile)()?"IG Stories":"Instagram Stories"}],horizontal:!0,labelProps:{color:"pub-primary-text"}})),(0,e.h)(he.tu,{justifyContent:"center",className:ml.container},(0,e.h)(he.gq,{paddingBottom:16,alignItems:"center",justifyContent:"space-between"},(0,e.h)(I.xv.H4,{color:"pub-primary-text"},n.post.title),!(0,D.isMobile)()&&(0,e.h)(y.zx,{priority:"secondary",leftIcon:(0,e.h)(rp.Z,{stroke:"#404040",size:20}),href:(0,p.pathWithQuery)(`/api/v1/press_kit/all/${n.post.id}`,{aspectRatio:a,isDraft:n.post.is_draft}),newTab:!0},"Download")),(0,e.h)("div",{className:ml.divider}),(0,D.isMobile)()&&(0,e.h)(y.xu,{bg:"secondary",radius:12,color:"secondary",paddingTop:8,paddingBottom:8,style:{"margin-bottom":"16px"}},(0,e.h)(I.xv.B4,{textAlign:"center",color:"pub-secondary-text",fontSize:14},"Press and hold to download an image, or tap to share.")),(0,e.h)(he.hs,{wrap:"wrap",justifyContent:"space-between"},(0,e.h)(yd.Z,{pub:n.publication,post:n.post,style:{bgColor:r,textColor:t.print_on_web_bg_color||t.cover_print_primary||"#1a1a1a",aspectRatio:a},text:"Background Color"}),t.background_pop&&(0,e.h)(yd.Z,{pub:n.publication,post:n.post,style:{bgColor:t.background_pop,textColor:t.print_on_pop,aspectRatio:a},text:"Accent Color"}),i&&(0,e.h)(yd.Z,{pub:n.publication,post:n.post,style:{bgImage:!0,textColor:"#ffffff",aspectRatio:a},text:"Image"}),r.toLowerCase()!=="#ffffff"?(0,e.h)(yd.Z,{pub:n.publication,post:n.post,style:{bgColor:"#ffffff",textColor:"#404040",aspectRatio:a},text:"Black and White"}):null)),(0,e.h)("div",{className:ml.textFooter},(0,e.h)(I.xv.B4,{color:"pub-secondary-text"},"These images are generated from your publication theme colors which you can edit in your"," ",(0,e.h)("a",{href:(0,p.getPublishSettingsUrl)(n.publication,{addBase:!0,section:"theme"})},"publication settings")," ","and the social preview which you can edit in your post settings.")))},oE=({sitemapHeader:n,sitemapDescription:t,sitemapLinks:r})=>(0,e.h)("div",{className:"container typography sitemap-page"},(0,O.setMetaData)({title:n,description:t}),(0,e.h)("h1",null,n),(0,e.h)("div",null,r.map(i=>(0,e.h)("p",null,(0,e.h)("a",{className:"sitemap-link",href:i.href,native:!0},i.text))))),iE={container:"frontend-main-setup_all_podcasts-module__container--r2UWH",noPodcasts:"frontend-main-setup_all_podcasts-module__noPodcasts--W7x7E"},_l=Et(6378),qV=({})=>{const{iString:n}=(0,P.M1)();return(0,e.h)("div",{className:iE.noPodcasts},n("No podcasts."))},oh=(n,t,r)=>{let i=n[t.id];return i||(i=(0,p.getPodcatcherSetupUrl)(t,{section:null,noSection:!1,addBase:!0,user:null,startAtSubscribeFlow:!r||!r.is_free_subscribed,params:{utm_source:"all-podcasts"}})),i},eK=({pub:n,user:t,idToMagicLink:r,openInNewTab:i})=>n.subdomain!=="thebulwark"?null:(0,e.h)(I.xv.B3,{translated:!0,paddingTop:16,paddingBottom:16},(0,e.h)("a",{href:oh(r!=null?r:{},n,t),target:i?"_blank":void 0,rel:"noopener"},"Click here")," ","to set up your podcast app for everything in one feed."),tK=({pub:n,user:t,idToMagicLink:r={},openInNewTab:i=!1,newFormatting:a=!1})=>{const M=[],{iString:k}=(0,P.M1)();_l.isMultiPub(n)?_l.getMultiPubChildPodcasts(n).forEach(Ce=>{const Se=zl(Ce,oh(r,Ce,t));M.push(Se)}):_l.getSectionPodcasts(n)&&_l.getSectionPodcasts(n).forEach(Ce=>{var Se,Ue;if(!Vw({pub:n,section:Ce}))return;const Ye=(0,Sl.getSectionPodcastSettings)({pub:n,section:Ce});if(!Ye.title)return;const Ve={logoUrl:(Se=Ye.artUrl)!=null?Se:void 0,mainClickUrl:(0,p.getPodcastLandingUrl)({pub:n,section:Ce,addBase:!0}),buttonClickUrl:r[Ce.id]||(0,p.getPodcatcherSetupUrl)(n,{section:Ce,noSection:!1,addBase:!0,user:null,startAtSubscribeFlow:!t||!t.is_free_subscribed,params:{utm_source:"all-podcasts"}}),name:Ye.title,description:(Ue=Ye.description)!=null?Ue:"",buttonText:k("Set up podcast")};M.push(Ve)}),Hw(n)&&M.push(zl(n,oh(r,n,t)));const F=Object.keys(r).length>0||!!(t!=null&&t.is_free_subscribed);let B=M.length>1?k("Podcast feeds"):k("Podcast feed");F&&(B=_l.hasMultiplePodcasts(n)?k("Private podcast feeds"):k("Private podcast feed"));const Y=(0,e.h)(he.tu,{radius:12,border:"detail",padding:16},_l.hasPodcast(n)?(0,e.h)(e.Fragment,null,(0,e.h)(Cc,{showButton:!0,items:M,openInNewTab:i,buttonText:k("Set up podcast")}),(0,e.h)(eK,{pub:n,user:t,idToMagicLink:r,openInNewTab:i})):(0,e.h)(qV,null));return a?(0,e.h)(e.Fragment,null,(0,e.h)(I.xv.H4,{paddingTop:20,paddingBottom:8,color:"pub-primary-text"},B),Y):(0,e.h)("div",{className:"container"},(0,e.h)("div",{id:"set-up-podcast"},(0,e.h)(I.xv.H3,{paddingTop:16,paddingBottom:16,color:"pub-primary-text"},B),Y))},nK=({pub:n,user:t,idToMagicLink:r,openInNewTab:i=!1})=>(0,e.h)("div",{className:l()("page","typography",iE.container)},(0,e.h)(tK,{pub:n,user:t,idToMagicLink:r,openInNewTab:i}));function rK({slug:n,pub:t,user:r,freeSignup:i,freeSignupEmail:a,tagPagePreloads:M}){var k,F;const B=!!(t!=null&&t.theme),Y=(0,Ot.ib)({pathname:`/api/v1/publication/post-tag/slug/${n}`,auto:(M==null?void 0:M.slug)!==n,initialResult:(M==null?void 0:M.slug)===n?M.postTag:null,deps:[M,n]});return(0,e.h)(N.ze,{value:{hasThemedBackground:B}},(0,e.h)("div",{className:l()("archive-page typography",{"use-theme-bg":B})},(0,e.h)("div",{className:"container"},Y.isLoading?(0,e.h)("p",{className:"main-loader"},"Loading.."):(0,e.h)(e.Fragment,null,(0,e.h)("h2",null,((k=Y.result)==null?void 0:k.name)||"Page not found"),(0,e.h)(Ap,{user:r,freeSignup:i,freeSignupEmail:a,pub:t,sort:"new",postTagId:(F=Y.result)==null?void 0:F.id,newPosts:(M==null?void 0:M.slug)===n?M.posts:null,source:"tag-archive"})))))}var oK=Object.defineProperty,aE=Object.getOwnPropertySymbols,iK=Object.prototype.hasOwnProperty,aK=Object.prototype.propertyIsEnumerable,sE=(n,t,r)=>t in n?oK(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Eu=(n,t)=>{for(var r in t||(t={}))iK.call(t,r)&&sE(n,r,t[r]);if(aE)for(var r of aE(t))aK.call(t,r)&&sE(n,r,t[r]);return n};const sK=1e3*60*60*24,lE="domain-redirect-time";class lK extends e.Component{constructor(t,r){super(t,r),this.state=t.initialData||{}}componentDidUpdate(t,r){var i,a,M,k;this.props.initialData&&JSON.stringify(this.props.initialData)!==JSON.stringify(this.state)&&this.setState(Eu({},this.props.initialData));const F=(a=(i=this.state.pub)==null?void 0:i.theme)==null?void 0:a.web_bg_color,B=document.documentElement;B&&F&&((k=(M=r==null?void 0:r.pub)==null?void 0:M.theme)==null?void 0:k.web_bg_color)!==F&&(B.style.background=F)}componentDidMount(){var t,r,i,a;const M=(a=(i=(r=(t=this.props)==null?void 0:t.initialData)==null?void 0:r.pub)==null?void 0:i.theme)==null?void 0:a.web_bg_color,k=document.documentElement;k&&M&&(k.style.background=M);const F=this.loadedWithLikelyLoggedInParam()?"param":null;F&&!this.shouldBlockLoginRedirect()?this.attemptLoginRedirect({source:F}):this.useIframe()&&window.addEventListener("message",B=>this.handleFrameMessage(B))}shouldBlockLoginRedirect(){var t;const r=parseInt((0,Ai.mM)(lE,0));return this.state.block_auto_login||!((t=this.state.pub)!=null&&t.custom_domain)||this.state.user||typeof window=="undefined"||Date.now()-r<=sK||(0,p.parseQuery)(window.location.toString()).hasOwnProperty("triedSigningIn")}handleFrameMessage(t){var r,i,a;if(((r=t.data)==null?void 0:r.type)!=="frame-state")return;const M=!this.shouldBlockLoginRedirect()&&((i=t.data)==null?void 0:i.loggedInAtSubstack);(0,C.j)(C.FP.FRAME_MESSAGE_HANDLED,{loggedInAtSubstack:(a=t.data)==null?void 0:a.loggedInAtSubstack,loggedInAtCustomDomain:!!this.state.user,attemptRedirect:M}),M&&this.attemptLoginRedirect({source:"cookie"})}attemptLoginRedirect({source:t}={}){(0,C.j)(C.FP.CUSTOM_DOMAIN_LOGIN_REDIRECT_ATTEMPTED,{fromParam:t==="param",source:t}),(0,Ai.ex)(lE,`${Date.now()}`),location.href=(0,O.getLoginRedirect)({justTrying:!0,useOriginalUrl:!0})}loadedWithLikelyLoggedInParam(){return typeof window!="undefined"&&window._preloads.original_url&&!!(0,p.parseQuery)(window._preloads.original_url).hasOwnProperty("lli")}useIframe(){var t,r;return!(typeof window=="undefined"||this.loadedWithLikelyLoggedInParam()||!((t=this.state.pub)!=null&&t.custom_domain)||(0,p.urlIsRegularlyShownInIframe)((r=window==null?void 0:window.location)==null?void 0:r.href))}render({coupon:t},{pub:r,section:i,user:a,userProfile:M,freeSignup:k,freeSignupEmail:F,posts:B,post:Y,truncatedPost:ge,pinnedPosts:Ce,newPosts:Se,topPosts:Ue,contentBlocks:Ye,communityPosts:Ve,communityAction:at,searchPosts:pt,contentBlockSectionsById:gt,contentBlockPostTagsById:xt,contributors:Nt,postsByGroupId:Tt,postsBySectionId:Ut,postsByTagId:qt,inlineComments:rn,latestChildPosts:ln,latestSectionPosts:yn,subscribeContent:In,homepageLinks:En,recommendations:Yn,numRecommendations:kn,allSubscribedPubs:bn,fullySubscribedPubs:er,sitemapHeader:rr,sitemapDescription:Vn,sitemapLinks:ar,referralCode:Jn,hide_intro_popup:Qn,post_reaction_token:Ln,stripe_publishable_key:qn,viral_gift_data:Pn,campaign:Xn,referralCampaign:Gt,file:lr,primaryEligiblePublications:Tn,flagged_as_spam:cr,switchAccountRedirectUrl:Er,readerIsSearchCrawler:Gr,commentId:or,selectionFromQuery:Fr,siteConfigs:fr={},blurbs:_r,noBalanceHeroText:lo,embeddedPublications:Kr,themeVariables:zr,subdomainNotFound:Ci,freeTrialCoupon:Ho,signupForFreeVariant:ha,people:Vi,useNewSubscribePage:di,idToMagicLink:to,token:qo,podcast_rss_url:wu,publicationSettings:Ia,pledgePlans:ea,isChatActive:Cu,isMeetingsActive:Ns,optOutLegacyTheming:ih,meetingsOrder:Ou,meetingsSettings:Su,appModalOpenByDefault:fo,twitterCardUrl:Po,tagPagePreloads:Go,initialComments:oi,bannedFromNotes:Zo,intro_text:Ea,crossPostedPub:xa,crossPostingByLine:as,userWithCrossPostedPubContext:gl,crossPostedPublicationSettings:ma,crossPostedSiteConfig:wa,launchWelcomePage:Rs}){var Tu;const Iu=g()(this.state.comments)?this.state.comments:[];if(Ci)return(0,e.h)(WH,{subdomain:Ci});if(cr&&!(a!=null&&a.is_global_admin))return(0,e.h)("div",{className:"page typography signup-page",path:"/flagged"},(0,O.setMetaData)({title:"Flagged as TOS violation"}),(0,e.h)("div",{className:"container"},(0,e.h)("h2",null,"Publication Not Available"),(0,e.h)("p",null,"The page you are attempting to access is unavailable."," ",(0,e.h)("a",{href:`${(0,p.getBaseUrl)()}`,native:!0},"Click here")," ","to view some more great writing."),(0,e.h)("p",null,(0,e.h)("a",{href:(0,p.getBaseUrl)(),className:"button primary"},"Go to substack.com"))));const bd=!!(r!=null&&r.theme&&!ih),fK=(0,v.getCurrentUrl)().startsWith("/chat"),{iString:ss,iTemplate:ls}=I18N.i(this.state.language);return(0,e.h)(TC,{pub:r,user:a,siteConfigs:fr,hasThemedBackground:bd,language:this.state.language,country:this.state.country,experimentInfo:this.props.initialData,publicationSettings:Ia},(0,e.h)(IN,{publication:r,twitterCardUrl:Po}),(0,e.h)(uK,{user:a}),(0,e.h)(cK,{user:a,pub:r}),(0,e.h)(dK,null),(0,e.h)("div",{className:l()("main typography",{"use-theme-bg":bd,"should-flex":fK}),id:"main"},this.useIframe()&&(0,e.h)("iframe",{src:`${(0,p.getSubstackUrl)()}/channel-frame`,className:"channel-frame",width:"0",height:"0"}),(0,e.h)(E.qE,{path:"/"},({path:Bo})=>{var uE,cE;let ta="/home";/^\/about\b/.test(Bo)?ta="/about":/^\/notes\b/.test(Bo)?ta="/notes":/^\/leaderboard\b/.test(Bo)?ta="/leaderboard":/^\/chat\b/.test(Bo)?ta="/chat":/^\/podcast\b/.test(Bo)?ta="/podcast":/^\/archive\b/.test(Bo)?ta="/archive":/^\/newsletters\b/.test(Bo)?ta="/newsletters":/^\/recommendations\b/.test(Bo)?ta="/recommendations":/^\/listen\b/.test(Bo)?ta="/listen":i?ta=i.id:/^\/p\//.test(Bo)?ta=((uE=/^\/p\/([^/?#]+)/.exec(Bo))==null?void 0:uE[0])||"/p":/^\/t\//.test(Bo)&&(ta=((cE=/^\/t\/([^/?#]+)/.exec(Bo))==null?void 0:cE[0])||"/p");let xu;typeof window!="undefined"&&window.location.search&&(xu=(0,p.parseQuery)(window.location.search));const dE=/^\/p\/([^/?#]*)/.exec(Bo),fE=dE&&!((Y==null?void 0:Y.type)==="page"&&Y.slug===dE[1]),pE=Bo.startsWith("/subscribe")||Bo.startsWith("/finish-invite")||Bo.startsWith("/meetings"),pK=Bo.startsWith("/chat/posts/");return i?(0,e.h)(Hu,{pub:r,user:a,freeSignup:k,freeSignupEmail:F,hide_subscribe_cta:Bo.startsWith("/subscribe"),selectedSectionId:ta,isPostView:fE,showCustomerSupportModeModal:!!(xu!=null&&xu.showCustomerSupportModeModal),lowChrome:pE,numRecommendations:kn,isChatActive:Cu,isMeetingsActive:Ns,signupForFreeVariant:ha}):!["welcome","embed","meetings"].some(hK=>Bo.startsWith(`/${hK}`))&&!(Bo.startsWith("/subscribe")&&(di||ea))&&(0,e.h)(Hu,{pub:r,user:a,freeSignup:k,freeSignupEmail:F,hide_subscribe_cta:Bo.startsWith("/subscribe"),isPostView:fE,selectedSectionId:ta,showCustomerSupportModeModal:!!(xu!=null&&xu.showCustomerSupportModeModal),lowChrome:pE,numRecommendations:kn,isChatActive:Cu,isMeetingsActive:Ns,signupForFreeVariant:ha,hideSections:pK})}),(0,e.h)(ms.g1,{pub:r,user:a}),(0,e.h)(v.Router,{onChange:VC},["newspaper","magaziney"].includes(r.homepage_type)?(0,e.h)(kW,{path:"/",blurbs:_r,bodyPostGroups:(Tu=r.theme)==null?void 0:Tu.body_post_groups,contentBlocks:Ye!=null?Ye:[],freeSignup:k,freeSignupEmail:F,hide_intro_popup:Qn,homepageLinks:En,contentBlockSectionsById:gt!=null?gt:{},contentBlockPostTagsById:xt!=null?xt:{},contributors:Nt,latestChildPosts:ln,latestSectionPosts:yn,newPosts:Se,noBalanceHeroText:lo,numRecommendations:kn,pinnedPosts:Ce,postsByGroupId:Tt,postsBySectionId:Ut,postsByTagId:qt,pub:r,recommendations:Yn,referralCampaign:Gt,referralCode:Jn,topPosts:Ue,user:a,launchWelcomePage:Rs}):(0,e.h)(kb,{path:"/",user:a,freeSignupEmail:F,freeSignup:k,hide_intro_popup:Qn,preloadedPosts:B,pub:r,blurbs:_r,noBalanceHeroText:lo,launchWelcomePage:Rs}),(0,e.h)(Jp,{path:"/listen/:sectionSlug",blurbs:_r,user:a,freeSignupEmail:F,freeSignup:k,hide_intro_popup:Qn,pub:r,pinnedPosts:Ce,newPosts:Se,latestChildPosts:ln,latestSectionPosts:yn,section:r.section,referralCampaign:Gt,isPodcast:!0,launchWelcomePage:Rs}),(0,e.h)(Jp,{path:"/podcast",blurbs:_r,user:a,freeSignupEmail:F,freeSignup:k,hide_intro_popup:Qn,pub:r,pinnedPosts:Ce,newPosts:Se,latestChildPosts:ln,latestSectionPosts:yn,recommendations:Yn,numRecommendations:kn,referralCampaign:Gt,isPodcast:!0,includePinnedPosts:!0,launchWelcomePage:Rs}),(0,e.h)(fu,{path:"/podcast/archive",blurbs:_r,user:a,newPosts:Se,topPosts:Ue,communityPosts:Ve,searchPosts:pt,pub:r,freeSignupEmail:F,freeSignup:k,isPodcast:!0,metadata:Eu({title:ls`Podcast Archive - ${r.name}`,description:ls`Full archive of all the episodes from ${r.name}.`},!!(pt||(0,p.getQueryItem)("search"))&&{seoProps:{noindex:!0}})}),(0,e.h)(Jp,{path:"/s/:slug",blurbs:_r,user:a,freeSignupEmail:F,freeSignup:k,hide_intro_popup:Qn,pub:r,pinnedPosts:Ce,newPosts:Se,latestChildPosts:ln,latestSectionPosts:yn,section:r.section,referralCampaign:Gt,launchWelcomePage:Rs}),(0,e.h)(fu,{path:"/archive",user:a,newPosts:Se,topPosts:Ue,communityPosts:Ve,searchPosts:pt,pub:r,freeSignupEmail:F,freeSignup:k,metadata:Eu({title:ls`Archive - ${r.name}`,description:ls`Full archive of all the posts from ${r.name}.`},!!(pt||(0,p.getQueryItem)("search"))&&{seoProps:{noindex:!0}})}),(0,e.h)(fu,{path:"/s/:slug/archive",user:a,newPosts:Se,topPosts:Ue,communityPosts:Ve,searchPosts:pt,pub:r,freeSignupEmail:F,freeSignup:k,sectionId:i==null?void 0:i.id,metadata:Eu({title:ls`Archive - ${i==null?void 0:i.name} of ${r.name}`,description:ls`Full archive of all the posts from ${i==null?void 0:i.name} of ${r.name}.`},!!(pt||(0,p.getQueryItem)("search"))&&{seoProps:{noindex:!0}})}),(0,e.h)(fu,{path:"/listen/:sectionSlug/archive/",user:a,newPosts:Se,topPosts:Ue,communityPosts:Ve,searchPosts:pt,pub:r,freeSignupEmail:F,freeSignup:k,sectionId:i==null?void 0:i.id,metadata:Eu({title:ss("Podcast Archive - %1",(0,Sl.getSectionPodcastSettings)({pub:r,section:r.section}).title),description:ls`Full archive of all the episodes from ${(0,Sl.getSectionPodcastSettings)({pub:r,section:r.section}).title}.`},!!(pt||(0,p.getQueryItem)("search"))&&{seoProps:{noindex:!0}})}),(0,e.h)(rK,{path:"/t/:slug",user:a,freeSignupEmail:F,freeSignup:k,pub:r,tagPagePreloads:Go}),(0,e.h)(fu,{default:!0,title:ss("Page not found"),user:a,newPosts:Se,topPosts:Ue,communityPosts:Ve,searchPosts:pt,pub:r,freeSignupEmail:F,freeSignup:k}),(0,e.h)(Xe,{path:"/tos",html:r.tos_content_html||ss("Terms of Service"),metadata:{title:ss("Terms of Service")}},(0,e.h)(y.xv,{translated:!0,as:"p"},"You agree to the terms of service below, and the"," ",(0,e.h)("a",{href:"https://substack.com/tos",native:!0},"Terms of Use for Substack"),", the technology provider.")),(0,e.h)(Xe,{path:"/privacy",html:r.privacy_content_html||ss("Privacy Policy"),metadata:{title:ss("Privacy Policy")}},(0,e.h)(y.xv,{translated:!0,as:"p"},"You agree to the privacy policy below, and the"," ",(0,e.h)("a",{href:(0,p.getPrivacyUrl)(),native:!0},"Privacy Policy for Substack"),", the technology provider.")),(0,e.h)(Xe,{path:"/disclosures",html:r.disclosures_content_html||ss("Disclosures"),metadata:{title:ss("Disclosures")}}),(0,e.h)(Re,{path:"/welcome",publication:r,post:null,user:a,freeSignup:k,freeSignupEmail:F,alwaysShow:!0,onHide:()=>{document.location.href="/"}}),(0,e.h)(Re,{path:"/podcast",publication:r,post:null,referralCode:Jn,user:a,freeSignup:k,freeSignupEmail:F,coupon:t,alwaysShow:!0,onHide:()=>{document.location.href="/"}}),(0,e.h)(HW,{pub:r,path:"/invite",user:a,freeSignup:k,freeSignupEmail:F}),(0,e.h)(KW,{path:"/invite-success/:id",pub:r,user:a,post:Y,freeSignup:k,freeSignupEmail:F}),(0,e.h)(VW,{path:"/invite-reject-success/:id",pub:r,user:a,post:Y}),(0,e.h)(Wp,{path:"/finish-invite/:id",pub:r,user:a,freeSignup:k,freeSignupEmail:F}),(0,e.h)(Wp,{path:"/finish-post-invite/:id",pub:r,post:Y,user:a,freeSignup:k,freeSignupEmail:F,inviteToPost:!0,primaryEligiblePublications:Tn||[],switchAccountRedirectUrl:Er}),(0,e.h)(rj,{path:"/recommendations",pub:r,user:a,recommendations:Yn,allSubscribedPubs:bn,fullySubscribedPubs:er}),(0,e.h)(oE,{path:"/sitemap",pub:r,sitemapHeader:rr,sitemapDescription:Vn,sitemapLinks:ar}),(0,e.h)(oE,{path:"/sitemap/:year",pub:r,sitemapHeader:rr,sitemapDescription:Vn,sitemapLinks:ar}),(0,e.h)(j6,{path:"/about",pub:r,user:a,freeSignup:k,freeSignupEmail:F,subscribeContent:In,people:Vi,metadata:{title:ls`About - ${r.name}`}}),(0,e.h)(rh,{path:"/p/:slug",user:a,freeSignupEmail:F,freeSignup:k,referralCode:Jn,post:Y,truncatedPost:ge,publication:r,renderedComments:Iu,inlineComments:rn,reaction_token:Ln,hide_intro_popup:Qn,stripe_publishable_key:qn,readerIsSearchCrawler:Gr,selectionFromQuery:Fr,embeddedPublications:Kr,siteConfigs:fr,freeTrialCoupon:Ho,publicationSettings:Ia,bannedFromNotes:Zo,themeVariables:zr}),(0,e.h)(iU,{path:"/cp/:post_id",user:a,freeSignupEmail:F,freeSignup:k,post:Y,publication:r,introText:Ea,crossPostedPub:xa,crossPostingByLine:as,userWithCrossPostedPubContext:gl,crossPostedPublicationSettings:ma,crossPostedSiteConfig:wa}),(0,e.h)(nK,{path:"/listen",pub:r,user:a||null,openInNewTab:!0,idToMagicLink:to}),(0,e.h)(_C,{path:"/newsletters",pub:r,user:a!=null?a:null}),(0,e.h)(QV,{path:"/p/:slug/media-assets",post:Y,publication:r,themeVariables:zr}),rn?(0,e.h)(rh,{path:"/p/:slug/comments",user:a,freeSignupEmail:F,freeSignup:k,referralCode:Jn,post:Y,truncatedPost:ge,publication:r,renderedComments:Iu,inlineComments:rn,reaction_token:Ln,hide_intro_popup:Qn,stripe_publishable_key:qn,readerIsSearchCrawler:Gr,selectionFromQuery:Fr,siteConfigs:fr,freeTrialCoupon:Ho,bannedFromNotes:Zo,themeVariables:zr}):(0,e.h)(gp,{path:"/p/:slug/comments",user:a,freeSignupEmail:F,freeSignup:k,post:Y,publication:r,post_reaction_token:Ln,commentId:or,freeTrialCoupon:Ho,initialComments:oi,bannedFromNotes:Zo}),!rn&&(0,e.h)(gp,{path:"/p/:slug/comment/:comment_id",user:a,freeSignupEmail:F,freeSignup:k,post:Y,publication:r,post_reaction_token:Ln,commentId:or,freeTrialCoupon:Ho,initialComments:oi,bannedFromNotes:Zo}),(0,e.h)(VU,{path:"/rewards/receive",pub:r,user:a,freeSignupEmail:F,viral_gift_data:Pn}),(0,e.h)(aU,{path:"/embed",pub:r,user:a,freeSignup:k,freeSignupEmail:F}),(0,e.h)(uU,{path:"/embed/test",pub:r,user:a,freeSignup:k,freeSignupEmail:F}),(0,e.h)(lU,{path:"/embed/podcast/:slug",pub:r}),(0,e.h)(dU,{path:"/embed/video/:slug",pub:r}),(0,e.h)(UU,{path:"/f/:fileId",pub:r,user:a,hide_subscribe_cta:!0,file:lr}),fr.live_events&&(0,e.h)(yl.cr,{module:"../live_events",onRequest:()=>Promise.all([Et.e(968),Et.e(829)]).then(Et.bind(Et,20829)),resolve:Bo=>Bo.LiveEventPage,path:"/live_event/:eventId/:participantType",pub:r,user:a}),(0,e.h)(Q5,{path:"/chat",publication:r,user:a}),(0,e.h)(q5,{path:"/chat/posts/:postId",publication:r,communityAction:at,user:a,appModalOpenByDefault:fo}),(0,e.h)(eT,{path:"/chat/replies/:commentId",publication:r,communityAction:at,user:a,appModalOpenByDefault:fo}),fr.meetings_v1&&(Ns||(a==null?void 0:a.is_author))&&(0,e.h)(sH,{path:"/meetings",exact:!0,pub:r,user:a,settings:Su}),fr.meetings_v1&&(Ns||(a==null?void 0:a.is_author))&&(0,e.h)(L2,{path:"/meetings/book",pub:r,user:a,stripe_publishable_key:qn,order:Ou,settings:Su}),fr.meetings_v1&&(Ou||Ns||(a==null?void 0:a.is_author))&&(0,e.h)(L2,{path:"/meetings/book/:order_id?",pub:r,user:a,stripe_publishable_key:qn,order:Ou,settings:Su}),fr.subscriber_referrals_enabled&&(0,e.h)(oH,{pub:r,user:a,freeSignupEmail:F,path:"/leaderboard"}),(0,e.h)(IC,{path:"/notes"})),(0,e.h)(E.qE,{path:"/"},({path:Bo})=>!Bo.startsWith("/welcome")&&!Bo.startsWith("/embed")&&!Bo.startsWith("/subscribe")&&!Bo.startsWith("/meetings")&&!Bo.startsWith("/chat")&&(0,e.h)(Ne,{publication:r,user:a,showIntrinioAttrib:Y&&Y.hasCashtag,path:Bo})),(0,e.h)(w,{pub:r,user:a})))}}function uK({user:n}){const t=(0,im.S)({user:n});return(0,o.d4)(()=>{const r=new URLSearchParams(location.search);if(r.get("reaction")==="\u2764"){t(),r.delete("reaction");const i=r.toString();history.replaceState({},document.title,location.pathname+(i&&`?${i}`))}},[]),null}function cK({user:n,pub:t}){return jC({user:n,pub:t}),null}function dK(){return kC(),null}(0,z.Z)(lK)})()})()});bK();})();

//# sourceMappingURL=main.b9a1eab112c508999951.bundle.js.map